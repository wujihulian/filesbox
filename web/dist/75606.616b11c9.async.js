(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[75606],{45213:function(Je){Je.exports={docmodalbox:"docmodalbox____eq2r",Transcodingmodal:"Transcodingmodal___1cAyh",selectboxx:"selectboxx___UYfsi",lazy:"lazy___2wgS9"}},73651:function(Je,ot,p){"use strict";var $t=p(20136),fe=p(55241),Rt=p(67294),ne=p(53390),rt=p(85893),ee=ut=>{var te=ut.color,Mt=ut.setColor;return(0,rt.jsx)(fe.Z,{trigger:"click",placement:"right",content:(0,rt.jsx)(ne.xS,{color:te,onChangeComplete:G=>{var Zt=G.hex;return Mt(Zt)}}),children:(0,rt.jsx)("i",{className:"colorIco",style:{background:te||"#fff"}})})};ot.Z=ee},75581:function(Je,ot,p){"use strict";p.r(ot),p.d(ot,{default:function(){return ga}});var $t=p(13062),fe=p(71230),Rt=p(89032),ne=p(15746),rt=p(77883),ee=p(85986),ut=p(66126),te=p(99177),Mt=p(22385),G=p(45777),Zt=p(54029),zt=p(79166),ja=p(57663),lt=p(71577),Sa=p(43358),Q=p(34041),ya=p(34792),Y=p(48086),o=p(11849),ba=p(47673),jt=p(4107),Ut=p(34895),Bt=p(28216),Dt=p(49101),Vt=p(36787),Yt=p(46655),Jt=p(32091),Ct=p(67294),Xt=p(5953),Ht=p.n(Xt),e=p(85893),Wt=p(67631),Gt=N=>((0,Ct.useEffect)(()=>{var h=new(Ht())({container:document.getElementById("dplayervideo"+N.sourceID+"x"+N.showIndex),lang:"zh-cn",theme:"#722ed1",volume:.7,hotkey:!1,preventClickToggle:!0,video:{url:N.previewUrl||"",type:"customHls",customType:{customHls:function(r){var x=new Wt;x.loadSource(r.src),x.attachMedia(r)}}}});window["dplayervideo"+N.sourceID+"x"+N.showIndex]=h,h.on("play",function(c){if(window["timeline"+N.showIndex]){var r;window["timeline"+N.showIndex].setTime((r=c.target)===null||r===void 0?void 0:r.currentTime),window["timeline"+N.showIndex].play({autoEnd:!0})}}),h.on("pause",function(c){window["timeline"+N.showIndex]&&window["timeline"+N.showIndex].pause()}),h.on("ended",function(c){window["timeline"+N.showIndex]&&window["timeline"+N.showIndex].pause()}),setTimeout(function(){$("#dplayervideo"+N.sourceID+"x"+N.showIndex).removeClass("dplayer-hide-controller").addClass("dplayer-hide-controller")},2e3)},[]),(0,e.jsx)("div",{onMouseDown:N.onMouseDown,id:"dplayervideo"+N.sourceID+"x"+N.showIndex})),Kt=Gt,Qt=p(91033),qt=p(51964),R=p.n(qt),_t=p(73651),Tt=p(53835),ea=p(57849),ta=p(37406),Fe=p(69847),aa=p(45213),de=p.n(aa),nt=p(30672),ia=p(38368),sa=p.n(ia),Xe=p(96486),oa=60,ce=[],Ee=[],He=N=>{var h=(0,Xe.cloneDeep)(N);ce.length>=oa&&ce.shift(),ce.push(h),Ee=[]},ra=N=>{var h=(0,Xe.cloneDeep)(N),c=(0,Xe.cloneDeep)(ce[ce.length-1]);return Ee.push(h),ce.pop(),c},la=N=>{var h=(0,Xe.cloneDeep)(N),c=(0,Xe.cloneDeep)(Ee[Ee.length-1]);return ce.push(h),Ee.pop(),c},Ft,Et;p.g.ResizeObserver=Qt.Z;var Le=new Tt.Z,na=jt.Z.TextArea,da={effect0:{id:"effect0",name:"\u6548\u679C0"}},ca={\u5B8B\u4F53:"/usr/share/fonts/simsun.ttc",\u9ED1\u4F53:"/usr/share/fonts/simhei.ttf",\u6977\u4F53:"/usr/share/fonts/simkai.ttf"},We=[{color:"",border:""},{color:"#EDEDED",border:"#333333"},{color:"#EDEDED",border:"#A20000"},{color:"#FFFFFF",border:"#FFFFFF"},{color:"#D5C4FF",border:"#D5C4FF"},{color:"#FFFFFF",border:"#D88B3A"},{color:"#EDEDED",border:"#FFFFFF"},{color:"#EDEDED",border:"#FFD090"},{color:"#EDEDED",border:"#99D97E"},{color:"#FFFFFF",border:"#FFFFFF"},{color:"#D5C4FF",border:"#D5C4FF"},{color:"#FFFFFF",border:"#D88B3A"}],ma=[{label:"\u4E24\u8FB9\u5E73\u884C\uFF08\u5DE6\u773C\u5728\u5DE6\u8FB9\uFF0C\u53F3\u773C\u5728\u53F3\u8FB9\uFF09",value:"0"},{label:"\u53CC\u773C\u4EA4\u53C9\uFF08\u53F3\u773C\u5728\u5DE6\u8FB9\uFF0C\u5DE6\u773C\u5728\u53F3\u8FB9\uFF09",value:"1"},{label:"\u4E0A\u4E0B\u6392\u5217\uFF08\u5DE6\u773C\u5728\u4E0A\u9762\uFF0C\u53F3\u773C\u5728\u4E0B\u9762\uFF09",value:"2"},{label:"\u4E0A\u4E0B\u6392\u5217\uFF08\u53F3\u773C\u5728\u4E0A\u9762\uFF0C\u5DE6\u773C\u5728\u4E0B\u9762\uFF09",value:"3"},{label:"\u4EA4\u66FF\u663E\u793A\uFF08\u5DE6\u773C\u5947\u6570\u5E27\uFF0C\u53F3\u773C\u5076\u6570\u5E27\uFF09",value:"4"},{label:"\u4EA4\u66FF\u663E\u793A\uFF08\u53F3\u773C\u773C\u5947\u6570\u5E27\uFF0C\u5DE6\u773C\u5076\u6570\u5E27\uFF09",value:"5"}],va=[{label:"\u7EA2\u84DD\u989C\u8272\uFF08\u5DE6\u773C\u7EA2\u8272\uFF0C\u53F3\u773C\u84DD\u8272\uFF09",value:"0"},{label:"\u7EA2\u7EFF\u989C\u8272\uFF08\u5DE6\u773C\u7EA2\u8272\uFF0C\u53F3\u773C\u7EFF\u8272\uFF09",value:"1"},{label:"\u7EFF\u8272\u7D2B\u7EA2\uFF08\u5DE6\u773C\u7EFF\u8272\uFF0C\u53F3\u773C\u7D2B\u7EA2\uFF09",value:"2"},{label:"\u9EC4\u84DD\u989C\u8272\uFF08\u5DE6\u773C\u9EC4\u8272\uFF0C\u53F3\u773C\u84DD\u8272\uFF09",value:"3"}],pa=["3gp","flv","mp4","avi","mov","wmv","pmg","rmvb","mpeg","mpg","rm","f4v","mkv","m4v","webm","3g2","asf","m2ts","mts","ogv","vob","mpe"],ga=(Ft=(0,Bt.$j)(N=>{var h=N.common,c=N.loading;return{common:h,loading:c,cutloading:c.effects["common/videocutImg"]||c.effects["common/videocopyAudio"]||c.effects["common/videoconvertSave"]||c.effects["common/videoSetting"]||c.effects["common/videosplitSave"]||c.effects["common/videocutSave"]}}),Ft(Et=class extends Ct.PureComponent{constructor(){super(...arguments);this.state={modelZindex:100,fullScreen:!1,getInfoLoading:!0,taskId:(0,ta.fW)(),currentTime:0,iscut:0,imglist:[],imglist1:[],imglist2:[],timemap:[],timelinew:[],scaleSplitCountmap:[],infoloading:!1,scale:0,timeType:"3",active:"0",target:null,playing:!1,lefttopH:200,mockData:[],charactersStyle:{color:"",fontFamily:"\u5B8B\u4F53",fontWeight:"",textDecoration:"",fontStyle:"",fontSize:14,"-webkitTextStroke":"",display:"inline-block",position:"absolute",whiteSpace:"pre",top:10,left:10,letterSpacing:0},videoSetting:{captionsList:[],captionsIndex:0,activeId:"action00",posterList:[],markList:[],mosaicList:[],mosaicIndex:0,proportion:"0",ratio:void 0,fps:void 0,videoFormat:void 0,shifting:1,overturnType:"0",antishake:0,volume:100,posterIndex:0,vrx:void 0,vry:void 0,characters:"",translatex:0,translatey:0,rotate:0,w:0,h:0,texttranslatex:0,texttranslatey:0,textrotate:0,textw:0,texth:0,textactive:0,marktranslatex:0,marktranslatey:0,markrotate:0,markw:0,markh:0,marktransparency:100},defaultvideoSetting:"",w:200,h:200},this.getTime=h=>{var c=(parseInt(h/60/60+"")+"").padStart(2,"0"),r=(parseInt(h/60+"")+"").padStart(2,"0"),x=(parseInt(h)%60+"").padStart(2,"0"),F=(parseInt(h%1*60)+"").padStart(2,"0");return c+":"+r+":"+x+":"+F},this.getvideoinfo=()=>{var h=this,c=this.props,r=c.dispatch,x=c.sourceID,F=c.isyz,U=c.iframeUrl,xe=U===void 0?"":U,E=c.common,q=c.path,me=q===void 0?"":q,Ge=c.yzViewData,ue=c.f,_=c.fileType,Ke=_===void 0?"":_,O=c.zipData,je=O===void 0?{}:O,ae=c.isZipModal,Pe=ae===void 0?0:ae,u=c.password,Oe=u===void 0?"":u,V=c.showIndex,ve=c.videoEditParams,Qe=ve===void 0?{}:ve,b=c.edittype,Ae=E.shareCode,B=E.showmodalList,Se=B===void 0?[]:B,ie=h.state,I=ie.taskId,$e=ie.videoSetting,ye=ie.charactersStyle,g=ie.mockData,qe=(0,nt.lw)((0,nt.Kd)());r({type:"common/getFilePreview",payload:{busType:"cloud",sourceID:x,shareCode:Ae||void 0,view:Ae?1:void 0,path:me||void 0,f:ue},callback:dt=>{var w=dt.data||{};w.length=w.length||3;var X=w.resolution||"",Re=X?X.split("*"):[320,320],St=parseInt(Re[0]),be=parseInt(Re[1]),pe=$(".timelineright").width()-10,we=$(".lefttop"+V).height(),J=Math.round(w.length/5)||1,m=Math.round(pe/5)||1,se=Math.round(w.length/2)||1,H=[],M=[],L=[],ze=1;J>=60?(H=[se,J,60,60,30,30,20,20,10,10,5,5,1,1],M=[m,m,m,m*2,m,m*2,m,m*2,m,m*2,m,m*2,m,m*2],L=[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10]):J>=30?(H=[se,J,30,30,20,20,10,10,5,5,1,1],M=[m,m,m,m*2,m,m*2,m,m*2,m,m*2,m,m*2],L=[10,10,10,10,10,10,10,10,10,10,10,10]):J>=20?(H=[se,J,20,20,10,10,5,5,1,1],M=[m,m,m,m*2,m,m*2,m,m*2,m,m*2],L=[10,10,10,10,10,10,10,10,10,10]):J>=10?(H=[se,J,10,10,5,5,1,1],M=[m,m,m,m*2,m,m*2,m,m*2,m,m*2],L=[10,10,10,10,10,10,10,10]):J>=5?(H=[se,J,5,5,1,1],M=[m,m,m,m*2,m,m*2],L=[10,10,10,10,10,10]):(H=[se,J,1,1],M=[m,m,m,m*2],L=[10,10,10,10]),h.setState({lefttopH:we,fileInfo:w,timemap:H,timelinew:M,scaleSplitCountmap:L,scale:1,w:St,h:be,mockData:[{id:"0",actions:[{id:"action00",start:0,end:w.length,effectId:"effect0"}]}],videoSetting:(0,o.Z)((0,o.Z)({},$e),{},{posterList:b=="13"?[(0,o.Z)((0,o.Z)({},w),{},{videoEditParams:Qe})]:[]}),defaultvideoSetting:JSON.stringify({mockData:[{id:"0",actions:[{id:"action00",start:0,end:w.length,effectId:"effect0"}]}],videoSetting:(0,o.Z)((0,o.Z)({},$e),{},{posterList:b=="13"?[(0,o.Z)((0,o.Z)({},w),{},{videoEditParams:Qe})]:[]}),charactersStyle:ye}),infoloading:!0},()=>{if(b=="17"){var l=(w.name||"").substring(0,(w.name||"").lastIndexOf(".")>-1?(w.name||"").lastIndexOf("."):(w.name||"").length),C=[...Se];C.push({visible:!0,type:"saveEditModal",name:qe.formatMessage({id:"common.saveFile"}),oldName:l,mask:1,okBtn:W=>{window.videosaveEdit(Qe.parentID||0,"",2,W)}}),r({type:"common/setState",payload:{showmodalList:[...C]}})}}),h.getvideoimgList({beginTime:0,endTime:24,fileName:w.fileName,pUrl:w.pUrl,timeType:"3",frame:w.frame||24,isFirst:1,length:w.length,num:24}),Le.on("setTimeByTick",l=>{var C=l.time,W=l.engine,t=C>w.length?w.length:C;h.setcurrentTimex(t)}),Le.on("afterSetTime",l=>{var C=l.time,W=l.engine,t=C>w.length?w.length:C;h.setcurrentTimex(t)}),Le.on("play",l=>{var C=l.time,W=l.engine;h.setState({playing:!0})}),Le.on("paused",l=>{var C=l.time,W=l.engine;h.setState({playing:!1})}),Le.on("ended",l=>{var C=l.time,W=l.engine;h.setState({playing:!1})})}})},this.setcurrentTimex=h=>{var c=this,r=c.state.iscut;window.currentTimex=h,$(".currentTimeeditText").text(c.getTime(window.currentTimex||0));var x=window.currentTimex>0?1:0;x!=r&&c.setState({iscut:x})},this.videocheckImgCut=()=>{var h=this,c=h.props.dispatch,r=h.state,x=r.imglist,F=r.imglist1,U=r.imglist2,xe=r.fileInfo,E=xe===void 0?{}:xe;c({type:"common/videocheckImgCut",payload:{fileName:E.fileName,pUrl:E.pUrl,length:E.length},callback:q=>{var me=q.data||!1;if(me){window.imgcutTime&&clearInterval(window.imgcutTime);for(var Ge=U.length?U[0]:"",ue=Ge.split("first_1.jpg")[0],_=[],Ke=E.length*(E.frame||24),O=120*(E.frame||24),je=0;je<Ke;je++){var ae=je+1,Pe=ae%O;_.push(ue+"frame_".concat(Math.floor(ae/O)+1,"_").concat(Pe<10?"0"+Pe:Pe,".jpg"))}h.setState({imglist1:_,getInfoLoading:!1})}}})},this.getvideoimgList=h=>{var c=this,r=this.props.dispatch,x=this.state,F=x.imglist,U=x.imglist1,xe=x.imglist2,E=x.fileInfo;r({type:"common/getvideoimgList",payload:h,callback:q=>{var me=q.data||[];c.setState({imglist2:me,getInfoLoading:!1}),window.imgcutTime=setInterval(function(){c.videocheckImgCut()},1500)}})}}componentDidMount(){var h=this,c=h.props.edittype;window.currentTimex=0,h.setState({active:c=="17"?"0":c}),h.getvideoinfo()}componentWillUnmount(){var h=this,c=h.props,r=c.showIndex,x=c.sourceID;window.imgcutTime&&clearInterval(window.imgcutTime),window["dplayervideo"+x+"x"+r]&&window["dplayervideo"+x+"x"+r].destroy()}renderTimeline(){var h=this,c=this.props,r=c.dispatch,x=c.sourceID,F=c.isyz,U=c.iframeUrl,xe=U===void 0?"":U,E=c.common,q=c.path,me=q===void 0?"":q,Ge=c.yzViewData,ue=c.f,_=c.fileType,Ke=_===void 0?"":_,O=c.zipData,je=O===void 0?{}:O,ae=c.isZipModal,Pe=ae===void 0?0:ae,u=c.password,Oe=u===void 0?"":u,V=c.showIndex,ve=c.videoEditParams,Qe=ve===void 0?{}:ve,b=this.state,Ae=b.fileInfo,B=Ae===void 0?{}:Ae,Se=b.imglist,ie=Se===void 0?[]:Se,I=b.imglist1,$e=I===void 0?[]:I,ye=b.imglist2,g=ye===void 0?[]:ye,qe=b.mockData,dt=qe===void 0?[]:qe,w=b.scale,X=b.active,Re=X===void 0?"0":X,St=b.playing,be=b.videoSetting,pe=be===void 0?{}:be,we=b.charactersStyle,J=we===void 0?{}:we,m=b.timemap,se=b.timelinew,H=b.scaleSplitCountmap,M=b.timeType,L=b.w,ze=b.h,l=pe.posterList,C=l===void 0?[]:l,W=pe.markList,t=W===void 0?[]:W,Ne=pe.activeId,Lt=j=>{for(var S=[],T=0;T<j;T++)S.push(1);return S},Ue=m[w],ge=se[w],yt=H[w],f=ge/(ge/(L/(ze/50))),Ie=w==1?g:$e,_e=Math.round((B.length||100)/Ue),z=j=>{for(var S=j.action,T=j.row,K=parseInt(S.start/60+""),oe=(S.start%60+"").padStart(2,"0"),Be=parseFloat(S.end,1),re=(parseInt(Be/60+"")+"").padStart(2,"0"),bt=(parseInt(Be)%60+"").padStart(2,"0"),wt=(Be-S.start)/Ue,s=Ie.slice(Math.ceil(S.start/B.length*Ie.length)),ke=Lt(Math.round(wt*(ge/(L/(ze/50))))),mt=s.length/ke.length,et=[],Me=[],A=0;A<ke.length;A++){var Pt=ke[A],Ze=A==0?1:A==ke.length-1?s.length-1:Math.ceil(mt*(A+1));Ze=Ze>s.length-1?s.length-1:Ze;var vt=s[Ze],he="".concat(A*f+"px"," 0px"),tt=vt?"url(".concat(""+vt,")"):"linear-gradient(#181818, #181818)";et.push(tt),Me.push(he)}var pt={image:et.join(","),position:Me.join(",")};return(0,e.jsxs)("div",{className:"effect0"+(Ne==S.id?" effectAc":""),onClick:Nt=>{(Re=="0"||Re=="1")&&(Nt.preventDefault(),pe.activeId=S.id,h.setState({videoSetting:(0,o.Z)({},pe)}))},style:{backgroundImage:pt.image,backgroundPosition:pt.position,height:50,backgroundRepeat:"no-repeat"},children:[(0,e.jsx)("div",{className:"timebox",children:(0,Fe.nH)(S.end)}),S.end!=B.length?(0,e.jsx)("div",{className:"timeBorR"}):""]},S.id)},ct=j=>{var S=j.scale,T=m[S],K=(parseInt(S/60+"")+"").padStart(2,"0"),oe=(parseInt(S)%60+"").padStart(2,"0");return(0,e.jsx)(e.Fragment,{children:"".concat(K,":").concat(oe).concat(":"+(parseInt(S%1*60)+"").padStart(2,"0"))})};return(0,e.jsx)(Tt.T,{ref:j=>window["timeline"+V]=j,engine:Le,editorData:dt,autoReRender:!1,effects:da,autoScroll:!0,gridSnap:!0,rowHeight:50,startLeft:10,dragLine:!0,scale:Ue,scaleWidth:ge,minScaleCount:_e,maxScaleCount:_e,scaleSplitCount:yt,getScaleRender:j=>(0,e.jsx)(ct,{scale:j}),onChange:j=>!1,getActionRender:(j,S)=>(0,e.jsx)(z,{action:j,row:S}),onActionResizing:j=>{var S=j.action,T=j.dir;return!1},onActionMoving:j=>{var S=j.action,T=j.dir;return!1},onClickActionOnly:(j,S)=>{var T=S.action,K=S.row,oe=S.time},onClickTimeArea:(j,S)=>{var T=j>B.length?B.length:j;h.setcurrentTimex(T),window["timeline"+V].setTime(T),window["dplayervideo"+B.sourceID+"x"+V]&&window["dplayervideo"+B.sourceID+"x"+V].seek(T)},onCursorDragEnd:j=>{var S=j>B.length?B.length:j;h.setcurrentTimex(S),window["dplayervideo"+B.sourceID+"x"+V]&&window["dplayervideo"+B.sourceID+"x"+V].seek(S)}})}render(){var h,c=this,r=this,x=r.props,F=x.dispatch,U=x.common,xe=x.open,E=x.setOpenModel,q=x.videoOption,me=x.isyz,Ge=x.iframeUrl,ue=x.iframeName,_=ue===void 0?"":ue,Ke=x.issmall,O=x.path,je=x.name,ae=x.fileType,Pe=x.isZipModal,u=x.showIndex,Oe=x.f,V=x.videoEditParams,ve=x.cutloading,Qe=U.sourceID,b=U.shareCode,Ae=U.isMobile,B=U.checkFolderParams,Se=U.showmodalList,ie=Se===void 0?[]:Se,I=this.state,$e=I.modelZindex,ye=I.fileInfo,g=ye===void 0?{}:ye,qe=I.fullScreen,dt=I.getInfoLoading,w=I.viewUrl,X=I.taskId,Re=I.psddom,St=I.currentTime,be=I.imglist,pe=be===void 0?[]:be,we=I.imglist1,J=we===void 0?[]:we,m=I.imglist2,se=m===void 0?[]:m,H=I.mockData,M=H===void 0?[]:H,L=I.scale,ze=I.active,l=ze===void 0?"0":ze,C=I.playing,W=I.videoSetting,t=W===void 0?{}:W,Ne=I.timemap,Lt=I.timeType,Ue=I.timelinew,ge=Ue===void 0?[]:Ue,yt=I.iscut,f=I.charactersStyle,Ie=I.lefttopH,_e=t.posterList,z=_e===void 0?[]:_e,ct=t.markList,j=ct===void 0?[]:ct,S=t.mosaicList,T=S===void 0?[]:S,K=t.mosaicIndex,oe=t.activeId,Be=t.captionsIndex,re=t.captionsList,bt=t.characters,wt=bt===void 0?"":bt,s=(0,nt.lw)((0,nt.Kd)()),ke=g.resolution||"",mt=ke?ke.split("*"):[320,320],et=parseInt(mt[0]),Me=parseInt(mt[1]),A=(g.name||"").substring(0,(g.name||"").lastIndexOf(".")>-1?(g.name||"").lastIndexOf("."):(g.name||"").length),Pt=()=>{var a=t.proportion;switch(a){case"0":return et/Me;case"1":return 16/9;case"2":return 4/3;case"3":return 2/1;case"4":return 9/16;case"5":return 3/4;case"6":return 1/1;default:return et/Me}},Ze=a=>{var i=!1,d=r.state.defaultvideoSetting?JSON.parse(r.state.defaultvideoSetting):{};if(!r.state.defaultvideoSetting)return!1;var n=d.videoSetting||{};if((a=="0"||a=="1")&&JSON.stringify(d.mockData)!=JSON.stringify(M)&&(i=!0),a=="2"){var v={proportion:t.proportion,w:t.w,h:t.h,translatex:t.translatex,translatey:t.translatey},y={proportion:n.proportion,w:n.w,h:n.h,translatex:n.translatex,translatey:n.translatey};JSON.stringify(v)!=JSON.stringify(y)&&(i=!0)}if(a=="3"){var D={ratio:t.ratio,fps:t.fps,videoFormat:t.videoFormat},k={ratio:n.ratio,fps:n.fps,videoFormat:n.videoFormat};JSON.stringify(D)!=JSON.stringify(k)&&(i=!0)}if(a=="4"){var De={volume:t.volume},Ce={volume:n.volume};JSON.stringify(De)!=JSON.stringify(Ce)&&(i=!0)}if(a=="5"){var P={posterList:z,posterIndex:t.posterIndex},Ve={posterList:n.posterList,posterIndex:n.posterIndex};JSON.stringify(P)!=JSON.stringify(Ve)&&(i=!0)}if(a=="6"){var Ye={markList:j},gt={markList:n.markList};JSON.stringify(Ye)!=JSON.stringify(gt)&&(i=!0)}if(a=="7"){var ht={characters:wt},It={characters:n.characters};JSON.stringify(ht)!=JSON.stringify(It)&&(i=!0)}if(a=="8"){var it={shifting:t.shifting},ft={shifting:n.shifting};JSON.stringify(it)!=JSON.stringify(ft)&&(i=!0)}if(a=="9"){var st={rotate:t.rotate},At={rotate:n.rotate};JSON.stringify(st)!=JSON.stringify(At)&&(i=!0)}if(a=="10"){var kt={overturnType:t.overturnType},xt={overturnType:n.overturnType};JSON.stringify(kt)!=JSON.stringify(xt)&&(i=!0)}if(a=="11"){var Te={antishake:t.antishake},le={antishake:n.antishake};JSON.stringify(Te)!=JSON.stringify(le)&&(i=!0)}if(a=="14"&&T.length&&(i=!0),a=="15"&&re.length&&(i=!0),a=="16"){var Z={vrx:t.vrx,vry:t.vry},ua={vrx:n.vrx,vry:n.vry};JSON.stringify(Z)!=JSON.stringify(ua)&&(i=!0)}return i},vt=()=>{var a=r.state.defaultvideoSetting?JSON.parse(r.state.defaultvideoSetting):{},i=a.videoSetting||{};if(l=="0"||l=="1"){var d=[{id:"0",actions:[{id:"action00",start:0,end:g.length,effectId:"effect0"}]}];He({mockData:[...d],videoSetting:t,charactersStyle:f}),r.setState((0,o.Z)((0,o.Z)({},r.state),{},{mockData:d}));return}l=="2"&&(t.proportion="0",t.translatex=0,t.translatey=0,t.w=0,t.h=0),l=="3"&&(t.ratio=void 0,t.fps=void 0,t.videoFormat=void 0),l=="4"&&(t.volume=100),l=="5"&&(t.posterIndex=0,t.posterList=[]),l=="6"&&(t.marktranslatex=0,t.marktranslatey=0,t.markrotate=0,t.markw=0,t.markh=0,t.marktransparency=0,t.markList=[]),l=="7"&&(t.texttranslatex=0,t.texttranslatey=0,t.textrotate=0,t.textw=0,t.texth=0,t.textactive=0,t.characters=""),l=="8"&&(t.shifting=1),l=="9"&&(t.rotate=0),l=="10"&&(t.overturnType="0"),l=="11"&&(t.antishake=0),l=="13"&&(t.posterList=i.posterList,t.posterIndex=i.posterIndex),l=="14"&&(t.mosaicList=i.mosaicList,t.mosaicIndex=0),l=="15"&&(t.captionsList=i.captionsList,t.captionsIndex=i.captionsIndex),l=="16"&&(t.vrx=i.vrx||void 0,t.vry=i.vry||void 0),He({mockData:[...M],videoSetting:t,charactersStyle:l=="7"?{color:"",fontFamily:"\u5B8B\u4F53",fontWeight:"",textDecoration:"",fontStyle:"",fontSize:14,"-webkitTextStroke":"",display:"inline-block",position:"absolute",whiteSpace:"pre",top:10,left:10,letterSpacing:0}:f}),r.setState((0,o.Z)((0,o.Z)({},r.state),{},{videoSetting:(0,o.Z)({},t),charactersStyle:l=="7"?{color:"",fontFamily:"\u5B8B\u4F53",fontWeight:"",textDecoration:"",fontStyle:"",fontSize:14,"-webkitTextStroke":"",display:"inline-block",position:"absolute",whiteSpace:"pre",top:10,left:10,letterSpacing:0}:f,target:null}))},he=(a,i,d,n)=>{var v;if(d==1){var y=window.currentTimex%1>=0?window.currentTimex%1:"";F({type:"common/videocutImg",payload:{cutTime:(0,Fe.WE)(window.currentTimex)+(y?"."+parseInt(y):""),fileName:g.fileName,pUrl:g.pUrl,taskID:X,sourceIDTo:a,name:n+".png"},callback:Z=>{Z.success?(i&&i(),Y.ZP.success(s.formatMessage({id:Z.code}))):Y.ZP.error(s.formatMessage({id:Z.code}))}});return}if(d==2){F({type:"common/videocopyAudio",payload:{fileName:g.fileName,pUrl:g.pUrl,taskID:X,sourceIDTo:a,name:n+".mp3"},callback:Z=>{Z.success?(i&&i(),Y.ZP.success(s.formatMessage({id:Z.code}))):Y.ZP.error(s.formatMessage({id:Z.code}))}});return}if(l=="12"){F({type:"common/videoconvertSave",payload:{convertSuffix:t.videoFormat||g.fileType||"mp4",fileName:g.fileName,frameRate:t.fps||g.fps||24,resolution:t.ratio||g.resolution||"1920x1080",pUrl:g.pUrl,taskID:X,sourceIDTo:a,name:(t.name||A)+"."+(t.videoFormat||g.fileType||"mp4")},callback:Z=>{Z.success?(i&&i(),Y.ZP.success(s.formatMessage({id:Z.code})),E(!1,"visible")):Y.ZP.error(s.formatMessage({id:Z.code}))}});return}if(l=="13"){for(var D=[],k=0;k<z.length;k++)D.push({fileName:z[k].fileName,pUrl:z[k].pUrl});F({type:"common/videomergeSave",payload:{convertSuffix:t.videoFormat||g.fileType||"mp4",cutList:D,resolution:t.ratio||g.resolution||"1920x1080",taskID:X,sourceIDTo:a,frameRate:t.fps||g.fps||24,name:n+"."+(t.videoFormat||g.fileType||"mp4")},callback:Z=>{Z.success?(i&&i(),Y.ZP.success(s.formatMessage({id:Z.code})),E(!1,"visible")):Y.ZP.error(s.formatMessage({id:Z.code}))}});return}if(l!="0"&&l!="1"){var De=void 0,Ce=void 0,P=Ie/Me,Ve=[],Ye=[],gt=void 0,ht=void 0;if(z.length){var It=z[t.posterIndex],it=It.videoEditParams||{};De=it.path||it.downloadUrl,Ce=it.name}if(j.length){var ft=j[0]||{};Ve=[{name:ft.fileName,url:ft.pUrl,position:"".concat(t.marktranslatex/P,":").concat(t.marktranslatey/P),scale:"".concat(t.markw/P,":").concat(t.markh/P),colorchannelmixer:"aa="+t.marktransparency/100}]}if(re.length){var st=re[t.posterIndex],At=st.videoEditParams||{};gt=st.fileName,ht=st.pUrl}t.characters&&(Ye=["fontsize=".concat(Math.round(f.fontSize/P),":fontfile=").concat(ca[f.fontFamily],":x=").concat(t.texttranslatex/P,":y=").concat(t.texttranslatey/P,":fontcolor=").concat((t.textactive>0?We[t.textactive].color:f.color?f.color:"#FFFFFF").toUpperCase(),":box=0").concat(t.textactive>0?":bordercolor="+We[t.textactive].color:"",":borderw=").concat(t.textactive>0?2:0,":text='").concat(t.characters,"'")]);var kt={convertSuffix:t.videoFormat||g.fileType||"mp4",resolution:t.ratio||g.resolution||"1920x1080",frameRate:t.fps||g.fps||24,coverImg:De,coverName:Ce,captions:gt,captionsUrl:ht,shifting:t.shifting==1?void 0:1/t.shifting,volumeShifting:t.shifting==1?void 0:t.shifting,volume:t.volume==100?void 0:t.volume/100,crop:t.w&&t.h?"".concat(t.w/P,":").concat(t.h/P,":").concat(t.translatex/P,":").concat(t.translatey/P):void 0,overturnType:t.overturnType=="0"?void 0:t.overturnType,dampingShakiness:t.antishake==0?void 0:t.antishake,rotate:t.rotate?Math.abs(t.rotate):void 0,rotateType:t.rotate?t.rotate>=0?2:1:void 0,markUrlList:Ve.length?Ve:void 0,markTextList:Ye.length?Ye:void 0,fileName:g.fileName,name:n+"."+(t.videoFormat||g.fileType||"mp4"),pUrl:g.pUrl,taskID:X,sourceIDTo:a};F({type:"common/videoSetting",payload:kt,callback:Z=>{Z.success?(i&&i(),Y.ZP.success(s.formatMessage({id:Z.code})),E(!1,"visible")):Y.ZP.error(s.formatMessage({id:Z.code}))}});return}for(var xt=[],Te=((v=M[0])===null||v===void 0?void 0:v.actions)||[],le=0;le<Te.length;le++)xt.push({beginTime:Te[le].start,duration:Te[le].end-Te[le].start,name:l=="1"?Te[le].name||A+"-\u5206\u6BB5"+(le+1)+".mp4":void 0});F({type:l=="1"?"common/videosplitSave":"common/videocutSave",payload:{cutList:xt,fileName:g.fileName,name:l=="1"?void 0:n+".mp4",pUrl:g.pUrl,taskID:X,sourceIDTo:a},callback:Z=>{Z.success?(i&&i(),Y.ZP.success(s.formatMessage({id:Z.code})),E(!1,"visible")):Y.ZP.error(s.formatMessage({id:Z.code}))}})};window.videosaveEdit=he;var tt=((h=M[0])===null||h===void 0?void 0:h.actions)||[],pt=[{label:s.formatMessage({id:"explorer.cute"}),value:"0"},{label:s.formatMessage({id:"explorer.videosplit"}),value:"1"},{label:s.formatMessage({id:"explorer.videoCropping"}),value:"2"},{label:s.formatMessage({id:"explorer.fileInfo.imageDpi"}),value:"3"},{label:s.formatMessage({id:"explorer.videovolume"}),value:"4"},{label:s.formatMessage({id:"explorer.videoposter"}),value:"5"},{label:s.formatMessage({id:"explorer.videomark"}),value:"6"},{label:s.formatMessage({id:"explorer.videotext"}),value:"7"},{label:s.formatMessage({id:"explorer.videoshifting"}),value:"8"},{label:s.formatMessage({id:"explorer.videorotate"}),value:"9"},{label:s.formatMessage({id:"explorer.videooverturn"}),value:"10"},{label:s.formatMessage({id:"explorer.videoantishake"}),value:"11"},{label:s.formatMessage({id:"explorer.videoTranscoding"}),value:"12"},{label:s.formatMessage({id:"explorer.videomerge"}),value:"13"},{label:s.formatMessage({id:"explorer.videoremove"}),value:"14"},{label:s.formatMessage({id:"explorer.videocaptions"}),value:"15"},{label:"VR",value:"16"},{label:s.formatMessage({id:"explorer.videoaudiofrequency"}),value:"17"}],Nt=a=>{r.setState({modelZindex:a})},at=function(i,d){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;i.preventDefault(),i.stopPropagation();var v=i.nativeEvent;l=="2"&&d==4?c.setState({target:$(v.target).hasClass("moveableTarget")?v.target:$(v.target).parents(".moveableTarget").length?$(v.target).parents(".moveableTarget")[0]:null,videoSetting:(0,o.Z)({},t)},()=>{c.moveable.dragStart(v)}):l=="6"&&d==1?c.setState({target:$(v.target).hasClass("moveableTarget")?v.target:$(v.target).parents(".moveableTarget").length?$(v.target).parents(".moveableTarget")[0]:null,videoSetting:(0,o.Z)({},t)},()=>{c.moveable.dragStart(v)}):l=="7"&&d==2?c.setState({target:$(v.target).hasClass("moveableTarget")?v.target:$(v.target).parents(".moveableTarget").length?$(v.target).parents(".moveableTarget")[0]:null,videoSetting:(0,o.Z)({},t)},()=>{c.moveable.dragStart(v)}):l=="14"&&d==3&&(t.mosaicIndex=n,c.setState({target:$(v.target).hasClass("moveableTarget")?v.target:$(v.target).parents(".moveableTarget").length?$(v.target).parents(".moveableTarget")[0]:null,videoSetting:(0,o.Z)({},t)},()=>{c.moveable.dragStart(v)}))},ha=[27,8,6,17,39,19,32,35,3,36,13,15,46,23,50,48,1,43],fa=[28,9,7,18,42,20,33,34,4,37,14,16,47,24,38,49,2,44],wa={0:"0.1X",5:"0.5X",10:"1X",15:"5X",20:"10X"},xa={0:"0%",100:"100%",200:"200%",300:"300%",400:"400%",500:"500%"},Na=Ie/Me,Ot=(a,i,d)=>{var n=a;return n[i]=n.splice(d,1,n[i])[0],n};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Ut.Z,{open:xe,issmall:Ke,modelZindex:$e,setOpenModel:E,setModelZindex:Nt,type:this.props.edittype=="12"?"Transcoding":"videoEditor",showIndex:u,isFull:!!Ge,title:_||je||g.name,modalresize:()=>{r.setState({lefttopH:$(".lefttop"+u).height()})},children:(0,e.jsx)("div",{className:de().docmodalbox+(this.props.edittype=="12"?" "+de().Transcodingmodal:""),children:l=="12"?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"Transcoding",children:[" ",(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"explorer.fileInfo.imageDpi"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(Q.Z,{placeholder:s.formatMessage({id:"common.select"}),style:{width:"100%"},value:t.ratio,onChange:a=>{t.ratio=a,r.setState({videoSetting:(0,o.Z)({},t)})},options:[{value:"1920x1080",label:"1080p"},{value:"1280x720",label:"720p"},{value:"720x480",label:"480p"},{value:"600x360",label:"360p"},{value:"2560x1440",label:"2k"},{value:"3840x2160",label:"4k"}]})})]}),(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"explorer.fileInfo.vedioFramex"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(Q.Z,{placeholder:s.formatMessage({id:"common.select"}),value:t.fps,style:{width:"100%"},onChange:a=>{t.fps=a,r.setState({videoSetting:(0,o.Z)({},t)})},options:[{value:"30",label:"30fps"},{value:"60",label:"60fps"},{value:"50",label:"50fps"},{value:"25",label:"25fps"},{value:"24",label:"24fps"}]})})]}),(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"common.format"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(Q.Z,{placeholder:s.formatMessage({id:"common.select"}),value:t.videoFormat,style:{width:"100%"},onChange:a=>{t.videoFormat=a,r.setState({videoSetting:(0,o.Z)({},t)})},options:[{value:"mp4",label:"MP4"},{value:"mov",label:"MOV"},{value:"3gp",label:"3GP"},{value:"flv",label:"FLV"},{value:"avi",label:"AVI"},{value:"wmv",label:"WMV"},{value:"pmg",label:"PMG"},{value:"rmvb",label:"RMVB"},{value:"mpeg",label:"MPEG"},{value:"mpg",label:"MPG"},{value:"rm",label:"RM"},{value:"f4v",label:"F4V"},{value:"mkv",label:"MKV"},{value:"m4v",label:"M4V"}]})})]}),(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"common.filenameu"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(jt.Z,{onChange:a=>{t.name=a.target.value,r.setState({videoSetting:(0,o.Z)({},t)})},value:typeof t.name=="undefined"?A:t.name||"",placeholder:s.formatMessage({id:"common.input"})})})]}),(0,e.jsxs)("div",{className:"submitbox",children:[(0,e.jsx)(lt.Z,{onClick:()=>{E(!1,"visible")},children:s.formatMessage({id:"common.cancel"})}),(0,e.jsx)(lt.Z,{onClick:()=>{he(V.parentID||0)},loading:ve,type:"primary",children:s.formatMessage({id:"common.ok"})})]})]})}):(0,e.jsxs)(e.Fragment,{children:[" ",l=="13"?"":(0,e.jsx)("div",{className:"videoEditTabs",children:pt.map((a,i)=>{if(!(a.value=="12"||a.value=="13"||a.value=="14"||a.value=="16"))return(0,e.jsx)(G.Z,{destroyTooltipOnHide:!0,title:a.label,placement:"bottom",arrow:!1,children:(0,e.jsxs)("div",{onClick:()=>{if(a.value+""=="17"){var d=[...ie];d.push({visible:!0,type:"saveEditModal",name:s.formatMessage({id:"common.saveFile"}),oldName:A,mask:1,okBtn:n=>{he(V.parentID||0,"",2,n)}}),F({type:"common/setState",payload:{showmodalList:[...d]}});return}r.setState({active:a.value+"",target:null})},className:"tabli"+(l==a.value?" active":""),children:[(0,e.jsx)(e.Fragment,{children:Ze(a.value)?(0,e.jsx)(zt.Z,{status:"success",className:"editbadge"}):""}),(0,e.jsx)("div",{className:"icon",children:(0,e.jsx)("img",{src:"/videoEditIconx/"+(l==a.value?fa[i]:ha[i])+".png"})}),l==a.value?(0,e.jsx)("div",{className:"name",children:a.label}):""]},i)})})}),(0,e.jsxs)("div",{className:"videoContent",children:[(0,e.jsxs)("div",{className:"leftbox",onMouseDown:a=>{this.setState({target:null})},children:[(0,e.jsxs)("div",{className:"lefttop"+(" lefttop"+u),children:[(0,e.jsxs)("div",{style:{height:Ie,width:Ie*Pt(),background:"#E2E2E2"},className:"videowhBox videowhBox"+u,children:[g.fileID?(0,e.jsx)("div",{style:{transform:"translate(0px, 0px) rotate(".concat(t.rotate,"deg)  ").concat(t.overturnType=="0"?"":t.overturnType=="1"?"rotateY(180deg) ":"rotateX(180deg) ")},className:" scrnebox",children:(0,e.jsx)(Kt,(0,o.Z)((0,o.Z)({},g),{},{onMouseDown:at,showIndex:u}))}):"",(0,e.jsx)("div",{onMouseDown:a=>{at(a,4)},style:{display:Ze("2")||l=="2"?"":"none",transform:"translate(".concat(t.translatex,"px, ").concat(t.translatey,"px) rotate(0deg)")},className:"moveableTarget Croppingbox"}),j.map((a,i)=>{var d=a.videoEditParams||{};return(0,e.jsx)("div",{style:{opacity:"".concat(t.marktransparency/100)},onMouseDown:n=>{at(n,1)},className:"moveableTarget markImgbox",children:(0,e.jsx)("img",{src:(0,Fe.pp)(d,1)})})}),t.characters?(0,e.jsx)("div",{style:(0,o.Z)((0,o.Z)({},f),{},{textAlign:"left",color:t.textactive>0?We[t.textactive].color:f.color?f.color:"#fff","-webkitTextStroke":t.textactive>0?"1px ".concat(We[t.textactive].border):""}),onMouseDown:a=>{at(a,2)},className:"moveableTarget",children:t.characters}):"",T.map((a,i)=>(0,e.jsx)("div",{onMouseDown:d=>{at(d,3,i)},className:"moveableTarget markImgbox",children:(0,e.jsx)("img",{src:sa()})},i))]}),(0,e.jsx)(ea.ZP,{ref:a=>{r.moveable=a},target:r.state.target,container:null,origin:!0,edge:!1,draggable:!0,throttleDrag:0,onDragStart:a=>{var i=a.target,d=a.clientX,n=a.clientY},onDrag:a=>{var i=a.target,d=a.beforeDelta,n=a.beforeDist,v=a.left,y=a.top,D=a.right,k=a.bottom,De=a.delta,Ce=a.dist,P=a.transform,Ve=a.clientX,Ye=a.clientY;i.style.transform=P},onDragEnd:a=>{var i=a.lastEvent||{},d=(i==null?void 0:i.beforeTranslate)||[];if(l=="6")t.marktranslatex=d[0]||0,t.marktranslatey=d[1]||0;else if(l=="2")t.translatex=d[0]||0,t.translatey=d[1]||0;else if(l=="7")t.texttranslatex=d[0]||0,t.texttranslatey=d[1]||0;else if(l=="14"){var n=[...T];n[K]=(0,o.Z)((0,o.Z)({},n[K]),{},{x:d[0]||0,y:d[1]||0}),t.mosaicList=n}r.setState({videoSetting:(0,o.Z)({},t)}),console.log("onDragEnd",a)},keepRatio:!0,resizable:!0,throttleResize:0,onResizeStart:a=>{var i=a.target,d=a.clientX,n=a.clientY},onResize:a=>{console.log("onResize",a);var i=a.delta||[];i[0]&&(a.target.style.width="".concat(a.width,"px")),i[1]&&(a.target.style.height="".concat(a.height,"px"))},onResizeEnd:a=>{var i=a.lastEvent||{};if(l=="6")t.markw=i.width||0,t.markh=i.height||0;else if(l=="2")t.w=i.width||0,t.h=i.height||0;else if(l=="7")t.textw=i.width||0,t.texth=i.height||0;else if(l=="14"){var d=[...T];d[K]=(0,o.Z)((0,o.Z)({},d[K]),{},{w:i.width||0,h:i.height||0}),t.mosaicList=d}r.setState({videoSetting:(0,o.Z)({},t)}),console.log("onResizeEnd",a)},scalable:!0,throttleScale:0,onScaleStart:a=>{var i=a.target,d=a.clientX,n=a.clientY},onScale:a=>{var i=a.target,d=a.scale,n=a.dist,v=a.delta,y=a.transform,D=a.clientX,k=a.clientY;i.style.transform=y},onScaleEnd:a=>{console.log("onScaleEnd",a)},rotatable:!(l=="6"||l=="7"||l=="14"||l=="2"),throttleRotate:0,onRotateStart:a=>{var i=a.target,d=a.clientX,n=a.clientY},onRotate:a=>{var i=a.target,d=a.delta,n=a.dist,v=a.transform,y=a.clientX,D=a.clientY;i.style.transform=v},onRotateEnd:a=>{var i=a.lastEvent||{};if(l=="6")t.markrotate=i.rotate||0;else if(l=="2")t.rotate=i.rotate||0;else if(l=="7")t.textrotate=i.rotate||0;else if(l=="14"){var d=[...T];d[K]=(0,o.Z)((0,o.Z)({},d[K]),{},{rotate:i.rotate||0}),t.mosaicList=d}r.setState({videoSetting:(0,o.Z)({},t)}),console.log("onRotateEnd",a)},pinchable:!0,onPinchStart:a=>{var i=a.target,d=a.clientX,n=a.clientY,v=a.datas},onPinch:a=>{var i=a.target,d=a.clientX,n=a.clientY,v=a.datas},onPinchEnd:a=>{console.log("onPinchEnd",a)}})]}),(0,e.jsxs)("div",{className:"action",children:[l=="13"?"":(0,e.jsxs)(e.Fragment,{children:[" ",ce.length&&!C?(0,e.jsx)(G.Z,{destroyTooltipOnHide:!0,title:s.formatMessage({id:"explorer.editor.undo"}),placement:"bottom",arrow:!1,children:(0,e.jsx)("div",{onClick:()=>{window["timeline"+u]&&window["timeline"+u].pause(),window["dplayervideo"+g.sourceID+"x"+u]&&window["dplayervideo"+g.sourceID+"x"+u].pause();var a=ra({mockData:[...M],videoSetting:t});r.setState((0,o.Z)((0,o.Z)({},this.state),a))},className:"undo actionli"})}):(0,e.jsx)("div",{className:"noundo actionli"}),Ee.length&&!C?(0,e.jsx)(G.Z,{destroyTooltipOnHide:!0,title:s.formatMessage({id:"explorer.editor.redo"}),placement:"bottom",arrow:!1,children:(0,e.jsx)("div",{onClick:()=>{window["timeline"+u]&&window["timeline"+u].pause(),window["dplayervideo"+g.sourceID+"x"+u]&&window["dplayervideo"+g.sourceID+"x"+u].pause();var a=la({mockData:[...M],videoSetting:t});r.setState((0,o.Z)((0,o.Z)({},this.state),a))},className:"redo actionli"})}):(0,e.jsx)("div",{className:"noredo actionli"}),l=="0"||l=="1"?(0,e.jsxs)(e.Fragment,{children:[" ",yt&&!C?(0,e.jsx)(G.Z,{destroyTooltipOnHide:!0,title:s.formatMessage({id:"common.videocut"}),placement:"bottom",arrow:!1,children:(0,e.jsx)("div",{className:"cut actionli",onClick:()=>{var a=[...M],i=[],d=a[0],n=window["timeline"+u].getTime(),v=d.actions||[],y=v.findIndex(P=>P.start==window.currentTimex||P.end==window.currentTimex);if(y>-1){Y.ZP.error(s.formatMessage({id:"common.timeiscut"}));return}He({mockData:[...M],videoSetting:t,charactersStyle:f});for(var D=0;D<v.length;D++){var k=v[D];if(k.start<n&&k.end>n){var De=(0,o.Z)((0,o.Z)({},k),{},{end:n,id:"actionold"+D}),Ce=(0,o.Z)((0,o.Z)({},k),{},{start:n,id:"actionnew"+D});i.push(De),i.push(Ce)}else i.push(k)}a[0]=(0,o.Z)((0,o.Z)({},a[0]),{},{actions:[...i]}),t.activeId=i[0].id,r.setState({mockData:[...a],videoSetting:(0,o.Z)({},t)})}})}):(0,e.jsx)("div",{className:"nocut actionli"}),oe&&tt.length>1&&!C?(0,e.jsx)(G.Z,{destroyTooltipOnHide:!0,title:s.formatMessage({id:"common.delete"}),placement:"bottom",arrow:!1,children:(0,e.jsx)("div",{onClick:()=>{var a=[...M],i=a[0],d=window["timeline"+u].getTime(),n=i.actions||[],v=n.findIndex((y,D)=>y.id==oe);n.splice(v,1),a[0]=(0,o.Z)((0,o.Z)({},a[0]),{},{actions:[...n]}),t.activeId=n[0].id,r.setState({mockData:[...a],videoSetting:(0,o.Z)({},t)})},className:"remove actionli"})}):(0,e.jsx)("div",{className:"remove noremove actionli"})]}):""]}),(0,e.jsxs)("div",{className:"timebox",children:[(0,e.jsx)("div",{className:"timexxx"}),(0,e.jsxs)("div",{className:"time",children:[(0,e.jsx)("span",{className:"currentTimeeditText",children:r.getTime(window.currentTimex||0)})," ","/ ",(0,e.jsx)("span",{children:r.getTime(g.length||0)})]}),C?(0,e.jsx)(G.Z,{destroyTooltipOnHide:!0,title:s.formatMessage({id:"common.stop"}),placement:"bottom",arrow:!1,children:(0,e.jsx)("div",{onClick:()=>{window["dplayervideo"+g.sourceID+"x"+u]&&window["dplayervideo"+g.sourceID+"x"+u].toggle()},className:"paused actionli"})}):(0,e.jsx)(G.Z,{destroyTooltipOnHide:!0,title:s.formatMessage({id:"explorer.fileInfo.videoplay"}),placement:"bottom",arrow:!1,children:(0,e.jsx)("div",{onClick:()=>{window["dplayervideo"+g.sourceID+"x"+u]&&window["dplayervideo"+g.sourceID+"x"+u].toggle()},className:"play actionli"})}),(0,e.jsx)(G.Z,{destroyTooltipOnHide:!0,title:s.formatMessage({id:"explorer.fullScreen"}),placement:"bottom",arrow:!1,children:(0,e.jsx)("div",{onClick:()=>{window["dplayervideo"+g.sourceID+"x"+u]&&window["dplayervideo"+g.sourceID+"x"+u].fullScreen.request("browser")},className:"full actionli"})}),l=="13"?"":(0,e.jsx)(G.Z,{destroyTooltipOnHide:!0,title:s.formatMessage({id:"common.photograph"}),placement:"bottom",arrow:!1,children:(0,e.jsx)("div",{onClick:()=>{var a=[...ie];a.push({visible:!0,type:"saveEditModal",name:s.formatMessage({id:"common.saveFile"}),oldName:A,mask:1,okBtn:i=>{he(V.parentID||0,"",1,i)}}),F({type:"common/setState",payload:{showmodalList:[...a]}})},className:"photograph actionli"})}),(0,e.jsx)("div",{className:"fullxxx"})]}),(0,e.jsx)("div",{className:"scalebox",children:l=="13"?"":(0,e.jsxs)(e.Fragment,{children:[" ",(0,e.jsx)("div",{onClick:()=>{var a=L>0?L-1:L;r.setState({scale:a},()=>{var i=Ne[a],d=ge[a],n=window.currentTimex/i*d;window["timeline"+u].setScrollLeft(n)})},className:"reduce actionli"})," ",(0,e.jsx)(te.Z,{min:0,style:{width:100},tooltip:{open:!1},max:Ne.length-1,value:L,onChange:a=>{var i=a;r.setState({scale:i},()=>{var d=Ne[i],n=ge[i],v=window.currentTimex/d*n;window["timeline"+u].setScrollLeft(v)})}})," ",(0,e.jsx)("div",{onClick:()=>{var a=L<Ne.length-1?L+1:L;r.setState({scale:a},()=>{var i=Ne[a],d=ge[a],n=window.currentTimex/i*d;window["timeline"+u].setScrollLeft(n)})},className:"add actionli"})]})})]})]}),(0,e.jsxs)("div",{className:"right",children:[l=="0"?(0,e.jsx)("div",{className:"rightActionbox cutbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"cutlabel",children:s.formatMessage({id:"explorer.cute"})})," ",tt.map((a,i)=>(0,e.jsxs)("div",{onClick:()=>{t.activeId=a.id,r.setState({videoSetting:(0,o.Z)({},t)})},className:"cutli"+(oe==a.id?" acLi":""),children:[(0,e.jsxs)("div",{className:"name",children:[s.formatMessage({id:"explorer.segment"}),i+1," "]}),(0,e.jsx)("div",{className:"time",children:r.getTime(a.end||0)}),C&&M.length<=1?"":(0,e.jsx)("div",{onClick:()=>{var d=[...M],n=d[0],v=window["timeline"+u].getTime(),y=n.actions||[];y.splice(i,1),d[0]=(0,o.Z)((0,o.Z)({},d[0]),{},{actions:[...y]}),t.activeId=y[0].id,r.setState({mockData:[...d],videoSetting:(0,o.Z)({},t)})},className:"remove",children:(0,e.jsx)("img",{src:"/videoEditIconx/61.png"})})]},i))]})}):"",l=="14"?(0,e.jsx)("div",{className:"rightActionbox cutbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"cutlabel",children:s.formatMessage({id:"explorer.videoremove"})})," ",(0,e.jsx)("div",{className:"watermarkbox",children:(0,e.jsx)("div",{className:"top",children:(0,e.jsx)("div",{onClick:()=>{var a=[...T];a.push({x:0,y:0,rotate:0,w:0,h:0}),t.mosaicList=a,r.setState({videoSetting:(0,o.Z)({},t),target:null})},className:"watermarkbtn mosaic"})})}),T.map((a,i)=>(0,e.jsxs)("div",{onClick:()=>{},className:"cutli"+(K==i?" acLi":""),children:[(0,e.jsxs)("div",{className:"name",children:[s.formatMessage({id:"explorer.region"}),i+1]}),(0,e.jsx)("div",{className:"time"}),(0,e.jsx)("div",{onClick:()=>{var d=[...T];d.splice(i,1),t.mosaicList=d,r.setState({videoSetting:(0,o.Z)({},t),target:null})},className:"remove",children:(0,e.jsx)("img",{src:"/videoEditIconx/61.png"})})]},i))]})}):"",l=="15"?(0,e.jsx)("div",{className:"rightActionbox cutbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"cutlabel",children:s.formatMessage({id:"explorer.videocaptions"})})," ",(0,e.jsx)("div",{className:"watermarkbox",children:(0,e.jsxs)("div",{className:"top",children:[" ",(0,e.jsx)("div",{onClick:()=>{window.fileBoxApi.fileSelect({title:s.formatMessage({id:"common.fileselection"}),type:"file",single:!0,allowExt:"srt",callback:function(i){var d=i.data||{},n=d.selectItems||[],v=n[0];F({type:"common/getFilePreview",payload:{busType:"cloud",sourceID:v.sourceID,shareCode:b||void 0,view:b?1:void 0,path:O||void 0,f:Oe},callback:y=>{var D=y.data||{},k=[...re];k.push((0,o.Z)((0,o.Z)({},D),{},{videoEditParams:v})),t.captionsList=k,r.setState({videoSetting:(0,o.Z)({},t)})}})}})},className:"watermarkbtn captions"}),(0,e.jsx)("div",{onClick:()=>{if(re.length){var a=[...re];a.splice(Be,1),t.captionsList=a,r.setState({videoSetting:(0,o.Z)({},t)})}},className:"watermarkremove captionsremove"})]})}),re.map((a,i)=>(0,e.jsxs)("div",{onClick:()=>{t.captionsIndex=i,r.setState({videoSetting:(0,o.Z)({},t)})},className:"cutlicaption cutli"+(Be==i?" acLi":""),children:[(0,e.jsx)("div",{className:"name",children:a.name}),(0,e.jsx)("div",{onClick:()=>{var d=[...re];d.splice(i,1),t.captionsList=d,t.captionsIndex=0,r.setState({videoSetting:(0,o.Z)({},t)})},className:"remove",children:(0,e.jsx)("img",{src:"/videoEditIconx/61.png"})})]},i))]})}):"",l=="1"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"splitlabel",children:s.formatMessage({id:"explorer.videosplit"})})," ",tt.map((a,i)=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{onClick:()=>{t.activeId=a.id,r.setState({videoSetting:(0,o.Z)({},t)})},className:"splitli"+(oe==a.id?" acLi":""),children:[(0,e.jsxs)("div",{className:"top",children:[(0,e.jsxs)("div",{className:"name",children:[s.formatMessage({id:"explorer.segment"}),i+1," "]}),(0,e.jsx)("div",{className:"time",children:r.getTime(a.end||0)}),C&&M.length<=1?"":(0,e.jsx)("div",{onClick:()=>{var d=[...M],n=d[0],v=window["timeline"+u].getTime(),y=n.actions||[];y.splice(i,1),d[0]=(0,o.Z)((0,o.Z)({},d[0]),{},{actions:[...y]}),t.activeId=y[0].id,r.setState({mockData:[...d],videoSetting:(0,o.Z)({},t)})},className:"remove",children:(0,e.jsx)("img",{src:"/videoEditIconx/61.png"})})]}),(0,e.jsx)("div",{className:"bottom",children:oe==a.id?(0,e.jsx)(jt.Z,{placeholder:s.formatMessage({id:"common.input"}),autoFocus:!0,onChange:d=>{var n=[...M],v=n[0],y=v.actions||[];y[i]=(0,o.Z)((0,o.Z)({},y[i]),{},{name:d.target.value||""}),n[0]=(0,o.Z)((0,o.Z)({},n[0]),{},{actions:[...y]}),r.setState({mockData:[...n]})},value:typeof a.name=="undefined"?A+"-"+s.formatMessage({id:"explorer.segment"})+(i+1)+".mp4":a.name||"",defaultValue:typeof a.name=="undefined"?A+"-"+s.formatMessage({id:"explorer.segment"})+(i+1)+".mp4":a.name||""}):(0,e.jsx)("span",{className:"namex",children:typeof a.name=="undefined"?A+"-"+s.formatMessage({id:"explorer.segment"})+(i+1)+".mp4":a.name||""})})]},i)}))]})}):"",l=="2"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"splitlabel",children:s.formatMessage({id:"explorer.videoCropping"})})," ",(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"common.proportion"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(Q.Z,{placeholder:s.formatMessage({id:"common.select"}),style:{width:"100%"},value:t.proportion,onChange:a=>{He({mockData:[...M],videoSetting:t,charactersStyle:f}),t.proportion=a,r.setState({videoSetting:(0,o.Z)({},t)})},options:[{value:"0",label:s.formatMessage({id:"common.original"})},{value:"1",label:(0,e.jsxs)("div",{className:de().selectboxx,children:[(0,e.jsx)("div",{className:"selecttext",children:" 16:9 "})," ",(0,e.jsx)("div",{className:"box16b9"})]})},{value:"2",label:(0,e.jsxs)("div",{className:de().selectboxx,children:[(0,e.jsx)("div",{className:"selecttext",children:" 4:3 "})," ",(0,e.jsx)("div",{className:"box4b3"})]})},{value:"3",label:(0,e.jsxs)("div",{className:de().selectboxx,children:[(0,e.jsx)("div",{className:"selecttext",children:" 2:1 "})," ",(0,e.jsx)("div",{className:"box2b1"})]})},{value:"4",label:(0,e.jsxs)("div",{className:de().selectboxx,children:[(0,e.jsx)("div",{className:"selecttext",children:" 9:16 "})," ",(0,e.jsx)("div",{className:"box9b16"})]})},{value:"5",label:(0,e.jsxs)("div",{className:de().selectboxx,children:[(0,e.jsx)("div",{className:"selecttext",children:" 3:4 "})," ",(0,e.jsx)("div",{className:"box3b4"})]})},{value:"6",label:(0,e.jsxs)("div",{className:de().selectboxx,children:[(0,e.jsx)("div",{className:"selecttext",children:" 1:1 "})," ",(0,e.jsx)("div",{className:"box1b1"})]})}]})})]})]})}):"",l=="3"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"splitlabel",children:s.formatMessage({id:"explorer.fileInfo.imageDpi"})})," ",(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"explorer.fileInfo.imageDpi"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(Q.Z,{placeholder:s.formatMessage({id:"common.select"}),style:{width:"100%"},value:t.ratio,onChange:a=>{t.ratio=a,r.setState({videoSetting:(0,o.Z)({},t)})},options:[{value:"1920x1080",label:"1080p"},{value:"1280x720",label:"720p"},{value:"720x480",label:"480p"},{value:"600x360",label:"360p"},{value:"2560x1440",label:"2k"},{value:"3840x2160",label:"4k"}]})})]}),(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"explorer.fileInfo.vedioFramex"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(Q.Z,{placeholder:s.formatMessage({id:"common.select"}),value:t.fps,style:{width:"100%"},onChange:a=>{t.fps=a,r.setState({videoSetting:(0,o.Z)({},t)})},options:[{value:"30",label:"30fps"},{value:"60",label:"60fps"},{value:"50",label:"50fps"},{value:"25",label:"25fps"},{value:"24",label:"24fps"}]})})]}),(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"common.format"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(Q.Z,{placeholder:s.formatMessage({id:"common.select"}),style:{width:"100%"},value:t.videoFormat,onChange:a=>{t.videoFormat=a,r.setState({videoSetting:(0,o.Z)({},t)})},options:[{value:"mp4",label:"MP4"},{value:"mov",label:"MOV"},{value:"3gp",label:"3GP"},{value:"flv",label:"FLV"},{value:"avi",label:"AVI"},{value:"wmv",label:"WMV"},{value:"pmg",label:"PMG"},{value:"rmvb",label:"RMVB"},{value:"mpeg",label:"MPEG"},{value:"mpg",label:"MPG"},{value:"rm",label:"RM"},{value:"f4v",label:"F4V"},{value:"mkv",label:"MKV"},{value:"m4v",label:"M4V"}]})})]})]})}):"",l=="16"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsxs)("div",{className:"splitlabel",children:["VR",s.formatMessage({id:"explorer.type.movie"})]})," ",(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"common.vrinput"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(Q.Z,{placeholder:s.formatMessage({id:"common.select"}),style:{width:"100%"},value:t.vrx,onChange:a=>{t.vrx=a,r.setState({videoSetting:(0,o.Z)({},t)})},options:ma})})]}),(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"common.vroutput"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(Q.Z,{placeholder:s.formatMessage({id:"common.select"}),value:t.vry,style:{width:"100%"},onChange:a=>{t.vry=a,r.setState({videoSetting:(0,o.Z)({},t)})},options:va})})]})]})}):"",l=="4"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"splitlabel",children:s.formatMessage({id:"explorer.videovolume"})})," ",(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"explorer.videovolume"})}),(0,e.jsxs)("div",{className:"cropright",children:[(0,e.jsx)(te.Z,{marks:xa,min:0,tooltip:{formatter:a=>a+"%"},value:t.volume,max:500,onChange:a=>{t.volume=a,r.setState({videoSetting:(0,o.Z)({},t)})}})," "]}),(0,e.jsx)("div",{className:"croprightInput",children:(0,e.jsx)(ee.Z,{onChange:a=>{t.volume=a,r.setState({videoSetting:(0,o.Z)({},t)})},value:t.volume,min:0,max:500,formatter:a=>"".concat(a,"%"),parser:a=>a.replace("%",""),placeholder:s.formatMessage({id:"common.input"})})})]})]})}):"",l=="5"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"splitlabel",children:s.formatMessage({id:"explorer.videoposter"})})," ",(0,e.jsx)("div",{className:"posterbox",children:(0,e.jsxs)(fe.Z,{gutter:24,children:[(0,e.jsxs)(ne.Z,{style:{marginBottom:12},span:12,children:[" ",(0,e.jsx)("div",{onClick:()=>{window.fileBoxApi.fileSelect({title:s.formatMessage({id:"common.fileselection"}),type:"file",single:!0,allowExt:"png,jpg,jpeg,bmp,gif,ico,webp,tiff",callback:function(i){var d=i.data||{},n=d.selectItems||[],v=n[0];F({type:"common/getFilePreview",payload:{busType:"cloud",sourceID:v.sourceID,shareCode:b||void 0,view:b?1:void 0,path:O||void 0,f:Oe},callback:y=>{var D=y.data||{},k=[...z];k.push((0,o.Z)((0,o.Z)({},D),{},{videoEditParams:v})),t.posterList=k,r.setState({videoSetting:(0,o.Z)({},t)})}})}})},className:"addposter",children:(0,e.jsxs)("div",{className:"addbox",children:[(0,e.jsx)("div",{className:"plus",children:(0,e.jsx)(Dt.Z,{})}),(0,e.jsxs)("div",{className:"plustext",children:[" ",s.formatMessage({id:"common.SelectCover"})]})]})})]}),z.map((a,i)=>{var d=a.videoEditParams||{};return(0,e.jsxs)(ne.Z,{style:{marginBottom:12},span:12,children:[" ",(0,e.jsxs)("div",{onClick:()=>{t.posterIndex=i,r.setState({videoSetting:(0,o.Z)({},t)})},className:t.posterIndex==i?"newposter posterActive":"newposter",children:[(0,e.jsx)("div",{className:"cover",children:(0,e.jsx)("img",{src:(0,Fe.pp)(d)})}),(0,e.jsx)("div",{onClick:()=>{var n=[...z];n.splice(i,1),t.posterList=n,r.setState({videoSetting:(0,o.Z)({},t)})},className:"remove"})]})]})})]})})]})}):"",l=="6"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"splitlabel",children:s.formatMessage({id:"explorer.videomark"})})," ",(0,e.jsxs)("div",{className:"watermarkbox",children:[(0,e.jsxs)("div",{className:"top",children:[(0,e.jsx)("div",{onClick:()=>{window.fileBoxApi.fileSelect({title:s.formatMessage({id:"common.fileselection"}),type:"file",single:!0,allowExt:"png,jpg,jpeg,bmp,gif,ico,webp,tiff",callback:function(i){var d=i.data||{},n=d.selectItems||[],v=n[0];F({type:"common/getFilePreview",payload:{busType:"cloud",sourceID:v.sourceID,shareCode:b||void 0,view:b?1:void 0,path:O||void 0,f:Oe},callback:y=>{var D=y.data||{},k=[...j];k.push((0,o.Z)((0,o.Z)({},D),{},{videoEditParams:v})),t.markList=k,t.markw=markw,t.markh=markh,r.setState({videoSetting:(0,o.Z)({},t)})}})}})},className:"watermarkbtn"}),(0,e.jsx)("div",{onClick:()=>{t.markList=[],r.setState({videoSetting:(0,o.Z)({},t),target:null})},className:"watermarkremove"})]}),(0,e.jsxs)("div",{className:"center",children:[(0,e.jsx)("div",{className:"watermarkLabel",children:s.formatMessage({id:"admin.setting.notransparency"})}),(0,e.jsxs)("div",{className:"watermarkSlider",children:[(0,e.jsx)(te.Z,{value:t.marktransparency,tooltip:{open:!1},onChange:a=>{t.marktransparency=a,r.setState({videoSetting:(0,o.Z)({},t)})},min:0,max:100})," "]}),(0,e.jsx)("div",{className:"watermarkInput",children:(0,e.jsx)(ee.Z,{value:t.marktransparency,onChange:a=>{t.marktransparency=a,r.setState({videoSetting:(0,o.Z)({},t)})},min:0,max:100,formatter:a=>"".concat(a,"%"),parser:a=>a.replace("%",""),placeholder:s.formatMessage({id:"common.input"})})})]}),(0,e.jsx)("div",{className:"bottom",children:(0,e.jsx)(fe.Z,{gutter:24,children:j.map((a,i)=>(0,e.jsxs)(ne.Z,{span:24,children:[" ",(0,e.jsxs)("div",{className:"newwatermark",children:[(0,e.jsx)("div",{className:"cover",children:(0,e.jsx)("img",{src:a.downloadUrl||""+a.path})}),(0,e.jsx)("div",{onClick:()=>{var d=[...j];d.splice(i,1),r.setState({videoSetting:(0,o.Z)((0,o.Z)({},t),{},{markList:[...d]})})},className:"remove"})]})]}))})})]})]})}):"",l=="7"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"splitlabel",children:s.formatMessage({id:"explorer.videotext"})})," ",(0,e.jsxs)("div",{className:"watermarkbox",children:[(0,e.jsxs)("div",{className:"top",children:[(0,e.jsx)("div",{className:"watermarkbtn characters"}),(0,e.jsx)("div",{onClick:()=>{t.characters="",r.setState({videoSetting:(0,o.Z)({},t),target:null})},className:"watermarkremove captionsremove"})]}),(0,e.jsx)("div",{className:"center",children:(0,e.jsx)(na,{placeholder:s.formatMessage({id:"common.input"}),onChange:a=>{t.characters=a.target.value,r.setState({videoSetting:(0,o.Z)({},t)})},value:t.characters})})]}),(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"explorer.editor.fontFamily"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(Q.Z,{placeholder:s.formatMessage({id:"common.select"}),style:{width:"100%"},value:f.fontFamily,onChange:a=>{f.fontFamily=a,He({mockData:[...M],videoSetting:t,charactersStyle:f}),r.setState({charactersStyle:(0,o.Z)({},f)})},options:[{value:"\u5B8B\u4F53",label:"\u5B8B\u4F53"},{value:"\u9ED1\u4F53",label:"\u9ED1\u4F53"},{value:"\u6977\u4F53",label:"\u6977\u4F53"}]})})]}),(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"explorer.secret.style"})}),(0,e.jsxs)("div",{className:"cropright",children:[(0,e.jsx)("div",{onClick:()=>{f.fontWeight=f.fontWeight=="bold"?"":"bold",r.setState({charactersStyle:(0,o.Z)({},f)})},className:f.fontWeight=="bold"?"fontbtnBold overturnactive":"fontbtnBold",children:(0,e.jsx)(Vt.Z,{})}),(0,e.jsx)("div",{onClick:()=>{f.textDecoration=f.textDecoration=="underline"?"":"underline",r.setState({charactersStyle:(0,o.Z)({},f)})},className:f.textDecoration=="underline"?"fontbtnUnderline overturnactive":"fontbtnUnderline",children:(0,e.jsx)(Yt.Z,{})}),(0,e.jsx)("div",{onClick:()=>{f.fontStyle=f.fontStyle=="italic"?"":"italic",r.setState({charactersStyle:(0,o.Z)({},f)})},className:f.fontStyle=="italic"?"fontbtnItalic overturnactive":"fontbtnItalic",children:(0,e.jsx)(Jt.Z,{})})]})]}),(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"explorer.editor.fontSize"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(ee.Z,{onChange:a=>{f.fontSize=a,r.setState({charactersStyle:(0,o.Z)({},f)})},value:f.fontSize,max:100,min:10,placeholder:s.formatMessage({id:"common.input"})})})]}),(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"admin.setting.wmColor"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(_t.Z,{color:f.color,setColor:a=>{f.color=hex,r.setState({charactersStyle:(0,o.Z)({},f)})}})})]}),(0,e.jsxs)("div",{className:"charactersBox",children:[(0,e.jsx)("div",{className:"characterslabel",children:s.formatMessage({id:"common.Presetstyles"})}),(0,e.jsx)("div",{className:"charactersContent",children:(0,e.jsx)(fe.Z,{gutter:24,children:We.map((a,i)=>(0,e.jsx)(ne.Z,{span:4,children:(0,e.jsx)("div",{onClick:()=>{t.textactive=i,r.setState({videoSetting:(0,o.Z)({},t)})},style:{color:a.color,"-webkitTextStroke":"1px ".concat(a.border)},className:"textcssli"+(i===0?" remove":"")+(t.textactive===i?" active":""),children:i===0?"":"T"})}))})}),(0,e.jsx)("div",{className:"characterslabel pl",children:s.formatMessage({id:"common.arrange"})}),(0,e.jsx)("div",{className:"charactersContent",children:(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsxs)("div",{className:"cropleft",children:[" ",s.formatMessage({id:"common.wordspace"})]}),(0,e.jsxs)("div",{className:"cropright",children:[(0,e.jsx)(te.Z,{min:0,value:f.letterSpacing,max:20,onChange:a=>{f.letterSpacing=a,r.setState({charactersStyle:(0,o.Z)({},f)})}})," "]}),(0,e.jsx)("div",{className:"croprightInput",children:(0,e.jsx)(ee.Z,{onChange:a=>{f.letterSpacing=a,r.setState({charactersStyle:(0,o.Z)({},f)})},value:f.letterSpacing,min:0,max:20,placeholder:s.formatMessage({id:"common.input"})})})]})})]})]})}):"",l=="8"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"splitlabel",children:s.formatMessage({id:"explorer.videoshifting"})})," ",(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"common.videospeed"})}),(0,e.jsxs)("div",{className:"cropright",children:[(0,e.jsx)(te.Z,{value:t.shifting,tooltip:{open:!1},step:.1,onChange:a=>{t.shifting=a,r.setState({videoSetting:(0,o.Z)({},t)})},min:.5,max:5})," "]}),(0,e.jsx)("div",{className:"croprightInput",children:(0,e.jsx)(ee.Z,{onChange:a=>{t.shifting=a,r.setState({videoSetting:(0,o.Z)({},t)})},value:t.shifting,min:.5,max:5,precision:1,placeholder:s.formatMessage({id:"common.input"})})})]})]})}):"",l=="9"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"splitlabel",children:s.formatMessage({id:"explorer.videorotate"})})," ",(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"explorer.videorotate"})}),(0,e.jsxs)("div",{className:"cropright",children:[(0,e.jsx)("div",{onClick:a=>{t.rotate=t.rotate-90,r.setState({videoSetting:(0,o.Z)({},t)})},className:"cropleftBtn",children:s.formatMessage({id:"common.TurnLeft"})}),(0,e.jsx)("div",{onClick:a=>{t.rotate=t.rotate+90,r.setState({videoSetting:(0,o.Z)({},t)})},className:"croprightBtn",children:s.formatMessage({id:"common.TurnRight"})})]})]}),(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"admin.setting.rotate"})}),(0,e.jsx)("div",{className:"cropright",children:(0,e.jsx)(ee.Z,{precision:0,onChange:a=>{t.rotate=a,r.setState({videoSetting:(0,o.Z)({},t)})},placeholder:s.formatMessage({id:"common.input"}),value:t.rotate})})]})]})}):"",l=="10"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsx)("div",{className:"splitlabel",children:s.formatMessage({id:"explorer.videooverturn"})})," ",(0,e.jsx)("div",{className:"Cropping",children:(0,e.jsxs)("div",{className:"cropright",children:[(0,e.jsx)("div",{onClick:()=>{t.overturnType=t.overturnType=="1"?"0":"1",r.setState({videoSetting:(0,o.Z)({},t)})},className:t.overturnType=="1"?"cropleftBtn sp overturnactive":"cropleftBtn sp",children:s.formatMessage({id:"common.horizontal"})}),(0,e.jsx)("div",{onClick:()=>{t.overturnType=t.overturnType=="2"?"0":"2",r.setState({videoSetting:(0,o.Z)({},t)})},className:t.overturnType=="2"?"croprightBtn cz overturnactive":"croprightBtn cz",children:s.formatMessage({id:"common.vertical"})})]})})]})}):"",l=="11"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsxs)("div",{className:"splitlabel",children:[" ",s.formatMessage({id:"explorer.videoantishake"})]})," ",(0,e.jsxs)("div",{className:"Cropping",children:[(0,e.jsx)("div",{className:"cropleft",children:s.formatMessage({id:"explorer.videoantishakelevel"})}),(0,e.jsxs)("div",{className:"cropright",children:[(0,e.jsx)(te.Z,{value:t.antishake,min:0,max:10,onChange:a=>{t.antishake=a,r.setState({videoSetting:(0,o.Z)({},t)})}})," "]}),(0,e.jsx)("div",{className:"croprightInput",children:(0,e.jsx)(ee.Z,{min:0,max:10,precision:0,value:t.antishake,onChange:a=>{t.antishake=a,r.setState({videoSetting:(0,o.Z)({},t)})},placeholder:s.formatMessage({id:"common.input"})})})]})]})}):"",l=="13"?(0,e.jsx)("div",{className:"rightActionbox splitbox",children:(0,e.jsxs)(R(),{children:[(0,e.jsxs)("div",{className:"splitlabel",children:[" ",s.formatMessage({id:"explorer.videomerge"})]})," ",(0,e.jsxs)("div",{className:"mergebox",children:[z.map((a,i)=>{var d=a.videoEditParams||{};return(0,e.jsx)(fe.Z,{gutter:24,children:(0,e.jsxs)(ne.Z,{span:24,children:[" ",(0,e.jsxs)("div",{className:t.posterIndex==i?"mergeli mergeactive":"mergeli",onClick:n=>{n.preventDefault(),n.stopPropagation(),t.posterIndex=i,g.length=a.length,r.setState({videoSetting:(0,o.Z)({},t),fileInfo:(0,o.Z)({},g)}),window["dplayervideo"+g.sourceID+"x"+u]&&(window["dplayervideo"+g.sourceID+"x"+u].pause(),window["dplayervideo"+g.sourceID+"x"+u].seek(0),window["dplayervideo"+g.sourceID+"x"+u].switchVideo({url:a.previewUrl,type:"customHls"}),r.setcurrentTimex(0))},children:[(0,e.jsxs)("div",{className:"cover",children:[(0,e.jsx)("img",{src:(0,Fe.pp)(d)}),(0,e.jsxs)("div",{className:"mergeName",children:[(0,e.jsx)("div",{className:"name",children:a.name}),(0,e.jsx)("div",{className:"time",children:(0,Fe.nH)(a.length)})]})]}),i===0?(0,e.jsx)("div",{className:"noupbtn"}):(0,e.jsx)("div",{onClick:n=>{n.preventDefault(),n.stopPropagation();var v=Ot(z,i,i-1);t.posterList=v,t.posterIndex==i&&(t.posterIndex=i-1),r.setState({videoSetting:(0,o.Z)({},t)})},className:"upbtn"}),i===z.length-1?(0,e.jsx)("div",{className:"nodownbtn"}):(0,e.jsx)("div",{onClick:n=>{n.preventDefault(),n.stopPropagation();var v=Ot(z,i,i+1);t.posterList=v,t.posterIndex==i&&(t.posterIndex=i+1),r.setState({videoSetting:(0,o.Z)({},t)})},className:"downbtn"}),(0,e.jsx)("div",{className:"remove"})]})]})},i)}),(0,e.jsx)(fe.Z,{gutter:24,children:(0,e.jsx)(ne.Z,{span:24,children:(0,e.jsx)("div",{onClick:()=>{fileBoxApi.fileSelect({title:s.formatMessage({id:"common.fileselection"}),type:"file",single:!1,allowExt:pa.join(),callback:function(i){var d=i.data||{},n=d.selectItems||[],v=n[0];F({type:"common/getFilePreview",payload:{busType:"cloud",sourceID:v.sourceID,shareCode:b||void 0,view:b?1:void 0,path:O||void 0,f:Oe},callback:y=>{var D=y.data||{},k=[...z];k.push((0,o.Z)((0,o.Z)({},D),{},{videoEditParams:v})),t.posterList=k,r.setState({videoSetting:(0,o.Z)({},t)})}})}})},className:"newmerge",children:(0,e.jsx)(Dt.Z,{})})})})]})]})}):"",(0,e.jsxs)("div",{className:"submitbox",children:[(0,e.jsx)(lt.Z,{onClick:()=>{vt()},disabled:!!C,children:s.formatMessage({id:"common.reset"})}),(0,e.jsx)(lt.Z,{onClick:()=>{if(l=="1")he(V.parentID||0);else{var a=[...ie];a.push({visible:!0,type:"saveEditModal",name:s.formatMessage({id:"common.saveFile"}),oldName:A,mask:1,okBtn:i=>{he(V.parentID||0,"","",i)}}),F({type:"common/setState",payload:{showmodalList:[...a]}})}},loading:ve,type:"primary",children:s.formatMessage({id:"common.save"})})]})]})]}),(0,e.jsx)("div",{className:"videotimelinebox",children:(0,e.jsx)("div",{className:"timelineright",style:l=="13"?{visibility:"hidden"}:{},children:l=="12"?"":r.state.infoloading?r.renderTimeline():""})})]})})})})}})||Et)},38368:function(Je){Je.exports="data:image/png;base64,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"}}]);
