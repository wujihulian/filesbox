(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[63924],{79935:function(Ee){Ee.exports={root:"root___1Llwz",colorWeak:"colorWeak___38Q-s","ant-layout":"ant-layout___1YPRb",globalSpin:"globalSpin___1VT2H","ant-table":"ant-table___1ofai","ant-table-thead":"ant-table-thead___3gi8J","ant-table-tbody":"ant-table-tbody___2_wj6",formBox:"formBox___1nnqJ",Canvas:"Canvas___1Dz02",gridLines:"gridLines___2dYRA",moveBotton:"moveBotton___WDkK1",bottomPageSize:"bottomPageSize___2iLoU",rightPageSize:"rightPageSize___1ic7f"}},77929:function(Ee){Ee.exports={root:"root___2CB70",colorWeak:"colorWeak___20egs","ant-layout":"ant-layout___29Mul",globalSpin:"globalSpin___3t2G2","ant-table":"ant-table___1_r_v","ant-table-thead":"ant-table-thead___Mxcw3","ant-table-tbody":"ant-table-tbody___1vOI0",formBox:"formBox___3qOlG",rightMenu:"rightMenu___2m18S"}},10992:function(Ee){Ee.exports={root:"root___3b2GH",colorWeak:"colorWeak___Cvk9z","ant-layout":"ant-layout___IjswQ",globalSpin:"globalSpin___J-V51","ant-table":"ant-table___2dOGd","ant-table-thead":"ant-table-thead___2AuKs","ant-table-tbody":"ant-table-tbody___36wEq",formBox:"formBox___3Ba9_",contentBox:"contentBox___1iZUI",screenViewport:"screenViewport___3HQnu",screenViewportCanvas:"screenViewportCanvas___2zhlK",screenScrollY:"screenScrollY___33Kr-",scrollBar:"scrollBar___3C330",screenScrollX:"screenScrollX___2c1PI"}},33210:function(Ee){Ee.exports={root:"root___1g3v7",colorWeak:"colorWeak___3FQgG","ant-layout":"ant-layout___3krP9",globalSpin:"globalSpin___vS4X4","ant-table":"ant-table___1_VIv","ant-table-thead":"ant-table-thead___3zJMl","ant-table-tbody":"ant-table-tbody___2ggxp",formBox:"formBox___2wdJR",fixedHeader:"fixedHeader___2KUQ2",headerStyle:"headerStyle___LtPWV"}},39592:function(Ee){Ee.exports={root:"root___1dZPg",colorWeak:"colorWeak___13Nkp","ant-layout":"ant-layout___3Wdxc",globalSpin:"globalSpin___3zIl3","ant-table":"ant-table___1cT5P","ant-table-thead":"ant-table-thead___2qfVr","ant-table-tbody":"ant-table-tbody___pnnLi",formBox:"formBox___2dWXb",leftBarBox:"leftBarBox___3kWBw",activeKey:"activeKey___1R3fN",floatBarBox:"floatBarBox___3Wq5z"}},43252:function(Ee){Ee.exports={root:"root___2Xxz-",colorWeak:"colorWeak___1Rc7v","ant-layout":"ant-layout___32waW",globalSpin:"globalSpin___r4cTW","ant-table":"ant-table___2Mkg_","ant-table-thead":"ant-table-thead___1Sfpc","ant-table-tbody":"ant-table-tbody___1rkXA",formBox:"formBox___wCmVQ",rightBarBox:"rightBarBox___1AoM6",activeKey:"activeKey___3ipYy",floatBarBox:"floatBarBox___fa3qV"}},3231:function(Ee,$e,e){"use strict";e.d($e,{Z:function(){return we}});var R=e(11849),w=e(20228),q=e(11382),V=e(67294),g=e(85893);function we(){var de={style:{textAlign:"center",borderRadius:4,marginBottom:20,padding:"30px 100px",margin:"20px 0"}};return(0,g.jsx)("div",(0,R.Z)((0,R.Z)({},de),{},{children:(0,g.jsx)(q.Z,{})}))}},54482:function(Ee,$e,e){"use strict";e.d($e,{Z:function(){return me}});var R=e(11849),w=e(67294),q=e(28216),V=e(19755),g=e.n(V),we=e(10992),de=e.n(we),je=e(20228),Oe=e(11382),Te=e(25782),ne=e(85663),U=e(79935),ve=e.n(U),k=e(41273),E=e(70138),W=e(89256),j=e(38986),i=e(7861),O=e(56173),y=e(30672),d=e(85893),f,H,L=O.vc.limitX,c=O.vc.limitY,ee=O.vc.vague,b=(f=(0,q.$j)(se=>{var n=se.globaldesign,a=se.commondesign,t=se.record,l=se.loading;return{globaldesign:n,commondesign:a,record:t,loading:l.effects["page/getDesignDetail"]}}),f(H=class extends w.Component{constructor(){super(...arguments);this.state={},this.LimitEvent=(n,a)=>{var t=n.top,l=n.left,o=a.ParentW,r=a.ParentH,s=a.StartW,v=a.StartH,p=a.childLimitX,C=p===void 0?!1:p,m=a.isNoLimit,N=a.isNoLimitX;return m?{top:t,left:l}:N?{top:r,left:l}:(c&&(t<0&&(t=0),t>r-v&&(t=r-v)),(L||C)&&s<=o&&(l<0&&(l=0),l>o-s&&(l=o-s)),{top:t,left:l})},this.changeLimit=(n,a)=>{var t=n.top,l=n.left,o=n.width,r=n.height,s=a.ParentW,v=a.ParentH,p=a.StartX,C=a.StartY,m=a.StartW,N=a.StartH,B=a.childLimitX,X=B===void 0?!1:B,ge=a.isNoLimit,te=a.isNoLimitX;return ge?{top:t,left:l,width:o,height:r}:te?{top:t,left:l,width:o,height:r}:(c&&(t<0&&(t=0,r=N+C),r>v-t&&(r=v-t,t=C)),(L||X)&&m<=s&&(l<0&&(l=0,o=p+m),o>s-l&&(o=s-l,l=p)),{top:t,left:l,width:o,height:r})},this.computeLimit=(n,a,t)=>{var l=this,o=a.scale,r=a.e,s=a.StartY,v=a.StartX,p=s+(n.pageY-r.pageY)/o,C=v+(n.pageX-r.pageX)/o,m={top:p,left:C};return l.LimitEvent(m,a,t)},this.selectDragEvent=(n,a)=>{var t=this,l=t.props.globaldesign,o=l.scale,r=l.differenceType,s=(0,W.rU)(n);s.scale=o,s.e=a,s.childLimitX=!n.parent().hasClass("topFloor"),s.isNoLimit=n.hasClass("noLimit"),s.isNoLimitX=n.hasClass("noLimitX");var v=n.hasClass("hoverConBox");if(n.hasClass("onModule")||(0,k.J$)(n,t),v)return!1;$(".resizeHandle, .resize").hide(),t.moveTime=Date.now(),t.startVague=!1,t.vagueParamCss={top:parseInt(n.css("top")),left:parseInt(n.css("left"))},(0,k.gu)(n);var p=m=>{var N=t.computeLimit(m,s,r);n.css(N),t.prevVagueParamCss=t.vagueParamCss,t.vagueParamCss=N,t.startVague||t.vagueEvent(n),t.startVague=!0,t.moveTime=Date.now(),t.vague=ee,clearTimeout(t.alignTime)},C=m=>{var N=t.vagueParamCss;n.css(N),t.startAnimation=!1,$(".horizontalLine, .verticalLine").css("opacity",0),$(".vagueModule").removeClass("vagueModule"),(0,k.gV)({type:"move",parent:n.parent(),target:n,parentSelf:t,data:N}),$(".resizeHandle, .resize").show()};(0,i.Y0)(p,C)},this.vagueEvent=n=>{var a=this,t=a.props,l=t.isMobile,o=t.globaldesign,r=o.differenceType;a.vague=ee,a.animationCount=0,a.startAnimation=!0;var s=n.parent(),v=s.find(">.module"),p=parseInt(n.css("width")),C=parseInt(n.css("height")),m=$(".verticalLine");m.width(s.width());var N=$(".horizontalLine");N.height(s.height()),m.css("left",-a.vagueParamCss.left),N.css("top",-a.vagueParamCss.top);var B=n.offset().top,X=n.height(),ge=l?100:200,te=[];v.each(he=>{var ie=v.eq(he),xe=parseInt(ie.css("top")),pe=parseInt(ie.css("height")),De=parseInt(ie.css("left")),Le=parseInt(ie.css("width"));if(!ie.hasClass("onModule")){var oe=Math.abs(xe-B)<ge||Math.abs(xe+pe-B)<ge||Math.abs(xe-(B+X))<ge||Math.abs(xe+pe-(B+X))<ge;oe&&te.push({T:parseInt(ie.css("top")),TC:parseInt(ie.css("top"))+parseInt(ie.css("height"))/2,B:parseInt(ie.css("top"))+parseInt(ie.css("height")),L:parseInt(ie.css("left")),LC:parseInt(ie.css("left"))+parseInt(ie.css("width"))/2,R:parseInt(ie.css("left"))+parseInt(ie.css("width")),element:ie})}});var ye=()=>{if(a.startVague){var he=a.vagueParamCss.top,ie=he+C/2,xe=he+C,pe=a.vagueParamCss.left,De=pe+p/2,Le=pe+p;m.css("left",-pe),N.css("top",-he);var oe={};m.css("opacity",0),N.css("opacity",0),$(".vagueModule").removeClass("vagueModule");for(var fe=a.vague,Se={top:!1,middle:!1,bottom:!1,left:!1,center:!1,right:!1},Ne=0,Ze=te.length;Ne<Ze;Ne++){var be=te[Ne],Re=!1;-fe<ie-be.TC&&ie-be.TC<fe?(oe.top=be.TC-C/2,Re=!0,Se.middle=!0):-fe<he-be.T&&he-be.T<fe?(oe.top=be.T,Re=!0,Se.top=!0):-fe<he-be.B&&he-be.B<fe?(oe.top=be.B,Re=!0,Se.top=!0):-fe<xe-be.T&&xe-be.T<fe?(oe.top=be.T-C,Re=!0,Se.bottom=!0):-fe<xe-be.B&&xe-be.B<fe?(oe.top=be.B-C,Re=!0,Se.bottom=!0):-fe<De-be.LC&&De-be.LC<fe?(oe.left=be.LC-p/2,Re=!0,Se.center=!0):-fe<pe-be.L&&pe-be.L<fe?(oe.left=be.L,Re=!0,Se.left=!0):-fe<pe-be.R&&pe-be.R<fe?(oe.left=be.R,Re=!0,Se.left=!0):-fe<Le-be.L&&Le-be.L<fe?(oe.left=be.L-p,Re=!0,Se.right=!0):-fe<Le-be.R&&Le-be.R<fe&&(oe.left=be.R-p,Re=!0,Se.right=!0),Re&&be.element.addClass("vagueModule")}Date.now()>a.moveTime+600&&(a.startVague=!1,oe.top&&(oe.top=oe.top),oe.left&&(oe.left=oe.left),n.css(oe),a.vagueParamCss=oe,a.vague=1,a.animationCount==0&&(a.animationCount=1,ye()));for(var Xe in Se)if(Se[Xe])switch(Xe){case"top":$(".vagueTop").css("opacity",1);break;case"middle":$(".vagueMiddle").css("opacity",1);break;case"bottom":$(".vagueBottom").css("opacity",1);break;case"left":$(".vagueLeft").css("opacity",1);break;case"center":$(".vagueCenter").css("opacity",1);break;case"right":$(".vagueRight").css("opacity",1);break}}a.startAnimation?window.requestAnimationFrame(ye):(a.vague=1,a.animationCount==0&&(a.animationCount=1,ye()))};window.requestAnimationFrame&&window.requestAnimationFrame(ye)},this.multipleChoiceEvent=(n,a)=>{var t=this,l=t.props.globaldesign,o=l.scale,r=l.startPageX,s=r===void 0?0:r,v=l.startPageY,p=v===void 0?0:v,C=l.pageWidth,m=l.pageHeight,N=l.endPageX,B=l.endPageY,X=(a.pageY-B-m/2*(1-o))/o,ge=(a.pageX-N-C/2*(1-o))/o;n.append('<div class="ranger" style="top: '+X+"px; left: "+ge+'px;"></div>');var te=0,ye=$("#header").height(),he=$("#mainly").height();switch(n.attr("id")){case"header":break;case"mainly":te=ye;break;case"footer":te=ye+he;break}var ie=pe=>{var De=(pe.pageY-a.pageY)/o,Le=(pe.pageX-a.pageX)/o,oe=X,fe=ge;De<0&&(oe=X+De,De=-De),Le<0&&(fe=ge+Le,Le=-Le),$(".ranger").css({top:oe-te,left:fe,height:De,width:Le,zIndex:1e3})},xe=pe=>{var De=$(".ranger"),Le=parseInt(De.css("top")),oe=parseInt(De.css("left")),fe=De.width(),Se=De.height();if($(".ranger").remove(),!fe&&!Se)return!1;var Ne=[],Ze=n.find(">.module");Ze.each(be=>{var Re=Ze.eq(be),Xe=parseInt(Re.css("left")),aa=Xe+Re.width(),Ve=parseInt(Re.css("top")),re=Ve+Re.height();oe+fe>Xe&&aa>oe&&Le+Se>Ve&&re>Le&&!Re.hasClass("lockModule")&&(0,k.J$)(Re,t,"multi")}),$("onModule").length<1&&(0,k.Vg)(t)};(0,i.Y0)(ie,xe)},this.resizeEvent=(n,a)=>{var t=this,l=t.props.globaldesign,o=l.scale,r=l.isLockRatio,s=l.differenceType,v=$(".onModule"),p=(0,R.Z)((0,R.Z)({target:n,element:v},(0,W.rU)(v)),{},{scale:o,isLockRatio:r,e:a,minWidth:parseInt(v.css("minWidth")),isNoLimit:v.hasClass("noLimit"),isNoLimitX:v.hasClass("noLimitX")});(0,k.gu)(v);var C=N=>{var B=(0,k.kd)(N,p,s);v.css(t.changeLimit(B,p))},m=N=>{(0,k.gV)({type:"move",parent:v.parent(),target:v,parentSelf:t,data:(0,k.kd)(N,p,s)})};(0,i.Y0)(C,m)},this.contextmenuEvent=n=>{var a=this,t=a.props.dispatch;t({type:"commondesign/setState",payload:{rightMenu:!0,rightMenuEvent:n}})},this.cancelContextmenu=()=>{var n=this,a=n.props,t=a.dispatch,l=a.commondesign,o=l.rightMenu,r=l.copyCase;t(r?{type:"commondesign/setState",payload:{rightMenu:!1}}:{type:"commondesign/setState",payload:{rightMenu:!1}})},this.keydownEvent=n=>{var a=this,t=$(n.target),l=a.props.globaldesign.selectElement||$(".onModule"),o=(0,W.rU)(l||$(".onModule"));if(!t.hasClass("editable")&&t.prop("tagName")!="INPUT"&&t.prop("tagName")!="TEXTAREA"&&t.attr("contenteditable")!="true"){var r={},s={},v=0,p=0;switch(n.keyCode){case 37:p=-1,r={top:o.StartY,left:o.StartX-1};break;case 38:v=-1,r={top:o.StartY-1,left:o.StartX};break;case 39:p=1,r={top:o.StartY,left:o.StartX+1};break;case 40:v=1,r={top:o.StartY+1,left:o.StartX};break;case 46:n.target.nodeName!="INPUT"&&n.target.getAttribute("contenteditable")!="true"&&n.target.nodeName!="TEXTAREA"&&((0,k.gV)({type:"remove",parentElement:l?l.parents(".module, .topFloor").eq(0):"",target:l,parentSelf:a}),n.preventDefault());break}if([37,38,39,40].indexOf(n.keyCode)>-1){if(s=a.LimitEvent(r,o),l.css(s),l.hasClass("multiModule")){var C=$(".onModule");(0,k.gu)(C,"move"),(0,k._3)(C,v,p),(0,k.gV)({type:"move",parentSelf:a})}else(0,k.gV)({type:"move",parent:l.parent(),target:l,parentSelf:a,data:s});n.preventDefault()}}if(n.ctrlKey&&t.prop("tagName")!="INPUT"&&t.prop("tagName")!="TEXTAREA"&&t.attr("contenteditable")!="true"){if(n.shiftKey)n.keyCode==90&&(0,k.J2)(a);else{if(n.keyCode==90&&(0,k.V3)(a),n.keyCode==67&&(0,k.gV)({type:"copy",parentSelf:a}),n.keyCode==88&&(0,k.gV)({type:"shear",parentSelf:a}),n.keyCode==86&&(0,k.gV)({type:"paste",parentSelf:a}),n.keyCode==65){(0,k.OS)(a);var m=$("#mainly");a.rightMenuEvent&&(m=$(a.rightMenuEvent.target));var N=m.find(">.module");N.each(B=>{var X=N.eq(B);(0,k.J$)(X,a,"multi")}),(0,k.Vg)(a)}n.keyCode==68&&(0,k.OS)(a),n.keyCode==83&&((0,j.Jq)(a,()=>{}),n.preventDefault())}n.preventDefault()}window.shiftKey=n.shiftKey,n.altKey&&$(".suspenTool").css("pointer-events","none")},this.suspendMenuEvent=n=>{var a=this,t=this.props,l=t.commondesign,o=t.dispatch,r=t.globaldesign,s=r.selectElement,v=r.differenceType,p=(0,y.lw)((0,y.Kd)()),C=s.attr("data-type"),m=s.find(">.box");switch(n){case"picture":window.fileBoxApi.fileSelect({title:p.formatMessage({id:"explorer.selectImage"}),type:"file",single:!0,allowExt:"jpg,jpeg,png",callback:function(Ae){var Be=Ae.data||{},ze=Be.selectIds.length?Be.selectItems||[]:[],We=ze[0],Pe=We!=null&&We.resolution?We==null?void 0:We.resolution.split("*"):[],Me=parseInt(Pe.length?Pe[0]:0),Fe=parseInt(Pe.length?Pe[1]:0),Je=m.find("img").length>0;if(m.attr("href")||(m.replaceWith('<div class="box">'+s.html()+"</div>"),m=s.find(">.box")),m.html('<img src="'+We.path+'">'),Je)s.css({backgroundColor:"transparent"});else if(v==2||v==4){if(Me>375){var ta=Me/Fe;Me=375,Fe=375/ta,s.css({left:0})}s.css({backgroundColor:"transparent",width:Me,height:Fe})}else s.css({backgroundColor:"transparent",width:(0,O.bf)(Me),height:(0,O.bf)(Fe)})}});break;case"href":(0,i.vZ)({Href:{visible:!0,type:"all",typex:!1,dataHref:s.attr("data-href"),callback:re=>{var Ae=(0,O.wS)(re,a),Be=Ae.url,ze=Ae.attrParam,We=Ae.removeAttrParam,Pe=Ae.boxAttrParam,Me=Ae.boxRemoveAttrParam;if(s.attr(ze),s.removeAttr(We.join(" ")),m.attr(Pe),m.removeAttr(Me.join(" ")),C=="group")Be?(s.attr("data-clickhref",Be),s.removeAttr("data-handle"),s.removeAttr("data-handleaudition"),m.attr("data-clicktarget",re.openMode)):(s.removeAttr("data-clickhref"),m.removeAttr("data-clicktarget"));else{var Fe=JSON.parse(ze["data-href"]);(Fe==null?void 0:Fe.hrefType)=="dialog"?(m.removeAttr("href"),m.removeAttr("target")):Be?(s.removeAttr("data-handle"),s.removeAttr("data-handleaudition"),m[0].tagName=="DIV"?m.replaceWith('<a class="box" href="'+Be+'" target="'+re.openMode+'">'+m.html()+"</a>"):(m.attr("href",Be),m.attr("target",re.openMode))):(m.removeAttr("href"),m.removeAttr("target"))}}}},a);break;case"menu":parseInt(s.css("zIndex"))>50||s.css("zIndex",51),(0,i.vZ)({MenuNav:{visible:!0,element:s,callback:re=>{var Ae=s.find(".menuBox");Ae.html()||(Ae.find("script").remove(),(0,E.WY)({width:Ae.outerWidth(),height:Ae.outerHeight(),body:Ae.html(),callback:Be=>{var ze=$("[data-mid="+Be.mid+"]"),We=ze.find(".menuBox");We.css({width:Be.width,height:Be.height}),We.html(Be.html),(0,k.J$)(We,a);var Pe=$("#header").height(),Me=$("#mainly").height(),Fe=ze.parents(".topFloor"),Je=parseInt(ze.css("top"));switch(Fe.attr("id")){case"header":Je=Je-100-150;break;case"mainly":Je=Je+Pe-150-150;break;case"footer":Je=Je+Pe+Me-350;break}o({type:"globaldesign/changeState",payload:{changeScrollY:(0,i.bV)(-Je,a,$("#canvasId").height())}})}},a))}}},a);break;case"menuHide":var N=s.find(".menuBox");N.find("script").remove(),(0,E.WY)({width:N.outerWidth(),height:N.outerHeight(),body:N.html(),callback:re=>{var Ae=$("[data-mid="+re.mid+"]"),Be=Ae.find(".menuBox");Be.removeClass("noLimit"),Be.hasClass("noLimitX")||Be.addClass("noLimitX"),Be.css({width:re.width,height:re.height}),Be.html(re.html),(0,k.J$)(Be,a);var ze=$("#header").height(),We=$("#mainly").height(),Pe=Ae.parents(".topFloor"),Me=parseInt(Ae.css("top"));switch(Pe.attr("id")){case"header":Me=Me-100-150;break;case"mainly":Me=Me+ze-150-150;break;case"footer":Me=Me+ze+We-350;break}o({type:"globaldesign/changeState",payload:{changeScrollY:(0,i.bV)(-Me,a,$("#canvasId").height())}})}},a);break;case"menuBox":var B=s;B.find("script").remove(),B.find(".suspenTool").remove(),B.find(".vagueLineBox").remove(),(0,E.WY)({width:B.outerWidth(),height:B.outerHeight(),body:B.html(),callback:re=>{var Ae=$("[data-mid="+re.mid+"]"),Be=Ae.parent();Ae.removeClass("noLimit"),Ae.hasClass("noLimitX")||Ae.addClass("noLimitX"),Ae.css({width:re.width,height:re.height}),Ae.html(re.html),(0,k.J$)(Ae,a);var ze=$("#header").height(),We=$("#mainly").height(),Pe=Be.parents(".topFloor"),Me=parseInt(Be.css("top"));switch(Pe.attr("id")){case"header":Me=Me-100-150;break;case"mainly":Me=Me+ze-150-150;break;case"footer":Me=Me+ze+We-350;break}o({type:"globaldesign/changeState",payload:{changeScrollY:(0,i.bV)(-Me,a,$("#canvasId").height())}})}},a);break;case"hoverConBox":var X=s.find(">.hoverConBox"),ge=s.outerWidth(),te=s.outerHeight(),ye=X.attr("data-coverDire"),he=X.attr("data-coverScale");switch(ye){case"center":ge=ge*he/100,te=te*he/100;break;case"left":ge=ge*he/100;break;case"right":ge=ge*he/100;break;case"top":te=te*he/100;break;case"bottom":te=te*he/100;break}(0,E.WY)({width:ge,height:te,body:X.html(),pageSizeHide:!0,callback:re=>{var Ae=$("[data-mid="+re.mid+"]"),Be=Ae.find(">.hoverConBox");Be.html(re.html),(0,k.J$)(Ae,a);var ze=$("#header").height(),We=$("#mainly").height(),Pe=Ae.parents(".topFloor"),Me=parseInt(Ae.css("top"));switch(Pe.attr("id")){case"header":Me=Me-100-150;break;case"mainly":Me=Me+ze-150-150;break;case"footer":Me=Me+ze+We-350;break}o({type:"globaldesign/changeState",payload:{changeScrollY:(0,i.bV)(-Me,a,$("#canvasId").height())}})}},a);break;case"tabs":(0,i.vZ)({TabsNav:{visible:!0,element:s,callback:re=>{}}},a);break;case"tabpane":for(var ie=s.find(".ant-tabs-tabpane"),xe=0,pe=ie.eq(0),De=0,Le=ie.length;De<Le;De++){var oe=ie.eq(De);oe.css("display")=="block"&&(xe=oe.attr("key"),pe=oe)}(0,E.WY)({width:pe.outerWidth(),height:pe.outerHeight(),body:pe.html(),mid:s.attr("data-mid")+"key"+xe,pageSizeHide:!0,callback:re=>{var Ae=re.mid.split("key"),Be=$("[data-mid="+Ae[0]+"]"),ze=Be.find(".ant-tabs-tabpane[key="+Ae[1]+"]");ze.css({width:re.width,height:re.height}),ze.html(re.html),(0,k.J$)(ze,a);var We=$("#header").height(),Pe=$("#mainly").height(),Me=Be.parents(".topFloor"),Fe=parseInt(Be.parents('[data-type="tabs"]').css("top"));switch(Me.attr("id")){case"header":Fe=Fe-100-150;break;case"mainly":Fe=Fe+We-150-150;break;case"footer":Fe=Fe+We+Pe-350;break}o({type:"globaldesign/changeState",payload:{changeScrollY:(0,i.bV)(-Fe,a,$("#canvasId").height())}})}},a);break;case"editor":(0,i.vZ)({Editor:{visible:!0,editCon:m.hasClass("editCon")?m.html():"",callback:re=>{re&&re!="<p></p>"?(m.css({height:"auto",width:"auto"}),m.addClass("editCon"),m.html(re),s.css({height:m.outerHeight()+10,width:m.outerWidth()}),m.css({height:"100%",width:"100%"})):(m.removeClass("editCon"),m.html("\u8BF7\u8F93\u5165\u5185\u5BB9"))}}},a);break;case"Icon":(0,i.vZ)({Iconfont:{visible:!0,iconClassName:m.find("i").attr("class").split(" ")[1],callback:re=>{m.find("i").attr("class","iconfont "+re.icon)}}},a);break;case"suspend":(0,i.vZ)({Suspend:{visible:!0,modata:s.attr("data-suspend"),element:s,callback:re=>{}}},a);break;case"rolling":(0,i.vZ)({Rolling:{visible:!0,element:s,callback:re=>{}}},a);break;case"carousel":(0,i.vZ)({Carousel:{visible:!0,element:s,callback:re=>{}}},a);break;case"time":(0,i.vZ)({Time:{visible:!0,element:s,callback:re=>{}}},a);break;case"Flash":(0,i.vZ)({Flash:{visible:!0,element:s,callback:re=>{}}},a);break;case"MP3":(0,i.vZ)({Audio:{visible:!0,element:s,callback:re=>{}}},a);break;case"iframe":(0,i.vZ)({Iframe:{visible:!0,element:s,callback:re=>{}}},a);break;case"Map":(0,i.vZ)({Maps:{visible:!0,element:s,callback:re=>{}}},a);break;case"course":(0,i.vZ)({Course:{visible:!0,element:s,callback:re=>{}}},a);break;case"courseware":(0,i.vZ)({Courseware:{visible:!0,element:s,callback:re=>{}}},a);break;case"article":(0,i.vZ)({Article:{visible:!0,element:s,callback:re=>{}}},a);break;case"shortvideo":(0,i.vZ)({ShortVideo:{visible:!0,element:s,callback:re=>{}}},a);break;case"player":(0,i.vZ)({Player:{visible:!0,element:s,callback:re=>{}}},a);break;case"qrcode":(0,i.vZ)({QRCode:{visible:!0,element:s,callback:re=>{}}},a);break;case"headerNav":(0,i.vZ)({HeaderNav:{visible:!0,element:s,callback:re=>{(0,k.OS)(a),(0,k.J$)(s,a)}}},a);break;case"footerNav":(0,i.vZ)({FooterNav:{visible:!0,element:s,callback:re=>{(0,k.OS)(a),(0,k.J$)(s,a)}}},a);break;case"magicNav":(0,i.vZ)({MagicNav:{visible:!0,element:s,callback:re=>{(0,k.OS)(a),(0,k.J$)(s,a)}}},a);break;case"tabNav":(0,i.vZ)({TabNav:{visible:!0,element:s,callback:re=>{(0,k.OS)(a),(0,k.J$)(s,a)}}},a);break;case"login":(0,i.vZ)({LoginBox:{visible:!0,element:s,callback:re=>{}}},a);break;case"registerLogin":(0,i.vZ)({RegisterLogin:{visible:!0,element:s,callback:re=>{}}},a);break;case"customer":(0,i.vZ)({Customer:{visible:!0,element:s,callback:re=>{}}},a);break;case"pageform":(0,i.vZ)({PageForm:{visible:!0,element:s,callback:re=>{}}},a);break;case"topnav":(0,i.vZ)({TopNav:{visible:!0,element:s,callback:re=>{}}},a);break;case"text":(0,i.Tl)(s,"","",n,a);break;case"button":(0,i.Tl)(s,!0,"",n,a);break;case"circular":(0,i.Tl)(s,!0,!0,n,a);break;case"rectangle":(0,i.Tl)(s,!0,!0,n,a);break;case"h1":(0,i.Tl)(s,"","",n,a);break;case"h2":(0,i.Tl)(s,"","",n,a);break;case"h3":(0,i.Tl)(s,"","",n,a);break;case"circularmark":(0,i.Tl)(s,!0,!0,n,a);break;case"note1":(0,i.Tl)(s,!0,!0,n,a);break;case"note2":(0,i.Tl)(s,!0,!0,n,a);break;case"note3":(0,i.Tl)(s,!0,!0,n,a);break;case"note4":(0,i.Tl)(s,!0,!0,n,a);break;case"change":var fe=parseInt(s.attr("data-islogin"));s.attr("data-islogin",fe?0:1);break;case"show":var Se,Ne=s.attr("data-headernav")?JSON.parse(s.attr("data-headernav")):{menuIco:"icon-outdent",list:[{name:"\u9996\u9875",href:{name:"\u9996\u9875",url:"/",data:'{"data":{"designId":"home","url":"/"},"hrefType":"page","openMode":"_blank"}'},before:"",nid:0}],openStyle:"left",moduleColor:"#999",textColor:"#fff",linesHeight:40};if(!Ne)return!1;var Ze=s.attr("data-mid");if($("#drawer-".concat(Ze)).length>0)Se=$("#drawer-".concat(Ze)),Se.attr("class","drawer drawer-".concat(Ne.openStyle," drawer-open"));else{var be=$("#canvasId");be.append('<div id="drawer-'.concat(Ze,'" class="drawer drawer-').concat(Ne.openStyle,' drawer-open"></div>')),Se=be.find("#drawer-".concat(Ze));for(var Re=`<style>
                            #drawer-`.concat(Ze,` .drawer-content{
                              color:`).concat(Ne.textColor,`;
                            }
                            #drawer-`).concat(Ze,` .drawer-content a{
                              color:`).concat(Ne.textColor,`;
                            }
                            #drawer-`).concat(Ze,` .drawer-content {
                              background-color:`).concat(Ne.moduleColor,`;
                            }
                            #drawer-`).concat(Ze," .drawer-title, #drawer-").concat(Ze,` li{
                              height: `).concat((0,O.bf)(Ne.linesHeight),`;
                              line-height: `).concat((0,O.bf)(Ne.linesHeight),`;
                            }
                          </style>
                          <div class="drawer-mask"></div>
                          <div class="drawer-content" >
                            <div class="drawer-title"><img src="`).concat(r.logo,`" />\u9996\u9875</div>
                            <ul class="drawer-menu">
                          `),Xe=0,aa=Ne.list.length;Xe<aa;Xe++){var Ve=Ne.list[Xe];Re+='<a hrefd="'.concat(Ve.href.url,'"><li>').concat(Ve.before?"<img src='".concat(Ve.before,"'/>"):"","<span>").concat(Ve.name,"</span></li></a>")}Re+="</ul></div>",Se.html(Re),Se.on("click",function(){$(this).removeClass("drawer-open")})}break;case"changeTab":(function(){var re=s,Ae=re.find("> .dl-tabs-nav"),Be=Ae.find(">.dl-tabs-tab"),ze=Be.length,We=re.find(">.dl-tabs-content"),Pe=We.find(">.ant-tabs-tabpane"),Me=Ae.find(".dl-tabs-tab-active").index()+1;Ae.find(".dl-tabs-tab-active").removeClass("dl-tabs-tab-active"),Me>=ze&&(Me=0),Be.eq(Me).addClass("dl-tabs-tab-active"),Pe.hide(),Pe.eq(Me).show()})();break}},this.doubleClickEvent=n=>{var a=this,t=n.attr("data-type"),l=n.find(">.box");switch(t){case"picture":(0,i.vZ)({Picture:{visible:!0,callback:o=>{var r=l.find("img").length>0;if(l.attr("href")||(l.replaceWith('<div class="box">'+n.html()+"</div>"),l=n.find(">.box")),l.html('<img src="'+o.src+'">'),r)n.css({backgroundColor:"transparent"});else if(differenceType==2||differenceType==4){if(o.width>375){var s=o.width/o.height;o.width=375,o.height=375/s,selectElement.css({left:0})}selectElement.css({backgroundColor:"transparent",width:o.width,height:o.height})}else selectElement.css({backgroundColor:"transparent",width:(0,O.bf)(o.width),height:(0,O.bf)(o.height)})}}},a);break;case"menu":(0,i.vZ)({MenuNav:{visible:!0,element:n,callback:o=>{}}},a);break;case"tabs":(0,i.vZ)({TabsNav:{visible:!0,element:n,callback:o=>{}}},a);break;case"editor":(0,i.vZ)({Editor:{visible:!0,editCon:l.hasClass("editCon")?l.html():"",callback:o=>{o&&o!="<p></p>"?(l.css({height:"auto",width:"auto"}),l.addClass("editCon"),l.html(o),n.css({height:l.outerHeight()+10,width:l.outerWidth()}),l.css({height:"100%",width:"100%"})):(l.removeClass("editCon"),l.html("\u8BF7\u8F93\u5165\u5185\u5BB9"))}}},a);break;case"Icon":(0,i.vZ)({Iconfont:{visible:!0,iconClassName:l.find("i").attr("class").split(" ")[1],callback:o=>{l.find("i").attr("class","iconfont "+o.icon)}}},a);break;case"suspend":(0,i.vZ)({Suspend:{visible:!0,modata:n.attr("data-suspend"),element:n,callback:o=>{}}},a);break;case"rolling":(0,i.vZ)({Rolling:{visible:!0,element:n,callback:o=>{}}},a);break;case"carousel":(0,i.vZ)({Carousel:{visible:!0,element:n,callback:o=>{}}},a);break;case"time":(0,i.vZ)({Time:{visible:!0,element:n,callback:o=>{}}},a);break;case"Flash":(0,i.vZ)({Flash:{visible:!0,element:n,callback:o=>{}}},a);break;case"MP3":(0,i.vZ)({Audio:{visible:!0,element:n,callback:o=>{}}},a);break;case"iframe":(0,i.vZ)({Iframe:{visible:!0,element:n,callback:o=>{}}},a);break;case"Map":(0,i.vZ)({Maps:{visible:!0,element:n,callback:o=>{}}},a);break;case"course":(0,i.vZ)({Course:{visible:!0,element:n,callback:o=>{}}},a);break;case"courseware":(0,i.vZ)({Courseware:{visible:!0,element:n,callback:o=>{}}},a);break;case"article":(0,i.vZ)({Article:{visible:!0,element:n,callback:o=>{}}},a);break;case"shortvideo":(0,i.vZ)({ShortVideo:{visible:!0,element:n,callback:o=>{}}},a);break;case"player":(0,i.vZ)({Player:{visible:!0,element:n,callback:o=>{}}},a);break;case"qrcode":(0,i.vZ)({QRCode:{visible:!0,element:n,callback:o=>{}}},a);break;case"headerNav":(0,i.vZ)({HeaderNav:{visible:!0,element:n,callback:o=>{(0,k.OS)(a),(0,k.J$)(n,a)}}},a);break;case"footerNav":(0,i.vZ)({FooterNav:{visible:!0,element:n,callback:o=>{(0,k.OS)(a),(0,k.J$)(n,a)}}},a);break;case"magicNav":(0,i.vZ)({MagicNav:{visible:!0,element:selectElement,callback:o=>{(0,k.OS)(a),(0,k.J$)(selectElement,a)}}},a);break;case"tabNav":(0,i.vZ)({TabNav:{visible:!0,element:selectElement,callback:o=>{(0,k.OS)(a),(0,k.J$)(selectElement,a)}}},a);break;case"registerLogin":(0,i.vZ)({RegisterLogin:{visible:!0,element:n,callback:o=>{}}},a);break;case"customer":(0,i.vZ)({Customer:{visible:!0,element:n,callback:o=>{}}},a);break;case"pageform":(0,i.vZ)({PageForm:{visible:!0,element:n,callback:o=>{}}},a);break;case"topnav":(0,i.vZ)({TopNav:{visible:!0,element:n,callback:o=>{}}},a);break;case"text":(0,i.Tl)(n,"","",t,a);break;case"button":(0,i.Tl)(n,!0,"",t,a);break;case"circular":(0,i.Tl)(n,!0,!0,t,a);break;case"rectangle":(0,i.Tl)(n,!0,!0,t,a);break;case"h1":(0,i.Tl)(n,"","",t,a);break;case"h2":(0,i.Tl)(n,"","",t,a);break;case"h3":(0,i.Tl)(n,"","",t,a);break;case"circularmark":(0,i.Tl)(n,!0,!0,t,a);break;case"note1":(0,i.Tl)(n,!0,!0,t,a);break;case"note2":(0,i.Tl)(n,!0,!0,t,a);break;case"note3":(0,i.Tl)(n,!0,!0,t,a);break;case"note4":(0,i.Tl)(n,!0,!0,t,a);break}},this.bindHandleEvent=()=>{var n=this,a=n.props.dispatch,t=$("#canvasId"),l=$("#screenViewport");l.on("mousedown",function(o){$(o.target).attr("id")=="screenViewport"&&(0,k.OS)(n)}),t.on("mousedown",".module",function(o){a({type:"commondesign/setState",payload:{rightMenuEvent:o}}),n.rightMenuEvent=o;var r=!($(this).hasClass("onModule")&&$(this).find("[contenteditable]").length);if(r)return!$(this).hasClass("resizeHandle")&&!$(this).hasClass("lockModule")&&(o.ctrlKey&&$(".onModule").length>0?((0,k.tX)(),$(".suspenTool, .vagueLineBox").remove(),$(this).hasClass("onModule")?($(this).removeClass("onModule"),(0,k.Vg)(n)):((0,k.J$)($(this),n,"multi"),(0,k.Vg)(n))):o.altKey?n.selectDragEvent($(this),o):$(this).hasClass("onModule")?n.selectDragEvent($(this),o):$(this).parent().hasClass("topFloor")||$(this).hasClass("menuBox")||$(this).hasClass("dl-tabs-content")||$(this).hasClass("hoverConBox")?n.selectDragEvent($(this),o):n.selectDragEvent($(this).parents(".topFloor > .module"),o)),n.cancelContextmenu(),!1}),t.on("mousedown",".topFloor, .lockModule",function(o){if(a({type:"commondesign/setState",payload:{rightMenuEvent:o}}),n.rightMenuEvent=o,!o.ctrlKey&&($(o.target).hasClass("topFloor")||$(o.target).hasClass("lockModule"))){(0,k.OS)(n);var r=$(this).hasClass("topFloor")?$(this):$(this).parents(".topFloor");return n.multipleChoiceEvent(r,o),n.cancelContextmenu(),!1}}),t.on("mousedown",".resizeHandle",function(o){return n.resizeEvent($(this),o),n.cancelContextmenu(),!1}),t.on("contextmenu",function(o){return n.contextmenuEvent(o),o.preventDefault(),!1}),t.on("click",".suspendMenuBox li",function(o){var r=$(this).attr("data-tool");n.suspendMenuEvent(r),o.preventDefault()}),t.on("dblclick",".onModule",function(o){if(!$(o.target).attr("data-tool"))return n.doubleClickEvent($(this)),!1}),$(document).on("keydown",function(o){$(".multiModule").css("pointerEvents","none"),n.keydownEvent(o)}),$(document).on("keyup",function(o){$(".multiModule").css("pointerEvents","auto"),window.shiftKey=!1,o.altKey||$(".suspenTool").css("pointer-events","auto")})}}componentDidMount(){var n=this,a=n.props.globaldesign,t=a.isMobile;L=t?!0:L,n.bindHandleEvent(),(0,E.Ec)(n,n.props.match.params.designId)}shouldComponentUpdate(){return!window.startMouseMove}renderPageSize(){var n=this,a=this.props,t=a.globaldesign,l=a.commondesign,o=a.loading,r=a.dispatch,s=a.isMobile,v=l.width,p=l.height,C=l.header,m=l.mainly,N=l.footer,B=(0,y.lw)((0,y.Kd)()),X=-68,ge=-68,te={title:C+"px",className:ve().moveBotton+"  rightTopBotton",style:{top:C,right:ge},onMouseDown:xe=>{var pe=0,De=xe.pageY,Le=$(xe.target),oe=C,fe=m,Se=$(".rightTopBotton"),Ne=be=>{pe=be.pageY-De,l.header=oe+pe,l.mainly=m-pe,l.header<0&&(l.header=0,l.mainly=p-N),l.header>p-N&&(l.header=p-N,l.mainly=0),Se.find(".rightTopBottonValue").text(l.header),Se.css("top",l.header),(0,E.jB)(l)},Ze=be=>{r({type:"commondesign/setState",payload:{header:l.header,mainly:l.mainly}})};(0,i.Y0)(Ne,Ze,!1)}},ye={title:m+"px",className:ve().moveBotton+" rightCenterBotton",style:{top:C+m,right:ge},onMouseDown:xe=>{var pe=0,De=xe.pageY,Le=$(xe.target),oe=N,fe=m,Se=$(".rightCenterBotton"),Ne=be=>{pe=be.pageY-De,l.mainly=fe+pe,l.footer=oe-pe,l.mainly<0&&(l.mainly=0,l.footer=p-C),l.mainly>p-C&&(l.mainly=p-C,l.footer=0),Se.find(".rightCenterBottonValue").text(l.mainly),Se.css("top",C+l.mainly),(0,E.jB)(l)},Ze=be=>{r({type:"commondesign/setState",payload:{mainly:l.mainly,footer:l.footer}})};(0,i.Y0)(Ne,Ze,!1)}},he={title:p+"px",className:ve().bottomPageSize+" changePageSize",onMouseDown:xe=>{var pe=0,De=xe.pageY,Le=fe=>{pe=fe.pageY-De,l.height=p+pe,l.mainly=m+pe,$(".rightCenterBotton").css("top",C+l.mainly),(0,E.jB)(l)},oe=fe=>{r({type:"commondesign/setState",payload:{height:p+pe,mainly:m+pe}})};(0,i.Y0)(Le,oe,!1),(0,k.OS)(n)}},ie={className:ve().rightPageSize+" changePageSize",onMouseDown:xe=>{var pe=0,De=xe.pageX,Le=$("#pageWidthValueBox");Le.css("top",xe.pageY-$(xe.target).offset().top);var oe=Se=>{pe=Se.pageX-De,l.width=v+pe,(0,E.jB)(l)},fe=Se=>{r({type:"commondesign/setState",payload:{width:v+pe}})};(0,i.Y0)(oe,fe,!1),(0,k.OS)(n)}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",(0,R.Z)((0,R.Z)({},te),{},{style:{left:ge,top:C},children:[(0,d.jsx)(Te.Z,{})," ",(0,d.jsx)("span",{className:"rightTopBottonValue",children:C})]})),(0,d.jsxs)("div",(0,R.Z)((0,R.Z)({},te),{},{children:[(0,d.jsx)(ne.Z,{}),(0,d.jsx)("span",{className:"rightTopBottonValue",children:C})]})),(0,d.jsxs)("div",(0,R.Z)((0,R.Z)({},ye),{},{style:{left:ge,top:C+m},children:[(0,d.jsx)(Te.Z,{}),(0,d.jsx)("span",{className:"rightCenterBottonValue",children:m})]})),(0,d.jsxs)("div",(0,R.Z)((0,R.Z)({},ye),{},{children:[(0,d.jsx)(ne.Z,{}),(0,d.jsx)("span",{className:"rightCenterBottonValue",children:m})]})),(0,d.jsxs)("div",(0,R.Z)((0,R.Z)({},he),{},{children:[B.formatMessage({id:"mack.xxx.dragpagewidth"}),(0,d.jsx)("span",{id:"pageHeightValue",children:p}),"px"]})),!s&&(0,d.jsx)("div",(0,R.Z)((0,R.Z)({},ie),{},{children:(0,d.jsxs)("span",{id:"pageWidthValueBox",children:[B.formatMessage({id:"mack.xxx.dragpageheight"}),(0,d.jsxs)("span",{id:"pageWidthValue",children:[v,"px"]})]})}))]})}renderGuide(){var n=this.props,a=n.globaldesign,t=n.dispatch,l=a.normalLineSArr,o=a.normalLineLArr,r=a.scale,s=(p,C)=>({key:p,className:"topLine",style:{left:p,height:"calc(".concat(100/r,"% + 2000px)")},onDoubleClick:m=>{l.splice(C,1),t({type:"globaldesign/changeState",payload:{normalLineSArr:[...l]}})},onMouseDown:m=>{var N=m.pageX,B=$(m.target).parent(),X=te=>{B.css({left:p+te.pageX-N})},ge=te=>{l.splice(C,1,p+te.pageX-N),t({type:"globaldesign/changeState",payload:{normalLineSArr:[...l]}})};(0,i.Y0)(X,ge)}}),v=(p,C)=>({key:p,className:"leftLine",style:{top:p,width:"calc(".concat(100/r,"% + 2000px)")},onDoubleClick:m=>{o.splice(C,1),t({type:"globaldesign/changeState",payload:{normalLineLArr:[...o]}})},onMouseDown:m=>{var N=m.pageY,B=$(m.target).parent(),X=te=>{B.css({top:p+te.pageY-N})},ge=te=>{o.splice(C,1,p+te.pageY-N),t({type:"globaldesign/changeState",payload:{normalLineLArr:[...o]}})};(0,i.Y0)(X,ge,!1)}});return(0,d.jsxs)(d.Fragment,{children:[l.map((p,C)=>(0,d.jsx)("div",(0,R.Z)((0,R.Z)({},s(p,C)),{},{children:(0,d.jsx)("div",{})}))),o.map((p,C)=>(0,d.jsx)("div",(0,R.Z)((0,R.Z)({},v(p,C)),{},{children:(0,d.jsx)("div",{})})))]})}render(){var n=this,a=this.props,t=a.globaldesign,l=a.commondesign,o=a.loading,r=t.scale,s=t.showGuide,v=t.showGridLines,p=t.formId,C=t.isMobile,m={className:ve().Canvas,id:"canvasId",style:{transform:"scale(".concat(r,")")}};return(0,d.jsx)(Oe.Z,{size:"large",spinning:o,delay:500,children:(0,d.jsxs)("div",(0,R.Z)((0,R.Z)({},m),{},{children:[s&&this.renderGuide(),this.renderPageSize(),(0,d.jsx)("div",{id:"header",className:"topFloor"}),(0,d.jsx)("div",{id:"mainly",className:"topFloor"}),(0,d.jsx)("div",{id:"footer",className:"topFloor"}),v&&(0,d.jsx)("div",{className:ve().gridLines})]}))})}})||H),A=b,I,P;function T(se,n){this.canvas=se,this.options={backgroundColor:"#F9FAFB",labelColors:"#B3BEC4",lineColors:["#E2E3E8","#E2E3E8"]},this.options=(0,R.Z)((0,R.Z)({},this.options),n),this.c=this.canvas.getContext("2d")}T.prototype.init=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,a=this;if(a.scaleArr=[],a.options.type=="vertical"){a.canvas.height=a.canvas.parentElement.offsetHeight,a.w=a.canvas.width,a.h=a.canvas.height;for(var t=n.height/n.spaceValue,l=0;l<t;l++)a.scaleArr.push(l*n.spaceValue+se);a.drawl(se,n)}else{a.canvas.width=a.canvas.parentElement.offsetWidth,a.w=a.canvas.width,a.h=a.canvas.height;for(var o=n.width/n.spaceValue,l=0;l<o;l++)a.scaleArr.push(l*n.spaceValue+se);a.draws(se,n)}},T.prototype.draws=function(se,n){var a=this,t=a.c,l=a.options;t.save(),t.clearRect(0,0,a.w,a.h),t.fillStyle=l.backgroundColor,t.fillRect(0,0,a.w,a.h),t.beginPath(),t.strokeStyle=l.lineColors[0],t.lineWidth=1,t.moveTo(0,a.h),t.lineTo(a.w,a.h),t.stroke();for(var o=a.scaleArr[0],r=o;r>0;r=r-n.spaceValue){t.beginPath(),t.strokeStyle=l.lineColors[1],t.lineWidth=1;var s=o-r,v=12;if(s%(5*n.spaceValue)==0&&(v=6),s%(10*n.spaceValue)==0&&(v=0),t.moveTo(r,v),t.lineTo(r,a.h),t.stroke(),s%(10*n.spaceValue)==0){t.fillStyle=l.labelColors,t.font="8px Arial";var p=r,C=t.measureText(p).width;t.fillText(-s,r+5,8)}}for(var r=0;r<a.scaleArr.length;r++){t.beginPath(),t.strokeStyle=l.lineColors[1],t.lineWidth=1;var v=12;if(r%5==0&&(v=6),r%10==0&&(v=0),t.moveTo(a.scaleArr[r],v),t.lineTo(a.scaleArr[r],a.h),t.stroke(),r%10==0){t.fillStyle=l.labelColors,t.font="8px Arial";var p=r*10,C=t.measureText(p).width;t.fillText(p,a.scaleArr[r]+5,8)}}},T.prototype.drawl=function(se,n){var a=this,t=a.c,l=a.options;t.save(),t.clearRect(0,0,a.w,a.h),t.fillStyle=l.backgroundColor,t.fillRect(0,0,a.w,a.h),t.beginPath(),t.strokeStyle=l.lineColors[0],t.lineWidth=1,t.moveTo(a.w,0),t.lineTo(a.w,a.h),t.stroke();for(var o=a.scaleArr[0],r=o;r>0;r=r-n.spaceValue){t.beginPath(),t.strokeStyle=l.lineColors[1],t.lineWidth=1;var s=o-r,v=12;if(s%(5*n.spaceValue)==0&&(v=6),s%(10*n.spaceValue)==0&&(v=0),t.moveTo(v,r),t.lineTo(a.h,r),t.stroke(),s%(10*n.spaceValue)==0){t.fillStyle=l.labelColors,t.font="8px Arial";var p=r,C=t.measureText(p).width;t.save(),t.rotate(90*Math.PI/180),t.fillText(-s,r+5,-8),t.restore()}}for(var r=0;r<a.scaleArr.length;r++){t.beginPath(),t.strokeStyle=l.lineColors[1],t.lineWidth=1;var v=12;if(r%5==0&&(v=6),r%10==0&&(v=0),t.moveTo(v,a.scaleArr[r]),t.lineTo(a.w,a.scaleArr[r]),t.stroke(),r%10==0){t.fillStyle=l.labelColors,t.font="8px Arial";var p=r*10,C=t.measureText(p).width;t.save(),t.rotate(90*Math.PI/180),t.fillText(p,a.scaleArr[r]+5,-8),t.restore()}}};var z=(I=(0,q.$j)(se=>{var n=se.globaldesign,a=se.commondesign;return{globaldesign:n,commondesign:a}}),I(P=class extends w.Component{constructor(){super(...arguments);this.state={value:0}}componentDidMount(){var n=this.props.options;this.chart=new T(this.refs.ruler,n),this.getRulerStatus()}componentWillReceiveProps(){this.getRulerStatus()}getRulerStatus(){var n=this,a=this.props,t=a.options,l=a.commondesign,o=a.parent,r=a.globaldesign,s=o.MaxSection,v=o.state,p=l.width,C=l.height,m=r.scale,N=r.startPageX,B=N===void 0?p/2:N,X=r.startPageY,ge=X===void 0?ye:X,te=v.x,ye=v.y;n.spaceValue=m*10,n.width=p+s,n.height=C+s;var he=(B-te)*(m-1),ie=(ge-ye)*(m-1);t&&t.type=="vertical"?this.chart.init(ye-ie,n):this.chart.init(te-he,n)}render(){var n=this.props,a=n.height,t=n.width,l=n.style,o=n.onMouseDown,r=o===void 0?()=>{}:o,s=n.onMouseOver,v=s===void 0?()=>{}:s,p=n.onMouseOut,C=p===void 0?()=>{}:p,m={ref:"ruler",style:(0,R.Z)({position:"absolute",top:0,left:0,zIndex:100},l),height:a,width:t,onMouseDown:r,onMouseOver:v,onMouseOut:C};return(0,d.jsx)("canvas",(0,R.Z)({},m))}})||P),F=e(71194),Z=e(50146),G=e(77883),J=e(85986),ae=e(9715),ue=e(55843),ke=e(47673),le=e(4107),He=e(30887),K=e(28682),Ue=e(77929),h=e.n(Ue),x,D,M=K.Z.SubMenu,Y=(x=(0,q.$j)(se=>{var n=se.globaldesign,a=se.page,t=se.share,l=se.commondesign;return{globaldesign:n,page:a,share:t,commondesign:l}}),x(D=class extends w.Component{constructor(){super(...arguments);this.state={addModel:!1},this.formRef=w.createRef(),this.menu=n=>{var a=this;return n.map(t=>t.children?(0,d.jsx)(M,{title:t.name,children:a.menu(t.children)},t.key):t.name=="Divider"?(0,d.jsx)(K.Z.Divider,{},t.key):(0,d.jsx)(K.Z.Item,{disabled:t.disabled,selectable:!t.selectable,children:(0,d.jsx)("span",{children:t.name})},t.key))}}componentDidMount(){}renderAddModel(){var n=this,a=this.props,t=a.dispatch,l=a.page,o=this.state.addModel,r=(0,y.lw)((0,y.Kd)()),s=()=>{var p=n.formRef.current;p.validateFields().then(C=>{p.resetFields(),window.startMouseMove=!1;var m=C.pageName,N=C.pageWidth,B=C.pageHeight;t({type:"page/addDesignAssembly",payload:{clientType:1,designType:1,type:2,title:m,size:N+"|"+B,detail:this.groupItem.detail},callback:X=>{X.success&&(this.groupItem="",this.setState({addModel:!1}),t({type:"page/getAssemblyList",payload:{clientType:1,designType:1,type:2}}),t({type:"commondesign/setState",payload:{rightMenu:!1}}))}})})},v=()=>{var p=this.props.dispatch;this.groupItem="",this.setState({addModel:!1}),window.startMouseMove=!1,p({type:"commondesign/setState",payload:{rightMenu:!1}})};return(0,d.jsx)(Z.Z,{visible:o,onOk:s,onCancel:v,title:r.formatMessage({id:"mack.dsru.a"}),children:(0,d.jsxs)(ue.Z,{name:"addGroup",ref:this.formRef,className:h().formBox,children:[(0,d.jsx)(ue.Z.Item,{label:r.formatMessage({id:"common.name"}),name:"pageName",rules:[{whitespace:!0,message:r.formatMessage({id:"mack.dsru.b"})},{required:!0,message:r.formatMessage({id:"mack.dsru.b"})},{max:6,message:r.formatMessage({id:"mack.dsru.c"})}],children:(0,d.jsx)(le.Z,{placeholder:r.formatMessage({id:"mack.dsru.b"})})}),(0,d.jsxs)("div",{className:"rowBox",children:[(0,d.jsx)("div",{className:"colBox",children:(0,d.jsx)(ue.Z.Item,{label:r.formatMessage({id:"explorer.app.with"}),name:"pageWidth",rules:[{required:!0,message:r.formatMessage({id:"mack.dsru.d"})}],children:(0,d.jsx)(J.Z,{placeholder:r.formatMessage({id:"mack.dsru.d"})})})}),(0,d.jsx)("div",{className:"colBox",style:{marginLeft:"4%"},children:(0,d.jsx)(ue.Z.Item,{label:r.formatMessage({id:"explorer.app.height"}),name:"pageHeight",rules:[{required:!0,message:r.formatMessage({id:"mack.dsru.e"})}],children:(0,d.jsx)(J.Z,{placeholder:r.formatMessage({id:"mack.dsru.e"})})})})]})]})})}renderMenu(){var n=this,a=this.props.commondesign,t=a.rightMenuEvent,l=a.copyCase,o=(0,y.lw)((0,y.Kd)()),r=g()(t.target),s=r.parents(".module"),v=s.attr("data-type"),p=s.hasClass("lockModule")||r.hasClass("lockModule"),C=parseInt(s.css("zIndex"))||0,m={ele:s.length>0||r.hasClass("multiModule"),group:v=="group",mock:r.hasClass("multiModule"),copy:!!l||g()(".shearModule").length>0,lock:p,login:s.hasClass("loginModule"),unRemove:s.hasClass("unDelete"),topZIndex:C==99,bomZIndex:C==0},N=m.unRemove?[]:[{key:"remove",name:o.formatMessage({id:"common.delete"})}],B=[];return m.login?B=[{key:"upZIndex",name:o.formatMessage({id:"mack.dsru.f"})+"("+C+")",disabled:m.topZIndex},{key:"downZIndex",name:o.formatMessage({id:"mack.dsru.g"})+"("+C+")",disabled:m.bomZIndex},{key:"topZIndex",name:o.formatMessage({id:"mack.dsru.h"}),disabled:m.topZIndex},{key:"bomZIndex",name:o.formatMessage({id:"mack.dsru.i"}),disabled:m.bomZIndex},...N]:m.lock?B=[{key:"unlock",name:o.formatMessage({id:"mack.dsru.j"})},{key:"paste",name:o.formatMessage({id:"explorer.past"}),disabled:!m.copy}]:(m.group&&(B=[{key:"addGroup",name:o.formatMessage({id:"mack.dsru.k"})},{key:"breakup",name:o.formatMessage({id:"mack.dsru.l"})}]),m.mock&&B.push({key:"group",name:o.formatMessage({id:"mack.dsb.c"})}),m.ele&&(B=[...B,{key:"upZIndex",name:o.formatMessage({id:"mack.dsru.m"}),disabled:m.topZIndex},{key:"downZIndex",name:o.formatMessage({id:"mack.dsru.n"}),disabled:m.bomZIndex},{key:"topZIndex",name:o.formatMessage({id:"mack.dsru.h"}),disabled:m.topZIndex},{key:"bomZIndex",name:o.formatMessage({id:"mack.dsru.i"}),disabled:m.bomZIndex},{key:"Divider1",name:"Divider"},{key:"align",name:o.formatMessage({id:"mack.dsru.o"}),children:[{key:"leftAlign",name:o.formatMessage({id:"mack.dsd.a"})},{key:"centerAlign",name:o.formatMessage({id:"mack.dsd.b"})},{key:"rightAlign",name:o.formatMessage({id:"mack.dsd.c"})},{key:"Divider2",name:"Divider"},{key:"topAlign",name:o.formatMessage({id:"mack.dsd.d"})},{key:"verticalAlign",name:o.formatMessage({id:"mack.dsd.e"})},{key:"downAlign",name:o.formatMessage({id:"mack.dsd.f"})}]}]),m.mock&&B.push({key:"spread",name:"\u5206\u5E03",children:[{key:"planeSpace",name:o.formatMessage({id:"mack.dsru.p"})},{key:"verticalSpace",name:o.formatMessage({id:"mack.dsru.q"})}]}),m.ele&&(B=[...B,{key:"Divider3",name:"Divider"},{key:"shear",name:o.formatMessage({id:"explorer.cute"})},{key:"copy",name:o.formatMessage({id:"explorer.copy"})}]),B.push({key:"paste",name:o.formatMessage({id:"explorer.past"}),disabled:!m.copy}),m.ele&&(B=[...B,{key:"lock",name:o.formatMessage({id:"explorer.fileLockNow"})},{key:"Divider4",name:"Divider"},...N])),n.menu(B)}renderRightMenu(){var n=this,a=this.props,t=a.parent,l=a.commondesign,o=a.globaldesign,r=a.dispatch,s=o.selectElement,v=s?s.parents(".module, .topFloor").eq(0):"",p=l.rightMenuEvent,C=l.copyCase,m=g()(p.target),N=p.pageX,B=p.pageY,X=m.hasClass("multiModule")?m:m.parents(".module"),ge={className:h().rightMenu,hoverable:"true",onContextMenu:he=>(he.preventDefault(),!1),style:{left:N,top:B}},te={addGroup:()=>{if(X.attr("data-type")=="group"){window.startMouseMove=!0,this.setState({addModel:!0},()=>{var ie=n.formRef.current;ie.setFieldsValue({pageWidth:parseInt(X.css("width")),pageHeight:parseInt(X.css("height"))})});var he=X.clone();he.addClass("addmodule"),he.css({top:0,left:0}),this.groupItem={detail:he.prop("outerHTML")}}},group:()=>{(0,k.gV)({type:"group",parentSelf:n})},breakup:()=>{(0,k.gV)({type:"breakup",parentSelf:n})},currZIndex:()=>{},topZIndex:()=>{(0,k.gV)({type:"topZIndex",parentSelf:n})},upZIndex:()=>{(0,k.gV)({type:"upZIndex",parentSelf:n})},downZIndex:()=>{(0,k.gV)({type:"downZIndex",parentSelf:n})},bomZIndex:()=>{(0,k.gV)({type:"bomZIndex",parentSelf:n})},leftAlign:()=>{(0,k.gV)({type:"leftAlign",parentElement:v,parentSelf:n})},centerAlign:()=>{(0,k.gV)({type:"centerAlign",parentElement:v,parentSelf:n})},rightAlign:()=>{(0,k.gV)({type:"rightAlign",parentElement:v,parentSelf:n})},topAlign:()=>{(0,k.gV)({type:"topAlign",parentElement:v,parentSelf:n})},verticalAlign:()=>{(0,k.gV)({type:"verticalAlign",parentElement:v,parentSelf:n})},downAlign:()=>{(0,k.gV)({type:"downAlign",parentElement:v,parentSelf:n})},planeSpace:()=>{(0,k.gV)({type:"planeSpace",parentElement:v,parentSelf:n})},verticalSpace:()=>{(0,k.gV)({type:"verticalSpace",parentElement:v,parentSelf:n})},shear:()=>{(0,k.gV)({type:"shear",parentSelf:n})},copy:()=>{(0,k.gV)({type:"copy",parentSelf:n})},paste:()=>{(0,k.gV)({type:"paste",parentSelf:n})},lock:()=>{(0,k.gV)({type:"lock",parentSelf:n})},unlock:()=>{(0,k.gV)({type:"unlock",parentSelf:n})},remove:()=>{(0,k.gV)({type:"remove",parentElement:s?s.parents(".module, .topFloor").eq(0):"",target:s,parentSelf:n})}},ye=he=>{te[he.key](),he.key!=="addGroup"&&r({type:"commondesign/setState",payload:{rightMenu:!1}})};return(0,d.jsx)("div",(0,R.Z)((0,R.Z)({},ge),{},{children:(0,d.jsx)(K.Z,{onClick:ye,children:n.renderMenu()})}))}render(){var n=this.state.addModel,a=this.props.commondesign.rightMenu;return(0,d.jsxs)(d.Fragment,{children:[a&&!n?this.renderRightMenu():"",this.renderAddModel()]})}})||D),S,u,Q=O.vc.scrollMove;window.shouldComponentUpdate=!0;var _=(S=(0,q.$j)(se=>{var n=se.globaldesign,a=se.commondesign;return{globaldesign:n,commondesign:a}}),S(u=class extends w.Component{constructor(){super(...arguments);this.state={pageWidth:1200,pageHeight:3200,x:286,y:100,scrollY:50,scrollX:0,headerH:50,guideS:[],guideL:[]},this.MaxSection=O.h5,this.pageScrollEvent=()=>{var n=this;n.startScroll=!1;var a=t=>{var l=n.props.commondesign.height;-(l+O.h5)>t?t=-(l+O.h5):t>O.h5&&(t=O.h5),-(l+O.h5)<=t&&t<=O.h5&&n.setState({y:t,scrollY:(0,i.bV)(t,n)})};g()("#screenViewport").on("mousewheel DOMMouseScroll",function(t){if(window.startMouseMove=!0,!t.ctrlKey){var l=n.state.y,o=t.originalEvent.wheelDelta?t.originalEvent.wheelDelta:t.detail<0?120:-120,r=l+o/12*10;a(r)}setTimeout(function(){window.startMouseMove=!1},500)})},this.canvasIdEvent=()=>{var n=this,a=g()("#canvasId"),t=g()("#screenViewportCanvas");a.on("mousedown",function(l){var o=n.props.globaldesign.scale,r=n.state,s=r.x,v=r.y;if(g()(l.target).hasClass("topFloor")&&n.ctrlKey){var p=l.pageX,C=l.pageY;n.changeTransition(!1);var m=B=>{n.setState({x:(B.pageX-p)/o+s,y:(B.pageY-C)/o+v})},N=B=>{};(0,i.Y0)(m,N)}})},this.changeTransition=n=>{var a=this.props.dispatch;window.shouldComponentUpdate=!1,clearTimeout(this.componetTimeout),this.componetTimeout=setTimeout(function(){window.shouldComponentUpdate=!0},600),a({type:"globaldesign/changeState",payload:{isTransition:n}})},this.clearDocumentEvent=()=>{var n=this;g()(document).mouseup(function(a){window.startMouseMove=!1,g()(document).unbind("mouseup mousemove"),n.changeTransition(!0)})},this.ctrlKey=!1,this.keydownEvent=()=>{var n=this;g()(document).on("keydown",function(a){n.ctrlKey=a.ctrlKey}),g()(document).on("keyup",function(a){n.ctrlKey=a.ctrlKey})}}componentDidMount(){var n=this,a=this.props,t=a.globaldesign,l=a.commondesign,o=a.dispatch,r=l.width,s=g()(document).width(),v=g()(document).height(),p=this.state.y,C=(s-r)/2;this.setState({x:C,scrollY:(0,i.bV)(p,n),scrollX:(0,i.A7)(C,n),headerH:t.toolHeadHeight}),n.pageScrollEvent(),n.canvasIdEvent(),n.keydownEvent()}componentDidUpdate(n,a){var t=this,l=n.globaldesign,o=this.props.globaldesign,r=o.changeScrollY,s=o.differenceType;l.changeScrollY!==r&&this.setState({y:(0,i.x4)(r,t),scrollY:r});var v=n.commondesign,p=this.props.commondesign,C=p.width,m=p.designId;if(v.designId!==m&&this.setState({y:100,scrollY:(0,i.bV)(100,t)}),v.width!==C){var N=g()(document).width(),B=(N-C)/2;this.setState({x:B,scrollX:(0,i.A7)(B,t)})}}renderScreenScrollY(){var n=this,a=this.state.scrollY,t=this.props.globaldesign,l=t.isTransition,o=l?{transition:"all 0.3s"}:{},r={className:de().scrollBar,style:(0,R.Z)({top:a,height:O.e},o),onMouseDown:s=>{var v=g()(document).height(),p=a,C=s.pageY;n.changeTransition(!1),s.preventDefault();var m=B=>{B.preventDefault();var X=p+(B.pageY-C);X<50&&(X=50),X>v-O.e&&(X=v-O.e),n.setState({scrollY:X,y:(0,i.x4)(X,n)})},N=B=>{n.changeTransition(!0)};(0,i.Y0)(m,N)}};return(0,d.jsx)("div",{className:de().screenScrollY,children:(0,d.jsx)("div",(0,R.Z)({},r))})}renderScreenScrollX(){var n=this,a=this.state.scrollX,t=this.props,l=t.globaldesign,o=t.dispatch,r=l.isTransition,s=r?{transition:"all 0.3s"}:{},v={className:de().scrollBar,style:(0,R.Z)({left:a,width:O.e},s),onMouseDown:p=>{var C=g()(document).width(),m=a,N=p.pageX;n.changeTransition(!1),p.preventDefault();var B=ge=>{ge.preventDefault();var te=m+(ge.pageX-N);te<0&&(te=0),te>C-O.e&&(te=C-O.e),n.setState({scrollX:te,x:(0,i.Xn)(te,n)})},X=()=>{n.changeTransition(!0)};(0,i.Y0)(B,X)}};return(0,d.jsx)("div",{className:de().screenScrollX,children:(0,d.jsx)("div",(0,R.Z)({},v))})}renderRuler(){var n=this.props,a=n.dispatch,t=n.globaldesign,l=t.scale,o=t.pageWidth,r=t.pageHeight,s=t.endPageX,v=t.endPageY,p=this.state.headerH,C={height:18,value:0,style:{top:p},parent:this,onMouseDown:N=>{N.preventDefault();var B=(N.pageX-s-o/2*(1-l))/l,X=this.props.globaldesign.normalLineSArr;a({type:"globaldesign/changeState",payload:{normalLineSArr:[...X,B]}})}},m={width:18,value:0,parent:this,options:{type:"vertical"},onMouseDown:N=>{N.preventDefault();var B=(N.pageY-v-r/2*(1-l))/l,X=this.props.globaldesign.normalLineLArr;a({type:"globaldesign/changeState",payload:{normalLineLArr:[...X,B]}})}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(z,(0,R.Z)({},C)),(0,d.jsx)(z,(0,R.Z)({},m))]})}render(){var n=this,a=this.props,t=a.globaldesign,l=a.dispatch,o=a.match,r=a.commondesign,s=a.isMobile,v=this.state,p=v.x,C=v.y,m=v.scrollY,N=v.scrollX,B=r.width,X=r.height,ge=r.rightMenu,te=t.scale,ye=t.startPageX,he=ye===void 0?B/2:ye,ie=t.startPageY,xe=ie===void 0?C:ie,pe=t.isTransition,De=t.showRuler,Le=(he-p)*(te-1),oe=(xe-C)*(te-1),fe=p-B*(1-te)/2-Le,Se=C-X*(1-te)/2-oe,Ne={className:de().screenViewport,style:{opacity:0,width:B,height:X,transform:"matrix(1, 0, 0, 1, ".concat(fe,", ").concat(Se,")"),transition:pe?"transform 0.3s linear":"none"}};return this.props.globaldesign.endPageX=fe,this.props.globaldesign.endPageY=Se,this.props.globaldesign.pageWidth=B,this.props.globaldesign.pageHeight=X,this.props.globaldesign.startPageX=he,this.props.globaldesign.startPageY=xe,(0,d.jsxs)("div",{className:de().contentBox,id:"screenViewport",children:[this.renderScreenScrollY(),this.renderScreenScrollX(),De&&this.renderRuler(),(0,d.jsx)(Y,{}),(0,d.jsx)("div",(0,R.Z)((0,R.Z)({},Ne),{},{id:"screenViewportCanvas",children:(0,d.jsx)(A,{match:o,isMobile:s})}))]})}})||u),me=_},40090:function(Ee,$e,e){"use strict";var R=e(11849),w=e(67294),q=e(28216),V=e(3231),g=e(85893),we,de,je=w.lazy(()=>Promise.all([e.e(90243),e.e(44707),e.e(14231)]).then(e.bind(e,9390))),Oe=w.lazy(()=>Promise.all([e.e(81628),e.e(87849),e.e(49597),e.e(86728),e.e(1085),e.e(14051),e.e(44707),e.e(24189)]).then(e.bind(e,24189))),Te=w.lazy(()=>Promise.all([e.e(49597),e.e(46221)]).then(e.bind(e,11194))),ne=w.lazy(()=>Promise.all([e.e(44707),e.e(15303)]).then(e.bind(e,15303))),U=w.lazy(()=>Promise.all([e.e(90939),e.e(81345),e.e(53390),e.e(86606)]).then(e.bind(e,86606))),ve=w.lazy(()=>e.e(61193).then(e.bind(e,61193))),k=w.lazy(()=>e.e(48954).then(e.bind(e,48954))),E=w.lazy(()=>Promise.all([e.e(26270),e.e(33226)]).then(e.bind(e,33226))),W=w.lazy(()=>Promise.all([e.e(31287),e.e(26270),e.e(93558)]).then(e.bind(e,93558))),j=w.lazy(()=>Promise.all([e.e(26270),e.e(76915)]).then(e.bind(e,76915))),i=w.lazy(()=>Promise.all([e.e(26270),e.e(53563)]).then(e.bind(e,53563))),O=w.lazy(()=>Promise.all([e.e(90939),e.e(81628),e.e(81345),e.e(87849),e.e(36806),e.e(53390),e.e(7623),e.e(56691)]).then(e.bind(e,17004))),y=w.lazy(()=>Promise.all([e.e(25092),e.e(26270),e.e(68056)]).then(e.bind(e,13334))),d=w.lazy(()=>Promise.all([e.e(26270),e.e(22485)]).then(e.bind(e,22485))),f=w.lazy(()=>Promise.all([e.e(26270),e.e(48216)]).then(e.bind(e,48216))),H=w.lazy(()=>Promise.all([e.e(26270),e.e(23732)]).then(e.bind(e,23732))),L=w.lazy(()=>Promise.all([e.e(26270),e.e(46952)]).then(e.bind(e,46952))),c=w.lazy(()=>Promise.all([e.e(26270),e.e(50636)]).then(e.bind(e,50636))),ee=w.lazy(()=>Promise.all([e.e(81628),e.e(60143),e.e(26270),e.e(62567)]).then(e.bind(e,45570))),b=w.lazy(()=>Promise.all([e.e(81628),e.e(60143),e.e(26270),e.e(80203)]).then(e.bind(e,99428))),A=w.lazy(()=>Promise.all([e.e(12802),e.e(26270),e.e(82196)]).then(e.bind(e,40600))),I=w.lazy(()=>Promise.all([e.e(81628),e.e(60143),e.e(26270),e.e(63566),e.e(10492)]).then(e.bind(e,12108))),P=w.lazy(()=>Promise.all([e.e(81628),e.e(60143),e.e(26270),e.e(63566),e.e(63917)]).then(e.bind(e,54049))),T=w.lazy(()=>Promise.all([e.e(90939),e.e(81345),e.e(53390),e.e(26270),e.e(15176)]).then(e.bind(e,15176))),z=w.lazy(()=>Promise.all([e.e(26270),e.e(35971)]).then(e.bind(e,35971))),F=w.lazy(()=>Promise.all([e.e(26270),e.e(62831)]).then(e.bind(e,62831))),Z=w.lazy(()=>Promise.all([e.e(90939),e.e(81628),e.e(81345),e.e(87849),e.e(36806),e.e(53390),e.e(26032),e.e(81198),e.e(34507)]).then(e.bind(e,34507))),G=w.lazy(()=>Promise.all([e.e(90939),e.e(81628),e.e(81345),e.e(87849),e.e(36806),e.e(53390),e.e(26032),e.e(81198),e.e(23545)]).then(e.bind(e,23545))),J=w.lazy(()=>Promise.all([e.e(90939),e.e(81628),e.e(87849),e.e(36806),e.e(26032),e.e(81198),e.e(44171)]).then(e.bind(e,44171))),ae=w.lazy(()=>Promise.all([e.e(90939),e.e(81628),e.e(81345),e.e(87849),e.e(36806),e.e(53390),e.e(85411),e.e(46660)]).then(e.bind(e,87690))),ue=w.lazy(()=>Promise.all([e.e(90939),e.e(81628),e.e(87849),e.e(36806),e.e(65781)]).then(e.bind(e,69132))),ke=(we=(0,q.$j)(le=>{var He=le.commondesign,K=le.globaldesign;return{commondesign:He,globaldesign:K}}),we(de=class extends w.Component{constructor(){super(...arguments);this.state={width:1200}}componentDidMount(){}render(){var He=this.props,K=He.commondesign,Ue=He.globaldesign,h=Ue.differenceType;return(0,g.jsxs)("div",{children:[K.Href.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(je,(0,R.Z)({},K.Href))}),K.Picture.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(Oe,(0,R.Z)({},K.Picture))}),K.Video.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(Te,(0,R.Z)({},K.Video))}),K.Resource.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(ne,(0,R.Z)({},K.Resource))}),K.Iconfont.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(E,(0,R.Z)({},K.Iconfont))}),K.Editor.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(W,(0,R.Z)({},K.Editor))}),K.Suspend.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(j,(0,R.Z)({},K.Suspend))}),K.Rolling.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(i,(0,R.Z)({},K.Rolling))}),K.Carousel.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(y,(0,R.Z)((0,R.Z)({},K.Carousel),{},{differenceType:h}))}),K.Time.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(d,(0,R.Z)({},K.Time))}),K.Flash.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(f,(0,R.Z)({},K.Flash))}),K.Audio.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(H,(0,R.Z)({},K.Audio))}),K.Iframe.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(L,(0,R.Z)({},K.Iframe))}),K.Maps.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(c,(0,R.Z)({},K.Maps))}),K.Course.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(ee,(0,R.Z)((0,R.Z)({},K.Course),{},{differenceType:h}))}),K.Courseware.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(b,(0,R.Z)((0,R.Z)({},K.Courseware),{},{differenceType:h}))}),K.Player.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(A,(0,R.Z)((0,R.Z)({},K.Player),{},{differenceType:h}))}),K.ShortVideo.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(I,(0,R.Z)((0,R.Z)({},K.ShortVideo),{},{differenceType:h}))}),K.QRCode.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(F,(0,R.Z)({},K.QRCode))}),K.Article.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(P,(0,R.Z)((0,R.Z)({},K.Article),{},{differenceType:h}))}),K.LoginBox.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(T,(0,R.Z)({},K.LoginBox))}),K.RegisterLogin.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(z,(0,R.Z)((0,R.Z)({},K.RegisterLogin),{},{differenceType:h}))}),K.FooterNav.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(Z,(0,R.Z)({},K.FooterNav))}),K.HeaderNav.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(G,(0,R.Z)({},K.HeaderNav))}),K.MenuNav.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(U,(0,R.Z)({},K.MenuNav))}),K.TabsNav.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(O,(0,R.Z)({},K.TabsNav))}),K.MagicNav.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(J,(0,R.Z)({},K.MagicNav))}),K.TabNav.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(ae,(0,R.Z)({},K.TabNav))}),K.Customer.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(ve,(0,R.Z)({},K.Customer))}),K.PageForm.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(k,(0,R.Z)({},K.PageForm))}),K.TopNav.visible&&(0,g.jsx)(w.Suspense,{fallback:(0,V.Z)(),children:(0,g.jsx)(ue,(0,R.Z)({},K.TopNav))})]})}})||de);$e.Z=ke},34935:function(Ee,$e,e){"use strict";var R=e(59250),w=e(13013),q=e(11849),V=e(30887),g=e(28682),we=e(77883),de=e(85986),je=e(47673),Oe=e(4107),Te=e(57663),ne=e(71577),U=e(34792),ve=e(48086),k=e(9715),E=e(55843),W=e(71194),j=e(50146),i=e(24793),O=e(97183),y=e(43358),d=e(34041),f=e(67294),H=e(19755),L=e.n(H),c=e(28216),ee=e(30672),b=e(33210),A=e.n(b),I=e(41273),P=e(70138),T=e(38986),z=e(62828),F=e.n(z),Z=e(94064),G=e.n(Z),J=e(61176),ae=e.n(J),ue=e(77856),ke=e.n(ue),le=e(78709),He=e.n(le),K=e(93313),Ue=e.n(K),h=e(37336),x=e.n(h),D=e(86919),M=e.n(D),Y=e(54195),S=e.n(Y),u=e(85893),Q,_,me=d.Z.Option,se=O.Z.Header,n=j.Z.confirm,a=E.Z.Item,t=(Q=(0,c.$j)(l=>{var o=l.globaldesign,r=l.record,s=l.storagedesign,v=l.commondesign;return{globaldesign:o,record:r,storagedesign:s,commondesign:v}}),Q(_=class extends f.Component{constructor(){super(...arguments);this.state={visible:!0,scaleIndex:7,scaleArr:[.25,.33,.5,.67,.75,.8,.9,1,1.1,1.25,1.5,1.75,2,2.5,3,4,5],addModel:!1},this.formRef=f.createRef(),this.quickKeysEvent=()=>{var o=this;document.addEventListener("wheel",r=>{if(r.ctrlKey)return r.preventDefault(),!1},{passive:!1})},this.changeScale=(o,r,s)=>{var v=this,p=this.state,C=p.scaleIndex,m=p.scaleArr,N=this.props.dispatch,B=C+o;B<0&&(B=0),B>16&&(B=16),v.setState({scaleIndex:B}),N({type:"globaldesign/changeState",payload:{scale:m[B],isTransition:!1,startPageX:r,startPageY:s}})},this.previewPage=()=>{(0,T.yw)(this)},this.saveEvent=o=>{var r=this;(0,T.Jq)(r,()=>{o&&o()})},this.revokeEvent=()=>{var o=this;(0,I.V3)(o)},this.recoveryEvent=()=>{var o=this;(0,I.J2)(o)},this.changeVersion=o=>{var r=this.props.dispatch;r({type:"globaldesign/changeState",payload:{version:o}})},this.attrEvent=o=>{var r=this,s=this.props,v=s.globaldesign,p=s.record,C=s.storagedesign,m=s.commondesign,N=s.dispatch,B=p.index,X=p.total,ge=p.recordData,te=m.designId,ye=m.importBloo,he=(0,ee.lw)((0,ee.Kd)()),ie={preview:()=>{this.previewPage()},save:()=>{this.saveEvent()},minScale:()=>{this.changeScale(-1)},maxScale:()=>{this.changeScale(1)},revoke:()=>{r.revokeEvent()},recovery:()=>{r.recoveryEvent()},showGrids:()=>{N({type:"commondesign/setState",payload:{isGrids:!this.props.commondesign.isGrids}})},showRuler:()=>{N({type:"commondesign/setState",payload:{showRuler:!this.props.commondesign.showRuler}})},clearLine:()=>{N({type:"commondesign/setState",payload:{normalLineSArr:[],normalLineLArr:[]}})},clean:()=>{n({title:"\u63D0\u793A",content:"\u6E05\u7A7A\u9875\u9762\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk(){N({type:"globaldesign/changeState",payload:{selectElement:""}}),(0,P.eD)({head:"",body:"",foot:""},r,te)},onCancel(){ve.ZP.info("\u5DF2\u53D6\u6D88\u64CD\u4F5C")}})},quit:()=>{if(window.changeState)var pe=n({title:"\u63D0\u793A",className:"model-confirm-wrapper",content:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{children:"\u5F53\u524D\u9875\u9762\u5DF2\u4FEE\u6539\uFF0C\u662F\u5426\u4FDD\u5B58\uFF1F"}),(0,u.jsxs)("div",{className:"footerBox",children:[(0,u.jsx)(ne.Z,{onClick:()=>{pe.destroy()},children:"\u53D6\u6D88"}),(0,u.jsx)(ne.Z,{onClick:()=>{window.changeState=!1,location.href="/",pe.destroy()},children:"\u4E0D\u4FDD\u5B58"}),(0,u.jsx)(ne.Z,{type:"primary",onClick:()=>{var De=()=>{setTimeout(function(){window.changeState=!1,location.href="/"},1e3)};(0,T.Jq)(r,De),pe.destroy()},children:"\u4FDD\u5B58\u540E\u9000\u51FA"})]})]})});else window.close()}},xe={};return ye||o=="revoke"&&B<1||o=="recovery"&&B>=X?xe.className=o+" disabled":ie[o]?(xe.className=o,xe.onClick=ie[o]):xe.className=o,xe}}componentDidMount(){this.quickKeysEvent()}shouldComponentUpdate(){return!window.startMouseMove}renderChildDOM(){var o=this,r=o.props.form,s=(0,ee.lw)((0,ee.Kd)()),v=()=>{(0,P.YA)(o,!1)},p=()=>{o.setState({addModel:!0},()=>{var m=o.formRef.current;m.setFieldsValue({pageWidth:parseInt(L()("#canvasId").css("width")),pageHeight:parseInt(L()("#canvasId").css("height"))})})},C=()=>{(0,P.YA)(o,!0)};return(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",{onClick:v,children:[(0,u.jsx)("img",{className:"imgIcon",src:S()}),s.formatMessage({id:"common.set"})]}),(0,u.jsxs)("li",{onClick:p,children:[(0,u.jsx)("img",{className:"imgIcon",src:G()}),s.formatMessage({id:"common.save"})]}),(0,u.jsx)("li",{onClick:C,style:{backgroundColor:"#1890ff",color:"#fff",textIndent:0},children:s.formatMessage({id:"common.apply"})}),o.renderAddModel()]})}renderAddModel(){var o=this,r=this.props,s=r.dispatch,v=r.page,p=this.state.addModel,C=(0,ee.lw)((0,ee.Kd)()),m=()=>{var B=o.formRef.current;B.validateFields().then(X=>{B.resetFields();var ge=X.pageName,te=X.pageWidth,ye=X.pageHeight;window.startMouseMove=!1;var he='<div class="module onModule" style="width: '+te+"px; height: "+ye+'px; z-index: 50;" data-type="group" data-mid="m2e15f780656bf5b3">'+L()("#mainly").html()+"</div>";s({type:"page/addDesignAssembly",payload:{clientType:1,designType:1,type:2,title:ge,size:te+"|"+ye,detail:he},callback:ie=>{ie.success&&(this.setState({addModel:!1}),s({type:"page/getAssemblyList",payload:{clientType:1,designType:1,type:2}}))}})})},N=()=>{var B=this.props.dispatch;this.groupItem="",this.setState({addModel:!1}),window.startMouseMove=!1,B({type:"commondesign/setState",payload:{rightMenu:!1}})};return(0,u.jsx)(j.Z,{visible:p,onOk:m,onCancel:N,title:"\u6DFB\u52A0\u7EC4\u5408",children:(0,u.jsxs)(E.Z,{name:"addGroup",ref:this.formRef,className:A().formBox,children:[(0,u.jsx)(E.Z.Item,{label:C.formatMessage({id:"common.name"}),name:"pageName",rules:[{whitespace:!0,message:"\u8BF7\u8F93\u5165\u7EC4\u5408\u540D\u79F0"},{required:!0,message:"\u8BF7\u8F93\u5165\u7EC4\u5408\u540D\u79F0"},{max:6,message:"\u7EC4\u5408\u540D\u79F0\u4E0D\u5F97\u8D85\u8FC76\u4E2A\u5B57"}],children:(0,u.jsx)(Oe.Z,{placeholder:"\u8BF7\u8F93\u5165\u7EC4\u5408\u540D\u79F0"})}),(0,u.jsxs)("div",{className:"rowBox",children:[(0,u.jsx)("div",{className:"colBox",children:(0,u.jsx)(E.Z.Item,{label:C.formatMessage({id:"explorer.app.with"}),name:"pageWidth",rules:[{required:!0,message:"\u8BF7\u8BBE\u7F6E\u5BBD\u5EA6"}],children:(0,u.jsx)(de.Z,{placeholder:"\u8BF7\u8BBE\u7F6E\u5BBD\u5EA6"})})}),(0,u.jsx)("div",{className:"colBox",style:{marginLeft:"4%"},children:(0,u.jsx)(E.Z.Item,{label:C.formatMessage({id:"explorer.app.height"}),name:"pageHeight",rules:[{required:!0,message:"\u8BF7\u8BBE\u7F6E\u9AD8\u5EA6"}],children:(0,u.jsx)(de.Z,{placeholder:"\u8BF7\u8BBE\u7F6E\u9AD8\u5EA6"})})})]})]})})}render(){var o=this,r=this.props,s=r.globaldesign,v=r.record,p=r.storagedesign,C=r.commondesign,m=r.dispatch,N=C.isEditChildModule,B=C.mainDesignId,X=C.designId,ge=C.clientType,te=s.scale,ye=s.version,he=s.toolHeadHeight,ie=s.importBloo,xe=s.pasteBloo,pe=s.showRuler,De=s.showGuide,Le=s.showGridLines,oe=(0,ee.lw)((0,ee.Kd)()),fe=(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(g.Z.Item,{onClick:()=>{m({type:"globaldesign/changeState",payload:{showRuler:!pe}})},children:pe?(0,u.jsx)("a",{style:{color:"#1890ff"},children:oe.formatMessage({id:"mack.dsa.d"})}):(0,u.jsx)("a",{children:oe.formatMessage({id:"mack.dsa.d"})})}),(0,u.jsx)(g.Z.Item,{onClick:()=>{m({type:"globaldesign/changeState",payload:{showGuide:!De}})},children:De?(0,u.jsx)("a",{style:{color:"#1890ff"},children:oe.formatMessage({id:"mack.dsa.e"})}):(0,u.jsx)("a",{children:oe.formatMessage({id:"mack.dsa.e"})})}),(0,u.jsx)(g.Z.Item,{onClick:()=>{m({type:"globaldesign/changeState",payload:{showGridLines:!Le}})},children:Le?(0,u.jsx)("a",{style:{color:"#1890ff"},children:oe.formatMessage({id:"mack.dsa.f"})}):(0,u.jsx)("a",{children:oe.formatMessage({id:"mack.dsa.f"})})})]});return(0,u.jsx)(se,{style:{width:"100%"},className:A().headerStyle,style:{height:he,lineHeight:he+"px"},children:(0,u.jsx)("div",{className:"toolBox "+ye,children:N?o.renderChildDOM():(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",(0,q.Z)((0,q.Z)({},o.attrEvent("preview")),{},{children:[(0,u.jsx)("img",{className:"imgIcon",src:F()}),oe.formatMessage({id:"common.preview"})]})),(0,u.jsxs)("li",(0,q.Z)((0,q.Z)({},o.attrEvent("save")),{},{children:[(0,u.jsx)("img",{className:"imgIcon",src:G()}),oe.formatMessage({id:"common.save"})]})),(0,u.jsx)(w.Z,{overlay:fe,children:(0,u.jsxs)("li",(0,q.Z)((0,q.Z)({},o.attrEvent("tool")),{},{children:[(0,u.jsx)("img",{className:"imgIcon",src:ae()}),oe.formatMessage({id:"common.tools"})]}))}),(0,u.jsxs)("li",(0,q.Z)((0,q.Z)({},o.attrEvent("clean")),{},{children:[(0,u.jsx)("img",{className:"imgIcon",src:ke()}),oe.formatMessage({id:"mack.dsa.a"})]})),(0,u.jsx)("li",(0,q.Z)((0,q.Z)({},o.attrEvent("minScale")),{},{children:(0,u.jsx)("img",{className:"imgIcon",src:He()})})),(0,u.jsx)("li",(0,q.Z)((0,q.Z)({},o.attrEvent("scale")),{},{children:(0,u.jsxs)("span",{children:[parseInt(te*100),"%"]})})),(0,u.jsx)("li",(0,q.Z)((0,q.Z)({},o.attrEvent("maxScale")),{},{children:(0,u.jsx)("img",{className:"imgIcon",src:Ue()})})),(0,u.jsxs)("li",(0,q.Z)((0,q.Z)({},o.attrEvent("revoke")),{},{title:oe.formatMessage({id:"mack.dsa.b"}),children:[(0,u.jsx)("img",{className:"imgIcon",src:x()}),(0,u.jsxs)("span",{className:"text",children:[" ",oe.formatMessage({id:"mack.dsa.b"})]})]})),(0,u.jsxs)("li",(0,q.Z)((0,q.Z)({},o.attrEvent("recovery")),{},{title:oe.formatMessage({id:"mack.dsa.c"}),children:[(0,u.jsx)("img",{className:"imgIcon",src:M()}),(0,u.jsxs)("span",{className:"text",children:[" ",oe.formatMessage({id:"mack.dsa.c"})]})]})),(0,u.jsxs)("li",(0,q.Z)((0,q.Z)({},o.attrEvent("quit")),{},{title:oe.formatMessage({id:"explorer.toolbar.uiLogout"}),children:[(0,u.jsx)("img",{className:"imgIcon",src:S()}),(0,u.jsx)("span",{className:"text",children:oe.formatMessage({id:"explorer.toolbar.uiLogout"})})]}))]})})})}})||_);$e.Z=t},16381:function(Ee,$e,e){"use strict";var R=e(11849),w=e(18106),q=e(95562),V=e(67294),g=e(28216),we=e(57254),de=e(58491),je=e(30672),Oe=e(3231),Te=e(19755),ne=e.n(Te),U=e(7861),ve=e(39592),k=e.n(ve),E=e(85893),W,j,i=V.lazy(()=>Promise.all([e.e(90939),e.e(81628),e.e(81345),e.e(87849),e.e(2323),e.e(53390),e.e(67223),e.e(26410)]).then(e.bind(e,26410))),O=V.lazy(()=>e.e(23209).then(e.bind(e,23209))),y=V.lazy(()=>e.e(78386).then(e.bind(e,78386))),d=null,f=V.lazy(()=>e.e(11016).then(e.bind(e,11016))),H=q.Z.TabPane,L=(W=(0,g.$j)(c=>{var ee=c.globaldesign,b=c.page,A=c.commondesign;return{globaldesign:ee,page:b,commondesign:A}}),W(j=class extends V.Component{constructor(){super(...arguments);this.state={activeKey:"Assembly",show:localStorage.designSchoolLeft!="false"},this.getPageList=ee=>{var b=this.props,A=b.dispatch,I=b.commondesign,P=I.designType,T=I.clientType;A({type:"page/getDesignList",payload:{designType:2,clientType:T,pageSize:1e3},callback:z=>{if(z.success){if(Array.isArray(z.data)){var F=!0;z.data.forEach(Z=>{Z.url=="pageFolderWarehouse"&&(F=!1,this.setState({folderDeiginId:Z.designId}),this.getFolderData(Z.designId))}),F&&this.createFolderWarehouse(z.data)}ee=="add"&&ne()("#page").scrollTop(ne()("#page .ant-menu").height())}}})},this.createFolderWarehouse=ee=>{var b=this.props,A=b.dispatch,I=b.commondesign,P=I.clientType;A({type:"page/addCommonDesign",payload:{designType:2,clientType:P,title:"\u76EE\u5F55\u6570\u636E",size:"1200|800",url:"pageFolderWarehouse"},callback:T=>{if(T.success){this.setState({folderDeiginId:T.data});var z=[];ee.map(Z=>{Z.url!=="pageFolderWarehouse"&&z.push({parentId:"10000",designId:Z.designId})});var F=[{folderId:"10000",folderName:"\u4E8C\u7EA7\u9875",children:z}];return this.setState({folderData:F}),this.updateFolderData(F),!0}}})},this.getDesignIdArray=(ee,b)=>{var A=this.state.folderDeiginId,I=this.props.page.pageList,P={},T=[],z=[],F=Z=>{Z.map(G=>{G&&G.children&&F(G.children),G.designId&&(z.push({parentId:"main",designId:G.designId}),P[G.designId]=!0)})};return F(ee),b?z:(I.map(Z=>{!P[Z.designId]&&Z.designId!=A&&T.push({parentId:"main",designId:Z.designId})}),T)},this.getCoverFolderData=ee=>{var b=ee,A=(I,P)=>{for(var T=I.length-1;T>-1;T--){var z=I[T];z?P?z.parentId=P:z.parentId="main":I.splice(T,1),z.children&&A(z.children,z.folderId)}};return A(b),b},this.getFolderData=ee=>{var b=this.props.dispatch;b({type:"page/getDesignCatalog",payload:{designId:ee},callback:A=>{if(A.success&&A.data){var I=A.data.body&&(0,U.pM)(A.data.body)?JSON.parse(A.data.body):[{folderId:"10000",folderName:"\u4E8C\u7EA7\u9875",children:[]}],P=this.getCoverFolderData(I),T=this.getDesignIdArray(P);b({type:"page/saveFolderData",payload:[...P,...T]})}}})}}componentDidMount(){ne()("[tabindex]").removeAttr("tabindex"),this.getPageList()}shouldComponentUpdate(){return!window.startMouseMove}renderFloatCon(ee){switch(ee){case"Page":return(0,E.jsx)(i,{});case"Section":return(0,E.jsx)(O,{});case"Assembly":return(0,E.jsx)(y,{});case"Combination":return(0,E.jsx)(f,{});default:}}render(){var ee=this,b=this.props,A=b.commondesign,I=b.globaldesign,P=A.importBloo,T=A.isEditChildModule,z=I.selectElement,F=this.state,Z=F.activeKey,G=F.show,J=(0,je.lw)((0,je.Kd)()),ae=()=>{this.setState({show:!G}),localStorage.designSchoolLeft=!G},ue=le=>{this.setState({activeKey:le})},ke={id:"leftBarBox",className:k().leftBarBox,style:G?{height:"80vh"}:{height:"30px"},onMouseDown:le=>{if(ne()(le.target).hasClass("headerMoveBtn")){var He=le.pageX,K=le.pageY,Ue=ne()("#leftBarBox"),h=parseInt(Ue.css("left")),x=parseInt(Ue.css("top")),D=Y=>{var S=h-He+Y.pageX,u=x-K+Y.pageY;Ue.css({left:S+"px",top:u+"px"})},M=Y=>{};(0,U.Y0)(D,M)}}};return P&&Z!=="Page"&&this.setState({activeKey:"Page"}),T&&Z!=="Assembly"&&Z!=="Combination"&&this.setState({activeKey:"Assembly"}),(0,E.jsxs)("div",(0,R.Z)((0,R.Z)({},ke),{},{children:[(0,E.jsxs)("div",{className:"leftHeader",children:[(0,E.jsxs)("div",{className:"headerMoveBtn",children:[J.formatMessage({id:"mack.dsb.a"}),J.formatMessage({id:"menu.manage"})," "]}),(0,E.jsxs)("div",{className:"rightBtn",onClick:ae,children:[G?(0,E.jsx)(we.Z,{}):(0,E.jsx)(de.Z,{})," "]})]}),G&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(q.Z,{defaultActiveKey:P?"Page":"Assembly",onChange:ue,id:"clearTabIndex",children:[(0,E.jsx)(H,{tab:J.formatMessage({id:"mack.dsb.a"}),disabled:T},"Page"),(0,E.jsx)(H,{tab:J.formatMessage({id:"mack.dsb.b"}),disabled:P},"Assembly"),(0,E.jsx)(H,{tab:J.formatMessage({id:"mack.dsb.c"}),disabled:P},"Combination"),(0,E.jsx)(H,{tab:J.formatMessage({id:"mack.dsb.d"}),disabled:P||T},"Section")]}),Z?(0,E.jsx)("div",{style:{height:"calc(100% - 75px)"},children:(0,E.jsx)(V.Suspense,{fallback:(0,Oe.Z)(),children:ee.renderFloatCon(Z)})}):""]})]}))}})||j);$e.Z=L},8561:function(Ee,$e,e){"use strict";var R=e(11849),w=e(18106),q=e(95562),V=e(67294),g=e(28216),we=e(57254),de=e(58491),je=e(30672),Oe=e(3231),Te=e(19755),ne=e.n(Te),U=e(7861),ve=e(43252),k=e.n(ve),E=e(85893),W,j,i=V.lazy(()=>e.e(2185).then(e.bind(e,2185))),O=q.Z.TabPane,y=(W=(0,g.$j)(d=>{var f=d.globaldesign;return{globaldesign:f}}),W(j=class extends V.Component{constructor(){super(...arguments);this.state={activeKey:"Setting",show:localStorage.designSchoolRight!="false"}}componentDidMount(){}shouldComponentUpdate(){return!window.startMouseMove}renderFloatCon(f){switch(f){case"Setting":return(0,E.jsx)(i,{});default:}}render(){var f=this,H=this.state,L=H.activeKey,c=H.show,ee=this.props.globaldesign,b=ee.version,A=ee.selectElement,I=ee.differenceType,P=(0,je.lw)((0,je.Kd)()),T=()=>{this.setState({show:!c}),localStorage.designSchoolRight=!c},z=Z=>{this.setState({activeKey:Z})},F={id:"rightBarBox",className:k().rightBarBox,style:(0,R.Z)((0,R.Z)({},c?{height:"80vh"}:{height:"30px"}),I==2?{left:230+ne()(document).width()/2}:{}),onMouseDown:Z=>{if(ne()(Z.target).hasClass("headerMoveBtn")){var G=Z.pageX,J=Z.pageY,ae=ne()("#rightBarBox"),ue=parseInt(ae.css("left")),ke=parseInt(ae.css("top")),le=K=>{var Ue=ue-G+K.pageX,h=ke-J+K.pageY;ae.css({left:Ue+"px",top:h+"px"})},He=K=>{};(0,U.Y0)(le,He)}}};return A&&A.length>0?(0,E.jsxs)("div",(0,R.Z)((0,R.Z)({},F),{},{children:[(0,E.jsxs)("div",{className:"leftHeader",children:[(0,E.jsxs)("div",{className:"headerMoveBtn",children:[P.formatMessage({id:"common.edit"})," "]}),(0,E.jsxs)("div",{className:"rightBtn",onClick:T,children:[c?(0,E.jsx)(we.Z,{}):(0,E.jsx)(de.Z,{})," "]})]}),c&&(0,E.jsx)(E.Fragment,{children:L?(0,E.jsx)("div",{style:{height:"calc(100% - 30px)",overflowY:"scroll"},children:(0,E.jsx)(V.Suspense,{fallback:(0,Oe.Z)(),children:f.renderFloatCon(L)})}):""})]})):(0,E.jsx)("div",{style:{position:"absolute"}})}})||j);$e.Z=y},56173:function(Ee,$e,e){"use strict";e.d($e,{vc:function(){return w},Sy:function(){return q},II:function(){return V},bf:function(){return g},wS:function(){return de},Ho:function(){return je},h5:function(){return Oe},cM:function(){return Te},e:function(){return ne}});var R=e(85893),w={vague:10,limitX:!1,limitY:!0,scrollMove:10},q={formItemLayout:{style:{width:"100%",marginBottom:0},labelCol:{span:6,style:{textAlign:"left"}},wrapperCol:{span:24}},formItemLayout1:{style:{width:"100%"},labelCol:{span:4},wrapperCol:{span:24}},formItemLayout2:{label:(0,R.jsx)("span",{children:"X"}),style:{width:"100%",marginTop:39},labelCol:{span:3},wrapperCol:{span:21,style:{textAlign:"left"}},colon:!1},formItemLayout3:{style:{width:"100%"},labelCol:{span:2},wrapperCol:{span:21}}};function V(U,ve){var k=ve.props.globaldesign,E=k.differenceType,W="/pages";(E==2||E==4)&&(W="/pages/wap");var j=U.courseWareType+"",i=U.courseWareId,O=U.courseId,y=U.price,d="",f=!1;switch(j){case"1":f=!0;break;case"2":f=!0;break;case"3":f=!0;break;case"4":f=!0;break;case"5":f="weizhibo";break;default:f=!1}return d=y?W+"/ware.html?cid=".concat(O,"&rid=").concat(i):W+"/info.html?cid=".concat(O),d}function g(U){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return ve==2||ve==4?parseInt(U)/37.5+"rem":parseInt(U)+"px"}function we(U,ve,k){var E=U["border"+k],W=U.borderArr,j="w";switch(k){case"Width":j="w";break;case"Style":j="s";break;case"Color":j="c";break}if(U.borderType=="b"){if(!W)return!1;ve.setAttribute("data-bst","b"),ve.style["borderLeft"+k]=k=="Width"?g(W.l[j]):W.l[j],ve.style["borderTop"+k]=k=="Width"?g(W.t[j]):W.t[j],ve.style["borderRight"+k]=k=="Width"?g(W.r[j]):W.r[j],ve.style["borderBottom"+k]=k=="Width"?g(W.b[j]):W.b[j]}else ve.setAttribute("data-bst","a"),ve.style["border"+k]=k=="Width"?g(E):E}function de(U,ve){var k=ve.props,E=k.commondesign,W=k.globaldesign,j=E.designId,i=W.differenceType,O="/pages";(i==2||i==4)&&(O="/pages/wap");var y="",d={},f=[],H={},L=[],c=U.data;switch(U.hrefType){case"mainClassify":var ee=c.courseClassifyId||c.mainClassify;y=O+"/elective.html?mainClassify="+ee,U.data={mainClassify:ee},d["data-href"]=JSON.stringify(U);break;case"childClassify":var b=c.parentId||c.mainClassify,A=c.courseClassifyId||c.childClassify;y=O+"/elective.html?mainClassify="+b+"&childClassify="+A,U.data={mainClassify:b+"",childClassify:A+""},d["data-href"]=JSON.stringify(U);break;case"course":parseInt(c.courseType)==2?y=O+"/bundle.html?cid="+c.courseId:y=O+"/info.html?cid="+c.courseId,U.data={mainClassify:c.mainClassify,childClassify:c.childClassify,courseType:c.courseType,courseId:c.courseId},d["data-href"]=JSON.stringify(U);break;case"courseware":var I=U.data;if(c.keys){var P=c.keys[0].split("|");c.mainClassify=P[0],c.childClassify=P[1]}if(I.audition=="1"&&(parseInt(I.courseWareType)==0||parseInt(I.courseWareType)==5)&&I.videoM3u8FileAddress)parseInt(I.videoModal)==1?(d["data-handle"]="audition",d["data-handleaudition"]="courseId="+I.courseId+"&courseWareId="+I.courseWareId+"&designId="+j):y="/views/common/audition.html?courseId="+I.courseId+"&courseWareId="+I.courseWareId+"&designId="+j,d["data-audition"]=I.courseWareId;else if(I.audition=="1"&&0<parseInt(I.courseWareType)&&parseInt(I.courseWareType)<5)parseInt(I.videoModal)==1?(d["data-handle"]="audition",d["data-handleaudition"]="courseId="+I.courseId+"&courseWareId="+I.courseWareId+"&designId="+j+"&sourceId="+(I.picSourceId||I.tencentPicSourceId)):y="/views/common/audition.html?courseId="+I.courseId+"&courseWareId="+I.courseWareId+"&designId="+j+"&sourceId="+(I.picSourceId||I.tencentPicSourceId),d["data-audition"]=I.courseWareId;else if(I.visitor=="1"&&0<parseInt(I.courseWareType)&&parseInt(I.courseWareType)<5&&I.docPlay&&I.hlsDocPlay){var T=new Base64,z=T.encode(I.docPlay),F=T.encode(I.hlsDocPlay);y="/views/common/visitor.html?courseWareId="+I.courseWareId+"&docplay="+z+"&hlsdocplay="+F}else f.push("audition"),y=V(c,ve);U.data={courseWareId:c.courseWareId,courseDirectoryId:c.courseDirectoryId,courseId:c.courseId,mainClassify:c.mainClassify,childClassify:c.childClassify,courseWareType:c.courseWareType,price:c.price,videoM3u8FileAddress:c.videoM3u8FileAddress,audition:c.audition,videoModal:c.videoModal,visitor:c.visitor,docPlay:c.docPlay,hlsDocPlay:c.hlsDocPlay,picSourceId:c.picSourceId,tencentPicSourceId:c.tencentPicSourceId},d["data-href"]=JSON.stringify(U);break;case"question":U.data={commonQuestionnaireId:c.commonQuestionnaireId,isAnonymous:c.isAnonymous},d["data-href"]=JSON.stringify(U),c.isAnonymous?y="/myroom/#/nolimit/questionnaire/answer/"+c.commonQuestionnaireId:y="/myroom/#/questionnaire/answer/"+c.commonQuestionnaireId;break;case"infoClassify":U.data={infoExpandedKeys:c.infoExpandedKeys,infoTypeID:c.infoTypeID,infoValue:c.infoValue},d["data-href"]=JSON.stringify(U),y=O+"/newslist.html?typeId="+c.infoTypeID+"&infoValue="+c.infoValue;break;case"information":U.data={infoID:c.infoID,infoExpandedKeys:c.infoExpandedKeys,infoTypeID:c.infoTypeID},d["data-href"]=JSON.stringify(U),y="/pubinfo/".concat(c.infoID,".shtml");break;case"shopClassify":U.data={shopClassifyId:c.shopClassifyId,shopExpandedKeys:c.shopExpandedKeys},d["data-href"]=JSON.stringify(U),y="/shop/?shopClassifyId="+c.shopClassifyId;break;case"shop":U.data={shopId:c.shopId,shopExpandedKeys:c.shopExpandedKeys,shopClassifyId:c.shopClassifyId},d["data-href"]=JSON.stringify(U),y="/shop/item.html?itemid="+c.shopId;break;case"member":U.data={vipId:c.vipId,deadline:c.deadline,price:c.price,cover:c.cover,vipName:c.vipName,remark:c.remark},d["data-href"]=JSON.stringify(U),U.goBuyCar=="1"?(L.push("data-event"),U.vipType=="1"?y="/shop/vipItem.html?itemid="+c.vipId:y=O+"/memberDetail.html?vipId="+c.vipId):H["data-event"]="goBuyCar";break;case"forum":U.data={courseId:c.courseId},d["data-href"]=JSON.stringify(U),y="/myroom/#/learn/detail/"+c.courseId+"?1";break;case"school":d["data-href"]=JSON.stringify(U),d["data-handle"]=c.handle,c.handle=="getUsername"&&(d["data-designId"]=j);break;case"link":d["data-href"]=JSON.stringify(U),y=c.url;break;case"dialog":d["data-href"]=JSON.stringify(U),d["data-handle"]="dialogBtn",y=c.url;break;case"compage":d["data-href"]=JSON.stringify(U),y=c.url;break;case"page":d["data-href"]=JSON.stringify(U),y=c.url;break;case"formData":U.data={title:c.title,formId:c.formId,userId:c.userId},d["data-href"]=JSON.stringify(U);var Z=new Base64,G=Z.encode(U.data.userId+"");y="/portal/form.html?formId="+c.formId+"&shareId="+G;break;default:}return{url:y,attrParam:d,removeAttrParam:f,boxAttrParam:H,boxRemoveAttrParam:L}}function je(U){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"560_336",k=U.split("."),E="small";switch(ve){case"false":return""+U;case"large":E="large";break;case"medium":E="medium";break;case"small":E="small";break;case"tiny":E="tiny";break;case"secondary":E="secondary";break;default:return U}return""+k[0]+"!"+E+"."+k[1]}var Oe=1e3,Te=50,ne=100},41273:function(Ee,$e,e){"use strict";e.d($e,{U$:function(){return U},ol:function(){return k},pl:function(){return E},Kx:function(){return j},kd:function(){return O},OS:function(){return y},J$:function(){return d},Vg:function(){return L},_3:function(){return c},tX:function(){return ee},gu:function(){return J},gV:function(){return ke},V3:function(){return He},J2:function(){return K},q4:function(){return Ue}});var R=e(11849),w=e(34792),q=e(48086),V=e(30672),g=e(56173),we=e(89256),de=e(7861),je=e(38986),Oe=e(37226),Te=(0,V.lw)((0,V.Kd)()),ne=20,U=()=>{var h=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return"m"+h()+h()+h()+h()},ve={};function k(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(h!=="none"){var x=h.split(")"),D=(x[1]||"").split(" ");return{color:x[0]+")",x:parseInt(D[1]),y:parseInt(D[2]),blur:parseInt(D[3]),spread:parseInt(D[4])}}else return{color:"#ccc",x:0,y:0,blur:0,spread:0}}function E(){for(var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",x=h.split(" "),D="",M=2,Y=x.length;M<Y;M++)D+=x[M];return[x[0],x[1],D]}function W(h){h=h.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);function x(D){return("0"+parseInt(D).toString(16)).slice(-2)}return"#"+x(h[1])+x(h[2])+x(h[3])}function j(h){var x=h.css("transform");if(x=="none"||!x)return 0;var D=x.split("(")[1].split(")")[0].split(","),M=Math.round(Math.acos(D[0])*360/(2*Math.PI));return D[1]<0?-M:M}function i(h,x){var D=[],M="",Y=S=>{var u=S.parent(),Q=u.attr("data-mid");Q?(D.splice(0,0,Q),Y(u)):(M=u.attr("id"),D.splice(0,0,u.attr("id")))};return Y(h),x?M:D}function O(h,x,D){var M=x.target,Y=x.element,S=x.StartY,u=x.StartX,Q=x.StartW,_=x.StartH,me=x.scale,se=x.e,n=x.isLockRatio,a=x.minWidth,t=a===void 0?0:a,l=n||window.shiftKey,o=(h.pageX-se.pageX)/me,r=(h.pageY-se.pageY)/me,s={top:S,left:u,width:Q,height:_},v=Q/_,p=t||ne;switch(M.attr("type")){case"tLeft":s.left=u+o,s.width=Q-o,s.top=S+r,s.height=_-r,Q-o<ne&&(s.left=u+Q-ne,s.width=ne),_-r<ne&&(s.top=S+_-ne,s.height=ne),l&&(o*o>r*r?(s.height=s.width/v,s.top=S-(s.height-_)):(s.width=s.height*v,s.left=u-(s.width-Q)));break;case"tCenter":s.top=S+r,s.height=_-r,_-r<ne&&(s.top=S+_-ne,s.height=ne),l&&(s.width=s.height*v,s.left=u-(s.width-Q)/2);break;case"tRight":s.top=S+r,s.width=Q+o,s.height=_-r,Q+o<ne&&(s.width=ne),_-r<ne&&(s.top=S+_-ne,s.height=ne),l&&(o*o>r*r?(s.height=s.width/v,s.top=S-(s.height-_)):s.width=s.height*v);break;case"lLeft":s.left=u+o,s.width=Q-o,Q-o<p&&(s.left=u+Q-p,s.width=p),l&&(s.height=s.width/v,s.top=S-(s.height-_)/2);break;case"rRight":s.width=Q+o,Q+o<ne&&(s.width=ne),l&&(s.height=s.width/v,s.top=S-(s.height-_)/2);break;case"bLeft":s.left=u+o,s.width=Q-o,s.height=_+r,Q-o<ne&&(s.left=u+Q-ne,s.width=ne),_+r<ne&&(s.height=ne),l&&(o*o>r*r?s.height=s.width/v:(s.width=s.height*v,s.left=u-(s.width-Q)));break;case"bCenter":s.height=_+r,_+r<ne&&(s.height=ne),l&&(s.width=s.height*v,s.left=u-(s.width-Q)/2);break;case"bRight":s.width=Q+o,s.height=_+r,Q+o<ne&&(s.width=ne),_+r<ne&&(s.height=ne),l&&(o*o>r*r?s.height=s.width/v:s.width=s.height*v);break}return s={top:s.top,left:s.left,width:s.width,height:s.height},s}function y(h){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ee();var D=$(".vagueModule");D.removeClass("vagueModule");var M=$(".onModule");M.removeClass("onModule"),M.find(".suspenTool, .vagueLineBox").remove();var Y=M.attr("data-hover-mid-on");Y&&(M.removeAttr("data-hover-mid-on"),M.attr("data-hover-mid",Y)),$(".suspendMenuBox").remove();var S=h.props,u=S.dispatch,Q=S.globaldesign;$(".box.editable").blur(),x&&u({type:"globaldesign/changeState",payload:{selectElement:""}})}function d(h,x){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"single";D=="single"&&y(x,!1),h.addClass("onModule");var M=h.attr("data-hover-mid");if(M&&(h.attr("data-hover-mid-on",M),h.removeAttr("data-hover-mid")),h.removeClass("shearModule"),h.append(A(h,D,x)),h.hasClass("formModule")){var Y=h.attr("data-form-type"),S=(0,de.GA)("form/image/canvas"),u='<div class="closeFormModuleBtn formModuleBtn" style="background-image: url('.concat(S+"/close.png",')"></div>'),Q=["name","company","department","position","nickName","sex","birthday","mobile"];Q.indexOf(Y)<0&&(u+='<div class="copyFormModuleBtn formModuleBtn" style="background-image: url('.concat(S+"/copy.png",')"></div>'));var _=h.prev();_&&_.hasClass&&(_.hasClass("formModule")||_.hasClass("mergeBox")&&_.find(".formModule").length<4)&&(u+='<div class="mergeFormModuleBtn formModuleBtn" style="background-image: url('.concat(S+"/up.png",')"></div>')),u+='<div class="breakFormModuleBtn formModuleBtn" style="background-image: url('.concat(S+"/down.png",')"></div>'),u+='<div class="leftChangeFormModuleBtn formModuleBtn" style="background-image: url('.concat(S+"/change.png",')"></div>'),u+='<div class="rightChangeFormModuleBtn formModuleBtn" style="background-image: url('.concat(S+"/change.png",')"></div>'),h.find(".suspenTool").append(u)}var me=parseInt(h.css("left")),se=parseInt(h.css("top"));if(h.append(I(D)),ve={angle:j(h)},D=="single"){var n=x.props.dispatch;n({type:"globaldesign/changeState",payload:{selectElement:h}})}}function f(h,x,D){var M=D||U();h.addClass("module").removeClass("multiModule"),h.attr("data-type","group"),h.attr("data-mid",M),h.css({zIndex:50}),h.unbind("mousedown");var Y=parseInt(h.css("left")),S=parseInt(h.css("top")),u="";return x.each(Q=>{var _=x.eq(Q),me=parseInt(_.css("left")),se=parseInt(_.css("top"));_.css({left:me-Y,top:se-S}),_.remove(),u+=_.prop("outerHTML")}),h.html(u),M}function H(h,x){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=h.find("> .module"),Y=h.parent(),S=parseInt(h.css("left")),u=parseInt(h.css("top")),Q="";M.each(_=>{var me=M.eq(_),se=parseInt(me.css("left")),n=parseInt(me.css("top"));D||Z.push(me.attr("data-mid")),me.css({left:se+S,top:n+u}),Y.append(me.prop("outerHTML")),me.remove()}),h.remove()}function L(h){var x=h.props.dispatch,D=$(".onModule");if(D.length<1)return!1;if(D.length<2)return d(D,h),!1;var M=parseInt(D.eq(0).css("top")),Y=parseInt(D.eq(0).css("left")),S=0,u=0,Q=D.eq(0).css("zIndex");D.each(se=>{var n=D.eq(se),a=parseInt(n.css("top")),t=parseInt(n.css("left")),l=t+parseInt(n.css("width")),o=a+parseInt(n.css("height")),r=n.css("zIndex");M=a<M?a:M,Y=t<Y?t:Y,S=l>S?l:S,u=o>u?o:u,Q=r>Q?r:Q});var _="top: ".concat(M,`px;
                 left: `).concat(Y,`px;
                 width: `).concat(S-Y,`px;
                 height: `).concat(u-M,`px;

                `);D.parent().append('<div class="multiModule" style="'+_+'"></div>');var me=$(".multiModule");me.on("mousedown",function(se){J(D,"move");var n=se.pageY,a=se.pageX,t=parseInt(me.css("top"))-n,l=parseInt(me.css("left"))-a,o=s=>{me.css({top:s.pageY+t,left:s.pageX+l});var v=s.pageY-n,p=s.pageX-a;c(D,v,p)},r=s=>{ke({type:"move",parentSelf:h})};(0,de.Y0)(o,r)}),x({type:"globaldesign/changeState",payload:{selectElement:me}})}function c(h,x,D){h.each(M=>{var Y=h.eq(M),S=Y.attr("data-mid");Y.css({top:G[S].top+x,left:G[S].left+D})})}function ee(h,x){var D=h||$(".multiModule");D.remove()}function b(h){var x=h.attr("data-type"),D=x&&Oe.t$[x]&&Oe.t$[x].tool,M="",Y=parseInt(h.css("left")),S=parseInt(h.outerWidth()),u=Y<0?S+Y<89?S-89:-Y:0,Q=0;if(Array.isArray(D)&&D.length>0){M+='<div class="suspendMenuBox" style="left: '+u+"px;top: "+(Q-28)+'px;">';for(var _=0,me=D.length;_<me;_++)switch(D[_]){case"edit":h.hasClass("dl-tabs-content")?M+='<li data-tool="tabpane">'+Te.formatMessage({id:"common.edit"})+"</li>":h.hasClass("menuBox")?M+='<li data-tool="menuBox">'+Te.formatMessage({id:"common.edit"})+"</li>":M+='<li data-tool="'+x+'">'+Te.formatMessage({id:"common.edit"})+"</li>";break;case"show":M+='<li data-tool="show">'+Te.formatMessage({id:"common.display"})+"</li>";break;case"change":M+='<li data-tool="'+D[_]+'">\u5207\u6362</li>';break;case"changeTab":M+='<li data-tool="changeTab">\u5207\u6362\u6807\u7B7E</li>';break;case"picture":M+='<li data-tool="'+D[_]+'"><i aria-label="\u56FE\u6807: picture" class="anticon anticon-picture"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="picture" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 1 0 0-176 88 88 0 0 0 0 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z"></path></svg></i></li>';break;case"href":M+='<li data-tool="'+D[_]+'"><i aria-label="\u56FE\u6807: link" class="anticon anticon-link"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="link" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"></path></svg></i></li>';break;case"menu":if(!window.isEditChildModule&&!window.isMobile){M+='<li data-tool="menu">'+Te.formatMessage({id:"mack.dsc.ad"})+"</li>";var se=h.find(">.menuBox");se.length>0&&(M+='<li data-tool="menuHide">\u7F16\u8F91\u83DC\u5355</li>')}break}h.find(">.hoverConBox").length>0&&!window.isEditChildModule&&!window.isMobile&&(M+='<li data-tool="hoverConBox">\u7F16\u8F91hover</li>'),M+="</div>"}return M}function A(h){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"single",D=h.attr("data-type"),M=D&&Oe.t$[D]&&Oe.t$[D].tool;if(x=="single"){var Y=["tLeft","tCenter","tRight","lLeft","rRight","bLeft","bCenter","bRight"];switch(D){case"transverse":Y=["lLeft","rRight"];break;case"vertical":Y=["tCenter","bCenter"];break;case"horizontalarrow":Y=["lLeft","rRight"];break;case"verticalarrow":Y=["tCenter","bCenter"];break;case"calendar":Y=["lLeft","rRight"];break;case"weather":Y=[];break;case"customer":Y=[];break;case"qrcode":Y=["tLeft","tRight","bLeft","bRight"];break}h.hasClass("hoverConBox")&&(Y=[]);for(var S="",u=0,Q=Y.length;u<Q;u++)S+='<div class="resize '.concat(Y[u],'"></div><div class="resizeHandle ').concat(Y[u],'" type="').concat(Y[u],'"> </div>');return S+=b(h),'<div class="suspenTool"> '.concat(S," </div>")}else return'<div class="suspenTool" style="opacity: 0.5;border-radius: 4px;"></div>'}function I(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"single";if(h=="single")return`<div class="vagueLineBox">
              <div class="horizontalLine vagueLeft"></div>
              <div class="horizontalLine vagueCenter"></div>
              <div class="horizontalLine vagueRight"></div>
              <div class="verticalLine vagueTop"></div>
              <div class="verticalLine vagueMiddle"></div>
              <div class="verticalLine vagueBottom"></div>
            </div>`}function P(h){var x=h.props,D=x.dispatch,M=x.globaldesign,Y=x.commondesign,S=Y.rightMenuEvent,u=Y.copyCase,Q=M.scale,_=M.startPageX,me=_===void 0?0:_,se=M.startPageY,n=se===void 0?0:se,a=M.pageWidth,t=M.pageHeight,l=M.endPageX,o=M.endPageY,r=M.selectElement,s=(S.pageY-o-t/2*(1-Q))/Q,v=(S.pageX-l-a/2*(1-Q))/Q,p=0,C=$(S.target).hasClass("topFloor")?$(S.target):$(S.target).parents(".topFloor"),m=$("#header").height(),N=$("#mainly").height();switch(C.attr("id")){case"header":break;case"mainly":p=m;break;case"footer":p=m+N;break}C.append('<div class="copyModule" style="opacity: 0;">'+u+"</div>");var B=$(".copyModule"),X=B.find(" > .module"),ge=parseInt(X.eq(0).css("top")),te=parseInt(X.eq(0).css("left"));X.each(he=>{var ie=X.eq(he),xe=parseInt(ie.css("top")),pe=parseInt(ie.css("left"));ge=xe<ge?xe:ge,te=pe<te?pe:te});var ye="";Z=[],X.each(he=>{var ie=X.eq(he),xe=parseInt(ie.css("top")),pe=parseInt(ie.css("left"));ie.css({top:s+xe-ge-p,left:v+pe-te});var De=U();Z.push(De),ie.attr("data-mid",De),ie.attr("data-type")=="calendar"||ie.attr("data-type")=="weather"||ie.attr("data-type")=="customer"||ie.attr("data-type")=="pageform"?q.ZP.warning("\u65E5\u5386\u3001\u5929\u6C14\u3001\u5BA2\u670D\u6A21\u5757\u53EA\u80FD\u6DFB\u52A0\u4E00\u4E2A"):ye+=ie.prop("outerHTML")}),$(".copyModule").remove(),C.append(ye),y(h,!1)}function T(h){var x=h.props,D=x.dispatch,M=x.globaldesign,Y=x.commondesign,S=Y.rightMenuEvent,u=M.scale,Q=M.startPageX,_=Q===void 0?0:Q,me=M.startPageY,se=me===void 0?0:me,n=M.pageWidth,a=M.pageHeight,t=M.endPageX,l=M.endPageY,o=M.selectElement,r=(S.pageY-l-a/2*(1-u))/u,s=(S.pageX-t-n/2*(1-u))/u,v=0,p=$(S.target).hasClass("topFloor")?$(S.target):$(S.target).parents(".topFloor"),C=$("#header").height(),m=$("#mainly").height();switch(p.attr("id")){case"header":break;case"mainly":v=C;break;case"footer":v=C+m;break}var N=$(".shearModule");N.removeClass("shearModule");var B=parseInt(N.eq(0).css("top")),X=parseInt(N.eq(0).css("left"));N.each(te=>{var ye=N.eq(te),he=parseInt(ye.css("top")),ie=parseInt(ye.css("left"));B=he<B?he:B,X=ie<X?ie:X});var ge="";N.each(te=>{var ye=N.eq(te),he=parseInt(ye.css("top")),ie=parseInt(ye.css("left"));ye.css({top:r+he-B-v,left:s+ie-X}),ge+=ye.prop("outerHTML"),ye.remove()}),p.append(ge)}function z(h,x){var D=h.parent,M=h.target,Y=h.data,S=h.parentSelf,u=S.props.globaldesign,Q=u.qrcode,_=u.logo,me=u.introduce,se=M.find(".module");se.each(o=>{se.eq(o).attr("data-mid",U())});var n=U();M.attr("data-mid",n),M.css((0,R.Z)((0,R.Z)({},Y),{},{zIndex:50}));var a=M.attr("data-type"),t=()=>{D.append(M.prop("outerHTML")),M.remove(),d($(".module[data-mid="+n+"]"),S),x&&x(n),(0,je.AF)(S)};switch(a){case"suspend":(0,de.vZ)({Suspend:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"rolling":(0,de.vZ)({Rolling:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"carousel":(0,de.vZ)({Carousel:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"time":(0,de.vZ)({Time:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"Flash":(0,de.vZ)({Flash:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"calendar":$(".topFloor").find(".module[data-type=calendar]").length>0?q.ZP.warning("\u65E5\u5386\u6A21\u5757\u53EA\u80FD\u6DFB\u52A0\u4E00\u4E2A"):(t(),self.myCalendar=new SimpleCalendar("#calendarbox"));break;case"weather":$(".topFloor").find(".module[data-type=weather]").length>0?q.ZP.warning("\u5929\u6C14\u6A21\u5757\u53EA\u80FD\u6DFB\u52A0\u4E00\u4E2A"):(t(),(0,Oe.b_)(S,()=>{d($(".module[data-mid="+n+"]"),S)}));break;case"MP3":(0,de.vZ)({Audio:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"iframe":(0,de.vZ)({Iframe:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"Map":(0,de.vZ)({Maps:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"course":(0,de.vZ)({Course:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"courseware":(0,de.vZ)({Courseware:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"article":(0,de.vZ)({Article:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"player":(0,de.vZ)({Player:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"shortvideo":(0,de.vZ)({ShortVideo:{visible:!0,element:M,callback:()=>{t()}}},S);break;case"qrcode":(0,de.vZ)({QRCode:{visible:!0,element:M,callback:o=>{t()}}},S);break;case"logo":M.html('<img src="'+_+'">'),t();break;case"introduce":M.css({background:"none"});var l=M.find(".box");l.text(me),l.css("height","auto"),M.css("height",l.height()),t();break;case"login":(0,de.vZ)({LoginBox:{visible:!0,element:M,callback:o=>{t()}}},S);break;case"registerLogin":(0,de.vZ)({RegisterLogin:{visible:!0,element:M,callback:o=>{t()}}},S);break;case"footerNav":(0,de.vZ)({FooterNav:{visible:!0,element:M,callback:o=>{t()}}},S);break;case"headerNav":(0,de.vZ)({HeaderNav:{visible:!0,element:M,callback:o=>{t()}}},S);break;case"magicNav":(0,de.vZ)({MagicNav:{visible:!0,element:M,callback:o=>{t()}}},S);break;case"tabNav":(0,de.vZ)({TabNav:{visible:!0,element:M,callback:o=>{t()}}},S);break;case"customer":$(".topFloor").find(".module[data-type=customer]").length>0?q.ZP.warning("\u5BA2\u670D\u6A21\u5757\u53EA\u80FD\u6DFB\u52A0\u4E00\u4E2A"):(0,de.vZ)({Customer:{visible:!0,element:M,callback:o=>{t()}}},S);break;case"pageform":$(".topFloor").find(".module[data-type=pageform]").length>0?q.ZP.warning("\u8868\u5355\u6A21\u5757\u53EA\u80FD\u6DFB\u52A0\u4E00\u4E2A"):(0,de.vZ)({PageForm:{visible:!0,element:M,callback:o=>{t()}}},S);break;case"topnav":(0,de.vZ)({TopNav:{visible:!0,element:M,callback:o=>{t()}}},S);break;default:t()}}function F(h,x){var D={};switch(x){case"fontFamily":D={fontFamily:h.css("fontFamily")};break;case"fontSize":D={fontSize:h.css("fontSize")};break;case"lineHeight":D={lineHeight:h.css("lineHeight")};break;case"textIndent":D={textIndent:h.css("textIndent")};break;case"fontWeight":D={fontWeight:h.css("fontWeight")};break;case"fontStyle":D={fontStyle:h.css("fontStyle")};break;case"textDecoration":D={textDecoration:h.css("textDecoration")};break;case"angle":D={transform:"rotate("+j(h)+"deg)"};break;case"zIndex":D={zIndex:h.css("zIndex")=="auto"?0:h.css("zIndex")};break;case"opacity":D={opacity:h.css("opacity")};break;case"backgroundColor":D={backgroundColor:h.css("backgroundColor")};break;case"border":D={borderWidth:h.css("borderWidth"),borderStyle:h.css("borderStyle"),borderColor:h.css("borderColor")};break;case"borderRadius":D={borderRadius:h.css("borderRadius")};break;case"boxShadow":D={boxShadow:h.css("boxShadow")};break;case"group":D={};break;case"shearPaste":var M=(0,we.rU)(h);D={css:{top:M.StartY,left:M.StartX,width:M.StartW,height:M.StartH},parentId:h.parent().attr("id"),parentMid:h.parent().attr("data-mid")};break;case"copyPaste":var Y=(0,we.rU)(h);D={css:{top:Y.StartY,left:Y.StartX,width:Y.StartW,height:Y.StartH},outerHTML:h.prop("outerHTML"),parentId:h.parents(".topFloor").attr("id"),parentMid:h.parents(".module").attr("data-mid")};break;case"remove":D={outerHTML:h.prop("outerHTML"),parentId:h.parents(".topFloor").attr("id"),parentMid:h.parents(".module").attr("data-mid")};break;default:var S=(0,we.rU)(h);D={top:S.StartY,left:S.StartX,width:S.StartW,height:S.StartH}}return D}var Z=[],G={};function J(h,x){var D={};return Z=[],h.each(M=>{var Y=h.eq(M),S=Y.attr("data-mid");Z.push(S),D[S]=F(Y,x)}),G=D,D}var ae={};function ue(h,x){var D={};return h.each(M=>{var Y=h.eq(M),S=Y.attr("data-mid");D[S]=F(Y,x)}),ae=D,D}function ke(h){var x=h.type,D=h.parent,M=h.target,Y=h.data,S=h.parentElement,u=h.parentSelf,Q=u.props,_=Q.dispatch,me=Q.globaldesign,se=me===void 0?{}:me,n=Q.commondesign,a=n===void 0?{}:n,t=se.selectElement?se.selectElement:$(".onModule"),l=a.rightMenuEvent,o=a.copyCase,r=t?t.hasClass("multiModule"):!1,s=r?$(".onModule"):t,v=t.hasClass("unDelete"),p=t;switch(window.changeState=!0,x){case"add":z(h,Ie=>{le({type:x,parentSelf:u,mids:[Ie],before:"remove",after:"add"})});break;case"group":if(r){J(s,x);var C=f(t,s);d(t,u),le({type:x,parentSelf:u,mids:Z,parentMids:[C],before:"",after:"group"})}break;case"breakup":if(t.attr("data-type")=="group"){var m=t.attr("data-mid");J(t.find(">.module"),"breakup"),H(t,u),le({type:x,parentSelf:u,mids:Z,parentMids:[m],before:"group",after:"breakup"})}break;case"topZIndex":r?p=s:p=t,parseInt(p.css("zIndex"))==99?q.ZP.info("\u5DF2\u7ECF\u5728\u6700\u9876\u5C42\u4E86"):(J(p,"zIndex"),p.css({zIndex:99}),ue(p,"zIndex"),le({type:"zIndex",parentSelf:u,mids:Z,before:G,after:ae}));break;case"upZIndex":r?p=s:p=t;var N=parseInt(p.css("zIndex"))||0;N==99?q.ZP.info("\u5DF2\u7ECF\u5728\u6700\u9876\u5C42\u4E86"):(J(p,"zIndex"),p.css({zIndex:N+1}),ue(p,"zIndex"),le({type:"zIndex",parentSelf:u,mids:Z,before:G,after:ae}));break;case"downZIndex":r?p=s:p=t;var B=parseInt(p.css("zIndex"))||0;B==0?q.ZP.info("\u5DF2\u7ECF\u5728\u6700\u5E95\u5C42\u4E86"):(J(p,"zIndex"),p.css({zIndex:B-1}),ue(p,"zIndex"),le({type:"zIndex",parentSelf:u,mids:Z,before:G,after:ae}));break;case"bomZIndex":r?p=s:p=t,parseInt(p.css("zIndex"))==0?q.ZP.info("\u5DF2\u7ECF\u5728\u6700\u5E95\u5C42\u4E86"):(J(p,"zIndex"),p.css({zIndex:0}),ue(p,"zIndex"),le({type:"zIndex",parentSelf:u,mids:Z,before:G,after:ae}));break;case"leftAlign":var X=0;r?(p=s,X=parseInt(t.css("left"))):(p=t,X=0),J(p,x),p.css({left:X}),ue(p,x),le({type:x,parentSelf:u,mids:Z,before:G,after:ae});break;case"centerAlign":if(r){J(s,x);var ge=parseInt(t.css("left"));s.each(Ie=>{var ce=s.eq(Ie),Ce=ge+(parseInt(t.css("width"))-parseInt(ce.css("width")))/2;ce.css({left:Ce})}),ue(s,x)}else{J(t,x);var te=(parseInt(S.css("width"))-parseInt(t.css("width")))/2;t.css({left:te}),ue(t,x)}le({type:x,parentSelf:u,mids:Z,before:G,after:ae});break;case"rightAlign":if(r){J(s,x);var ye=parseInt(t.css("left"));s.each(Ie=>{var ce=s.eq(Ie),Ce=ye+(parseInt(t.css("width"))-parseInt(ce.css("width")));ce.css({left:Ce})}),ue(s,x)}else{J(t,x);var he=parseInt(S.css("width"))-parseInt(t.css("width"));t.css({left:he}),ue(t,x)}le({type:x,parentSelf:u,mids:Z,before:G,after:ae});break;case"topAlign":var ie=0;r?(p=s,ie=parseInt(t.css("top"))):p=t,J(p,x),p.css({top:ie}),ue(p,x),le({type:x,parentSelf:u,mids:Z,before:G,after:ae});break;case"verticalAlign":if(r){J(s,x);var xe=parseInt(t.css("top"));s.each(Ie=>{var ce=s.eq(Ie),Ce=xe+(parseInt(t.css("height"))-parseInt(ce.css("height")))/2;ce.css({top:Ce})}),ue(s,x)}else{J(s,x);var pe=(parseInt(S.css("height"))-parseInt(t.css("height")))/2;t.css({top:pe}),ue(t,x)}le({type:x,parentSelf:u,mids:Z,before:G,after:ae});break;case"downAlign":if(r){J(s,x);var De=parseInt(t.css("top"));s.each(Ie=>{var ce=s.eq(Ie),Ce=De+(parseInt(t.css("height"))-parseInt(ce.css("height")));ce.css({top:Ce})}),ue(s,x)}else{J(t,x);var Le=parseInt(S.css("height"))-parseInt(t.css("height"));t.css({top:Le}),ue(t,x)}le({type:x,parentSelf:u,mids:Z,before:G,after:ae});break;case"planeSpace":if(r){J(s,x);var oe=parseInt(t.width()),fe=0,Se=0,Ne=s.length,Ze=[];s.each(Ie=>{var ce=s.eq(Ie);fe=fe+parseInt(ce.width());var Ce={left:parseInt(ce.css("left")),width:parseInt(ce.width()),element:ce};if(Ie==0)Ze.push(Ce);else for(var Ye=0,Qe=Ze.length;Ye<Qe;Ye++){var Ge=Ze[Ye];if(Ge.left>Ce.left){Ze.splice(Ye,0,Ce);break}else Ye==Ze.length-1&&Ze.push(Ce)}}),oe>=fe?(oe-fe==0?Se=0:Se=(oe-fe)/(Ne-1),Ze.map((Ie,ce)=>{if(ce){var Ce=Ze[ce-1].element;Ie.element.css("left",(0,g.bf)(parseInt(Ce.css("left"))+parseInt(Ce.width())+Se))}})):(Se=(fe-oe)/(Ne-1),Ze.map((Ie,ce)=>{if(ce){var Ce=Ze[ce-1].element;Ie.element.css("left",(0,g.bf)(parseInt(Ce.css("left"))+parseInt(Ce.width())-Se)),Ie.element.css("zIndex",Ce.css("zIndex")+1)}})),ue(s,x),le({type:x,parentSelf:u,mids:Z,before:G,after:ae})}break;case"verticalSpace":if(r){J(s,x);var be=parseInt(t.height()),Re=0,Xe=0,aa=s.length,Ve=[];s.map(Ie=>{var ce=s.eq(Ie);Re=Re+parseInt(ce.height());var Ce={top:parseInt(ce.css("top")),height:parseInt(ce.height()),element:ce};if(Ie==0)Ve.push(Ce);else for(var Ye=0,Qe=Ve.length;Ye<Qe;Ye++){var Ge=Ve[Ye];if(Ge.top>Ce.top){Ve.splice(Ye,0,Ce);break}else Ye==Ve.length-1&&Ve.push(Ce)}}),be>=Re?(be-Re==0?Xe=0:Xe=(be-Re)/(aa-1),Ve.map((Ie,ce)=>{if(ce){var Ce=Ve[ce-1].element;Ie.element.css("top",(0,g.bf)(parseInt(Ce.css("top"))+parseInt(Ce.height()+Xe)))}})):(Xe=(Re-be)/(aa-1),Ve.map((Ie,ce)=>{if(ce){var Ce=Ve[ce-1].element;Ie.element.css("top",(0,g.bf)(parseInt(Ce.css("top"))+parseInt(Ce.height()-Xe)))}})),ue(s,x)}le({type:x,parentSelf:u,mids:Z,before:G,after:ae});break;case"shear":if(v)return!1;r?$(".onModule").addClass("shearModule"):t.addClass("shearModule"),_({type:"commondesign/setState",payload:{copyCase:""}});break;case"copy":if($(".shearModule").removeClass("shearModule"),!t)q.ZP.error("\u8BF7\u9009\u62E9\u5143\u7D20");else{var re="",Ae=$(".onModule");Ae.each(Ie=>{var ce=Ae.eq(Ie);re+=ce.prop("outerHTML")}),_({type:"commondesign/setState",payload:{copyCase:re}})}break;case"paste":if(!l)q.ZP.error("\u8BF7\u7528\u9F20\u6807\u70B9\u51FB\u5C06\u8981\u590D\u5236\u7684\u76EE\u6807\u4F4D\u7F6E");else{var Be=$(".shearModule");if(Be.length>0){J(Be,"shearPaste"),T(u);var ze={};Z.forEach(Ie=>{var ce=$(".module[data-mid=".concat(Ie,"]"));ze[Ie]=F(ce,"shearPaste")}),le({type:"shearPaste",parentSelf:u,mids:Z,before:G,after:ze})}else P(u),le({type:"add",parentSelf:u,mids:Z,before:"remove",after:"add"})}break;case"lock":r?(s.addClass("lockModule"),s.attr("title","\u8BE5\u6A21\u5757\u5DF2\u88AB\u9501\u5B9A")):(t.addClass("lockModule"),t.attr("title","\u8BE5\u6A21\u5757\u5DF2\u88AB\u9501\u5B9A")),y(u);break;case"unlock":if(r)s.find(".lockModule").removeClass("lockModule"),s.find(".lockModule").removeAttr("title");else{var We=$(l.target).hasClass("lockModule")?$(l.target):$(l.target).parents(".lockModule");We.removeClass("lockModule"),We.removeAttr("title")}break;case"notFixed":break;case"topFixed":break;case"bottomFixed":break;case"remove":if(v)return!1;r?(J(s,x),t.remove(),s.remove()):(J(t,x),t.remove()),_({type:"globaldesign/changeState",payload:{selectElement:""}}),le({type:x,parentSelf:u,mids:Z,before:G,after:"remove"});break;case"filter":var Pe=h.filter;if(r)s.each(Ie=>{var ce=s.eq(Ie),Ce=ce.attr("data-mid"),Ye=$("[data-mid="+Ce+"] > .filter"),Qe="filter: brightness(".concat(Pe.brightness,") contrast(").concat(Pe.contrast,") blur(").concat(Pe.blur,"px) saturate(").concat(Pe.saturate,") grayscale(").concat(Pe.grayscale,") sepia(").concat(Pe.sepia,") hue-rotate(").concat(Pe.hueRotate,"deg) invert(").concat(Pe.invert,");");Ye.length>0?Ye.html(".module[data-mid=".concat(Ce,"] { ").concat(Qe," }")):ce.prepend('<style class="filter" data-filter="'.concat(JSON.stringify(Pe),'">.module[data-mid=').concat(Ce,"] {").concat(Qe,"}</style>"))});else{var Me=t.attr("data-mid"),Fe=$("[data-mid="+Me+"] > .filter"),Je="filter: brightness(".concat(Pe.brightness,") contrast(").concat(Pe.contrast,") blur(").concat(Pe.blur,"px) saturate(").concat(Pe.saturate,") grayscale(").concat(Pe.grayscale,") sepia(").concat(Pe.sepia,") hue-rotate(").concat(Pe.hueRotate,"deg) invert(").concat(Pe.invert,");");Fe.length>0?Fe.html(".module[data-mid=".concat(Me,"] { ").concat(Je," }")):t.prepend('<style class="filter" data-filter="'.concat(JSON.stringify(Pe),'">.module[data-mid=').concat(Me,"] {").concat(Je,"}</style>"))}break;case"hover":var ta=h.hover,_e="hover"+ta.assemblyId+ta.size,Ke=ta.djson,oa="transform: translate("+Ke.translateXVal+"px, "+Ke.translateYVal+"px) scale("+Ke.scaleSize+");"+(Ke.borderStyle!="none"?"border: "+Ke.borderWidth+"px "+Ke.borderStyle+" "+Ke.borderColor+"!important;":"")+(Ke.shadowX||Ke.shadowY||Ke.shadowSize||Ke.shadowBlur?"box-shadow: "+Ke.shadowColor+" "+Ke.shadowX+"px "+Ke.shadowY+"px "+Ke.shadowBlur+"px "+Ke.shadowSize+"px!important;":"")+(Ke.textColor!="#ccc"?"color:"+Ke.textColor+"!important;":"")+(Ke.bgColor!="#fff"?"background: "+Ke.bgColor+"!important;":""),da=Ke.coverColor,qe=Ke.coverDire,ea=Ke.coverScale,ca=()=>{var Ie="",ce="-100%",Ce="0",Ye="auto",Qe="auto",Ge="none",sa="100%",na="100%";switch(qe){case"none":ce="-100%",Ge="none";break;case"center":ce=0,Ge="block",Ie="transform: scale(0)";break;case"top":ce=0,na=0,Ge="block";break;case"left":Ce=0,ce=0,sa=0,Ge="block";break;case"right":ce="0",Ce="auto",Ye=0,sa=0,Ge="block";break;case"bottom":ce="auto",Qe=0,na=0,Ge="block";break}var ma="position: absolute;width: ".concat(sa,";height: ").concat(na,";background: ").concat(da,"; ").concat(Ie,";top: ").concat(ce,"; left: ").concat(Ce,"; right: ").concat(Ye,"; bottom:").concat(Qe,";overflow: hidden;");return ma},ra=()=>{var Ie="",ce="100%",Ce="100%";switch(qe){case"none":top="-100%";break;case"center":Ie="transform: scale(".concat(ea/100,")");break;case"top":Ce=ea+"%";break;case"left":ce=ea+"%";break;case"right":ce=ea+"%";break;case"bottom":Ce=ea+"%";break}var Ye="width: ".concat(ce,";height: ").concat(Ce,";").concat(Ie,";");return Ye},ia=t.parents(".topFloor");if(ia.find("."+_e).length<1){var ga=".module[data-hover-mid=".concat(_e,"]:hover { ").concat(oa," }"),ha=qe!="none"?".module[data-hover-mid=".concat(_e,"] .hoverConBox { ").concat(ca()," }"):"",pa=qe!="none"?".module[data-hover-mid=".concat(_e,"]:hover .hoverConBox { ").concat(ra()," }"):"",va=qe!="none"?".module[data-hover-mid=".concat(_e,"] .onModule.hoverConBox { ").concat(ra()," }"):"";ia.prepend('<style class="'.concat(_e,'">').concat(ga+ha+pa+va,"</style>"))}var la=Ie=>{if(qe!="none"){var ce=Ie.find(">.hoverConBox");ce.length<1?Ie.append('<div class="module hoverConBox" data-coverDire="'+qe+'" data-coverScale="'+ea+'"></div>'):(ce.attr("data-coverDire",qe),ce.attr("data-coverScale",ea))}Ie.find("style.hover[data-hover]").remove(),Ie.attr("data-hover-mid-on",_e)};r?s.each(Ie=>{la(s.eq(Ie))}):la(t),console.log("hovercss",oa);break;default:ue($(".onModule"),x),le({type:x,parentSelf:u,mids:Z,before:G,after:ae})}(0,je.AF)(u)}function le(h){var x=h.type,D=h.parentSelf,M=h.mids,Y=h.parentMids,S=h.before,u=h.after,Q=D.props.dispatch,_={type:x,mids:M,parentMids:Y,before:S,after:u};JSON.stringify(S)!=JSON.stringify(u)&&Q({type:"record/save",payload:_})}function He(h){var x=h.props,D=x.record,M=x.storage,Y=x.dispatch,S=D.index,u=D.recordData,Q=u[S-1];if(!Q)return!1;var _=Q.parentMids,me=Q.mids,se=Q.before,n={};switch(Q.type){case"add":var a="",t="";me.forEach((r,s)=>{var v=$(".module[data-mid=".concat(r,"]"));a+=v.prop("outerHTML"),t=v.parent(),v.remove()}),Y({type:"record/removeElement",payload:{index:S-1,element:a,parent:t}});break;case"group":var l=$(".module[data-mid=".concat(_[0],"]"));H(l,h,!0);break;case"breakup":me.forEach((r,s)=>{var v=$(".module[data-mid=".concat(r,"]"));d(v,h,"multi")}),L(h);var o=$(".multiModule");f(o,$(".onModule"),_[0]),d($(".module[data-mid=".concat(_[0],"]")),h);break;case"shearPaste":me.forEach((r,s)=>{var v=$(".module[data-mid=".concat(r,"]")),p=se[r];v.css(p.css);var C=v.prop("outerHTML");v.remove();var m="";p.parentId?m=$("#".concat(p.parentId)):m=$(".module[data-mid=".concat(p.parentMid,"]")),m.append(C)});break;case"remove":me.forEach((r,s)=>{var v=se[r],p="";v.parentMid?p=$(".module[data-mid=".concat(v.parentMid,"]")):p=$("#".concat(v.parentId)),p.append(v.outerHTML)});break;default:me.forEach((r,s)=>{var v=$(".module[data-mid=".concat(r,"]")),p=se[r];v.css(p)});break}$(".multiModule").remove(),Y({type:"record/setIndex",payload:{index:S-1}})}function K(h){var x=h.props,D=x.record,M=x.storage,Y=x.dispatch,S=x.globaldesign,u=S.differenceType,Q=D.index,_=D.recordData,me=_[Q];if(!me)return!1;var se=me.parentMids,n=me.mids,a=me.after,t={};switch(me.type){case"add":me.parent.append(me.removeElement),me.removeElement=void 0,me.parent=void 0;break;case"group":n.forEach((r,s)=>{var v=$(".module[data-mid=".concat(r,"]"));d(v,h,"multi")}),L(h);var l=$(".multiModule");f(l,$(".onModule"),se[0]),d($(".module[data-mid=".concat(se[0],"]")),h);break;case"breakup":var o=$(".module[data-mid=".concat(se[0],"]"));H(o,h,!0);break;case"shearPaste":n.forEach((r,s)=>{var v=$(".module[data-mid=".concat(r,"]")),p=a[r];v.css(p.css);var C=v.prop("outerHTML");v.remove();var m="";p.parentId?m=$("#".concat(p.parentId)):m=$(".module[data-mid=".concat(p.parentMid,"]")),m.append(C)});break;case"remove":n.forEach((r,s)=>{var v=$(".module[data-mid=".concat(r,"]"));v.remove()});break;default:n.forEach((r,s)=>{var v=$(".module[data-mid=".concat(r,"]"));t=a[r],v.css(t)});break}Y({type:"record/setIndex",payload:{index:Q+1}})}function Ue(h,x){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,M=x.props.globaldesign;D&&y(x);var Y=M.scale,S=M.startPageX,u=S===void 0?0:S,Q=M.startPageY,_=Q===void 0?0:Q,me=M.pageWidth,se=M.pageHeight,n=M.endPageX,a=M.endPageY,t=M.differenceType;$("#screenViewport").scrollTop(0);var l=$("#floatBox");l.length<1&&($("body").append('<div id="floatBox"></div>'),l=$("#floatBox")),l.html(h.data.content);var o=l.find(">.module");l.css({position:"fixed",top:h.y,left:h.x,pointerEvents:"none",width:parseInt(o.css("width")),height:parseInt(o.css("height")),border:"1px solid #1890ff",backgroundColor:"rgba(175, 246, 244, 0.1)",zIndex:103,overflow:"hidden"}),$("#canvasId").addClass("floatBoxContainerHover");var r=v=>{l.css({top:v.pageY,left:v.pageX,transform:"scale(".concat(Y,")")})},s=v=>{$("#canvasId").removeClass("floatBoxContainerHover"),v.preventDefault();var p=l.children(".module"),C=$(v.target),m=(v.pageY-a-se/2*(1-Y))/Y,N=(v.pageX-n-me/2*(1-Y))/Y,B=C,X=$("#header").height(),ge=$("#mainly").height();switch(B.attr("id")){case"header":break;case"mainly":m=m-X;break;case"footer":m=m-X-ge;break;default:m<X?B=$("#header"):X<m&&m<X+ge?(B=$("#mainly"),m=m-X):(B=$("#footer"),m=m-X-ge)}var te=C.parents(".module").eq(0).css("zIndex")||C.hasClass("module")&&C.css("zIndex"),ye=te&&parseInt(te),he=C.hasClass("topFloor")||C.parents(".topFloor").hasClass("topFloor")||C.attr("id")=="screenViewport"&&(!C.hasClass("formSceenView")||B.attr("id")!=="header");he&&(C.attr("data-type")=="container"&&(B=C,m=v.pageY-C.offset().top,N=v.pageX-C.offset().left),ke({type:"add",parent:B,target:p,parentSelf:x,data:{top:m,left:N,zIndex:ye}})),l.remove()};(0,de.Y0)(r,s)}},89256:function(Ee,$e,e){"use strict";e.d($e,{jS:function(){return V},rU:function(){return k}});function R(E){}function w(E){if(E.boxShadow!=="none"){var W=E.boxShadow.split(")"),j=W[1].split(" ");return{color:W[0]+")",x:parseInt(j[1]),y:parseInt(j[2]),blur:parseInt(j[3]),spread:parseInt(j[4])}}else return{color:"#ccc",x:0,y:0,blur:0,spread:0}}function q(E){var W={};return E.map(j=>{W[j.type]=j}),W}function V(E){var W=document.location.href,j=W.indexOf(E+"=");if(j==-1)return!1;var i=W.slice(E.length+j+1),O=i.indexOf("&");return O!=-1&&(i=i.slice(0,O)),i}function g(E){var W=!1,j=i=>{i.classList[0]=="module"?W=!0:i.id=="canvas"?W=!1:j(i.parentElement)};return j(E),W}function we(E){var W=E,j=i=>{i.parentElement.classList[0]=="module"?(W=i.parentElement,i.parentElement.className.indexOf("loginModule")<0&&j(i.parentElement)):i.id!="canvas"&&j(i.parentElement)};return j(E),W.dataset.multi=="on"&&!window.ctrlKey&&(W=document.querySelectorAll(".mockModule")[0]),W.dataset.version=="freelogin"&&(E.classList.add("loginModule"),W=E),W}function de(E,W){var j=0,i=O=>{var y=O.parentElement;if(!y)return j;j+=y[W],y.parentElement.id!="canvas"&&i(y)};return i(E),j}function je(E){var W=!1,j=i=>{i.id&&i.id=="screen"?W=!0:i.id&&i.id=="root"||i.nodeName=="BODY"?W=!1:j(i.parentElement)};return j(E),W}function Oe(E){var W=!1,j=i=>{i.classList&&i.classList[0]=="canvasBoxBg"?W=!0:i.classList&&i.classList=="ant-modal-wrap"||i.nodeName=="BODY"?W=!1:j(i.parentElement)};return j(E),W}function Te(E){if(!E)return!1;var W=E.parentElement,j=i=>{i.parentElement.id&&i.parentElement.id=="canvas"?W=i:i.id&&i.id=="root"||i.nodeName=="BODY"?W=!1:j(i.parentElement)};return j(E),W}function ne(E,W){if(!E)return!1;var j=E.parentElement,i=O=>{O.parentElement.className&&O.parentElement.className.indexOf("module")>-1?j=O.parentElement:O.id&&O.id=="root"||O.nodeName=="BODY"?j=!1:i(O.parentElement)};return i(E),W&&j?j[W]:j}function U(E){if(!E)return!1;var W=E,j=i=>{i.dataset.type&&i.dataset.type=="login"?W=i:i.id&&i.id=="root"||i.nodeName=="BODY"?W=!1:j(i.parentElement)};return j(E),W}function ve(E){if(!E)return!1;var W=E,j=i=>{if(i.dataset.type&&i.dataset.type=="course"){var O=JSON.parse(i.dataset.course);O.ckeckSet?W=i:W=!1}else i.id&&i.id=="root"||i.nodeName=="BODY"?W=!1:j(i.parentElement)};return j(E),W}function k(E){var W=parseInt(E.parent().outerWidth()),j=parseInt(E.parent().outerHeight()),i=parseInt(E.css("top")),O=parseInt(E.css("left")),y=parseInt(E.outerWidth()),d=parseInt(E.outerHeight()),f=E.parents(".module").length>0;return{ParentW:W,ParentH:j,StartY:i,StartX:O,StartW:y,StartH:d,childLimitX:f}}},37226:function(Ee,$e,e){"use strict";e.d($e,{rJ:function(){return we},t$:function(){return de},b_:function(){return je}});var R=e(19755),w=e.n(R),q=e(30672);function V(Oe){var Te={};return Oe.map(ne=>{Te[ne.type]=ne}),Te}var g=(0,q.lw)((0,q.Kd)()),we={often:[{zh:g.formatMessage({id:"mack.dsc.a"}),en:"text",type:"text",icon:"a1.png",tool:["edit","href","menu"],content:"<div class='module' data-type='text' style='font-size: 13px;'><a class='box editable'><p>".concat(g.formatMessage({id:"mack.dsl.a"}),"</p></a></div>")},{zh:g.formatMessage({id:"mack.dsc.b"}),en:"Rich text",type:"editor",icon:"a2.png",tool:["edit","href","menu"],content:"<div class='module' data-type='editor' style='white-space: pre-wrap'><a class='box'>".concat(g.formatMessage({id:"mack.dsl.a"}),"</a></div>")},{zh:g.formatMessage({id:"mack.dsc.c"}),en:"picture",type:"picture",icon:"a3.png",tool:["picture","href","menu"],content:"<div class='module ' data-type='picture'><a class='box'></a></div>"},{zh:g.formatMessage({id:"mack.dsc.d"}),en:"button",type:"button",icon:"a4.png",tool:["edit","href","menu"],content:"<div class='module' data-type='button'><a class='box editable'>".concat(g.formatMessage({id:"mack.dsc.d"}),"</a></div>")},{zh:g.formatMessage({id:"mack.dsc.e"})+"1",en:"text",type:"h1",icon:"a5.png",tool:["edit","href","menu"],content:"<div class='module' data-type='h1' style='font-size: 32px;'><a class='box editable'><p>".concat(g.formatMessage({id:"mack.dsc.e"}),"1</p></a></div>")},{zh:g.formatMessage({id:"mack.dsc.e"})+"2",en:"text",type:"h2",icon:"a6.png",tool:["edit","href","menu"],content:"<div class='module' data-type='h2' style='font-size: 24px;'><a class='box editable'><p>".concat(g.formatMessage({id:"mack.dsc.e"}),"2</p></a></div>")},{zh:g.formatMessage({id:"mack.dsc.e"})+"3",en:"text",type:"h3",icon:"a7.png",tool:["edit","href","menu"],content:"<div class='module' data-type='h3' style='font-size: 18px;'><a class='box editable'><p>".concat(g.formatMessage({id:"mack.dsc.e"}),"3</p></a></div>")},{zh:g.formatMessage({id:"mack.dsc.f"}),en:"carousel",type:"carousel",icon:"a8.png",tool:["edit"],content:"<div class='module' data-type='carousel'><a class='box'></a></div>"}],basics:[{zh:g.formatMessage({id:"mack.dsc.g"}),en:"circular",type:"circular",icon:"b1.png",tool:["edit","href"],content:"<div class='module' data-type='circular'><a class='box editable'><p>&nbsp;</p></a></div>"},{zh:g.formatMessage({id:"mack.dsc.h"}),en:"rectangle",type:"rectangle",icon:"b2.png",tool:["edit","href"],content:"<div class='module' data-type='rectangle'><a class='box editable'><p>&nbsp;</p></a></div>"},{zh:g.formatMessage({id:"mack.dsc.i"}),en:"Icon",type:"Icon",icon:"b3.png",tool:["edit","href"],content:"<div class='module' data-type='Icon'><a class='box'><i class='iconfont icon-smile'></i></a></div>"},{zh:g.formatMessage({id:"mack.dsc.j"}),en:"Vertical line",type:"vertical",icon:"b4.png",content:"<div class='module' data-type='vertical'><div class='paddingBox'></div></div>"},{zh:g.formatMessage({id:"mack.dsc.k"}),en:"Transverse line",type:"transverse",icon:"b5.png",content:"<div class='module' data-type='transverse'><div></div></div>"},{zh:g.formatMessage({id:"mack.dsc.l"}),en:"suspension bar",type:"suspend",icon:"b6.png",tool:["edit"],differenceType:[1],content:"<div class='module' data-type='suspend'><a class='box'></a></div>"},{zh:g.formatMessage({id:"mack.dsc.m"}),en:"rolling bulletin",type:"rolling",icon:"b7.png",tool:["edit","href"],differenceType:[1],content:"<div class='module' data-type='rolling'><a class='box'>".concat(g.formatMessage({id:"mack.dsl.c"}),"</a></div>")},{zh:g.formatMessage({id:"mack.dsc.n"}),en:"circular mark",type:"circularmark",icon:"b8.png",tool:["edit","href"],content:"<div class='module' data-type='circularmark'><a class='box editable'><p>&nbsp;</p></a></div>"},{zh:g.formatMessage({id:"mack.dsc.o"}),en:"Horizontal arrow",type:"horizontalArrow",icon:"b9.png",differenceType:[1],content:"<div class='module' data-type='horizontalarrow'><a class='box editable' style='border-color: inherit;'><div class='arrow'></div></a></div>"},{zh:g.formatMessage({id:"mack.dsc.p"}),en:"circular",type:"verticalarrow",icon:"b91.png",differenceType:[1],content:"<div class='module' data-type='verticalarrow'><a class='box editable' style='border-color: inherit;'><div class='arrow'></div></a></div>"},{zh:g.formatMessage({id:"mack.dsc.q"})+"1",en:"note 1",type:"note1",icon:"b92.png",tool:["edit","href"],content:"<div class='module' data-type='note1'><a class='box editable'><p>&nbsp;</p></a></div>"},{zh:g.formatMessage({id:"mack.dsc.q"})+"2",en:"note 2",type:"note2",icon:"b93.png",tool:["edit","href"],content:"<div class='module' data-type='note2'><a class='box editable'><p>&nbsp;</p></a></div>"},{zh:g.formatMessage({id:"mack.dsc.q"})+"3",en:"note 3",type:"note3",icon:"b94.png",tool:["edit","href"],content:"<div class='module' data-type='note3'><a class='box editable'><p>&nbsp;</p></a></div>"},{zh:g.formatMessage({id:"mack.dsc.q"})+"4",en:"note 4",type:"note4",icon:"b95.png",tool:["edit","href"],content:"<div class='module' data-type='note4'><a class='box editable'><p>&nbsp;</p></a></div>"},{zh:g.formatMessage({id:"mack.dsc.r"}),en:"Tab",type:"tabs",icon:"Tab.png",tool:["edit","changeTab"],differenceType:[1],content:`
        <div class='module' data-type='tabs' data-tabposition='left'>
          <div class='dl-tabs-nav module unDelete' data-type="free">
            <div class="dl-tabs-tab dl-tabs-tab-active" key="0">`.concat(g.formatMessage({id:"utils.filetype.label"}),`1</div>
            <div class="dl-tabs-tab" key="1">`).concat(g.formatMessage({id:"utils.filetype.label"}),`2</div>
          </div>
          <div class='dl-tabs-content module unDelete' data-type="free">
            <div class="ant-tabs-tabpane" data-type="container" key="0"></div>
            <div class="ant-tabs-tabpane" data-type="container" key="1" style="display: none;"></div>
          </div>
        </div>
        `)}],senior:[{zh:g.formatMessage({id:"mack.dsc.s"}),en:"current time",type:"time",icon:"c1.png",tool:["edit"],differenceType:[1],content:"<div class='module' data-type='time'><a class='box'>2018\u5E748\u67084\u65E5 \u661F\u671F\u516D</a></div>"},{zh:g.formatMessage({id:"mack.dsc.t"}),en:"calendar",type:"calendar",icon:"c2.png",differenceType:[1],content:"<div class='module' data-type='calendar'><div id='calendarbox' class='box'></div></div>"},{zh:g.formatMessage({id:"mack.dsc.u"}),en:"weather",type:"weather",icon:"c3.png",differenceType:[1],content:"<div class='module' data-type='weather'><a class='box'></a></div>"},{zh:g.formatMessage({id:"mack.dsc.v"}),en:"MP3",type:"MP3",icon:"c4.png",tool:["edit"],differenceType:[1],content:"<div class='module' data-type='MP3'></div>"},{zh:g.formatMessage({id:"mack.dsc.w"}),en:"Embedded subpage",type:"iframe",icon:"c5.png",tool:["edit"],differenceType:[1],content:"<div class='module' data-type='iframe'><a class='box'></a></div>"}],school:[{zh:g.formatMessage({id:"mack.dsc.x"}),en:"Article information",type:"article",icon:"d3.png",tool:["edit"],differenceType:[1,2],content:"<div class='module' data-type='article'><a class='box'></a></div>"},{zh:g.formatMessage({id:"mack.dsc.y"}),en:"QR code",type:"qrcode",icon:"d6.png",tool:["edit"],content:"<div class='module' data-type='qrcode'><a class='box'></a></div>"},{zh:g.formatMessage({id:"mack.dsc.z"}),en:"language",type:"language",icon:"d14.png",tool:[],differenceType:[1,2],iconStyle:{width:26,marginLeft:-13,marginTop:7},content:`<div class='module' data-type='language'>
      <div class="languageBox" >
      <select name="language" class="language select2-hidden-accessible">
        <option value="zh-CN" data-select2-id="3">CN \u7B80\u4F53\u4E2D\u6587</option>
        <option value="zh-TW" data-select2-id="7">HK \u7E41\u9AD4\u4E2D\u6587</option>
        <option value="en-US" data-select2-id="8">US English</option>
        <option value="ja-JP" data-select2-id="9">JP \u65E5\u672C\u8A9E</option>
        <option value="fr-FR" data-select2-id="4">FR Fran\xE7ais</option>
        <option value="es-ES" data-select2-id="10">ES Espa\xF1ol</option>
        <option value="ru-RU" data-select2-id="11">RU Ruso</option>
        <option value="it-IT" data-select2-id="12">IT Italia</option>
      </select><span class="select2 select2-container select2-container--default select2-container--above select2-container--focus" dir="ltr" data-select2-id="2" style="width: 100%;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-labelledby="select2-language-mn-container"><span class="select2-selection__rendered" id="select2-language-mn-container" role="textbox" aria-readonly="true" title="CN \u7B80\u4F53\u4E2D\u6587">CN \u7B80\u4F53\u4E2D\u6587</span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
      </div>
      </div>`},{zh:g.formatMessage({id:"mack.dsc.aa"}),en:"Registered login",type:"registerLogin",icon:"d8.png",tool:["edit"],differenceType:[1,2],content:"<div class='module' data-type='registerLogin'><a class='box'><span class='loginEvent'>".concat(g.formatMessage({id:"mack.dsc.aa"}),"</span></a></div>")},{zh:g.formatMessage({id:"mack.dsc.ab"}),en:"Login Box",type:"loginBox",icon:"d9.png",tool:[],differenceType:[1],content:`<div class='module' data-type='loginBox' data-islogin='0' style="`.concat(window.designneedCheckCode=="1"?"":"height:270px;",`">
                    <div class="unlogin" data-type='container'>
                      <div class='module iconUser' data-type='Icon' style='top: 30px;left:42px;'>
                        <a class='box'><i class='iconfont icon-user'></i></a>
                      </div>

                      <div class="module" data-type='container' style='top: 28px;left:37px; width: 328px;height: 40px;'>
                        <input class='account' type='text' placeholder='`).concat(g.formatMessage({id:"common.input"})).concat(g.formatMessage({id:"user.account"}),`'/>
                      </div>

                      <div class='module accountRemoveModule' style="text-align: center; line-height: 40px;"><i class="iconfont icon-close-circle-fill"></i></div>

                       <div class='module iconLock' data-type='Icon' style='top: 100px;left:42px;'>
                          <a class='box'>
                            <i class='iconfont icon-lock'></i>
                          </a>
                       </div>
                       <div class="module" data-type='container' style='top: 98px;left:37px; width: 328px;height: 40px;'>
                          <input class='password' type='password' placeholder='`).concat(g.formatMessage({id:"user.inputPwd"}),`'/>
                       </div>
                      <div class='module eyesModule'></div>

                      <div class='module rememberPassword'  style="`).concat(window.designneedCheckCode=="1"?"":"top:150px;",`">
                        <div class="checkboxDiv on" style="width: 120px;"><div class="checkbox"><i class="iconfont icon-check"></i></div>`).concat(g.formatMessage({id:"user.keepPwd"}),`</div>
                      </div>


                      <div class='module loginDragbox'>
                        <div style="`).concat(window.designneedCheckCode=="1"?"":"display:none;",`" class="logindrag"><div class="drag_bg" style="width: 0px;"></div><div class="drag_text" onselectstart="return false;" unselectable="on">\u8BF7\u6309\u4F4F\u6ED1\u5757\uFF0C\u62D6\u52A8\u5230\u6700\u53F3\u8FB9</div><div class="handler handler_bg" style="left: 0px;"></div></div>
                      </div>
                      <div class='module submit' data-type='button' style='top: `).concat(window.designneedCheckCode=="1"?"248px;":"200px;",`  left: 37px; width: 328px; height: 40px; color: #fff; border-radius:5px;
                      border-color: #722ed1;
                      background: #722ed1;
                      text-shadow: 0 -1px 0 rgba(0,0,0,.12);
                      box-shadow: 0 2px 0 rgba(0,0,0,.045);'>
                        <div class='box editable'>`).concat(g.formatMessage({id:"user.loginNow"}),`</div>
                      </div>
                    </div>
                    <div class="onlogin" data-type='container'>
                      <div class="module" data-type='container' style="width:80px;height:80px;top: 26px;left: 20px;">
                        <img class="head" src="/design/designstatic/common/image/head/boy.png">
                      </div>
                      <div class="module" data-type='container' style='top: 28px;left:120px; width: 180px;height: 24px;'>
                        <div class="realName">\u4F5A\u540D</div>
                      </div>
                      <div class="module" data-type='container' style='top: 60px;left:120px; width: 180px;height: 24px;'>
                        <div class="loginname">\u8D26\u53F7</div>
                      </div>
                      <div class="module" data-type='container' style='top: 88px;left:120px; width: 180px;height: 24px;'>
                        <div class="lastLogin">1 \u5206\u949F\u524D</div>
                      </div>

                      <div class="module going" data-type="button" style="top: 135px; left: 29px; width: 328px; height: 40px; border-radius: 0;
                      border-color: #722ed1;
                      background: #722ed1;
                      text-shadow: 0 -1px 0 rgba(0,0,0,.12);
                      box-shadow: 0 2px 0 rgba(0,0,0,.045);" data-hover="false">
                        <div class="box editable">`).concat(g.formatMessage({id:"user.isLoginEnter"}),`</div>
                      </div>
                      <div class="module quitBtn" data-type="button" style="top: 185px; left: 29px; width: 328px; height: 40px;border-radius: 0;" data-hover="false">
                        <div class="box editable">`).concat(g.formatMessage({id:"menu.account.logout"}),`</div>
                      </div>
                    </div>
                    <script></script>
                </div>`)},{zh:g.formatMessage({id:"mack.dsc.ac"}),en:"Search box",type:"magicNav",icon:"bannerNav.png",tool:["edit"],iconStyle:{width:26,marginLeft:-13,marginTop:7},differenceType:[2],content:`<div class='module addmodule' data-type='magicNav'>
                    <div class='navContent'>
                      <li>
                        <a>
                          <img class="mgicon">
                          <p class="mgtext">\u5BFC\u822A\u540D\u79F0</p>
                        </a>
                      </li>
                        <li>
                          <a>
                            <img class="mgicon">
                            <p class="mgtext">\u5BFC\u822A\u540D\u79F0</p>
                          </a>
                        </li>
                          <li>
                            <a>
                              <img class="mgicon">
                              <p class="mgtext">\u5BFC\u822A\u540D\u79F0</p>
                            </a>
                          </li>
                            <li>
                              <a>
                                <img class="mgicon">
                                <p class="mgtext">\u5BFC\u822A\u540D\u79F0</p>
                              </a>
                            </li>
                              <li>
                                <a>
                                  <img class="mgicon">
                                  <p class="mgtext">\u5BFC\u822A\u540D\u79F0</p>
                                </a>
                              </li>
                    </div>
                  </div>`},{zh:"\u6807\u7B7E\u5BFC\u822A",en:"Search box",type:"tabNav",icon:"tabNav.png",tool:["edit"],iconStyle:{width:26,marginLeft:-13,marginTop:7},differenceType:[],content:"<div class='module addmodule' data-type='tabNav'><div style='width: 100px;text-align: center;'>\u6807\u7B7E\u5BFC\u822A</div></div>"}],study:[{zh:"\u53D8\u91CF",en:"variable",type:"variable",icon:"e3.png",tool:["edit"],differenceType:[3,4],content:"<div class='module addmodule' data-type='variable'><a class='box'>\u53D8\u91CF</a></div>"},{zh:"\u6211\u7684\u4FE1\u606F",en:"myInfo",type:"myInfo",icon:"e4.png",resizerArr:["r","l"],differenceType:[3,4],content:"<div class='module addmodule' data-type='myInfo'></div>"},{zh:"\u7B7E\u5230",en:"calendar",type:"calendar",icon:"e9.png",differenceType:[3,4],content:"<div class='module addmodule' data-type='calendar'><div class='box'>\u7B7E\u5230</div></div>"},{zh:"\u6D88\u606F\u680F",en:"Introduction of net school",type:"message ",icon:"e91.png",differenceType:[3,4],content:"<div class='module addmodule' data-type='message'><a class='box'><i class='iconfont icon-bell'></i></a></div>"},{zh:"\u4E2A\u4EBA\u4E2D\u5FC3",en:"personal",type:"personal",icon:"e92.png",differenceType:[3,4],content:"<div class='module addmodule' data-type='personal'><img src='/design/designstatic/common/image/head/boy.png'/><span class='realname'>\u59D3\u540D</span><span class='accont'>\uFF08\u8D26\u53F7\uFF09</span></div>"},{zh:g.formatMessage({id:"mack.dsc.ad"}),en:"menu",type:"headerNav",icon:"e93.png",tool:["edit","show"],differenceType:[2,3,4],content:"<div class='module addmodule' data-type='headerNav'><div class='box'><i class='iconfont icon-outdent'></i></div></div>"},{zh:g.formatMessage({id:"mack.dsc.ae"}),en:"footer",type:"footerNav",icon:"e94.png",tool:["edit"],differenceType:[2],content:"<div class='module addmodule' data-type='footerNav'><div class='box'>\u5E95\u90E8\u5BFC\u822A</div></div>"}],group:[{zh:"\u7EC4\u5408",en:"group",type:"group",tool:["href"]}],container:[{zh:"\u5BB9\u5668",en:"group",type:"container",tool:["edit"]}],free:[{zh:"\u81EA\u7531\u6A21\u5757",en:"free",type:"free",tool:["edit"]}]},de=V([...we.basics,...we.often,...we.senior,...we.school,...we.study,...we.group,...we.container,...we.free]);function je(Oe,Te){var ne=w()(".onModule");fetch("https://wthrcdn.xx.cn/weather_mini?city=\u676D\u5DDE").then(function(U){return U.json()}).then(function(U){var ve,k;if(U.status==1e3){k='<ul class="scene-ul">';var E=U.data,W=E.aqi,j="";W<=50&&W>0&&(j="\u4F18\u79C0"),W<=100&&W>50&&(j="\u826F\u597D"),W<=150&&W>100&&(j="\u4E00\u822C"),W<=200&&W>150&&(j="\u5F88\u5DEE"),W>200&&(j="\u5F88\u5DEE"),ve=W+" "+j,W||(j="\u6682\u7F3A",ve=j);for(var i="",O="",y=/[\u4E00-\u9FA5]/g,d=[],f=[],H="//static.ebanhui.com/ebh/tpl/wnl/images/",L=0;L<3;++L){switch(d[L]=E.forecast[L].low.replace(y,""),f[L]=E.forecast[L].high.replace(y,""),E.forecast[L].type){case"\u591A\u4E91":i="cloud.png",O="cloud2.png";break;case"\u6674":i="fine.png",O="fine2.png";break;case"\u9634":i="overcast.png",O="overcast2.png";break;case"\u5C0F\u96E8":i="small_rain.png",O="small_rain2.png";break;case"\u5C0F\u5230\u4E2D\u96E8":i="stom_rain.png",O="stom_rain2.png";break;case"\u5927\u96E8":i="big_rain.png",O="big_rain2.png";break;case"\u4E2D\u5230\u5927\u96E8":i="big_rain.png",O="big_rain2.png";break;case"\u66B4\u96E8":i="mbig_rain.png",O="mbig_rain2.png";break;case"\u5927\u66B4\u96E8":i="mbig_rain.png",O="mbig_rain2.png";break;case"\u7279\u5927\u66B4\u96E8":i="mbig_rain.png",O="mbig_rain2.png";break;case"\u5927\u5230\u66B4\u96E8":i="mbig_rain.png",O="mbig_rain2.png";break;case"\u66B4\u96E8\u5230\u5927\u66B4\u96E8":i="mbig_rain.png",O="mbig_rain2.png";break;case"\u5927\u66B4\u96E8\u5230\u7279\u5927\u66B4\u96E8":i="mbig_rain.png",O="mbig_rain2.png";break;case"\u96E8\u5939\u96EA":i="rain_snow.png",O="rain_snow2.png";break;case"\u9635\u96EA":i="quick_snow.png",O="quick_snow2.png";break;case"\u5C0F\u96EA":i="small_snow.png",O="small_snow2.png";break;case"\u5C0F\u5230\u4E2D\u96EA":i="small_snow.png",O="small_snow2.png";break;case"\u4E2D\u96EA":i="mid_snow.png",O="mid_snow2.png";break;case"\u4E2D\u5230\u5927\u96EA":i="mid_big_snow.png",O="mid_big_snow2.png";break;case"\u5927\u5230\u66B4\u96EA":i="big_snow.png",O="big_snow2.png";break;case"\u96FE":i="fog.png",O="fog2.png";break;case"\u6C99\u5C18\u66B4":i="sand.png",O="sand2.png";break;case"\u6D6E\u5C18":i="sand.png",O="sand2.png";break;case"\u626C\u6C99":i="sand.png",O="sand2.png";break;case"\u5F3A\u6C99\u5C18\u66B4":i="sand.png",O="sand2.png";break;case"\u96FE\u973E":i="sand.png",O="sand2.png";break;case"\u51BB\u96E8":i="ice_rain.png",O="ice_rain2.png";break;case"\u4E2D\u96E8":i="mid_rain.png",O="mid_rain2.png";break;case"\u96F7\u9635\u96E8\u4F34\u6709\u51B0\u96F9":i="quick_rain_ice.png",O="quick_rain_ice2.png";break;case"\u9635\u96E8":i="quick_rain.png",O="quick_rain2.png";break;case"\u96F7\u9635\u96E8":i="lquick_rain.png",O="lquick_rain2.png";break;case"\u65E0\u5929\u6C14\u7C7B\u578B":i="unknown.png",O="unknown2.png";break}var c=E.forecast[L],ee=c.fengli,b=ee.replace("<![CDATA[","",c.fengli);b=b.replace("]]>","",b);var A=H+i,I=E.wendu+"<b>\xBA</b>";L==0?k+='<li class="scene-on">':(k+="<li >",A=H+O,I=" "),k+='<span class="scene-date">'.concat(c.date,'</span><img class="scene-icon" src="').concat(A,'"><span class="scene-temp">').concat(I,'</span><span class="scene-weather">').concat(c.type,'</span><span class="scene-tempSection">').concat(d[L]+"~"+f[L],'</span><span class="scene-wind">').concat(c.fengxiang+" "+b,"</span>"),k+="</li>"}k+="</ul>"}else k='<ul class="scene-ul" style="background: url(//static.ebanhui.com/ebh/tpl/wnl/images/wrong.png) no-repeat center"></ul>';var P='<div class="scene-top"><div class="scene-demo"><input class="cityinput" id="sceneCitySelect" value="\u676D\u5DDE" type="text"></div><span class="scene-city">\u676D\u5DDE</span><span class="scene-change">[\u5207\u6362]</span><span class="scene-airquality">'.concat(ve,'</span><span class="scene-air">\u7A7A\u6C14\u8D28\u91CF: </span></div>').concat(k,"</div>");ne.css("backgroundColor","#fff"),ne.html(P),Te&&Te()}).catch(function(){var U='<ul class="scene-ul" style="background: url(//static.ebanhui.com/ebh/tpl/wnl/images/wrong.png) no-repeat center"></ul>',ve='<div class="scene-top"><div class="scene-demo"><input class="cityinput" id="sceneCitySelect" value="\u676D\u5DDE" type="text"></div><span class="scene-city">\u676D\u5DDE</span><span class="scene-change">[\u5207\u6362]</span><span class="scene-airquality">--</span><span class="scene-air">\u7A7A\u6C14\u8D28\u91CF: </span></div>'.concat(U,"</div>");ne.css("backgroundColor","#fff"),ne.html(ve),Te&&Te()})}},70138:function(Ee,$e,e){"use strict";e.d($e,{Ec:function(){return Te},eD:function(){return ne},gE:function(){return k},jB:function(){return E},UK:function(){return O},WY:function(){return H},YA:function(){return c}});var R=e(74379),w=e(38648),q=e(34792),V=e(48086),g=e(11849),we=e(48318),de=e(7861),je=e(41273),Oe=e(38986);function Te(b,A){window.changeState=!1;var I=b.props.dispatch;A||I(we.VF("/exception/404")),I({type:"page/getDesignDetail",payload:{designId:A},callback:P=>{var T=P.data,z=T.importSourceId,F=T.importFileName,Z=T.paste,G=T.seo,J=T.seoDescription,ae=T.seoKeyword,ue=T.setting,ke=T.shareDesignId,le=T.size,He=T.title;I({type:"commondesign/setState",payload:{designId:A,mainDesignId:A,mainDesignDetail:{importSourceId:z,importFileName:F,paste:Z,shareDesignId:ke}}}),$("title").text(T.title),ne(T,b,A)}})}function ne(b,A,I){$("#screenViewportCanvas").css({opacity:1});var P=A.props,T=P.dispatch,z=P.commondesign,F=z.clientType,Z=$("#canvasId");if(T({type:"storage/clear"}),b.import){var G=F==2?375:1200,J=2*$("body").height();T({type:"commondesign/setState",payload:{mainDesignId:I,designId:I,width:G,height:J,header:0,mainly:1600,footer:0,isSilder:!1,importBloo:!0}}),localStorage.previewBody="<style>* { pointer-events: none; }</style>"+b.body,$("#canvasId").css({width:G,height:J}),$("#header").hide(),$("#header").css({height:0}),$("#footer").hide(),$("#footer").css({height:0}),$("#pageWidthValue").parents(".changePageSize").hide(),$(".rightTopBotton, .rightCenterBotton").hide(),$("#mainly").css({height:J}),$("#mainly").html('<iframe src="/pages/design/preview.html" width="100%" height="100%" style="border: 0;background-color: #fff;"></iframe>'),$("#previewBarBox").hide()}else{if($("#previewBarBox").show(),Z.css({height:"auto",width:"auto"}),b.setting){var ae=(0,de.r0)(b.setting);T({type:"commondesign/setState",payload:{title:b.title,width:ae.width,height:ae.height,header:ae.header,mainly:ae.mainly,footer:ae.footer,bgColor:ae.bgColor,bgObject:ae.bgObject,pgColor:ae.pgColor,pgObject:ae.pgObject,color:ae.color,hoverColor:ae.hoverColor,backvedio:ae.backvedio,headerSet:ae.headerSet,footerSet:ae.footerSet,isSilder:!0,importBloo:!1}}),E(ae)}else{var ue=z.clientType,ke=ue==1?{width:1200,height:1024,header:180,mainly:664,footer:180}:{width:375,height:667,header:50,mainly:567,footer:50};T({type:"commondesign/setState",payload:(0,g.Z)({isSilder:!0},ke)}),E(ke)}var le=Z.find("#header"),He=Z.find("#mainly"),K=Z.find("#footer");le.show(),K.show(),le.html(b.head),He.html(b.body),K.html(b.foot),U(),$("#pageWidthValue").parents(".changePageSize").show(),$(".rightTopBotton, .rightCenterBotton").show(),$("#screenViewportCanvas").css({opacity:1}),(0,Oe.AF)(A),d(A)}}function U(){var b=$("#canvasId .module[data-vw]");b.each((A,I)=>{var P=b.eq(A),T={left:parseInt(P.attr("data-vl")),top:P.attr("data-vt"),width:P.attr("data-vw"),height:P.attr("data-vh")};P.css(T)})}function ve(b){var A={w:b.width(),h:b.height(),x:parseInt(b.css("left")),y:parseInt(b.css("top")),z:parseInt(b.css("zIndex")),mid:b.attr("data-mid"),type:b.attr("data-type"),children:[]},I=b.find(">.module");return I.length>0&&I.each(P=>{A.children.push(ve(I.eq(P)))}),A}function k(b){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=b.props.dispatch,P=A.headerBloo,T=P===void 0?!0:P,z=A.mainlyBloo,F=z===void 0?!0:z,Z=A.footerBloo,G=Z===void 0?!0:Z,J=$("#canvasId");if(T){var ae=J.find("#header");I({type:"storage/updateRegion",payload:{zone:"header",data:ve(ae).children}})}if(F){var ue=J.find("#mainly");I({type:"storage/updateRegion",payload:{zone:"mainly",data:ve(ue).children}})}if(G){var ke=J.find("#footer");I({type:"storage/updateRegion",payload:{zone:"footer",data:ve(ke).children}})}}function E(b,A){var I=b.width,P=b.height,T=b.header,z=b.mainly,F=b.footer,Z=b.bgColor,G=b.pgColor,J=b.color,ae=b.hoverColor,ue=b.bgObject,ke=b.pgObject,le=b.backvedio;W(Z,ue),j(G,ke),i(ae,J),$("#canvasId").css({width:I,height:P}),$("#pageWidthValue").text(I+"px"),$("#pageHeightValue").text(P),$("#header").css({height:T}),$("#mainly").css({height:z}),$("#footer").css({height:F}),A&&(0,Oe.AF)(A)}function W(b,A){if($("#bgVideo").remove(),$("#bgCanvas").remove(),clearInterval(window.screenInterval),A)if(A.backgroundImage){var I=A.backgroundImage,P=A.backgroundPosition,T=A.backgroundRepeat,z=A.backgroundAttachment,F=A.backgroundSize;$("#screenViewport").css({backgroundColor:b,backgroundImage:I,backgroundPosition:P,backgroundRepeat:T,backgroundAttachment:z,backgroundSize:F})}else{var Z=A.sourcePath,G=A.thumb,J=$("#screenViewport"),ae=J.outerWidth(),ue=J.outerHeight();J.append('<video id="bgVideo" src="'.concat(""+Z,'" autoplay loop muted />')),J.append('<canvas id="bgCanvas" width="'.concat(ae,'" height="').concat(ue,'"/>'));var ke=document.getElementById("bgVideo"),le=document.getElementById("bgCanvas"),He=le.getContext("2d");ke.addEventListener("play",()=>{var K=$("#bgVideo").outerHeight();window.screenInterval=window.setInterval(function(){He.drawImage(ke,0,0,ae,ae*K)},20)},!1)}else $("#screenViewport").css({background:b})}function j(b,A){if(A){var I=A.backgroundImage,P=A.backgroundPosition,T=A.backgroundRepeat,z=A.backgroundAttachment,F=A.backgroundSize;$("#canvasId").css({backgroundColor:b,backgroundImage:I,backgroundPosition:P,backgroundRepeat:T,backgroundAttachment:z,backgroundSize:F})}else $("#canvasId").css({background:b})}function i(b,A){$("#canvasFontColor").length>0?$("#canvasFontColor").html(".module a[href]:hover { color: ".concat(b," } .module{color:").concat(A,"}")):$("head").append('<style id="canvasFontColor">.module a[href]:hover { color: '.concat(b," } .module{color:").concat(A,"}</style>"))}function O(b,A){window.changeState=!1;var I=A.props.dispatch;I({type:"page/getDesignDetail",payload:{designId:b},callback:P=>{if(P.success){var T=P.data,z={size:T.size?T.size:"1440|800",body:T.body};$("title").text(T.title),y(z,A),V.ZP.success("\u5207\u6362\u9875\u9762\u6210\u529F")}else w.Z.error({message:"\u83B7\u53D6\u8D44\u6E90\u5F02\u5E38",description:P.message})}})}function y(b,A){var I=A.props.dispatch,P=parseInt(b.size.split("|")[1]);I({type:"commondesign/setState",payload:{height:P,header:0,mainly:P,footer:0,isSilder:!1,importBloo:!1}}),I({type:"storage/clear"});var T=$("#canvasId"),z=T.find("#header"),F=T.find("#mainly"),Z=T.find("#footer");T.css({height:P}),z.hide(),z.css({height:0}),F.html(b.body),F.css({height:P}),Z.hide(),Z.css({height:0}),$("#contentHstyle").remove(),$("#pageWidthValue").parents(".changePageSize").hide(),$(".rightTopBotton, .rightCenterBotton").hide(),(0,Oe.AF)(A),d(A)}function d(b){setTimeout(function(){var A=$("#canvasId");if(window.BMap){var I=A.find(".module[data-type=Map]");I.each(P=>{var T=I.eq(P),z=T.attr("data-mid");if(!T.attr("data-map"))return!1;var F=JSON.parse(T.attr("data-map"));b["map"+z]=new BMap.Map(z),b["myGeo"+z]=new BMap.Geocoder,b["map"+z].enableScrollWheelZoom(!0);var Z=new BMap.ScaleControl({anchor:BMAP_ANCHOR_TOP_LEFT}),G=new BMap.NavigationControl,J=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT,type:BMAP_NAVIGATION_CONTROL_SMALL});b["map"+z].addControl(Z),b["map"+z].addControl(G),b["map"+z].addControl(J),b["myGeo"+z].getPoint(F.address,function(ae){if(ae){b["map"+z].centerAndZoom(ae,16);var ue=new BMap.Marker(ae);b["map"+z].addOverlay(ue);var ke="<div style='width:300px;'><p style='margin:0;line-height:1.5;font-size:13px;'>"+F.textAddress+"</p></div>",le=new BMap.InfoWindow(ke);ue.openInfoWindow(le)}else V.ZP.info("\u60A8\u9009\u62E9\u5730\u5740\u6CA1\u6709\u89E3\u6790\u5230\u7ED3\u679C!")},F.city)})}},5e3)}window.originalPageData="";var f="";function H(b,A){window.originalPageData={mid:b.mid||$(".onModule").attr("data-mid"),width:$("#canvasId").outerWidth(),height:$("#canvasId").outerHeight(),header:$("#header").outerHeight(),mainly:$("#mainly").outerHeight(),footer:$("#footer").outerHeight(),headerHtml:$("#header").html(),mainlyHtml:$("#mainly").html(),footerHtml:$("#footer").html()},L(b,A)}function L(b,A){var I=A.props.dispatch;f=b.callback,I({type:"commondesign/setState",payload:{width:b.width,height:b.height,header:0,mainly:b.height,footer:0,isEditChildModule:!0}}),window.isEditChildModule=!0,I({type:"storage/clear"}),I({type:"globaldesign/changeState",payload:{changeScrollY:(0,de.bV)(200,A,b.height)}});var P=$("#canvasId"),T=P.find("#header"),z=P.find("#mainly"),F=P.find("#footer");P.css({height:b.height,width:b.width}),T.hide(),T.css({height:0}),z.html(b.body),z.css({height:b.height}),F.hide(),F.css({height:0}),b.pageSizeHide&&$(".changePageSize").hide(),$(".rightTopBotton, .rightCenterBotton").hide()}function c(b){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=b.props.dispatch,P=window.originalPageData;I({type:"commondesign/setState",payload:{width:P.width,height:P.height,header:P.header,mainly:P.mainly,footer:P.footer,isEditChildModule:!1}}),window.isEditChildModule=!1,I({type:"storage/clear"});var T=$("#canvasId"),z=T.find("#header"),F=T.find("#mainly"),Z=T.find("#footer");$(".suspenTool").remove(),$(".vagueLineBox").remove(),$(".onModule").removeClass("onModule");var G={mid:P.mid,width:T.outerWidth(),height:T.outerHeight(),html:F.html()};T.css({height:P.height,width:P.width}),z.show(),z.html(P.headerHtml),z.css({height:P.header}),F.html(P.mainlyHtml),F.css({height:P.mainly}),Z.show(),Z.html(P.footerHtml),Z.css({height:P.footer}),$(".rightTopBotton, .rightCenterBotton").show(),$(".changePageSize").show(),A?ee(G):((0,je.J$)($('.module[data-mid="'+P.mid+'"]'),b),f="")}function ee(b){f&&(f(b),f="")}},38986:function(Ee,$e,e){"use strict";e.d($e,{Jq:function(){return de},yw:function(){return k},AF:function(){return E}});var R=e(48318),w=e(56173),q=e(41273),V=e(19755),g=e.n(V);function we(y){(0,q.OS)(y);var d=g()("#canvasId"),f=d.find("[data-type=login]");f.each(z=>{var F=f.eq(z),Z=F.attr("data-status");Z=="before"?F.attr("data-before",F.html()):Z=="after"&&F.attr("data-after",F.html())});var H=d.find("[data-type=loginBox]");H.each(z=>{var F=H.eq(z);F.attr("data-islogin",0)});var L=y.props,c=L.dispatch,ee=L.commondesign,b=ee.designId,A=ee.mainDesignId,I=d.find("[data-audition]"),P=[];I.each(z=>{var F=I.eq(z);P.push(F.attr("data-audition"))});var T=d.find("[data-type=player]");T.each(z=>{var F=T.eq(z),Z=F.attr("data-player")?JSON.parse(F.attr("data-player")).list:[];Z.forEach(G=>{P.push(G.videoid)})})}function de(y,d){var f=y,H=f.props,L=H.dispatch,c=H.commondesign,ee=H.globaldesign,b=c.designId,A=c.mainDesignId,I=ee.isMobile;if(window.changeState=!1,we(f),window.startSavePage)return!1;window.startSavePage=!0,b==A?I?Oe(f,d):ne(f,d):I?U(f,d):ve(f,d),W(f)}function je(y){for(var d=g()('.module[data-type="picture"]'),f=0,H=d.length;f<H;f++){var L=d.eq(f),c=L.find(".box");c.attr("href")?L.html('<a class="box" href="'+c.attr("href")+'">'+c.html()+"</a>"):y?L.html('<div class="box">'+c.html()+"</div>"):L.html('<a class="box">'+c.html()+"</a>")}}function Oe(y,d){var f=g()("#canvasId"),H=y.props,L=H.dispatch,c=H.commondesign,ee=c.designType,b=c.clientType,A=c.mainDesignId,I=c.width,P=c.height,T=c.header,z=c.mainly,F=c.footer,Z=c.bgColor,G=c.pgColor,J=c.color,ae=c.hoverColor,ue=c.bgObject,ke=ue===void 0?{}:ue,le=c.pgObject,He=c.backvedio,K=c.headerSet,Ue=c.footerSet;A||L(R.VF("/exception/404"));var h=`
    .content {margin: 0 auto;
      width: 100%;
      height: auto;
      color: `.concat(J,`;
      background-color: `).concat(G,`;
      background-attachment: `).concat(le.backgroundAttachment,`;
      background-image: `).concat(le.backgroundImage,`;
      background-position: `).concat(le.backgroundPosition,`;
      background-repeat: `).concat(le.backgroundRepeat,`;
      background-size: `).concat(le.backgroundSize,`;}
    .module{color: `).concat(J,`;}
    .module a[href]:hover{color: `).concat(ae,`}
    .comHead {
      margin: 0 auto;
      position:relative;
      width: 100%;
      height: `).concat((0,w.bf)(T,2),`
    }
    .comHead .showSet{
      background-color:#fff;
      z-index: 999;
      top: 0;
      left: auto;
      margin: 0 auto;
      width: 100%;
      height: `).concat((0,w.bf)(T,2),`;
      position: `).concat(K,`;}
    .content {
      position:relative;
      height: `).concat((0,w.bf)(z,2),`}
    .comFoot {
      margin: 0 auto;
      position:relative;
      width: 100%;
      height: `).concat((0,w.bf)(F,2),`}
    .comFoot .showSet{
      background-color:#fff;
      z-index: 999;
      width: 100%;
      height: `).concat((0,w.bf)(F,2),`;
      margin: 0 auto;
      top: auto;
      left: auto;
      bottom: -1px;
      position: `).concat(Ue,"}"),x={width:I,height:P,header:T,mainly:z,footer:F,pgColor:G,pgObject:le,color:J,headerSet:K,footerSet:Ue,cssText:h};je(!0),Te(f.find("#header"),!0),Te(f.find("#mainly"),!0),Te(f.find("#footer"),!0),L({type:"page/editDesignDetail",payload:{designType:ee,clientType:b,designId:A,setting:JSON.stringify(x),head:f.find("#header").html(),body:f.find("#mainly").html(),foot:f.find("#footer").html(),searchComponent:f.find('.module[data-handle="getUsername"]').length>0},callback:D=>(window.startSavePage=!1,D.success&&(je(!1),d&&d()),"\u4FDD\u5B58")})}function Te(y){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=y.find(".module");f.each(H=>{var L=f.eq(H),c=parseInt(L.css("left")),ee=(0,w.bf)(c,2),b=parseInt(L.css("top")),A=(0,w.bf)(b,2),I=parseInt(L.outerWidth()),P=(0,w.bf)(I,2),T=parseInt(L.outerHeight()),z=(0,w.bf)(T,2);d&&(L.attr("data-vl",c),L.attr("data-vt",b),L.attr("data-vw",I),L.attr("data-vh",T));var F=(0,w.bf)(parseInt(L.css("fontSize")),2),Z=(0,w.bf)(parseInt(L.css("lineHeight")),2);L.css({left:ee,top:A,width:P,height:z,fontSize:F,lineHeight:Z})})}function ne(y,d){var f=g()("#canvasId"),H=y.props,L=H.dispatch,c=H.commondesign,ee=c.designType,b=c.clientType,A=c.mainDesignId,I=c.width,P=c.height,T=c.header,z=c.mainly,F=c.footer,Z=c.bgColor,G=c.pgColor,J=c.color,ae=c.hoverColor,ue=c.bgObject,ke=ue===void 0?{}:ue,le=c.pgObject,He=c.backvedio;A||L(R.VF("/exception/404"));var K=`<style>
      body {background:`.concat(Z,`;
        background-attachment: `).concat(ke.backgroundAttachment,`;
        background-image: `).concat(ke.backgroundImage,`;
        background-position: `).concat(ke.backgroundPosition,`;
        background-repeat: `).concat(ke.backgroundRepeat,`;
        background-size: `).concat(ke.backgroundSize,`;}
      .content {margin: 0 auto;
        width: `).concat(I,`px;
        height: auto;
        color: `).concat(J,`;
        background-color: `).concat(G,`;
        background-attachment: `).concat(le.backgroundAttachment,`;
        background-image: `).concat(le.backgroundImage,`;
        background-position: `).concat(le.backgroundPosition,`;
        background-repeat: `).concat(le.backgroundRepeat,`;
        background-size: `).concat(le.backgroundSize,`;}
      .module{color: `).concat(J,`;}
      .module a[href]:hover{color: `).concat(ae,`}
      .head {position:relative;
        height: `).concat(T,`px}
      .middle {position:relative;
        height: `).concat(z,`px}
      .foot {position:relative;
        height: `).concat(F,`px}
    </style>`);f.find(".module[data-type=Map]").length>0&&(K+='<script type="text/javascript" src="//api.map.baidu.com/api?v=2.0&ak=CAlr2cowj9PaVKF5xK1ZFWDXgiuhHBGw"></script>');var Ue="";if(ke.thumb){var h=ke.sourcePath;Ue=`<div class="videoJs">
        <script>
          var bgVideoBox = $('#bgVideoBox')
          if (bgVideoBox.length < 1) {
            $('body').append('<div id="bgVideoBox" style="width: 100vw;height: 100vh;pointer-events: none;position: fixed;top: 0;left: 0;"><style>  .content { position: relative; z-index: 2; }.content > div { background-color: #fff;}.content > .head, .content > .foot { background-color: inherit }</style></div>')
            bgVideoBox = $('#bgVideoBox')
          }
          var bgWidth = bgVideoBox.outerWidth()
          var bgHeight = bgVideoBox.outerHeight()
          bgVideoBox.append('<video id="bgVideo" src="`.concat(""+h,`" autoplay loop muted style="width: 1px; opacity: 0;" /><canvas id="bgCanvas" width="'+bgWidth+'" height="'+bgHeight+'" style="position:absolute; top: 0;left: 0;"/>')
          var v = document.getElementById("bgVideo");
          var c = document.getElementById("bgCanvas");
          var ctx = c.getContext('2d');
          v.addEventListener('play', () => {
            var videoRatio = $('#bgVideo').outerHeight()
            window.screenInterval = window.setInterval(function() {
              ctx.drawImage(v, 0, 0, bgWidth, bgWidth * videoRatio)
            }, 20)
          }, false)
        </script>
      </div>`)}var x={width:I,height:P,header:T,mainly:z,footer:F,bgColor:Z,bgObject:ke,pgColor:G,pgObject:le,color:J,hoverColor:ae,backvedio:He,cssText:K};f.find("#header .videoJs, #bgVideoBox").remove(),L({type:"page/editDesignDetail",payload:{designId:A,setting:JSON.stringify(x),head:f.find("#header").html()+Ue,body:f.find("#mainly").html(),foot:f.find("#footer").html(),searchComponent:f.find('.module[data-handle="getUsername"]').length>0},callback:D=>(window.startSavePage=!1,D.success&&d&&d(),"\u4FDD\u5B58\u9875\u9762")})}function U(y,d){var f=g()("#canvasId"),H=y.props,L=H.dispatch,c=H.commondesign,ee=H.globaldesign,b=c.designType,A=c.clientType,I=c.designId,P=c.width,T=c.mainly,z=g()("#contentHstyle");z.length>0&&z.remove();var F="<style id='contentHstyle'>.content{height: ".concat((0,w.bf)(T,2),"} }</style>");je(!0),Te(f.find("#mainly")),L({type:"page/editDesignDetail",payload:{designType:b,clientType:A,designId:I,size:P+"|"+T,body:F+f.find("#mainly").html(),searchComponent:Array.from(document.querySelectorAll('.module[data-handle="getUsername"]')).length>0},callback:Z=>(window.startSavePage=!1,Z.success&&(je(!1),d&&d()),"\u4FDD\u5B58")})}function ve(y,d){var f=g()("#canvasId"),H=y.props,L=H.dispatch,c=H.commondesign,ee=c,b="";f.find(".module[data-type=Map]").length>0&&(b='<script type="text/javascript" src="//api.map.baidu.com/api?v=2.0&ak=CAlr2cowj9PaVKF5xK1ZFWDXgiuhHBGw"></script>'),b+=f.find("#mainly").html(),L({type:"page/editDesignDetail",payload:{designType:2,clientType:c.designType,designId:c.designId,size:c.width+"|"+c.mainly,body:b,searchComponent:f.find('.module[data-handle="getUsername"]').length>0},callback:A=>(window.startSavePage=!1,A.success&&d&&d(),"\u4FDD\u5B58\u9875\u9762")})}function k(y){W(y);var d=y.props.commondesign,f=d.clientType,H=d.designId,L=d.mainDesignId,c=H==L?1:2;switch(console.log(location),f+"|"+c){case"1|1":window.open(location.origin+"/design/index/preview.html");break;case"1|2":window.open(location.origin+"/design/index/subPreview.html");break;case"1|3":window.open(location.origin+"/design/studyIndex/preview.html");break;case"2|1":window.open(location.origin+"/design/mobile/preview.html");break;case"2|2":window.open(location.origin+"/design/mobile/subPreview.html");break;case"2|3":window.open(location.origin+"/design/studyMobile/Preview.html");break}}function E(y){W(y),g()("#previewIframe").length>0&&g()("#previewIframe")[0].contentWindow.updateDom&&g()("#previewIframe")[0].contentWindow.updateDom()}function W(y){var d=g()("#canvasId"),f=y.props.commondesign,H=f.designId,L=f.mainDesignId,c=f.clientType;if(H==L)switch(c+""){case"1":j(y);break;case"2":i(y);break}else O(y)}function j(y){var d=g()("#canvasId"),f=y.props.commondesign,H=f.designType,L=f.clientType,c=f.mainDesignId,ee=f.width,b=f.height,A=f.header,I=f.mainly,P=f.footer,T=f.bgColor,z=f.pgColor,F=f.color,Z=f.hoverColor,G=f.bgObject,J=G===void 0?{}:G,ae=f.pgObject,ue=f.backvedio,ke=`<style id="previewStyle">
      body {background:`.concat(T,`;
        background-attachment: `).concat(J.backgroundAttachment,`;
        background-image: `).concat(J.backgroundImage,`;
        background-position: `).concat(J.backgroundPosition,`;
        background-repeat: `).concat(J.backgroundRepeat,`;
        background-size: `).concat(J.backgroundSize,`;}
      .content {margin: 0 auto;
        width: `).concat(ee,`px;
        height: auto;
        color: `).concat(F,`;
        background-color: `).concat(z,`;
        background-attachment: `).concat(ae.backgroundAttachment,`;
        background-image: `).concat(ae.backgroundImage,`;
        background-position: `).concat(ae.backgroundPosition,`;
        background-repeat: `).concat(ae.backgroundRepeat,`;
        background-size: `).concat(ae.backgroundSize,`;}
      .module{color: `).concat(F,`;}
      .module a[href]:hover{color: `).concat(Z,`}
      .head {position:relative;
        height: `).concat(A,`px}
      .middle {position:relative;
        height: `).concat(I,`px}
      .foot {position:relative;
        height: `).concat(P,`px}
    </style>`);d.find(".module[data-type=Map]").length>0&&(ke+='<script type="text/javascript" src="//api.map.baidu.com/api?v=2.0&ak=CAlr2cowj9PaVKF5xK1ZFWDXgiuhHBGw"></script>');var le={header:d.find("#header").html(),mainly:d.find("#mainly").html(),footer:d.find("#footer").html(),cssText:ke};localStorage.previewPage=JSON.stringify(le)}function i(y){var d=g()("#canvasId"),f=y.props.commondesign,H=f.designType,L=f.clientType,c=f.mainDesignId,ee=f.width,b=f.height,A=f.header,I=f.mainly,P=f.footer,T=f.headerSet,z=f.footerSet,F=f.pgColor,Z=f.color,G=f.pgObject,J=`<style id="previewStyle">
    .content {margin: 0 auto;
      width: 100%;
      height: auto;
      color: `.concat(Z,`;
      background-color: `).concat(F,`;
      background-attachment: `).concat(G.backgroundAttachment,`;
      background-image: `).concat(G.backgroundImage,`;
      background-position: `).concat(G.backgroundPosition,`;
      background-repeat: `).concat(G.backgroundRepeat,`;
      background-size: `).concat(G.backgroundSize,`;}
    .module{color: `).concat(Z=="inherit"?"#666":Z,`;}
    .comHead {
      margin: 0 auto;
      position:relative;
      width: 375px;
      height: `).concat((0,w.bf)(A,2),`
    }
    .comHead .showSet{
      background-color:#fff;
      z-index: 999;
      top: `).concat(T=="fixed"?80:0,`px;
      left: auto;
      margin: 0 auto;
      width: 375px;
      height: `).concat((0,w.bf)(A,2),`;
      position: `).concat(T,`;}
    .content {
      position:relative;
      height: `).concat((0,w.bf)(I,2),`}
    .comFoot {
      margin: 0 auto;
      position:relative;
      width: 375px;
      height: `).concat((0,w.bf)(P,2),`}
    .comFoot .showSet{
      background-color:#fff;
      z-index: 999;
      width: 375px;
      height: `).concat((0,w.bf)(P,2),`;
      margin: 0 auto;
      top: `).concat(z=="fixed"?80+667-P:0,`px;
      left: auto;
      position: `).concat(z,"}</style>");Te(d.find("#header")),Te(d.find("#mainly")),Te(d.find("#footer"));var ae={header:d.find("#header").html(),mainly:d.find("#mainly").html(),footer:d.find("#footer").html(),cssText:J};localStorage.previewMobilePage=JSON.stringify(ae)}function O(y){var d=y.props.commondesign,f=g()("#canvasId"),H=d.designType,L=d.clientType,c=d.width,ee=d.height;parseInt(L)==2&&Te(f.find("#mainly"));var b={size:d.width+"|"+parseInt(f.find("#mainly").height()),mainly:f.find("#mainly").html()};switch(L+""){case"1":localStorage.previewSubPage=JSON.stringify(b);break;case"2":localStorage.previewMobileSubPage=JSON.stringify(b);break;default:localStorage.previewSubPage=JSON.stringify(b)}}},7861:function(Ee,$e,e){"use strict";e.d($e,{pM:function(){return g},r0:function(){return we},U7:function(){return de},Y0:function(){return je},Tl:function(){return Oe},vZ:function(){return U},GA:function(){return ve},bV:function(){return E},x4:function(){return j},A7:function(){return i},Xn:function(){return O}});var R=e(34792),w=e(19755),q=e.n(w),V=e(56173);function g(y){if(typeof y=="string")try{var d=JSON.parse(y);return!!(typeof d=="object"&&d)}catch(f){return!1}}function we(y){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof y=="string")try{var f=JSON.parse(y);return typeof f=="object"&&f?f:d}catch(H){return d}}function de(y){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,f=y.props,H=f.dispatch,L=f.commondesign,c=L.header,ee=L.mainly,b=L.height,A=q()("#mainly > div"),I=d;A.each(P=>{var T=A.eq(P);I+=T.outerHeight()}),I>b-200&&(H({type:"commondesign/setState",payload:{mainly:I,height:c+I}}),q()("#canvasId").css("height",c+I),q()("#mainly").css("height",I))}function je(y,d){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;window.startMouseMove=f,q()("#mainly iframe").css("pointer-events","none"),q()(document).on("mousemove",function(H){y&&y(H)}),q()(document).on("mouseup",function(H){q()(document).unbind("mousemove mouseup"),q()("#mainly iframe").css("pointer-events","auto"),window.startMouseMove=!1,d&&d(H)})}function Oe(y,d,f,H,L){var c=y.find(">.box"),ee=y.find(">.suspenTool");y.addClass("onEditModule"),c.addClass("editor"),c.attr("contenteditable","true"),ee.css({zIndex:-1}),c[0].focus(),L.startVague=!1,H=="text"&&c.text()=="\u8F93\u5165\u6587\u672C"&&c.html(""),f||(d?c.css({display:"block",minWidth:"100%",minHeight:"100%"}):c.css({display:"block"}),y.css({textAlign:"center"}),c[0].onkeydown=()=>{var b=y.attr("data-menuopenstyle")=="hover"||y.attr("data-menuopenstyle")=="click";y.css({minWidth:y.width(),width:"auto",height:"auto",overflow:b?void 0:"visible"})}),c.blur(function(){if(L.startVague=!0,H=="text"&&c.text()=="")c.html("\u8F93\u5165\u6587\u672C");else if(H=="text"){for(var b=c.html(),A=b.split("<br>"),I="",P=0,T=A.length;P<T;P++){var z=A[P],F=document.createElement("div");F.innerHTML=z,P>0&&(I+="<br>"),I+=F.innerText}c.html(I)}c.removeClass("editor"),c.removeAttr("contenteditable"),ee.css({zIndex:1e3}),y.removeClass("onEditModule"),c[0].onkeydown="",y.css({width:y.outerWidth()+2}),c.unbind("blur"),y.css({minWidth:"auto"})})}function Te(y){var d=y.size/1024/1024<2;return d||_message.error("\u6587\u4EF6\u6700\u5927\u4E0D\u8D85\u8FC72MB!"),y.type!="text/html"?(_message.error("\u8BF7\u9009\u62E9html\u6587\u4EF6"),!1):d}function ne(y){for(var d=document.cookie,f=d.split("; "),H=0;H<f.length;H++){var L=f[H].split("=");if(L[0]==y)return L[1]}return""}function U(y,d){d.props.dispatch({type:"commondesign/setState",payload:y})}function ve(y){return"/design/"+y}function k(y){return y.toDataURL("image/png")}function E(y,d,f){var H=d.props.commondesign.height,L=f||H,c=q()(document).height(),ee=(V.h5-y)/(L+2*V.h5)*(c-V.cM-V.e)+V.cM;return ee}function W(y,d){var f=$("#header").height(),H=$("#mainly").height(),L=parseInt(y.css("top"));switch(y.parents(".topFloor").attr("id")){case"header":L-100-150,_readOnlyError("top");break;case"mainly":L+f-150-150,_readOnlyError("top");break;case"footer":L+f+H-350,_readOnlyError("top");break}var c=-L,ee=d.props.commondesign.height,b=$(document).height(),A=(MaxSection-c)/(ee+2*MaxSection)*(b-HeaderHeight-ScrollBarSize)+HeaderHeight;return c}function j(y,d){var f=d.props.commondesign.height,H=q()(document).height(),L=V.h5-(y-V.cM)/(H-V.cM-V.e)*(f+2*V.h5);return L}function i(y,d){var f=d.props.commondesign.width,H=q()(document).width(),L=(V.h5-y)/(f+2*V.h5-H)*(H-V.e);return L}function O(y,d){var f=d.props.commondesign.width,H=q()(document).width(),L=V.h5-y/(H-V.e)*(f+2*V.h5-H);return L}},77856:function(Ee){Ee.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAABHklEQVQ4T+VSMS8GQRB9I/ai+QgV/oBaolIrUOmEhFwiOz9qNl9yISE6FQq1SqL2B1ARNHIrRkZu41zuJC5fNKbazL73Mm/eEDrKe79PRDv1b1U9CCHstlGoS4iZj1R1M8Y4bxjn3C0RHYvI1q+FAKyKyLQRmfkRwPl/FKrScS0LXAYwIyKDakcvAB4AXDaxqhqJmdWKiJ4agHFVvQkhLFnfe39FRAsA3honMUVWJlSW5VxRFPddp/BTP8/z2SzL7kYrBOAZwHufiQCMAZj8nAjACYDXnkITADZGa+1Pls3MZ2ZZRNbarHem5r0/DCFsJxIzX1dCi6lXx3wTUtW9GOOpAe0mzGoiOecu7B1jXEm9OsY5t05Ew5Raz8C+aB+7tsT/WoRs/QAAAABJRU5ErkJggg=="},93313:function(Ee){Ee.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAADNElEQVQ4T61UTWhjVRQ+59zk9ZHSRhwdlRQVpP4wKijibqZxKw6iEGYgvBh4zZvAdGZw24XEgu4ErQivL00oeQSErEY37hxHN/6AoHagogvFTEcdjbWYvLbvniM3NPImUxGtd3d/zne/+93zfQhjw/O8LDM/SkTHReQJIrpLRKYQcZuZNxHxM2b+kIi+CIJga7wekwue590tImcRcU5EPmDmy5ZlfbOzs7M9MTExtbe3dx8inkDEPABc1lq/1Wg0vkti/AXouu7DSqlXAeBHZva3trY2Op1OHwA4UUCFQiGTzWYfIKIqANyhtV5sNBpfjc4MAavVao6Zl0XkCiK+EQTB9fGnHCDNbQBwHgCOMfOF1dXVH8wZNJoBwCIA3BJF0WKr1fplrBiLxeJUu93eBgBJ7pVKpSO2bZtX/TYYDJbCMPwD5+fnjyPia8x8ptFofD7OxHGco7Zt16MoqoRh+NMBTB8HAN9oX6/XPzUMl0RkMoqil8wN4wWlUiln2/b7URQ91Wq1ugdcOGnb9hIi/hrH8bIBvMjMzZmZmXdrtVryA4a11Wr1qNb6klIq7/v+TQxrtRptbm6eZOYXtNYLWKlUPkbE+SAIvty/HR3HuR0R02ZuWdadiPi2iJze3d29ZtZEZC8Mw59Hmnqe9wgANOM4PmUYrmutnx71U7FYnM5kMiEi3r9fnEJE05/fI2K8v/Z1v9932u3272ZeLpfvtSzrPUQ8OWSolHJ93x/10qEZHkpDAKBKpfKMITrU8H//5cP2oeu6jymlVpJ9+J+d4rrurUT0ikmiwWDw8tApSS8DwDoALP8LL78IAA/GcXyu2WxeHXp51PmjtBGRayKysp82xjlJ/2KhUJicnp6eJaKzADCHiK/3ej2/0+noGwDNxHXde4hoAQBOAMAlk4npdPrbsTycIyKz/xEzrxPRaWZeyeVyF43TbghYA+o4zmQ6nX7IWA0RnwSAHABMAYBJm66IfGKsmEqlrvR6vZ1sNvssIp4jojc3NjbeuQlwJEG5XLaVUhmttUVExMyslNrVWvfX1tai0Tnj5W63+xwALCBi/W8B/ylgk/v5fD41Ozt7ChGf/xPbQ+YkhRKtZgAAAABJRU5ErkJggg=="},78709:function(Ee){Ee.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAC7klEQVQ4T62UQWhUVxSG/3NuZjJMSKa0isgEFUqqUitYxJ1m1qKIhSFCmHTgZZ6BJBW3WZQxYHcFjQiTl7whZMhqVurGpVo3rYJgm0DELgqNaWnrGIMzE/PuueUOeTJJmxpN3+69+9/vnXvu/x/Chsd13YSIHGbm48aYo8y82xjTTkTLIrJIRA9F5Dtmfux53tLG/dT8wXXdPcaYQSLqNsbcFZF70Wj06crKynJra2v76urqx0R0gohSAO5pra/7vv9LM+MN0HGcQ0qpbwD8LiKFpaWl+XK5XAUgTRs4nU7HE4nEfmYeALBLaz3i+/5PoaYBHBgYSIrImDFmjoiuep7358aj/EtrdgD4CsCnInJhcnLyV6sh2zMAIwA+qNfrI9PT03+9DRau9/X1fRSLxeypXtRqtdFSqfSK+vv7jxPRtyJy3vf9R1uFhTrXdT8HULC9n5iYeGArHDXGtNXr9a/tH94VmMlk2mKx2CgRPQ+CYMwCb4hIsbOz81Y+n2++gC2x8/k8Ly4unhaRL7XWQ5TL5b4non7P835cI1Amk9lJRJHNiMaY1VKp9AcAYzWu634GoBgEQY+tcFZrfTL0U29vb0c8Hi8R0Sf/AXxSrVYzMzMzL60mm83ui0ajt4nodKNCpZRTKBRCL227wm31EADncrlTttBGD//3W96uDx3HOaKUGm/24XsnxXGcD5n5sp1EtVrtUiMpzVkGMAtg7B2yfBHAgSAIhovF4rNGlkNrhNPGGPObMWZ8bdrY5DS8Fno0nU63dXR0dDHzIIBuIrpSqVQK5XJZrwPaF8dx9jLzEIATAO7YmRiJRH7eMA+7mdmu3xeRWWY+JyLjyWTyhk3augFroTabkUjkoFIqRUTHACQBtANYBrBgjPlBa32npaVlrlKprCQSiTNENMzM1+bn52/+AxieLZvNxpRSca11lJlZREQp9VprXZ2amqqHOpvlhYWFswCGiGhiU+CWJsOaKJVKtXR1dfUQ0Rd/A/BllCRsLIcYAAAAAElFTkSuQmCC"},62828:function(Ee){Ee.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAVCAYAAACkCdXRAAACiElEQVQ4T52UzWtTQRTFz533krwm0gSli7YiGoh/hbSoq/oFXWQhaUoSmvfiTuhWMCqu1eIipCGWxi4qgisXglTrxr/BRGsVq5QqaiPhkbyZK68kEvuRjw7MbuY355575lI6nU4IISxmPoZDLCL6IaWcE0I8Jcuy3gKYI6I3tVqtL5zf7wczjymlrnk8nhiZpvnecZyxYrH4tS9S83AqlRrRNO2VEOKSCysDGM/n898AUDweHyIiTycwMzdKpdIWADZNcxjAChFd2YHZtn12cXFxIxaLDfr9/hIRne4CK9dqtfjS0tL29PT0qGEYL/fADqMsk8mMKqVWmfnCf8oO41mzzGcAdhrwr8z9lLX7s99j0WhUCwaDw0KIza6eMXNZSjlVLBariUTCMAxjsF6v616v17Fte3thYcFuPdKzskwmMyKlTBLROQBDALaYeUXTtEe5XG7DBfbk2czMzHEhxH0Av5VSJSHEmlIqTERTAELMfL1QKHw5UFnLq2g0aoRCoVkiCjuOc6M93M3A3iGiNV3XH+zxLBAIPAYQAVBxHCem67oPwBOl1O1CofB6dxPS6fQ4Ed0EkOiqLJVKDeu6/gLAxXw+/3k3zDTNEwCeSyknu3qWTCaHPB7PMjPfmp+fX90NsyxrjJmzHZW5l1zfBgYG/gCYBXDqAM/uAvhg2/a9jjlj5ndSyrhhGIFGo/GQiH4SUaler3/UNO2kECIJ4IyrulKpLHecGu3pb/7BBIDzzZxtMrPbkE9EdFUpVexrnk1MTPjC4fCRRqPh9fl8TrVara6vrzuRSOQygMmeJ62u6+xuIYTM5XLfAahWM7LZrCiXy0EXlmRmC8DRHqfGLyHEZOsLtd/5C6wawTMGsb2UAAAAAElFTkSuQmCC"},54195:function(Ee){Ee.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAVCAYAAACkCdXRAAAC30lEQVQ4T52UTWgTURDHZ97bwqYfwQTRQ7AeWkFQwYNSb22hehAqggQPIaXNZrfF+nUQKVoxSKkiXmxpaTabRhJykApeigUVSk9+4EX8BO2lsQcFtailW7r7Rl5xJa2NMc5pYd77vf/s/GcQykQ8Ht+KiDkiilqW9fFvx7EcrKOjI6Sq6rRt263ZbHa+IphhGNWmaS4BAMmLv2APbdtu82Dt7e3Vfr9fyefz34rhxcpQ07T9iNgmhBgeHx//vhGspaVFaWxsPMoYOwwASdM0n3oPezCMx+OtjLHLADBZKBSGpqamlksp0zQtqCjKCSFEGxFdsSxrWgJXYZqm7eacDxHRnaqqquzo6OgPT/5GZcpcOByuDQQCnUR0TAhxKp1Ov0TDMDYT0SAifnYcZ9ArrxxM5mOxWB3n/CIibgKAfgk7hIj9juPE0un0+/XdKqXMO2cYRgMA3CKiAdR1/RoALC8sLFybmJiQXVwT5awRDod9wWCwj4hUqeweEd1MpVL3va4U06LR6BZVVVO2beu5XO7TBj6TgmR1Z+THc0Q8bprm2xKGxEgkUpfP56VVVr23PgzD2AkAt6WyN0KIg5ZlfSg3DaXymqZt55w/wO7u7kfSHclk8vX/wnRd34uI41LZXSLKhEKhyUQiISoFJhIJVigUjjDGOiXsEgAEl5aW+nO53GKlsGg0WuPz+QYA4IscowOMsWEAOGma5pNKYYZhNBGRvH8WpYsVRekDgHohxLlyO6v4MbnrGGM3ELGwsrJydXU2e3p6Qq7rjjDGZl3Xvf4vQAninJ8XQjRwznvHxsbmf68gXdd3IeIgAHwFgCHHcd7V19cvFjdF/uy5ubkaRVF2AMBpAAgQ0YVUKvVKilqzabu6urYpitKLiC1E9BgAZohoFgCkYesQUc5hMwA0yZzjOCOZTKbglf7H2o5EIn5VVfdwzpuJaB8AhBCxlojkWppHxGeu687Ytv1i/ab9CXqmZL1w9bbPAAAAAElFTkSuQmCC"},86919:function(Ee){Ee.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB1UlEQVQ4T42TP2hTURjFz/fdBDOYhgwuAVuEZLCzOGcQRLRiq5mC4MufOzVDZkGeW+lUB8NLciVZMoWW0gp1jIKrOtQlLo6lLTxBCS+m7155DxpisPXd+X6/e75zziVEPFLKlDHmJRF9dF13p9/v+8EoRZxHoVAQqVRqlZnXtdabSqkDACYyIHgon8/HstnsY2Z+BmCz1WoN/gJIKeO+7yfH4/EVZuZ5dYlEQmutE0RUBLAC4MUUYFnWNSHEQ2a+C+AGgKsXrHdmjEkS0RIRvQ0BlmUtx+NxGwBrrbeZ+bPneT8vUfCUme9prW0ql8tLzPyKiA4BvHZd9/jc4XlA4EEul3sSeOD7/oZS6j1JKesAbjFz3XGc44tSCVJIp9NrANaNMRvtdvtdmEK1Wt1n5laz2dy/LNJarbbged5zIvqQyWQObNvWYQ+klF+Z+b7jON//0wkqFovJXq8XeGPO7waAQ2Z+EAHwT34A2NNav1FK7c2SozY0NNEYc3symdS73e5R1MHZFRaNMVsAvhHR1nA4PBkMBmdRQWGRKpXKTSIKiwRgF8AXIcSP0Wg05Qghfnc6ndP5NadVLpVKGSHEIwB3iOg6gIW53/opFotVGo3Gr1l1fwAZlq/n8KtK9wAAAABJRU5ErkJggg=="},37336:function(Ee){Ee.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABxUlEQVQ4T52SP4tTQRTFz70z5hFExCYpxXS22oggpNiAYcFCSZXyvTd5bGnjH2QJbCXsJ3ghaZZX7KYSVlG2yRewVpImS8BSiAo+zGSuTNiVdU12g9NMce/9zbnnDOHktNttnkwmm0qpDQDbaZpOT2sX3XRSpCiKNojoORF1h8PhwWAwsOsCKAzD+0qpV0SUich+mqazdYZ9jx9+qJTaBvDBWruntf6Z5zmfBzDzHEA+Ho9/nFVHxphDAJsAjgF8A3BlxetTIvokIkfz+fx9t9v9ulAQx3Hdm0ZE76y12SoFQRBcBXAHwBMiykVkp9PpDL2J1Gq1HjjnXgLYG41G+6sMrFarulKplLTWWwBuOeee/UnBGFMTkRcikk6n04N+v+93XnqiKCoz865z7uMpwDdykiQ1a22NmXcu+wdxHD8iInMWsPCk2Wxey7LsOwC5KMowDG8y89vzgHXjhwcopd78N8AY46P/Z4W1FCRJUnLO7YrIXyZeOtxoNFQQBKVisbhFRLcBPF26Qr1eD8rl8o1CobCoW2tJa10UkbtE9BiAj9gn9XkpIIqie8z8GsB1EbFEpAH8EpFjZj6azWaHvV7vi4f/BoP6srGqgvt3AAAAAElFTkSuQmCC"},94064:function(Ee){Ee.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAACS0lEQVQ4T5WUz2sTQRTHv29TU0JjIcVD8ODBv0BQFBR/HbxUBS+5BJVSd4ZWyUUEET0UlCKIHhQMvJk0B485eFBEimBVFCnoHyCiBwlFCl0RJNYkMzJlt8Qm2V33tMx83/ez8+b7lpDwzM7OFjqdzmcimtgi7QLYz8wf4ywoblMIcZuIrgJYDIJgstFoONONRwhxjYjmAbxj5kPDfIYChBAVIrpvjNmttf46zEBKaQG8YuZjgzRDAa7QGHNEa/0mqY2htqi1/r5VOxAgpXwAYIaZtyWZu30p5WMAh5l5R1qAtdZeUko9TAOYnp7ePjIy8pOZ+z74n4WpqaliNpu9A+Bsu93eVa/Xv6UBhKdwd/HSWjujlPoU1W0CpJQrAIoA3IU+Z+aLac1DwD0AxwHsAfCDmQtufQMghFgnouygI/4PJNJKKX9Zaz2lVI6EEJeJ6G4a81KplF1dXTVLS0udJHCYrHPkXqy1z5RSJ+OKnHmhUFh3miAIRhuNxp84fZisMxHgtFLqacwwubg6wzUAkwDeA3AtbQ+rEUKcIqInEeC8UupR3LS2Wq18LpdbYeZxIcRBInob11bf9y94nqcdwEVxjJm3/sz6eFJKl/XxpP6HqfoN4AWVy+VCPp9f63a7B2q12nJCX1MBpJTXAdxyJ4xiepOIbgBwaboS06pYwNzcnNdsNpeJaG8mk5moVqvB5qD5vn/C87zFXnNjzD6t9YeefPcBwr9pb9lrZj7aN8nRQqVSGW21WjuNMbSwsPClt9INEDOPpbmDSPMXYbYFI8+HRa8AAAAASUVORK5CYII="},61176:function(Ee){Ee.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAACrElEQVQ4T32Tz2sTQRTH35sklAqm2VIoFHspaNFSEfx1tCJUW3ot2nqp7c4shf4DooeAIh70IJ4ys7sNRUTIuR7sxQpakF6KP7BHkQZENKIgMd3ZJy9kyzakzmn3zcznvfm+70MAgGKxKKrVqrXWTgVBsMqxg5aU8joiPuF9ImoAwEVjzBsEAFRKxUSkEFH/DyalfIiIk1rr4/Pz84ez2eyvWq12qLe39wJDiIgWjDHhxMRE1+DgYD2O43Hf99faq+KzWmtODvzNEMdx/gBAjJ7nXSWiZ7VaLVupVGwCs9aOBkHwPgXjpFta65MJqPW8YUTcbtIT2MDAQGZnZ+cRIi4lmdNVKaV2tda5TpU2Qbxc150RQjxlDVk3AFjXWo8l+/wURBwplUof0yApZQUAvuyBWrAx3/dfSinvIOJtIlozxowzJIqiU2EYbk1PT3cXCoXPAPACEWeIaNMYc34fKJ3Jdd27QohbHEsgiX6ZTKbXWntEa/0uuXMgKBG0HRJFUT4Mw9/tOh0IamlytlQqbSaVNBoNp1wu/+xk1n2gubm5Ah+UUsZCiHMMUUpxl9jBvFa11lNKqR+NRmMoDW2CpJQ3EfEeALwCgBFr7WQQBG8TCFeSy+W4AUvsXr6DiEpr7e9p5HneGSLiTP3pkovFYrZare7W6/W+lZWV762EfwHgljHmQfrpTbBSqq617m75Z48lpdyIomhheXm56Rul1DcA6EsbNW2L5qzxeDiOE/GF5CB7iYg2fN9/znH2T09PzzUhRNgOI6JhBn0AgBNCiP44jr+mhpIn2+H5a3PyMZ6tNtguzs7OOvl8PhfHcZWILhlj1pVSj4noijHmaKdWSykTmPA87zIR3W92zXXd00KI1wDQxf9EVDbG3OgESWKLi4tD1tptAPiktR79B8NAhnE/uZJMAAAAAElFTkSuQmCC"}}]);
