(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[92438],{84391:function(Pe,J,t){"use strict";t.d(J,{Z:function(){return F}});var w=t(28991),h=t(67294),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},L=N,Z=t(27029),G=function(X,B){return h.createElement(Z.Z,(0,w.Z)((0,w.Z)({},X),{},{ref:B,icon:L}))};G.displayName="UploadOutlined";var F=h.forwardRef(G)},63434:function(Pe,J,t){"use strict";var w=t(63185),h=t(9676),N=t(28991),L=t(81253),Z=t(85893),G=t(22270),F=t(67294),K=t(64893),X=t(47869),B=["options","fieldProps","proFieldProps","valueEnum"],H=F.forwardRef(function(O,re){var ue=O.options,q=O.fieldProps,De=O.proFieldProps,k=O.valueEnum,r=(0,L.Z)(O,B);return(0,Z.jsx)(X.Z,(0,N.Z)({ref:re,valueType:"checkbox",valueEnum:(0,G.h)(k,void 0),fieldProps:(0,N.Z)({options:ue},q),lightProps:(0,N.Z)({labelFormatter:function(){return(0,Z.jsx)(X.Z,(0,N.Z)({ref:re,valueType:"checkbox",mode:"read",valueEnum:(0,G.h)(k,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,N.Z)({options:ue},q),proFieldProps:De},r))}},r.lightProps),proFieldProps:De},r))}),se=F.forwardRef(function(O,re){var ue=O.fieldProps,q=O.children;return(0,Z.jsx)(h.Z,(0,N.Z)((0,N.Z)({ref:re},ue),{},{children:q}))}),l=(0,K.G)(se,{valuePropName:"checked"}),Q=l;Q.Group=H,J.Z=Q},52688:function(Pe,J,t){"use strict";var w=t(28991),h=t(81253),N=t(85893),L=t(67294),Z=t(47869),G=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],F=L.forwardRef(function(K,X){var B=K.fieldProps,H=K.unCheckedChildren,se=K.checkedChildren,l=K.proFieldProps,Q=(0,h.Z)(K,G);return(0,N.jsx)(Z.Z,(0,w.Z)({valueType:"switch",fieldProps:(0,w.Z)({unCheckedChildren:H,checkedChildren:se},B),ref:X,valuePropName:"checked",proFieldProps:l,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},Q))});J.Z=F},1742:function(Pe){Pe.exports={groupEditTable:"groupEditTable___2IHvl",dingEditBox:"dingEditBox___1ciam"}},50596:function(){},73651:function(Pe,J,t){"use strict";var w=t(20136),h=t(55241),N=t(67294),L=t(53390),Z=t(85893),G=F=>{var K=F.color,X=F.setColor;return(0,Z.jsx)(h.Z,{trigger:"click",placement:"right",content:(0,Z.jsx)(L.xS,{color:K,onChangeComplete:B=>{var H=B.hex;return X(H)}}),children:(0,Z.jsx)("i",{className:"colorIco",style:{background:K||"#fff"}})})};J.Z=G},96946:function(Pe,J,t){"use strict";var w=t(11849),h=t(39428),N=t(3182),L=t(57663),Z=t(71577),G=t(67294),F=t(30672),K=t(37476),X=t(71975),B=t(1977),H=t(85893),se=l=>{var Q=(0,F.YB)(),O=(0,G.useRef)(),re=(0,F.v9)(ke=>ke.common),ue=re.isMobile,q=l.modalType,De=l.width,k=l.title,r=l.formRef,m=r===void 0?O:r,Xe=l.trigger,be=l.triggerAuth,o=l.closable,U=l.submitBtnHide,ee=l.visible,ua=l.setVisible,me=l.afterClose,d=l.modalChildren,ie=l.finish,Oe=l.isLoading,_e=Oe===void 0?!1:Oe,Ze={width:ue&&q!="modal"?"100%":De||550,title:k,formRef:m,trigger:Xe||(0,H.jsx)(Z.Z,{type:"primary",icon:(0,H.jsx)(B.Z,{}),disabled:be!==void 0?!be:!1,children:Q.formatMessage({id:"common.add"})}),scrollToFirstError:!0,visible:ee,onVisibleChange:ua,children:d,submitter:{submitButtonProps:{loading:_e,style:{display:U?"none":"inline-block"}}},modalProps:{destroyOnClose:!0,closable:o,maskClosable:!1,afterClose:me},drawerProps:{destroyOnClose:!0,closable:o,maskClosable:!1,onClose:me,className:"selfDrawer",push:{distance:0}},onFinish:function(){var ke=(0,N.Z)((0,h.Z)().mark(function ga(A){return(0,h.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",ie(A));case 1:case"end":return x.stop()}},ga)}));function ma(ga){return ke.apply(this,arguments)}return ma}()};return q==="modal"?(0,H.jsx)(K.Y,(0,w.Z)({},Ze)):(0,H.jsx)(X.a,(0,w.Z)({},Ze))};J.Z=se},4483:function(Pe,J,t){"use strict";t.r(J),t.d(J,{default:function(){return wt}});var w=t(13062),h=t(71230),N=t(89032),L=t(15746),Z=t(22385),G=t(45777),F=t(63185),K=t(9676),X=t(17462),B=t(76772),H=t(43185),se=t(11324),l=t(57663),Q=t(71577),O=t(39428),re=t(3182),ue=t(49111),q=t(19650),De=t(34792),k=t(48086),r=t(2824),m=t(11849),Xe=t(7359),be=t(27279),o=t(67294),U=t(30672),ee=t(84391),ua=t(1870),me=t(5894),d=t(5966),ie=t(52688),Oe=t(86615),_e=t(64317),Ze=t(31199),ke=t(63434),ma=t(96486),ga=t(30381),A=t.n(ga),D=t(81316),x=t.n(D),g=t(91152),i=t.n(g),M=t(73651),p=t(34436),y=t(47673),c=t(4107),I=t(43358),P=t(34041),_=t(1977),de=t(952),ae=t(50727),oe=t(96946),We=t(42301),Fe=t(1742),Be=t.n(Fe),e=t(85893),ge=P.Z.Option,fe="userManage",ve="role",z="file",ce="setting",Me=n=>{var j=(0,U.YB)(),te=(0,U.I0)(),Te=(0,U.v9)(S=>(0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)({},S[fe]),S[ve]),S[z]),S[ce])),fa=n.sizeMax,qe=fa===void 0?2:fa,ea=n.roleID,pe=n.groupInfo,ze=pe===void 0?[]:pe,V=n.getGroupData,aa=n.isSyncDing,ta=n.dingInfo,ja=ta===void 0?[]:ta,na=n.getDingData,Ea=n.thirdName,va=n.cubeInfo,wa=va===void 0?[]:va,pa=n.getCubeData,sa=Te.fileSelect,Ve=Te.fileSelectDefault,Se=Te.roleSelect,ha=Te.roleSelectDefault,ia=Te.groupSelectList,xa=(0,o.useState)(ze||[]),je=(0,r.Z)(xa,2),Ye=je[0],oa=je[1],Ca=(0,o.useState)(wa||[]),Ee=(0,r.Z)(Ca,2),Na=Ee[0],La=Ee[1],ya=(0,o.useState)(ja||[]),we=(0,r.Z)(ya,2),la=we[0],ba=we[1],Ma=(0,o.useState)(!1),ra=(0,r.Z)(Ma,2),da=ra[0],he=ra[1],Ia=(0,o.useState)([]),ca=(0,r.Z)(Ia,2),Ie=ca[0],Pa=ca[1],Je=(0,o.useState)([]),W=(0,r.Z)(Je,2),Da=W[0],Oa=W[1],Ya=[{title:j.formatMessage({id:"admin.group.name"}),dataIndex:"name",readonly:!0},{title:j.formatMessage({id:"admin.group.parent"}),dataIndex:"parentName",readonly:!0},{title:j.formatMessage({id:"explorer.actionAuth"}),key:"authID",dataIndex:"authID",width:150,valueType:"select",fieldProps:()=>({allowClear:!1,showSearch:!0,options:sa,filterOption:(S,R)=>{var T;return((T=R==null?void 0:R.name)!==null&&T!==void 0?T:"").toLowerCase().includes(S.toLowerCase())}})},{title:j.formatMessage({id:"explorer.file.action"}),align:"center",width:100,valueType:"option",render:()=>null}],_a=ze||[],Aa=(0,o.useState)(()=>_a.map(S=>S.groupID)),Za=(0,r.Z)(Aa,2),ka=Za[0],Ra=Za[1],Wa=()=>{var S=Da?Da.map(R=>{var T,Ne=(T=Ye.find(Fa=>Fa.groupID===R.groupID))===null||T===void 0?void 0:T.authID;return(0,m.Z)((0,m.Z)({},(0,ma.omit)(R,"children")),{},{authID:Ne||Ve||void 0})}):[];oa(S),Ra(Ie),he(!1)};return(0,o.useEffect)(()=>{V&&V(Ye),na&&na(la)},[Ye,la]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ze.Z,{width:"xs",name:"sizeMax",label:j.formatMessage({id:"admin.member.spaceSize"}),initialValue:qe||2,addonAfter:(0,e.jsxs)("span",{className:"selfAddonAfter",children:["GB \xA0\xA0",j.formatMessage({id:"admin.member.spaceTips"})]})}),(0,e.jsx)(_e.Z,{width:"md",name:"roleID",label:j.formatMessage({id:"admin.setting.roleRight"}),allowClear:!1,initialValue:ea||ha,options:Se,rules:[{required:!0,message:j.formatMessage({id:"explorer.notNull"})}],fieldProps:{showSearch:!0,filterOption:(S,R)=>{var T;return((T=R==null?void 0:R.name)!==null&&T!==void 0?T:"").toLowerCase().includes(S.toLowerCase())}}}),(0,e.jsx)(de.ZP.Item,{label:j.formatMessage({id:"admin.member.group"}),name:"groupInfo",trigger:"onValuesChange",children:(0,e.jsx)(ae.Z,{rowKey:"groupID",className:Be().groupEditTable,toolBarRender:!1,columns:Ya,recordCreatorProps:!1,size:"small",scroll:{x:500},style:{maxWidth:600},value:Ye,onChange:oa,editable:{type:"multiple",editableKeys:ka,actionRender:(S,R,T)=>[T.delete],onValuesChange:(S,R)=>{oa(R)},onChange:Ra}})}),(0,e.jsx)(oe.Z,{trigger:(0,e.jsx)(Q.Z,{icon:(0,e.jsx)(_.Z,{}),children:j.formatMessage({id:"admin.member.groupAdd"})}),modalType:"drawer",width:300,title:j.formatMessage({id:"admin.member.groupAdd"}),closable:!0,visible:da,setVisible:he,finish:Wa,modalChildren:(0,e.jsx)(We.Z,{selectKeys:ka,select:(S,R)=>{Oa(R==null?void 0:R.selectedNodes),Pa(S)}})}),(0,e.jsxs)("div",{style:Ea=="dingding"?{display:""}:{display:"none"},children:[(0,e.jsx)(ie.Z,{className:"syncswicth",name:"isSyncDing",label:j.formatMessage({id:"setting.synchronousDing"}),initialValue:aa}),(0,e.jsx)("div",{className:"dingEditUl",children:la.map((S,R)=>(0,e.jsxs)("div",{className:Be().dingEditBox,children:[(0,e.jsx)("div",{className:"dingone",children:S.typeName=="myDoc"?j.formatMessage({id:"setting.mydocx"}):S.typeName=="teamDoc"?j.formatMessage({id:"setting.TeamFiles"}):j.formatMessage({id:"setting.Groupfiles"})}),(0,e.jsx)("div",{className:"dingtwo",children:S.parentId?(0,e.jsx)(P.Z,{value:S.parentId,onChange:T=>{var Ne=[...la];Ne[R]=(0,m.Z)((0,m.Z)({},Ne[R]),{},{parentId:T})},children:ia.map((T,Ne)=>(0,e.jsx)(ge,{value:T.groupID,children:T.name}))}):j.formatMessage({id:"explorer.toolbar.myDocument"})}),(0,e.jsx)("div",{className:"dingxie",children:" / "}),(0,e.jsx)("div",{className:"dingthree",children:(0,e.jsx)(c.Z,{value:S.path,onChange:T=>{}})})]}))})]})]})},Ae=Me,le=t(71975),Ue="userManage",$e="role",Sa="file",Ga=n=>{var j=(0,U.YB)(),te=(0,U.v9)(he=>(0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)({},he[Ue]),he[$e]),he[Sa]),he.common)),Te=te.isMobile,fa=n.title,qe=n.disabled,ea=n.current,pe=ea===void 0?{}:ea,ze=n.defaultGroup,V=ze===void 0?[]:ze,aa=n.getModalData,ta=n.defaultDing,ja=ta===void 0?[]:ta,na=n.defaultCube,Ea=na===void 0?[]:na,va=pe.sizeMax,wa=pe.roleID,pa=pe.groupInfo,sa=pe.dingInfo,Ve=pe.cubeInfo,Se=pe.isSyncDing,ha=pe.thirdName,ia=(0,o.useState)([]),xa=(0,r.Z)(ia,2),je=xa[0],Ye=xa[1],oa=(0,o.useState)([]),Ca=(0,r.Z)(oa,2),Ee=Ca[0],Na=Ca[1],La=(0,o.useState)([]),ya=(0,r.Z)(La,2),we=ya[0],la=ya[1],ba=(0,o.useState)(!1),Ma=(0,r.Z)(ba,2),ra=Ma[0],da=Ma[1];return(0,e.jsx)(le.a,{title:fa,width:Te?"100%":600,visible:ra,onVisibleChange:da,drawerProps:{maskClosable:!1,push:{distance:0},className:"selfDrawer"},trigger:(0,e.jsx)(Q.Z,{type:"link",size:"small",disabled:qe,style:{padding:0},children:j.formatMessage({id:"common.set"})}),onFinish:function(){var he=(0,re.Z)((0,O.Z)().mark(function Ia(ca){var Ie;return(0,O.Z)().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Ie=(0,m.Z)((0,m.Z)({},ca),{},{groupInfo:je?je==null?void 0:je.map(W=>({name:W.name,parentName:W.parentName,groupID:W.groupID,authID:W.authID})):[],dingInfo:Ee?Ee==null?void 0:Ee.map(W=>({typeName:W.typeName,parentId:W.parentId,sourceId:W.sourceId,path:W.path})):[],cubeInfo:we?we==null?void 0:we.map(W=>({typeName:W.typeName,parentId:W.parentId,sourceId:W.sourceId,path:W.path})):[]}),aa(Ie),Je.abrupt("return",!0);case 3:case"end":return Je.stop()}},Ia)}));return function(Ia){return he.apply(this,arguments)}}(),children:(0,e.jsx)(Ae,{sizeMax:va,roleID:wa,groupInfo:pa&&pa.length?pa:V,getGroupData:Ye,isSyncDing:Se,dingInfo:sa&&sa.length?sa:ja,getDingData:Na,cubeInfo:Ve&&Ve.length?Ve:Ea,getDingData:Na,thirdName:ha})})},za=Ga,Re="setting",jt="userManage",Va="role",qa="file",Ge=be.Z.Panel,Et=()=>{var n=(0,U.YB)(),j=(0,o.useRef)(),te=(0,U.I0)(),Te=(0,U.tT)("@@initialState"),fa=Te.refresh,qe=(0,U.v9)(a=>(0,m.Z)((0,m.Z)((0,m.Z)({},a[Re]),a[Va]),{},{loading:a.loading.effects["".concat(Re,"/setSetting")]})),ea=qe.loading,pe=ea===void 0?!1:ea,ze=qe.settingData,V=ze===void 0?{}:ze,aa=qe.roleSelectDefault,ta=V.wmTitle,ja=V.wmFont,na=V.wmSize,Ea=V.wmSubTitle,va=V.wmSubFont,wa=V.wmSubSize,pa=V.wmTransparency,sa=V.wmRotate,Ve=V.registerConfig,Se=Ve===void 0?{}:Ve,ha=V.thirdLoginConfig,ia=ha===void 0?[]:ha,xa=(0,o.useState)(!1),je=(0,r.Z)(xa,2),Ye=je[0],oa=je[1],Ca=(0,o.useState)(""),Ee=(0,r.Z)(Ca,2),Na=Ee[0],La=Ee[1],ya=(0,o.useState)(""),we=(0,r.Z)(ya,2),la=we[0],ba=we[1],Ma=(0,o.useState)("none"),ra=(0,r.Z)(Ma,2),da=ra[0],he=ra[1],Ia=(0,o.useState)(0),ca=(0,r.Z)(Ia,2),Ie=ca[0],Pa=ca[1],Je=(0,o.useState)(""),W=(0,r.Z)(Je,2),Da=W[0],Oa=W[1],Ya=(0,o.useState)(""),_a=(0,r.Z)(Ya,2),Aa=_a[0],Za=_a[1],ka=(0,o.useState)(""),Ra=(0,r.Z)(ka,2),Wa=Ra[0],S=Ra[1],R=(0,o.useState)(!1),T=(0,r.Z)(R,2),Ne=T[0],Fa=T[1],Nt=(0,o.useState)([]),et=(0,r.Z)(Nt,2),xe=et[0],at=et[1],Lt=(0,o.useState)([]),tt=(0,r.Z)(Lt,2),Ba=tt[0],nt=tt[1],Ot=(0,o.useState)([]),st=(0,r.Z)(Ot,2),Ua=st[0],At=st[1],Rt=(0,o.useState)([]),it=(0,r.Z)(Rt,2),He=it[0],ot=it[1],Tt=(0,o.useState)([]),lt=(0,r.Z)(Tt,2),Kt=lt[0],_t=lt[1],kt=(0,o.useState)([]),rt=(0,r.Z)(kt,2),Qe=rt[0],dt=rt[1],Wt=(0,o.useState)([]),ct=(0,r.Z)(Wt,2),Ft=ct[0],tn=ct[1],Bt=(0,o.useState)({}),ut=(0,r.Z)(Bt,2),Ut=ut[0],mt=ut[1],$t=(0,o.useState)({}),gt=(0,r.Z)($t,2),Gt=gt[0],ft=gt[1],zt=(0,o.useState)({}),vt=(0,r.Z)(zt,2),Vt=vt[0],pt=vt[1],Yt=(0,o.useState)(""),ht=(0,r.Z)(Yt,2),Jt=ht[0],xt=ht[1],Ht=(0,o.useState)(""),Ct=(0,r.Z)(Ht,2),Qt=Ct[0],yt=Ct[1],Xt=(0,o.useState)(""),bt=(0,r.Z)(Xt,2),Mt=bt[0],It=bt[1],qt=(0,o.useState)(!1),Pt=(0,r.Z)(qt,2),Dt=Pt[0],Zt=Pt[1],en=[{label:n.formatMessage({id:"explorer.toolbar.fav"}),value:"myFav"},{label:n.formatMessage({id:"explorer.toolbar.my"}),value:"my"},{label:n.formatMessage({id:"admin.menu.informationList"}),value:"information"},{label:n.formatMessage({id:"explorer.toolbar.recentDoc"}),value:"recentDoc"},{label:n.formatMessage({id:"explorer.toolbar.shareLink"}),value:"shareLink"},{label:n.formatMessage({id:"explorer.toolbar.tool"}),value:"toolbox"},{label:n.formatMessage({id:"common.fileType"}),value:"fileType"},{label:n.formatMessage({id:"common.tag"}),value:"fileTag"}],an=[{label:n.formatMessage({id:"app.settings.notification.dingding"}),value:"dingding"},{label:n.formatMessage({id:"app.settings.notification.wechat"}),value:"enWechat"},{label:n.formatMessage({id:"common.wechat"}),value:"wechat"},{label:n.formatMessage({id:"mack.xxx.cube"}),value:"cube"}],Ja={showUploadList:!1,disabled:!Ye,accept:".jpeg,.jpg,.png",beforeUpload:a=>{var f=a.type==="image/jpeg"||a.type==="image/jpg"||a.type==="image/png",s=a.size/1024/1024<1;return f||k.ZP.error("".concat(n.formatMessage({id:"admin.setting.onlyUpload"}),"JPG/PNG")),s||k.ZP.error("".concat(n.formatMessage({id:"admin.setting.noMore"}),"1MB")),f&&s}};return(0,o.useEffect)(()=>(te({type:"".concat(Re,"/getSetting"),callback:a=>{var f,s,C,u=(a==null?void 0:a.thirdLoginConfig)||[],v=(a==null?void 0:a.registerConfig)||{},b=a!=null&&a.dingConfig?JSON.parse(a==null?void 0:a.dingConfig):{},$=(a==null?void 0:a.networkConfig)||{},ne=(a==null?void 0:a.enWechatConfig)||{},Ce=a!=null&&a.emailConfig?JSON.parse(a==null?void 0:a.emailConfig):{},Le=a!=null&&a.cubeConfig?JSON.parse(a==null?void 0:a.cubeConfig):{},ye=u==null?void 0:u.find(Y=>Y.thirdName=="dingding"),Ha=u==null?void 0:u.find(Y=>Y.thirdName=="cube"),$a=u==null?void 0:u.find(Y=>Y.thirdName=="enWechat");j==null||(f=j.current)===null||f===void 0||f.setFieldsValue((0,m.Z)((0,m.Z)({},a),{},{seo:"",seoDesc:"",meta:"",defaultHome:(a==null?void 0:a.defaultHome)+""||"2",passwordErrorLock:parseInt(a==null?void 0:a.passwordErrorLock),needCheckCode:parseInt(a==null?void 0:a.needCheckCode),showFileLink:parseInt(a==null?void 0:a.showFileLink),showFileMd5:parseInt(a==null?void 0:a.showFileMd5),shareLinkAllowGuest:a!=null&&a.shareLinkAllowGuest?parseInt(a==null?void 0:a.shareLinkAllowGuest):!0,needUploadCheck:a!=null&&a.needUploadCheck?parseInt(a==null?void 0:a.needUploadCheck):!0,treeOpen:a==null||(s=a.treeOpen)===null||s===void 0?void 0:s.split(","),enableRegister:v==null?void 0:v.enableRegister,needReview:v==null?void 0:v.needReview,aesKey:b.aesKey||"",aesToken:b.aesToken||"",appKey:b.appKey||"",appSecret:b.appSecret||"",corpId:b.corpId||"",networkConfigstatus:!!($.status&&$.status==1),networkConfigintranet:$.intranet||"",networkConfigexternal:$.external||"",emailConfigserver:Ce.server||"",emailConfigport:Ce.port||"",emailConfigemail:Ce.mail||"",emailConfigencrypt:Ce.encrypt||"1",emailConfigpassword:Ce.password||"",enWechatConfigcorpId:ne.corpId||"",enWechatConfigagentId:ne.agentId||"",enWechatConfigsecret:ne.secret||"",enWechatConfigtoken:ne.token||"",enWechatConfigaesKey:ne.aesKey||"",cubeConfigaccessKey:Le.accessKey||"",cubeConfigsecretKey:Le.secretKey||"",cubeConfigcubeOrgId:Le.cubeOrgId||"",cubeConfigtoken:Le.token||"",cubeConfigaesKey:Le.aesKey||"",dingCorpId:Le.dingCorpId||""})),he(a==null?void 0:a.passwordRule),La(a==null?void 0:a.systemLogo),ba(a==null?void 0:a.browserLogo),oa(!0),Pa(parseInt(a==null?void 0:a.markType)),S(a==null?void 0:a.wmPicPath),Oa(a==null?void 0:a.wmColor),Za(a==null?void 0:a.wmSubColor),Fa(v==null?void 0:v.enableRegister),nt(v==null?void 0:v.groupInfo),ot(v==null?void 0:v.dingInfo),dt(v==null?void 0:v.cubeInfo),_t(ye!=null&&ye.dingInfo&&ye!==null&&ye!==void 0&&(C=ye.dingInfo)!==null&&C!==void 0&&C.length?ye==null?void 0:ye.dingInfo:[{typeName:"myDoc",parentId:0,sourceId:0,path:"\u6211\u7684\u9489\u76D8\u6587\u6863"},{typeName:"teamDoc",parentId:1,sourceId:0,path:"\u9489\u76D8\u6587\u4EF6/\u56E2\u961F\u6587\u4EF6"},{typeName:"groupFiles",parentId:1,sourceId:0,path:"\u9489\u76D8\u6587\u4EF6/\u7FA4\u6587\u4EF6"}]),at(u==null?void 0:u.map(Y=>Y.thirdName)),mt(u==null?void 0:u.find(Y=>Y.thirdName=="dingding")),ft(u==null?void 0:u.find(Y=>Y.thirdName=="enWechat")),pt(u==null?void 0:u.find(Y=>Y.thirdName=="cube")),xt(a==null?void 0:a.systemLogoShowPath),yt(a==null?void 0:a.browserLogoShowPath),It(a==null?void 0:a.wmPicPathShowPath),Zt(a!=null&&a.shareLinkAllow?!!parseInt(a==null?void 0:a.shareLinkAllow):!0)}}),()=>{te({type:"".concat(Re,"/clear")})}),[]),(0,o.useEffect)(()=>{te({type:"".concat(qa,"/getFileList"),callback:a=>{var f,s,C,u=a==null||(f=a.filter(b=>b.enable))===null||f===void 0?void 0:f.map(b=>{var $=p.O9.findIndex(Ce=>Ce===b.label),ne=$==-1?0:$;return{label:(0,e.jsxs)(q.Z,{size:8,align:"center",children:[(0,e.jsx)("i",{className:"roleIcon block",style:{background:b.label,border:"1px solid ".concat(p.ZY[ne])}}),b.roleName]}),name:b.roleName,value:b.roleID}}),v=u==null||(s=u.find(b=>b.name==="\u9884\u89C8\u8005"))===null||s===void 0?void 0:s.value;v=v||((C=u[0])===null||C===void 0?void 0:C.value),te({type:"".concat(qa,"/update"),payload:{fileSelect:u,fileSelectDefault:v}}),te({type:"".concat(jt,"/getGroupSelectList"),callback:b=>{var $=b.find(ne=>ne.name==="\u4F01\u4E1A\u4E91\u76D8");$&&At([{name:$.name,parentName:$.parentName,groupID:$.groupID,authID:v||void 0}])}})}}),te({type:"".concat(Va,"/getRoleList"),callback:a=>{var f,s,C,u=a==null||(f=a.filter(b=>b.enable))===null||f===void 0?void 0:f.map(b=>{var $=p.O9.findIndex(Ce=>Ce===b.label),ne=$==-1?0:$;return{label:(0,e.jsxs)(q.Z,{size:8,align:"center",children:[(0,e.jsx)("i",{className:"roleIcon block",style:{background:b.label,border:"1px solid ".concat(p.ZY[ne])}}),b.roleName]}),name:b.roleName,value:b.roleID}}),v=(s=u.find(b=>b.name==="\u666E\u901A\u7528\u6237"))===null||s===void 0?void 0:s.value;v=v||((C=u[0])===null||C===void 0?void 0:C.value),te({type:"".concat(Va,"/update"),payload:{roleSelect:u,roleSelectDefault:v}})}})},[]),(0,e.jsx)("div",{className:"layoutBox",children:(0,e.jsx)("div",{className:"basicBox",children:(0,e.jsx)(me.A,{formKey:"basic",formRef:j,autoFocusFirstInput:!0,submitter:{submitButtonProps:{loading:pe,style:{marginLeft:-8}},resetButtonProps:{style:{display:"none"}}},initialValues:{wmTitle:ta||"FilesBox",wmFont:ja,wmSize:na,wmSubTitle:Ea,wmSubFont:va,wmSubSize:wa,wmTransparency:pa,wmRotate:sa},onFinish:function(){var a=(0,re.Z)((0,O.Z)().mark(function f(s){var C,u,v,b,$,ne,Ce,Le,ye,Ha,$a,Y,Qa,Xa,St;return(0,O.Z)().wrap(function(Ta){for(;;)switch(Ta.prev=Ta.next){case 0:if(!(Ie==2&&!Wa)){Ta.next=2;break}return Ta.abrupt("return",k.ZP.warning(n.formatMessage({id:"admin.setting.pleaseUploadPic"})));case 2:b=s.enableRegister,$=b===void 0?!1:b,ne=s.needReview,Ce=ne===void 0?!1:ne,Le=s.sizeMax,ye=Le===void 0?0:Le,Ha=s.roleID,$a=s.isSyncDing,Y=$a===void 0?0:$a,Qa=[],Xa={},$&&(Xa={enableRegister:$,needReview:Ce,sizeMax:ye,roleID:Ha,groupInfo:Ba?Ba==null?void 0:Ba.map(E=>({name:E.name,parentName:E.parentName,groupID:E.groupID,authID:E.authID})):[],isSyncDing:Y?1:0,dingInfo:He?He==null?void 0:He.map(E=>({typeName:E.typeName,parentId:E.parentId,sourceId:E.sourceId,path:E.path})):[],cubeInfo:Qe?Qe==null?void 0:Qe.map(E=>({typeName:E.typeName,parentId:E.parentId,sourceId:E.sourceId,path:E.path})):[]}),Qa=xe==null?void 0:xe.map(E=>{var Ka=E=="dingding"?Ut||{}:E=="enWechat"?Gt||{}:E=="cube"?Vt||{}:{};return(E=="dingding"||E=="enWechat"||E=="cube")&&!Object.keys(Ka).length&&(Ka={sizeMax:2,roleID:aa,groupInfo:Ua},E=="dingding"&&(Ka={sizeMax:2,roleID:aa,groupInfo:Ua,isSyncDing:Y?1:0,dingInfo:He?He==null?void 0:He.map(Ke=>({typeName:Ke.typeName,parentId:Ke.parentId,sourceId:Ke.sourceId,path:Ke.path})):[]}),E=="cube"&&(Ka={sizeMax:2,roleID:aa,groupInfo:Ua,isSyncDing:Y?1:0,dingInfo:Qe?Qe==null?void 0:Qe.map(Ke=>({typeName:Ke.typeName,parentId:Ke.parentId,sourceId:Ke.sourceId,path:Ke.path})):[]})),(0,m.Z)({thirdName:E},Ka)}),St=(0,m.Z)((0,m.Z)({},(0,ma.omit)(s,"enableRegister","needReview","sizeMax","roleID","networkConfigexternal","networkConfigintranet","networkConfigstatus","emailConfigserver","emailConfigport","emailConfigemail","emailConfigencrypt","emailConfigpassword","enWechatConfigcorpId","enWechatConfigagentId","enWechatConfigsecret","enWechatConfigtoken","enWechatConfigaesKey","cubeConfigaccessKey","cubeConfigsecretKey","cubeConfigcubeOrgId","cubeConfigtoken","cubeConfigaesKey","dingCorpId")),{},{needMark:0,passwordErrorLock:s.passwordErrorLock?1:0,needCheckCode:s.needCheckCode?1:0,showFileLink:s.showFileLink?1:0,showFileMd5:s.showFileMd5?1:0,shareLinkAllow:s.shareLinkAllow?1:0,shareLinkAllowGuest:s.shareLinkAllowGuest?1:0,needUploadCheck:s.needUploadCheck?1:0,treeOpen:(C=s.treeOpen)===null||C===void 0?void 0:C.join(","),seo:s.seo||V.seo,seoDesc:s.seoDesc||V.seoDesc,meta:s.meta||V.meta,systemLogo:Na,browserLogo:la,markType:Ie,wmTitle:(u=s.wmTitle)===null||u===void 0?void 0:u.trim().replaceAll("\\n","").replaceAll("<br/>","").replaceAll("<br />",""),wmSubTitle:(v=s.wmSubTitle)===null||v===void 0?void 0:v.trim(),wmPicPath:Wa,wmColor:Da,wmSubColor:Aa,registerConfig:JSON.stringify(Xa),thirdLoginConfig:JSON.stringify(Qa),dingConfig:JSON.stringify({aesKey:s.aesKey,aesToken:s.aesToken,appKey:s.appKey,appSecret:s.appSecret,corpId:s.corpId}),networkConfig:JSON.stringify({external:s.networkConfigexternal||"",intranet:s.networkConfigintranet||"",status:s.networkConfigstatus?1:0}),emailConfig:JSON.stringify({server:s.emailConfigserver||"",port:s.emailConfigport||"",email:s.emailConfigemail||"",encrypt:s.emailConfigencrypt,password:s.emailConfigpassword||""}),enWechatConfig:JSON.stringify({corpId:s.enWechatConfigcorpId||"",agentId:s.enWechatConfigagentId||"",secret:s.enWechatConfigsecret||"",token:s.enWechatConfigtoken||"",aesKey:s.enWechatConfigaesKey||""}),cubeConfig:JSON.stringify({accessKey:s.cubeConfigaccessKey||"",secretKey:s.cubeConfigsecretKey||"",cubeOrgId:s.cubeConfigcubeOrgId||"",token:s.cubeConfigtoken||"",aesKey:s.cubeConfigaesKey||"",dingCorpId:s.dingCorpId||""})}),te({type:"".concat(Re,"/setSetting"),payload:St,callback:()=>{k.ZP.success(n.formatMessage({id:"explorer.saveSuccess"})),fa()}});case 9:case"end":return Ta.stop()}},f)}));return function(f){return a.apply(this,arguments)}}(),children:(0,e.jsxs)(be.Z,{ghost:!0,className:"basicCollapse",expandIconPosition:"end",defaultActiveKey:["basic"],children:[(0,e.jsxs)(Ge,{forceRender:!0,header:(0,e.jsx)("h4",{className:"selfTitle",children:n.formatMessage({id:"pages.searchTable.updateForm.basicConfig"})}),children:[(0,e.jsx)(se.Z,(0,m.Z)((0,m.Z)({},Ja),{},{customRequest:a=>{var f=new FormData;f.append("file",a.file),f.append("busType","image"),te({type:"".concat(Re,"/upload"),payload:f,callback:s=>{var C=s.data,u=C.path,v=C.previewPath;La(u),xt(v),k.ZP.success(n.formatMessage({id:"explorer.upload.success",defaultMessage:"\u4E0A\u4F20\u6210\u529F"}))}})},children:(0,e.jsxs)("div",{className:"uploader",children:[(0,e.jsx)("div",{className:"upload",children:(0,e.jsx)("img",{height:"100%",src:Jt||x(),alt:"logo"})}),(0,e.jsx)(Q.Z,{size:"small",icon:(0,e.jsx)(ee.Z,{}),children:n.formatMessage({id:"admin.setting.uploadSystemLogo"})}),(0,e.jsx)("span",{className:"sellfDesc",children:n.formatMessage({id:"admin.setting.systemLogoSize"})})]})})),(0,e.jsx)(d.Z,{width:"md",name:"systemName",label:n.formatMessage({id:"admin.setting.systemName"}),fieldProps:{maxLength:30}}),(0,e.jsx)(d.Z,{width:"md",name:"systemDesc",label:n.formatMessage({id:"admin.setting.systemDesc"}),fieldProps:{maxLength:30}}),(0,e.jsx)(se.Z,(0,m.Z)((0,m.Z)({},Ja),{},{customRequest:a=>{var f=new FormData;f.append("file",a.file),f.append("busType","image"),te({type:"".concat(Re,"/upload"),payload:f,callback:s=>{var C=s.data,u=C.path,v=C.previewPath;ba(u),yt(v),k.ZP.success(n.formatMessage({id:"explorer.upload.success",defaultMessage:"\u4E0A\u4F20\u6210\u529F"}))}})},children:(0,e.jsxs)("div",{className:"uploader",children:[(0,e.jsx)("div",{className:"upload",children:(0,e.jsx)("img",{height:"100%",src:Qt||i()})}),(0,e.jsx)(Q.Z,{size:"small",icon:(0,e.jsx)(ee.Z,{}),children:n.formatMessage({id:"admin.setting.uploadBrowserLogo"})}),(0,e.jsx)("span",{className:"sellfDesc",children:n.formatMessage({id:"admin.setting.browserLogoSize"})})]})})),(0,e.jsx)(d.Z,{width:"md",name:"globalIcp",label:n.formatMessage({id:"admin.setting.icp"}),fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"seo",label:n.formatMessage({id:"admin.setting.seo"}),fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"seoDesc",label:n.formatMessage({id:"admin.setting.seoDesc"}),fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"meta",label:n.formatMessage({id:"admin.setting.meta"}),fieldProps:{maxLength:200}})]},"basic"),(0,e.jsxs)(Ge,{forceRender:!0,header:(0,e.jsx)("h4",{className:"selfTitle",children:n.formatMessage({id:"mack.xxx.netset"})}),children:[(0,e.jsx)(ie.Z,{name:"networkConfigstatus",label:n.formatMessage({id:"mack.xxx.netSwitch"})}),(0,e.jsx)(d.Z,{width:"md",name:"networkConfigintranet",label:n.formatMessage({id:"mack.xxx.intranet"}),fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"networkConfigexternal",label:n.formatMessage({id:"mack.xxx.outernet"}),fieldProps:{maxLength:200}})]},"internet"),(0,e.jsxs)(Ge,{forceRender:!0,header:(0,e.jsx)("h4",{className:"selfTitle",children:n.formatMessage({id:"admin.setting.email"})}),children:[(0,e.jsx)("input",{type:"password",style:{opacity:0,position:"absolute",width:0,height:0}}),(0,e.jsx)(d.Z,{width:"md",name:"emailConfigserver",label:n.formatMessage({id:"admin.setting.emailHost"}),fieldProps:{maxLength:200},addonAfter:(0,e.jsx)("span",{className:"selfAddonAfter",children:n.formatMessage({id:"admin.setting.emailHostDesc"})})}),(0,e.jsx)("input",{type:"password",style:{opacity:0,position:"absolute",width:0,height:0}}),(0,e.jsx)(d.Z,{width:"md",name:"emailConfigport",label:n.formatMessage({id:"admin.install.dbPort"}),fieldProps:{maxLength:200},addonAfter:(0,e.jsx)("span",{className:"selfAddonAfter",children:n.formatMessage({id:"admin.setting.emailHostDescport"})})}),(0,e.jsx)("input",{type:"password",style:{opacity:0,position:"absolute",width:0,height:0}}),(0,e.jsx)(d.Z,{width:"md",name:"emailConfigemail",label:n.formatMessage({id:"admin.setting.emailSend"}),fieldProps:{maxLength:200},addonAfter:(0,e.jsx)("span",{className:"selfAddonAfter",children:n.formatMessage({id:"admin.setting.emailSendDesc"})})}),(0,e.jsx)(Oe.Z.Group,{radioType:"button",name:"emailConfigencrypt",label:n.formatMessage({id:"admin.setting.secureType"}),options:[{label:n.formatMessage({id:"mack.dse.none"}),value:"1"},{label:"SSL",value:"2"},{label:"TLS",value:"3"}]}),(0,e.jsx)("input",{type:"password",style:{opacity:0,position:"absolute",width:0,height:0}}),(0,e.jsx)(d.Z.Password,{width:"md",name:"emailConfigpassword",label:n.formatMessage({id:"admin.setting.emailPwd"}),fieldProps:{maxLength:200},addonAfter:(0,e.jsxs)("span",{className:"selfAddonAfter",children:[(0,e.jsx)("a",{style:{marginRight:12},onClick:()=>{var a,f,s=(a=j.current)===null||a===void 0||(f=a.getFieldsFormatValue)===null||f===void 0?void 0:f.call(a);te({type:"".concat(Re,"/filecheckSend"),payload:{emailConfig:JSON.stringify({server:s.emailConfigserver||"",port:s.emailConfigport||"",email:s.emailConfigemail||"",encrypt:s.emailConfigencrypt,password:s.emailConfigpassword||""})},callback:C=>{C.success?k.ZP.success(n.formatMessage({id:C.code})):k.ZP.error(n.formatMessage({id:C.code}))}})},children:n.formatMessage({id:"admin.setting.emailSendTest"})}),n.formatMessage({id:"admin.setting.ensureEmailOk"})]})})]},"email"),(0,e.jsxs)(Ge,{forceRender:!0,header:(0,e.jsx)("h4",{className:"selfTitle",children:n.formatMessage({id:"admin.setting.safe"})}),children:[(0,e.jsx)(ie.Z,{name:"passwordErrorLock",label:n.formatMessage({id:"admin.setting.passwordErrorLockLabel"})}),(0,e.jsx)(ie.Z,{name:"needCheckCode",label:n.formatMessage({id:"admin.setting.needCheckCode"})}),(0,e.jsx)(Oe.Z.Group,{name:"passwordRule",label:n.formatMessage({id:"admin.setting.passwordRule"}),radioType:"button",options:[{label:n.formatMessage({id:"admin.setting.passwordRuleNone"}),value:"none"},{label:n.formatMessage({id:"admin.setting.passwordRuleStrong"}),value:"strong"},{label:n.formatMessage({id:"admin.setting.passwordRuleStrongMore"}),value:"strongMore"}],fieldProps:{value:da,onChange:a=>{var f=a.target.value;return he(f)}}}),da==="strong"&&(0,e.jsx)(B.Z,{className:"alert",message:n.formatMessage({id:"admin.setting.passwordRuleStrongDesc"}),type:"warning"}),da==="strongMore"&&(0,e.jsx)(B.Z,{className:"alert",message:n.formatMessage({id:"admin.setting.passwordRuleStrongMoreDesc"}),type:"warning"}),(0,e.jsxs)(K.Z.Group,{value:xe,onChange:a=>{at(a)},children:[(0,e.jsx)("p",{style:{marginBottom:5},children:n.formatMessage({id:"admin.setting.thirdLogin"})}),an.map((a,f)=>{var s=Ne&&(a.value=="dingding"||a.value=="enWechat"||a.value=="cube");return(0,e.jsxs)(q.Z,{size:0,align:"baseline",className:"thirdOptions",children:[(0,e.jsx)("span",{onClick:()=>{s&&k.ZP.warning(n.formatMessage({id:"admin.setting.registInfo"}))},children:(0,e.jsx)(K.Z,{disabled:s,value:a.value,children:a.label})}),(a.value=="dingding"||a.value=="enWechat"||a.value=="cube")&&(0,e.jsx)(za,{title:"".concat(a.label).concat(n.formatMessage({id:"admin.setting.userSet"})),disabled:xe.indexOf(a.value)===-1,current:(0,m.Z)((0,m.Z)({},(ia==null?void 0:ia.find(C=>C.thirdName==a.value))||{}),{},{thirdName:a.value}),defaultGroup:Ua,defaultDing:Kt,defaultCube:Ft,getModalData:C=>{a.value=="dingding"?mt(C):a.value=="enWechat"?ft(C):pt(C)}})]},f)})]}),(0,e.jsxs)("div",{style:{display:xe.indexOf("dingding")!==-1?"":"none"},children:[(0,e.jsx)("div",{children:n.formatMessage({id:"mack.xxx.dingdingset"})}),(0,e.jsx)(d.Z,{width:"md",name:"appKey",label:"appKey",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"appSecret",label:"appSecret",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"corpId",label:"corpId",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"aesKey",label:"aesKey",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"aesToken",label:"aesToken",fieldProps:{maxLength:200}})]}),(0,e.jsxs)("div",{style:{display:xe.indexOf("enWechat")!==-1?"":"none"},children:[(0,e.jsx)("div",{children:n.formatMessage({id:"mack.xxx.weChatset"})}),(0,e.jsx)(d.Z,{width:"md",name:"enWechatConfigcorpId",label:"corpId",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"enWechatConfigagentId",label:"agentId",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"enWechatConfigsecret",label:"secret",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"enWechatConfigtoken",label:"token",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"enWechatConfigaesKey",label:"aesKey",fieldProps:{maxLength:200}})]}),(0,e.jsxs)("div",{style:{display:xe.indexOf("cube")!==-1?"":"none"},children:[(0,e.jsx)("div",{children:n.formatMessage({id:"mack.xxx.cubeset"})}),(0,e.jsx)(d.Z,{width:"md",name:"cubeConfigaccessKey",label:"accessKey",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"cubeConfigsecretKey",label:"secretKey",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"cubeConfigcubeOrgId",label:"cubeOrgId",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"cubeConfigtoken",label:"token",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"cubeConfigaesKey",label:"aesKey",fieldProps:{maxLength:200}}),(0,e.jsx)(d.Z,{width:"md",name:"dingCorpId",label:n.formatMessage({id:"mack.xxx.dingdingid"}),fieldProps:{maxLength:200}})]})]},"safe"),(0,e.jsxs)(Ge,{forceRender:!0,header:(0,e.jsx)("h4",{className:"selfTitle",children:n.formatMessage({id:"admin.index.userLogin"})}),children:[(0,e.jsx)(Oe.Z.Group,{name:"defaultHome",label:n.formatMessage({id:"admin.setting.firstIn",defaultMessage:"\u767B\u5F55\u540E\u9ED8\u8BA4\u8FDB\u5165"}),options:[{label:n.formatMessage({id:"explorer.toolbar.desktop",defaultMessage:"\u684C\u9762"}),value:"1"},{label:n.formatMessage({id:"admin.fileManage",defaultMessage:"\u6587\u4EF6\u7BA1\u7406"}),value:"2"}]}),(0,e.jsx)("div",{onClick:()=>{(xe.indexOf("dingding")!==-1||xe.indexOf("enWechat")!==-1)&&k.ZP.warning(n.formatMessage({id:"admin.setting.registInfo"}))},children:(0,e.jsx)(ie.Z,{name:"enableRegister",label:n.formatMessage({id:"admin.setting.registOpen"}),addonAfter:(0,e.jsx)("span",{className:"selfAddonAfter",children:n.formatMessage({id:"admin.setting.registOpenDesc"})}),disabled:xe.indexOf("dingding")!==-1||xe.indexOf("enWechat")!==-1,fieldProps:{checked:Ne,onChange:Fa}})}),Ne&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ie.Z,{name:"needReview",label:n.formatMessage({id:"admin.setting.registCheck"}),addonAfter:(0,e.jsx)("span",{className:"selfAddonAfter",children:n.formatMessage({id:"admin.setting.registCheckDesc"})})}),(0,e.jsx)(Ae,{sizeMax:Se.sizeMax,roleID:Se.roleID,groupInfo:Se.groupInfo,getGroupData:nt,isSyncDing:Se.isSyncDing,dingInfo:Se.dingInfo,getDingData:ot,cubeInfo:Se.cubeInfo,getCubeData:dt})]})]},"regist"),(0,e.jsxs)(Ge,{forceRender:!0,header:(0,e.jsx)("h4",{className:"selfTitle",children:n.formatMessage({id:"admin.setting.accessAuthority"})}),children:[(0,e.jsx)(ie.Z,{name:"showFileMd5",label:n.formatMessage({id:"admin.setting.showFileMd5Desc"})}),(0,e.jsx)(ie.Z,{name:"shareLinkAllow",label:n.formatMessage({id:"admin.setting.shareLinkAllow"}),fieldProps:{checked:Dt,onChange:Zt}}),Dt&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ie.Z,{name:"shareLinkAllowGuest",label:n.formatMessage({id:"admin.setting.nonRegistered",defaultMessage:"\u5916\u94FE\u975E\u6CE8\u518C\u7528\u6237\u8BBF\u95EE"}),addonAfter:(0,e.jsx)("span",{className:"selfAddonAfter",children:n.formatMessage({id:"admin.setting.shareLinkAllowGuestDesc",defaultMessage:"\u5173\u95ED\u540E,\u8BBF\u95EE\u5916\u94FE\u65F6\u5FC5\u987B\u767B\u5F55;\u5DF2\u5206\u4EAB\u7684\u5185\u5BB9\u4E0D\u53D7\u5F71\u54CD"})})})})]},"access"),(0,e.jsxs)(Ge,{forceRender:!0,header:(0,e.jsx)("h4",{className:"selfTitle",children:n.formatMessage({id:"admin.setting.documentWatermark"})}),children:[(0,e.jsx)(ie.Z,{label:n.formatMessage({id:"admin.setting.watermarkSet"}),fieldProps:{checked:!!Ie,onChange:a=>Pa(a?1:0)}}),Ie?(0,e.jsxs)("div",{className:"fileMark",children:[(0,e.jsx)(_e.Z,{name:"markType",allowClear:!1,width:150,options:[{label:n.formatMessage({id:"admin.setting.textMark"}),value:1},{label:n.formatMessage({id:"admin.setting.picMark"}),value:2}],fieldProps:{value:Ie,onChange:a=>Pa(a)}}),Ie===1?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(h.Z,{gutter:[10,10],children:[(0,e.jsx)(L.Z,{xs:24,sm:12,xl:6,children:(0,e.jsx)(d.Z,{width:150,name:"wmTitle",label:n.formatMessage({id:"admin.setting.mainTitle"}),addonAfter:(0,e.jsx)(G.Z,{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{children:"{userLoginTime}: \u7528\u6237\u767B\u5F55\u65F6\u95F4"}),(0,e.jsx)("br",{}),(0,e.jsx)("span",{children:"{userName}: \u7528\u6237\u8D26\u53F7"}),(0,e.jsx)("br",{}),(0,e.jsx)("span",{children:"{userNickName}: \u7528\u6237\u6635\u79F0"}),(0,e.jsx)("br",{}),(0,e.jsx)("span",{children:"{timeDay}: \u4ECA\u5929 ".concat(A()(new Date).format("YYYY-MM-DD"))}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),(0,e.jsx)("span",{children:"\u6362\u884C: \\n\u6216html\u7684<br/>"}),(0,e.jsx)("br",{})]}),children:(0,e.jsx)(ua.Z,{style:{color:"#aaa"}})}),rules:[{whitespace:!0,required:!0,message:n.formatMessage({id:"admin.plugin.notNull"})}]})}),(0,e.jsx)(L.Z,{xs:24,sm:12,xl:6,children:(0,e.jsx)(_e.Z,{width:150,name:"wmFont",label:n.formatMessage({id:"explorer.editor.fontFamily"}),rules:[{required:!0,message:n.formatMessage({id:"admin.plugin.notNull"})}],options:p.I8,allowClear:!1,fieldProps:{optionItemRender(a){return(0,e.jsx)("span",{style:{fontFamily:a.value},children:a.label})}}})}),(0,e.jsx)(L.Z,{xs:24,sm:12,xl:6,children:(0,e.jsx)(d.Z,{width:150,name:"wmColor",label:n.formatMessage({id:"admin.setting.wmColor"}),rules:[{whitespace:!0,required:!0,message:n.formatMessage({id:"admin.plugin.notNull"})}],fieldProps:{allowClear:!1,suffix:(0,e.jsx)(M.Z,{color:Da,setColor:Oa}),value:Da,onChange:a=>Oa(a.target.value)}})}),(0,e.jsx)(L.Z,{xs:24,sm:12,xl:6,children:(0,e.jsx)(Ze.Z,{width:"xs",name:"wmSize",min:8,max:100,label:n.formatMessage({id:"explorer.file.size"}),rules:[{required:!0,message:n.formatMessage({id:"admin.plugin.notNull"})}],addonAfter:"px"})})]}),(0,e.jsxs)(h.Z,{gutter:[10,10],children:[(0,e.jsx)(L.Z,{xs:24,sm:12,xl:6,children:(0,e.jsx)(d.Z,{width:150,name:"wmSubTitle",label:n.formatMessage({id:"admin.setting.subTitle"}),addonAfter:(0,e.jsx)(G.Z,{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{children:"{userLoginTime}: \u7528\u6237\u767B\u5F55\u65F6\u95F4"}),(0,e.jsx)("br",{}),(0,e.jsx)("span",{children:"{userName}: \u7528\u6237\u8D26\u53F7"}),(0,e.jsx)("br",{}),(0,e.jsx)("span",{children:"{userNickName}: \u7528\u6237\u6635\u79F0"}),(0,e.jsx)("br",{}),(0,e.jsx)("span",{children:"{timeDay}: \u4ECA\u5929 ".concat(A()(new Date).format("YYYY-MM-DD"))}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),(0,e.jsx)("span",{children:"\u6362\u884C: \\n\u6216html\u7684<br/>"}),(0,e.jsx)("br",{})]}),children:(0,e.jsx)(ua.Z,{style:{color:"#aaa"}})}),fieldProps:{onMouseOver:a=>a.target.title=a.target.value}})}),(0,e.jsx)(L.Z,{xs:24,sm:12,xl:6,children:(0,e.jsx)(_e.Z,{width:150,name:"wmSubFont",label:n.formatMessage({id:"explorer.editor.fontFamily"}),options:p.I8,allowClear:!1,fieldProps:{allowClear:!0,optionItemRender(a){return(0,e.jsx)("span",{style:{fontFamily:a.value},children:a.label})}}})}),(0,e.jsx)(L.Z,{xs:24,sm:12,xl:6,children:(0,e.jsx)(d.Z,{width:150,name:"wmSubColor",label:n.formatMessage({id:"admin.setting.wmColor"}),fieldProps:{allowClear:!1,suffix:(0,e.jsx)(M.Z,{color:Aa,setColor:Za}),value:Aa,onChange:a=>Za(a.target.value)}})}),(0,e.jsx)(L.Z,{xs:24,sm:12,xl:6,children:(0,e.jsx)(Ze.Z,{width:"xs",name:"wmSubSize",min:6,max:50,label:n.formatMessage({id:"explorer.file.size"}),addonAfter:"px"})})]})]}):(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(se.Z,(0,m.Z)((0,m.Z)({},Ja),{},{customRequest:a=>{var f=new FormData;f.append("file",a.file),f.append("busType","image"),te({type:"".concat(Re,"/upload"),payload:f,callback:s=>{var C=s.data,u=C.path,v=C.previewPath;S(u),It(v),k.ZP.success(n.formatMessage({id:"explorer.upload.success",defaultMessage:"\u4E0A\u4F20\u6210\u529F"}))}})},children:(0,e.jsxs)("div",{className:"uploader",style:{margin:"3px 0 10px"},children:[Mt&&(0,e.jsx)("div",{className:"upload wmPicPath",children:(0,e.jsx)("img",{height:100,src:Mt,alt:"wmPicPath"})}),(0,e.jsx)(Q.Z,{size:"small",icon:(0,e.jsx)(ee.Z,{}),children:n.formatMessage({id:"admin.setting.uploadPicMark"})}),(0,e.jsxs)("span",{className:"sellfDesc",children:[n.formatMessage({id:"admin.setting.picMarkSize"}),"300*100"]})]})}))}),(0,e.jsx)(h.Z,{children:(0,e.jsx)(Ze.Z,{width:"xs",name:"wmTransparency",label:n.formatMessage({id:"admin.setting.transparency"}),rules:[{required:!0,message:n.formatMessage({id:"admin.plugin.notNull"})}]})}),(0,e.jsx)(h.Z,{children:(0,e.jsx)(Ze.Z,{width:"xs",name:"wmRotate",label:n.formatMessage({id:"admin.setting.rotate"}),min:Number.NEGATIVE_INFINITY,rules:[{required:!0,message:n.formatMessage({id:"admin.plugin.notNull"})}]})})]}):(0,e.jsx)(e.Fragment,{})]},"mark"),(0,e.jsx)(Ge,{forceRender:!0,header:(0,e.jsx)("h4",{className:"selfTitle",children:n.formatMessage({id:"admin.setting.enableFunction"})}),children:(0,e.jsx)(ke.Z.Group,{name:"treeOpen",label:n.formatMessage({id:"admin.setting.treeOpen"}),layout:"vertical",options:en})},"tree")]})})})})},wt=Et},42301:function(Pe,J,t){"use strict";var w=t(32157),h=t(82363),N=t(39428),L=t(3182),Z=t(11849),G=t(67294),F=t(30672),K=t(92833),X=t.n(K),B=t(85893),H="userManage",se=l=>{var Q=(0,F.I0)(),O=(0,F.v9)(m=>(0,Z.Z)({},m[H])),re=O.groupSelectList,ue=O.isOperateGroup,q=l.selectKeys,De=l.select,k={key:"groupID",icon:(0,B.jsx)("img",{src:X()}),showIcon:!0,blockNode:!0,multiple:!0,fieldNames:{title:"name"},treeData:re,onSelect:De,defaultSelectedKeys:q,defaultExpandedKeys:q},r=function(){var m=(0,L.Z)((0,N.Z)().mark(function Xe(){var be,o,U,ee=arguments;return(0,N.Z)().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return be=ee.length>0&&ee[0]!==void 0?ee[0]:void 0,o=ee.length>1&&ee[1]!==void 0?ee[1]:void 0,me.next=4,Q({type:"".concat(H,"/getGroupSelectList"),payload:{parentID:be,parentName:o}});case 4:U=me.sent,U==null||U.map(d=>{d.hasChildren&&r(d.id,d.name)});case 6:case"end":return me.stop()}},Xe)}));return function(){return m.apply(this,arguments)}}();return(0,G.useEffect)(()=>{ue&&(r(),Q({type:"".concat(H,"/update"),payload:{isOperateGroup:!1}}))},[ue]),(0,B.jsx)("div",{className:"groupCheckTree",children:(0,B.jsx)(h.Z,(0,Z.Z)({},k))})};J.Z=se},27279:function(Pe,J,t){"use strict";t.d(J,{Z:function(){return ga}});var w=t(22122),h=t(96156),N=t(8812),L=t(94184),Z=t.n(L),G=t(85061),F=t(6610),K=t(5991),X=t(10379),B=t(54070),H=t(90484),se=t(50344),l=t(67294),Q=t(96774),O=t.n(Q),re=t(81253),ue=t(63441),q=t(28481),De=l.forwardRef(function(A,D){var x,g=A.prefixCls,i=A.forceRender,M=A.className,p=A.style,y=A.children,c=A.isActive,I=A.role,P=l.useState(c||i),_=(0,q.Z)(P,2),de=_[0],ae=_[1];return l.useEffect(function(){(i||c)&&ae(!0)},[i,c]),de?l.createElement("div",{ref:D,className:Z()("".concat(g,"-content"),(x={},(0,h.Z)(x,"".concat(g,"-content-active"),c),(0,h.Z)(x,"".concat(g,"-content-inactive"),!c),x),M),style:p,role:I},l.createElement("div",{className:"".concat(g,"-content-box")},y)):null});De.displayName="PanelContent";var k=De,r=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],m=function(A){(0,X.Z)(x,A);var D=(0,B.Z)(x);function x(){var g;(0,F.Z)(this,x);for(var i=arguments.length,M=new Array(i),p=0;p<i;p++)M[p]=arguments[p];return g=D.call.apply(D,[this].concat(M)),g.onItemClick=function(){var y=g.props,c=y.onItemClick,I=y.panelKey;typeof c=="function"&&c(I)},g.handleKeyPress=function(y){(y.key==="Enter"||y.keyCode===13||y.which===13)&&g.onItemClick()},g.renderIcon=function(){var y=g.props,c=y.showArrow,I=y.expandIcon,P=y.prefixCls,_=y.collapsible;if(!c)return null;var de=typeof I=="function"?I(g.props):l.createElement("i",{className:"arrow"});return de&&l.createElement("div",{className:"".concat(P,"-expand-icon"),onClick:_==="header"||_==="icon"?g.onItemClick:null},de)},g.renderTitle=function(){var y=g.props,c=y.header,I=y.prefixCls,P=y.collapsible;return l.createElement("span",{className:"".concat(I,"-header-text"),onClick:P==="header"?g.onItemClick:null},c)},g}return(0,K.Z)(x,[{key:"shouldComponentUpdate",value:function(i){return!O()(this.props,i)}},{key:"render",value:function(){var i,M,p=this.props,y=p.className,c=p.id,I=p.style,P=p.prefixCls,_=p.headerClass,de=p.children,ae=p.isActive,oe=p.destroyInactivePanel,We=p.accordion,Fe=p.forceRender,Be=p.openMotion,e=p.extra,ge=p.collapsible,fe=(0,re.Z)(p,r),ve=ge==="disabled",z=ge==="header",ce=ge==="icon",Me=Z()((i={},(0,h.Z)(i,"".concat(P,"-item"),!0),(0,h.Z)(i,"".concat(P,"-item-active"),ae),(0,h.Z)(i,"".concat(P,"-item-disabled"),ve),i),y),Ae=Z()("".concat(P,"-header"),(M={},(0,h.Z)(M,_,_),(0,h.Z)(M,"".concat(P,"-header-collapsible-only"),z),(0,h.Z)(M,"".concat(P,"-icon-collapsible-only"),ce),M)),le={className:Ae,"aria-expanded":ae,"aria-disabled":ve,onKeyPress:this.handleKeyPress};!z&&!ce&&(le.onClick=this.onItemClick,le.role=We?"tab":"button",le.tabIndex=ve?-1:0);var Ue=e!=null&&typeof e!="boolean";return delete fe.header,delete fe.panelKey,delete fe.onItemClick,delete fe.showArrow,delete fe.expandIcon,l.createElement("div",(0,w.Z)({},fe,{className:Me,style:I,id:c}),l.createElement("div",le,this.renderIcon(),this.renderTitle(),Ue&&l.createElement("div",{className:"".concat(P,"-extra")},e)),l.createElement(ue.Z,(0,w.Z)({visible:ae,leavedClassName:"".concat(P,"-content-hidden")},Be,{forceRender:Fe,removeOnLeave:oe}),function($e,Sa){var Ga=$e.className,za=$e.style;return l.createElement(k,{ref:Sa,prefixCls:P,className:Ga,style:za,isActive:ae,forceRender:Fe,role:We?"tabpanel":null},de)}))}}]),x}(l.Component);m.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var Xe=m;function be(A){var D=A;if(!Array.isArray(D)){var x=(0,H.Z)(D);D=x==="number"||x==="string"?[D]:[]}return D.map(function(g){return String(g)})}var o=function(A){(0,X.Z)(x,A);var D=(0,B.Z)(x);function x(g){var i;(0,F.Z)(this,x),i=D.call(this,g),i.onClickItem=function(c){var I=i.state.activeKey;if(i.props.accordion)I=I[0]===c?[]:[c];else{I=(0,G.Z)(I);var P=I.indexOf(c),_=P>-1;_?I.splice(P,1):I.push(c)}i.setActiveKey(I)},i.getNewChild=function(c,I){if(!c)return null;var P=i.state.activeKey,_=i.props,de=_.prefixCls,ae=_.openMotion,oe=_.accordion,We=_.destroyInactivePanel,Fe=_.expandIcon,Be=_.collapsible,e=c.key||String(I),ge=c.props,fe=ge.header,ve=ge.headerClass,z=ge.destroyInactivePanel,ce=ge.collapsible,Me=!1;oe?Me=P[0]===e:Me=P.indexOf(e)>-1;var Ae=ce!=null?ce:Be,le={key:e,panelKey:e,header:fe,headerClass:ve,isActive:Me,prefixCls:de,destroyInactivePanel:z!=null?z:We,openMotion:ae,accordion:oe,children:c.props.children,onItemClick:Ae==="disabled"?null:i.onClickItem,expandIcon:Fe,collapsible:Ae};return typeof c.type=="string"?c:(Object.keys(le).forEach(function(Ue){typeof le[Ue]=="undefined"&&delete le[Ue]}),l.cloneElement(c,le))},i.getItems=function(){var c=i.props.children;return(0,se.Z)(c).map(i.getNewChild)},i.setActiveKey=function(c){"activeKey"in i.props||i.setState({activeKey:c}),i.props.onChange(i.props.accordion?c[0]:c)};var M=g.activeKey,p=g.defaultActiveKey,y=p;return"activeKey"in g&&(y=M),i.state={activeKey:be(y)},i}return(0,K.Z)(x,[{key:"shouldComponentUpdate",value:function(i,M){return!O()(this.props,i)||!O()(this.state,M)}},{key:"render",value:function(){var i,M=this.props,p=M.prefixCls,y=M.className,c=M.style,I=M.accordion,P=Z()((i={},(0,h.Z)(i,p,!0),(0,h.Z)(i,y,!!y),i));return l.createElement("div",{className:P,style:c,role:I?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(i){var M={};return"activeKey"in i&&(M.activeKey=be(i.activeKey)),M}}]),x}(l.Component);o.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},o.Panel=Xe;var U=o,ee=U,ua=U.Panel,me=t(98423),d=t(53124),ie=t(33603),Oe=t(96159),_e=function(D){var x=l.useContext(d.E_),g=x.getPrefixCls,i=D.prefixCls,M=D.className,p=M===void 0?"":M,y=D.showArrow,c=y===void 0?!0:y,I=g("collapse",i),P=Z()((0,h.Z)({},"".concat(I,"-no-arrow"),!c),p);return l.createElement(ee.Panel,(0,w.Z)({},D,{prefixCls:I,className:P}))},Ze=_e,ke=function(D){var x,g=l.useContext(d.E_),i=g.getPrefixCls,M=g.direction,p=D.prefixCls,y=D.className,c=y===void 0?"":y,I=D.bordered,P=I===void 0?!0:I,_=D.ghost,de=D.expandIconPosition,ae=de===void 0?"start":de,oe=i("collapse",p),We=l.useMemo(function(){return ae==="left"?"start":ae==="right"?"end":ae},[ae]),Fe=function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=D.expandIcon,ce=z?z(ve):l.createElement(N.Z,{rotate:ve.isActive?90:void 0});return(0,Oe.Tm)(ce,function(){return{className:Z()(ce.props.className,"".concat(oe,"-arrow"))}})},Be=Z()("".concat(oe,"-icon-position-").concat(We),(x={},(0,h.Z)(x,"".concat(oe,"-borderless"),!P),(0,h.Z)(x,"".concat(oe,"-rtl"),M==="rtl"),(0,h.Z)(x,"".concat(oe,"-ghost"),!!_),x),c),e=(0,w.Z)((0,w.Z)({},ie.ZP),{motionAppear:!1,leavedClassName:"".concat(oe,"-content-hidden")}),ge=function(){var ve=D.children;return(0,se.Z)(ve).map(function(z,ce){var Me;if((Me=z.props)===null||Me===void 0?void 0:Me.disabled){var Ae=z.key||String(ce),le=z.props,Ue=le.disabled,$e=le.collapsible,Sa=(0,w.Z)((0,w.Z)({},(0,me.Z)(z.props,["disabled"])),{key:Ae,collapsible:$e!=null?$e:Ue?"disabled":void 0});return(0,Oe.Tm)(z,Sa)}return z})};return l.createElement(ee,(0,w.Z)({openMotion:e},D,{expandIcon:Fe,prefixCls:oe,className:Be}),ge())};ke.Panel=Ze;var ma=ke,ga=ma},7359:function(Pe,J,t){"use strict";var w=t(38663),h=t.n(w),N=t(50596),L=t.n(N)}}]);
