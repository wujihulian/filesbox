(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[23732],{96278:function(A){A.exports={root:"root___7VXfh",colorWeak:"colorWeak___2fQ5G","ant-layout":"ant-layout___2lk2i",globalSpin:"globalSpin___3wjkL","ant-table":"ant-table___3MoMQ","ant-table-thead":"ant-table-thead___2F4eD","ant-table-tbody":"ant-table-tbody___1iFAX",formBox:"formBox___1MR6m",hrefModal:"hrefModal___GOUPi",shop:"shop___3KrmS"}},44943:function(){},23732:function(A,h,e){"use strict";e.r(h),e.d(h,{default:function(){return O}});var c=e(71194),m=e(50146),F=e(13062),B=e(71230),X=e(89032),V=e(15746),r=e(34792),k=e(48086),H=e(88983),R=e(47933),Y=e(47673),$=e(4107),P=e(67294),Q=e(28216),K=e(96278),C=e.n(K),d=e(41273),t=e(85893),u,I,w=$.Z.TextArea,T=R.ZP.Group,O=(u=(0,Q.$j)(J=>{var o=J.commondesign;return{commondesign:o}}),u(I=class extends P.PureComponent{constructor(){super(...arguments);this.state={visible:!1,audioHref:"",autoplay:!1,loop:!1},this.updataDomCallBack=o=>{var f=this,U=this.props.commondesign,D=U.Audio,_=D.element,M=D.callback,a=D.callClose,l=_.find(".box");console.log("data.audioHref",o.audioHref);var i='<div class="musicPlayer">  <div class="m-content">    <div style="display: none;"><audio src="'+o.audioHref+'" '+(o.autoplay?'autoplay="autoplay"':"")+" "+(o.loop?'loop="loop"':"")+'>\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 audio \u6807\u7B7E\u3002</audio></div>  </div>  <div class="m-footer">    <div class="m-l-toolBox"><span class="m-player"><img class="mp-player" src="/design/designstatic/chatroom/img/music/player.png"/> <img class="mp-pause" src="/design/designstatic/chatroom/img/music/pause.png"/></span></div>    <div class="m-r-toolBox"><span class="m-voice"><img class="mv-voice" src="/design/designstatic/chatroom/img/music/voice.png"> <img class="mv-muted" src="/design/designstatic/chatroom/img/music/muted.png"/></span><span class="m-voice-progress"><span class="m-voice-progress-bg"></span></span></div>  </div>  <div class="m-play-infoBox">   <div class="m-play-progress"><span class="m-play-progress-bg"><span class="m-play-progress-btn"></span></span></div>   <div class="m-play-time"><span class="mp-left-time">00:00</span><span class="mp-right-time">00:00</span></div>  </div></div>';_.find(".musicPlayer").remove(),_.append(i),_.attr("data-mp3",JSON.stringify(o))},this.show=o=>{o?(o=JSON.parse(o),this.setState({audioHref:o.audioHref,autoplay:o.autoplay,loop:o.loop})):this.setState({visible:!0,audioHref:""})},this.cancelEvent=()=>{var o=this,f=this.props.dispatch;f({type:"commondesign/setState",payload:{Audio:{visible:!1,callback:()=>{},callClose:()=>{}}}})}}componentDidMount(){var o=this.props.commondesign,f=o.Audio,U=f.visible,D=f.element,_=f.callback,M=f.callClose;this.setState({visible:U});var a=D.attr("data-mp3");this.show(a)}render(){var o=this,f=this.props,U=f.commondesign,D=f.dispatch,_=U.Audio.callback,M=this.state,a=M.visible,l=M.audioHref,i=M.autoplay,n=M.loop,s=v=>{o.cancelEvent()},L=v=>{if(l!=""){var E={audioHref:l,autoplay:i,loop:n};o.updataDomCallBack(E),_&&_(E),o.cancelEvent()}else k.ZP.error("\u8BF7\u6DFB\u52A0mp3\u6587\u4EF6\u7F51\u7EDC\u5730\u5740")},y=v=>{o.setState({audioHref:v.target.value})},Z=()=>{window.fileBoxApi.fileSelect({title:"\u97F3\u4E50\u9009\u62E9",type:"file",single:!0,allowExt:"mp3",callback:function(E){var q=E.data||{},z=q.selectItems||[],S=z[0];if(z.length){var b=(S==null?void 0:S.sourceInfo)||{};o.setState({audioHref:b.downloadUrl||b.h264Path?b.downloadUrl||b.h264Path:S.downloadUrl||S.h264Path})}}})},W=v=>{this.setState({autoplay:v.target.value})},x=v=>{this.setState({loop:v.target.value})};return(0,t.jsx)(m.Z,{title:"\u6DFB\u52A0mp3",visible:a,onOk:L,width:520,onCancel:s,maskClosable:!1,className:C().hrefModal,children:(0,t.jsxs)("div",{className:"divRow",children:[(0,t.jsx)("div",{className:"label",style:{marginBottom:0},children:"\u6587\u4EF6\u5730\u5740\uFF1A"}),(0,t.jsxs)("div",{className:"content",style:{paddingLeft:100,marginTop:-28},children:[(0,t.jsx)("a",{onClick:Z,children:"\u9009\u62E9\u97F3\u4E50\u6587\u4EF6"}),(0,t.jsx)($.Z,{value:l,onChange:y,style:{width:360},placeholder:"\u8BF7\u8F93\u5165mp3\u6587\u4EF6\u7F51\u7EDC\u5730\u5740"})]}),(0,t.jsx)("div",{className:"label",style:{marginBottom:0},children:"\u914D\u7F6E\uFF1A"}),(0,t.jsx)("div",{className:"content",style:{paddingLeft:100,marginTop:-30},children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(V.Z,{children:(0,t.jsxs)(T,{onChange:W,value:i,style:{float:"left",width:210},children:[(0,t.jsx)(R.ZP,{value:!0,children:"\u81EA\u52A8\u64AD\u653E"}),(0,t.jsx)(R.ZP,{value:!1,children:"\u624B\u52A8\u5207\u6362"})]})}),(0,t.jsx)(V.Z,{children:(0,t.jsxs)(T,{onChange:x,value:n,style:{float:"left",width:210},children:[(0,t.jsx)(R.ZP,{value:!0,children:"\u5FAA\u73AF\u64AD\u653E"}),(0,t.jsx)(R.ZP,{value:!1,children:"\u5355\u6B21\u64AD\u653E"})]})})]})})]})})}})||I)},15746:function(A,h,e){"use strict";var c=e(21584);h.Z=c.Z},89032:function(A,h,e){"use strict";var c=e(38663),m=e.n(c),F=e(6999)},47933:function(A,h,e){"use strict";e.d(h,{ZP:function(){return M}});var c=e(22122),m=e(96156),F=e(28481),B=e(94184),X=e.n(B),V=e(21770),r=e(67294),k=e(53124),H=e(97647),R=e(5467),Y=r.createContext(null),$=Y.Provider,P=Y,Q=r.createContext(null),K=Q.Provider,C=e(50132),d=e(42550),t=e(98866),u=e(65223),I=function(a,l){var i={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&l.indexOf(n)<0&&(i[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(a);s<n.length;s++)l.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(a,n[s])&&(i[n[s]]=a[n[s]]);return i},w=function(l,i){var n,s=r.useContext(P),L=r.useContext(Q),y=r.useContext(k.E_),Z=y.getPrefixCls,W=y.direction,x=r.useRef(),v=(0,d.sQ)(i,x),E=(0,r.useContext)(u.aM),q=E.isFormItemInput,z=function(ne){var G,N;(G=l.onChange)===null||G===void 0||G.call(l,ne),(N=s==null?void 0:s.onChange)===null||N===void 0||N.call(s,ne)},S=l.prefixCls,b=l.className,ee=l.children,se=l.style,ae=l.disabled,le=I(l,["prefixCls","className","children","style","disabled"]),te=Z("radio",S),j=((s==null?void 0:s.optionType)||L)==="button"?"".concat(te,"-button"):te,g=(0,c.Z)({},le),oe=r.useContext(t.Z);g.disabled=ae||oe,s&&(g.name=s.name,g.onChange=z,g.checked=l.value===s.value,g.disabled=g.disabled||s.disabled);var re=X()("".concat(j,"-wrapper"),(n={},(0,m.Z)(n,"".concat(j,"-wrapper-checked"),g.checked),(0,m.Z)(n,"".concat(j,"-wrapper-disabled"),g.disabled),(0,m.Z)(n,"".concat(j,"-wrapper-rtl"),W==="rtl"),(0,m.Z)(n,"".concat(j,"-wrapper-in-form-item"),q),n),b);return r.createElement("label",{className:re,style:se,onMouseEnter:l.onMouseEnter,onMouseLeave:l.onMouseLeave},r.createElement(C.Z,(0,c.Z)({},g,{type:"radio",prefixCls:j,ref:v})),ee!==void 0?r.createElement("span",null,ee):null)},T=r.forwardRef(w),O=T,J=r.forwardRef(function(a,l){var i,n=r.useContext(k.E_),s=n.getPrefixCls,L=n.direction,y=r.useContext(H.Z),Z=(0,V.Z)(a.defaultValue,{value:a.value}),W=(0,F.Z)(Z,2),x=W[0],v=W[1],E=function(ce){var fe=x,_e=ce.target.value;"value"in a||v(_e);var ve=a.onChange;ve&&_e!==fe&&ve(ce)},q=a.prefixCls,z=a.className,S=z===void 0?"":z,b=a.options,ee=a.buttonStyle,se=ee===void 0?"outline":ee,ae=a.disabled,le=a.children,te=a.size,j=a.style,g=a.id,oe=a.onMouseEnter,re=a.onMouseLeave,ie=a.onFocus,ne=a.onBlur,G=s("radio",q),N="".concat(G,"-group"),de=le;b&&b.length>0&&(de=b.map(function(p){return typeof p=="string"||typeof p=="number"?r.createElement(O,{key:p.toString(),prefixCls:G,disabled:ae,value:p,checked:x===p},p):r.createElement(O,{key:"radio-group-value-options-".concat(p.value),prefixCls:G,disabled:p.disabled||ae,value:p.value,checked:x===p.value,style:p.style},p.label)}));var ue=te||y,me=X()(N,"".concat(N,"-").concat(se),(i={},(0,m.Z)(i,"".concat(N,"-").concat(ue),ue),(0,m.Z)(i,"".concat(N,"-rtl"),L==="rtl"),i),S);return r.createElement("div",(0,c.Z)({},(0,R.Z)(a),{className:me,style:j,onMouseEnter:oe,onMouseLeave:re,onFocus:ie,onBlur:ne,id:g,ref:l}),r.createElement($,{value:{onChange:E,value:x,disabled:a.disabled,name:a.name,optionType:a.optionType}},de))}),o=r.memo(J),f=function(a,l){var i={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&l.indexOf(n)<0&&(i[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(a);s<n.length;s++)l.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(a,n[s])&&(i[n[s]]=a[n[s]]);return i},U=function(l,i){var n=r.useContext(k.E_),s=n.getPrefixCls,L=l.prefixCls,y=f(l,["prefixCls"]),Z=s("radio",L);return r.createElement(K,{value:"button"},r.createElement(O,(0,c.Z)({prefixCls:Z},y,{type:"radio",ref:i})))},D=r.forwardRef(U),_=O;_.Button=D,_.Group=o,_.__ANT_RADIO=!0;var M=_},88983:function(A,h,e){"use strict";var c=e(38663),m=e.n(c),F=e(44943),B=e.n(F)},71230:function(A,h,e){"use strict";var c=e(92820);h.Z=c.Z},13062:function(A,h,e){"use strict";var c=e(38663),m=e.n(c),F=e(6999)},50132:function(A,h,e){"use strict";var c=e(22122),m=e(96156),F=e(81253),B=e(28991),X=e(6610),V=e(5991),r=e(10379),k=e(54070),H=e(67294),R=e(94184),Y=e.n(R),$=function(P){(0,r.Z)(K,P);var Q=(0,k.Z)(K);function K(C){var d;(0,X.Z)(this,K),d=Q.call(this,C),d.handleChange=function(u){var I=d.props,w=I.disabled,T=I.onChange;w||("checked"in d.props||d.setState({checked:u.target.checked}),T&&T({target:(0,B.Z)((0,B.Z)({},d.props),{},{checked:u.target.checked}),stopPropagation:function(){u.stopPropagation()},preventDefault:function(){u.preventDefault()},nativeEvent:u.nativeEvent}))},d.saveInput=function(u){d.input=u};var t="checked"in C?C.checked:C.defaultChecked;return d.state={checked:t},d}return(0,V.Z)(K,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var d,t=this.props,u=t.prefixCls,I=t.className,w=t.style,T=t.name,O=t.id,J=t.type,o=t.disabled,f=t.readOnly,U=t.tabIndex,D=t.onClick,_=t.onFocus,M=t.onBlur,a=t.onKeyDown,l=t.onKeyPress,i=t.onKeyUp,n=t.autoFocus,s=t.value,L=t.required,y=(0,F.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),Z=Object.keys(y).reduce(function(v,E){return(E.substr(0,5)==="aria-"||E.substr(0,5)==="data-"||E==="role")&&(v[E]=y[E]),v},{}),W=this.state.checked,x=Y()(u,I,(d={},(0,m.Z)(d,"".concat(u,"-checked"),W),(0,m.Z)(d,"".concat(u,"-disabled"),o),d));return H.createElement("span",{className:x,style:w},H.createElement("input",(0,c.Z)({name:T,id:O,type:J,required:L,readOnly:f,disabled:o,tabIndex:U,className:"".concat(u,"-input"),checked:!!W,onClick:D,onFocus:_,onBlur:M,onKeyUp:i,onKeyDown:a,onKeyPress:l,onChange:this.handleChange,autoFocus:n,ref:this.saveInput,value:s},Z)),H.createElement("span",{className:"".concat(u,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(d,t){return"checked"in d?(0,B.Z)((0,B.Z)({},t),{},{checked:d.checked}):null}}]),K}(H.Component);$.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},h.Z=$}}]);
