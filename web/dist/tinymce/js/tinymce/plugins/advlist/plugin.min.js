(function(){"use strict";function x(){}function d(t){return function(){return t}}function p(){return h}var m,_=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=tinymce.util.Tools.resolve("tinymce.util.Tools"),O=function(t,n,e){var u=n==="UL"?"InsertUnorderedList":"InsertOrderedList";t.execCommand(u,!1,e===!1?null:{"list-style-type":e})},k=function(t){t.addCommand("ApplyUnorderedListStyle",function(n,e){O(t,"UL",e["list-style-type"])}),t.addCommand("ApplyOrderedListStyle",function(n,e){O(t,"OL",e["list-style-type"])})},q=function(t){var n=t.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return n?n.split(/[ ,]/):[]},D=function(t){var n=t.getParam("advlist_bullet_styles","default,circle,square");return n?n.split(/[ ,]/):[]},g=d(!1),v=d(!0),h=(m={fold:function(t,n){return t()},is:g,isSome:g,isNone:v,getOr:A,getOrThunk:b,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:A,orThunk:b,map:p,each:x,bind:p,exists:g,forall:v,filter:p,equals:T,equals_:T,toArray:function(){return[]},toString:d("none()")},Object.freeze&&Object.freeze(m),m);function T(t){return t.isNone()}function b(t){return t()}function A(t){return t}function C(t,n,e){var u=function(o,f){for(var s=0;s<o.length;s++)if(f(o[s]))return s;return-1}(n.parents,B),l=u!==-1?n.parents.slice(0,u):n.parents,r=y.grep(l,P(t));return 0<r.length&&r[0].nodeName===e}function U(t,n,e,u,l,r){0<r.length?function(o,f,s,L,a,N){o.ui.registry.addSplitButton(f,{tooltip:s,icon:a==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(c){c(y.map(N,function(i){return{type:"choiceitem",value:i==="default"?"":i,icon:"list-"+(a==="OL"?"num":"bull")+"-"+(i==="disc"||i==="decimal"?"default":i),text:function(S){return S.replace(/\-/g," ").replace(/\b\w/g,function(z){return z.toUpperCase()})}(i)}}))},onAction:function(){return o.execCommand(L)},onItemAction:function(c,i){O(o,a,i)},select:function(c){return $(o).map(function(i){return c===i}).getOr(!1)},onSetup:function(c){function i(S){c.setActive(C(o,S,a))}return o.on("NodeChange",i),function(){return o.off("NodeChange",i)}}})}(t,n,e,u,l,r):function(o,f,s,L,a){o.ui.registry.addToggleButton(f,{active:!1,tooltip:s,icon:a==="OL"?"ordered-list":"unordered-list",onSetup:function(N){function c(i){N.setActive(C(o,i,a))}return o.on("NodeChange",c),function(){return o.off("NodeChange",c)}},onAction:function(){return o.execCommand(L)}})}(t,n,e,u,l)}var w=function(t){function n(){return l}function e(r){return r(t)}var u=d(t),l={fold:function(r,o){return o(t)},is:function(r){return t===r},isSome:v,isNone:g,getOr:u,getOrThunk:u,getOrDie:u,getOrNull:u,getOrUndefined:u,or:n,orThunk:n,map:function(r){return w(r(t))},each:function(r){r(t)},bind:e,exists:e,forall:e,filter:function(r){return r(t)?l:h},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(r){return r.is(t)},equals_:function(r,o){return r.fold(g,function(f){return o(t,f)})}};return l},I=function(t){return t==null?h:w(t)},B=function(t){return t&&/^(TH|TD)$/.test(t.nodeName)},P=function(t){return function(n){return n&&/^(OL|UL|DL)$/.test(n.nodeName)&&function(e,u){return e.$.contains(e.getBody(),u)}(t,n)}},$=function(t){var n=t.dom.getParent(t.selection.getNode(),"ol,ul"),e=t.dom.getStyle(n,"listStyleType");return I(e)},j=function(t){U(t,"numlist","Numbered list","InsertOrderedList","OL",q(t)),U(t,"bullist","Bullet list","InsertUnorderedList","UL",D(t))};(function(){_.add("advlist",function(n){var e,u,l;u="lists",l=(e=n).settings.plugins?e.settings.plugins:"",y.inArray(l.split(/[ ,]/),u)!==-1&&(j(n),k(n))})})()})();
