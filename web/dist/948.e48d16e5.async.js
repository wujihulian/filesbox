(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[948],{85655:function(D){D.exports={errormodalbox:"errormodalbox___3Z8Ex"}},83589:function(D,I,o){"use strict";o.r(I),o.d(I,{default:function(){return W}});var g=o(34895),j=o(28216),L=o(67294),T=o(43583),k=o.n(T),z=o(85655),x=o.n(z),A=o(37406),s=o(85893),F,M,W=(F=(0,j.$j)(U=>{var a=U.common;return{common:a}}),F(M=class extends L.PureComponent{constructor(){super(...arguments);this.state={modelZindex:100,fullScreen:!1,current:1,total:0,target:{},getInfoLoading:!0,viewUrl:"",taskId:(0,A.fW)(),psddom:""},this.getvideoinfo=()=>{var a=this,e=this.props,p=e.dispatch,n=e.sourceID,f=e.isyz,i=e.iframeUrl,C=i===void 0?"":i,l=e.common,t=e.path,d=t===void 0?"":t,O=e.yzViewData,u=e.f,c=e.fileType,K=c===void 0?"":c,v=l.shareCode,_=a.state.taskId;p({type:"common/getFilePreview",payload:{busType:"cloud",sourceID:n,shareCode:v||void 0,view:v?1:void 0,path:d||void 0,f:u},callback:y=>{var E=y.data||{},m=E.yzViewData||"",w=m?JSON.parse(m):{};this.setState({fileInfo:E,viewUrl:w.viewUrl||""})}})}}componentDidMount(){var a=this;a.getvideoinfo()}componentWillUnmount(){var a=this,e=this.props,p=e.dispatch,n=e.sourceID,f=e.isyz,i=e.iframeUrl,C=i===void 0?"":i,l=e.common,t=e.path,d=t===void 0?"":t,O=e.yzViewData,u=l.shareCode}render(){var a=this,e=a.props,p=e.dispatch,n=e.common,f=e.open,i=e.setOpenModel,C=e.videoOption,l=e.isyz,t=e.iframeUrl,d=e.iframeName,O=d===void 0?"":d,u=e.issmall,c=e.path,K=e.name,v=e.fileType,_=e.isedit,y=e.f,E=e.sourceID,m=e.showIndex,w=n.shareCode,P=n.showmodalList,J=P===void 0?[]:P,r=this.state,R=r.modelZindex,$=r.fileInfo,B=$===void 0?{}:$,G=r.fullScreen,H=r.getInfoLoading,Q=r.viewUrl,X=r.taskId,Y=r.psddom,Z=h=>{a.setState({modelZindex:h})},b=(h,S)=>{var V=h.current,N=h.total;a.setState({current:V,total:N,target:S})};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(g.Z,{open:f,issmall:u,showIndex:m,modelZindex:R,setOpenModel:i,setModelZindex:Z,type:"upload",isFull:!!t,title:_?"\u6587\u4EF6\u7F16\u8F91\u63D0\u793A":"\u6587\u4EF6\u6253\u5F00\u63D0\u793A",children:_?(0,s.jsxs)("div",{className:x().errormodalbox,children:[(0,s.jsx)("div",{children:"\u4E0D\u652F\u6301\u5728\u7EBF\u7F16\u8F91\u6B64\u6587\u4EF6\uFF0C\u60A8\u53EF\u4EE5"}),(0,s.jsxs)("div",{children:["1\uFF09"," ",(0,s.jsx)("a",{onClick:()=>{window.location.href=B.downloadUrl},children:"\u4E0B\u8F7D\u8BE5\u6587\u4EF6"})]})]}):(0,s.jsxs)("div",{className:x().errormodalbox,children:[(0,s.jsx)("div",{children:"\u4E0D\u652F\u6301\u5728\u7EBF\u6253\u5F00\u6B64\u6587\u4EF6\uFF0C\u60A8\u53EF\u4EE5"}),(0,s.jsxs)("div",{children:["1\uFF09"," ",(0,s.jsx)("a",{onClick:()=>{window.location.href=B.downloadUrl},children:"\u4E0B\u8F7D\u8BE5\u6587\u4EF6"})]})]})})})}})||M)},77927:function(){}}]);
