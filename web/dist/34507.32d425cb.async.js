(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[34507],{21059:function(D,m,e){"use strict";e.d(m,{Z:function(){return M}});var g=e(28991),p=e(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},O=k,w=e(27029),d=function(y,v){return p.createElement(w.Z,(0,g.Z)((0,g.Z)({},y),{},{ref:v,icon:O}))};d.displayName="ArrowDownOutlined";var M=p.forwardRef(d)},26139:function(D,m,e){"use strict";e.d(m,{Z:function(){return M}});var g=e(28991),p=e(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},O=k,w=e(27029),d=function(y,v){return p.createElement(w.Z,(0,g.Z)((0,g.Z)({},y),{},{ref:v,icon:O}))};d.displayName="ArrowUpOutlined";var M=p.forwardRef(d)},76734:function(D){D.exports={newColorPicker:"newColorPicker___2va38"}},99026:function(D){D.exports={root:"root___5nrfZ",colorWeak:"colorWeak___kupbm","ant-layout":"ant-layout___1DD9B",globalSpin:"globalSpin___3uQ9r","ant-table":"ant-table___1sDrd","ant-table-thead":"ant-table-thead___2H8Ay","ant-table-tbody":"ant-table-tbody___2ZNQk",formBox:"formBox___Vglm1",hrefModal:"hrefModal___1AVcP",hoverClick:"hoverClick___2HAJP",shop:"shop___3b4U5"}},96328:function(D,m,e){"use strict";var g=e(67294),p=e(79941),k=e(53390),O=e(76734),w=e.n(O),d=e(85893);function M(v){var c=v.offsetTop;return v.offsetParent!=null&&(c+=M(v.offsetParent)),c}function K(v){var c=v.offsetLeft;return v.offsetParent!=null&&(c+=K(v.offsetParent)),c}class y extends g.Component{constructor(){super(...arguments);this.state={displayColorPicker:!1,pageX:0,pageY:0},this.handleClick=c=>{var E=this.props.cssData,C=E===void 0?{devX:0,devY:0}:E,U=C.devX,b=C.devY;this.first=!0;var A=root.clientWidth,B=root.clientHeight,L=$(c.target),x=L.offset().left+U,j=L.offset().top+L.outerHeight()+5+b;x+220>A&&(x=A-220),j+333>B&&(j=B-333),this.setState({displayColorPicker:!this.state.displayColorPicker,pageX:x,pageY:j})},this.handleClear=()=>{var c=this.props.onChange,E=c===void 0?C=>{}:c;this.setState({displayColorPicker:!1,scrollTop:0}),E("transparent")},this.handleClose=()=>{this.setState({displayColorPicker:!1,scrollTop:0})}}render(){var c=this.props,E=c.className,C=E===void 0?"colorPicker":E,U=c.onChange,b=U===void 0?s=>{}:U,A=c.value,B=A===void 0?"#000000":A,L=c.style,x=this.state,j=x.pageX,Z=x.pageY,H=s=>{s.rgb.a<1&&!(this.first&&s.rgb.a==0)?b("rgba(".concat(s.rgb.r,", ").concat(s.rgb.g,", ").concat(s.rgb.b,", ").concat(s.rgb.a,")")):b(s.hex),this.first=!1},h=(0,p.ZP)({default:{color:{height:"100%",borderRadius:"2px",background:B},colorBox:{height:"100%",borderRadius:"2px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==")'},swatch:{width:"100%",height:"100%",padding:"2px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"fixed",zIndex:"101",background:"#ccc",top:Z,left:j},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},clearBtn:{position:"absolute",bottom:"10px",height:"18px",lineHeight:"18px",right:"8px",zIndex:1,fontSize:"12px",cursor:"pointer"}}});return(0,d.jsxs)("div",{style:L,className:C+" "+w().newColorPicker,children:[(0,d.jsx)("div",{style:h.swatch,onClick:this.handleClick,children:(0,d.jsx)("div",{style:h.colorBox,children:(0,d.jsx)("div",{style:h.color})})}),this.state.displayColorPicker?(0,d.jsxs)("div",{style:h.popover,children:[(0,d.jsx)("div",{style:h.clearBtn,onClick:this.handleClear,children:"\u6E05\u7A7A"}),(0,d.jsx)("div",{style:h.cover,onClick:this.handleClose}),(0,d.jsx)(k.xS,{color:B,onChange:H})]}):null]})}}m.Z=y},34507:function(D,m,e){"use strict";e.r(m),e.d(m,{default:function(){return Q}});var g=e(71194),p=e(50146),k=e(66456),O=e(5322),w=e(57663),d=e(71577),M=e(11849),K=e(34792),y=e(48086),v=e(88983),c=e(47933),E=e(47673),C=e(4107),U=e(67294),b=e(26139),A=e(21059),B=e(28216),L=e(89256),x=e(56173),j=e(96328),Z=e(30672),H=e(99026),h=e.n(H),s=e(85893),V,z,de=C.Z.TextArea,ve=c.ZP.Group,Q=(V=(0,B.$j)(G=>{var i=G.commondesign,u=G.globaldesign;return{commondesign:i,globaldesign:u}}),V(z=class extends U.PureComponent{constructor(){super(...arguments);this.state={visible:!1,navList:[{name:"\u9996\u9875",href:{name:"\u9996\u9875",url:"/",data:'{"data":{"designId":"home","url":"/"},"hrefType":"page","openMode":"_blank"}'},before:"",after:"",nid:0}],color:"#000",showEdit:99},this.updataDomCallBack=i=>{for(var u=this,N=this.props.commondesign,I=N.FooterNav,P=I.element,T=I.callback,F=I.callClose,J=N.designId,l=i,W="<ul>",R=0,Y=l.list.length;R<Y;R++){var S=l.list[R];W+='<li style="width: '.concat(100/Y,'%"><a href="').concat(S.href.url,'"><img class="before" src="').concat(S.before,'"/><img class="after" src="').concat(S.after,'"/> <span>').concat(S.name,"</span></a></li>")}W+="</ul>",P.css({fontSize:12}),P.html(W),P.attr("data-footernav",JSON.stringify(l)),P.attr("data-audition",l.audition.join(","))},this.show=i=>{i?(i=JSON.parse(i),this.setState({navList:i.list,color:i.color})):this.setState({navList:[{name:"\u9996\u9875",href:{name:"\u9996\u9875",url:"/",data:'{"data":{"designId":"home","url":"/"},"hrefType":"page","openMode":"_blank"}'},before:"",after:"",nid:0}],color:"#000"}),this.setState({visible:!0,showEdit:99})},this.cancelEvent=()=>{var i=this,u=this.props.dispatch;u({type:"commondesign/setState",payload:{FooterNav:{visible:!1,callback:()=>{},callClose:()=>{}}}})}}componentDidMount(){var i=this.props.commondesign,u=i.FooterNav,N=u.visible,I=u.element,P=u.callback,T=u.callClose;this.setState({visible:N});var F=I.attr("data-footernav");this.show(F)}render(){var i=this,u=i.props,N=u.dispatch,I=u.commondesign,P=I.FooterNav.callback,T=i.state,F=T.visible,J=T.showEdit,l=T.navList,W=T.color,R=(0,Z.lw)((0,Z.Kd)()),Y=n=>{var t={list:l,color:W},a=[];Array.from(l).forEach(r=>{var o=r.href.url||"";o.indexOf("/common/audition.html")>-1&&a.push((0,L.jS)("courseWareId",o))}),t.audition=a,i.updataDomCallBack(t),P&&P(t),this.cancelEvent()},S=()=>{this.cancelEvent()},q=()=>{if(l.length>=5)return y.ZP.warning("\u5BFC\u822A\u4E0D\u80FD\u8D85\u8FC75\u4E2A"),!1;for(var n={},t=0,a=l.length;t<a;t++){var r=l[t];n["n"+r.nid]=!0}for(var o=l.length,_=0,f=l.length;_<f;_++)n["n"+_]||(o=_);this.setState({navList:[...l,{name:"\u5BFC\u822A\u540D\u79F0",href:{name:"\u5BFC\u822A\u94FE\u63A5",url:""},before:"",after:"",nid:o}]})},ee=(n,t,a)=>{this.setState({showEdit:a})},te=(n,t,a)=>{l[a].name=n.target.value,this.setState({showEdit:99,navList:l})},he=n=>{var t=n.courseWareType+"",a=n.courseWareId,r="",o=!1;switch(t){case"1":o=!0;break;case"2":o=!0;break;case"3":o=!0;break;case"4":o=!0;break;case"5":o=!0;break;default:o=!1}return r=o?"/liveclass/wap/livecourse.html?cwid=".concat(a):"/views/wap/course_wap.html?cwid=".concat(a),r},ae=(n,t,a)=>{N({type:"commondesign/setState",payload:{Href:{visible:!0,type:{course:!0,information:!0,link:!0,dialog:!0,page:!0,member:!0,shop:!0,forum:!0,question:!0},typex:!1,callback:r=>{var o=r.data,_=(0,x.wS)(r,i),f=_.url,X=l[a].href;X.name=o.title||o.courseName||o.typeName||o.courseWareName||o.classifyName||o.vipName||o.shopName||o.name||f,X.url=f,X.data=JSON.stringify(r),this.setState({navList:[...l]})}}}})},se=(n,t,a)=>{window.fileBoxApi.fileSelect({title:R.formatMessage({id:"explorer.selectImage"}),type:"file",single:!0,allowExt:"jpg,jpeg,png",callback:function(o){var _=o.data||{},f=_.selectIds.length?_.selectItems||[]:[];f.length&&(l[a].before=f[0].path,i.setState({navList:[...l]}))}})},re=(n,t,a)=>{window.fileBoxApi.fileSelect({title:R.formatMessage({id:"explorer.selectImage"}),type:"file",single:!0,allowExt:"jpg,jpeg,png",callback:function(o){var _=o.data||{},f=_.selectIds.length?_.selectItems||[]:[];f.length&&(l[a].after=f[0].path,i.setState({navList:[...l]}))}})},le=(n,t,a)=>{var r=l.splice(a,1)[0];l.splice(a-1,0,r),this.setState({navList:[...l]})},oe=(n,t,a)=>{var r=l.splice(a,1)[0];l.splice(a+1,0,r),this.setState({navList:[...l]})},ne=(n,t,a)=>{l.splice(a,1),this.setState({navList:[...l]})},ie=[{title:"\u5BFC\u822A\u540D\u79F0",key:"name",width:"20%",render:(n,t,a)=>(0,s.jsx)("span",{className:h().hoverClick,children:J==a?(0,s.jsx)(C.Z,{onBlur:r=>te(r,t,a),autoFocus:!0,defaultValue:t.name,maxLength:6}):(0,s.jsx)("span",{onClick:r=>ee(r,t,a),children:(0,s.jsx)("span",{title:t.name,className:"name",children:t.name?t.name:"\u672A\u547D\u540D"})})})},{title:"\u94FE\u63A5",key:"href",width:"35%",render:(n,t,a)=>(0,s.jsx)("span",{className:h().hoverClick,children:(0,s.jsx)("span",{children:(0,s.jsx)("span",{onClick:r=>ae(r,t,a),title:t.href.name,className:"name",style:{maxWidth:140},children:t.href.name?t.href.name:"\u5BFC\u822A\u94FE\u63A5"})})})},{title:"\u9ED8\u8BA4\u56FE",key:"before",render:(n,t,a)=>(0,s.jsx)("span",{className:h().hoverClick,onClick:r=>se(r,t,a),children:t.before?(0,s.jsx)("img",{src:t.before}):(0,s.jsx)("div",{className:"place",children:"\u65E0\u56FE"})})},{title:"\u9009\u4E2D\u56FE",key:"after",render:(n,t,a)=>(0,s.jsx)("span",{className:h().hoverClick,onClick:r=>re(r,t,a),children:t.after?(0,s.jsx)("img",{src:t.after}):(0,s.jsx)("div",{className:"place",children:"\u65E0\u56FE"})})},{title:"\u6392\u5E8F",key:"index",render:(n,t,a)=>(0,s.jsxs)("span",{className:h().hoverClick,children:[a!=0?(0,s.jsx)(b.Z,{onClick:r=>le(r,t,a)}):(0,s.jsx)(b.Z,{style:{color:"#ccc",cursor:"not-allowed"}}),a!=l.length-1?(0,s.jsx)(A.Z,{onClick:r=>oe(r,t,a)}):(0,s.jsx)(A.Z,{style:{color:"#ccc",cursor:"not-allowed"}})]})},{title:"\u64CD\u4F5C",key:"action",render:(n,t,a)=>(0,s.jsx)("span",{children:t.nid==0?(0,s.jsx)("span",{style:{color:"#ccc",cursor:"not-allowed"},children:"\u5220\u9664"}):(0,s.jsx)("a",{href:"javascript:;",onClick:r=>ne(r,t,a),children:"\u5220\u9664"})})}],ce={value:W,style:{position:"absolute",top:0,right:-100,width:85,height:28},onChange:n=>{this.setState({color:n})}};return(0,s.jsx)(p.Z,{title:"\u5E95\u90E8\u5BFC\u822A",visible:F,onOk:Y,width:680,onCancel:S,maskClosable:!1,className:h().hrefModal,children:(0,s.jsxs)("div",{className:"divRow",children:[(0,s.jsxs)("div",{className:"label",style:{width:110},children:["\u9009\u4E2D\u989C\u8272\uFF1A",(0,s.jsx)(j.Z,(0,M.Z)({},ce))," ",(0,s.jsx)(d.Z,{type:"primary",onClick:q,style:{position:"absolute",top:0,right:-560},children:"\u65B0\u589E\u5BFC\u822A\u9879"})]}),(0,s.jsx)("div",{className:"content",style:{padding:"0 20px"},children:(0,s.jsx)(O.Z,{rowKey:n=>n.nid,columns:ie,dataSource:l,pagination:!1})})]})})}})||z)}}]);
