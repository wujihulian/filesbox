layui.define("jquery",function(V){"use strict";var r=layui.jquery,C={config:{},index:layui.slider?layui.slider.index+1e4:0,set:function(a){var e=this;return e.config=r.extend({},e.config,a),e},on:function(a,e){return layui.onevent.call(this,W,a,e)}},z=function(){var a=this,e=a.config;return{setValue:function(M,b){return a.slide("set",M,b||0)},config:e}},W="slider",X="layui-disabled",B="layui-slider",A="layui-slider-bar",q="layui-slider-wrap",Y="layui-slider-wrap-btn",f="layui-slider-tips",E="layui-slider-input",N="layui-slider-input-txt",I="layui-slider-input-btn",O="layui-slider-hover",L=function(a){var e=this;e.index=++C.index,e.config=r.extend({},e.config,C.config,a),e.render()};L.prototype.config={type:"default",min:0,max:100,value:0,step:1,showstep:!1,tips:!0,input:!1,range:!1,height:200,disabled:!1,theme:"#009688"},L.prototype.render=function(){var a=this,e=a.config;if(e.min=e.min<0?0:e.min,e.range){e.value=typeof e.value=="object"?e.value:[e.min,e.value];var M=Math.min(e.value[0],e.value[1]),b=Math.max(e.value[0],e.value[1]);e.value[0]=M>e.min?M:e.min,e.value[1]=b>e.min?b:e.min,e.value[0]=e.value[0]>e.max?e.max:e.value[0],e.value[1]=e.value[1]>e.max?e.max:e.value[1];var t=Math.floor((e.value[0]-e.min)/(e.max-e.min)*100),o=Math.floor((e.value[1]-e.min)/(e.max-e.min)*100),v=o-t+"%";t+="%",o+="%"}else{e.value=typeof e.value=="object"?Math.min(e.value[0],e.value[1]):e.value,e.value=e.value>e.min?e.value:e.min;var v=Math.floor((e.value-e.min)/(e.max-e.min)*100)+"%"}var d=e.disabled?"#c2c2c2":e.theme,x='<div class="layui-slider '+(e.type==="vertical"?"layui-slider-vertical":"")+'">'+(e.tips?'<div class="layui-slider-tips"></div><span></span>':"")+'<div class="layui-slider-bar" style="background:'+d+"; "+(e.type==="vertical"?"height":"width")+":"+v+";"+(e.type==="vertical"?"bottom":"left")+":"+(t||0)+';"></div><div class="layui-slider-wrap" style="'+(e.type==="vertical"?"bottom":"left")+":"+(t||v)+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+d+';"></div></div>'+(e.range?'<div class="layui-slider-wrap" style="'+(e.type==="vertical"?"bottom":"left")+":"+o+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+d+';"></div></div>':"")+"</div>",c=r(e.elem),u=c.next("."+B);if(u[0]&&u.remove(),a.elemTemp=r(x),e.range?(a.elemTemp.find("."+q).eq(0).data("value",e.value[0]),a.elemTemp.find("."+q).eq(1).data("value",e.value[1])):a.elemTemp.find("."+q).data("value",e.value),c.html(a.elemTemp),e.type==="vertical"&&a.elemTemp.height(e.height+"px"),e.showstep){for(var y=(e.max-e.min)/e.step,T="",g=1;g<y+1;g++){var D=100*g/y;D<100&&(T+='<div class="layui-slider-step" style="'+(e.type==="vertical"?"bottom":"left")+":"+D+'%"></div>')}a.elemTemp.append(T)}if(e.input&&!e.range){var w=r('<div class="layui-slider-input layui-input"><div class="layui-slider-input-txt"><input type="text" class="layui-input"></div><div class="layui-slider-input-btn"><i class="layui-icon layui-icon-up"></i><i class="layui-icon layui-icon-down"></i></div></div>');c.css("position","relative"),c.append(w),c.find("."+N).children("input").val(e.value),e.type==="vertical"?w.css({left:0,top:-48}):a.elemTemp.css("margin-right",w.outerWidth()+15)}e.disabled?(a.elemTemp.addClass(X),a.elemTemp.find("."+Y).addClass(X)):a.slide(),a.elemTemp.find("."+Y).on("mouseover",function(){var i=e.type==="vertical"?e.height:a.elemTemp[0].offsetWidth,n=a.elemTemp.find("."+q),s=e.type==="vertical"?i-r(this).parent()[0].offsetTop-n.height():r(this).parent()[0].offsetLeft,l=s/i*100,p=r(this).parent().data("value"),k=e.setTips?e.setTips(p):p;a.elemTemp.find("."+f).html(k),e.type==="vertical"?(a.elemTemp.find("."+f).css({bottom:l+"%","margin-bottom":"20px",display:"inline-block"}),a.elemTemp.children("span").css({bottom:l+"%","margin-bottom":"8px",display:"inline-block"})):(a.elemTemp.find("."+f).css({left:l+"%",display:"inline-block"}),a.elemTemp.children("span").css({left:l+"%",display:"inline-block"}))}).on("mouseout",function(){a.elemTemp.find("."+f).css("display","none"),a.elemTemp.children("span").css("display","none")})},L.prototype.slide=function(a,e,M){var b=this,t=b.config,o=b.elemTemp,v=function(){return t.type==="vertical"?t.height:o[0].offsetWidth},d=o.find("."+q),x=o.next("."+E),c=x.children("."+N).children("input").val(),u=100/((t.max-t.min)/Math.ceil(t.step)),y=function(i,n){i=Math.ceil(i)*u>100?Math.ceil(i)*u:Math.round(i)*u,i=i>100?100:i,d.eq(n).css(t.type==="vertical"?"bottom":"left",i+"%");var s=T(d[0].offsetLeft),l=t.range?T(d[1].offsetLeft):0;t.type==="vertical"?(o.find("."+f).css({bottom:i+"%","margin-bottom":"20px"}),o.children("span").css({bottom:i+"%","margin-bottom":"8px"}),s=T(v()-d[0].offsetTop-d.height()),l=t.range?T(v()-d[1].offsetTop-d.height()):0):(o.find("."+f).css("left",i+"%"),o.children("span").css("left",i+"%")),s=s>100?100:s,l=l>100?100:l;var p=Math.min(s,l),k=Math.abs(s-l);t.type==="vertical"?o.find("."+A).css({height:k+"%",bottom:p+"%"}):o.find("."+A).css({width:k+"%",left:p+"%"});var h=t.min+Math.round((t.max-t.min)*i/100);if(c=h,x.children("."+N).children("input").val(c),d.eq(n).data("value",h),h=t.setTips?t.setTips(h):h,o.find("."+f).html(h),t.range){var m=[d.eq(0).data("value"),d.eq(1).data("value")];m[0]>m[1]&&m.reverse()}t.change&&t.change(t.range?m:h)},T=function(i){var n=i/v()*100/u,s=Math.round(n)*u;return i==v()&&(s=Math.ceil(n)*u),s},g=r(['<div class="layui-auxiliar-moving" id="LAY-slider-moving"></div'].join("")),D=function(i,n){var s=function(){n&&n(),g.remove()};r("#LAY-slider-moving")[0]||r("body").append(g),g.on("mousemove",i),g.on("mouseup",s).on("mouseleave",s)};if(a==="set")return y(e,M);o.find("."+Y).each(function(i){var n=r(this);n.on("mousedown",function(s){s=s||window.event;var l=n.parent()[0].offsetLeft,p=s.clientX;t.type==="vertical"&&(l=v()-n.parent()[0].offsetTop-d.height(),p=s.clientY);var k=function(m){m=m||window.event;var j=l+(t.type==="vertical"?p-m.clientY:m.clientX-p);j<0&&(j=0),j>v()&&(j=v());var F=j/v()*100/u;y(F,i),n.addClass(O),o.find("."+f).show(),o.children("span").show(),m.preventDefault()},h=function(){n.removeClass(O),o.find("."+f).hide(),o.children("span").hide()};D(k,h)})}),o.on("click",function(i){var n=r("."+Y);if(!n.is(event.target)&&n.has(event.target).length===0&&n.length){var s,l=t.type==="vertical"?v()-i.clientY+r(this).offset().top:i.clientX-r(this).offset().left;l<0&&(l=0),l>v()&&(l=v());var p=l/v()*100/u;s=t.range?t.type==="vertical"?Math.abs(l-parseInt(r(d[0]).css("bottom")))>Math.abs(l-parseInt(r(d[1]).css("bottom")))?1:0:Math.abs(l-d[0].offsetLeft)>Math.abs(l-d[1].offsetLeft)?1:0:0,y(p,s),i.preventDefault()}}),x.hover(function(){var i=r(this);i.children("."+I).fadeIn("fast")},function(){var i=r(this);i.children("."+I).fadeOut("fast")}),x.children("."+I).children("i").each(function(i){r(this).on("click",function(){c=i==1?c-u<t.min?t.min:c-u:Number(c)+u>t.max?t.max:Number(c)+u;var n=(c-t.min)/(t.max-t.min)*100/u;y(n,0)})});var w=function(){var i=this.value;i=isNaN(i)?0:i,i=i<t.min?t.min:i,i=i>t.max?t.max:i,this.value=i;var n=(i-t.min)/(t.max-t.min)*100/u;y(n,0)};x.children("."+N).children("input").on("keydown",function(i){i.keyCode===13&&(i.preventDefault(),w.call(this))}).on("change",w)},L.prototype.events=function(){var a=this;a.config},C.render=function(a){var e=new L(a);return z.call(e)},V(W,C)});
