layui.define(function(m){"use strict";var f=document,h="getElementById",g="getElementsByTagName",d="laypage",v="layui-disabled",c=function(t){var a=this;a.config=t||{},a.config.index=++o.index,a.render(!0)};c.prototype.type=function(){var t=this.config;if(typeof t.elem=="object")return t.elem.length===void 0?2:3},c.prototype.view=function(){var t=this,a=t.config,e=a.groups="groups"in a?0|a.groups:5;a.layout=typeof a.layout=="object"?a.layout:["prev","page","next"],a.count=0|a.count,a.curr=0|a.curr||1,a.limits=typeof a.limits=="object"?a.limits:[10,20,30,40,50],a.limit=0|a.limit||10,a.pages=Math.ceil(a.count/a.limit)||1,a.curr>a.pages&&(a.curr=a.pages),e<0?e=1:e>a.pages&&(e=a.pages),a.prev="prev"in a?a.prev:"&#x4E0A;&#x4E00;&#x9875;",a.next="next"in a?a.next:"&#x4E0B;&#x4E00;&#x9875;";var i=a.pages>e?Math.ceil((a.curr+(e>1?1:0))/(e>0?e:1)):1,u={prev:function(){return a.prev?'<a href="javascript:;" class="layui-laypage-prev'+(a.curr==1?" "+v:"")+'" data-page="'+(a.curr-1)+'">'+a.prev+"</a>":""}(),page:function(){var n=[];if(a.count<1)return"";i>1&&a.first!==!1&&e!==0&&n.push('<a href="javascript:;" class="layui-laypage-first" data-page="1"  title="&#x9996;&#x9875;">'+(a.first||1)+"</a>");var y=Math.floor((e-1)/2),r=i>1?a.curr-y:1,l=i>1?function(){var p=a.curr+(e-y-1);return p>a.pages?a.pages:p}():e;for(l-r<e-1&&(r=l-e+1),a.first!==!1&&r>2&&n.push('<span class="layui-laypage-spr">&#x2026;</span>');r<=l;r++)r===a.curr?n.push('<span class="layui-laypage-curr"><em class="layui-laypage-em" '+(/^#/.test(a.theme)?'style="background-color:'+a.theme+';"':"")+"></em><em>"+r+"</em></span>"):n.push('<a href="javascript:;" data-page="'+r+'">'+r+"</a>");return a.pages>e&&a.pages>l&&a.last!==!1&&(l+1<a.pages&&n.push('<span class="layui-laypage-spr">&#x2026;</span>'),e!==0&&n.push('<a href="javascript:;" class="layui-laypage-last" title="&#x5C3E;&#x9875;"  data-page="'+a.pages+'">'+(a.last||a.pages)+"</a>")),n.join("")}(),next:function(){return a.next?'<a href="javascript:;" class="layui-laypage-next'+(a.curr==a.pages?" "+v:"")+'" data-page="'+(a.curr+1)+'">'+a.next+"</a>":""}(),count:'<span class="layui-laypage-count">\u5171 '+a.count+" \u6761</span>",limit:function(){var n=['<span class="layui-laypage-limits"><select lay-ignore>'];return layui.each(a.limits,function(y,r){n.push('<option value="'+r+'"'+(r===a.limit?"selected":"")+">"+r+" \u6761/\u9875</option>")}),n.join("")+"</select></span>"}(),refresh:['<a href="javascript:;" data-page="'+a.curr+'" class="layui-laypage-refresh">','<i class="layui-icon layui-icon-refresh"></i>',"</a>"].join(""),skip:function(){return['<span class="layui-laypage-skip">&#x5230;&#x7B2C;','<input type="text" min="1" value="'+a.curr+'" class="layui-input">','&#x9875;<button type="button" class="layui-laypage-btn">&#x786e;&#x5b9a;</button>',"</span>"].join("")}()};return['<div class="layui-box layui-laypage layui-laypage-'+(a.theme?/^#/.test(a.theme)?"molv":a.theme:"default")+'" id="layui-laypage-'+a.index+'">',function(){var n=[];return layui.each(a.layout,function(y,r){u[r]&&n.push(u[r])}),n.join("")}(),"</div>"].join("")},c.prototype.jump=function(t,a){if(t){var e=this,i=e.config,u=t.children,n=t[g]("button")[0],y=t[g]("input")[0],r=t[g]("select")[0],l=function(){var s=0|y.value.replace(/\s|\D/g,"");s&&(i.curr=s,e.render())};if(a)return l();for(var p=0,x=u.length;p<x;p++)u[p].nodeName.toLowerCase()==="a"&&o.on(u[p],"click",function(){var s=0|this.getAttribute("data-page");s<1||s>i.pages||(i.curr=s,e.render())});r&&o.on(r,"change",function(){var s=this.value;i.curr*s>i.count&&(i.curr=Math.ceil(i.count/s)),i.limit=s,e.render()}),n&&o.on(n,"click",function(){l()})}},c.prototype.skip=function(t){if(t){var a=this,e=t[g]("input")[0];e&&o.on(e,"keyup",function(i){var u=this.value,n=i.keyCode;/^(37|38|39|40)$/.test(n)||(/\D/.test(u)&&(this.value=u.replace(/\D/,"")),n===13&&a.jump(t,!0))})}},c.prototype.render=function(t){var a=this,e=a.config,i=a.type(),u=a.view();i===2?e.elem&&(e.elem.innerHTML=u):i===3?e.elem.html(u):f[h](e.elem)&&(f[h](e.elem).innerHTML=u),e.jump&&e.jump(e,t);var n=f[h]("layui-laypage-"+e.index);a.jump(n),e.hash&&!t&&(location.hash="!"+e.hash+"="+e.curr),a.skip(n)};var o={render:function(t){var a=new c(t);return a.index},index:layui.laypage?layui.laypage.index+1e4:0,on:function(t,a,e){return t.attachEvent?t.attachEvent("on"+a,function(i){i.target=i.srcElement,e.call(t,i)}):t.addEventListener(a,e,!1),this}};m(d,o)});
