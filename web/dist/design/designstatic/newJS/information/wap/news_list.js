(function(){Date.prototype.format=function(e){var a={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var s in a)new RegExp("("+s+")").test(e)&&(e=e.replace(RegExp.$1,RegExp.$1.length==1?a[s]:("00"+a[s]).substr((""+a[s]).length)));return e};var y=["\u9762\u8BAE","2\u5343\u4EE5\u4E0B","2-3\u5343","3-4.5\u5343","4.5-6\u5343","6-8\u5343","0.8-1\u4E07","1-1.5\u4E07","1.5-2\u4E07","2-3\u4E07","3-4\u4E07","5\u4E07\u4EE5\u4E0A"],I=["\u4E0D\u9650","1-2\u5E74","2-3\u5E74","3-5\u5E74","5\u5E74\u4EE5\u4E0A"],T=["\u4E0D\u9650","\u5C0F\u5B66","\u521D\u4E2D","\u9AD8\u4E2D","\u4E2D\u4E13","\u5927\u4E13","\u672C\u79D1","\u7855\u58EB","\u535A\u58EB","\u5176\u4ED6"],C=["\u4E0D\u9650","\u793E\u62DB","\u6821\u62DB"],b=["\u4E0D\u9650","\u5168\u804C","\u517C\u804C"],S,E,H,F,N,D,W,q,M,A,R="",k={init:function(){var e=this;e.peIde=e.getPar("typeId")?e.getPar("typeId"):"",e.busType=e.getPar("busType")?e.getPar("busType"):"",e.currentPage=1,e.pageSize=e.busType=="3"||e.busType=="8"||e.busType=="9"||e.busType=="10"?10:30,e.isLoadWare=!0,e.cityCode="",e.employFrom=void 0,e.employNature=void 0,e.employExp=void 0,e.employWage=void 0,e.firstClassify=[],e.cache={},e.$grid=e.busType=="3"||e.busType=="8"||e.busType=="9"||e.busType=="10"?$(".info").masonry({itemSelector:".companyphoto",gutter:20,isAnimated:!0,isResizeBound:!0}):null,e.isApp(),e.isScroll(),e.getHomepageList(),e.getListHomepageSetting(),e.bingEvent(),setTimeout(function(){e.settitle()},500)},settitle:function(){var e=this;if(window.location.origin.indexOf("pufay.cn")>-1){$("title").text("\u4FE1\u606F\u516C\u5F00");return}e.busType&&(e.busType=="0"?$("title").text("\u6587\u7AE0\u8D44\u8BAF"):e.busType=="1"?$("title").text("\u89C6\u9891\u5C55\u793A"):e.busType=="2"?$("title").text("\u4F01\u4E1A\u62DB\u8058"):e.busType=="3"?$("title").text("\u5F62\u8C61\u7167\u7247"):e.busType=="4"?$("title").text("\u5BA2\u6237\u95EE\u7B54"):e.busType=="5"?$("title").text("\u4E1A\u52A1\u767E\u79D1"):e.busType=="6"?$("title").text("\u4EA7\u54C1\u4ECB\u7ECD"):e.busType=="7"?$("title").text("\u6848\u4F8B\u5C55\u793A"):e.busType=="8"?$("title").text("\u5408\u4F5C\u4F19\u4F34"):e.busType=="9"?$("title").text("\u4F01\u4E1A\u8363\u8A89"):e.busType=="10"&&$("title").text("\u4F01\u4E1A\u8D44\u8D28"))},isApp:function(){var e=this;e.isSimplify=localStorage.appAdapt===!0||localStorage.appAdapt==="true",e.isSimplify?$("head").append("<style>.content>.foot{display: none; }</style>"):(document.write('<script type="text/javascript" charset="utf-8" src="/design/designstatic/home/js/getPage.js"></script>'),document.write('<script type="text/javascript" charset="utf-8" src="/design/designstatic/home/waphome/js/module.js"></script>'))},isScroll:function(){var e=this,a=$(window),s=$(".coursetit");e.isSimplify&&s.css("position","fixed"),a.scroll(function(){e.isSimplify||(a.scrollTop()>48?s.css("position","fixed"):s.css("position","relative")),e.isScrollLoad($(this))})},isScrollLoad:function(){var e=this,a=$(window).scrollTop(),s=$(document).height(),r=$(window).height(),t=a+r;t+700>=s&&e.isLoadWare&&(e.isLoadWare=!1,e.currentPage=e.currentPage+1,e.getHomepageList())},getHomepageList:function(e){var a=this,s=(a.peIde?a.peIde:"main")+a.keywords+"|"+a.currentPage,r=a.cache[s];$(".scrollBox .curs").removeClass("curs");var t=a.peIde||0;$(".scrollBox li[infotypeid="+t+"]").addClass("curs");var o=a.currentPage>1?"add":"";r&&!e?(a.isLoadWare=r.length==a.pageSize,a.renderList(r,o)):$.ajax({type:"GET",headers:{token:a.getCookie("token")},url:"/api/common/getHomepageList?projectid=41",contentType:"application/json",dataType:"json",data:{infoTypeId:a.peIde,keywords:a.keywords,currentPage:a.currentPage,pageSize:a.pageSize,infoType:a.busType,cityCode:a.cityCode||void 0,employFrom:a.employFrom,employNature:a.employNature,employExp:a.employExp,employWage:a.employWage},async:!0,success:function(i){if(i.success){var l=i.data.list,n=i.data.total;a.isLoadWare=a.currentPage*a.pageSize<n,a.renderList(l,o),a.cache[s]=l}else layer.open({content:i.message,skin:"msg",time:2})}})},renderList:function(e,a){for(var s=this,r=e,t="",o=$("body").width(),i=0,l=r.length;i<l;i++){var n=r[i].infoID,p=L(r[i].gmtModified),d=r[i].computerPicPath,B=r[i].infoType=="1",v=r[i]||{},P=v.isUrlInfo?(v.infoUrl||"").indexOf("http")<0?"//"+v.infoUrl:v.infoUrl||"":"",m=P||(location.port=="81"?"/pages/informationx.html?aid="+n:"/information/"+n+".shtml");if(s.busType=="3"||s.busType=="8"||s.busType=="9"||s.busType=="10"?(t+='<div class="companyphoto">',$(".info").addClass("company_wrapper")):t+='<div class="recomm">',d=="")t+='	<a class="alstr" href="'+m+'">',t+='		<h4 class="aretit">'+r[i].title.replace(/<script>/gi,g("<script>"))+"</h4>",s.busType=="2"&&(t+='		<h6 class="recruitmenth6">'+y[parseInt(r[i].employWage)]+"/\u6708</h6>");else{var c=d?JSON.parse(d):[];if(c.length==1){var u=c[0].sourcePath;t+='	<a class="adert" href="'+m+'">',t+='		<span class="tsers">'+r[i].title.replace(/<script>/gi,g("<script>"))+"</span>",t+='		<div class="tuimsg">',B&&(t+=' <div class="play"></div>'),t+='<img src="'+((window.cdnPath||"")+s.resetImgSrc(u))+'" data-errorcount="0" onerror="coverError(&quot'+u+'&quot)"></div>'}else if(c.length==2){var u=c[0].sourcePath,f=c[1].sourcePath;t+='	<a class="alstr" href="'+m+'">',t+='		<h4 class="aretit">'+r[i].title+"</h4>",t+='		<ul class="album">',o==375?t+="			<li class='ww375'>":o==320?t+="			<li class='ww320'>":t+="			<li>",t+='				<div class="assist">',t+='					<img src="'+((window.cdnPath||"")+s.resetImgSrc(u))+'" data-errorcount="0" onerror="coverError(&quot'+u+'&quot)">',t+="				</div>",t+="			</li>",o==375?t+="			<li class='ww375'>":o==320?t+="			<li class='ww320'>":t+="			<li>",t+='				<div class="assist">',t+='						<img src="'+((window.cdnPath||"")+s.resetImgSrc(f))+'" data-errorcount="0" onerror="coverError(&quot'+f+'&quot)">',t+="				</div>",t+="			</li>",t+="		</ul>"}else if(c.length==3){var u=c[0].sourcePath,f=c[1].sourcePath,x=c[2].sourcePath;t+='	<a class="alstr" href="'+m+'">',t+='		<h4 class="aretit">'+r[i].title+"</h4>",t+='		<ul class="album">',o==375?t+="			<li class='ww375'>":o==320?t+="			<li class='ww320'>":o==414?t+="			<li class='w414m7'>":t+="			<li>",t+='				<div class="assist">',t+='					<img src="'+((window.cdnPath||"")+s.resetImgSrc(u))+'" data-errorcount="0" onerror="coverError(&quot'+u+'&quot)">',t+="				</div>",t+="			</li>",o==375?t+="			<li class='ww375'>":o==320?t+="			<li class='ww320'>":t+="			<li>",t+='				<div class="assist">',t+='						<img src="'+((window.cdnPath||"")+s.resetImgSrc(f))+'" data-errorcount="0" onerror="coverError(&quot'+f+'&quot)">',t+="				</div>",t+="			</li>",o==375?t+="			<li class='ww375'>":o==320?t+="			<li class='ww320'>":t+="			<li>",t+='				<div class="assist">',t+='					<img src="'+((window.cdnPath||"")+s.resetImgSrc(x))+'" data-errorcount="0" onerror="coverError(&quot'+x+'&quot)">',t+="				</div>",t+="			</li>",t+="		</ul>"}}d&&JSON.parse(d).length==1?t+='		<p class="foter rfoter">':t+='		<p class="foter">',s.busType=="2"?(t+="<span>"+T[parseInt(r[i].employDegree)]+"</span>",t+="<span>"+I[parseInt(r[i].employExp)]+"\u5DE5\u4F5C\u7ECF\u9A8C</span>",t+="<span>"+C[parseInt(r[i].employFrom)]+"</span>",t+="<span>"+b[parseInt(r[i].employNature)]+"</span>",t+='			<span class="recruitmenttime">'+p+"</span>"):t+='			<span class="mstrre">'+p+"</span>",t+="		</p>",t+="	</a>",t+="</div>"}if($(".info .nodata").remove(),a=="add")s.busType=="3"||s.busType=="8"||s.busType=="9"||s.busType=="10"||$(".info").append(t);else if(r.length==0){if(s.$grid){var h=$(".info .companyphoto");s.$grid.masonry("remove",h).masonry("layout")}$(".info").html("<div class='nodata'></div>")}else if(s.busType=="3"||s.busType=="8"||s.busType=="9"||s.busType=="10"){var h=$(".info .companyphoto");s.$grid.masonry("remove",h).masonry("layout")}else $(".info").html(t);if(s.busType=="3"||s.busType=="8"||s.busType=="9"||s.busType=="10"){var w=$(t);s.$grid.append(w).masonry("appended",w),s.$grid.imagesLoaded().progress(function(){s.$grid.masonry("layout")})}},bingEvent:function(){var e=this;$(".saitan").on("click",function(){$(this).hasClass("close")?e.closeScreenLayer():e.openScreenLayer()}),$(".soledbtn").on("click",function(){e.openSearchLayer()}),$(".ch-search-okBtn").on("click",function(){e.keywords=$(".search_input").val(),e.currentPage=1,e.getHomepageList()}),$(".search_input").on("change",function(){$(".search_input").val().trim()?$(".clear-search-val").show():$(".clear-search-val").hide()}),$(".clear-search-val").on("click",function(){$(".search_input").val(""),$(".clear-search-val").hide(),e.keywords="",e.currentPage=1,e.getHomepageList()})},getListHomepageSetting:function(){var e=this;$.ajax({type:"GET",url:"/api/common/listHomepageSetting",contentType:"application/json",dataType:"json",data:{busType:e.busType||void 0},async:!0,success:function(a){e.listClassify=a.data,e.busType!="2"?e.renderFirstClassify():($(".coursetit .saitan").addClass("none"),$(".soledbtn").addClass("soledbtnshadow"),e.renderrecruitClassify(),e.rendercityCode(),e.renderemployNature(),e.renderemployFrom(),e.renderemployExp(),e.renderemployWage())}})},rendercityCode:function(){var e=this;$.ajax({type:"GET",url:"/api/common/getRecruitmentCityList",contentType:"application/json",dataType:"json",data:{},async:!0,success:function(a){if(a.success){var s="";s+='<ul level="0">';var r=a.data||[];if(r.length>0)for(var t=0;t<r.length;t++){var o=r[t];s+='<li class="" cityCode="'+o.areaCode+'" ><a href="javascript:void(0);">'+o.areaName+"</a></li>"}s+="</ul>",$(".maskcityCodeBox .classifyBox").html(s),$(".maskcityCodeBox .classifyBox ul li").on("click",function(){$(this).toggleClass("curs");var i=[];$(".maskcityCodeBox .classifyBox ul li.curs").each(function(l,n){var p=parseInt($(this).attr("cityCode"));p&&i.push(p)}),e.cityCode=i.join(),e.currentPage=1,e.getHomepageList("city")})}}})},renderemployNature:function(){var e=this,a="";a+='<ul level="0">',a+='<li class="curs" employNature="" ><a href="javascript:void(0);">\u5168\u90E8</a></li>',a+='<li class="" employNature="0" ><a href="javascript:void(0);">\u4E0D\u9650</a></li>',a+='<li class="" employNature="2" ><a href="javascript:void(0);">\u517C\u804C</a></li>',a+='<li class="" employNature="1" ><a href="javascript:void(0);">\u5168\u804C</a></li>',a+="</ul>",$(".maskclassifyreticBox .classifyBox").html(a),$(".maskclassifyreticBox .classifyBox ul li").on("click",function(){$(".maskclassifyreticBox .classifyBox ul li").removeClass("curs"),$(this).addClass("curs");var s=$(this).attr("employNature");e.employNature=s,e.currentPage=1,e.getHomepageList("city")})},renderemployExp:function(){var e=this,a="";a+='<ul level="0">',a+='<li class="curs" employExp="" ><a href="javascript:void(0);">\u5168\u90E8</a></li>',a+='<li class="" employExp="0" ><a href="javascript:void(0);">\u4E0D\u9650</a></li>',a+='<li class="" employExp="1" ><a href="javascript:void(0);">1-2\u5E74</a></li>',a+='<li class="" employExp="2" ><a href="javascript:void(0);">2-3\u5E74</a></li>',a+='<li class="" employExp="3" ><a href="javascript:void(0);">3-5\u5E74</a></li>',a+='<li class="" employExp="4" ><a href="javascript:void(0);">5\u5E74\u4EE5\u4E0A</a></li>',a+="</ul>",$(".maskemployExpBox .classifyBox").html(a),$(".maskemployExpBox .classifyBox ul li").on("click",function(){$(".maskemployExpBox .classifyBox ul li").removeClass("curs"),$(this).addClass("curs");var s=$(this).attr("employExp");e.employExp=s,e.currentPage=1,e.getHomepageList("city")})},renderemployFrom:function(){var e=this,a="";a+='<ul level="0">',a+='<li class="curs" employFrom="" ><a href="javascript:void(0);">\u5168\u90E8</a></li>',a+='<li class="" employFrom="0" ><a href="javascript:void(0);">\u4E0D\u9650</a></li>',a+='<li class="" employFrom="2" ><a href="javascript:void(0);">\u6821\u56ED\u62DB\u8058</a></li>',a+='<li class="" employFrom="1" ><a href="javascript:void(0);">\u793E\u4F1A\u62DB\u8058</a></li>',a+="</ul>",$(".maskemployFrom .classifyBox").html(a),$(".maskemployFrom .classifyBox ul li").on("click",function(){$(".maskemployFrom .classifyBox ul li").removeClass("curs"),$(this).addClass("curs");var s=$(this).attr("employFrom");e.employFrom=s,e.currentPage=1,e.getHomepageList("city")})},renderemployWage:function(){var e=this,a="";a+='<ul level="0">',a+='<li class="curs" employWage="" ><a href="javascript:void(0);">\u5168\u90E8</a></li>';for(var s=0;s<y.length;s++)a+='<li class="" employWage="'+s+'" ><a href="javascript:void(0);">'+y[s]+"</a></li>";a+="</ul>",$(".maskemployWageBox .classifyBox").html(a),$(".maskemployWageBox .classifyBox ul li").on("click",function(){$(".maskemployWageBox .classifyBox ul li").removeClass("curs"),$(this).addClass("curs");var r=$(this).attr("employWage");e.employWage=r,e.currentPage=1,e.getHomepageList("city")})},renderrecruitClassify:function(){var e=this,a="";a+='<li class="workPlace"><a href="javascript:void(0);">\u5DE5\u4F5C\u5730\u70B9</a><span class="arrow"></span></li>',a+='<li class="jobClass"><a href="javascript:void(0);">\u5C97\u4F4D\u5206\u7C7B</a><span class="arrow"></span></li>',a+='<li class="salary"><a href="javascript:void(0);">\u85AA\u8D44</a><span class="arrow"></span></li>',a+='<li class="experience"><a href="javascript:void(0);">\u7ECF\u9A8C</a><span class="arrow"></span></li>',a+='<li class="employNature"><a href="javascript:void(0);">\u5DE5\u4F5C\u6027\u8D28</a><span class="arrow"></span></li>',a+='<li class="employFrom"><a href="javascript:void(0);">\u62DB\u8058\u7C7B\u522B</a><span class="arrow"></span></li>';var s=$(".coursetit ul");s.html(a);var r=30*4+50,t=s.find("li");t.each(function(o){r+=t.eq(o).width()}),r<305&&(r=305),s.attr("comwidth",r),s.css("width",r+"px"),$(".scrollBox li").on("click",function(){}),$(".jobClass").on("click",function(){e.openScreenLayer()}),$(".workPlace").on("click",function(){var o=$(".coursetit");o.addClass("openscreen openthree");var i=$(".saitan");i.addClass("close")}),$(".employNature").on("click",function(){var o=$(".coursetit");o.addClass("openscreen opentwo");var i=$(".saitan");i.addClass("close")}),$(".employFrom").on("click",function(){var o=$(".coursetit");o.addClass("openscreen opensix");var i=$(".saitan");i.addClass("close")}),$(".experience").on("click",function(){var o=$(".coursetit");o.addClass("openscreen openfive");var i=$(".saitan");i.addClass("close")}),$(".salary").on("click",function(){var o=$(".coursetit");o.addClass("openscreen openfour");var i=$(".saitan");i.addClass("close")})},renderFirstClassify:function(){for(var e=this,a="",s=e.listClassify.length,r=0;r<s;r++){var t=e.listClassify[r];a+='<li infoTypeId="'+t.commonHomepageInfoTypeId+'"><a href="javascript:void(0);">'+t.typeName+"</a></li>"}var o=$(".coursetit ul");o.append(a);var i=30*s+50,l=o.find("li");l.each(function(n){i+=l.eq(n).width()}),i<305&&(i=305),o.attr("comwidth",i),o.css("width",i+"px"),$(".scrollBox li").on("click",function(){e.peIde=$(this).attr("infotypeid")=="0"?"":$(this).attr("infotypeid"),$(".maskclassifyBox ul[level=0]").length>0&&e.renderScreenLevel(1,e.peIde),e.currentPage=1,e.getHomepageList()})},openScreenLayer:function(){var e=this,a=$(".coursetit");a.addClass("openscreen openone");var s=$(".saitan");s.addClass("close"),e.bindLevelEvent(),e.renderScreenLevel(0,0)},closeScreenLayer:function(){var e=this,a=$(".coursetit");a.removeClass("openscreen openone opentwo openthree openfour openfour openfive opensix"),a.removeClass("opensearch");var s=$(".saitan");s.removeClass("close")},renderScreenLevel:function(e,a){var s=this,r=s.getListClassify(a),t=r.length,o=$(".maskclassifyBox .classifyBox ul");o.eq(e).length<1&&t>0?$(".maskclassifyBox .classifyBox").append("<ul level="+e+"></ul>"):o.eq(e).length<1&&o.eq(e).remove();for(var i=t>0?'<li class="'+(s.peIde&&!e?"":"curs")+'" infoTypeId="'+a+'"><a href="javascript:void(0);">\u5168\u90E8</a></li>':"",l=0;l<t;l++){var n=r[l];i+='<li class="'+(s.peIde==n.commonHomepageInfoTypeId&&!e?"curs":"")+'"  infoTypeId="'+n.commonHomepageInfoTypeId+'"><a href="javascript:void(0);">'+n.typeName+"</a></li>"}var p=$(".maskclassifyBox .classifyBox ul[level="+e+"]");p.html(i);var d=p.find("li")},bindLevelEvent:function(){var e=this,a=$(".maskclassifyBox .classifyBox");a.on("click","li",function(){var s=$(this).parent();s.find("li").removeClass("curs"),$(this).addClass("curs");var r=parseInt(s.attr("level"))+($(this).text()=="\u5168\u90E8"?0:1)||1,t=$(this).attr("infoTypeId");e.renderScreenLevel(r,t),e.peIde=t,e.getHomepageList()})},getListClassify:function(e){var a=this,s=a.listClassify,r=function(t,o){for(var i=0,l=o.length;i<l;i++){var n=o[i];if(n.commonHomepageInfoTypeId==t)return n.children||[];n.children&&r(t,n.children)}};return e?r(e,s)||[]:s},openSearchLayer:function(){var e=this,a=$(".coursetit");a.addClass("opensearch");var s=$(".saitan");s.addClass("close")},resetImgSrc:function(e){var a=e.replace(/([^.]*).([^.]*)$/g,"$1!medium.$2");return a},getPar:function(e){var a=document.location.href,s=a.indexOf(e+"=");if(s==-1)return!1;var r=a.slice(e.length+s+1),t=r.indexOf("&");return t!=-1&&(r=r.slice(0,t)),r},getCookie:function(e){for(var a=document.cookie,s=a.split("; "),r=0;r<s.length;r++){var t=s[r].split("=");if(t[0]==e)return t[1]}return""}};k.init();function L(e,a){if(new Date(parseInt(e))=="Invalid Date"&&new Date(parseInt(e)*1e3)=="Invalid Date")return"--";new Date(parseInt(a))=="Invalid Date"&&new Date(parseInt(a)*1e3)=="Invalid Date"&&(a=Date.parse(new Date));var s=a-e;if(s<0)return"\u521A\u521A";if(s<6e4)return parseInt(s/1e3,10)+"\u79D2\u524D";if(s<3600*1e3)return parseInt(s/1e3/60,10)+"\u5206\u949F\u524D";if(s<24*3600*1e3)return parseInt(s/1e3/3600,10)+"\u5C0F\u65F6\u524D";if(s<7*24*3600*1e3)return parseInt(s/1e3/3600/24,10)+"\u5929\u524D";if(s<30*24*3600*1e3)return parseInt(s/1e3/3600/24/7,10)+"\u5468\u524D";if(s<365*24*3600*1e3)return parseInt(s/1e3/3600/24/30,10)+"\u4E2A\u6708\u524D";var r=new Date(parseInt(e)),t=parseInt(r.getMonth()+1)<10?"0"+(r.getMonth()+1):r.getMonth()+1,o=parseInt(r.getDate())<10?"0"+r.getDate():r.getDate(),i=parseInt(r.getHours())<10?"0"+r.getHours():r.getHours(),l=parseInt(r.getMinutes())<10?"0"+r.getMinutes():r.getMinutes();return r.getFullYear()+"-"+t+"-"+o+" "+i+":"+l}function j(e){var a=event.target;parseInt(a.dataset.errorcount)==0?(a.setAttribute("data-errorcount",1),a.src=(window.cdnPath||"")+e):parseInt(a.dataset.errorcount)==1&&(a.setAttribute("data-errorcount",2),a.src=(window.cdnPath||"")+"/design/designstatic/common/image/information/defult.jpg")}function g(e){var a=document.createElement("div");return a.innerText?a.innerText=e:a.textContent=e,a.innerHTML}window.coverError=j})();
