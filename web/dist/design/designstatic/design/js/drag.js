$.fn.drag=function(u){var a,i=this,d=!1,l={},u=$.extend(l,u),f=localStorage.getItem("umi_locale")==="en-US"?"Drag the slider to the far right":"\u8BF7\u6309\u4F4F\u6ED1\u5757\uFF0C\u62D6\u52A8\u5230\u6700\u53F3\u8FB9",h='<div class="drag_bg"></div><div class="drag_text" onselectstart="return false;" unselectable="on">'+f+'</div><div class="handler handler_bg"></div>';this.append(h);var e=i.find(".handler"),o=i.find(".drag_bg"),g=i.find(".drag_text"),s=i.width()-e.width();e.mousedown(function(t){d=!0,a=t.pageX-parseInt(e.css("left"),10)}),$(document).mousemove(function(t){var n=t.pageX-a;d&&(n>0&&n<=s?(e.css({left:n}),o.css({width:n})):n>s&&(e.css({left:s}),o.css({width:s}),r()))}).mouseup(function(t){d=!1;var n=t.pageX-a;n<s&&(e.css({left:0}),o.css({width:0}))}),e.on("touchstart",function(t){t.preventDefault();const n=t.originalEvent.targetTouches[0];d=!0,a=n.pageX-parseInt(e.css("left"),10)}),$(document).on("touchmove",function(t){t.preventDefault();var c=t.originalEvent.targetTouches[0].pageX-a;d&&(c>0&&c<=s?(e.css({left:c}),o.css({width:c})):c>s&&(e.css({left:s}),o.css({width:s}),r()))}),$(document).on("touchend",function(t){const n=t.originalEvent.changedTouches[0];d=!1;var c=n.pageX-a;c<s&&(e.css({left:0}),o.css({width:0}))}),$(document).on("touchcancel",function(t){e.css({left:0}),o.css({width:0})});function r(){e.removeClass("handler_bg").addClass("handler_ok_bg"),g.text(localStorage.getItem("umi_locale")==="en-US"?"Successful verification":"\u9A8C\u8BC1\u901A\u8FC7"),i.css({color:"#fff"}),e.unbind("mousedown"),e.unbind("touchstart"),$(document).unbind("mousemove"),$(document).unbind("touchmove"),$(document).unbind("mouseup"),$(document).unbind("touchend"),$(document).unbind("touchcancel")}};
