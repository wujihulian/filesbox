(function(c,u){"use strict";typeof module=="object"&&typeof module.exports=="object"?module.exports=c.document?u(c,!0):function(o){if(!o.document)throw new Error("Page requires a window with a document");return u(o)}:u(c)})(typeof window!="undefined"?window:this,function(c,u){function o(t){t=t||{},this.el=t.el,this.nums=t.nums,this.counts=t.counts||10,this.parent=document.querySelector(this.el),this.parent.classList.add("page-elem-field-root"),this.parentNode=document.createElement("div"),this.parent.appendChild(this.parentNode),this.defaultPage=Number(t.defaultPage)||1,this.jumpToOrder=!!t.jumpToOrder,this.showNowAndAll=!!t.showNowAndAll,this.showHeadFoot=!!t.showHeadFoot,this.head=t.head||"\u9996\u9875",this.foot=t.foot||"\u5C3E\u9875",this.prev="&lt;",this.next="&gt;",this.headfoot=[],this.div=t.div||"div",this.domList=[],this.showDomList=[];var e=this;function s(){t.clickEvent&&typeof t.clickEvent=="function"&&t.clickEvent(e.currect,e)}this.clickEvent=s,this.init()}return o.prototype={init:function(){this.setPages(),this.createDom(),this.showDom(),this.watcherCurrect(),this.watcherPages(),this.watcherNums(),this.watcherCounts(),this.addDom(),this.reanderHeadFoot(),this.jumpToOrderPage(),this.showNowAndAllPage()},setPages:function(){this.last=this.nums%this.counts,this.pages=parseInt(this.nums/this.counts),this.last!=0&&this.pages++},showNowAndAllPage:function(){if(this.showNowAndAll){var t=document.createElement("div"),e=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div");t.classList.add("pagesbox"),e.classList.add("allPages"),s.classList.add("currectPage"),i.classList.add("line"),s.innerText=this.currect,e.innerText=this.pages,i.innerText="/",t.appendChild(s),t.appendChild(i),t.appendChild(e),this.parent.appendChild(t),this.showNowAndAllPageDom={pagesbox:t,allPages:e,currectPage:s,line:i}}},jumpToOrderPage:function(){if(this.jumpToOrder){var t=document.createElement("div"),e=document.createElement("div"),s=document.createElement("input");t.classList.add("toPage"),e.classList.add("inputBox"),s.classList.add("inputborder"),s.type="text",s.value=this.currect,this.addEventForInput(s),e.appendChild(s),t.appendChild(e),this.parent.appendChild(t),this.jumpToOrderPageDom={toPage:t,input:s,inputBox:e}}},addEventForInput:function(t,e){var s=this;t.addEventListener("change",function(i){var r=i.target.value;r>s.pages?r=s.pages:r<1&&(r=1),s.currect=r,this.value=r})},updateCurrectAndOrderBox:function(t){this.jumpToOrder&&(this.jumpToOrderPageDom.input.value=t),this.showNowAndAll&&(this.showNowAndAllPageDom.currectPage.innerText=t)},reanderHeadFoot:function(){if(!!this.showHeadFoot){this.headfoot=[];var t=this.div,e=document.createElement(t),s=document.createElement(t);e.innerHTML=this.head,e.classList.add("item"),e.classList.add("head"),s.innerHTML=this.foot,s.classList.add("item"),s.classList.add("foot"),this.headfoot.push(e),this.headfoot.push(s),this.parentNode.insertBefore(e,this.parentNode.firstChild),this.parentNode.appendChild(s),this.addEventHeadFoot(),this.headFootDisable()}},headFootDisable:function(){this.currect===1&&this.headfoot[0].classList.add("item-disable"),this.currect===this.pages&&this.headfoot[1].classList.add("item-disable")},addEventHeadFoot:function(){var t=this;this.headfoot[0].addEventListener("click",function(){t.currect!=1&&(t.currect=1)}),this.headfoot[1].addEventListener("click",function(){t.currect!=t.pages&&(t.currect=t.pages)})},createDom:function(){var t=this.div,e=this.domList=[],s=document.createElement(t),i=document.createElement(t);s.innerHTML=this.prev,s.classList.add("item"),i.innerHTML=this.next,i.classList.add("item"),e[0]=s;for(var r=this.pages,a=0;a<r;a++){var d=document.createElement(t);d.classList.add("item"),d.innerHTML=a+1,e[a+1]=d}return e.push(i),e},showDom:function(){var t=this.domList,e=t.length,s=this.showDomList=[],i=this.defaultPage;if(e<=12)for(var r=0;r<e;r++)s[r]=t[r];else{var a=i-6<0?0:i-6,d=this.pages-i;d<5&&(a=this.pages-10),s[0]=t[0];for(var r=1;r<11;r++)s[r]=t[r+a];s[r]=t[e-1]}return s},addDom:function(){this.parentNode.innerHTML="",this.parentNode.classList.add("page-elem-field"),this.addAndRemoveClass(),this.addEvent();for(var t=document.createDocumentFragment(),e=this.showDomList,s=e.length,i=0;i<s;i++)t.appendChild(e[i]);this.parentNode.appendChild(t)},addEvent:function(){for(var t=this.domList,e=t.length,s=0;s<e;s++)t[s].addEventListener("click",this.jump.bind(t[s],this))},jump:function(e){var s=this.innerHTML;s==e.prev&&e.currect==1||s==e.next&&e.currect==e.pages||s==e.currect||(s==e.prev&&e.currect>1?e.currect--:s==e.next&&e.currect<e.pages?e.currect++:s!=e.prev&&s!=e.next&&(e.currect=Number(s)))},addAndRemoveClass:function(){var t=this.domList;this.currect===1&&t[0].classList.add("item-disable"),this.currect===this.pages&&t[t.length-1].classList.add("item-disable"),t[this.currect].classList.add("active")},activeCurrectItem:function(t){var e=this.domList;e[t].classList.add("active"),e[0].classList.remove("item-disable"),e[e.length-1].classList.remove("item-disable"),this.showHeadFoot&&(this.headfoot[0].classList.remove("item-disable"),this.headfoot[1].classList.remove("item-disable")),t==1&&(e[0].classList.add("item-disable"),this.showHeadFoot&&this.headfoot[0].classList.add("item-disable")),t==this.pages&&(e[e.length-1].classList.add("item-disable"),this.showHeadFoot&&this.headfoot[1].classList.add("item-disable"))},moveDom:function(t,e){var s=this.domList,i=this.showDomList,r=t-e,a=0;if(r>5){a=r-5;var d=Number(i[i.length-2].innerHTML),l=this.pages-d;if(l>0&&a>0){for(var h=Math.min(l,a),n=0;n<h;n++)i.splice(i.length-1,0,s[d+n+1]),this.parentNode.insertBefore(s[d+n+1],i[i.length-1]),this.parentNode.removeChild(i[n+1]);i.splice(1,h)}}if(r<=5&&e!=1){t<=5?a=e-1:a=5-r;for(var h=a,n=0;n<h;n++)this.parentNode.insertBefore(s[e-n-1],i[1]),this.parentNode.removeChild(i[i.length-2-n]),i.splice(1,0,s[e-n-1]);i.splice(i.length-1-h,h)}return e=Number(i[1].innerHTML),e},watcherNums:function(){var t=this.nums;Object.defineProperty(this,"nums",{enumerable:!0,configrable:!1,set:function(e){if(typeof e!="number"||isNaN(e))return console.error("\u4E0D\u662F\u6570\u5B57");e<=0||t===e||(t=e,this.setPages())},get:function(){return t}})},watcherCounts:function(){var t=this.counts;Object.defineProperty(this,"counts",{enumerable:!0,configrable:!1,set:function(e){if(typeof e!="number"||isNaN(e))return console.error("\u4E0D\u662F\u6570\u5B57");e<=0||t===e||(t=e,this.setPages())},get:function(){return t}})},watcherPages:function(){var t=this.pages;Object.defineProperty(this,"pages",{enumerable:!0,configrable:!1,set:function(e){if(typeof e!="number"||isNaN(e))return console.error("\u4E0D\u662F\u6570\u5B57");e<=0||t===e||(t=e,this.currect>t&&(this.currect=t),this.createDom(),this.showDom(),this.addDom(),this.reanderHeadFoot(),this.showNowAndAllPageDom.allPages.innerText=t)},get:function(){return t}})},watcherCurrect:function(){var t=this.defaultPage,e=this.domList,s=this.showDomList,i=Number(s[1].innerHTML);Object.defineProperty(this,"currect",{enumerable:!0,configrable:!1,set:function(r){e=this.domList,e[t].classList.remove("active"),t=r,this.clickEvent(t,this),this.updateCurrectAndOrderBox(t),i=this.moveDom(t,i),this.activeCurrectItem(t)},get:function(){return t}})}},o.prototype.constructor=o,typeof u=="undefined"&&(c.Page=o),o});
