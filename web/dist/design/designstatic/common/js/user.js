var Ce=(r,f,n)=>new Promise((t,i)=>{var e=o=>{try{a(n.next(o))}catch(d){i(d)}},s=o=>{try{a(n.throw(o))}catch(d){i(d)}},a=o=>o.done?t(o.value):Promise.resolve(o.value).then(e,s);a((n=n.apply(r,f)).next())});(function(r,f){setTimeout(function(){},1e3),window.tsnfors=getPar("targetServerNameForOverride")||getPar("host")?"?targetServerNameForOverride="+(getPar("targetServerNameForOverride")||getPar("host")):"",f.user={getQueryRetailId:function(n){for(var t=window.location.search.substring(1),i=t.split("&"),e=0;e<i.length;e++){var s=i[e];if(s.indexOf("diliater=")==0)return n?s.replace(/diliater=/,""):decrypt(s.replace(/diliater=/,"")).split(",")}return""},saveRetailId:function(){var n=this,t=location.origin||location.protocol+"//"+location.host,i=location.pathname;if(n.getQueryRetailId(!0))window.localStorage.encryptId=n.getQueryRetailId(!0),window.sessionStorage.encryptId=n.getQueryRetailId(!0);else if(location.href.indexOf("myroom")<0&&location.href.indexOf("aroom")<0&&location.href.indexOf("/views/")<0&&location.href.indexOf("/pay/")<0){var e=n.clearRetailId(location.search),s=window.localStorage.encryptId||window.sessionStorage.encryptId,a=t+i+(s?e?e+"&diliater="+s:"?diliater="+s:e);history.replaceState?history.replaceState({},"",a):location.href!=a&&(location.href=a)}},clearRetailId:function(n){for(var t=n.split("&"),i="",e=0,s=t.length;e<s;e++){var a=t[e];a.indexOf("?diliater=")>-1?e+1!==s&&(i+="?"):a.indexOf("diliater=")==0||(i+=i&&i!="?"?"&"+a:a)}return i},createRetailId:function(n){for(var t=this,i=location.origin||location.protocol+"//"+location.host,e=location.pathname,s=n.userId,a=t.getQueryRetailId()||decrypt&&(window.localStorage.encryptId||window.sessionStorage.encryptId)&&decrypt(window.localStorage.encryptId||window.sessionStorage.encryptId).split(",")||[],o=s?[s]:[],d=0,l=a.length;d<l;d++){var p=a[d];p&&s!=p&&o.length<4&&o.push(p)}var v=encrypt(o.join(","));window.localStorage.encryptId=v,window.sessionStorage.encryptId=v;var h=t.clearRetailId(location.search),m=i+e+(h?h+"&diliater="+v:"?diliater="+v);location.href.indexOf("myroom")<0&&location.href.indexOf("aroom")<0&&location.href.indexOf("/views/")<0&&location.href.indexOf("/pay/")<0&&(history.replaceState?history.replaceState({},"",m):location.href!=m&&(location.href=m))},funcUrlDel:function(n){var t=window.location,i=t.origin+t.pathname+"?",e=t.search.substr(1);if(e.indexOf(n)>-1){for(var s={},a=e.split("&"),o=0;o<a.length;o++)a[o]=a[o].split("="),s[a[o][0]]=a[o][1];delete s[n];var d=i+JSON.stringify(s).replace(/[\"\{\}]/g,"").replace(/\:/g,"=").replace(/\,/g,"&");return d}},clearUrlRetailId:function(){var n=this;window.localStorage.encryptId="",window.sessionStorage.encryptId="";var t=n.funcUrlDel("diliater");t&&(history.replaceState?history.replaceState("","",t):location.href=t)},isRetailId:function(){var n=0,t=getPar("sceneId")||"",i=getPar("sceneType")?getPar("sceneType"):0;if(window.roominfo&&window.CryptoJS){n=1;var e=window.roominfo;t&&i=="1",n=2}return n},getAjaxRoomInfo:function(n){var t=this;r.ajax({type:"get",url:"/api/disk/home"+window.tsnfors,dataType:"json",success:function(i){i.success&&(window.roominfo=i.data,n&&n())}})},getDressUpCouponShareList:function(n,t){var i=this;r.ajax({type:"get",headers:{token:getCookie("token")},url:"/api/order/vip/getDressUpCouponShareList"+window.tsnfors,dataType:"json",data:n,success:function(e){e.success?t&&t(e,n):layer.alert(e.message)}})},getShareCoupon:function(n,t){var i=this;r.ajax({type:"get",headers:{token:getCookie("token")},url:"/api/coupon/shareCoupon"+window.tsnfors,dataType:"json",data:n,success:function(e){t&&t(e)}})},getCdkey:function(n,t){var i=this;r.ajax({type:"post",headers:{token:getCookie("token")},url:"/api/coupon/getCdkey"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(n),success:function(e){t&&t(e)}})},isLogin:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0;var e=this,s=getPar("redirectUrl")||"";r.ajax({type:"get",headers:{token:getCookie("token")},url:"/api/disk/options"+window.tsnfors,contentType:"application/json",dataType:"json",success:function(a){f.ajaxSend=!1,a.success&&(f.user.useInfo=a.data,s&&(location.href=s)),n&&n(a)},error:function(a){f.ajaxSend=!1,t&&t(res)}})},login:function(n,t,i,e){var s={},a=navigator.userAgent.toLowerCase(),o;(o=a.match(/msie/))?s.msie=o[0]:(o=a.match(/trident/))?s.trident=o[0]:(o=a.match(/edge/))?s.chrome=o[0]:(o=a.match(/firefox/))?s.firefox=o[0]:(o=a.match(/360/))||(o=a.match(/metasr/))||(o=a.match(/ubrowser/))||(o=a.match(/qqbrowser/))||(o=a.match(/chrome/))?s.chrome=o[0]:(o=a.match(/safari/))&&(s.safari=o[0]);try{myextension&&(o[0]="xxBrowser")}catch(d){}if(o||(o=["otherBrowser"]),o[0]=="trident"||o[0]=="msie"?o[0]="Internet Explorer":o[0]=="edge"?o[0]="Microsoft Edge":o[0]=="metasr"?o[0]="metasr":o[0]=="chrome"?o[0]="Chrome":o[0]=="firefox"?o[0]="Firefox":o[0]=="safari"?o[0]="Safari":o[0]=="ubrowser"&&(o[0]="Uc"),f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"post",headers:{resolution:window.screen.width+"*"+window.screen.height,browsername:o[0]},url:"/api/disk/login"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify({encrypted:!!window.CryptoJS,isGraphicCode:0,name:n,password:window.CryptoJS?encrypt(t):t}),success:function(d){f.ajaxSend=!1,i&&i(d),d.success||localStorage.removeItem("isSaveAPWordKey")},error:function(d){f.ajaxSend=!1,e&&e(d)}})},newLogin:function(n,t,i){var e={},s=navigator.userAgent.toLowerCase(),a;(a=s.match(/msie/))?e.msie=a[0]:(a=s.match(/trident/))?e.trident=a[0]:(a=s.match(/edge/))?e.chrome=a[0]:(a=s.match(/firefox/))?e.firefox=a[0]:(a=s.match(/360/))||(a=s.match(/metasr/))||(a=s.match(/ubrowser/))||(a=s.match(/qqbrowser/))||(a=s.match(/chrome/))?e.chrome=a[0]:(a=s.match(/safari/))&&(e.safari=a[0]);try{myextension&&(a[0]="xxBrowser")}catch(o){}if(a||(a=["otherBrowser"]),a[0]=="trident"||a[0]=="msie"?a[0]="Internet Explorer":a[0]=="edge"?a[0]="Microsoft Edge":a[0]=="metasr"?a[0]="metasr":a[0]=="chrome"?a[0]="Chrome":a[0]=="firefox"?a[0]="Firefox":a[0]=="safari"?a[0]="Safari":a[0]=="ubrowser"&&(a[0]="Uc"),f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"post",headers:{resolution:window.screen.width+"*"+window.screen.height,browsername:a[0]},url:"/api/disk/login"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(n),success:function(o){f.ajaxSend=!1,t&&t(o),o.success||localStorage.removeItem("isSaveAPWordKey")},error:function(o){f.ajaxSend=!1,i&&i(o)}})},mobileLogin:function(n,t,i){var e=this;if(f.ajaxSend)return!1;f.ajaxSend=!0,n.sourceChannel=getPagesFrom();var s=e.getchannel();n.ip=s.ip,n.channel=s.channel,n.sourceJson=s.sourceJson,n.clueSourceType=s.sourceType,n.sourceId=s.sourceId,n.gmtStart=s.gmtStart,n.shareUserId=s.shareUserId,n.pvid=s.pvid,n.uvcid=s.uvcid,r.ajax({type:"get",url:"/api/user/mobileLogin"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:n,success:function(a){f.ajaxSend=!1,t&&t(a)},error:function(a){f.ajaxSend=!1,i&&i(a)}})},getTopFiveSchoolNames:function(n){var t=this;if(t.TopFiveSchoolName)return n&&n(t.TopFiveSchoolName),!1;if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"get",url:"/api/user/getTopFiveSchoolNames"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",success:function(i){f.ajaxSend=!1,t.TopFiveSchoolName=i,n&&n(i)},error:function(i){f.ajaxSend=!1,catchback&&catchback(i)}})},searchRegisterSchoolNames:function(n,t){if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"get",url:"/api/user/searchRegisterSchoolNames"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:{keyword:n},success:function(i){f.ajaxSend=!1,t&&t(i)},error:function(i){f.ajaxSend=!1,catchback&&catchback(i)}})},loginout:function(n,t){var i=this;if(f.ajaxSend)return!1;f.ajaxSend=!0;var e=getCookie("token"),s=getCookie("stoken"),a=getCookie("atoken");e==s&&(setCookie("atoken",""),setCookie("stoken",a)),r.ajax({type:"get",headers:{token:e,stoken:getCookie("stoken")},url:"/api/disk/logout"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",success:function(o){f.ajaxSend=!1,i.clearUrlRetailId(),localStorage.removeItem("isSaveAPWordKey"),n&&n(o)},error:function(o){f.ajaxSend=!1,t&&t(o)}})},checkLoginName:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"get",url:"/api/user/checkLoginName"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:{loginName:n},success:function(e){f.ajaxSend=!1,t&&t(e)},error:function(e){f.ajaxSend=!1,i&&i(e)}})},sendRegisterOrLogin:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"post",url:"/api/school/sendRegisterOrLogin"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify({mobilePhone:n}),success:function(e){if(f.ajaxSend=!1,(!e.success&&parseInt(e.code)==601||!e.success&&parseInt(e.code)==400)&&layer.msg("\u53D1\u9001\u9A8C\u8BC1\u7801\u5931\u8D25, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",{icon:5}),!e.success)switch(e.message?e.message.split("Permits:")[1]:""){case"2":e.message="1\u5206\u949F\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5";break;case"5":e.message="1\u5C0F\u65F6\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5";break;case"20":e.message="\u5F53\u5929\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u660E\u5929\u518D\u8BD5";break}t&&t(e)},error:function(e){f.ajaxSend=!1,i&&i(e)}})},sendRegisterVerify:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"post",url:"/api/school/sendRegisterVerify"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify({mobilePhone:n}),success:function(e){if(f.ajaxSend=!1,(!e.success&&parseInt(e.code)==601||!e.success&&parseInt(e.code)==400)&&layer.msg("\u53D1\u9001\u9A8C\u8BC1\u7801\u5931\u8D25, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",{icon:5}),!e.success)switch(e.message?e.message.split("Permits:")[1]:""){case"2":e.message="1\u5206\u949F\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5";break;case"5":e.message="1\u5C0F\u65F6\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5";break;case"20":e.message="\u5F53\u5929\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u660E\u5929\u518D\u8BD5";break}t&&t(e)},error:function(e){f.ajaxSend=!1,i&&i(e)}})},sendRegisterBySchool:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"post",url:"/api/school/sendRegisterBySchool"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify({mobilePhone:n}),success:function(e){if(f.ajaxSend=!1,(!e.success&&parseInt(e.code)==601||!e.success&&parseInt(e.code)==400)&&layer.msg("\u53D1\u9001\u9A8C\u8BC1\u7801\u5931\u8D25, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",{icon:5}),!e.success)switch(e.message?e.message.split("Permits:")[1]:""){case"2":e.message="1\u5206\u949F\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5";break;case"5":e.message="1\u5C0F\u65F6\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5";break;case"20":e.message="\u5F53\u5929\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u660E\u5929\u518D\u8BD5";break}t&&t(e)},error:function(e){f.ajaxSend=!1,i&&i(e)}})},sendVerificationCode:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0;var e={mobilePhone:n.detail||""};r.ajax({type:"post",url:"/api/school/sendforgetPassword"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(e),success:function(s){if(f.ajaxSend=!1,(!s.success&&parseInt(s.code)==601||!s.success&&parseInt(s.code)==400)&&layer.msg("\u53D1\u9001\u9A8C\u8BC1\u7801\u5931\u8D25, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",{icon:5}),!s.success)switch(s.message?s.message.split("Permits:")[1]:""){case"2":s.message="1\u5206\u949F\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5";break;case"5":s.message="1\u5C0F\u65F6\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5";break;case"20":s.message="\u5F53\u5929\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u660E\u5929\u518D\u8BD5";break}t&&t(s)},error:function(s){f.ajaxSend=!1,i&&i(s)}})},checkVerificationCode:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"post",url:"/api/user/checkVerificationCode"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(n),success:function(e){if(f.ajaxSend=!1,(!e.success&&parseInt(e.code)==601||!e.success&&parseInt(e.code)==400)&&layer.msg("\u53D1\u9001\u9A8C\u8BC1\u7801\u5931\u8D25, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",{icon:5}),!e.success)switch(e.message?e.message.split("Permits:")[1]:""){case"2":e.message="1\u5206\u949F\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5";break;case"5":e.message="1\u5C0F\u65F6\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5";break;case"20":e.message="\u5F53\u5929\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u660E\u5929\u518D\u8BD5";break}t&&t(e)},error:function(e){f.ajaxSend=!1,i&&i(e)}})},ajaxSetPwd:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"put",url:"/api/user/setPwd"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(n),success:function(e){f.ajaxSend=!1,t&&t(e)},error:function(e){f.ajaxSend=!1,i&&i(e)}})},ajaxRegister:function(n,t,i){var e=this;if(f.ajaxSend)return!1;f.ajaxSend=!0,n.sourceChannel=getPagesFrom();var s=e.getchannel();n.ip=s.ip,n.channel=s.channel,n.sourceJson=s.sourceJson,n.clueSourceType=s.sourceType,n.sourceId=s.sourceId,n.gmtStart=s.gmtStart,n.shareUserId=s.shareUserId,n.pvid=s.pvid,n.uvcid=s.uvcid,r.ajax({type:"post",url:n.captchaInput?"/api/user/userRegister"+window.tsnfors:"/api/user/register"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(n),success:function(a){f.ajaxSend=!1,t&&t(a)},error:function(a){f.ajaxSend=!1,i&&i(a)}})},addClientSchool:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"post",url:"/api/school/addClientSchool"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(n),success:function(e){f.ajaxSend=!1,t&&t(e)},error:function(e){f.ajaxSend=!1,i&&i(e)}})},checkLoginNameExist:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"get",url:"/api/user/checkLoginNameExist"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:n,success:function(e){f.ajaxSend=!1,t&&t(e)},error:function(e){f.ajaxSend=!1,i&&i(e)}})},checkPhoneExists:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"get",url:"/api/user/phone/check"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:n,success:function(e){f.ajaxSend=!1,t&&t(e)},error:function(e){f.ajaxSend=!1,i&&i(e)}})},addClientSchoolCheck:function(n,t){r.ajax({type:"post",url:" /api/school/addClientSchoolCheck",contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(n),success:function(i){f.ajaxSend=!1,t&&t(i)},error:function(i){f.ajaxSend=!1,catchback&&catchback(i)}})},getchannel:function(){var n=sessionStorage.getItem("cluechannel")?JSON.parse(sessionStorage.getItem("cluechannel")):{},t=sessionStorage.getItem("sourceip");return n.ip=t||"",n.uvcid=localStorage.uvcid||"",n.pvid=sessionStorage.getItem("pvid")||"",n},getRefereeId:function(){var n=this,t=window.roominfo&&parseInt(roominfo==null?void 0:roominfo.refereeState)==0,i=n.getQueryRetailId(),e=new Base64,s=t?void 0:Array.isArray(i)?e.encode(encrypt(i[0])):void 0;return s},getCouponShareId:function(){var n=void 0;if(window.decrypt&&localStorage.encryptId){var t=window.decrypt(localStorage.encryptId).split(",");t.length>1&&(n=t[1])}var i=new Base64;return i.encode(encrypt(n))},qrcodeloginWeChat:function(n,t){var i=layer.open({type:1,title:"",skin:"layui-layer-antd nohasbtn",closeBtn:1,anim:2,area:"375px 310px",scrollbar:!1,shadeClose:!1,cancel:function(e,s){layer.close(i)},end:function(){r("html, body").css({overflow:"visible",height:"auto"})},success:function(e){var s=r(e);r.ajax({type:"get",url:"/api/wechat/data",contentType:"application/json;charset=utf-8",dataType:"json",data:{type:"2"},success:function(a){const{appId:o,sig:d}=a,l=`https://dev.filesbox.cn/wechat_login.html?&cdnPath=${window.location.origin}&sig=${d}`,p="cn";new window.WxLogin({id:"wechatLogin",appid:o,scope:"snsapi_login,snsapi_userinfo",self_redirect:!0,redirect_uri:encodeURIComponent(l),state:"xxxx",lang:p})},error:function(a){}})},content:'<div class="qrcodedingding" style="padding-bottom:20px;"><div id="wechatLogin" style="width:312px;height:416x;" class="wechatLoginBox"></div></div>'})},qrcodeloginenWeChat:function(n,t){var i=layer.open({type:1,title:"",skin:"layui-layer-antd nohasbtn",closeBtn:1,anim:2,area:"375px 310px",scrollbar:!1,shadeClose:!1,cancel:function(e,s){layer.close(i)},end:function(){r("html, body").css({overflow:"visible",height:"auto"})},success:function(e){var s=r(e);r.ajax({type:"get",url:"/api/wechat/data",contentType:"application/json;charset=utf-8",dataType:"json",data:{type:"7"},success:function(a){const{sig:o,agentId:d}=a,l=`${location.origin}/enwechat_login.html?sig=${o}`,p="zh";new window.WwLogin({id:"wwLogin",login_type:"CorpApp",appid:"ww2d1e9bafb529c21f",agentid:d,self_redirect:!0,redirect_uri:encodeURIComponent(l),state:"STATE",lang:p})},error:function(a){}})},content:'<div class="qrcodedingding" style="padding-bottom:20px;"><div id="wwLogin" style="width:312px;height:416x;" class="wwLoginBox"></div></div>'})},qrcodelogindingding:function(n,t){var i=layer.open({type:1,title:"",skin:"layui-layer-antd nohasbtn",closeBtn:1,anim:2,area:"375px 310px",scrollbar:!1,shadeClose:!1,cancel:function(e,s){layer.close(i)},end:function(){r("html, body").css({overflow:"visible",height:"auto"})},success:function(e){var s=r(e),a="",o=`${location.origin}/api/ding/login/callback`,d=window.roominfo;window.DTFrameLogin({id:"dingLogin",width:280,height:280},{redirect_uri:encodeURIComponent(o),client_id:d.dingClientId,scope:"openid",response_type:"code",state:"dddd",prompt:"consent"},l=>Ce(this,null,function*(){const{authCode:p}=l;p===a||localStorage.getItem("dingAccess")=="1"||(a=p,r.ajax({type:"get",url:"/api/ding/login/callback",contentType:"application/json;charset=utf-8",dataType:"json",data:{authCode:p,state:"dddd"},success:function(v){const{data:h={}}=v;h.token&&(setCookie("token",h.token),window.location.reload())},error:function(v){}}))}),l=>{})},content:'<div class="qrcodedingding" style="padding-bottom:20px;"><div id="dingLogin" style="width:280px;height:280px;" class="dingLoginBox"></div><div style="text-align:center;" >\u4F7F\u7528\u9489\u9489\u626B\u7801\u767B\u5F55</div></div>'})},qrcodeloginapp:function(n,t){var i=this,e=layer.open({type:1,title:"",skin:"layui-layer-antd nohasbtn",closeBtn:1,anim:2,area:"375px 310px",scrollbar:!1,shadeClose:!1,cancel:function(s,a){i.websocket&&i.websocket.close(),layer.close(e)},end:function(){r("html, body").css({overflow:"visible",height:"auto"})},success:function(s){var a=r(s),o=a.find(".appLoginBox");i.qrcodeBox=o,i.getQrCodeLoginUrl(function(d){o.html(""),o.qrcode(d.data.qrUrl)})},content:'<div class="qrcodedingding" style="padding-bottom:20px;"><div id="appLogin" style="width:256px;height:256px;margin:24px" class="appLoginBox"></div><div style="text-align:center;" >\u4F7F\u7528FilesBox App\u626B\u4E00\u626B\u767B\u5F55</div></div>'})},dialogBtnx:function(n){var t=this,i=n.data||{},e=layer.open({type:1,title:"",skin:"layui-layer-antd nohasbtn",closeBtn:1,anim:2,area:"1000px 710px",scrollbar:!1,shadeClose:!1,cancel:function(s,a){t.websocket&&t.websocket.close(),layer.close(e)},end:function(){r("html, body").css({overflow:"visible",height:"auto"})},success:function(s){var a=r(s)},content:'<div class="dialogbox" style="padding-bottom:0px;width:1000px;height:660px;"><iframe  width="100%"  height="100%"  src="'+i.url+'" allowtransparency="true" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" frameborder="0" scrolling="no" ></iframe></div>'})},loginWeChat:function(n,t){var i=this,e=i.getchannel();e.refereeId=i.getRefereeId(),e.sourceChannel=getPagesFrom(),e.clueSourceType=e.sourceType,delete e.sourceType;var s=window.roominfo||{};s.schoolType=="2"?r.ajax({type:"post",url:"/api/user/wechat/miniApp/auth/gen"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify({clientCode:"pc",page:"packageC/pages/web-login/web-login",useScene:"login"}),success:function(a){if(a.success){var o=a.data||{},d=o.base64Image||"";i.genkey=o.key||"",layer.open({type:1,title:"",skin:"layui-layer-antd nohasbtn",closeBtn:1,anim:2,area:"375px 310px",scrollbar:!1,shadeClose:!1,cancel:function(l,p){i.resultQueryTimer&&clearInterval(i.resultQueryTimer),t&&t("cancel")},success:function(l,p){i.resultQueryTimer&&clearInterval(i.resultQueryTimer),i.resultQueryTimer=setInterval(function(){r.ajax({type:"get",url:"/api/user/wechat/miniApp/auth/resultQuery"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:{key:i.genkey},success:function(v){var h=v.data||{},m=h.token||"";m&&(setCookie("token",m),layer.closeAll(),layer.msg("\u767B\u5F55\u6210\u529F",{icon:1}),i.resultQueryTimer&&clearInterval(i.resultQueryTimer),location.href.indexOf("getcoupons.html")>-1?location.reload():window.mainHome?window.mainHome.getLoginUser():location.reload())},error:function(v){}})},2e3)},content:'<div> <img src="'+d+'" style="width:200px;height:200px;margin:36px;" /> <div style="text-align:center;margin-bottom:12px;">\u8BF7\u4F7F\u7528\u5FAE\u4FE1\u626B\u7801\u767B\u5F55</div></div>'})}else layer.msg(a.message,{icon:5});n&&n(a)},error:function(a){console.log("scanLogin",a)}}):r.ajax({type:"get",url:"/api/user/wechat"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:e,success:function(a){window.localStorage.callbackLoginUrl=window.location.href,window.location.href=a.url,n&&n(a)},error:function(a){t&&t(a)}})},loginQQ:function(n,t){var i=this,e=i.getchannel();e.refereeId=i.getRefereeId(),e.sourceChannel=getPagesFrom(),e.clueSourceType=e.sourceType,delete e.sourceType,r.ajax({type:"get",url:"/api/user/qqlogin"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:e,success:function(s){window.localStorage.callbackLoginUrl=window.location.href,window.location.href=s.url,n&&n(s)},error:function(s){t&&t(s)}})},loginWeiBo:function(n,t){var i=this,e=i.getchannel();e.refereeId=i.getRefereeId(),e.sourceChannel=getPagesFrom(),e.clueSourceType=e.sourceType,delete e.sourceType,r.ajax({type:"get",url:"/api/user/weibo"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:e,success:function(s){window.localStorage.callbackLoginUrl=window.location.href,window.location.href=s.url,n&&n(s)},error:function(s){t&&t(s)}})},loginAlipay:function(n,t){var i=this,e=i.getchannel();e.refereeId=i.getRefereeId(),e.sourceChannel=getPagesFrom(),e.clueSourceType=e.sourceType,delete e.sourceType,r.ajax({type:"get",url:"/api/user/alipaylogin"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:e,success:function(s){window.localStorage.callbackLoginUrl=window.location.href,window.location.href=s.url,n&&n(s)},error:function(s){t&&t(s)}})},checkcheckMobile:function(n,t,i){if(f.ajaxSend)return!1;f.ajaxSend=!0,r.ajax({type:"get",url:"/api/user/checkMobile"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:{mobile:n},success:function(e){f.ajaxSend=!1,t&&t(e)},error:function(e){f.ajaxSend=!1,i&&i(e)}})},getSystemTime:function(n,t){r.ajax({type:"get",url:"/api/disk/getSystemTime"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"text",success:function(i){n&&n(i)},error:function(i){t&&t(i)}})},createWebsocket:function(n){var t=this;t.websocket&&t.websocket.close();var i=window.location.protocol,e=window.location.port,s="",a=e?":"+e:"",o=s?s+""+a:"webchattest.1x.cn";if(i=="http:")var d="wss://"+o+"/websocket/webchat/scanLogin/"+n;else var d="wss://"+o+"/websocket/webchat/scanLogin/"+n;t.websocket=new ReconnectingWebSocket(d),t.websocket.onopen=t.onopen.bind(t),t.websocket.onmessage=this.onmessage.bind(t),t.websocket.onerror=this.onerror.bind(t),t.websocket.onclose=this.onclose.bind(t)},onopen:function(){var n=this;n.websocket.send(JSON.stringify({action:"confirm",msgType:"webScanLogin"}))},onmessage:function(n){var t=this,i=t.isJSON(n.data)?JSON.parse(n.data):{type:n.data};switch(i.action){case"scan":t.qrcodeBox.html('<div class="sanSuccess">\u626B\u7801\u6210\u529F</div>');break;case"auth":t.scanLogin({tempAuth:i.tempAuth,sourceDomain:i.schoolDomain},function(e){var a;if(e.success)setCookie("token",e.data.token),layer.closeAll(),layer.msg("\u767B\u5F55\u6210\u529F",{icon:1}),t.websocket.send(JSON.stringify({action:"feedBack",actionVal:"success",msgType:"webScanLogin",tempAuth:i.tempAuth})),t.websocket.close(),window.mainHome?window.mainHome.getLoginUser(!0):location.reload();else{var s=e.message;switch(parseInt(e.code)){case"701":s="\u4E34\u65F6\u6388\u6743\u7801\u65E0\u6548";break;case"601":s="\u4E8C\u7EF4\u7801\u5DF2\u5931\u6548";break;case"609":s=(((a=window.roominfo)==null?void 0:a.schoolType)=="2"?"\u8BE5\u4F01\u4E1A":"\u5F53\u524D\u7F51\u6821")+"\u60A8\u672A\u6CE8\u518C\uFF0C\u8BF7\u5148\u6CE8\u518C";break;case"610":s="\u8D26\u53F7\u5DF2\u9501\u5B9A\uFF0C\u8BF7\u8054\u7CFB\u7F51\u6821";break}t.qrcodeBox.html('<div class="sanError">'+s+'<br/> \u8BF7<a class="refresh">\u91CD\u65B0\u626B\u7801</></div>'),r(".sanError .refresh").on("click",function(){t.getQrCodeLoginUrl(function(o){t.qrcodeBox.html(""),t.qrcodeBox.qrcode(o.data.qrUrl)})}),t.websocket.send(JSON.stringify({action:"feedBack",actionVal:"fail",msgType:"webScanLogin",tempAuth:i.tempAuth}))}});break;case"feedBack":break;default:i.code=="601"&&(t.qrcodeBox.html('<div class="sanError">\u4E8C\u7EF4\u7801\u5DF2\u5931\u6548<br/> \u8BF7\u70B9\u51FB<a class="refresh">\u5237\u65B0</></div>'),r(".sanError .refresh").on("click",function(){t.getQrCodeLoginUrl(function(e){t.qrcodeBox.html(""),t.qrcodeBox.qrcode(e.data.qrUrl)})}))}},onerror:function(){},onclose:function(){},isJSON:function(n){if(typeof n=="string")try{var t=JSON.parse(n);return!!(typeof t=="object"&&t)}catch(i){return!1}},scanLogin:function(n,t){var i=this;r.ajax({type:"post",url:"/api/disk/scanLogin",contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(n),success:function(e){t&&t(e)},error:function(e){console.log("scanLogin",e)}})},getQrCodeLoginUrl:function(n){var t=this,i=function(e){var s=CryptoJS.enc.Utf8.parse("OPjanpEaoE7ZGl9v"),a=CryptoJS.enc.Utf8.parse(e),o=CryptoJS.AES.encrypt(a,s,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});return o.toString()};t.getSystemTime(function(e,s){r.ajax({type:"post",url:"/api/disk/findLoginAuthUrl"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify({clientType:"webScanLogin",signature:i(JSON.stringify({nonceStr:Date.now(),timestamp:e})),timestamp:e}),success:function(a){n&&n(a),a.success&&t.createWebsocket(a.data.qrUrl.split("key=")[1])},error:function(a){s&&s(a)}})})},ztoLoginlayer:function(n,t){var i=this,e=layer.open({type:1,title:"",anim:2,skin:"layui-layer-antd",area:["445px","500px"],cancel:function(s){t&&t("cancel")},success:function(s,a){clearTimeout(i.ztolog);var o,d=1;r.ajax({type:"GET",headers:{token:getCookie("token")},url:"/api/disk/home"+window.tsnfors,contentType:"application/json",dataType:"json",data:{},async:!1,success:function(u){o=u.data.isLoginwindowRegister}}),s.find(".go_register").click(function(){o?layer.alert("\u8BE5\u7F51\u6821\u5DF2\u7981\u6B62\u6CE8\u518C\uFF0C\u8BF7\u8054\u7CFB\u8BE5\u7F51\u6821\u7BA1\u7406\u5458\uFF01"):(layer.close(e),i.ztoregisterLayer(function(u){u.success&&window.location.reload()}))}),s.find(".forget").click(function(){layer.close(e),i.ztogetPasswordLayer(function(u){u.success&&window.location.reload()})}),s.find(".switch_tab li").click(function(){s.find(".switch_tab li").removeClass("current"),s.find(this).addClass("current");var u=s.find(this).attr("tab");s.find(".switch_pwd_con").hide();for(var y=0;y<s.find(".switch_pwd_con").length;y++)s.find(".switch_pwd_con").eq(y).attr("tab")==u&&s.find(".switch_pwd_con").eq(y).show()}),s.find(".submit").eq(0).on("click",function(){l()}),s.on("keypress",function(u){u.keyCode==13&&l()}),s.find(".get_pic_codees").on("click",function(){r(this).attr("src","/api/user/getVerifyImageCode?height=50&width=130&v="+Date.now())}),s.find(".get_code").on("click",function(){h()}),s.find(".submit").eq(1).on("click",function(){v(function(u){})});function l(){var u=s.find("#login_account").val(),y=s.find("#login_pwd").val(),C={},g=navigator.userAgent.toLowerCase(),c;(c=g.match(/msie/))?C.msie=c[0]:(c=g.match(/trident/))?C.trident=c[0]:(c=g.match(/edge/))?C.chrome=c[0]:(c=g.match(/firefox/))?C.firefox=c[0]:(c=g.match(/360/))||(c=g.match(/metasr/))||(c=g.match(/ubrowser/))||(c=g.match(/qqbrowser/))||(c=g.match(/chrome/))?C.chrome=c[0]:(c=g.match(/safari/))&&(C.safari=c[0]);try{myextension&&(c[0]="xxBrowser")}catch(b){}c||(c=["otherBrowser"]),c[0]=="trident"||c[0]=="msie"?c[0]="Internet Explorer":c[0]=="edge"?c[0]="Microsoft Edge":c[0]=="metasr"?c[0]="metasr":c[0]=="chrome"?c[0]="Chrome":c[0]=="firefox"?c[0]="Firefox":c[0]=="safari"?c[0]="Safari":c[0]=="ubrowser"&&(c[0]="Uc"),u==""?(s.find(".account").show().text("\u8D26\u6237\u4E0D\u80FD\u4E3A\u7A7A"),s.find("#login_account").focus()):(s.find(".account").hide(),y==""?(s.find(".pwd").show().text("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"),s.find("#login_pwd").focus()):r.ajax({type:"POST",headers:{resolution:window.screen.width+"*"+window.screen.height,browsername:c[0]},url:"/api/disk/login"+window.tsnfors,contentType:"application/json",dataType:"json",data:JSON.stringify({encrypted:!0,isGraphicCode:0,name:u,password:encrypt(y)}),async:!0,success:function(b){if(b.code==200)if(b.success==!0)p("token",b.data.token),n&&n(b),layer.close(e),window.mainHome&&window.mainHome.getLoginUser();else{var k=b.data,j="";if(k){var L=k.errCode;L=="4012"?j="\u8D85\u8FC7\u9650\u5236\u6B21\u6570"+k.limitCount+"\u6B21\uFF0C\u8BF7"+k.denyTime/60+"\u5206\u949F\u540E\u91CD\u8BD5":j="\u5BC6\u7801\u6216\u8D26\u53F7\u4E0D\u6B63\u786E"}else j="\u5BC6\u7801\u6216\u8D26\u53F7\u4E0D\u6B63\u786E";s.find(".account").show().text(j),s.find("#login_account").focus()}else b.code==707?(s.find(".pwd").show().text("\u60A8\u5DF2\u88AB\u7981\u6B62\u767B\u5F55"),s.find("#login_pwd").focus()):b.code==602?(s.find(".pwd").show().text("\u975E\u7F51\u6821\u7528\u6237\u7981\u6B62\u767B\u5F55"),s.find("#login_pwd").focus()):b.code==403?(s.find(".pwd").show().text("\u8D26\u53F7\u7C7B\u578B\u4E0D\u6B63\u786E"),s.find("#login_pwd").focus()):b.code==400?(s.find(".pwd").show().text("\u8BE5\u7F51\u6821\u9700\u8981\u4F7F\u7528\u9501\u5C4F\u6D4F\u89C8\u5668\u767B\u5F55"),s.find("#login_pwd").focus()):b.code==503?(s.find(".pwd").show().text("\u5DF2\u88AB\u9650\u5236\u767B\u5F55"),s.find("#login_pwd").focus()):(b.message="\u975E\u7F51\u6821\u7528\u6237\u4E0D\u80FD\u8FDB\u5165")?(s.find(".pwd").show().text("\u975E\u7F51\u6821\u7528\u6237\u4E0D\u80FD\u8FDB\u5165"),s.find("#login_pwd").focus()):(s.find(".pwd").show().text("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458"),s.find("#login_pwd").focus())}}))}function p(u,y){var C=u+"="+y+";path=/";document.cookie=C}function v(u){var y=s.find("#login_tel").val(),C=s.find("#login_code").val(),g=s.find("#login_pic_code").val();y==""?(s.find(".message").show().text("\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"),s.find("#login_tel").focus()):/^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(y)?g==""?(s.find(".message").hide(),s.find(".yzma").show().text("\u56FE\u5F62\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"),s.find("#login_pic_code").focus()):(s.find(".yzma").hide(),s.find(".message").hide(),C==""?(s.find(".ma").show().text("\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"),s.find("#login_code").focus()):r.ajax({type:"GET",headers:{token:getCookie("token")},url:"/api/user/phone/check"+window.tsnfors,contentType:"application/json",dataType:"json",data:{mobilePhone:y},async:!0,success:function(c){if(c.data==!1&&o)layer.open({content:"\u8BE5\u7F51\u6821\u5DF2\u7981\u6B62\u6CE8\u518C\uFF0C\u8BF7\u8054\u7CFB\u8BE5\u7F51\u6821\u7BA1\u7406\u5458\uFF01",btn:"\u786E\u5B9A"});else{var b=i.getchannel();b.mobile=y,b.smsCode=C,b.sourceChannel=getPagesFrom(),b.clueSourceType=b.sourceType,delete b.sourceType,r.ajax({type:"GET",headers:{token:getCookie("token")},url:"/api/user/mobileLogin"+window.tsnfors,contentType:"application/json",dataType:"json",data:b,async:!0,success:function(k){k.code==200?(p("token",k.data.token),u&&u(k),layer.close(e),window.mainHome&&window.mainHome.getLoginUser()):c.code==602?(s.find(".message").show().text("\u8D26\u53F7\u88AB\u9501\u5B9A"),s.find("#login_tel").focus()):(s.find(".ma").show().text(k.message||"\u9A8C\u8BC1\u7801\u4E0D\u6B63\u786E"),s.find("#login_code").focus())}})}}})):(s.find(".message").show().text("\u624B\u673A\u53F7\u7801\u4E0D\u6B63\u786E"),s.find("#login_tel").focus())}function h(){var u=s.find("#login_tel").val(),y=s.find("#login_code").val(),C=s.find("#login_pic_code").val();u==""?(s.find(".message").show().text("\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"),s.find("#login_tel").focus()):/^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(u)?C==""?(s.find(".message").hide(),s.find(".yzma").show().text("\u56FE\u5F62\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"),s.find("#login_pic_code").focus()):(s.find(".yzma").hide(),s.find(".message").hide(),r.ajax({type:"POST",headers:{token:getCookie("token")},url:"/api/school/sendRegisterOrLogin"+window.tsnfors,contentType:"application/json",dataType:"json",data:JSON.stringify({mobilePhone:u,captchaCode:C}),async:!0,success:function(g){if(g.code==200){let j=function(L){if(c==1){L.attr("disabled",!1),L.show(),s.find(".disableds").hide(),c=60;return}else s.find(".disableds").attr("disabled",!0),L.hide(),s.find(".disableds").show().val("\u91CD\u65B0\u53D1\u9001("+c+")"),c--;i.ztolog=setTimeout(function(){j(L)},1e3)};var k=j,c=60,b=s.find(".get_code");j(b)}else if(g.code==605)s.find(".yzma").show().text(g.message);else if(!g.success&&g.code==601||!g.success&&g.code==400)s.find(".ma").show().text("\u53D1\u9001\u9A8C\u8BC1\u7801\u5931\u8D25,\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01");else if(!g.success)switch(g.message?g.message.split("Permits:")[1]:""){case"2":g.message="1\u5206\u949F\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5",layer.msg(g.message,{icon:5});break;case"5":g.message="1\u5C0F\u65F6\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5",layer.msg(g.message,{icon:5});break;case"20":g.message="\u5F53\u5929\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u660E\u5929\u518D\u8BD5",layer.msg(g.message,{icon:5});break}}})):(s.find(".message").show().text("\u624B\u673A\u53F7\u7801\u4E0D\u6B63\u786E"),s.find("#login_tel").focus())}s.find("#login-qq").on("click",function(){var u=i.getchannel();u.sourceChannel=getPagesFrom(),u.clueSourceType=u.sourceType,delete u.sourceType,r.ajax({type:"GET",headers:{token:getCookie("token")},url:"/api/user/qqlogin"+window.tsnfors,contentType:"application/json",dataType:"json",data:u,async:!0,success:function(y){window.location.href=y.url}})});var m,w,x;r.ajax({type:"GET",headers:{token:getCookie("token")},url:"/api/user/wechat/qrcode"+window.tsnfors,contentType:"application/json",dataType:"json",data:{sourceChannel:getPagesFrom()},async:!1,success:function(u){m=u.data.appid,w=u.data.redirectUri,x=u.data.state}}),s.find(".switch_wq_con").hover(function(){s.find(".qr_code_hover").css("opacity","1"),s.find(".qr_code").css("left","-15%"),s.find(".qr_code").css("margin-left","0")},function(){s.find(".qr_code_hover").css("opacity","0"),s.find(".qr_code").css("left","35%"),s.find(".qr_code").css("margin-left","-90px")}),s.find("#login-wechat").on("click",function(){s.find(document).ready(function(){var u=new WxLogin({id:"login_container",appid:m,scope:"snsapi_login",redirect_uri:w,state:x,style:"black",href:"/design/designstatic/front/css/wechat-qrcode.css"})})})},content:'<div class="login_main"><div class="login_box" style="width: auto;padding-bottom: 16px;margin: 0 auto;float: none;">	<div class="header" style="height: auto;">  		<span class="header_tip">  			<img src="/design/designstatic/front/images/user.png" alt="">  			<i>\u4F1A\u5458\u767B\u5F55</i>  		</span>		<a id="register-free" href="javascript:void(0);" class="go_register">\u514D\u8D39\u6CE8\u518C&gt;</a>	</div>	<div class="switch_tab">		<ul>			<li id="login-account" tab="1" class="current" style="width:100%;">\u8D26\u53F7\u5BC6\u7801\u767B\u5F55</li>		</ul>	</div>	<div class="switch_pwd_con" tab="1" style="">		<div class="item">			<p class="tips account"></p>			<span class="name " style="width: 60px;">\u8D26\u53F7\uFF1A</span>			<input type="text" placeholder="\u6CE8\u518C\u624B\u673A\u53F7" id="login_account" class="w309">		</div>		<div class="item">			<p class="tips pwd"></p>			<span class="name "style="width: 60px;">\u5BC6\u7801\uFF1A</span>			<input type="password" placeholder="\u8BF7\u8F93\u5165\u5BC6\u7801" id="login_pwd" class="w309">		</div>		<a href="jivascript:void(0);" class="forget">\u5FD8\u8BB0\u5BC6\u7801\uFF1F</a>		<a href="javascript:;" class="submit">\u767B\u5F55</a>	</div>	<div class="switch_pwd_con" tab="2" style="display: none;">		<div class="item">			<p class="tips ml85 message"></p>			<span class="name">\u624B\u673A\u53F7\uFF1A</span>			<input type="text" placeholder="\u8BF7\u8F93\u5165\u624B\u673A\u53F7" id="login_tel">		</div>		<div class="item" style="position: relative;">			<p class="tips ml85 yzma"></p>			<span class="name">\u9A8C\u8BC1\u7801\uFF1A</span>			<input type="text" placeholder="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801" id="login_pic_code" class="input_code">			<input type="image" class="get_pic_codees" style="position: absolute; right: 4px;top: 0;" src="/api/user/getVerifyImageCode?height=50&width=130" value="\u83B7\u53D6\u9A8C\u8BC1\u7801" />		</div>		<div class="item">			<p class="tips ml85 ma"></p>			<span class="name">\u77ED\u4FE1\u5BC6\u7801\uFF1A</span>			<input type="text" placeholder="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801" id="login_code" class="input_code">			<input type="button" class="get_code" value="\u83B7\u53D6\u9A8C\u8BC1\u7801" />			<input type="button" class="get_code disableds" style="display: none;" value="60s\u540E\u91CD\u65B0\u83B7\u53D6" />		</div>		<a href="javascript:;" class="submit">\u767B\u5F55</a>	</div>	<div class="switch_wq_con switch_pwd_con" tab="3" style="display: none;">		<div id="login_container" class="qr_code"></div>		<span class="qrlogin_img_out"></span>		<div class="qr_code_hover">			<img src="/design/designstatic/front/images/scan.png" alt="">		</div>	</div>	<div class="more_login_way">		<div class="more_way_title">			<span>				<img src="/design/designstatic/front/images/line.png" alt="">			</span>			<span class="font">\u66F4\u591A\u767B\u5F55\u65B9\u5F0F</span>			<span>				<img src="/design/designstatic/front/images/line.png" alt="">			</span>		</div>		<div class="more_way_list">			<a id="login-qq" href="javascript:;">				<img src="/design/designstatic/front/images/expr_q.png" alt="">			</a>			<a id="login-bh" href="https://sso.zto.com/oauth2/authorize?appid=ztG0zXq90JVByEZsWFwbDB9Q&redirect_uri=https%3a%2f%2fyunke.zto.com%2fapi%2fuser%2fztoRedirectLogin&response_type=code&scope=userinfo,user_id,node_id&state=0">				<img src="/design/designstatic/front/images/expr_zt.jpg" alt="">			</a>		</div>	</div></div>	</div>'})},loginLayer:function(n,t,i){var x,u,y,C,g;var e=this;if(window.roominfo)clearTimeout(e.getRoomInfoTimeout);else return e.getRoomInfoTimeout=setTimeout(function(){e.getAjaxRoomInfo(function(){e.loginLayer(n,t,i)}),clearTimeout(e.getRoomInfoTimeout)},300),!1;var s=[];parseInt((x=window.roominfo)==null?void 0:x.isLoginnameLogin)==1&&s.push("account"),parseInt((u=window.roominfo)==null?void 0:u.isSmsLogin)==1&&s.push("shortMessage"),parseInt((y=window.roominfo)==null?void 0:y.isLoginnameLogin)==1&&parseInt((C=window.roominfo)==null?void 0:C.isSmsLogin)==1&&(s=t||s);var a=s;if(!a)for(var o=r(".module[data-type=registerLogin]"),d=[],l=0,p=o.length;l<p;l++){var v=o.eq(l),h=v.attr("data-login");if(h){var m=JSON.parse(h);if(m.length==2)break;m.length==1&&(JSON.stringify(d).indexOf(m[0])<0&&d.push(m[0]),a=d)}else{a=!1;break}}if(location.href.indexOf("zto.xx.cn")>-1||location.href.indexOf("yunke.zto.com")>-1)e.ztoLoginlayer(n,i);else if(location.href.indexOf("rcyj.xx.cn")>-1)location.href="https://www.rencaiyoujia.com/Login?toBig=1";else var w=layer.open({type:1,title:"",skin:"layui-layer-antd nohasbtn",closeBtn:1,anim:2,area:"375px 310px",scrollbar:!1,shadeClose:!1,cancel:function(c,b){i&&i("cancel")},success:function(c,b){var we,xe,ye;var k=window.roominfo&&((we=window.roominfo)==null?void 0:we.loginType)||"1",j=window.roominfo?(xe=window.roominfo)==null?void 0:xe.isLoginwindowRegister:1,L=((ye=window.roominfo)==null?void 0:ye.isGraphicCode)==1;c.on("keydown",function(S){S.keyCode==13&&(c.find(".tabheader a[logintypes=1]").hasClass("active")?c.find(".userlogin .logbtn").click():c.find(".tabheader a[logintypes=2]").hasClass("active")&&c.find(".phonelogin .logbtn").click())}),k=="1"?(c.find(".phonelogin").hide(),c.find(".userlogin").show()):(c.find(".userlogin").hide(),c.find(".phonelogin").show());var O=c.find(".tabheader a");O.removeClass("active"),O.eq(parseInt(k)-1).addClass("active"),a&&a.length==1&&(O.removeClass("active"),a[0]=="account"?(c.find(".phonelogin").hide(),c.find(".userlogin").show(),O.eq(0).addClass("active").css("width","100%"),O.eq(1).hide()):a[0]=="shortMessage"&&(c.find(".layui-layer-antd").css("marginTop",-77),c.find(".userlogin").hide(),c.find(".phonelogin").show(),O.eq(0).hide(),O.eq(1).addClass("active").css("width","100%")));var P=c.find(".account"),U=c.find(".password"),T=P.find(".istertxts"),I=U.find(".istertxts"),q=P.find(".form-explain"),J=U.find(".form-explain"),z=c.find(".userlogin .logbtn"),F=c.find("#showPassword"),R=c.find(".checkboxDiv"),E=c.find(".loginCode"),X=E.find(".yantess"),ie=E.find(".form-explain");L&&(X.on("input",function(){r(this).val().trim()!=""&&E.removeClass("error")}),E.find(".yaned").on("click",function(){r(this).attr("src","/api/user/getVerifyImageCode?cType=2&height=36&width=98&v="+parseInt(Math.random()*100))})),T.on("input",function(){r(this).val().trim()!=""&&P.removeClass("error")}),I.on("input",function(){r(this).val().trim()!=""&&U.removeClass("error")}),F.on("click",function(){var S=I.attr("type");S=="password"?(I.attr("type","text"),F.removeClass("log-hidePwd").addClass("log-hidePwd")):(I.attr("type","password"),F.removeClass("log-hidePwd"))}),z.on("click",function(){var S=r(this).prev(".form-explain");if(S.css("height","0px"),T.val().trim()==""&&(P.addClass("error"),q.text("\u8BF7\u8F93\u5165\u8D26\u53F7/\u624B\u673A\u53F7/\u90AE\u7BB1")),I.val().trim()==""&&(U.addClass("error"),J.text("\u8BF7\u8F93\u5165\u5BC6\u7801")),L&&X.val().trim()=="")return E.addClass("error"),ie.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"),"";if(I.val().trim()&&T.val().trim()){if(L){var Q=I.val().trim();return e.newLogin({isGraphicCode:1,captchaInput:X.val().trim(),encrypted:!!window.CryptoJS,username:T.val().trim(),password:window.CryptoJS?encrypt(Q):Q},function(N){if(N.success&&(R.hasClass("on")&&window.encrypt?(localStorage.isSaveAPWordKey=encrypt(JSON.stringify({a:T.val().trim(),b:I.val().trim(),t:Date.now()})),localStorage.removeItem("isSaveAPWordKeyNoOn")):localStorage.isSaveAPWordKeyNoOn=1),n&&n(N),window.mainHome&&N.success)layer.close(w),window.mainHome&&window.mainHome.getLoginUser();else if(N.success)layer.close(w);else if(N.success){var K=N.data,Y="";if(K){var pe=K.errCode;pe=="4012"?Y="\u8D85\u8FC7\u9650\u5236\u6B21\u6570"+K.limitCount+"\u6B21\uFF0C\u8BF7"+K.denyTime/60+"\u5206\u949F\u540E\u91CD\u8BD5":Y="\u5BC6\u7801\u6216\u8D26\u53F7\u4E0D\u6B63\u786E\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u6216\u627E\u56DE\u5BC6\u7801"}else Y="\u5BC6\u7801\u6216\u8D26\u53F7\u4E0D\u6B63\u786E\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u6216\u627E\u56DE\u5BC6\u7801";S.text(Y).css({height:"20px",lineHeight:"24px"})}else{var A=N.message;switch(parseInt(N.code)){case 400:A="\u8BE5\u7F51\u6821\u9700\u8981\u4F7F\u7528\u9501\u5C4F\u6D4F\u89C8\u5668\u767B\u5F55";break;case 403:A="\u8D26\u53F7\u7C7B\u578B\u4E0D\u6B63\u786E";break;case 503:A="\u5DF2\u88AB\u9650\u5236\u767B\u5F55";break;case 509:A="\u60A8\u7684\u8D26\u53F7\u5DF2\u5728\u591A\u5904\u767B\u5F55\uFF0C\u6B64\u8BBE\u5907\u5DF2\u88AB\u9650\u5236\uFF0C\u8BF7\u5C3D\u5FEB\u4FEE\u6539\u5BC6\u7801\u6216\u8005\u8054\u7CFB\u5BA2\u670D\u4EBA\u5458";break;case 602:A="\u975E\u7F51\u6821\u7528\u6237\u7981\u6B62\u767B\u5F55";break;case 606:A="\u7528\u6237\u8D26\u53F7\u88AB\u5220\u9664";break;case 707:A="\u60A8\u5DF2\u88AB\u7981\u6B62\u767B\u5F55";break;case 605:E.find(".yaned").click();break;default:E.find(".yaned").click()}S.text(A).css({height:"auto","min-height":"20px",lineHeight:"18px"})}}),""}e.login(T.val().trim(),I.val().trim(),function(N){if(N.success&&(R.hasClass("on")&&window.encrypt?(localStorage.isSaveAPWordKey=encrypt(JSON.stringify({a:T.val().trim(),b:I.val().trim(),t:Date.now()})),localStorage.removeItem("isSaveAPWordKeyNoOn")):localStorage.isSaveAPWordKeyNoOn=1),n&&n(N),window.mainHome&&N.success)layer.close(w),window.mainHome&&window.mainHome.getLoginUser();else if(N.success)layer.close(w);else if(N.success){var K=N.data,Y="";if(K){var pe=K.errCode;pe=="4012"?Y="\u8D85\u8FC7\u9650\u5236\u6B21\u6570"+K.limitCount+"\u6B21\uFF0C\u8BF7"+K.denyTime/60+"\u5206\u949F\u540E\u91CD\u8BD5":Y="\u5BC6\u7801\u6216\u8D26\u53F7\u4E0D\u6B63\u786E\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u6216\u627E\u56DE\u5BC6\u7801"}else Y="\u5BC6\u7801\u6216\u8D26\u53F7\u4E0D\u6B63\u786E\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u6216\u627E\u56DE\u5BC6\u7801";S.text(Y).css({height:"20px",lineHeight:"24px"})}else{var A=N.message;switch(parseInt(N.code)){case 400:A="\u8BE5\u7F51\u6821\u9700\u8981\u4F7F\u7528\u9501\u5C4F\u6D4F\u89C8\u5668\u767B\u5F55";break;case 403:A="\u8D26\u53F7\u7C7B\u578B\u4E0D\u6B63\u786E";break;case 503:A="\u5DF2\u88AB\u9650\u5236\u767B\u5F55";break;case 509:A="\u60A8\u7684\u8D26\u53F7\u5DF2\u5728\u591A\u5904\u767B\u5F55\uFF0C\u6B64\u8BBE\u5907\u5DF2\u88AB\u9650\u5236\uFF0C\u8BF7\u5C3D\u5FEB\u4FEE\u6539\u5BC6\u7801\u6216\u8005\u8054\u7CFB\u5BA2\u670D\u4EBA\u5458";break;case 602:A="\u975E\u7F51\u6821\u7528\u6237\u7981\u6B62\u767B\u5F55";break;case 606:A="\u7528\u6237\u8D26\u53F7\u88AB\u5220\u9664";break;case 707:A="\u60A8\u5DF2\u88AB\u7981\u6B62\u767B\u5F55";break}S.text(A).css({height:"auto","min-height":"20px",lineHeight:"18px"})}})}}),i&&r(".registerBtn").parent().hide(),r(".registerBtn").on("click",function(){layer.close(w),e.registerLayer(function(S){S.success&&window.location.reload()})}),r(".forgetPossword").on("click",function(){layer.close(w),e.getPasswordLayer()});var re=c.find(".phonelogin .logbtn"),de=c.find(".mobile"),M=c.find(".mobileNumber"),_=c.find(".mobileCode");setTimeout(function(){_.removeClass("error"),M.removeClass("error")},0);var G=c.find(".mobileBtn"),W=M.find(".istertxts"),V=M.find(".form-explain"),ne=_.find(".istertxts"),Z=_.find(".form-explain"),oe=G.find(".form-explain"),B=!1;W.on("input",function(){B=!0,M.removeClass("error"),r(this).val().trim()==""&&(M.addClass("error"),V.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),B=!1)}),W.on("blur",function(){B=!1,ae=!1,r(this).val().trim()==""?(M.addClass("error"),V.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),B=!1):/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(r(this).val())?parseInt(j)==1?(B=!1,e.checkPhoneExists({mobilePhone:r(this).val()},function(S){S.success&&(S.data.isExist==!0||S.data==!0)?B=!0:(B=!1,M.addClass("error"),V.text("\u8BE5\u624B\u673A\u53F7\u7801\u4E0D\u5B58\u5728,\u8BF7\u7528\u8D26\u53F7\u767B\u5F55"))})):B=!0:(B=!1,M.addClass("error"),V.text("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801"))}),ne.on("input",function(){_.removeClass("error"),r(this).val().trim()==""&&(_.addClass("error"),Z.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"))});var D=de.find("a.yaned"),te=!0,ae=!1;D.on("click",function(){B&&te?(te=!1,e.sendRegisterOrLogin(W.val().trim(),function(S){if(ae=!0,S.success){ae=!0,B=!0;var Q=60;D.css("color","#ccc"),D.text("\u5DF2\u53D1\u9001\uFF08"+Q+"\uFF09");var N=setInterval(function(){Q=Q-1,D.text("\u5DF2\u53D1\u9001\uFF08"+Q+"\uFF09"),Q==0&&(te=!0,clearInterval(N),D.css("color","#666"),D.text("\u83B7\u53D6\u9A8C\u8BC1\u7801"))},1e3)}else te=!0,B=!1,M.addClass("error"),V.text(S.message)})):W.val().trim()==""&&(M.addClass("error"),V.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),B=!1)}),re.on("click",function(){var S=!0;if(W.val().trim()==""&&(M.addClass("error"),V.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),S=!1),ne.val().trim()=="")_.addClass("error"),Z.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"),S=!1;else if(!ae)return _.addClass("error"),Z.text("\u8BF7\u5148\u83B7\u53D6\u9A8C\u8BC1\u7801"),!1;function Q(N,K){var Y=N+"="+K+";path=/";document.cookie=Y}S&&B&&e.mobileLogin({mobile:W.val().trim(),smsCode:ne.val().trim(),refereeId:e.getRefereeId()},function(N){N.success?(Q("token",N.data.token),n&&n(N),layer.close(w),window.mainHome&&window.mainHome.getLoginUser()):parseInt(N.code)==602?(G.addClass("error"),oe.css("height",28),oe.text("\u8D26\u53F7\u88AB\u9501\u5B9A")):(_.addClass("error"),Z.css({width:"270px",lineHeight:"18px"}),Z.text(N.message||"\u9A8C\u8BC1\u7801\u4E0D\u6B63\u786E"))})}),r(".userlogintab .tabheader a").on("click",function(){r(".userlogintab .tabheader a").removeClass("active"),r(this).addClass("active");var S=r(this).attr("loginTypes");S=="1"?(r(".userlogintab .phonelogin").hide(),r(".userlogintab .userlogin").show(),c.on("keydown",function(Q){Q.keyCode==13&&c.find(".userlogin .logbtn").click()})):(r(".userlogintab .userlogin").hide(),r(".userlogintab .phonelogin").show(),c.on("keydown",function(Q){Q.keyCode==13&&c.find(".phonelogin .logbtn").click()}))});var H=window.roominfo,be=c.find(".other"),_e=c.find(".othertext"),ve=c.find(".loginwc"),je=c.find(".loginqq"),Te=c.find(".loginwb"),Ne=c.find(".loginpay"),ue=c.find(".loginenWechat"),ge=c.find(".logindingding");if(H){var $=(H==null?void 0:H.thirdLoginConfig)?JSON.parse(H==null?void 0:H.thirdLoginConfig):[];$.length||(be.hide(),_e.hide()),($==null?void 0:$.find(S=>S.thirdName=="wechat"))?ve.on("click",function(){e.qrcodeloginWeChat()}):ve.parent().hide(),($==null?void 0:$.find(S=>S.thirdName=="enWechat"))?ue.on("click",function(){e.qrcodeloginenWeChat()}):ue.parent().hide(),($==null?void 0:$.find(S=>S.thirdName=="dingding"))?ge.on("click",function(){e.qrcodelogindingding()}):ge.parent().hide()}localStorage.isSaveAPWordKeyNoOn&&R.removeClass("on"),R.on("click",function(){R.hasClass("on")?(R.removeClass("on"),localStorage.removeItem("isSaveAPWordKey")):R.addClass("on")});var Se=c.find(".txtAgreement"),ke=c.find(".agree");if(H){var Ie=H==null?void 0:H.isOpenSchoolRegisterProtocol,le=H==null?void 0:H.schoolRegisterProtocol;if((!Ie||!isJSON(le))&&Se.hide(),le&&isJSON(le)){var ee=JSON.parse(le),se="";ee.length==1?se+='<a href="/pages/protocol.html?xy=1" target="_blank">\u300A'+ee[0].title+"\u300B</a>":ee.length==2?(se+='<a href="/pages/protocol.html?xy=1" target="_blank">\u300A'+ee[0].title+"\u300B</a><span>\u548C</span>",se+='<a href="/pages/protocol.html?xy=2" target="_blank">\u300A'+ee[1].title+"\u300B</a>"):ee.length>0&&(se+='<a href="/pages/protocol.html?xy=1" target="_blank">\u300A'+ee[0].title+"\u300B\u3001</a>",se+='<a href="/pages/protocol.html?xy=2" target="_blank">\u300A'+ee[1].title+"\u300B</a><span>\u548C</span>",se+='<a href="/pages/protocol.html?xy=3" target="_blank">\u300A'+ee[2].title+"\u300B</a>"),ke.html(se)}}var ce=c.find(".qrLoginBtn"),he=c.find(".qrcodelogintab"),me=c.find(".userlogintab"),fe=c.find(".qrcodeBox");ce.on("click",function(){ce.hasClass("pc")?(ce.removeClass("pc"),he.hide(),me.show(),e.websocket&&e.websocket.close()):(ce.addClass("pc"),he.show(),me.hide(),e.qrcodeBox=fe,e.getQrCodeLoginUrl(function(S){fe.html(""),fe.qrcode(S.data.qrUrl)}))})},content:' <div class="qrLoginBtn"></div> <div class="qrcodelogintab">  <div class="qrTitle">\u4E8C\u7EF4\u7801\u767B\u5F55</div>  <div class="qrcodeBox"></div>  <div class="qrcodeTip"> \u6253\u5F00 <a>'+(((g=window.roominfo)==null?void 0:g.schoolType)=="2","\u4F7F\u7528FilesBox App\u626B\u4E00\u626B\u767B\u5F55")+'</a> <br/>\u5728\u300E\u6211\u7684\u300F\u9875\u9762\u9876\u90E8\u6253\u5F00\u626B\u4E00\u626B</div> </div> <div class="userlogintab"> <div class="tabheader">   <a loginTypes="1" href="javascript:;" class="active" style="width:100%;">\u8D26\u53F7\u767B\u5F55</a> </div> <div class="tabcontent"> <div class="register userlogin" >   <div class="mss">   <div class="clear"></div>   <div class="mt15">      <div class="showno email" ><div class="log-line isterdiv account log-line-hover" id="rowCacct"><input id="log-cacct" type="text" autocomplete="off" title="\u8F93\u5165\u7528\u6237\u540D/\u624B\u673A\u53F7/\u90AE\u7BB1" placeholder="\u8F93\u5165\u7528\u6237\u540D/\u624B\u673A\u53F7/\u90AE\u7BB1" class="log-input input2 istertxts"><div class="logIcoNew logIcoCacct" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div><span class="qeusle"></span><div class="form-explain"></div></div><div class="log-line isterdiv password" id="rowPwd"><input id="log-pwd" type="password" title="\u8F93\u5165\u5BC6\u7801" placeholder="\u8F93\u5165\u5BC6\u7801" class="log-input input2 istertxts" style="padding-right: 40px;"><div id="showPassword" class="log-showPwd loginWindowImg" _show="true" style="background-image: url(/design/designstatic/home/image/login_icon.png)"></div><div class="logIcoNew logIcoPwd" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>          <span class="qeusle"></span>          <div class="form-explain"></div></div>'+e.renderLoginCode()+'       <div class="checkboxDiv on" style="width: 120px;"><div class="checkbox"><i class="iconfont icon-check"></i></div>\u5341\u5929\u5185\u514D\u767B\u5F55</div>       <div class="clear"></div>       <div class="mt15" style="margin-bottom:-5px;">         <div class="form-explain" style="text-align: center; opacity: 1;overflow:hidden;height:0;"></div>         <input class="logbtn" value="\u7ACB\u5373\u767B\u5F55" type="button">       </div>       <div class="isterdiv" style="margin-top:10px;margin-bottom:0; overflow:hidden;">         <span class="isterspan"><a class="derase registerBtn" style="display: none;" >\u7ACB\u5373\u6CE8\u518C</a><a class="derase fr forgetPossword"  style="display: none;" >\u5FD8\u8BB0\u5BC6\u7801</a></span>       </div>       <div class="isterdiv">         <div class="othertext"><span>\u7B2C\u4E09\u65B9\u767B\u5F55</span></div>                    <span class="isterspan other">         <a ><img src="/design/designstatic/common/image/logo/wechat_select.png" class="loginwc"/></a>         <a ><img src="/design/designstatic/common/image/logo/en_wechat_select.png" class="loginenWechat"/></a>         <a ><img src="/design/designstatic/common/image/logo/ding_select.png" class="logindingding"/></a>         </span>       </div>       <div class="txtAgreement"><span>\u767B\u5F55\u5373\u4EE3\u8868\u60A8\u5DF2\u7ECF\u540C\u610F\u5982\u4E0B\u534F\u8BAE\uFF1A</span><div class="agree"></div></div>     </div>   </div></div></div><div class="register phonelogin" style="display:none;margin-bottom: 20px;">	<div class="mss">		<div class="clear"></div>		<div class="mt15">			<div class="showno mobile" ><div class="log-line isterdiv mobileNumber" id="mobile"><input id="log-mobile" title="\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7" placeholder="\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7" value=""  type="text" class="log-input input2 istertxts"><div class="logIcoNew logIcoMobile" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>					<span class="qeusle"></span>          <div class="form-explain"></div></div><div class="log-line isterdiv mobileCode" id="mobileCode" style="width: 171px;"><input id="log-mobileCode" style="width: 170px;" title="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"  placeholder="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801" value=""  type="text"  maxlength="6" class="log-input input2 yantess istertxts"><div class="logIcoNew logIcoYang" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>					<span class="qeusle"></span>          <div class="form-explain"></div></div>					<a class="yaned mobileCodeBtn" href="javascript:void(0)">\u83B7\u53D6\u9A8C\u8BC1\u7801</a>       <div class="txtAgreement" style="margin:0"><span>\u767B\u5F55\u5373\u4EE3\u8868\u60A8\u5DF2\u7ECF\u540C\u610F\u5982\u4E0B\u534F\u8BAE\uFF1A</span><div class="agree"></div></div>				<div class="clear"></div>				<div class="mt15 mobileBtn" style="position: relative;">          <div class="form-explain" style="top: -25px; text-align: center; opacity: 1;overflow:hidden;height:0;width: 100%;"></div>					<input class="logbtn logbtnphone" value="\u7ACB\u5373\u767B\u5F55" type="button">				</div>			</div>		</div>	</div></div></div></div>'})},renderLoginCode:function(){var n=window.roominfo||{};if((n==null?void 0:n.isGraphicCode)!=1)return"";var t='<div class="isterdiv loginCode">  <div class="rbox newrbox">    <input class="yantess istertxts" title="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801" placeholder="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801" type="text">    <div class="logIcoNew logIcoYang" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>  </div>  <img class="yaned" src="/api/user/getVerifyImageCode?cType=2&amp;height=36&amp;width=98" id="vContainer" href="javascript:void(0)">  <div class="form-explain" style="clear: both;"></div></div>';return t},ztoregisterLayer:function(n){var t=this,i;if(r.ajax({type:"GET",headers:{token:getCookie("token")},url:"/api/disk/home"+window.tsnfors,contentType:"application/json",dataType:"json",data:{},async:!1,success:function(s){i=s.data.isLoginwindowRegister}}),i)layer.alert("\u8BE5\u7F51\u6821\u5DF2\u7981\u6B62\u6CE8\u518C\uFF0C\u8BF7\u8054\u7CFB\u8BE5\u7F51\u6821\u7BA1\u7406\u5458\uFF01");else{clearTimeout(t.ztoreg);var e=layer.open({type:1,title:"",skin:"layui-layer-antd",closeBtn:1,anim:2,area:["670px","624px"],cancel:function(s,a){},success:function(s,a){s.find(".go_login").click(function(){layer.close(e),t.ztoLoginlayer()}),s.find(".next").on("click",function(){o()}),s.find(".get_pic_codees").on("click",function(){d(r(this))}),s.find(".get_codes").on("click",function(){l()});function o(){var p=s.find("#register_tel").val(),v=s.find("#register_code").val(),h=s.find("#register_pwd_one").val(),m=s.find("#register_pwd_two").val(),w=!0,x=!0,u=!0,y=!0;if(p==""?(s.find("#register_tel").parent().find(".tips").addClass("show").text("\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"),s.find("#register_tel").focus(),w=!1):/^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(p)?r.ajax({type:"GET",url:"/api/user/phone/check"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:{mobilePhone:p},success:function(g){g.data==!1?(w=!0,s.find("#register_tel").parent().find(".tips").removeClass("show")):(w=!1,s.find("#register_tel").parent().find(".tips").addClass("show").text("\u8BE5\u624B\u673A\u53F7\u7801\u5DF2\u88AB\u6CE8\u518C!"),s.find("#register_tel").focus())}}):(s.find("#register_tel").parent().find(".tips").addClass("show").text("\u624B\u673A\u53F7\u7801\u4E0D\u6B63\u786E"),s.find("#register_tel").focus(),w=!1),v==""?(s.find("#register_code").parent().find(".tips").addClass("show").text("\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"),s.find("#register_code").focus(),y=!1):(s.find("#register_code").parent().find(".tips").removeClass("show"),y=!0),h==""?(s.find("#register_pwd_one").parent().find(".tips").addClass("show").text("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"),s.find("#register_pwd_one").focus(),x=!1):/^.*(?=.{8,20})(?=.*\d)(?=.*[a-zA-Z!@#$%^&*? ]).*$/.test(h)?(s.find("#register_pwd_one").parent().find(".tips").removeClass("show"),x=!0):(s.find("#register_pwd_one").parent().find(".tips").addClass("show").text("\u5BC6\u7801\u7531\u5B57\u6BCD\u52A0\u6570\u5B57\u81F3\u5C11\u4E24\u79CD\u4EE5\u4E0A\u5B57\u7B26\u7EC4\u6210\u76848-20\u4F4D\u5B57\u7B26"),s.find("#register_pwd_one").focus(),x=!1),m==""?(s.find("#register_pwd_two").parent().find(".tips").addClass("show").text("\u786E\u8BA4\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"),s.find("#register_pwd_two").focus(),u=!1):m==h?(s.find("#register_pwd_two").parent().find(".tips").removeClass("show"),u=!0):(s.find("#register_pwd_two").parent().find(".tips").addClass("show").text("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4"),s.find("#register_pwd_two").focus(),u=!1),w&&x&&u&&y){var C=t.getchannel();C.mobilePhone=p,C.password=h,C.smsCode=v,C.clueSourceType=C.sourceType,delete C.sourceType,r.ajax({type:"POST",headers:{token:getCookie("token")},url:"/api/user/registerUser"+window.tsnfors,contentType:"application/json",dataType:"json",data:JSON.stringify(C),async:!0,success:function(g){g.code==200?(layer.close(e),layer.msg("\u6CE8\u518C\u6210\u529F",{icon:1}),n&&n(g)):g.code==600?(s.find("#register_code").parent().find(".tips").addClass("show").text("\u9A8C\u8BC1\u7801\u4E0D\u6B63\u786E"),s.find("#register_code").focus()):g.code==505?(s.find("#register_tel").parent().find(".tips").addClass("show").text("\u8BE5\u624B\u673A\u53F7\u7801\u5DF2\u88AB\u6CE8\u518C!"),s.find("#register_tel").focus()):layer.alert("\u6CE8\u518C\u5931\u8D25,\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01")}})}}function d(p){p.attr("src","/api/user/getVerifyImageCode?height=50&width=130&v="+Date.now())}function l(){var p=s.find("#register_tel"),v=s.find("#register_code"),h=s.find("#register_pic_code"),m=p.val(),w=v.val(),x=h.val();m==""?(p.parent().find(".tips").addClass("show").text("\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"),p.focus()):/^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(m)?x==""?(p.parent().find(".tips").removeClass("show"),h.parent().find(".tips").addClass("show").text("\u56FE\u5F62\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"),h.focus()):r.ajax({type:"GET",url:"/api/user/phone/check"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:{mobilePhone:m},success:function(u){u.data==!1?(p.parent().find(".tips").removeClass("show"),r.ajax({type:"POST",headers:{token:getCookie("token")},url:"/api/school/sendRegisterVerify"+window.tsnfors,contentType:"application/json",dataType:"json",data:JSON.stringify({mobilePhone:m,captchaCode:x}),async:!0,success:function(y){if(y.code==200){let b=function(k){if(C==1){k.attr("disabled",!1),k.show(),s.find(".disabledss").hide(),C=60;return}else s.find(".disabledss").attr("disabled",!0),k.hide(),s.find(".disabledss").show().val("\u91CD\u65B0\u53D1\u9001("+C+")"),C--;t.ztoreg=setTimeout(function(){b(k)},1e3)};var c=b,C=60,g=s.find(".get_codes");b(g)}else if(y.code==605)h.parent().find(".tips").addClass("show").text(y.message),h.focus();else if(y.code==601)s.find("#register_tel").parent().find(".tips").addClass("show").text("\u53D1\u9001\u9A8C\u8BC1\u7801\u5931\u8D25,\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01"),s.find("#register_tel").focus();else if(!y.success)switch(y.message?y.message.split("Permits:")[1]:""){case"2":y.message="1\u5206\u949F\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5",layer.msg(y.message,{icon:5});break;case"5":y.message="1\u5C0F\u65F6\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5",layer.msg(y.message,{icon:5});break;case"20":y.message="\u5F53\u5929\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u660E\u5929\u518D\u8BD5",layer.msg(y.message,{icon:5});break}}})):(s.find("#register_tel").parent().find(".tips").addClass("show").text("\u8BE5\u624B\u673A\u53F7\u7801\u5DF2\u88AB\u6CE8\u518C!"),s.find("#register_tel").focus())}}):(p.parent().find(".tips").addClass("show").text("\u624B\u673A\u53F7\u7801\u4E0D\u6B63\u786E"),p.focus())}},content:'<div class="find_back_pwd"><div class="register_box"><div class="find_title"><p>\u6B22\u8FCE\u6CE8\u518C</p></div><a href="javascript:void(0);" class="go_login">\u767B\u5F55</a><div class="password_form"><div class="item"><p class="tips"></p><span class="name"><img src="/design/designstatic/front/images/icon_user.png" alt=""></span><input type="text" placeholder="\u8BF7\u8F93\u5165\u624B\u673A\u53F7" id="register_tel" class="input_text"></div><div class="item"><p class="tips"></p><span class="name"><img src="/design/designstatic/front/images/icon_code.png" alt=""></span><input type="text" placeholder="\u8BF7\u8F93\u5165\u56FE\u5F62\u9A8C\u8BC1\u7801" id="register_pic_code" class="input_text w243"><input type="image" class="get_pic_codees" src="/api/user/getVerifyImageCode?height=50&width=130" value="\u83B7\u53D6\u9A8C\u8BC1\u7801" /> </div><div class="item"><p class="tips"></p><span class="name"><img src="/design/designstatic/front/images/icon_code.png" alt=""></span><input type="text" placeholder="\u8BF7\u8F93\u5165\u77ED\u4FE1\u9A8C\u8BC1\u7801" id="register_code" class="input_text w243"><input type="button" class="get_codes" value="\u83B7\u53D6\u9A8C\u8BC1\u7801" /> <input type="button" class="get_codes disabledss" style="display: none;" value="60s\u540E\u91CD\u65B0\u83B7\u53D6" /> </div><div class="item"><p class="tips"></p><span class="name"><img src="/design/designstatic/front/images/icon_pwd.png" alt=""></span><input type="password" placeholder="\u8BF7\u8F93\u5165\u5BC6\u7801" id="register_pwd_one" class="input_text"></div><div class="item mb10"><p class="tips"></p><span class="name"><img src="/design/designstatic/front/images/icon_pwd.png" alt=""></span><input type="password" placeholder="\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801" id="register_pwd_two" class="input_text"></div><div class="reader item" style="margin-bottom: 0px; height: 20px; display: none;"><p class="tips" style="left: 164px; top: -1px;"></p><span id="agree" class="selected on"></span><span class="font">\u5DF2\u9605\u8BFB\u5E76\u540C\u610F<a href="javascript:;">\u6CE8\u518C\u534F\u8BAE</a></span></div><div class="next">\u6CE8\u518C</div></div></div></div>'})}},registerLayer:function(n){var t=this,i=window.roominfo,e=(i==null?void 0:i.schoolType)=="2",s=(i==null?void 0:i.isStrongPwd)==1;if(location.href.indexOf("zto.xx.cn")>-1||location.href.indexOf("yunke.zto.com")>-1)t.ztoregisterLayer(n);else if(location.href.indexOf("rcyj.xx.cn")>-1)location.href="https://www.rencaiyoujia.com/Register?toBig=1";else if(i&&parseInt(i==null?void 0:i.isLoginwindowRegister)==1)e?layer.msg("\u516C\u53F8\u5DF2\u5F00\u542F\u7981\u6B62\u6CE8\u518C\uFF0C\u8BF7\u8054\u7CFB\u516C\u53F8\u7BA1\u7406\u5458",{icon:4}):layer.msg("\u8BE5\u7F51\u6821\u5DF2\u7981\u6B62\u6CE8\u518C\uFF0C\u8BF7\u8054\u7CFB\u8BE5\u7F51\u6821\u7BA1\u7406\u5458",{icon:4});else{if(!i)return t.getAjaxRoomInfo(function(){t.registerLayer(n)}),!1;var a=(i==null?void 0:i.loginNameMin)||6,o=(i==null?void 0:i.passwordMin)||3,d=a+"-20\u4F4D\u8D26\u53F7\uFF0C\u4EE5\u5B57\u6BCD\u5F00\u5934\u7684\u82F1\u6587\u3001\u6570\u5B57",l=s?"8-24\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199":o+"-24\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199",p=layer.open({type:1,title:"\u7528\u6237\u6CE8\u518C",skin:"layui-layer-antd nohasbtn",closeBtn:1,anim:2,scrollbar:!1,shadeClose:!1,cancel:function(v,h){layer.close(p)},success:function(v,h){t.checkRegister.init(v,t);var m=v.find(".sexs"),w=v.find(".account").find(".istertxts"),x=v.find(".password").find(".istertxts"),u=v.find(".realname").find(".istertxts"),y=v.find(".schoolName").find(".istertxts"),C=v.find(".gradeName").find(".istertxts"),g=v.find(".className").find(".istertxts"),c=v.find(".mobile").find(".istertxts"),b=v.find(".verCode").find(".istertxts"),k=v.find(".referee").find(".istertxts"),j=v.find(".pictureCode").find(".istertxts");v.find(".registerAwaybtn").on("click",function(){var q=r(this).prev(".form-explain");q.css("height","0px");var J=t.checkRegister.check(v,t);if(J){var z=new Base64,F={loginName:w.val().trim(),password:x.val().trim(),refereeLoginName:t.checkRegister.refereeHideState?void 0:k.val().trim(),refereeId:t.checkRegister.refereeHideState?void 0:Array.isArray(t.checkRegister.refereeUids)?z.encode(encrypt(t.checkRegister.refereeUids[0])):void 0,sex:m.find(".curs").hasClass("sexnan")?1:0,sourceSchoolName:y.val().trim(),sourceGradeName:C.val().trim(),sourceClassName:g.val().trim()};t.checkRegister.vRealname&&(F.realName=u.val().trim()),t.checkRegister.verCodebtn?(F.mobilePhone=c.val().trim(),F.smsCode=b.val().trim()):F.captchaInput=j.val().trim()||1111,t.ajaxRegister(F,function(R){R.success?(layer.close(p),layer.msg("\u6CE8\u518C\u6210\u529F",{icon:1}),n&&n(R)):(q.text(R.message).css("height","24px"),v.find("#vContainer").attr("src","/api/user/getVerifyImageCode?cType=2&height=36&width=98&v="+Date.now()))})}}),v.find(".gologin").on("click",function(){layer.close(p),t.loginLayer()});var L=v.find(".txtAgreement"),O=v.find(".agree");if(i){var P=i==null?void 0:i.isOpenSchoolRegisterProtocol,U=i==null?void 0:i.schoolRegisterProtocol;if((!P||!isJSON(U))&&L.hide(),U&&isJSON(U)){var T=JSON.parse(U),I="";T.length==1?I+='<a href="/pages/protocol.html?xy=1" target="_blank">\u300A'+T[0].title+"\u300B</a>":T.length==2?(I+='<a href="/pages/protocol.html?xy=1" target="_blank">\u300A'+T[0].title+"\u300B</a><span>\u548C</span>",I+='<a href="/pages/protocol.html?xy=2" target="_blank">\u300A'+T[1].title+"\u300B</a>"):T.length>0&&(I+='<a href="/pages/protocol.html?xy=1" target="_blank">\u300A'+T[0].title+"\u300B\u3001</a>",I+='<a href="/pages/protocol.html?xy=2" target="_blank">\u300A'+T[1].title+"\u300B</a><span>\u548C</span>",I+='<a href="/pages/protocol.html?xy=3" target="_blank">\u300A'+T[2].title+"\u300B</a>"),O.html(I)}}},content:'<div class="userRegister" > <div class="mss">   <div class="clear"></div>   <div >     <div class="showno email" >       <div class="isterdiv account">          <div class="rbox">            <input class="istertxts" title="'+d+'" placeholder="'+d+'" type="text" maxLength="20" style="width: 250px;">         	  <div class="logIcoNew" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>          </div>         <div class="form-explain"></div>       </div>       <div class="isterdiv password">          <div class="rbox">           <input class="istertxts" title="'+l+'" placeholder="'+l+'" type="text" maxLength="24" style="width: 250px;">           <div class="logIcoNew logIcoPwd" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>         </div>         <div class="form-explain"></div>       </div>       <div class="isterdiv confirm">          <div class="rbox">            <input class="istertxts" title="\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801" placeholder="\u518D\u6B21\u8F93\u5165\u5BC6\u7801" type="text" style="width: 250px;">           <div class="logIcoNew logIcoPwd" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>         </div>         <div class="form-explain"></div>       </div>       <div class="isterdiv realname">         <div class="rbox">           <input class="istertxts" title="\u8BF7\u8F93\u5165\u60A8\u7684\u771F\u5B9E\u59D3\u540D" placeholder="\u8BF7\u8F93\u5165\u60A8\u7684\u771F\u5B9E\u59D3\u540D" type="text" style="width: 250px;">           <div class="logIcoNew logIcoNew" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>         </div>         <div class="form-explain"></div>       </div>       <div class="isterdiv schoolName">         <div class="rbox">           <input class="istertxts" title="'+(e?"\u8BF7\u8F93\u5165\u60A8\u7684\u5355\u4F4D\u540D\u79F0":"\u8BF7\u8F93\u5165\u60A8\u7684\u5B66\u6821\u540D\u79F0")+'" placeholder="'+(e?"\u8BF7\u8F93\u5165\u60A8\u7684\u5355\u4F4D\u540D\u79F0":"\u8BF7\u8F93\u5165\u60A8\u7684\u5B66\u6821\u540D\u79F0")+'" type="text" style="width: 250px;" maxLength="20">           <div class="logIcoNew logIcoSN" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>         </div>         <div class="form-explain"></div>         <div class="supendSchoolBox"><p></p></div>       </div>       <div class="isterdiv gradeName">         <div class="rbox">           <input class="istertxts" title="'+(e?"\u8BF7\u8F93\u5165\u60A8\u7684\u90E8\u95E8\u540D\u79F0":"\u8BF7\u8F93\u5165\u60A8\u7684\u5E74\u7EA7\u540D\u79F0")+'" placeholder="'+(e?"\u8BF7\u8F93\u5165\u60A8\u7684\u90E8\u95E8\u540D\u79F0":"\u8BF7\u8F93\u5165\u60A8\u7684\u5E74\u7EA7\u540D\u79F0")+'" type="text" style="width: 250px;" maxLength="20">           <div class="logIcoNew gradeIcon" style="background-image: url(/design/designstatic/home/image/u14_icon.png)">&nbsp;</div>         </div>         <div class="form-explain"></div>         <div class="supendSchoolBox"><p></p></div>       </div>        <div class="isterdiv className">         <div class="rbox">           <input class="istertxts" title="'+(e?"\u8BF7\u8F93\u5165\u60A8\u7684\u5C0F\u7EC4\u540D\u79F0":"\u8BF7\u8F93\u5165\u60A8\u7684\u73ED\u7EA7\u540D\u79F0")+'" placeholder="'+(e?"\u8BF7\u8F93\u5165\u60A8\u7684\u5C0F\u7EC4\u540D\u79F0":"\u8BF7\u8F93\u5165\u60A8\u7684\u73ED\u7EA7\u540D\u79F0")+'" type="text" style="width: 250px;" maxLength="20">           <div class="logIcoNew gradeIcon" style="background-image: url(/design/designstatic/home/image/u18.png)">&nbsp;</div>         </div>         <div class="form-explain"></div>         <div class="supendSchoolBox"><p></p></div>       </div>       <div class="isterdiv mobile">         <div class="rbox">           <input class="istertxts" title="\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7" placeholder="\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7" type="text" style="width: 250px;">           <div class="logIcoNew logIcoMobileCode" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>         </div>         <div class="form-explain"></div>       </div>       <div class="isterdiv verCode ">         <div class="rbox newrbox">            <input class="yantess istertxts" title="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"  placeholder="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801" type="text">            <div class="logIcoNew logIcoYang" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>         </div>         <a class="yaned" href="javascript:void(0)">\u83B7\u53D6\u9A8C\u8BC1\u7801</a>         <div class="form-explain"></div>       </div>       <div class="isterdiv pictureCode">         <div class="rbox newrbox">            <input class="yantess istertxts" title="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"  placeholder="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801" type="text">            <div class="logIcoNew logIcoYang" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>         </div>         <img class="yaned" src="/api/user/getVerifyImageCode?cType=2&height=36&width=98" id="vContainer" href="javascript:void(0)" style="cursor:pointer;border: 1px solid #dbe1ea;position: relative;top: 3px;border-radius: 4px;"/>         <div class="form-explain" style="clear: both;"></div>       </div>       <div class="isterdiv sexs">         <span class="sexnan curs" style="height:32px">\u7537</span>         <span class="sexnv" style="height:32px">\u5973</span>       </div>       <div class="isterdiv referee">         <div class="rbox" style="margin-top: 5px;">          <input class="istertxts" title="\u5982\u679C\u60A8\u6709\u63A8\u8350\u4EBA\uFF0C\u8BF7\u8F93\u5165\u63A8\u8350\u4EBA\u5E10\u53F7" placeholder="\u5982\u679C\u60A8\u6709\u63A8\u8350\u4EBA\uFF0C\u8BF7\u8F93\u5165\u63A8\u8350\u4EBA\u5E10\u53F7" type="text">         </div>         <div class="form-explain"></div>       </div>       <div class="clear"></div>       <div class="txtAgreement" style="margin-bottom: 10px;"><span>\u6CE8\u518C\u5373\u4EE3\u8868\u60A8\u5DF2\u7ECF\u540C\u610F\u5982\u4E0B\u534F\u8BAE\uFF1A</span><div class="agree"></div></div>       <div class="mt10" style="margin-bottom:-5px;clear: both;">         <div class="form-explain" style="text-align: center; opacity: 1;overflow:hidden;height:0;"></div>         <div class="logbtn registerAwaybtn" style="display: none;" value="\u7ACB\u5373\u6CE8\u518C" >\u7ACB\u5373\u6CE8\u518C</div>       </div>       <p class="tusies" style="margin: 15px 0">\u5DF2\u6709\u5E10\u53F7\uFF1F<a class="derase gologin" >\u9A6C\u4E0A\u767B\u5F55</a></p>     </div>   </div> </div></div>'})}},checkRegister:{init:function(n,t){var i=this,e=window.roominfo;i.roominfo=e,i.isCompany=(e==null?void 0:e.schoolType)=="2";var s=(e==null?void 0:e.isStrongPwd)==1,a=(e==null?void 0:e.loginNameMin)||6,o=s?8:(e==null?void 0:e.passwordMin)||3;i.loginNameTip=a+"-20\u4F4D\u8D26\u53F7\uFF0C\u4EE5\u5B57\u6BCD\u5F00\u5934\u7684\u82F1\u6587\u3001\u6570\u5B57",i.passwordTip=o+"-24\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199",i.regExpNameMin=new RegExp("^[a-zA-Z][a-zA-Z0-9]{"+(a-1)+",19}$"),i.regExpPasswordMin=new RegExp("^.{"+o+",24}$"),i.regExpPasswordMinStrong=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*d)[^]{"+o+",16}$"),i.passwordStrongTip="\u5BC6\u7801\u81F3\u5C11\u5305\u542B\u5927\u5199\u5B57\u6BCD\uFF0C\u5C0F\u5199\u5B57\u6BCD\uFF0C\u6570\u5B57",i.mbloo=!1,i.checkSchoolName=!0,i.checkGradeName=!0,i.checkClassName=!0,i.accountEvent(n,t),i.passwordEvent(n,t),i.realNameEvent(n,t),i.mobileEvent(n,t),i.pictureCodeEvent(n,t),i.schoolNameEvent(n,t),i.gradeNameEvent(n,t),i.classNameEvent(n,t),i.sexEvent(n,t),i.refereeEvent(n,t)},check:function(n,t){var i=this;return i.bloo=!0,i.accountEvent(n,t,!0),i.passwordEvent(n,t,!0),i.refereeEvent(n,t,!0),i.vRealname&&i.realNameEvent(n,t,!0),i.verCodebtn?i.mobileEvent(n,t,!0):i.pictureCodeEvent(n,t,!0),i.checkClassName&&i.classNameEvent(n,t,!0),i.checkGradeName&&i.gradeNameEvent(n,t,!0),i.checkSchoolName&&i.schoolNameEvent(n,t,!0),!!(i.bloo&&i.abloo&&i.mbloo)},accountEvent:function(n,t,i){var e=this,s=n.find(".account"),a=s.find(".istertxts"),o=s.find(".form-explain");if(i)return a.val().trim()==""?(s.addClass("error"),o.text("\u8BF7\u8F93\u5165\u7528\u6237\u540D"),e.bloo=!1):e.regExpNameMin.test(a.val().trim())||(s.addClass("error"),o.text(e.loginNameTip),e.bloo=!1),!1;s.removeClass("error"),a.on("input",function(){s.removeClass("error"),r(this).val().trim()==""?(s.addClass("error"),o.text("\u8BF7\u8F93\u5165\u7528\u6237\u540D")):e.regExpNameMin.test(r(this).val())||(s.addClass("error"),o.text(e.loginNameTip))}),e.abloo=!0,a.on("blur",function(){t.checkLoginName(a.val().trim(),function(d){d.success&&(parseInt(d.data)==0?(s.addClass("error"),o.text("\u8D26\u53F7\u5DF2\u5B58\u5728!"),e.abloo=!1):e.abloo=!0)})})},passwordEvent:function(n,t,i){var e=this,s=n.find(".password"),a=n.find(".confirm"),o=s.find(".istertxts"),d=a.find(".istertxts"),l=s.find(".form-explain"),p=a.find(".form-explain"),v=!1;if(window.roominfo&&(v=(roominfo==null?void 0:roominfo.isStrongPwd)==1),o.focus(function(){setTimeout(function(){o.attr("type","password")},100)}),d.focus(function(){setTimeout(function(){d.attr("type","password")},100)}),i)return o.val().trim()==""?(s.addClass("error"),l.text("\u8BF7\u8F93\u5165\u5BC6\u7801"),l.css({fontSize:14}),e.bloo=!1):v?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,16}$/.test(o.val().trim())||(s.addClass("error"),l.text(e.passwordStrongTip),l.css({fontSize:14}),e.bloo=!1):e.regExpPasswordMin.test(o.val().trim())||(s.addClass("error"),l.text(e.passwordTip),l.css({fontSize:12}),e.bloo=!1),d.val().trim()==""&&(a.addClass("error"),p.text("\u518D\u6B21\u8F93\u5165\u5BC6\u7801"),e.bloo=!1),d.val().trim()!=o.val().trim()&&(a.addClass("error"),p.text("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!"),e.bloo=!1),!1;s.removeClass("error"),a.removeClass("error"),o.on("input",function(){s.removeClass("error"),r(this).val().trim()==""?(s.addClass("error"),l.text("\u8BF7\u8F93\u5165\u5BC6\u7801")):e.regExpPasswordMin.test(r(this).val())||(s.addClass("error"),l.text(e.passwordTip))}),o.on("blur",function(){r(this).val().trim()==d.val().trim()&&a.removeClass("error")}),d.on("input",function(){a.removeClass("error"),r(this).val().trim()==""&&(a.addClass("error"),p.text("\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801"))}),d.on("blur",function(){r(this).val().trim()!=o.val().trim()&&(a.addClass("error"),p.text("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!"))})},realNameEvent:function(n,t,i){var d;var e=this,s=n.find(".realname"),a=s.find(".istertxts"),o=s.find(".form-explain");if(i)return a.val().trim()==""&&(s.addClass("error"),o.text("\u8BF7\u8F93\u5165\u60A8\u7684\u771F\u5B9E\u59D3\u540D"),e.bloo=!1),!1;s.removeClass("error"),e.roominfo&&parseInt((d=e.roominfo)==null?void 0:d.isRegisterRealName)==0?(s.hide(),e.vRealname=!1):e.vRealname=!0,a.on("input",function(){s.removeClass("error"),r(this).val().trim()==""&&(s.addClass("error"),o.text("\u8BF7\u8F93\u5165\u60A8\u7684\u771F\u5B9E\u59D3\u540D"))})},mobileEvent:function(n,t,i){var m;var e=this,s=n.find(".mobile"),a=s.find(".istertxts"),o=s.find(".form-explain"),d=n.find(".verCode"),l=d.find(".istertxts"),p=d.find(".form-explain"),v=d.find("a.yaned");if(i)return a.val().trim()==""&&(s.addClass("error"),o.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),e.bloo=!1),l.val().trim()==""&&(d.addClass("error"),p.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"),e.bloo=!1),!1;d.removeClass("error"),s.removeClass("error"),e.roominfo&&parseInt((m=e.roominfo)==null?void 0:m.isRegisterPhone)==0&&(d.hide(),s.hide()),a.on("input",function(){e.mbloo=!0,s.removeClass("error"),r(this).val().trim()==""&&(s.addClass("error"),o.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),e.mbloo=!1)}),a.on("blur",function(){e.mbloo=!0,/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(r(this).val())||(e.mbloo=!1,s.addClass("error"),o.text("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801"))});var h=!0;v.on("click",function(){e.mbloo&&h?(h=!1,t.sendRegisterVerify(a.val().trim(),function(w){if(parseInt(w.code)==505)s.addClass("error"),o.text("\u8BE5\u624B\u673A\u53F7\u7801\u5DF2\u88AB\u6CE8\u518C!"),e.mbloo=!1,h=!0;else if(w.success){e.mbloo=!0;var x=60;v.css("color","#ccc"),v.text("\u5DF2\u53D1\u9001\uFF08"+x+"\uFF09");var u=setInterval(function(){x=x-1,v.text("\u5DF2\u53D1\u9001\uFF08"+x+"\uFF09"),x==0&&(h=!0,clearInterval(u),v.css("color","#666"),v.text("\u83B7\u53D6\u9A8C\u8BC1\u7801"))},1e3)}})):a.val().trim()==""&&(s.addClass("error"),o.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),e.mbloo=!1)}),l.on("input",function(){d.removeClass("error"),r(this).val().trim()==""&&(d.addClass("error"),p.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"))})},pictureCodeEvent:function(n,t,i){var l;var e=this,s=n.find(".pictureCode"),a=s.find(".istertxts"),o=s.find(".form-explain"),d=s.find("#vContainer");if(d.on("click",function(){d.attr("src","/api/user/getVerifyImageCode?cType=2&height=36&width=98&v="+Date.now())}),i)return a.val().trim()==""&&(s.addClass("error"),o.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"),e.bloo=!1),!1;s.removeClass("error"),e.roominfo&&parseInt((l=e.roominfo)==null?void 0:l.isRegisterPhone)==1&&(e.verCodebtn=!0,s.hide()),a.on("input",function(){e.mbloo=!0,s.removeClass("error"),r(this).val().trim()==""&&(s.addClass("error"),o.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"),e.mbloo=!1)}),a.on("blur",function(){mbloo=!0,r(this).val().trim()||(s.addClass("error"),e.mbloo=!1,o.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"))})},schoolNameEvent:function(n,t,i){var m;var e=this,s=e.isCompany?"\u5355\u4F4D":"\u5B66\u6821",a=n.find(".schoolName"),o=a.find(".istertxts"),d=a.find(".form-explain"),l=a.find(".supendSchoolBox");if(i)return o.val().trim()==""?(a.addClass("error"),d.text("\u8BF7\u8F93\u5165"+s+"\u540D\u79F0"),e.bloo=!1):/^[a-zA-Z0-9_\u4e00-\u9fa5]{1,20}$/.test(o.val().trim())||(a.addClass("error"),d.text("\u8BF7\u8F93\u51651-20\u4F4D\u4E2D\u82F1\u6587\u3001\u6570\u5B57"),e.bloo=!1),!1;a.removeClass("error"),e.roominfo&&parseInt((m=e.roominfo)==null?void 0:m.isRegisterSourceSchool)==0?(e.checkSchoolName=!1,a.hide()):e.checkSchoolName=!0;var p=function(w){w.length>0?l.show():l.hide();for(var x="",u=w.length>5?5:w.length,y=0;y<u;y++)x+="<p>"+w[y]+"</p>";l.html(x)},v=function(){t.getTopFiveSchoolNames(function(w){w.success&&p(w.data)})},h=function(w){t.searchRegisterSchoolNames(w,function(x){x.success&&p(x.data)})};l.on("click","p",function(){o.val(r(this).text()),l.hide(),a.removeClass("error")}),o.focus(function(){r(this).val().trim()||v()}),o.on("input",function(){var w=r(this).val().trim();w?/^[a-zA-Z0-9_\u4e00-\u9fa5]{1,20}$/.test(w)?(w.length<6?h(w):l.hide(),a.removeClass("error")):(a.addClass("error"),d.text("\u8BF7\u8F93\u51651-20\u4F4D\u4E2D\u82F1\u6587\u3001\u6570\u5B57"),l.hide()):(a.addClass("error"),d.text("\u8BF7\u8F93\u5165"+s+"\u540D\u79F0"),v())}),o.on("blur",function(){var w=r(this);setTimeout(function(){l.hide(),w.val().trim()?a.removeClass("error"):(a.addClass("error"),d.text("\u8BF7\u8F93\u5165"+s+"\u540D\u79F0"))},500)})},gradeNameEvent:function(n,t,i){var l;var e=this,s=e.isCompany?"\u90E8\u95E8":"\u5E74\u7EA7",a=n.find(".gradeName"),o=a.find(".istertxts"),d=a.find(".form-explain");if(i)return o.val().trim()==""?(a.addClass("error"),d.text("\u8BF7\u8F93\u5165"+s+"\u540D\u79F0"),e.bloo=!1):o.val().length>11&&(a.addClass("error"),d.text("\u8F93\u5165\u7684\u6700\u5927\u957F\u5EA6\u4E3A11"),e.bloo=!1),!1;a.removeClass("error"),e.roominfo&&parseInt((l=e.roominfo)==null?void 0:l.isRegisterSourceGrade)==0?(e.checkGradeName=!1,a.hide()):e.checkGradeName=!0,o.on("input",function(){var p=r(this).val().trim();p?p.length>11?(a.addClass("error"),d.text("\u8F93\u5165\u7684\u6700\u5927\u957F\u5EA6\u4E3A11")):a.removeClass("error"):(a.addClass("error"),d.text("\u8BF7\u8F93\u5165"+s+"\u540D\u79F0"))}),o.on("blur",function(){var p=r(this);setTimeout(function(){p.val().trim()?a.removeClass("error"):(a.addClass("error"),d.text("\u8BF7\u8F93\u5165"+s+"\u540D\u79F0"))},500)})},classNameEvent:function(n,t,i){var l;var e=this,s=e.isCompany?"\u5C0F\u7EC4":"\u73ED\u7EA7",a=n.find(".className"),o=a.find(".istertxts"),d=a.find(".form-explain");if(i)return o.val().trim()==""?(a.addClass("error"),d.text("\u8BF7\u8F93\u5165"+s+"\u540D\u79F0"),e.bloo=!1):o.val().length>11&&(a.addClass("error"),d.text("\u8F93\u5165\u7684\u6700\u5927\u957F\u5EA6\u4E3A11"),e.bloo=!1),!1;a.removeClass("error"),e.roominfo&&parseInt((l=e.roominfo)==null?void 0:l.isRegisterSourceClass)==0?(e.checkClassName=!1,a.hide()):e.checkClassName=!0,o.on("input",function(){var p=r(this).val().trim();p?p.length>11?(a.addClass("error"),d.text("\u8F93\u5165\u7684\u6700\u5927\u957F\u5EA6\u4E3A11")):a.removeClass("error"):(a.addClass("error"),d.text("\u8BF7\u8F93\u5165"+s+"\u540D\u79F0"))}),o.on("blur",function(){var p=r(this);setTimeout(function(){p.val().trim()?a.removeClass("error"):(a.addClass("error"),d.text("\u8BF7\u8F93\u5165"+s+"\u540D\u79F0"))},500)})},sexEvent:function(n,t){var i=this,e=n.find(".sexs"),s=e.find("span");s.on("click",function(){s.removeClass("curs"),r(this).addClass("curs")})},refereeEvent:function(n,t,i){var d;var e=this,s=n.find(".referee"),a=s.find(".istertxts"),o=s.find(".form-explain");if(i)return!e.refereeCode&&a.val().trim()!=""&&(s.addClass("error"),o.text("\u8BE5\u63A8\u8350\u4EBA\u4E0D\u5728\u8BE5\u5E73\u53F0\u4E0B"),e.bloo=!1),e.refereePedding&&(s.addClass("error"),o.text("\u7A0D\u5019\uFF0C\u6B63\u5728\u9A8C\u8BC1\u8BE5\u63A8\u8350\u4EBA\u4FE1\u606F"),e.bloo=!1),!1;s.removeClass("error"),e.refereeHideState=e.roominfo&&parseInt((d=e.roominfo)==null?void 0:d.refereeState)==0,e.refereeUids=t.getQueryRetailId(),(e.refereeHideState||e.refereeUids)&&s.hide(),e.refereeCode=!0,e.refereePedding=!1,a.on("blur",function(){if(s.removeClass("error"),!r(this).val().trim())return!1;e.refereePedding=!0,e.refereeCode=!1;var l={loginName:r(this).val().trim(),loginStatus:!1};t.checkLoginNameExist(l,function(p){e.refereePedding=!1,p.success&&p.data.platform?(e.refereeCode=!0,s.removeClass("error")):(s.addClass("error"),o.text("\u8BE5\u63A8\u8350\u4EBA\u4E0D\u5B58\u5728"))})})}},registerSchoolLayer:function(){var n=window.roominfo;if(!n)return!1;var t=6,i=t+"-24\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199",e=this,s=layer.open({type:1,title:"\u7F51\u6821\u6CE8\u518C",skin:"layui-layer-antd",closeBtn:1,anim:2,area:"375px 750px",scrollbar:!1,shadeClose:!1,cancel:function(a,o){},success:function(a,o){var de,M;var d=a.find(".schoolName"),l=a.find(".domain"),p=a.find(".realname"),v=a.find(".password"),h=a.find(".mobile"),m=a.find(".verCode"),w=a.find("#cookietime"),x=a.find(".createBtn"),u=new RegExp("^.{"+t+",24}$"),y=a.find(".derase");y.on("click",function(){localStorage.schoolRegisterProtocol=n==null?void 0:n.schoolRegisterProtocol,window.open("/pages/schoolRegister/schoolRegisterProtocol.html")});var C=a.find(".repic a"),g=d.find(".isterspan"),c=l.find(".isterspan"),b="school";C.on("click",function(){C.removeClass("cur"),r(this).addClass("cur"),r(this).attr("data-ctype")=="school"?(b="school",g.text("\u7F51\u6821\u540D\u79F0"),c.text("\u7F51\u6821\u57DF\u540D"),T.text("\u8BF7\u8F93\u5165\u7F51\u6821\u540D\u79F0")):(b="company",g.text("\u4F01\u4E1A\u540D\u79F0"),c.text("\u4F01\u4E1A\u57DF\u540D"),T.text("\u8BF7\u8F93\u5165\u4F01\u4E1A\u540D\u79F0"))});var k=d.find(".istertxts"),j=l.find(".istertxts"),L=p.find(".istertxts"),O=v.find(".istertxts"),P=h.find(".istertxts"),U=m.find(".istertxts"),T=d.find(".form-explain"),I=l.find(".form-explain"),q=p.find(".form-explain"),J=v.find(".form-explain"),z=h.find(".form-explain"),F=m.find(".form-explain"),R=!0;k.on("input",function(){d.removeClass("error"),r(this).val().trim()==""?(d.addClass("error"),b=="school"?T.text("\u8BF7\u8F93\u5165\u7F51\u6821\u540D\u79F0"):T.text("\u8BF7\u8F93\u5165\u4F01\u4E1A\u540D\u79F0")):/^\S{1,20}$/.test(r(this).val())||(d.addClass("error"),T.text("\u6700\u5927\u8F93\u5165\u957F\u5EA6\u4E3A20\u4E2A\u5B57"))}),k.on("blur",function(){e.addClientSchoolCheck({schoolName:k.val().trim()},function(_){_.success&&(parseInt(_.data)==1?(d.addClass("error"),T.text("\u7F51\u6821\u540D\u79F0\u91CD\u590D!"),R=!1):R=!0)})}),j.on("input",function(){l.removeClass("error"),r(this).val().trim()==""?(l.addClass("error"),I.text("\u8BF7\u8F93\u5165\u57DF\u540D")):/^[a-z0-9]{5,20}$/.test(r(this).val())||(l.addClass("error"),I.text("5-20\u4F4D\u82F1\u6587(\u5C0F\u5199)\u6216\u6570\u5B57"))}),j.on("blur",function(){e.addClientSchoolCheck({secondLevelDomain:j.val().trim()},function(_){_.success&&(parseInt(_.data)==2?(l.addClass("error"),I.text("\u7F51\u6821\u57DF\u540D\u91CD\u590D!"),R=!1):R=!0)})}),L.on("input",function(){p.removeClass("error"),r(this).val().trim()==""&&(p.addClass("error"),q.text("\u8BF7\u8F93\u5165\u60A8\u7684\u771F\u5B9E\u59D3\u540D"))}),O.on("input",function(){v.removeClass("error"),r(this).val().trim()==""?(v.addClass("error"),J.text("\u8BF7\u8F93\u5165\u5BC6\u7801")):u.test(r(this).val())||(v.addClass("error"),J.text(i))});var E=!1;P.on("input",function(){E=!0,h.removeClass("error"),r(this).val().trim()==""&&(h.addClass("error"),z.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),E=!1)}),P.on("blur",function(){E=!0,r(this).val().trim()==""?(h.addClass("error"),z.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),E=!1):/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(r(this).val())?e.addClientSchoolCheck({mobilePhone:r(this).val().trim()},function(_){_.success&&(parseInt(_.data)==3?(h.addClass("error"),z.text("\u8D26\u53F7\u5728\u5E73\u53F0\u4E0A\u5DF2\u5B58\u5728!"),E=!1):parseInt(_.data)==4?(h.addClass("error"),z.text("\u8BE5\u624B\u673A\u53F7\u7801\u5DF2\u88AB\u6CE8\u518C!"),E=!1):E=!0)}):(E=!1,h.addClass("error"),z.text("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801"))});var X=a.find("a.yaned"),ie=!0;if(X.on("click",function(){E&&ie?(ie=!1,e.sendRegisterBySchool(P.val().trim(),function(_){if(parseInt(_.code)==505)h.addClass("error"),z.text("\u8BE5\u624B\u673A\u53F7\u7801\u5DF2\u88AB\u6CE8\u518C!"),ie=!0,E=!1;else if(_.success){E=!0;var G=60;X.css("color","#ccc"),X.text("\u5DF2\u53D1\u9001\uFF08"+G+"\uFF09");var W=setInterval(function(){G=G-1,X.text("\u5DF2\u53D1\u9001\uFF08"+G+"\uFF09"),G==0&&(ie=!0,clearInterval(W),X.css("color","#666"),X.text("\u83B7\u53D6\u9A8C\u8BC1\u7801"))},1e3)}})):P.val().trim()==""&&(h.addClass("error"),z.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),E=!1)}),U.on("input",function(){m.removeClass("error"),r(this).val().trim()==""&&(m.addClass("error"),F.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"))}),window.roominfo){var re=a.find(".esuze");re.text((de=window.roominfo)==null?void 0:de.platformTopLevelDomain),re.attr("title",(M=window.roominfo)==null?void 0:M.platformTopLevelDomain)}x.on("click",function(){var _=!0;k.val().trim()==""?(d.addClass("error"),b=="school"?T.text("\u8BF7\u8F93\u5165\u7F51\u6821\u540D\u79F0"):T.text("\u8BF7\u8F93\u5165\u4F01\u4E1A\u540D\u79F0"),_=!1):/^\S{1,20}$/.test(k.val().trim())||(d.addClass("error"),T.text("\u6700\u5927\u8F93\u5165\u957F\u5EA6\u4E3A20\u4E2A\u5B57"),_=!1),j.val().trim()==""?(l.addClass("error"),I.text("\u8BF7\u8F93\u5165\u57DF\u540D"),_=!1):/^[a-z0-9]{5,20}$/.test(j.val().trim())||(l.addClass("error"),I.text("5-20\u4F4D\u82F1\u6587(\u5C0F\u5199)\u6216\u6570\u5B57"),_=!1),L.val().trim()==""&&(p.addClass("error"),q.text("\u8BF7\u8F93\u5165\u60A8\u7684\u771F\u5B9E\u59D3\u540D"),_=!1),O.val().trim()==""&&(v.addClass("error"),J.text("\u8BF7\u8F93\u5165\u5BC6\u7801!"),_=!1),P.val().trim()==""&&(h.addClass("error"),z.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),_=!1),U.val().trim()==""&&(m.addClass("error"),F.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"),_=!1);var G=r(this).prev(".form-explain");if(w.prop("checked")?G.css("height","0px"):(_=!1,G.text("\u60A8\u5C1A\u672A\u540C\u610F\u521B\u5EFA\u7F51\u6821\u670D\u52A1\u534F\u8BAE").css("height","24px")),_&&E&&R){var W={code:U.val().trim(),mobilePhone:P.val().trim(),password:O.val().trim(),realName:L.val().trim(),schoolName:k.val().trim(),schoolType:b=="school"?1:2,secondLevelDomain:j.val().trim(),sourceChannel:getPagesFrom()};e.addClientSchool(W,function(V){var oe,B;if(V.success){layer.close(s);var ne=layer.open({type:1,title:"",skin:"layui-layer-antd",closeBtn:1,anim:2,area:["500px","300px"],scrollbar:!1,shadeClose:!0,cancel:function(D,te){},success:function(D,te){var ae=D.find(".logarm");ae.on("click",function(){layer.close(ne)})},content:'<div class="determine">		<div class="sptitle">\u6CE8\u518C\u6210\u529F</div>		<div class="spclete"><span class="spnte">\u7F51\u6821\u5730\u5740\uFF1A</span>'+j.val().trim()+""+((oe=window.roominfo)==null?void 0:oe.platformTopLevelDomain)+'</div>		<div class="spclete"><span class="spnte">\u7BA1\u7406\u5458\u8D26\u53F7\uFF1A</span>'+P.val().trim()+'</div>    <a class="logarm" href="http://'+j.val().trim()+""+((B=window.roominfo)==null?void 0:B.platformTopLevelDomain)+'/aroom/#/user/login" target="_blank">\u7ACB\u5373\u767B\u5F55</a></div>'})}else{var Z=V.message;switch(parseInt(V.data)){case 1:Z="\u7F51\u6821\u540D\u79F0\u91CD\u590D";break;case 2:Z="\u7F51\u6821\u57DF\u540D\u91CD\u590D";break;case 4:Z="\u9A8C\u8BC1\u7801\u8FC7\u671F";break;case 5:Z="\u9A8C\u8BC1\u7801\u6821\u9A8C\u5931\u8D25";break;default:}parseInt(V.code)==1001&&(Z="\u7528\u6237\u5DF2\u5B58\u5728"),G.text(Z).css("height","24px")}})}})},content:'<div class="register" style="padding-bottom:20px;"> <div class="mss">  <div class="clear"></div>  <div class="mt15">    <div class="showno email" >      <div class="isterdiv schoolName">        <span class="isterspan">\u7F51\u6821\u540D\u79F0</span>        <input class="istertxts" title="\u8BF7\u8F93\u5165\u6700\u591A20\u5B57\u7684\u7F51\u6821\u540D\u79F0" placeholder="\u8BF7\u8F93\u5165\u6700\u591A20\u5B57\u7684\u7F51\u6821\u540D\u79F0" type="text">        <span class="qeusle"></span>        <div class="form-explain"></div>      </div>      <div class="isterdiv domain">        <span class="isterspan">\u7F51\u6821\u57DF\u540D</span>        <input class="yantess istertxts" style="width:160px;" title="5-20\u4F4D\u82F1\u6587\u3001\u6570\u5B57\u7EC4\u6210" placeholder="5-20\u4F4D\u82F1\u6587\u3001\u6570\u5B57\u7EC4\u6210" type="text">        <span class="esuze">.xx.com</span>        <span class="qeusle"></span>        <div class="form-explain"></div>      </div>      <div class="isterdiv mobile">        <span class="isterspan">\u7BA1\u7406\u5458\u8D26\u53F7</span>        <input class="istertxts" title="\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7" placeholder="\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"  type="text">        <span class="qeusle"></span>        <div class="form-explain"></div>      </div>      <div class="isterdiv password">        <span class="isterspan">\u767B\u5F55\u5BC6\u7801</span>        <input class="istertxts" title="'+i+'" placeholder="'+i+'" >        <span class="qeusle"></span>        <div class="form-explain"></div>      </div>      <div class="isterdiv realname">        <span class="isterspan">\u771F\u5B9E\u59D3\u540D</span>        <input class="istertxts" title="\u8BF7\u8F93\u5165\u60A8\u7684\u771F\u5B9E\u59D3\u540D" placeholder="\u8BF7\u8F93\u5165\u60A8\u7684\u771F\u5B9E\u59D3\u540D" value="" name="mobile" type="text">        <span class="qeusle"></span>        <div class="form-explain"></div>      </div>      <div class="isterdiv verCode">        <span class="isterspan">\u9A8C\u8BC1\u7801</span>        <input class="yantess istertxts" title="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801" style="width: 170px;"  placeholder="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"  type="text">        <a class="yaned" href="javascript:void(0)">\u83B7\u53D6\u9A8C\u8BC1\u7801</a>        <span class="qeusle"></span>        <div class="form-explain"></div>      </div>      <div class="isterdiv" style="margin-bottom:0px;">        <input style="vertical-align: middle;" type="checkbox" name="cookietime" id="cookietime">        <label class="rybtnat" for="cookietime">\u6211\u5DF2\u9605\u8BFB\u5E76\u540C\u610F\u300A<a class="derase" href="javascript:;">\u521B\u5EFA\u7F51\u6821\u670D\u52A1\u534F\u8BAE</a>\u300B</label>      </div>      <div class="clear"></div>      <div class="mt15">        <div class="form-explain" style="text-align: center; opacity: 1;overflow:hidden;height:0;"></div>        <input class="logbtn createBtn" value="\u7ACB\u5373\u521B\u5EFA" type="button">      </div>    </div>  </div></div></div>'})},getUsernameLayer:function(n){var t=this;layer.open({type:2,title:"\u7528\u6237\u540D\u67E5\u8BE2\u7CFB\u7EDF",skin:"layui-layer-antd layui-layer-getUsernameLayer",area:["700px","450px"],closeBtn:1,anim:2,scrollbar:!1,content:"/pages/queryusernameiframe.html?designId="+n,success:function(i,e){var s=r("#designId",i.find("iframe")[0].contentWindow.document);s.attr("value",n)}})},getExchangecoupon:function(n){var t=this;layer.open({type:2,title:"\u5151\u6362\u4F18\u60E0\u5238",skin:"layui-layer-antd layui-layer-getExchangecoupon",area:["450px","300px"],closeBtn:1,anim:2,scrollbar:!1,content:"/pages/exchangecoupon.html",success:function(i,e){}})},firstsetPasswordLayer:function(n,t){var i=this,e=layer.open({type:1,title:"\u8BBE\u7F6E\u5BC6\u7801",skin:"layui-layer-antd",closeBtn:1,anim:2,scrollbar:!1,shadeClose:!0,cancel:function(s,a){},success:function(s,a){var o=s.find(".resetBtn"),d=s.find(".password"),l=s.find(".confirm"),p=d.find(".istertxts"),v=l.find(".istertxts"),h=d.find(".form-explain"),m=l.find(".form-explain"),w=!1,x=3;window.roominfo&&(w=(roominfo==null?void 0:roominfo.isStrongPwd)==1,x=roominfo==null?void 0:roominfo.passwordMin),p.on("input",function(){d.removeClass("error"),r(this).val().trim()==""?(d.addClass("error"),h.text("\u8BF7\u8F93\u5165\u5BC6\u7801")):w?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,16}$/.test(p.val().trim())||(d.addClass("error"),h.text("8-24\u4F4D\u5BC6\u7801\uFF0C\u5305\u542B\u5927\u5199\u5B57\u6BCD\uFF0C\u5C0F\u5199\u5B57\u6BCD\uFF0C\u6570\u5B57")):new RegExp("^.{3,24}$").test(r(this).val())||(d.addClass("error"),h.text(x+"-24\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"))}),v.on("input",function(){l.removeClass("error"),r(this).val().trim()==""&&(l.addClass("error"),m.text("\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801")),r(this).val().trim()!=p.val().trim()&&(l.addClass("error"),m.text("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!"),u=!1)}),v.on("blur",function(){r(this).val().trim()!=p.val().trim()&&(l.addClass("error"),m.text("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!"))});var u=!0;o.on("click",function(){if(u=!0,p.val().trim()==""?(d.addClass("error"),h.text("\u8BF7\u8F93\u5165\u5BC6\u7801"),u=!1):new RegExp("^.{3,24}$").test(p.val())||(d.addClass("error"),h.text("3-24\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"),u=!1),v.val().trim()==""&&(l.addClass("error"),m.text("\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801"),u=!1),v.val().trim()!=p.val().trim()&&(l.addClass("error"),m.text("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!"),u=!1),u){var y={smsCode:n,mobile:t,password:p.val().trim()};i.mobileLogin(y,function(C){C.success?(layer.close(e),layer.msg("\u8BBE\u7F6E\u5BC6\u7801\u6210\u529F",{icon:1})):layer.msg("\u8BBE\u7F6E\u5BC6\u7801\u5931\u8D25\uFF0C"+C.message,{icon:5})})}})},content:'<div class="register" style="height:260px;">	<div class="mss">		<div class="clear"></div>		<div class="mt15">			<div class="showno email" >				<div class="isterdiv password">					<span class="isterspan">\u767B\u5F55\u5BC6\u7801</span>					<input class="istertxts" title="3-24\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199" placeholder="\u8BF7\u8F93\u5165\u5BC6\u7801"  type="password">					<span class="qeusle"></span>           <div class="form-explain"></div>				</div>				<div class="isterdiv confirm">					<span class="isterspan">\u786E\u8BA4\u5BC6\u7801</span>					<input class="istertxts" title="\u518D\u6B21\u8F93\u5165\u5BC6\u7801" placeholder="\u518D\u6B21\u8F93\u5165\u5BC6\u7801"  type="password">					<span class="qeusle"></span>           <div class="form-explain"></div>				</div>				<div class="clear"></div>				<div class="mt15" style="margin-bottom:-5px;">          <div class="form-explain" style="text-align: center; opacity: 1;overflow:hidden;height:0;"></div>					<input class="logbtn resetBtn" value="\u786E\u8BA4" type="button">				</div>			</div>		</div>	</div></div>'})},resetPasswordLayer:function(n,t){var i=window.roominfo;if(!i)return!1;var e=(i==null?void 0:i.isStrongPwd)==1,s=e?8:(i==null?void 0:i.passwordMin)||3,a=s+"-24\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199",o=this,d=layer.open({type:1,title:"\u91CD\u7F6E\u5BC6\u7801",skin:"layui-layer-antd",closeBtn:1,anim:2,scrollbar:!1,shadeClose:!0,cancel:function(l,p){},success:function(l,p){var v=l.find(".resetPassWord"),h=l.find(".password"),m=l.find(".confirm"),w=h.find(".istertxts"),x=m.find(".istertxts"),u=h.find(".form-explain"),y=m.find(".form-explain"),C=new RegExp("^.{"+s+",24}$");w.on("input",function(){h.removeClass("error"),r(this).val().trim()==""?(h.addClass("error"),u.text("\u8BF7\u8F93\u5165\u5BC6\u7801")):e?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,16}$/.test(w.val().trim())||(h.addClass("error"),u.text("8-24\u4F4D\u5BC6\u7801\uFF0C\u5305\u542B\u5927\u5199\u5B57\u6BCD\uFF0C\u5C0F\u5199\u5B57\u6BCD\uFF0C\u6570\u5B57")):C.test(r(this).val())||(h.addClass("error"),u.text(a))}),x.on("input",function(){m.removeClass("error"),r(this).val().trim()==""&&(m.addClass("error"),y.text("\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801")),r(this).val().trim()!=w.val().trim()&&(m.addClass("error"),y.text("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!"),g=!1)}),x.on("blur",function(){r(this).val().trim()!=w.val().trim()&&(m.addClass("error"),y.text("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!"))});var g=!0;v.on("click",function(){if(g=!0,w.val().trim()==""?(h.addClass("error"),u.text("\u8BF7\u8F93\u5165\u5BC6\u7801"),g=!1):e?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,16}$/.test(w.val().trim())||(h.addClass("error"),u.text("8-24\u4F4D\u5BC6\u7801\uFF0C\u5305\u542B\u5927\u5199\u5B57\u6BCD\uFF0C\u5C0F\u5199\u5B57\u6BCD\uFF0C\u6570\u5B57"),u.css({fontSize:"12px"}),g=!1):C.test(w.val())||(h.addClass("error"),u.text(a),u.css({fontSize:14}),g=!1),x.val().trim()==""&&(m.addClass("error"),y.text("\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801"),g=!1),x.val().trim()!=w.val().trim()&&(m.addClass("error"),y.text("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!"),g=!1),g){var c={code:n,detail:t,password:w.val().trim()};o.ajaxSetPwd(c,function(b){b.success?(layer.close(d),layer.msg("\u91CD\u7F6E\u5BC6\u7801\u6210\u529F",{icon:1})):layer.msg("\u91CD\u7F6E\u5BC6\u7801\u5931\u8D25\uFF0C"+b.message,{icon:5})})}})},content:'<div class="userRegister register" style="margin-bottom:20px;">	<div class="mss">		<div class="clear"></div>		<div >			<div class="showno email" >				<div class="isterdiv password">          <div class="rbox">					   <input class="istertxts" title="'+a+'" placeholder="'+a+'"  type="password"><div class="logIcoNew logIcoPwd" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>				  </div>           <div class="form-explain"></div>				</div>				<div class="isterdiv confirm">          <div class="rbox">					  <input class="istertxts" title="\u518D\u6B21\u8F93\u5165\u5BC6\u7801" placeholder="\u518D\u6B21\u8F93\u5165\u5BC6\u7801"  type="password"><div class="logIcoNew logIcoPwd" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>				  </div>           <div class="form-explain"></div>				</div>				<div class="clear"></div>				<div class="mt15" >          <div class="form-explain" style="text-align: center; opacity: 1;overflow:hidden;height:0;"></div>					<a class="logbtn resetPassWord">\u91CD\u7F6E\u5BC6\u7801</a>				</div>			</div>		</div>	</div></div>'})},ztogetPasswordLayer:function(n){var t=this;clearTimeout(t.ztopass);var i=layer.open({type:1,title:"",skin:"layui-layer-antd",closeBtn:0,anim:2,area:["663px","515px"],cancel:function(e,s){},success:function(e,s){e.find(".go_login").on("click",function(){layer.close(i),t.ztoLoginlayer()});var a=e.find(".find_back_box .password_form").eq(0),o=e.find(".find_back_box .password_form").eq(1),d=e.find(".find_back_box .password_form").eq(2);a.on("click",".next",function(){h()}),o.on("click",".next",function(){m()}),e.find(".get_codees").on("click",function(){v()});var l="",p="";function v(){l=e.find("#find_pwd_tel").val(),p=e.find("#find_pwd_code").val(),l==""?(e.find("#find_pwd_tel").parent().find(".tips").addClass("show").text("\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"),e.find("#find_pwd_tel").focus()):/^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(l)?(e.find("#find_pwd_tel").parent().find(".tips").removeClass("show"),r.ajax({type:"POST",headers:{token:getCookie("token")},url:"/api/school/sendforgetPassword"+window.tsnfors,contentType:"application/json",dataType:"json",data:JSON.stringify({mobilePhone:l||""}),async:!0,success:function(x){if(x.code==200){let g=function(c){if(u==1){c.attr("disabled",!1),c.show(),e.find(".disabledses").hide(),u=60;return}else e.find(".disabledses").attr("disabled",!0),c.hide(),e.find(".disabledses").show().val("\u91CD\u65B0\u53D1\u9001("+u+")"),u--;t.ztopass=setTimeout(function(){g(c)},1e3)};var C=g,u=60,y=e.find(".get_codees");g(y)}else if(x.code==601)e.find("#find_pwd_tel").parent().find(".tips").addClass("show").text("\u53D1\u9001\u9A8C\u8BC1\u7801\u5931\u8D25,\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01"),e.find("#find_pwd_tel").focus();else if(x.code==400)e.find("#find_pwd_tel").parent().find(".tips").addClass("show").text("\u53D1\u9001\u9A8C\u8BC1\u7801\u5931\u8D25,\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01"),e.find("#find_pwd_tel").focus();else if(x.code==404)e.find("#find_pwd_tel").parent().find(".tips").addClass("show").text("\u624B\u673A\u53F7\u7801\u672A\u6CE8\u518C\uFF01"),e.find("#find_pwd_tel").focus();else if(!x.success)switch(x.message?x.message.split("Permits:")[1]:""){case"2":x.message="1\u5206\u949F\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5",layer.msg(x.message,{icon:5});break;case"5":x.message="1\u5C0F\u65F6\u5185\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u7A0D\u5019\u518D\u8BD5",layer.msg(x.message,{icon:5});break;case"20":x.message="\u5F53\u5929\u77ED\u4FE1\u53D1\u9001\u53D7\u9650, \u8BF7\u660E\u5929\u518D\u8BD5",layer.msg(x.message,{icon:5});break}}})):(e.find("#find_pwd_tel").parent().find(".tips").addClass("show").text("\u624B\u673A\u53F7\u7801\u4E0D\u6B63\u786E"),e.find("#find_pwd_tel").focus())}function h(){l=e.find("#find_pwd_tel").val(),p=e.find("#find_pwd_code").val(),l==""?(e.find("#find_pwd_tel").parent().find(".tips").addClass("show").text("\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"),e.find("#find_pwd_tel").focus()):/^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(l)?r.ajax({type:"GET",url:"/api/user/phone/check"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:{mobilePhone:l},success:function(x){x.data==!0?(e.find("#find_pwd_tel").parent().find(".tips").removeClass("show"),p==""?(e.find("#find_pwd_code").parent().find(".tips").addClass("show").text("\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"),e.find("#find_pwd_code").focus()):(e.find("#find_pwd_code").parent().find(".tips").removeClass("show"),r.ajax({type:"post",url:"/api/user/checkVerificationCode"+window.tsnfors,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify({code:p,detail:l}),success:function(u){u.code==200?(e.find("#find_pwd_code").parent().find(".tips").removeClass("show"),e.find(".step_progress li").eq(1).addClass("on"),a.hide(),o.show()):(e.find("#find_pwd_code").parent().find(".tips").addClass("show").text("\u9A8C\u8BC1\u7801\u9519\u8BEF!"),e.find("#find_pwd_code").focus())}}))):(e.find("#find_pwd_tel").parent().find(".tips").addClass("show").text("\u624B\u673A\u53F7\u7801\u672A\u6CE8\u518C!"),e.find("#find_pwd_tel").focus())}}):(e.find("#find_pwd_tel").parent().find(".tips").addClass("show").text("\u624B\u673A\u53F7\u7801\u672A\u6CE8\u518C"),e.find("#find_pwd_tel").focus())}function m(){l=e.find("#find_pwd_tel").val(),p=e.find("#find_pwd_code").val();var x=e.find("#find_pwd_one").val(),u=e.find("#find_pwd_two").val();x==""?(e.find("#find_pwd_one").parent().find(".tips").addClass("show").text("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"),e.find("#find_pwd_one").focus()):/^.*(?=.{8,20})(?=.*\d)(?=.*[a-zA-Z!@#$%^&*? ]).*$/.test(x)?(e.find("#find_pwd_one").parent().find(".tips").removeClass("show"),u==""?(e.find("#find_pwd_two").parent().find(".tips").addClass("show").text("\u786E\u8BA4\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"),e.find("#find_pwd_two").focus()):u==x?(e.find("#find_pwd_two").parent().find(".tips").removeClass("show"),r.ajax({type:"PUT",headers:{token:getCookie("token")},url:"/api/user/setPwd"+window.tsnfors,contentType:"application/json",dataType:"json",data:JSON.stringify({code:p,detail:l,password:x}),async:!0,success:function(y){y.code==200?(n&&n(y),e.find("#find_pwd_code").parent().find(".tips").removeClass("show"),e.find(".step_progress li").eq(2).addClass("on"),o.hide(),d.show(),setTimeout(w,3e3)):layer.alert("\u627E\u56DE\u5931\u8D25,\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01")}})):(e.find("#find_pwd_two").parent().find(".tips").addClass("show").text("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4"),e.find("#find_pwd_two").focus())):(e.find("#find_pwd_one").parent().find(".tips").addClass("show").text("\u5BC6\u7801\u7531\u5B57\u6BCD\u52A0\u6570\u5B57\u81F3\u5C11\u4E24\u79CD\u4EE5\u4E0A\u5B57\u7B26\u7EC4\u6210\u76848-20\u4F4D\u5B57\u7B26"),e.find("#find_pwd_one").focus())}function w(){layer.close(i)}},content:'<div class="find_back_pwd"><div class="find_back_box">	<div class="find_title">		<p>\u627E\u56DE\u5BC6\u7801</p>	</div>	<a href="javascript:void(0);" class="go_login">\u767B\u5F55</a>	<div class="step_progress">		<ul>			<li class="on">				<em>1</em>				<i>\u9A8C\u8BC1\u624B\u673A</i>			</li>			<li class="">				<em>2</em>				<i>\u586B\u5199\u5BC6\u7801</i>			</li>			<li class="">				<em>3</em>				<i>\u5B8C\u6210\u4FEE\u6539</i>			</li>		</ul>	</div>	<div class="password_form">		<div class="item">			<p class="tips"></p>			<span class="name">				<img src="/design/designstatic/front/images/icon_user.png" alt="">			</span>			<input type="text" placeholder="\u8BF7\u8F93\u5165\u624B\u673A\u53F7" id="find_pwd_tel" class="input_text">		</div>		<div class="item">			<p class="tips"></p>			<span class="name">				<img src="/design/designstatic/front/images/icon_code.png" alt="">			</span>			<input type="text" placeholder="\u8BF7\u8F93\u5165\u77ED\u4FE1\u9A8C\u8BC1\u7801" id="find_pwd_code" class="input_text w243">			<input type="button" class="get_codees" value="\u83B7\u53D6\u9A8C\u8BC1\u7801" />			<input type="button" class="get_codees disabledses" style="display: none;" value="60s\u540E\u91CD\u65B0\u83B7\u53D6" />		</div>		<div class="next">\u4E0B\u4E00\u6B65</div>	</div>	<div class="password_form" style="display: none;">		<div class="item">			<p class="tips"></p>			<span class="name">				<img src="/design/designstatic/front/images/icon_pwd.png" alt="">			</span>			<input type="password" placeholder="\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801(8-20\u4F4D\u6570\u5B57/\u5927\u5C0F\u5199\u5B57\u6BCD\u7684\u7EC4\u5408)" id="find_pwd_one" class="input_text">		</div>		<div class="item">			<p class="tips"></p>			<span class="name">				<img src="/design/designstatic/front/images/icon_pwd.png" alt="">			</span>			<input type="password" placeholder="\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801" id="find_pwd_two" class="input_text">		</div>		<div class="next">\u4E0B\u4E00\u6B65</div>	</div>	<div class="password_form" style="display: none;">		<div class="find_success">			<img src="/design/designstatic/front/images/icon_success.png" alt="">			<span>\u4FEE\u6539\u6210\u529F</span>		</div>	</div></div>	</div>'})},getPasswordLayer:function(n){var t=this;if(location.href.indexOf("zto.xx.cn")>-1||location.href.indexOf("yunke.zto.com")>-1)t.ztogetPasswordLayer(n);else var t=this,i=layer.open({type:1,title:"\u5FD8\u8BB0\u5BC6\u7801",skin:"layui-layer-antd nohasbtn",closeBtn:1,anim:2,scrollbar:!1,shadeClose:!1,cancel:function(s,a){},success:function(s,a){var o=s.find(".mobile"),d=o.find(".resetPassWord"),l=s.find(".email"),p=l.find(".resetPassWord"),v=s.find(".repic a"),h="mobile";v.on("click",function(){v.removeClass("cur"),r(this).addClass("cur"),r(this).attr("data-ctype")=="mobile"?(h="mobile",o.show(),l.hide()):(h="email",o.hide(),l.show())});var m=s.find(".mobileNumber"),w=s.find(".mobileCode"),x=m.find(".istertxts"),u=m.find(".form-explain"),y=w.find(".istertxts"),C=w.find(".form-explain");setTimeout(function(){m.removeClass("error"),w.removeClass("error")},0);var g=!1;x.on("input",function(){g=!0,m.removeClass("error"),r(this).val().trim()==""&&(m.addClass("error"),u.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),g=!1)}),x.on("blur",function(){g=!0,k=!1,r(this).val().trim()==""?(m.addClass("error"),u.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),g=!1):/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(r(this).val())||(g=!1,m.addClass("error"),u.text("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801"))}),y.on("input",function(){w.removeClass("error"),r(this).val().trim()==""&&(w.addClass("error"),C.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"))});var c=w.find("a.yaned"),b=!0,k=!1;c.on("click",function(){g&&b?(b=!1,t.sendVerificationCode({detail:x.val().trim(),type:1},function(q){if(q.success){k=!0,g=!0;var J=60;c.css("color","#ccc"),c.text("\u5DF2\u53D1\u9001\uFF08"+J+"\uFF09");var z=setInterval(function(){J=J-1,c.text("\u5DF2\u53D1\u9001\uFF08"+J+"\uFF09"),J==0&&(b=!0,clearInterval(z),c.css("color","#666"),c.text("\u83B7\u53D6\u9A8C\u8BC1\u7801"))},1e3)}else b=!0,g=!1,m.addClass("error"),q.code=="404"?u.text("\u8BE5\u624B\u673A\u672A\u7ED1\u5B9A\u8D26\u53F7"):q.code=="506"||q.code=="507"?layer.msg(q.message,{icon:5}):layer.msg("\u53D1\u9001\u9A8C\u8BC1\u7801\u5931\u8D25,\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",{icon:5})})):x.val().trim()==""&&(m.addClass("error"),u.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),g=!1)}),d.on("click",function(){var q=!0;if(x.val().trim()==""&&(m.addClass("error"),u.text("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7"),q=!1),y.val().trim()=="")w.addClass("error"),C.text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"),q=!1;else if(!k)return w.addClass("error"),C.text("\u8BF7\u5148\u83B7\u53D6\u9A8C\u8BC1\u7801"),!1;q&&g&&t.checkVerificationCode({code:y.val().trim(),detail:x.val().trim()},function(J){J.success?(t.resetPasswordLayer(y.val().trim(),x.val().trim()),layer.close(i)):(w.addClass("error"),C.text("\u9A8C\u8BC1\u7801\u4E0D\u6B63\u786E"))})});var j=s.find(".emailUrl"),L=s.find(".emailCode"),O=j.find(".istertxts"),P=j.find(".form-explain"),U=L.find(".istertxts"),T=L.find(".form-explain"),I=!1;O.on("input",function(){I=!0,j.removeClass("error"),r(this).val().trim()==""&&(j.addClass("error"),u.text("\u8BF7\u8F93\u5165\u60A8\u7684\u90AE\u7BB1"),I=!1)}),O.on("blur",function(){I=!0,r(this).val().trim()==""?(j.addClass("error"),P.text("\u8BF7\u8F93\u5165\u60A8\u7684\u90AE\u7BB1"),I=!1):/^\w+@\w+\.\w+(\.\w+)*$/.test(r(this).val())||(I=!1,j.addClass("error"),P.text("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\u5730\u5740"))})},content:'<div class="userRegister register" style="margin-bottom: 20px;">	<div class="mss">		<div class="clear"></div>		<div class="mobile">			<div class="showno mobileNumber" >          <div class="rbox"><input id="log-mobile" title="\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7" placeholder="\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7" value=""  type="text" class="log-input input2 istertxts"><div class="logIcoNew logIcoMobileCode" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>					 </div>          <div class="form-explain"></div></div>       <div class="mobileCode" style="float:left;">         <div class="rbox" style="width: 190px;float:left;"><input id="log-mobileCode" title="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"  placeholder="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801" value=""  type="text"  maxlength="6" class="log-input input2 yantess istertxts"><div class="logIcoNew logIcoYang" style="background-image: url(/design/designstatic/home/image/login_icon.png)">&nbsp;</div>        </div>		     <a class="yaned mobileCodeBtn" href="javascript:void(0)">\u83B7\u53D6\u9A8C\u8BC1\u7801</a>        <div class="form-explain" style="clear:both;"></div>     </div>				<div class="clear"></div>				<div class="mt15">					<a class="logbtn resetPassWord">\u91CD\u7F6E\u5BC6\u7801</a>				</div>			</div>			<div class="showno email" style="display: none;">				<div class="isterdiv emailUrl">					<span class="isterspan ">\u90AE\u7BB1</span>					<input class="istertxts" title="\u8BF7\u8F93\u5165\u60A8\u7684\u90AE\u7BB1" placeholder="\u8BF7\u8F93\u5165\u60A8\u7684\u90AE\u7BB1" value=""  type="text">					<span class="qeusle"></span>          <div class="form-explain"></div>				</div>				<div class="isterdiv emailCode">					<span class="isterspan">\u9A8C\u8BC1\u7801</span>					<input class="yantess istertxts" title="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"  placeholder="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801" value=""  type="text">					<a class="yaned" href="javascript:;">\u83B7\u53D6\u9A8C\u8BC1\u7801</a>					<span class="qeusle"></span>          <div class="form-explain"></div>				</div>				<div class="clear"></div>				<div class="mt15">					<a class="logbtn resetPassWord">\u91CD\u7F6E\u5BC6\u7801</a>				</div>			</div>		</div></div>'})},getQRcodeLayer:function(n){var t=this,i=layer.open({type:1,title:"",skin:"layui-layer-antd",closeBtn:0,anim:2,scrollbar:!1,shadeClose:!0,cancel:function(e,s){},success:function(e,s){var a=e.find(".canvasQR");a.qrcode(location.href);var o=a.find("canvas"),d=e.find(".saveBtn"),l=o[0].toDataURL("image/jpg");d.attr("href",l);var p=new Date,v=p.getFullYear()+"_"+(p.getMonth()+1)+"_"+p.getDate()+(user.useInfo?"_"+(user.useInfo.realName||user.useInfo.nickname||user.useInfo.loginName||user.useInfo.userId):"")+".jpg";d.attr("download",v),d.click(function(){layer.close(i)})},content:'<div class="userQRcode"><div class="canvasQR" style="width: 240px; height: 240px;"></div><a class="saveBtn" href="" download="test">\u4FDD\u5B58\u56FE\u7247</a></div>'})},getCouponLayer:function(n,t){if(n.length<1)return layer.alert("\u4F18\u60E0\u5238\u5DF2\u7ECF\u88AB\u62A2\u5149\u4E86\uFF01"),!1;var i=this;i.couponParams=t;var e=layer.open({type:1,title:"\u9886\u53D6\u4F18\u60E0\u5238",skin:"layui-layer-antd",closeBtn:0,anim:2,scrollbar:!1,area:["440px","560px"],shadeClose:!0,cancel:function(s,a){},success:function(s,a){var o=s.find(".couponBox");i.renderCouponList(n,o)},content:'<div class="couponBox"></div>'})},renderCouponList:function(n,t){for(var i=this,e="",s=function(l){switch(parseInt(l.state)){case 1:return'<div class="couponbtn" data-couponId="'+l.couponId+'">\u7ACB\u5373\u9886\u53D6</div>';case 2:return'<div class="couponbtn couponbtn-disabled" >\u5DF2\u62A2\u5149</div>';case 3:return'<div class="couponbtn couponbtn-disabled" >\u5DF2\u9886\u53D6</div>'}},a=0,o=n.length;a<o;a++){var d=n[a];e+='<div class="couponList '+(parseInt(d.couponType)==2?"discount":"")+'"><div class="leftCouponBox">'+(parseInt(d.couponType)==2?"<span>"+d.discount/10+"</span>\u6298":"\xA5<span>"+d.price/100+"</span>")+'</div><div class="rightCouponBox"><p class="couponName">'+d.couponName+'</p><p class="couponRemark">'+(d.remark||"\u6682\u65E0\u8BE6\u60C5")+"</p>"+s(d)+'<p class="couponTime">'+getTimeString(d.gmtStart)+"-"+getTimeString(d.gmtEnd)+"</p></div></div>"}t.html(e),i.bindClickCoupon(t)},bindClickCoupon:function(n){var t=this,i=n.find(".couponbtn");i.on("click",function(){var e=r(this).attr("data-couponId");if(!e)return!1;t.getShareCoupon({shareId:e},function(s){s.success&&t.getCdkey({id:s.data,refereeId:t.getCouponShareId()},function(a){a.success?(layer.alert("\u9886\u53D6\u6210\u529F\uFF01"),t.getDressUpCouponShareList(t.couponParams,function(o){o.success&&t.renderCouponList(o.data,n)})):layer.alert("\u9886\u53D6\u5931\u8D25\uFF01"+a.message)})})})}},setPagesFrom()})(jQuery,window),Function.prototype.trim||(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}),Array.isArray||(Array.isArray=function(r){return Object.prototype.toString.call(r)==="[object Array]"});function getPar(r,f){var n=f||document.location.href,t=n.indexOf(r+"=");if(t==-1)return"";var i=n.slice(r.length+t+1),e=i.indexOf("&");return e!=-1&&(i=i.slice(0,e)),i}function getPagesFrom(){if(window.sessionStorage){var r=sessionStorage.getItem("pagefrom")||"";return r}else return""}function setPagesFrom(){try{var r=getPar("pagefrom");if(window.sessionStorage&&r!==""){sessionStorage.setItem("pagefrom",r);return}if(document.referrer){var f=document.referrer,n=window.location.hostname;if(f.indexOf(n)>-1)return;var t=getPar("pagefrom",f);window.sessionStorage&&sessionStorage.setItem("pagefrom",t)}}catch(i){console.log("\u83B7\u53D6\u6765\u6E90:",i)}}function isJSON(r){if(typeof r=="string")try{var f=JSON.parse(r);return!!(typeof f=="object"&&f)}catch(n){return!1}}function getTimeString(r){if(new Date(parseInt(r))=="Invalid Date"&&new Date(parseInt(r)*1e3)=="Invalid Date")return"--";var f=new Date(parseInt(r)),n=f.getFullYear(),t=f.getMonth()+1,i=f.getDate();return n+"."+t+"."+i}function setCookie(r,f){var n=r+"="+f+";path=/";document.cookie=n}function getCookie(r){for(var f=document.cookie,n=f.split("; "),t=0;t<n.length;t++){var i=n[t].split("=");if(i[0]==r)return i[1]}return""}function encrypt(r){var f=CryptoJS.enc.Utf8.parse("njsdearr8h239ay3"),n=CryptoJS.enc.Utf8.parse(r),t=CryptoJS.AES.encrypt(n,f,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});return t.toString()}function decrypt(r){var f=CryptoJS.enc.Utf8.parse("njsdearr8h239ay3"),n=CryptoJS.AES.decrypt(r,f,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});return CryptoJS.enc.Utf8.stringify(n).toString()}function Base64(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(t){var i="",e,s,a,o,d,l,p,v=0;for(t=f(t);v<t.length;)e=t.charCodeAt(v++),s=t.charCodeAt(v++),a=t.charCodeAt(v++),o=e>>2,d=(e&3)<<4|s>>4,l=(s&15)<<2|a>>6,p=a&63,isNaN(s)?l=p=64:isNaN(a)&&(p=64),i=i+r.charAt(o)+r.charAt(d)+r.charAt(l)+r.charAt(p);return i},this.decode=function(t){var i="",e,s,a,o,d,l,p,v=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");v<t.length;)o=r.indexOf(t.charAt(v++)),d=r.indexOf(t.charAt(v++)),l=r.indexOf(t.charAt(v++)),p=r.indexOf(t.charAt(v++)),e=o<<2|d>>4,s=(d&15)<<4|l>>2,a=(l&3)<<6|p,i=i+String.fromCharCode(e),l!=64&&(i=i+String.fromCharCode(s)),p!=64&&(i=i+String.fromCharCode(a));return i=n(i),i};var f=function(t){t=t.replace(/\r\n/g,`
`);for(var i="",e=0;e<t.length;e++){var s=t.charCodeAt(e);s<128?i+=String.fromCharCode(s):s>127&&s<2048?(i+=String.fromCharCode(s>>6|192),i+=String.fromCharCode(s&63|128)):(i+=String.fromCharCode(s>>12|224),i+=String.fromCharCode(s>>6&63|128),i+=String.fromCharCode(s&63|128))}return i},n=function(t){for(var i="",e=0,s=0,a=0,o=0,d=0;e<t.length;)s=t.charCodeAt(e),s<128?(i+=String.fromCharCode(s),e++):s>191&&s<224?(o=t.charCodeAt(e+1),i+=String.fromCharCode((s&31)<<6|o&63),e+=2):(o=t.charCodeAt(e+1),d=t.charCodeAt(e+2),i+=String.fromCharCode((s&15)<<12|(o&63)<<6|d&63),e+=3);return i}}(function(r,f){var n=4;function t(a){if(this.options={id:"",canvasId:"verifyCanvas",width:"93",height:"32",type:"blend",code:""},Object.prototype.toString.call(a)=="[object Object]")for(var o in a)this.options[o]=a[o];else this.options.id=a;this.options.numArr="0,1,2,3,4,5,6,7,8,9".split(","),this.options.letterArr=i(),this._init(),this.refresh()}t.prototype={version:"1.0.0",_init:function(){var a=f.getElementById(this.options.id),o=f.createElement("canvas");this.options.width=a.offsetWidth>0?a.offsetWidth:"100",this.options.height=a.offsetHeight>0?a.offsetHeight:"30",o.id=this.options.canvasId,o.width=this.options.width,o.height=this.options.height,o.style.cursor="pointer",o.innerHTML="\u60A8\u7684\u6D4F\u89C8\u5668\u7248\u672C\u4E0D\u652F\u6301canvas",a.appendChild(o);var d=this;o.onclick=function(){d.refresh()}},refresh:function(){this.options.code="";var a=f.getElementById(this.options.canvasId);if(a.getContext)var o=a.getContext("2d");else return;if(o.textBaseline="middle",o.fillStyle=s(180,240),o.fillRect(0,0,this.options.width,this.options.height),this.options.type=="blend")var d=this.options.numArr.concat(this.options.letterArr);else if(this.options.type=="number")var d=this.options.numArr;else var d=this.options.letterArr;for(var l=1;l<=n;l++){var p=d[e(0,d.length)];this.options.code+=p,o.font=30+"px SimHei",o.fillStyle=s(50,160),o.shadowOffsetX=e(-1,1),o.shadowOffsetY=e(-1,1),o.shadowBlur=e(-2,2),o.shadowColor="rgba(0, 0, 0, 0.3)";var v=this.options.width/(n+1)*(l-1)+10,h=this.options.height/2,m=e(-15,15);o.translate(v,h),o.rotate(m*Math.PI/180),o.fillText(p,0,0),o.rotate(-m*Math.PI/180),o.translate(-v,-h)}},validate:function(a){var a=a.toLowerCase(),o=this.options.code.toLowerCase();return a==o?!0:(this.refresh(),!1)}};function i(){var a="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z";return a.split(",")}function e(a,o){return Math.floor(Math.random()*(o-a)+a)}function s(a,o){var d=e(a,o),l=e(a,o),p=e(a,o);return"rgb("+d+","+l+","+p+")"}r.GVerify=t})(window,document);
