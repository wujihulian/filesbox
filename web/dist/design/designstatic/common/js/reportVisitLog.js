function postreportVisitLog(){var t=this;window.trackData=[];var i=t.getUrlParms("formappurl")?decodeURIComponent(t.getUrlParms("formappurl")):"";window.isgetPMRouteId=0;var r=window.frames.length!=parent.frames.length;if(window.formappdepath=i||"",!r){t.getUrlParms("vcToken")&&location.href.indexOf("scale-h5server")>-1&&t.setCookie("vxtoken",decodeURIComponent(t.getUrlParms("vcToken")));var o=cdnPath=="//pre-static.1x.cn"?"https://pre.xx.cn":cdnPath=="//static.wxbig.cn"?location.origin:"https://test.1x.cn",e=t.getUrlParms("p"),f=t.getUrlParms("r"),m=t.getUrlParms("i");f&&(t.parentPreId=f);var h=e&&f?1:0,w=0,y=t.getUrlParms("w")||t.getUrlParms("kf")||w||h||m?parseInt(t.getUrlParms("w")||t.getUrlParms("kf")||w||h||m):0;if(localStorage.uvcid||(localStorage.uvcid=t.getNum()+""+new Date().valueOf()),location.href.indexOf("zdb.xx.cn/p1980.shtml")>-1&&t.getCookie("appAdapt")&&$(".comHead,.comFoot").hide(),window.reporttimer=new Date().valueOf(),window.sreId=t.getUrlParms("sreId")?decodeURIComponent(t.getUrlParms("sreId")):"",window.routeId=t.getUrlParms("routeId")?parseInt(t.getUrlParms("routeId")):0,window.sreId&&(t.sreId=window.sreId),window.routeId&&(t.routeId=window.routeId),t.getUrlParms("vs")&&(t.visitSource=t.getUrlParms("vs")),t.getUrlParms("source")&&(t.source=t.getUrlParms("source")),t.getUrlParms("vcardId")&&(t.shareCardIdStr=t.getUrlParms("vcardId")),t.getUrlParms("att")&&!t.shareCardIdStr&&$.ajax({headers:{token:t.getCookie("token")},type:"GET",url:"/api/common/getHpsAttInfo",data:{att:t.getUrlParms("att")},dataType:"json",async:!1,success:function(u){if(u.code==200){var x=u.data||{},v=x.vcardId||"";t.shareCardIdStr=v}}}),!(location.href.indexOf("vscard/videoUpload.html")>-1||location.href.indexOf("vscard/viewpeople.html")>-1||location.href.indexOf("portal/preview/doc.html")>-1||location.href.indexOf("vscard/customerService.html")>-1||location.href.indexOf("activityDetails/recommend")>-1||t.getUrlParms("isEcho"))&&!(location.href.indexOf("/information/")>-1&&location.href.indexOf(".shtml")>-1||location.href.indexOf("/pubinfo/")>-1&&location.href.indexOf(".html")>-1)){var p=(!t.getCookie("userId")||!t.getCookie("vxtoken"))&&location.href.indexOf("scale-h5server")>-1?1:t.getCookie("vxtoken")?0:1;if(p&&y&&(t.getChannel()==1||t.getChannel()==9)){window.localStorage.setItem("isreport",1),t.getgourl();return}else if(p&&y&&!(t.getChannel()==1||t.getChannel()==9||t.getChannel()==5)){window.localStorage.setItem("isreport",1),window.location.replace(o+"/pages/wxwebauthorize.html?infohref="+encodeURIComponent(decodeURIComponent(window.location.href)));return}else t.getCookie("vxtoken")&&y?$.ajax({headers:{},type:"GET",url:"/api/vcard/getVCardInfo",data:{targetServerNameForOverride:t.getUrlParms("targetServerNameForOverride")||t.getUrlParms("host")||i||void 0},dataType:"json",async:!1,success:function(u){if(u.code==200&&u.success){window.yzmishastoken=1;var x=u.data||{},v=x.vCardInfo||{};window.yzvCardInfo=v||{};var I=v.mobilePhone;window.localStorage.setItem("visitingCardIdStr",v.visitingCardIdStr||""),window.localStorage.setItem("visitingCardavatar",v.avatar||""),window.localStorage.setItem("visitingCardName",v.cardName||""),window.localStorage.setItem("visitingCardsex",v.sex||""),window.localStorage.setItem("showPhone",I||"")}else if(t.getChannel()==1||t.getChannel()==9){window.localStorage.setItem("isreport",1),t.getgourl();return}else if(!(t.getChannel()==1||t.getChannel()==9||t.getChannel()==5)){window.localStorage.setItem("isreport",1),window.location.replace(o+"/pages/wxwebauthorize.html?infohref="+encodeURIComponent(decodeURIComponent(window.location.href)));return}}}):t.getCookie("token")?$.ajax({headers:{token:t.getCookie("token")},type:"GET",url:"/api/vcard/getVCardInfo",data:{targetServerNameForOverride:t.getUrlParms("targetServerNameForOverride")||t.getUrlParms("host")||i||void 0},dataType:"json",async:!1,success:function(u){if(u.code==200&&u.success){window.yzmishastoken=1;var x=u.data||{},v=x.vCardInfo||{};window.yzvCardInfo=v||{};var I=v.mobilePhone;window.localStorage.setItem("visitingCardIdStr",v.visitingCardIdStr||""),window.localStorage.setItem("visitingCardavatar",v.avatar||""),window.localStorage.setItem("visitingCardName",v.cardName||""),window.localStorage.setItem("visitingCardsex",v.sex||""),window.localStorage.setItem("showPhone",I||"")}}}):t.getCookie("vxtoken")&&$.ajax({headers:{},type:"GET",url:"/api/vcard/getVCardInfo",data:{targetServerNameForOverride:t.getUrlParms("targetServerNameForOverride")||t.getUrlParms("host")||i||void 0},dataType:"json",async:!1,success:function(u){if(u.code==200&&u.success){window.yzmishastoken=1;var x=u.data||{},v=x.vCardInfo||{};window.yzvCardInfo=v||{};var I=v.mobilePhone;window.localStorage.setItem("visitingCardIdStr",v.visitingCardIdStr||""),window.localStorage.setItem("visitingCardavatar",v.avatar||""),window.localStorage.setItem("visitingCardName",v.cardName||""),window.localStorage.setItem("visitingCardsex",v.sex||""),window.localStorage.setItem("showPhone",I||"")}}});setTimeout(function(){t.init(),(location.href.indexOf("module/moduleResult")>-1||location.href.indexOf("pages/moduleResult.html")>-1)&&!window.localStorage.showPhone&&t.yzmobile(window.yzvCardInfo||{},function(){})},500)}}}postreportVisitLog.prototype={init:function(t,i,r,o){var e=this,f=window.frames.length!=parent.frames.length,m=navigator.userAgent.match(/iPad/)||navigator.userAgent.match(/iPhone/)||navigator.userAgent.match(/iPod/),h=r||0,w=new Date().valueOf(),y=e.getUrlParms("tr")?e.getUrlParms("tr"):0;e.pvid=e.pvid?e.pvid:e.getNum()+""+w,sessionStorage.setItem("pvid",e.pvid),e.clientType=e.getChannel(),window.localStorage.visitingCardIdStr&&(e.visitingCardIdStr=window.localStorage.visitingCardIdStr||""),e.refer=document.referrer?document.referrer.indexOf(location.hostname)>-1?"":document.referrer:"",e.actionType="00",e.uvcid=window.localStorage.uvcid,window.isrequestSreId!=1&&!f&&!o&&e.getrequestSreId(),window.getRouteIdnum!=1&&!f&&!o&&e.getLogRouteId();var p=/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent),u=e.getUrlParms("p"),x=e.getUrlParms("targetServerNameForOverride")||e.getUrlParms("host")||formappdepath?"?targetServerNameForOverride="+(e.getUrlParms("targetServerNameForOverride")||e.getUrlParms("host")||formappdepath):"";if(e.parentPreId&&u&&!window.isgetPMRouteId){var v=e.getnewbus()||{};(v.sourceType=="1"||v.sourceType=="2"||v.sourceType=="3"||v.sourceType=="4"||v.sourceType=="6"||v.sourceType=="9"||v.sourceType=="10"||v.sourceType=="25")&&($.ajax({headers:{token:e.getCookie("vxtoken")},type:"GET",url:"/api/vcard/getPMRouteId"+x,data:{activityId:u,busId:v.sourceId,busType:v.sourceType=="6"?"5":v.sourceType,preId:e.parentPreId},dataType:"json",async:!1,success:function(a){if(a.code==200){var g=a.data||{},n=g.preId||0;if(e.preId=n,e.parentPreId!=n){var b=e.clearlocationId("r="),O=(location.href.indexOf("scale-h5server")>-1?"":location.origin+location.pathname)+b+(b?"&":"?")+"r="+n;window.history.replaceState&&location.href!=O?(window.history.replaceState({},"",O),window.hrefChangeShare&&window.hrefChangeShare.init()):location.href!=O&&(location.href=O)}}}}),e.initentrance(1),window.isgetPMRouteId=1)}var I="",T=[""],z=e.getUrlParms("diliater")||"";e.base64decode&&(I=e.getUrlParms("shareId")?e.base64decode(decodeURIComponent(e.getUrlParms("shareId"))):""),window.decrypt&&(T=decrypt(z).split(",")),(I||i)&&(e.shareUserId=parseInt(I||i)),e.actionVal=typeof t=="undefined"?(document.title||"").indexOf("WECHAT_EMPTY_TITLE")>-1&&$("#hiddenPageTitleForReserve").text()||document.title:t;var C=e.getbus();if(e.busId=C.sourceId||0,e.busType=C.sourceType||"0",e.innerUrl=e.busType=="0"||e.busType=="103"?window.location.href:"",e.visitorAvatar=window.localStorage.visitingCardavatar||"",e.visitorName=window.localStorage.visitingCardName||"",e.sex=window.localStorage.visitingCardsex=="0"?"0":window.localStorage.visitingCardsex||"",e.getCookie("token"))if(window.loginUserData||window.user&&window.user.useInfo){var S=window.loginUserData||window.user&&window.user.useInfo;if(e.visitorAvatar=e.visitorAvatar||S.headPortrait,e.visitorName=e.visitorName||S.realName||S.nickname||S.loginName,e.visitorUserId=S.userId,e.visitorSchoolId=S.schoolId,e.sex=e.sex||S.sex,e.actionVal=typeof t=="undefined"?(document.title||"").indexOf("WECHAT_EMPTY_TITLE")>-1&&$("#hiddenPageTitleForReserve").text()||document.title:t,!h&&location.href.indexOf("vscard/views.html")>-1||o||e.getChannel()=="5"||e.getUrlParms("appAdapt")=="1")return;var U=e.getCookie("returnreport")=="1"&&(e.actionType=="00"||e.actionType=="24");U||(e.setreturn(),$.ajax({headers:{token:e.getCookie("token"),timestamp:w,sign:md5(w+"@"+JSON.stringify(e)+"@RtCFt_Diy@1o#pq$")},type:"post",contentType:"application/json",url:(e.source?location.protocol+"//"+e.source:"")+"/api/operate/reportVisitLog"+(x||""),data:JSON.stringify(e),dataType:"json",async:!1,success(a){}})),reportVisitLog.setTime(4,3,1)}else $.ajax({headers:{token:e.getCookie("token")},type:"GET",url:"/api/disk/options"+x,data:{},dataType:"json",async:!1,success:function(a){if(a.code==200){var g=a.data||{};e.visitorAvatar=e.visitorAvatar||g.headPortrait,e.visitorName=e.visitorName||g.realName||g.nickname||g.loginName,e.visitorUserId=g.userId,e.visitorSchoolId=g.schoolId,e.sex=e.sex||g.sex,e.actionVal=typeof t=="undefined"?(document.title||"").indexOf("WECHAT_EMPTY_TITLE")>-1&&$("#hiddenPageTitleForReserve").text()||document.title:t,window.loginUserData=g}if(!(!h&&location.href.indexOf("vscard/views.html")>-1)&&!o&&!(e.getChannel()=="5"||e.getUrlParms("appAdapt")=="1")){var n=e.getCookie("returnreport")=="1"&&(e.actionType=="00"||e.actionType=="24");n||(e.setreturn(),$.ajax({headers:{token:e.getCookie("token"),timestamp:w,sign:md5(w+"@"+JSON.stringify(e)+"@RtCFt_Diy@1o#pq$")},type:"post",contentType:"application/json",url:(e.source?location.protocol+"//"+e.source:"")+"/api/operate/reportVisitLog"+(x||""),data:JSON.stringify(e),dataType:"json",async:!1,success(b){}})),reportVisitLog.setTime(4,3,1)}}});else{if(!h&&location.href.indexOf("vscard/views.html")>-1||(e.actionVal=typeof t=="undefined"?(document.title||"").indexOf("WECHAT_EMPTY_TITLE")>-1&&$("#hiddenPageTitleForReserve").text()||document.title:t,o)||e.getChannel()=="5"||e.getUrlParms("appAdapt")=="1")return;var U=e.getCookie("returnreport")=="1"&&(e.actionType=="00"||e.actionType=="24");U||(e.setreturn(),$.ajax({headers:{token:e.getCookie("token"),timestamp:w,sign:md5(w+"@"+JSON.stringify(e)+"@RtCFt_Diy@1o#pq$")},type:"post",contentType:"application/json",url:(e.source?location.protocol+"//"+e.source:"")+"/api/operate/reportVisitLog"+(x||""),data:JSON.stringify(e),dataType:"json",async:!1,success(g){}})),reportVisitLog.setTime(4,3,1)}y&&(window.rrweb||$.getScript("/design/designstatic/common/rrweb/rrweb.min.js?v="+w,function(){setTimeout(function(){e.rrwebSave()},400)})),!(!h&&location.href.indexOf("vscard/views.html")>-1)&&(o||(window.onbeforeunload=function(a){e.actionVal=typeof t=="undefined"?(document.title||"").indexOf("WECHAT_EMPTY_TITLE")>-1&&$("#hiddenPageTitleForReserve").text()||document.title:t,e.actionType="01";var g=e.getbus();if(e.busId=g.sourceId||0,e.busType=g.sourceType||"0",w=new Date().valueOf(),!(e.getChannel()=="5"||e.getUrlParms("appAdapt")=="1")){var n=e.getCookie("returnreport")=="1"&&(e.actionType=="00"||e.actionType=="24");n||(e.setreturn(),$.ajax({headers:{token:e.getCookie("token"),timestamp:w,sign:md5(w+"@"+JSON.stringify(e)+"@RtCFt_Diy@1o#pq$")},type:"post",contentType:"application/json",url:(e.source?location.protocol+"//"+e.source:"")+"/api/operate/reportVisitLog"+(x||""),data:JSON.stringify(e),dataType:"json",async:!1,success(b){}}))}}))},openWin:function(t){var i,r=500,o=570,e=(window.screen.height-30-o)/2,f=(window.screen.width-10-r)/2;window.open(t,i,"height="+o+",innerHeight="+o+",width="+r+",innerWidth="+r+",top="+e+",left="+f+",toolbar=no,menubar=no,scrollbars=auto,resizable=no,location=no,status=no")},callaction:function(t,i,r,o,e,f,m,h,w,y){var p=this;p.actionType=t,p.actionVal=t=="02"||t=="24"||typeof i=="undefined"?(document.title||"").indexOf("WECHAT_EMPTY_TITLE")>-1&&$("#hiddenPageTitleForReserve").text()||document.title:i;var u=p.getbus();p.busId=u.sourceId||0,p.busType=u.sourceType||"0",o&&(p.shareUserId=o?parseInt(o):void 0),m&&(p.visitorAvatar=m),h&&(p.visitorName=h),typeof w!="undefined"&&(p.sex=w),(e||window.localStorage.visitingCardIdStr)&&(p.visitingCardIdStr=e||window.localStorage.visitingCardIdStr||void 0);var x=new Date().valueOf(),v=p.getUrlParms("targetServerNameForOverride")||p.getUrlParms("host")||formappdepath?"?targetServerNameForOverride="+(p.getUrlParms("targetServerNameForOverride")||p.getUrlParms("host")||formappdepath):"";if(t=="28"&&(p.busId=0,p.busType="703"),t=="22"&&(p.actionVal=r,p.busId=0,p.busType="701"),t=="23"&&(p.actionVal=r,p.busId=0,p.busType="701"),t=="24"&&(p.busType="702"),t=="02"&&(p.actionRate=parseInt(i*100),p.actionLength=parseInt((x-window.reporttimer)/1e3)||1),t=="35"&&(p.actionVal=r,p.busId=0,p.busType="704"),t=="36"&&(p.actionVal=r,p.busId=0,p.busType="705"),t=="84"&&y&&(p.serviceId=y),(t=="202"||t=="203"||t=="205"||t=="206"||t=="207")&&(p.actionType="00",p.busType=t),!(p.getChannel()=="5"||p.getUrlParms("appAdapt")=="1")){var I=p.getCookie("returnreport")=="1"&&(p.actionType=="00"||p.actionType=="24");I||(p.setreturn(),$.ajax({headers:{token:p.getCookie("token"),timestamp:x,sign:md5(x+"@"+JSON.stringify(p)+"@RtCFt_Diy@1o#pq$")},type:"post",contentType:"application/json",url:(p.source?location.protocol+"//"+p.source:"")+"/api/operate/reportVisitLog"+(v||""),data:JSON.stringify(p),dataType:"json",async:!1,success(T){}}))}},reportImageLog:function(t,i,r){var o=this;o.actionType=t,o.actionVal=(document.title||"").indexOf("WECHAT_EMPTY_TITLE")>-1&&$("#hiddenPageTitleForReserve").text()||document.title,window.localStorage.visitingCardIdStr&&(o.visitingCardIdStr=window.localStorage.visitingCardIdStr||void 0);var e=JSON.parse(JSON.stringify(o));e.pvid=i.pvid,e.commonSourceId=i.commonSourceId;var f=new Date().valueOf(),m=o.getUrlParms("targetServerNameForOverride")||o.getUrlParms("host")||formappdepath?"?targetServerNameForOverride="+(o.getUrlParms("targetServerNameForOverride")||o.getUrlParms("host")||formappdepath):"";$.ajax({headers:{token:o.getCookie("token"),timestamp:f,sign:md5(f+"@"+JSON.stringify(e)+"@RtCFt_Diy@1o#pq$")},type:"post",contentType:"application/json",url:(o.source?location.protocol+"//"+o.source:"")+"/api/operate/reportImageLog"+(m||""),data:JSON.stringify(e),dataType:"json",async:!1,success(h){r&&r(h)}})},setTime:function(t,i,r){var o=this,e=parseInt(Math.round((Math.random()*(t-i)+i)*1e3)/1e3*1e3);o.settimeer=setTimeout(function(){var f={pvid:o.pvid,source:o.source},m=new Date().valueOf(),h=o.getUrlParms("targetServerNameForOverride")||o.getUrlParms("host")||formappdepath?"?targetServerNameForOverride="+(o.getUrlParms("targetServerNameForOverride")||o.getUrlParms("host")||formappdepath):"";o.getChannel()=="5"||o.getUrlParms("appAdapt")=="1"||($.ajax({headers:{token:o.getCookie("token"),timestamp:m,sign:md5(m+"@"+JSON.stringify(f)+"@RtCFt_Diy@1o#pq$")},type:"post",contentType:"application/json",url:(o.source?location.protocol+"//"+o.source:"")+"/api/operate/stayReport"+(h||""),data:JSON.stringify(f),dataType:"json",async:!1,success(w){}}),o.settimeer&&(clearTimeout(o.settimeer),r<=10?o.setTime(4,3,r+1):r<=20?o.setTime(5,3,r+1):r<=30?o.setTime(10,5,r+1):r<=31?o.setTime(20,10,r+1):r<=50&&o.setTime(t+20,t,r+1)))},e)},setTimereportImageLog:function(t,i,r,o){var e=this,f=parseInt(Math.round((Math.random()*(t-i)+i)*1e3)/1e3*1e3);e.reportImageLogtimeer=setTimeout(function(){var m={actionType:"99",busId:e.busId,pvid:o.pvid,commonSourceId:o.commonSourceId,shareUserId:e.shareUserId},h=new Date().valueOf(),w=e.getUrlParms("targetServerNameForOverride")||e.getUrlParms("host")||formappdepath?"?targetServerNameForOverride="+(e.getUrlParms("targetServerNameForOverride")||e.getUrlParms("host")||formappdepath):"";$.ajax({headers:{token:e.getCookie("token"),timestamp:h,sign:md5(h+"@"+JSON.stringify(m)+"@RtCFt_Diy@1o#pq$")},type:"post",contentType:"application/json",url:(e.source?location.protocol+"//"+e.source:"")+"/api/operate/reportImageLog"+(w||""),data:JSON.stringify(m),dataType:"json",async:!1,success(y){}}),e.reportImageLogtimeer&&(clearTimeout(e.reportImageLogtimeer),r<=10?e.setTimereportImageLog(4,3,r+1,o):r<=20?e.setTimereportImageLog(5,3,r+1,o):r<=30?e.setTimereportImageLog(10,5,r+1,o):r<=31?e.setTimereportImageLog(20,10,r+1,o):r<=34&&e.setTimereportImageLog(t+20,t,r+1,o))},f)},getLogRouteId:function(){var t=this;if(t.getChannel()!="5"&&(t.getCookie("token")||t.getCookie("vxtoken"))){var i=navigator.userAgent.match(/iPad/)||navigator.userAgent.match(/iPhone/)||navigator.userAgent.match(/iPod/),r=t.getnewbus(),o=r.sourceId||0,e=r.sourceType||"0",f=r.busStr||"",m=t.getUrlParms("targetServerNameForOverride")||t.getUrlParms("host")||formappdepath?"?targetServerNameForOverride="+(t.getUrlParms("targetServerNameForOverride")||t.getUrlParms("host")||formappdepath):"";if(e=="0"||e=="14")return;$.ajax({headers:{token:t.getCookie("token")||t.getCookie("vxtoken")},type:"GET",url:"/api/vcard/getLogRouteId"+m,data:{routeId:window.routeId?window.routeId:void 0,busId:o,busType:e,busStr:f,uvcid:localStorage.uvcid},dataType:"json",async:!0,success:function(h){if(h.code==200){var w=h.data||{},y=w.routeId||"",p=t.getUrlParms("att")||t.getUrlParms("vcardId");if(t.getUrlParms("routeId")!=y){var u=t.clearlocationId("routeId="),x=(location.href.indexOf("scale-h5server")>-1?"":location.origin+location.pathname)+u+(u?"&":"?")+"routeId="+y;window.history.replaceState&&location.href!=x?(window.history.replaceState({},"",x),window.hrefChangeShare&&window.hrefChangeShare.init()):location.href!=x&&(location.href=x)}window.getRouteIdnum=1}}})}},getrequestSreId:function(){var t=this;if(t.getChannel()!="5"){var i=t.getnewbus(),r=i.sourceId||0,o=i.sourceType||"0",e=i.busStr||"",f=t.getUrlParms("targetServerNameForOverride")||t.getUrlParms("host")||formappdepath?"?targetServerNameForOverride="+(t.getUrlParms("targetServerNameForOverride")||t.getUrlParms("host")||formappdepath):"";(t.getCookie("vxtoken")||t.getCookie("token"))&&$.ajax({type:"POST",headers:{token:t.getCookie("token")?t.getCookie("token"):void 0},url:"/api/vcard/requestSreId"+f,contentType:"application/json",dataType:"json",data:JSON.stringify({busId:r,busType:o,busStr:e,sreId:t.getUrlParms("sreId")||"",url:window.location.href}),async:!0,success:function(m){if(parseInt(m.code)==200){var h=m.data||"";if(t.getUrlParms("sreId")!=h){var w=t.clearlocationId("sreId="),y=t.getUrlParms("att")||t.getUrlParms("vcardId"),p=(location.href.indexOf("scale-h5server")>-1?"":location.origin+location.pathname)+w+(w?"&":"?")+"sreId="+h;window.history.replaceState&&location.href!=p?(window.history.replaceState({},"",p),window.hrefChangeShare&&window.hrefChangeShare.init()):location.href!=p&&(location.href=p)}window.isrequestSreId=1}}})}},rrwebSave:function(){var t=this,i=t.getUrlParms("tr")?t.getUrlParms("tr"):0,r=t.getUrlParms("targetServerNameForOverride")||t.getUrlParms("host")||formappdepath?"?targetServerNameForOverride="+(t.getUrlParms("targetServerNameForOverride")||t.getUrlParms("host")||formappdepath):"";i==1&&(rrweb.record({emit(o){window.trackData.push(o)}}),setInterval(function(){if(window.trackData.length){var o=new Date().valueOf(),e=JSON.stringify(window.trackData);window.trackData=[];var f={pvid:t.pvid,trackData:e,trackTime:o};$.ajax({type:"POST",headers:{token:t.getCookie("token")?t.getCookie("token"):void 0,timestamp:o,sign:md5(o+"@"+JSON.stringify(f)+"@RtCFt_Diy@1o#pq$")},url:"/api/operate/trackReport"+r,contentType:"application/json",dataType:"json",data:JSON.stringify(f),async:!0,success:function(m){parseInt(m.code)==200&&(e="")}})}},1*1e3))},clearlocationId:function(t){for(var i=location.href.indexOf("scale-h5server")>-1?window.location.href:window.location.search,r=i.split("&"),o="",e=0,f=r.length;e<f;e++){var m=r[e];m.indexOf("?"+t)>-1?e+1!==f&&(o+="?"):m.indexOf(t)==0||(o+=o&&o!="?"?"&"+m:m)}return o},delUrlParam:function(t){var i=new window.URL(window.location.href);return i.searchParams.delete(t),i.href},addUrlParam:function(t,i){var r=new window.URL(window.location.href);return r.searchParams.set(t,i),r.href},makesvg:function(t){var i=Math.abs(t).toString(),r='<svg class="circle-chart" viewbox="0 0 33.83098862 33.83098862" xmlns="http://www.w3.org/2000/svg"><circle class="circle-chart__background" cx="16.9" cy="16.9" r="15.9" /><circle class="circle-chart__circle warning-stroke"stroke-dasharray="'+i+',100"    cx="16.9" cy="16.9" r="15.9" /><g class="circle-chart__info">';return r+=" </g></svg>",r},addCSS:function(t){var i=document.createElement("style"),r=document.head||document.getElementsByTagName("head")[0];if(i.type="text/css",i.styleSheet){var o=function(){try{i.styleSheet.cssText=t}catch(f){}};i.styleSheet.disabled?setTimeout(o,10):o()}else{var e=document.createTextNode(t);i.appendChild(e)}r.appendChild(i)},initentrance:function(t){var i=this;window.entrancetime=0,window.entrancetimer;var r=i.getUrlParms("p"),o=i.getUrlParms("targetServerNameForOverride")||i.getUrlParms("host")||formappdepath?"?targetServerNameForOverride="+(i.getUrlParms("targetServerNameForOverride")||i.getUrlParms("host")||formappdepath):"",e='<div id="redenvelope-box"><div class="circlechart"></div> <div class="edenvelope-btn"></div> <div class="edenvelope-text"></div></div>';t&&i.addCSS('#redenvelope-box { position: fixed; width: 56.5px; height: 56.5px; top: 80px; right: 46px;z-index:1000; background: #ffffff;box-shadow: 0px 5px 14px 0px rgba(51,121,238,0.38);border-radius:50%; touch-action:none;}#redenvelope-box .edenvelope-btn { width: 27px; height: 31.5px; position: absolute; left: 50%; margin-left: -13.5px;  top: 50%;  margin-top: -15.75px;  cursor: pointer;  background: url("/appstatic/images/redenvelopes.gif") center center  no-repeat; background-size: 100% 100%;}#redenvelope-box .edenvelope-text { position: absolute;background-color: red; color: #ffff00; font-size: 10px; top: 0px; padding: 2px 5px; border-radius: 12px; left: 38px; display:none;  }#redenvelope-box .edenvelope-text-show { display:block;white-space: nowrap;  }#redenvelope-box .circle-chart { width: 100%; height: 100%; background: rgba(0, 0, 0, 0.05); border-radius: 50%;}  #redenvelope-box .circle-chart__circle { stroke: #00acc1;stroke-width: 2; stroke-linecap: square; fill: none; animation: circle-chart-fill 0s reverse;  transform: rotate(-90deg); transform-origin: center;  }#redenvelope-box .circle-chart__circle--negative { transform: rotate(-90deg) scale(1, -1);  }#redenvelope-box .circle-chart__background { stroke: #efefef; stroke-width: 2; fill: none;}#redenvelope-box .circle-chart__info { animation: circle-chart-appear 0s forwards; opacity: 0; transform: translateY(0.3em); }#redenvelope-box .circle-chart__percent { alignment-baseline: central;text-anchor: middle; font-size: 8px; }#redenvelope-box .circle-chart__subline { alignment-baseline: central; text-anchor: middle; font-size: 3px;}#redenvelope-box .success-stroke {  stroke: #FF0000;}#redenvelope-box .warning-stroke { stroke: #FF0000; }#redenvelope-box .danger-stroke { stroke: #FF0000; }@keyframes circle-chart-fill { to { stroke-dasharray: 0 100; }}@keyframes circle-chart-appear { to { opacity: 1; transform: translateY(0); }}#rewarddetailModal { position: fixed;width: 100%;height: 88%;bottom: 0px;left: 0px;z-index:1000;    background: #fff; transition: height .3s linear; border-radius: 10px 10px 0px 0px;overflow: hidden;}#rewarddetailModal iframe { width: 100%;height: 100%; border:0; }'),$.ajax({headers:{token:i.getCookie("vxtoken")},type:"GET",url:"/api/operate/prom/vt/activity/entrance"+o,data:{activityId:r},dataType:"json",async:!0,success:function(f){if(f.code==200){var m=f.data||{},h=m.activityState||0,w=m.bonusUseState||0,y=m.durationSecondRequired||0,p=m.finishState||0,u=m.rewardTotal||0,x=(m.rewardHas||0)/100,v=h==1||w==1;v?(clearInterval(window.entrancetimer),$("#redenvelope-box").length||$("body").append(e),$(".circlechart").html(""),x?($(".edenvelope-text").text(x+"\u5143").removeClass("edenvelope-text-show").addClass("edenvelope-text-show"),$("#redenvelope-box").on("click",function(){i.showRewarddetailsModal(),layer.open({content:h==1?"\u6D3B\u52A8\u5DF2\u7ED3\u675F":"\u7531\u4E8E\u5956\u91D1\u95EE\u9898\u6D3B\u52A8\u5DF2\u6682\u505C",skin:"msg",time:layer.v=="2.0"?3:3e3})})):($(".edenvelope-text").removeClass("edenvelope-text-show"),$("#redenvelope-box").on("click",function(){layer.open({content:h==1?"\u6D3B\u52A8\u5DF2\u7ED3\u675F":"\u7531\u4E8E\u5956\u91D1\u95EE\u9898\u6D3B\u52A8\u5DF2\u6682\u505C",skin:"msg",time:layer.v=="2.0"?3:3e3})}))):p==1?(clearInterval(window.entrancetimer),$("#redenvelope-box").length||$("body").append(e),$(".circlechart").html(""),$(".edenvelope-text").text(x?x+"\u5143":"\u5206\u4EAB\u8D5A\u94B1").removeClass("edenvelope-text-show").addClass("edenvelope-text-show"),$("#redenvelope-box").on("click",function(){x?i.showRewarddetailsModal():i.showRewardShareModal(m)})):($(".edenvelope-text").removeClass("edenvelope-text-show"),$(".circlechart").html(""),clearInterval(window.entrancetimer),$("#redenvelope-box").length||$("body").append(e),$(".circlechart").html(i.makesvg(window.entrancetime)),window.entrancetimer=setInterval(()=>{window.entrancetime=window.entrancetime+100/y,$(".circlechart").html(i.makesvg(window.entrancetime>100?100:window.entrancetime)),window.entrancetime>=100&&(clearInterval(window.entrancetimer),i.getfinishPromotionView())},1e3),$("#redenvelope-box").on("click",function(){i.showRewardShareModal(m)})),/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)&&$("#redenvelope-box").on("touchstart",function(I){i.resizezoom(I,"redenvelope-box")})}}})},getfinishPromotionView:function(t){var i=this,r=i.getUrlParms("p"),o=i.getUrlParms("targetServerNameForOverride")||i.getUrlParms("host")||formappdepath?"?targetServerNameForOverride="+(i.getUrlParms("targetServerNameForOverride")||i.getUrlParms("host")||formappdepath):"",e=i.getnewbus()||{};$.ajax({headers:{token:i.getCookie("vxtoken")},type:"GET",url:"/api/vcard/finishPromotionView"+o,data:{activityId:r,preId:i.preId,busId:e.sourceId,busType:e.sourceType=="6"?"5":e.sourceType,pvid:i.pvid},dataType:"json",async:!0,success:function(f){if(f.code==200){var m=f.data||{},h=m.state||"0",w=m.parentAccountName||"";h=="1"&&layer.open({content:"\u4E3A"+w+"\u52A9\u529B\u6210\u529F\uFF01\u73B0\u5728\u8F6C\u53D1\u53C2\u4E0E\u6D3B\u52A8\uFF0C\u5C06\u6709\u673A\u4F1A\u83B7\u5F97\u73B0\u91D1\u5956\u52B1\uFF1B",skin:"msg",time:layer.v=="2.0"?3:3e3}),i.initentrance()}}})},showRewarddetailsModal:function(){var t=this,i=t.getUrlParms("p");$("body").css({overflow:"hidden"}),$("#activityIntroductionBg").remove(),$("#rewarddetailModal").length||$("body").append('<div id="activityIntroductionBg" style="width:100%;height:100%;position: fixed; z-index: 1000;overflow: hidden;left:0px;top:0px;background-color: rgba(0,0,0,.65);"></div><div id="rewarddetailModal"></div>');var r="/business/rewarddetailsmodal.html?activityId="+i,o='<iframe src="'+r+'"></iframe>';$("#rewarddetailModal").html(o)},showRewardShareModal:function(t){var i=this,r="",o="/appstatic/images/reclose.png",e="/appstatic/images/redbg1.png",f=i.getTimeZhCN(t.endTime),m=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,w=h>=420?(h-420)/2:0,y=window.navigator.userAgent;/MicroMessenger/gi.test(y)?r='<div id="RewardShareModal" style="position: fixed; z-index: 10000; background: rgba(0,0,0,0.65);left: 0; top: 0; width: 100%; height: 100vh; font-size: 16px;"><div style="text-align:right;margin-top: 20px;margin-right: 20px;"><div style="text-align:right;margin-top: 20px;margin-right: 20px;"><img width="144" height="222" src = "/design/designstatic/front/images/shareToUp.png"/></div><div style="margin-top: 10px;text-align: center;color: #fff;"><p style="font-size:18px">\u7ACB\u5373\u5206\u4EAB\u7ED9\u597D\u53CB\u5427</p><p style="font-size:14px;margin-top: 7px">\u70B9\u51FB\u5C4F\u5E55\u53F3\u4E0A\u89D2\u5C06\u672C\u9875\u5206\u4EAB\u7ED9\u597D\u53CB</p></div></div>':r='<div id="RewardShareModal" style="position: fixed; z-index: 10000; background: rgba(0,0,0,0.65);left: 0; top: 0; width: 100%; height: 100vh; font-size: 16px;"><div style="text-align:right;margin-top: 20px;margin-right: 20px;"><div style="text-align: center;color: #fff;"><p style="font-size:18px">\u7ACB\u5373\u5206\u4EAB\u7ED9\u597D\u53CB\u5427</p><p style="font-size:14px;margin-top: 7px">\u70B9\u51FB\u9009\u62E9\u5206\u4EAB\u9014\u5F84</p></div><div style="margin-top: 20px;text-align: center"><img width="119" height="245" src = "/design/designstatic/front/images/shareToDown.png"/></div></div>';var p='<div id="activityIntroductionBg" style="width:100%;height:100%;position: fixed; z-index: 10000;overflow: hidden;left:0px;top:0px;background-color: rgba(0,0,0,.65);"></div><div id="activityIntroduction" style="width:'+(m-30)+"px;height:420px;position: fixed; z-index: 10000;left:15px;top:"+w+'px;background:#fff;overflow: hidden;border-radius: 12px;"><div class="activityIntroductionClose" style="width: 18px;height: 18px; position: absolute;  top: 15px; right: 15px;"><img style="width:100%;height:100%;" src="'+o+'" /></div><div style="width:100%;height:147px;background:url('+e+') center center no-repeat;background-size: 100% 100%;"> <div style="    width: 100%;text-align: center; color: #fff;font-size: 18px; position: absolute; top: 46px;">\u5168\u6C11\u63A8\u5E7F\u8BA1\u5212</div> <div style="width: 90%; text-align: center; color: #fff; font-size: 14px; position: absolute; top: 79px; left: 5%;line-height: 18px;">\u8BA9\u666E\u901A\u4EBA\u90FD\u80FD\u901A\u8FC7\u5E2E\u52A9\u4F01\u4E1A\u63A8\u5E7F\u5185\u5BB9<br />\u800C\u83B7\u5F97\u5956\u52B1\u6536\u76CA</div>  </div>  <div style="height:273px;padding: 12px;font-size: 15px;line-height: 18px;"> <div style="font-size:15px;">\u672C\u6587\u5DF2\u52A0\u5165\u5168\u6C11\u63A8\u5E7F\u8BA1\u5212\u3002\u5373\u65E5\u8D77\u81F3'+f+"\uFF0C\u60A8\u53EF\u4EE5\u901A\u8FC7\u8F6C\u53D1\u5206\u4EAB\u7B49\u65B9\u5F0F\u5C06\u672C\u6587\u63A8\u5E7F\u7ED9\u60A8\u8EAB\u8FB9\u7684\u5C0F\u4F19\u4F34\u3002\u5F53\u60A8\u7684\u670B\u53CB\u6D4F\u89C8\u65F6\u957F\u8FBE\u5230"+t.durationSecondRequired+"\u79D2\u540E\uFF0C\u89C6\u4E3A\u63A8\u5E7F\u6210\u529F\u3002\u6BCF\u6210\u529F\u63A8\u5E7F1\u4EBA\uFF0C\u60A8\u53EF\u83B7\u5F97"+t.rewardFirstLevel/100+"\u5143\u5956\u52B1\u3002"+(t.rewardSecondLevel?"\u82E5\u60A8\u7684\u670B\u53CB\u5E2E\u52A9\u60A8\u63A8\u5E7F\u672C\u6587\uFF0C\u6BCF\u63A8\u5E7F1\u4EBA\uFF0C\u60A8\u7684\u670B\u53CB\u53EF\u83B7\u5F97"+t.rewardFirstLevel/100+"\u5143\u5956\u52B1\uFF0C\u60A8\u53EF\u83B7\u5F97"+t.rewardSecondLevel/100+"\u5143\u5956\u52B1\uFF0C\u4EE5\u6B64\u7C7B\u63A8\u3002</div>":"")+"<div class='activityIntroductionShare' style='width: 145px; height: 35px; font-size: 20px; line-height: 35px; text-align: center; color: #fff; background-color: #FE8534; border-radius: 18px; position: absolute; left: 50%; bottom: 36px; margin-left: -72.5px; cursor: pointer;'>\u7ACB\u5373\u5206\u4EAB</div> <div style='margin-top: 12px;font-size: 13px;color: #0491FF;'><a class='rewarddetailsModalbtn'>\u6536\u76CA\u660E\u7EC6 >></a><br /><a class='detailedrulesbtn'>\u8BE6\u7EC6\u89C4\u5219 >></a></div> </div> </div>";$("#activityIntroductionBg").length||($("body").append(p),$("body").css({overflow:"hidden"}),$("#activityIntroduction .activityIntroductionClose").on("click",function(){$("#activityIntroduction,#activityIntroductionBg").remove(),$("body").css({overflow:"auto"})}),$("#activityIntroduction .activityIntroductionShare").on("click",function(){$("#RewardShareModal").length||$("body").append(r),$("#RewardShareModal").on("click",function(){$("#RewardShareModal").remove()})}),$(".rewarddetailsModalbtn").on("click",function(){$("#activityIntroduction,#activityIntroductionBg").remove(),i.showRewarddetailsModal()}),$(".detailedrulesbtn").on("click",function(){location.href=location.origin+"/business/detailedrules.html"}))},resizezoom:function(t,i){$("body").css({overflow:"hidden"});var r=$("#"+i),o=t.originalEvent||{},e=o.touches[0],f=parseFloat(r.css("left")),m=parseFloat(r.css("top")),h={x:e.clientX,y:e.clientY};document.ontouchmove=function(w){var y=w.touches[0],p={x:y.clientX,y:y.clientY},u=p.x-h.x,x=p.y-h.y,v=f+u,I=m+x;v<0?v=0:v>window.innerWidth-r.offsetWidth&&(v=window.innerWidth-r.offsetWidth),I<0?I=0:I>window.innerHeight-r.offsetHeight&&(I=window.innerHeight-r.offsetHeight),r.css({left:v,top:I})},document.ontouchend=function(w){document.ontouchmove=null,document.ontouchend=null,$("body").css({overflow:"auto"})}},startDrag:function(t,i){$("body").css({overflow:"hidden"});var r=document.getElementById(i),t=t||window.event,o=t.clientX-r.offsetLeft,e=t.clientY-r.offsetTop;document.onmousemove=function(f){var f=f||window.event,m=f.clientX-o,h=f.clientY-e;m<0?m=0:m>window.innerWidth-r.offsetWidth&&(m=window.innerWidth-r.offsetWidth),h<0?h=0:h>window.innerHeight-r.offsetHeight&&(h=window.innerHeight-r.offsetHeight),r.style.left=m+"px",r.style.top=h+"px"},document.onmouseup=function(f){document.onmousemove=null,document.onmouseup=null,$("body").css({overflow:"auto"}),typeof r.releaseCapture!="undefined"&&r.releaseCapture()}},getgourl:function(){var t=this,i=window.location.href,r=decodeURIComponent(decodeURIComponent(i)),o=r+(r.indexOf("?")>-1?"&":"?")+"noevxtoken=true",e=encodeURIComponent(o),f=window.frames.length!=parent.frames.length;$.ajax({headers:{token:t.getCookie("token")},type:"GET",url:"/api/welink/wechat/qrCode/url",data:{targetServerNameForOverride:t.getUrlParms("targetServerNameForOverride")||t.getUrlParms("host")||void 0,envTypeName:"official_account",sceneTypeName:location.href.indexOf("scale-h5server")>-1?"ce_ping":"consulting",redirectUrl:e},dataType:"json",async:!1,success:function(m){if(m.code==200&&m.success){var h=m.data||{};h.url&&(f?window.parent.location.href=h.url:window.location.replace(h.url))}}})},getNum:function(){for(var t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],i="",r=0;r<32;r++){var o=parseInt(Math.random()*61);i+=t[o]}return i},getChannel:function(){var t=this,i=navigator.userAgent.toLowerCase(),r=location.href.indexOf("scale-h5server")>-1?"":t.getUrlParms("channel")||"",o=i.indexOf("wujiapp")>-1;if(window.__wxjs_environment==="miniprogram")return 4;if(i.match(/MicroMessenger/i)=="micromessenger"){var e={win:!1,mac:!1},f=navigator.platform;return e.win=f.indexOf("Win")==0,e.mac=f.indexOf("Mac")==0,e.win||e.mac?9:1}else return window.localStorage.appAdapt===!0||window.localStorage.appAdapt==="true"||o?r||5:r||(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?2:3)},getnewbus:function(){var t=this,i=window.information_busType?t.getnewbusType(window.information_busType):"",r=window.information_sourceId||t.getShtmlUrl()||t.getUrlParms("aid")||0,o="",e=window.location.pathname;return e.indexOf("business/pictureLive")>=0&&(i="31",r=t.getUrlParms("picLiveId")||0),e.indexOf("vscard/views.html")>=0&&(i="7",o=t.getUrlParms("vcardId")?decodeURIComponent(t.getUrlParms("vcardId")):"",r=0),e.indexOf("lookpic")>=0&&(i="404",r=t.getUrlParms("homepageInfoId")||0),e.indexOf("shop/discount.html")>=0&&(i="20",r=0,o=t.getUrlParms("couponCode")?decodeURIComponent(t.getUrlParms("couponCode")):""),e.indexOf("business/shareFolder.html")>=0&&(i="25",r=t.getUrlParms("fileIds")?decodeURIComponent(t.getUrlParms("fileIds")):""),e.indexOf("shop/item.html")>=0&&(i="4",r=t.getUrlParms("itemid")||0),(e.indexOf("designschool/form/answer.html")>=0||e.indexOf("pages/company/answer.html")>=0||e.indexOf("/portal/form.html")>=0)&&(i="6",r=t.getUrlParms("formId")||0),(e.indexOf("pages/info.html")>=0||e.indexOf("pages/wap/info.html")>=0)&&(i="3",r=t.getUrlParms("cid")||0),(e.indexOf("pages/bundle.html")>=0||e.indexOf("pages/wap/bundle.html")>=0)&&(i="3",r=t.getUrlParms("cid")||0),(e.indexOf("pages/ware.html")>=0||e.indexOf("pages/wap/ware.html")>=0)&&(i="15",r=t.getUrlParms("rid")||0),(e.indexOf("pages/wap/elective.html")>=0||e.indexOf("pages/elective.html")>=0)&&(i="3",r=0),(e.indexOf("views/wap/livecourse_wap.html")>-1||e.indexOf("views/myroom/livecourse.html")>-1||e.indexOf("views/common/course.html")>-1||e.indexOf("liveclass/course.html")>-1||e.indexOf("views/wap/course_wap.html")>-1||e.indexOf("views/myroom/fakeLive.html")>-1||e.indexOf("views/common/smallclass.html")>-1||e.indexOf("liveclass/wap/livecourse.html")>-1)&&(i="15",r=t.getUrlParms("cwid")||0),(window.location.pathname=="/shop"||window.location.pathname=="/shop/"||window.location.pathname=="/shop/list.html")&&(i="4",r=0),window.location.pathname=="/shop/item.html"&&(i="4",r=t.getUrlParms("itemid")||0),e.indexOf("course/")>=0&&e.indexOf("shtml")>=0&&(i="3",r=t.getShtmlUrl()||t.getUrlParms("cid")||0),(e.indexOf("/pages/newslist.html")>=0||e.indexOf("/pages/wap/newslist.html")>=0||e.indexOf("/pages/listrmation.html")>=0||e.indexOf("/pages/wap/listrmation.html")>=0)&&!t.getUrlParms("busType")&&(i="1",r=0),e.indexOf("/pages/QA.html")>=0&&(i="12",r=0),e.indexOf("/pages/Wikipedia.html")>=0&&(i="11",r=0),e.indexOf("/pages/products.html")>=0&&(i="10",r=0),e.indexOf("/pages/cases.html")>=0&&(i="9",r=0),e.indexOf("/pages/photos.html")>=0&&(i="13",r=0),e.indexOf("/pages/recruit.html")>=0&&(i="8",r=0),e.indexOf("/pages/partner.html")>=0&&(i="19",r=0),e.indexOf("/pages/qualification.html")>=0&&(i="17",r=0),e.indexOf("/pages/honour.html")>=0&&(i="18",r=0),e.indexOf("/portal/preview/doc.html")>=0&&(i="16",r=t.getUrlParms("aid")||0),(e.indexOf("/pages/wap/listrmation.html")>=0||e.indexOf("/pages/wap/newslist.html")>=0)&&t.getUrlParms("busType")&&(i=t.getnewbusType(t.getUrlParms("busType")),r=0),(t.getStrCount(window.location.pathname,"/")==1&&e.indexOf(".shtml")>=0||location.pathname==""||location.pathname=="/")&&(i="14",r=0),e.indexOf("scale-h5server")>=0&&(i="28",r=t.getUrlParms("moduleId")||t.getUrlParms("plateId")?decodeURIComponent(t.getUrlParms("moduleId")||t.getUrlParms("plateId")):999999),{sourceType:i,sourceId:r,busStr:o}},getbus:function(){var t=this,i=window.information_busType?t.getbusType(window.information_busType):"",r=window.information_sourceId||t.getShtmlUrl()||t.getUrlParms("aid")||0,o="",e=window.location.pathname;return e.indexOf("scale-h5server")>=0&&(i="807",r=t.getUrlParms("moduleId")||t.getUrlParms("plateId")?decodeURIComponent(t.getUrlParms("moduleId")||t.getUrlParms("plateId")):999999),e.indexOf("vscard/views.html")>=0&&(i="601",o=t.getUrlParms("vcardId")?decodeURIComponent(t.getUrlParms("vcardId")):"",r=0),e.indexOf("shareHomepageFile")>=0&&(i="112",r=t.getUrlParms("homepageId")||0),e.indexOf("lookpic")>=0&&(i="404",r=t.getUrlParms("homepageInfoId")||0),e.indexOf("business/pictureLive")>=0&&(i="115",r=t.getUrlParms("picLiveId")||0),e.indexOf("shareHomepageImg")>=0&&(i="111",r=t.getUrlParms("homepageId")||0),e.indexOf("vscard/profile.html")>=0&&(i="201",o=t.getUrlParms("vcardId")?decodeURIComponent(t.getUrlParms("vcardId")):"",r=0),e.indexOf("shop/discount.html")>=0&&(i="308",r=0,t.busIdEncrypt=t.getUrlParms("couponCode")?decodeURIComponent(t.getUrlParms("couponCode")):""),e.indexOf("business/shareFolder.html")>=0&&(i="108",r=t.getUrlParms("fileIds")?decodeURIComponent(t.getUrlParms("fileIds")):""),e.indexOf("vscard/myphoto.html")>=0&&(i="202",o=t.getUrlParms("vcardId")?decodeURIComponent(t.getUrlParms("vcardId")):"",r=0),e.indexOf("vscard/myvideo.html")>=0&&(i="203",o=t.getUrlParms("vcardId")?decodeURIComponent(t.getUrlParms("vcardId")):"",r=0),(e.indexOf("vscard/enterpriseNews.html")>=0||e.indexOf("/square/")>=0)&&(i="104",r=0),e.indexOf("vscard/mycolleague.html")>=0&&(i="204",r=0),e.indexOf("shop/item.html")>=0&&(i="305",r=t.getUrlParms("itemid")||0),(e.indexOf("pages/wap/elective.html")>=0||e.indexOf("pages/elective.html")>=0)&&(i="302",r=0),(e.indexOf("designschool/form/answer.html")>=0||e.indexOf("pages/company/answer.html")>=0||e.indexOf("/portal/form.html")>=0)&&(i="301",r=t.getUrlParms("formId")||0),(e.indexOf("pages/info.html")>=0||e.indexOf("pages/wap/info.html")>=0)&&(i="302",r=t.getUrlParms("cid")||0),e.indexOf("/pubinfo/")>=0&&e.indexOf(".html")>=0&&(r=window.information_sourceId||t.getShtmlUrl()||t.getUrlParms("aid")||t.getHtmlUrl()||0),(e.indexOf("pages/bundle.html")>=0||e.indexOf("pages/wap/bundle.html")>=0)&&(i="303",r=t.getUrlParms("cid")||0),(e.indexOf("pages/memberDetail.html")>=0||e.indexOf("shop/vipItem.html")>=0)&&(i="306",r=t.getUrlParms("vipId")||t.getUrlParms("itemid")||0),(e.indexOf("pages/ware.html")>=0||e.indexOf("pages/wap/ware.html")>=0)&&(i="304",r=t.getUrlParms("rid")||0),(e.indexOf("views/wap/livecourse_wap.html")>-1||e.indexOf("views/myroom/livecourse.html")>-1||e.indexOf("views/common/course.html")>-1||e.indexOf("liveclass/course.html")>-1||e.indexOf("views/wap/course_wap.html")>-1||e.indexOf("views/myroom/fakeLive.html")>-1||e.indexOf("views/common/smallclass.html")>-1||e.indexOf("liveclass/wap/livecourse.html")>-1)&&(i="304",r=t.getUrlParms("cwid")||0),(window.location.pathname=="/shop"||window.location.pathname=="/shop/"||window.location.pathname=="/shop/list.html")&&(i="305",r=0),window.location.pathname=="/shop/item.html"&&(i="305",r=t.getUrlParms("itemid")||0),e.indexOf("course/")>=0&&e.indexOf("shtml")>=0&&(i="302",r=t.getShtmlUrl()||t.getUrlParms("cid")||0),(e.indexOf("/pages/newslist.html")>=0||e.indexOf("/pages/wap/newslist.html")>=0||e.indexOf("/pages/listrmation.html")>=0||e.indexOf("/pages/wap/listrmation.html")>=0)&&!t.getUrlParms("busType")&&(i="102",r=0),e.indexOf("/pages/company/basicInfo.html")>=0&&(i="012",r=0),e.indexOf("/pages/QA.html")>=0&&(i="007",r=0),e.indexOf("/pages/Wikipedia.html")>=0&&(i="006",r=0),e.indexOf("/pages/products.html")>=0&&(i="005",r=0),e.indexOf("/pages/cases.html")>=0&&(i="004",r=0),e.indexOf("/pages/photos.html")>=0&&(i="008",r=0),e.indexOf("/pages/recruit.html")>=0&&(i="003",r=0),e.indexOf("/pages/partner.html")>=0&&(i="011",r=0),e.indexOf("/pages/qualification.html")>=0&&(i="009",r=0),e.indexOf("/pages/honour.html")>=0&&(i="010",r=0),e.indexOf("/portal/preview/doc.html")>=0&&(i="014",r=t.getUrlParms("aid")||0),(e.indexOf("/pages/newslist.html")>=0||e.indexOf("/pages/wap/newslist.html")>=0||e.indexOf("/pages/listrmation.html")>=0||e.indexOf("/pages/wap/listrmation.html")>=0)&&t.getUrlParms("busType")&&(i=t.getbusType(t.getUrlParms("busType")),r=0),t.getStrCount(window.location.pathname,"/")==1&&e.indexOf(".shtml")>=0&&(i="103",t.busIdEncrypt=location.pathname.replace("/","").replace(".shtml",""),r=0),(location.pathname==""||location.pathname=="/")&&(i="101",r=0),{sourceType:i,sourceId:r,shareCardIdStr:o}},infocoverUrl:function(t){var i=this;return(t||"").replace(/(^\s*)/g,"").indexOf("http")!=0&&(t||"").indexOf(i.cdnPath)<0&&(t||"").indexOf("data:image")!==0?i.cdnPath+t:t},yzmobile:function(t,i){var r=this,o=0,e=60,f=window.yzmishastoken||"",m=r.getUrlParms("targetServerNameForOverride")||r.getUrlParms("host")||formappdepath?"?targetServerNameForOverride="+(r.getUrlParms("targetServerNameForOverride")||r.getUrlParms("host")||formappdepath):"",h='<div class="mobileyzbox"><div class="mobileuser"><div class="cover"><img src= /></div></div><div class="usertext"><div class="triangle-up"></div>\u6DF1\u5165\u4E86\u89E3\u4E2D\uFF1F\u4E5F\u8BB8\u4F1A\u9700\u8981\u6211\u7684\u7B54\u7591\u8981\u70B9\uFF0C\u8BF7\u7559\u7ED9\u6211\u60A8\u7684\u8054\u7CFB\u65B9\u5F0F\u5427</div><div class="yzform"><div class="mobilebox"><input type="text" maxLength="11" placeholder="\u60A8\u7684\u624B\u673A\u53F7\u7801" /></div><div class="erroralert">\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7</div><div class="yzmbox"><input type="text" maxLength="10" placeholder="\u9A8C\u8BC1\u7801" /><div class="yzmbtn"><div>\u5DF2\u53D1\u9001(60)</div><a>\u53D1\u9001\u9A8C\u8BC1\u7801</a></div></div><div class="erroryzmalert">\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7</div></div><div class="subbtn"><a>\u9A6C\u4E0A\u67E5\u770B</a></div></div>';r.addCSS(".mobileyzbox { width: 100%;}.mobileyzbox .mobileuser { position: relative; width: 100%; height: 47px;}.mobileyzbox .mobileuser .cover { position: absolute; width: 65px;  height: 65px; padding: 1.5px; background-color: #ffffff; overflow: hidden; border-radius: 50%; left: 30px; top: -18px;}.mobileyzbox .mobileuser .cover img { width: 62px; height: 62px; position: absolute; top: 3px; left: 3px; border-radius: 50%;}.mobileyzbox .usertext { margin: 0px 24px auto; margin-top: 10px; background: #f1f4f6; border-radius: 10px; position: relative; padding: 12px; color: #333333; font-size: 14px;}.mobileyzbox .usertext .triangle-up { width: 0; height: 0; border-left: 5px solid transparent; border-right: 5px solid transparent; border-bottom: 10px solid #f1f4f6; position: absolute; top: -9px; left: 32.5px;}.mobileyzbox .subbtn { display: flex; align-items: center; justify-content: center;}.mobileyzbox .subbtn a { display: inline-block; width: 210px; height: 40px; text-align: center; background: #108ee9; border-radius: 20px; font-size: 16px; line-height: 40px; margin-top: 20px; margin-bottom: 12px; color: #ffffff;}.mobileyzbox .yzform { margin: 0px 24px auto; margin-top: 10px; }.mobileyzbox .yzform .mobilebox input { box-shadow: none; border: 0; background: #fff; min-height: 32px; line-height: 32px; box-sizing: border-box; margin: 0; width: 100%; font-variant: tabular-nums; list-style: none; -webkit-font-feature-settings: 'tnum', 'tnum'; font-feature-settings: 'tnum', 'tnum'; position: relative; display: inline-block; min-width: 0; padding: 4px 11px; color: rgba(0, 0, 0, 0.85); font-size: 14px; line-height: 1.5715; background-color: #fff; background-image: none; border-radius: 2px; -webkit-transition: all 0.3s; transition: all 0.3s; }.mobileyzbox .yzform .yzmbox { display: flex; align-items: center; border-bottom: 1px solid #f9f9f9; padding-bottom: 6px;}.mobileyzbox .yzform .yzmbox input { flex: 1; overflow: hidden; box-shadow: none; border: 0; background: #fff; min-height: 32px; line-height: 32px; box-sizing: border-box; margin: 0; width: 100%; font-variant: tabular-nums; list-style: none;  -webkit-font-feature-settings: 'tnum', 'tnum'; font-feature-settings: 'tnum', 'tnum'; position: relative; display: inline-block; min-width: 0; padding: 4px 11px; color: rgba(0, 0, 0, 0.85); font-size: 14px; line-height: 1.5715; background-color: #fff; background-image: none; border-radius: 2px; -webkit-transition: all 0.3s; transition: all 0.3s; }.mobileyzbox .yzform .erroralert { color: #ff4d4f; font-size: 14px; text-align: left; margin-left: 10px; line-height: 1.5715; display: none; }.mobileyzbox .yzform .erroryzmalert { color: #ff4d4f; font-size: 14px; text-align: left; margin-left: 10px; line-height: 1.5715; display: none; }.mobileyzbox .yzform .yzmbox .yzmbtn { width: 100px; text-align: right; margin-left: 5px; font-size: 16px; }.mobileyzbox .yzform .yzmbox .yzmbtn a { color: #1890ff; cursor: pointer; }.mobileyzbox .yzform .yzmbox .yzmbtn div { color: #666; display: none;}.mobileyzmodal {width: 320px;border-radius: 5px !important;}.mobileyzmodal .layui-layer-content {overflow: inherit !important;}.mobileyzmodal input:hover { border: 0; outline: 0; box-shadow: none;}.mobileyzmodal input:focus { border: 0; outline: 0; box-shadow: none; }");var w=layer.open({type:1,title:"",skin:"layui-layer-antd nohasbtn mobileyzmodal",closeBtn:0,anim:2,area:"375px 310px",scrollbar:!1,shadeClose:!1,cancel:function(y,p){},success:function(y){$(".mobileyzbox .mobilebox input").on("blur",function(p){var u=p.target.value||"";u&&!/^1\d{10}$/.test(u)?($(".mobileyzbox .erroralert").text("\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7"),$(".mobileyzbox .erroralert").show()):$(".mobileyzbox .erroralert").hide()}),$(".mobileyzbox .yzmbtn a").on("click",function(p){if(!o){var u=$(".mobileyzbox .mobilebox input").val();if(!u){$(".mobileyzbox .erroralert").text("\u8BF7\u8F93\u5165\u624B\u673A\u53F7"),$(".mobileyzbox .erroralert").show();return}if(!/^1\d{10}$/.test(u)){$(".mobileyzbox .erroralert").text("\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7"),$(".mobileyzbox .erroralert").show();return}var x=f?"/api/vcard/sendVerificationCode":"/api/vcard/sendVerificationCodeG";o=1,f?$.ajax({type:"GET",headers:{token:r.getCookie("token")},url:x+"?projectid=74",contentType:"application/json",dataType:"json",data:{mobilePhone:u,uvcid:f?void 0:localStorage.uvcid||"",targetServerNameForOverride:r.getUrlParms("targetServerNameForOverride")||r.getUrlParms("host")||void 0},async:!0,success:function(v){var I=v.data||{};v.code==200&&v.success&&(e=60,$(".mobileyzbox .yzmbtn a").hide(),$(".mobileyzbox .yzmbtn div").text("\u5DF2\u53D1\u9001("+e+")").show(),yzmtimer=setInterval(function(){e<=0?(e=60,$(".mobileyzbox .yzmbtn a").show(),$(".mobileyzbox .yzmbtn div").hide(),clearInterval(yzmtimer),o=0):(e=e-1,$(".mobileyzbox .yzmbtn a").hide(),$(".mobileyzbox .yzmbtn div").text("\u5DF2\u53D1\u9001("+e+")").show())},1e3))}}):$.ajax({type:"POST",headers:{token:r.getCookie("token")},url:x+"?projectid=74"+m,contentType:"application/json",dataType:"json",data:JSON.stringify({mobilePhone:u,uvcid:f?void 0:localStorage.uvcid||""}),async:!0,success:function(v){var I=v.data||{};v.code==200&&v.success&&(e=60,o=1,$(".mobileyzbox .yzmbtn a").hide(),$(".mobileyzbox .yzmbtn div").text("\u5DF2\u53D1\u9001("+e+")").show(),yzmtimer=setInterval(function(){e<=0?(e=60,$(".mobileyzbox .yzmbtn a").show(),$(".mobileyzbox .yzmbtn div").hide(),clearInterval(yzmtimer),o=0):(e=e-1,$(".mobileyzbox .yzmbtn a").hide(),$(".mobileyzbox .yzmbtn div").text("\u5DF2\u53D1\u9001("+e+")").show())},1e3))}})}}),$(".mobileyzbox .subbtn a").on("click",function(p){var u=$(".mobileyzbox .mobilebox input").val(),x=$(".mobileyzbox .yzmbox input").val();if(!u){$(".mobileyzbox .erroralert").text("\u8BF7\u8F93\u5165\u624B\u673A\u53F7"),$(".mobileyzbox .erroralert").show();return}if(!/^1\d{10}$/.test(u)){$(".mobileyzbox .erroralert").text("\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7"),$(".mobileyzbox .erroralert").show();return}if(!x){$(".mobileyzbox .erroryzmalert").text("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"),$(".mobileyzbox .erroryzmalert").show();return}$(".mobileyzbox .erroryzmalert,.mobileyzbox .erroralert").hide();var v=f?"/api/vcard/checkVerifyCode":"/api/vcard/checkVerifyCodeG";$.ajax({type:"POST",headers:{token:r.getCookie("token")},url:v+"?projectid=74"+m,contentType:"application/json",dataType:"json",data:JSON.stringify({code:x,mobilePhone:u,uvcid:f?void 0:localStorage.uvcid||""}),async:!0,success:function(I){parseInt(I.code)==200?(layer.open({content:"\u9A8C\u8BC1\u6210\u529F",skin:"msg"}),window.localStorage.setItem("showPhone",u||""),layer.closeAll(),reportVisitLog&&reportVisitLog.callaction("23","",u),i&&i()):($(".mobileyzbox .erroryzmalert").text(I.message),$(".mobileyzbox .erroryzmalert").show())}})})},content:h})},getStrCount:function(t,i){for(var r=0;t.indexOf(i)!=-1;)t=t.replace(i,""),r++;return r},getShtmlUrl:function(){for(var t=location.href.split("/"),i=0,r=t.length;i<r;i++){var o=t[i];if(o.indexOf(".shtml")>-1)return o.split(".shtml")[0]}return!1},getHtmlUrl:function(){for(var t=location.href.split("/"),i=0,r=t.length;i<r;i++){var o=t[i];if(o.indexOf(".html")>-1)return o.split("shtml")[0]}return!1},getbusType:function(t){switch(t){case"0":return"001";case"0,1":return"001";case"1":return"002";case"2":return"003";case"3":return"008";case"4":return"007";case"5":return"006";case"6":return"005";case"7":return"004";case"8":return"011";case"9":return"010";case"10":return"009";case"11":return"014";case"13":return"105";case"14":return"106";case"15":return"107";default:return"001"}},getnewbusType:function(t){switch(t){case"0":return"1";case"1":return"2";case"2":return"8";case"7":return"9";case"6":return"10";case"5":return"11";case"4":return"12";case"3":return"13";case"11":return"16";case"8":return"19";case"9":return"18";case"10":return"17";case"13":return"21";case"14":return"22";case"15":return"23";default:return"0"}},setreturn:function(){var t=this,i=navigator.userAgent.match(/iPad/)||navigator.userAgent.match(/iPhone/)||navigator.userAgent.match(/iPod/);t.actionType=="00"&&i&&t.setCookie("returnreport","1")},setCookie:function(t,i,r){var o=new Date;o.setTime(o.getTime()+10*1e3),document.cookie=t+"="+escape(i)+";path=/;expires="+o.toGMTString()},getCookie:function(t){for(var i=document.cookie,r=i.split("; "),o=0;o<r.length;o++){var e=r[o].split("=");if(e[0]==t)return e[1]}return""},getUrlParms:function(t){var i=location.href.indexOf("scale-h5server")>-1?window.location.hash:window.location.search,r=t=="moduleId"||t=="plateId"?"(^|&?)":"(^|&)",o=new RegExp(r+t+"=([^&]*)(&|$)"),e=i.substr(1).match(o);return e!=null?unescape(e[2]):null},getTimeZhCN:function(t,i){if(new Date(parseInt(t))=="Invalid Date"&&new Date(parseInt(t)*1e3)=="Invalid Date")return"--";new Date(parseInt(i))=="Invalid Date"&&new Date(parseInt(i)*1e3)=="Invalid Date"&&(i=Date.parse(new Date));var r=i-t,o=new Date(parseInt(t)),e=parseInt(o.getMonth()+1)<10?"0"+(o.getMonth()+1):o.getMonth()+1,f=parseInt(o.getDate())<10?"0"+o.getDate():o.getDate(),m=parseInt(o.getHours())<10?"0"+o.getHours():o.getHours(),h=parseInt(o.getMinutes())<10?"0"+o.getMinutes():o.getMinutes();return`${o.getFullYear()}-${e}-${f} ${m}:${h}`},base64decode:function(t){var i=this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="",e,f,m,h,w,y,p,u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)h=r.indexOf(t.charAt(u++)),w=r.indexOf(t.charAt(u++)),y=r.indexOf(t.charAt(u++)),p=r.indexOf(t.charAt(u++)),e=h<<2|w>>4,f=(w&15)<<4|y>>2,m=(y&3)<<6|p,o=o+String.fromCharCode(e),y!=64&&(o=o+String.fromCharCode(f)),p!=64&&(o=o+String.fromCharCode(m));return o=i._utf8_decode(o),o},_utf8_decode:function(t){for(var i="",r=0,o=0,e=0,f=0,m=0;r<t.length;)o=t.charCodeAt(r),o<128?(i+=String.fromCharCode(o),r++):o>191&&o<224?(f=t.charCodeAt(r+1),i+=String.fromCharCode((o&31)<<6|f&63),r+=2):(f=t.charCodeAt(r+1),m=t.charCodeAt(r+2),i+=String.fromCharCode((o&15)<<12|(f&63)<<6|m&63),r+=3);return i}},function(t){"use strict";function i(a,g){var n=(a&65535)+(g&65535),b=(a>>16)+(g>>16)+(n>>16);return b<<16|n&65535}function r(a,g){return a<<g|a>>>32-g}function o(a,g,n,b,O,k){return i(r(i(i(g,a),i(b,k)),O),n)}function e(a,g,n,b,O,k,P){return o(g&n|~g&b,a,g,O,k,P)}function f(a,g,n,b,O,k,P){return o(g&b|n&~b,a,g,O,k,P)}function m(a,g,n,b,O,k,P){return o(g^n^b,a,g,O,k,P)}function h(a,g,n,b,O,k,P){return o(n^(g|~b),a,g,O,k,P)}function w(a,g){a[g>>5]|=128<<g%32,a[(g+64>>>9<<4)+14]=g;var n,b,O,k,P,s=1732584193,d=-271733879,l=-1732584194,c=271733878;for(n=0;n<a.length;n+=16)b=s,O=d,k=l,P=c,s=e(s,d,l,c,a[n],7,-680876936),c=e(c,s,d,l,a[n+1],12,-389564586),l=e(l,c,s,d,a[n+2],17,606105819),d=e(d,l,c,s,a[n+3],22,-1044525330),s=e(s,d,l,c,a[n+4],7,-176418897),c=e(c,s,d,l,a[n+5],12,1200080426),l=e(l,c,s,d,a[n+6],17,-1473231341),d=e(d,l,c,s,a[n+7],22,-45705983),s=e(s,d,l,c,a[n+8],7,1770035416),c=e(c,s,d,l,a[n+9],12,-1958414417),l=e(l,c,s,d,a[n+10],17,-42063),d=e(d,l,c,s,a[n+11],22,-1990404162),s=e(s,d,l,c,a[n+12],7,1804603682),c=e(c,s,d,l,a[n+13],12,-40341101),l=e(l,c,s,d,a[n+14],17,-1502002290),d=e(d,l,c,s,a[n+15],22,1236535329),s=f(s,d,l,c,a[n+1],5,-165796510),c=f(c,s,d,l,a[n+6],9,-1069501632),l=f(l,c,s,d,a[n+11],14,643717713),d=f(d,l,c,s,a[n],20,-373897302),s=f(s,d,l,c,a[n+5],5,-701558691),c=f(c,s,d,l,a[n+10],9,38016083),l=f(l,c,s,d,a[n+15],14,-660478335),d=f(d,l,c,s,a[n+4],20,-405537848),s=f(s,d,l,c,a[n+9],5,568446438),c=f(c,s,d,l,a[n+14],9,-1019803690),l=f(l,c,s,d,a[n+3],14,-187363961),d=f(d,l,c,s,a[n+8],20,1163531501),s=f(s,d,l,c,a[n+13],5,-1444681467),c=f(c,s,d,l,a[n+2],9,-51403784),l=f(l,c,s,d,a[n+7],14,1735328473),d=f(d,l,c,s,a[n+12],20,-1926607734),s=m(s,d,l,c,a[n+5],4,-378558),c=m(c,s,d,l,a[n+8],11,-2022574463),l=m(l,c,s,d,a[n+11],16,1839030562),d=m(d,l,c,s,a[n+14],23,-35309556),s=m(s,d,l,c,a[n+1],4,-1530992060),c=m(c,s,d,l,a[n+4],11,1272893353),l=m(l,c,s,d,a[n+7],16,-155497632),d=m(d,l,c,s,a[n+10],23,-1094730640),s=m(s,d,l,c,a[n+13],4,681279174),c=m(c,s,d,l,a[n],11,-358537222),l=m(l,c,s,d,a[n+3],16,-722521979),d=m(d,l,c,s,a[n+6],23,76029189),s=m(s,d,l,c,a[n+9],4,-640364487),c=m(c,s,d,l,a[n+12],11,-421815835),l=m(l,c,s,d,a[n+15],16,530742520),d=m(d,l,c,s,a[n+2],23,-995338651),s=h(s,d,l,c,a[n],6,-198630844),c=h(c,s,d,l,a[n+7],10,1126891415),l=h(l,c,s,d,a[n+14],15,-1416354905),d=h(d,l,c,s,a[n+5],21,-57434055),s=h(s,d,l,c,a[n+12],6,1700485571),c=h(c,s,d,l,a[n+3],10,-1894986606),l=h(l,c,s,d,a[n+10],15,-1051523),d=h(d,l,c,s,a[n+1],21,-2054922799),s=h(s,d,l,c,a[n+8],6,1873313359),c=h(c,s,d,l,a[n+15],10,-30611744),l=h(l,c,s,d,a[n+6],15,-1560198380),d=h(d,l,c,s,a[n+13],21,1309151649),s=h(s,d,l,c,a[n+4],6,-145523070),c=h(c,s,d,l,a[n+11],10,-1120210379),l=h(l,c,s,d,a[n+2],15,718787259),d=h(d,l,c,s,a[n+9],21,-343485551),s=i(s,b),d=i(d,O),l=i(l,k),c=i(c,P);return[s,d,l,c]}function y(a){var g,n="",b=a.length*32;for(g=0;g<b;g+=8)n+=String.fromCharCode(a[g>>5]>>>g%32&255);return n}function p(a){var g,n=[];for(n[(a.length>>2)-1]=void 0,g=0;g<n.length;g+=1)n[g]=0;var b=a.length*8;for(g=0;g<b;g+=8)n[g>>5]|=(a.charCodeAt(g/8)&255)<<g%32;return n}function u(a){return y(w(p(a),a.length*8))}function x(a,g){var n,b=p(a),O=[],k=[],P;for(O[15]=k[15]=void 0,b.length>16&&(b=w(b,a.length*8)),n=0;n<16;n+=1)O[n]=b[n]^909522486,k[n]=b[n]^1549556828;return P=w(O.concat(p(g)),512+g.length*8),y(w(k.concat(P),512+128))}function v(a){var g="0123456789abcdef",n="",b,O;for(O=0;O<a.length;O+=1)b=a.charCodeAt(O),n+=g.charAt(b>>>4&15)+g.charAt(b&15);return n}function I(a){return unescape(encodeURIComponent(a))}function T(a){return u(I(a))}function z(a){return v(T(a))}function C(a,g){return x(I(a),I(g))}function S(a,g){return v(C(a,g))}function U(a,g,n){return g?n?C(g,a):S(g,a):n?T(a):z(a)}typeof define=="function"&&define.amd?define(function(){return U}):typeof module=="object"&&module.exports?module.exports=U:t.md5=U}(this);
