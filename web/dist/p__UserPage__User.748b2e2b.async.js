(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[31340],{76880:function(oe,z,e){"use strict";e.d(z,{Z:function(){return w}});var M=e(28991),E=e(67294),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-left",theme:"outlined"},H=F,B=e(27029),x=function(R,A){return E.createElement(B.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:A,icon:H}))};x.displayName="AlignLeftOutlined";var w=E.forwardRef(x)},21059:function(oe,z,e){"use strict";e.d(z,{Z:function(){return w}});var M=e(28991),E=e(67294),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},H=F,B=e(27029),x=function(R,A){return E.createElement(B.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:A,icon:H}))};x.displayName="ArrowDownOutlined";var w=E.forwardRef(x)},26139:function(oe,z,e){"use strict";e.d(z,{Z:function(){return w}});var M=e(28991),E=e(67294),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},H=F,B=e(27029),x=function(R,A){return E.createElement(B.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:A,icon:H}))};x.displayName="ArrowUpOutlined";var w=E.forwardRef(x)},88528:function(oe,z,e){"use strict";e.d(z,{Z:function(){return w}});var M=e(28991),E=e(67294),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1zm396-144.7H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder-add",theme:"outlined"},H=F,B=e(27029),x=function(R,A){return E.createElement(B.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:A,icon:H}))};x.displayName="FolderAddOutlined";var w=E.forwardRef(x)},54977:function(oe,z,e){"use strict";e.d(z,{Z:function(){return w}});var M=e(28991),E=e(67294),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},H=F,B=e(27029),x=function(R,A){return E.createElement(B.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:A,icon:H}))};x.displayName="FormOutlined";var w=E.forwardRef(x)},59465:function(oe,z,e){"use strict";e.d(z,{Z:function(){return w}});var M=e(28991),E=e(67294),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},H=F,B=e(27029),x=function(R,A){return E.createElement(B.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:A,icon:H}))};x.displayName="MinusCircleOutlined";var w=E.forwardRef(x)},31223:function(oe,z,e){"use strict";e.d(z,{Z:function(){return w}});var M=e(28991),E=e(67294),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},H=F,B=e(27029),x=function(R,A){return E.createElement(B.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:A,icon:H}))};x.displayName="UserAddOutlined";var w=E.forwardRef(x)},19054:function(oe,z,e){"use strict";var M=e(28991),E=e(81253),F=e(85893),H=e(67294),B=e(47869),x=["fieldProps","request","params","proFieldProps"],w=function(A,ve){var N=A.fieldProps,y=A.request,Ce=A.params,S=A.proFieldProps,Me=(0,E.Z)(A,x);return(0,F.jsx)(B.Z,(0,M.Z)({valueType:"treeSelect",fieldProps:N,ref:ve,request:y,params:Ce,filedConfig:{customLightMode:!0},proFieldProps:S},Me))},ie=H.forwardRef(w);z.Z=ie},5267:function(oe){oe.exports={marBtm:"marBtm___1-lIB"}},64434:function(oe){oe.exports={operateIcon:"operateIcon___3dyOR"}},62458:function(oe){oe.exports={groupSearch:"groupSearch___2WlQG"}},81363:function(oe){oe.exports={dragBox:"dragBox___2rrQd"}},96946:function(oe,z,e){"use strict";var M=e(11849),E=e(39428),F=e(3182),H=e(57663),B=e(71577),x=e(67294),w=e(30672),ie=e(37476),R=e(71975),A=e(1977),ve=e(85893),N=y=>{var Ce=(0,w.YB)(),S=(0,x.useRef)(),Me=(0,w.v9)(Ze=>Ze.common),V=Me.isMobile,j=y.modalType,i=y.width,t=y.title,s=y.formRef,p=s===void 0?S:s,l=y.trigger,g=y.triggerAuth,se=y.closable,ne=y.submitBtnHide,J=y.visible,Ae=y.setVisible,me=y.afterClose,De=y.modalChildren,Ne=y.finish,Ue=y.isLoading,Ge=Ue===void 0?!1:Ue,pe={width:V&&j!="modal"?"100%":i||550,title:t,formRef:p,trigger:l||(0,ve.jsx)(B.Z,{type:"primary",icon:(0,ve.jsx)(A.Z,{}),disabled:g!==void 0?!g:!1,children:Ce.formatMessage({id:"common.add"})}),scrollToFirstError:!0,visible:J,onVisibleChange:Ae,children:De,submitter:{submitButtonProps:{loading:Ge,style:{display:ne?"none":"inline-block"}}},modalProps:{destroyOnClose:!0,closable:se,maskClosable:!1,afterClose:me},drawerProps:{destroyOnClose:!0,closable:se,maskClosable:!1,onClose:me,className:"selfDrawer",push:{distance:0}},onFinish:function(){var Ze=(0,F.Z)((0,E.Z)().mark(function _e(we){return(0,E.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.abrupt("return",Ne(we));case 1:case"end":return ge.stop()}},_e)}));function Te(_e){return Ze.apply(this,arguments)}return Te}()};return j==="modal"?(0,ve.jsx)(ie.Y,(0,M.Z)({},pe)):(0,ve.jsx)(R.a,(0,M.Z)({},pe))};z.Z=N},42139:function(oe,z,e){"use strict";var M=e(11849),E=e(39428),F=e(3182),H=e(57663),B=e(71577),x=e(67294),w=e(30672),ie=e(85473),R=e(16894),A=e(37476),ve=e(71975),N=e(1977),y=e(85893),Ce=S=>{var Me=(0,w.YB)(),V=(0,w.v9)(Je=>Je.common),j=V.isMobile,i=S.rowKey,t=i===void 0?"":i,s=S.dragSortKey,p=S.isLoading,l=p===void 0?!1:p,g=S.columns,se=g===void 0?[]:g,ne=S.data,J=ne===void 0?[]:ne,Ae=S.scroll,me=Ae===void 0?{x:768}:Ae,De=S.toolbar,Ne=S.toolbarTitle,Ue=S.toolbarAuth,Ge=S.toolBarRender,pe=S.pagination,Ze=S.pageChange,Te=S.rowClassName,_e=S.rowSelection,we=S.canDragSort,na=we===void 0?!1:we,ge=S.handleDragSortEnd,a=S.triggerClick,la=S.modalType,da=S.modalWidth,Da=da===void 0?550:da,Ua=S.title,We=S.visible,Ke=S.setVisible,Ia=S.modalChildren,Xe=S.afterClose,Za=S.finish,ua=S.isSubmitLoading,je=ua===void 0?!1:ua,ca={title:Ua,width:j&&la!="modal"?"100%":Da,scrollToFirstError:!0,visible:We,onVisibleChange:Ke,children:Ia,trigger:(0,y.jsx)(B.Z,{type:"primary",icon:(0,y.jsx)(N.Z,{}),disabled:Ue!==void 0?!Ue:!1,onClick:a,children:Ne||Me.formatMessage({id:"common.add"})}),submitter:{submitButtonProps:{loading:je}},modalProps:{destroyOnClose:!0,maskClosable:!1,afterClose:Xe},drawerProps:{destroyOnClose:!0,maskClosable:!1,onClose:Xe,className:"selfDrawer",push:{distance:0}},onFinish:function(){var Je=(0,F.Z)((0,E.Z)().mark(function Qe(Ca){return(0,E.Z)().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return qe.abrupt("return",Za(Ca));case 1:case"end":return qe.stop()}},Qe)}));function Sa(Qe){return Je.apply(this,arguments)}return Sa}()},va={className:"selfTable",loading:l,rowKey:t,columns:se,dataSource:J,scroll:me,rowClassName:Te,rowSelection:_e,pagination:pe?(0,M.Z)((0,M.Z)({},pe),{},{current:pe==null?void 0:pe.currentPage,showSizeChanger:!0}):!1,onChange:Ze,headerTitle:De?la==="modal"?(0,y.jsx)(A.Y,(0,M.Z)({},ca)):(0,y.jsx)(ve.a,(0,M.Z)({},ca)):!1,toolBarRender:Ge};return na&&!j?(0,y.jsx)(ie.Z,(0,M.Z)((0,M.Z)({},va),{},{size:"small",search:!1,options:!1,tableAlertRender:!1,dragSortKey:s,onDragSortEnd:ge})):(0,y.jsx)(R.ZP,(0,M.Z)((0,M.Z)({},va),{},{size:"small",search:!1,options:!1,tableAlertRender:!1}))};z.Z=Ce},36228:function(oe,z,e){"use strict";e.d(z,{Z:function(){return S}});var M=e(98247),E=e.n(M),F=e(28216),H=e(67294),B=e(85893),x,w,ie,R,A=1,ve=1,N="dark",y=[],Ce,S=(x=(0,F.$j)(Me=>{var V=Me.common,j=Me.loading;return{common:V,loading:j.effects["common/getListPath"]}}),w=Reflect.metadata("design:type",Function),ie=Reflect.metadata("design:paramtypes",[void 0]),x(R=w(R=ie(R=class extends H.Component{constructor(V){var j;super(V);j=this,this.showRemoveBtn=(i,t)=>!t.isFirstNode,this.addDiyDom=(i,t)=>{var s=this,p=this.props,l=p.common,g=p.id,se=g===void 0?"":g,ne=p.dispatch,J=l.isMobile,Ae=5,me=$("#"+t.tId+"_switch"),De=$("#"+t.tId+"_ico");me.remove(),De.before(me);var Ne='<div class="menu-item ripple-item'+(J?" menu-mobile-item":"")+'"><div class="cert">'+(J?"\xB7\xB7\xB7":"")+"</div></div>";se!="TS"&&me.before(Ne);var Ue='<span class="space space-level-'+t.level+'" style="width:'+t.level*15+'px"></span>';me.before(Ue),!this.props.showLevel0Icon&&t.level===0&&!t.sourceID&&De.remove(),t!=null&&t.labelId&&De.css({background:t==null?void 0:t.style,borderRadius:"50%",width:"15px",height:"15px"}),J||$("#"+t.tId+"_a").on("mouseenter mouseleave",function(Ge){if(Ge.type=="mouseenter"){var pe=Ge,Ze=s.props.common.xhovertooltips||{},Te=t.sourceID||t.labelId||t.xxicon||t.icon||"",_e=Ze.sourceID||"";if(Te==_e&&Ze.visible)return;if(window.xhovertooltipstime&&clearTimeout(window.xhovertooltipstime),window.xleavetooltipstime&&clearTimeout(window.xleavetooltipstime),window.xhuantooltipstime&&clearTimeout(window.xhuantooltipstime),document.onmousemove=we=>{pe=we},Te!=_e&&Ze.visible){ne({type:"common/setState",payload:{xhovertooltips:{visible:!1}}}),window.xhuantooltipstime=setTimeout(function(){ne({type:"common/setState",payload:{xhovertooltips:{visible:!0,x:pe.pageX,y:pe.pageY,sourceID:Te,data:t}}})},300);return}window.xhovertooltipstime=setTimeout(function(){ne({type:"common/setState",payload:{xhovertooltips:{visible:!0,x:pe.pageX,y:pe.pageY,sourceID:Te,data:t}}})},2e3)}else Ge.type=="mouseleave"&&(document.onmousemove=null,window.xhovertooltipstime&&clearTimeout(window.xhovertooltipstime),window.xleavetooltipstime&&clearTimeout(window.xleavetooltipstime),window.xhuantooltipstime&&clearTimeout(window.xhuantooltipstime),window.xleavetooltipstime=setTimeout(function(){var we=s.props.common.xhovertooltips||{};!we.visible||ne({type:"common/setState",payload:{xhovertooltips:{visible:!1}}})},300))}),this.props.showStatus&&$("#"+t.tId+"_a").addClass("group_status_".concat(t.status))},this.addHoverDom=(i,t)=>{var s=window.$("#"+t.tId+"_span");if(!(t.editNameFlag||window.$("#addBtn_"+t.tId).length>0)){var p="<span class='button add' id='addBtn_"+t.tId+"' title='add node' onfocus='this.blur();' style='margin-left:2px; margin-right: -1px; background-position:-144px 0; vertical-align:top; *vertical-align:middle'></span>";s.after(p);var l=this,g=window.$("#addBtn_"+t.tId);g&&g.bind("click",function(){var se=window.$.fn.zTree.getZTreeObj(i),ne="new node"+ve++,J=se.addNodes(t,{id:100+ve,pId:t.id,name:ne}),Ae=l.props.addNode(ne);return J[0].id=Ae,!1})}},this.removeHoverDom=(i,t)=>{window.$("#addBtn_"+t.tId).unbind().remove()},this.onDragMove=(i,t,s)=>{this.props.onDragMove&&this.props.onDragMove(i,t,s)},this.dropPrev=(i,t,s)=>{if(this.props.dragSort)return!0;var p=s.getParentNode();if(p&&p.dropInner===!1)return!1;for(var l=0,g=y.length;l<g;l++){var se=y[l].getParentNode();if(se&&se!==s.getParentNode()&&se.childOuter===!1)return!1}return!1},this.dropInner=(i,t,s)=>{if(s&&s.dropInner===!1)return!1;for(var p=0,l=y.length;p<l;p++){if(!s&&y[p].dropRoot===!1)return!1;if(y[p].parentTId&&y[p].getParentNode()!==s&&y[p].getParentNode().childOuter===!1)return!1}return!0},this.dropNext=(i,t,s)=>{if(this.props.dragSort)return!0;var p=s.getParentNode();if(p&&p.dropInner===!1)return!1;for(var l=0,g=y.length;l<g;l++){var se=y[l].getParentNode();if(se&&se!==s.getParentNode()&&se.childOuter===!1)return!1}return!0},this.beforeDrag=(i,t)=>{N=N==="dark"?"":"dark";for(var s=0,p=t.length;s<p;s++){if(t[s].drag===!1)return y=null,!1;if(t[s].parentTId&&t[s].getParentNode().childDrag===!1)return y=null,!1}return y=t,!0},this.beforeDrop=(i,t,s,p,l)=>this.props.dragSort&&this.props.beforeDrop?this.props.beforeDrop(i,t,s,p):(p&&s.parentLevel&&this.props.beforeDrop&&this.props.beforeDrop(i,t,s,p,l),!1),this.onDrop=(i,t,s,p,l,g)=>p?this.props.dragSort?(this.props.onDrop&&this.props.onDrop(s,p),!1):(this.props.onDrop&&this.props.onDrop(s[0].id,p.id,l),!1):!1,this.onExpand=(i,t,s)=>{((s==null?void 0:s.xxicon)=="position"||(s==null?void 0:s.xxicon)=="tool"||(s==null?void 0:s.xxicon)=="tag"||(s==null?void 0:s.xxicon)=="fileType")&&(localStorage[(s==null?void 0:s.xxicon)+"open"]=1)},this.onCollapse=(i,t,s)=>{((s==null?void 0:s.xxicon)=="position"||(s==null?void 0:s.xxicon)=="tool"||(s==null?void 0:s.xxicon)=="tag"||(s==null?void 0:s.xxicon)=="fileType")&&(localStorage[(s==null?void 0:s.xxicon)+"open"]=0)},this.OnClick=function(i,t,s){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=j,g=j.props.loading;if(g)return!1;j.ztreeObj&&j.ztreeObj.selectNode(s),j.props.OnClick&&j.props.OnClick(i,t,s,p)},this.beforeClick=(i,t,s)=>{var p=this,l=this.props.loading;if(l)return!1},this.onRightClick=(i,t,s)=>{this.ztreeObj&&this.ztreeObj.selectNode(s),this.props.onRightClick&&this.props.onRightClick(i,t,s)},this.beforeMouseDown=(i,t)=>{},this.mouseMove=(i,t)=>{},this.beforeRemove=(i,t)=>{N=N==="dark"?"":"dark";var s=window.$.fn.zTree.getZTreeObj(i);return s.selectNode(t),window.confirm("\u786E\u8BA4\u5220\u9664 \u8282\u70B9 -- "+t.name+" \u5417\uFF1F")},this.onRemove=(i,t,s)=>{this.props.onDeleteNode&&this.props.onDeleteNode(s.id)},this.beforeRename=(i,t,s,p)=>{N=N==="dark"?"":"dark";var l=window.$.fn.zTree.getZTreeObj(i);return s.length==0?(l.setEditable(!1),!1):!0},this.onRename=(i,t,s,p)=>{this.props.onChangeName&&this.props.onChangeName(i,t,s,p)},this.expandAll=()=>{!this.ztreeObj||this.ztreeObj.expandAll(!0)},this.foldAll=()=>{!this.ztreeObj||this.ztreeObj.expandAll(!1)},this.ztreeDom=null,this.setZtree=i=>{this.ztreeDom=i}}componentDidMount(){this.renderZtreeDom()}componentDidUpdate(V){var j=V.common,i=this.props.common;i.isMobile!=j.isMobile}componentWillUnmount(){!this.ztreeObj||this.ztreeObj.destroy()}renderZtreeDom(){var V=this.ztreeObj=window.$.fn.zTree.init(this.getTreeDom(),this.getTreeSetting(),this.props.nodes);return V}getTreeDom(){var V=this.props.common,j=V.isMobile;return window.$(this.ztreeDom)}getTreeSetting(){var V=this.props,j=this.props.common,i=V.edit;i&&(i.showRemoveBtn&&(i.showRemoveBtn=this.showRemoveBtn),i.drag&&(i.drag.prev=i.drag.prev||i.drag.prev===void 0?this.dropPrev:!1,i.drag.inner=i.drag.inner||i.drag.inner===void 0?this.dropInner:!1,i.drag.next=i.drag.next||i.drag.next===void 0?this.dropNext:!1));var t=V.view;t.addDiyDom=this.addDiyDom,t&&t.addHoverDom&&(t.addHoverDom=this.addHoverDom,t.removeHoverDom=this.removeHoverDom);var s={beforeDrag:this.beforeDrag,onDrop:this.onDrop,beforeDrop:this.beforeDrop,beforeRename:this.beforeRename,onRename:this.onRename,onClick:this.OnClick,onRightClick:this.onRightClick,onDragMove:this.onDragMove,onExpand:this.onExpand,onCollapse:this.onCollapse,beforeClick:this.beforeClick};return{treeId:V.treeId,treeObj:V.treeObj,async:V.async,callback:s,check:V.check,data:V.data,edit:i,view:t}}getTreeObj(){return this.ztreeObj}render(){return(0,B.jsx)("div",{className:"netdiskZtree",children:(0,B.jsx)("div",{className:"ztree",ref:this.setZtree,id:"ztree_leftMenu"+(this.props.id||"")})})}})||R)||R)||R)},42301:function(oe,z,e){"use strict";var M=e(32157),E=e(82363),F=e(39428),H=e(3182),B=e(11849),x=e(67294),w=e(30672),ie=e(92833),R=e.n(ie),A=e(85893),ve="userManage",N=y=>{var Ce=(0,w.I0)(),S=(0,w.v9)(p=>(0,B.Z)({},p[ve])),Me=S.groupSelectList,V=S.isOperateGroup,j=y.selectKeys,i=y.select,t={key:"groupID",icon:(0,A.jsx)("img",{src:R()}),showIcon:!0,blockNode:!0,multiple:!0,fieldNames:{title:"name"},treeData:Me,onSelect:i,defaultSelectedKeys:j,defaultExpandedKeys:j},s=function(){var p=(0,H.Z)((0,F.Z)().mark(function l(){var g,se,ne,J=arguments;return(0,F.Z)().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return g=J.length>0&&J[0]!==void 0?J[0]:void 0,se=J.length>1&&J[1]!==void 0?J[1]:void 0,me.next=4,Ce({type:"".concat(ve,"/getGroupSelectList"),payload:{parentID:g,parentName:se}});case 4:ne=me.sent,ne==null||ne.map(De=>{De.hasChildren&&s(De.id,De.name)});case 6:case"end":return me.stop()}},l)}));return function(){return p.apply(this,arguments)}}();return(0,x.useEffect)(()=>{V&&(s(),Ce({type:"".concat(ve,"/update"),payload:{isOperateGroup:!1}}))},[V]),(0,A.jsx)("div",{className:"groupCheckTree",children:(0,A.jsx)(E.Z,(0,B.Z)({},t))})};z.Z=N},59130:function(oe,z,e){"use strict";e.r(z),e.d(z,{default:function(){return pt}});var M=e(13062),E=e(71230),F=e(89032),H=e(15746),B=e(49111),x=e(19650),w=e(22385),ie=e(45777),R=e(34669),A=e(54458),ve=e(57663),N=e(71577),y=e(57338),Ce=e(273),S=e(71194),Me=e(50146),V=e(34792),j=e(48086),i=e(2824),t=e(11849),s=e(47673),p=e(4107),l=e(67294),g=e(30672),se=e(76880),ne=e(88528),J=e(37406),Ae=e(29119),me=e(59250),De=e(13013),Ne=e(54977),Ue=e(59465),Ge=e(15873),pe=e(73218),Ze=e(1977),Te=e(31223),_e=e(26139),we=e(21059),na=e(64434),ge=e.n(na),a=e(85893),la="userManage",da=U=>{var d=U.menuClick,n=(0,g.YB)(),O=(0,g.v9)(m=>(0,t.Z)((0,t.Z)({},m[la]),{},{loading:m.loading.global})),v=O.currentGroup,r=v===void 0?{}:v,le=O.openGroupRightMenu,W=O.groupRightMenuEvent,P=O.groupAuth,C=O.userAuth,u=W.pageX,K=u===void 0?0:u,he=W.pageY,xe=he===void 0?0:he,ce=$.fn.zTree.getZTreeObj("ztree_leftMenu_group"),q=ce==null?void 0:ce.transformToArray(ce.getNodes()),Y=q==null?void 0:q.filter(m=>m.pId===r.pId),b=Y==null?void 0:Y.findIndex(m=>m.groupID===r.groupID),o=[{key:r!=null&&r.parentID?"editChildGroup":"editGroup",label:(0,a.jsx)("span",{children:n.formatMessage({id:"common.edit"})}),icon:(0,a.jsx)(Ne.Z,{className:ge().operateIcon}),disabled:!P},{type:"divider"},!(r!=null&&r.isSystem)&&{key:"disabled",label:(0,a.jsx)("span",{children:n.formatMessage({id:"common.disable"})}),icon:(0,a.jsx)(Ue.Z,{className:ge().operateIcon}),disabled:!(r!=null&&r.status)||!P},!(r!=null&&r.isSystem)&&{key:"abled",label:(0,a.jsx)("span",{children:n.formatMessage({id:"admin.member.enable"})}),icon:(0,a.jsx)(Ge.Z,{className:ge().operateIcon}),disabled:(r==null?void 0:r.status)||!P},!(r!=null&&r.isSystem)&&{key:"remove",label:(0,a.jsx)("span",{children:n.formatMessage({id:"common.delete"})}),icon:(0,a.jsx)(pe.Z,{className:ge().operateIcon,style:{color:"#f00"}}),disabled:!P},!(r!=null&&r.isSystem)&&{type:"divider"},{key:"addChildGroup",label:(0,a.jsx)("span",{children:n.formatMessage({id:"admin.group.addSub"})}),icon:(0,a.jsx)(Ze.Z,{className:ge().operateIcon}),disabled:!(r!=null&&r.status)||!P},{type:"divider"},{key:"addUser",label:(0,a.jsx)("span",{children:n.formatMessage({id:"admin.member.add"})}),icon:(0,a.jsx)(Te.Z,{className:ge().operateIcon}),disabled:!(r!=null&&r.status)||!C},{type:"divider"},b!==0&&{key:"up",label:(0,a.jsx)("span",{children:n.formatMessage({id:"common.moveUp"})}),icon:(0,a.jsx)(_e.Z,{className:ge().operateIcon}),disabled:!P},b!==(Y==null?void 0:Y.length)-1&&{key:"down",label:(0,a.jsx)("span",{children:n.formatMessage({id:"common.moveDown"})}),icon:(0,a.jsx)(we.Z,{className:ge().operateIcon}),disabled:!P}];return(0,a.jsx)(De.Z,{menu:{items:o,onClick:d},open:le,children:(0,a.jsx)("div",{style:{position:"fixed",top:xe-10,left:K,height:1}})})},Da=da,Ua=e(13254),We=e(14277),Ke=e(96486),Ia=e(69847),Xe=e(36228),Za=e(62458),ua=e.n(Za),je="userManage",ca=p.Z.Search,va=()=>{var U=(0,g.YB)(),d=(0,l.useRef)(null),n=(0,l.useRef)(null),O=(0,l.useRef)(null),v=(0,g.I0)(),r=(0,g.v9)(D=>(0,t.Z)((0,t.Z)({},D[je]),D.common)),le=r.currentGroup,W=le===void 0?{}:le,P=r.groupList,C=r.searchGroupList,u=r.isMobile,K=r.groupAuth,he=r.userAuth,xe=(0,l.useState)(!1),ce=(0,i.Z)(xe,2),q=ce[0],Y=ce[1],b=(D,_,k)=>{var ye=[];if(k.success){var ue=k.data||[];ye=ue==null?void 0:ue.map(ee=>(0,t.Z)((0,t.Z)({},ee),{},{key:ee.groupID,id:ee.groupID,pId:ee.parentID,isParent:!!ee.hasChildren}))}return ye},o={edit:{enable:!0,editNameSelectAll:!1,showRemoveBtn:!1,showRenameBtn:!1,drag:{autoExpandTrigger:!0,pre:!0,next:!0,inner:!1}},view:{showLine:!1,showIcon:!0,selectedMulti:!1,dblClickExpand:!0},data:{keep:{leaf:!0,parent:!0},simpleData:{enable:!0}},async:{enable:!0,url:"/api/disk/group/list",autoParam:["id=parentID"],headers:{token:(0,J.ej)("token")},type:"get",dataFilter:b}},m=(D,_,k)=>{var ye=[];if(k.success){var ue=k.data||[];ye=ue==null?void 0:ue.map(ee=>(0,t.Z)((0,t.Z)({},ee),{},{key:ee.groupID,id:ee.groupID,pId:ee.parentID,isParent:!!ee.hasChildren}))}return ye},G={edit:{enable:!0,editNameSelectAll:!1,showRemoveBtn:!1,showRenameBtn:!1,drag:{autoExpandTrigger:!0}},view:{showLine:!1,showIcon:!0,selectedMulti:!1,dblClickExpand:!1},data:{simpleData:{enable:!0}},async:{enable:!0,url:"/api/disk/group/search",otherParam:{keyword:()=>{var D,_;return d==null||(D=d.current)===null||D===void 0||(_=D.input)===null||_===void 0?void 0:_.value}},headers:{token:(0,J.ej)("token")},type:"get",dataFilter:m}},de=D=>{v({type:"".concat(je,"/update"),payload:{openGroupRightMenu:!0,groupRightMenuEvent:D}})},h=()=>{v({type:"".concat(je,"/update"),payload:{openGroupRightMenu:!1}})},te=(D,_,k)=>{v({type:"".concat(je,"/update"),payload:{currentGroup:k}}),h(),((D==null?void 0:D.target.className)=="menu-item ripple-item"||(D==null?void 0:D.target.className)=="cert")&&(K||he)&&de(D)},re=(D,_,k)=>{v({type:"".concat(je,"/update"),payload:{currentGroup:k}})},fe=()=>{var D=$.fn.zTree.getZTreeObj("ztree_leftMenu_group");if(D){var _=D.getNodes()[0];D.selectNode(_),D.setting.callback.onClick(null,D.setting.treeId,_)}},Ie=(D,_,k,ye)=>k.pId===_[0].pId,ke=(D,_)=>{var k=$.fn.zTree.getZTreeObj("ztree_leftMenu_group"),ye=_.pId;if(k){var ue,ee=k.transformToArray(k.getNodes()),Oe=ee.filter(Be=>Be.pId===ye),Le=Oe==null||(ue=Oe.map(Be=>Be.groupID))===null||ue===void 0?void 0:ue.join(",");v({type:"".concat(je,"/sortGroup"),payload:{ids:Le}})}},Se=function(_,k){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],ue=ye[0],ee=$("#dragBox"),Oe=$("#htmlBox");if(Oe.html(""),ue){var Le=_.clientX,Be=_.clientY;Oe.html('<li id="ztree_leftMenu1_22" class="level2" tabindex="0" hidefocus="true" treenode=""><a id="ztree_leftMenu1_22_a" class="level2 curSelectedNode" treenode_a="" target="_blank" style="" title="Z"><div class="menu-item ripple-item"><div class="cert"></div></div><span class="space space-level-2" style="width:30px"></span><span id="ztree_leftMenu1_22_switch" title="" class="button level2 switch noline_docu" treenode_switch=""></span><span id="ztree_leftMenu1_22_ico" title="" treenode_ico="" class="button ico_docu" style=""></span><span id="ztree_leftMenu1_22_span" class="node_name">'.concat(ue.name,"</span></a></li>")),ee.css({transition:"none",top:Be+10,left:Le+10}).hide(),(0,Ia.Y0)(ta=>{ee.css({top:ta.clientY+10,left:ta.clientX+10}).show()},()=>{ee.hide()})}};return(0,l.useEffect)(()=>{v({type:"".concat(je,"/getGroupList"),callback:()=>fe()})},[]),(0,l.useEffect)(()=>{v({type:"".concat(je,"/getUserList"),payload:{currentPage:1}})},[W.groupID]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ca,{allowClear:!0,ref:d,className:ua().groupSearch,style:u?{}:{paddingRight:10},placeholder:U.formatMessage({id:"admin.member.searchGroup"}),onChange:(0,Ke.debounce)(D=>{var _=D.target.value;if(Y(!!_),_){var k=$.fn.zTree.getZTreeObj("ztree_leftMenu_searchGroup");k?k==null||k.reAsyncChildNodes(null,"refresh"):v({type:"".concat(je,"/getSearchGroup"),payload:{keyword:_}})}},500)}),q?(0,a.jsx)(a.Fragment,{}):P.length?(0,a.jsx)(Xe.Z,(0,t.Z)((0,t.Z)({ref:n,nodes:P,showLevel0Icon:!0,dragSort:!0,showStatus:!0,id:"_group",treeName:"group"},o),{},{OnClick:te,onRightClick:te,beforeDrop:Ie,onDrop:ke,onDragMove:Se})):(0,a.jsx)(We.Z,{image:We.Z.PRESENTED_IMAGE_SIMPLE}),q?C.length?(0,a.jsx)(Xe.Z,(0,t.Z)((0,t.Z)({ref:O,nodes:C,showLevel0Icon:!0,showStatus:!0,id:"_searchGroup",treeName:"searchGroup"},G),{},{OnClick:re})):(0,a.jsx)(We.Z,{image:We.Z.PRESENTED_IMAGE_SIMPLE}):(0,a.jsx)(a.Fragment,{})]})},Je=va,Sa=e(81363),Qe=e.n(Sa),Ca=U=>{var d=U.menuClick,n=(0,g.v9)(P=>P.common),O=n.isMobile,v=(0,l.useState)(O?"100%":220),r=(0,i.Z)(v,2),le=r[0],W=r[1];return(0,a.jsx)("div",{className:Qe().group,style:O?{}:{borderRight:"1px solid rgba(180, 180, 180, 0.2)",marginRight:10},children:(0,a.jsxs)(Ae.e,{enable:{top:!1,right:!0,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},size:{width:le,height:"100%"},minWidth:150,maxWidth:600,onResizeStop:(P,C,u,K)=>{!O&&W(le+K.width)},children:[(0,a.jsx)(Je,{}),(0,a.jsx)(Da,{menuClick:d}),(0,a.jsx)("div",{className:Qe().dragBox,id:"dragBox",children:(0,a.jsx)("div",{id:"htmlBox",style:{width:le},className:"ztree"})})]})})},ja=Ca,qe=e(17462),ma=e(76772),Ga=e(39428),Ka=e(3182),$e=e(5966),_a=e(31199),Oa=e(86615),Ea=e(96946),$a=e(19054),ka="userManage",Fa=U=>{var d=(0,g.YB)(),n=U.multiple,O=U.name,v=U.label,r=U.initialValue,le=U.isRequired,W=(0,l.useState)([]),P=(0,i.Z)(W,2),C=P[0],u=P[1],K=(0,g.v9)(q=>(0,t.Z)((0,t.Z)({},q[ka]),{},{loading:q.loading.global})),he=K.groupSelectList,xe=q=>{u(q)},ce={multiple:n,showArrow:!0,blockNode:!0,treeDefaultExpandedKeys:Array.isArray(r)?r:[r],fieldNames:{label:"name",value:"id"},treeData:he,value:C,onChange:xe};return(0,l.useEffect)(()=>{u(r)},[]),(0,a.jsx)($a.Z,{name:O,label:v,initialValue:r,placeholder:d.formatMessage({id:"common.select"}),rules:[{required:le,message:d.formatMessage({id:"explorer.notNull"})}],fieldProps:(0,t.Z)({},ce)})},La=Fa,Va=e(5267),Wa=e.n(Va),ea="userManage",Ha=U=>{var d=(0,g.YB)(),n=(0,g.I0)(),O=(0,g.v9)(h=>(0,t.Z)((0,t.Z)({},h[ea]),{},{loading:h.loading.effects["".concat(ea,"/addEditGroup")]})),v=O.modalKey,r=O.currentGroup,le=O.isOperateGroup,W=O.loading,P=U.visible,C=U.setVisible,u=U.trigger,K=U.refreshNode,he=U.refreshCurrentNode,xe=U.refreshParentNode,ce=(0,l.useState)("all"),q=(0,i.Z)(ce,2),Y=q[0],b=q[1],o=()=>{switch(v){case"addGroup":return d.formatMessage({id:"admin.member.groupAdd"});case"editChildGroup":case"editGroup":return d.formatMessage({id:"admin.member.groupEdit"});case"batchSetSize":return d.formatMessage({id:"admin.group.setSizeBatch"});case"addChildGroup":return d.formatMessage({id:"admin.group.addSub"});case"transferGroup":return d.formatMessage({id:"admin.group.switch"});default:return""}},m=h=>{var te=h.target.value;b(te)},G=h=>{var te,re=r.groupID,fe=r.pId,Ie=(0,t.Z)((0,t.Z)({parentID:v==="addChildGroup"?re:void 0,groupID:v.indexOf("edit")!==-1?re:void 0},(0,Ke.omit)(h,"parentName")),{},{name:h.name.trim(),authShowGroup:(te=h.authShowGroup)===null||te===void 0?void 0:te.join(",")});console.log("---onSubmit",Ie,re,fe),n({type:"".concat(ea,"/addEditGroup"),payload:Ie,callback:()=>{j.ZP.success(d.formatMessage({id:"explorer.success"})),C(!1),v==="editChildGroup"?xe(h.parentID==r.parentID?void 0:h.parentID):v==="editGroup"?xe():v==="addChildGroup"?he():v==="addGroup"&&K()}})};(0,l.useEffect)(()=>{b((r==null?void 0:r.authShowType)||"all")},[r]);var de=function(){var h=(0,Ka.Z)((0,Ga.Z)().mark(function te(){var re,fe,Ie=arguments;return(0,Ga.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return re=Ie.length>0&&Ie[0]!==void 0?Ie[0]:void 0,Se.next=3,n({type:"".concat(ea,"/getGroupSelectList"),payload:{parentID:re}});case 3:fe=Se.sent,fe==null||fe.map(D=>{D.hasChildren&&de(D.id)});case 5:case"end":return Se.stop()}},te)}));return function(){return h.apply(this,arguments)}}();return(0,l.useEffect)(()=>{P&&le&&v==="editChildGroup"&&(de(),n({type:"".concat(ea,"/update"),payload:{isOperateGroup:!1}}))},[P]),(0,a.jsx)(Ea.Z,{modalType:"modal",title:o(),visible:P,setVisible:C,trigger:u,finish:G,isLoading:W,modalChildren:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($e.Z,{name:"name",label:d.formatMessage({id:"admin.group.name"}),initialValue:v.indexOf("add")!==-1?"":r==null?void 0:r.name,required:!0,rules:[{required:!0,whitespace:!0,message:d.formatMessage({id:"explorer.notNull"})}],fieldProps:{maxLength:30}}),(0,a.jsx)($e.Z,{name:"parentName",label:d.formatMessage({id:"admin.group.parent"}),hidden:v!=="addChildGroup",initialValue:r==null?void 0:r.name,disabled:!0}),(0,a.jsx)(_a.Z,{width:"xs",name:"sizeMax",label:d.formatMessage({id:"admin.member.spaceSize"}),initialValue:v.indexOf("edit")!==-1?r==null?void 0:r.sizeMax:0,rules:[{required:!0,message:d.formatMessage({id:"explorer.notNull"})}],addonAfter:(0,a.jsxs)("span",{className:"selfAddonAfter",children:["GB \xA0\xA0",d.formatMessage({id:"admin.member.spaceTips"})]})}),v==="editChildGroup"?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(La,{name:"parentID",label:d.formatMessage({id:"admin.group.parent"}),isRequired:!0,initialValue:r==null?void 0:r.pId}),(0,a.jsx)(ma.Z,{className:Wa().marBtm,message:d.formatMessage({id:"admin.group.authShow"}),type:"info"}),(0,a.jsx)(Oa.Z.Group,{name:"authShowType",radioType:"button",initialValue:Y,options:[{label:d.formatMessage({id:"admin.group.authShowAll"}),value:"all"},{label:d.formatMessage({id:"admin.group.authShowHide"}),value:"hide"},{label:d.formatMessage({id:"admin.group.authShowSelect"}),value:"select"}],fieldProps:{value:Y,onChange:m}}),Y==="all"&&(0,a.jsx)(ma.Z,{message:d.formatMessage({id:"admin.group.authShowAllTips"}),type:"success"}),Y==="hide"&&(0,a.jsx)(ma.Z,{message:d.formatMessage({id:"admin.group.authShowHideTips"}),type:"warning"}),Y==="select"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(La,{name:"authShowGroup",label:"",isRequired:!1,multiple:!0,initialValue:r!=null&&r.authShowGroup?r==null?void 0:r.authShowGroup.split(",").map(Number):[]}),(0,a.jsx)(ma.Z,{message:d.formatMessage({id:"admin.group.authShowSelectTips"}),type:"info"})]})]}):(0,a.jsx)(a.Fragment,{})]})})},Ya=Ha,Xa=e(952),Ja=e(64317),Qa=e(50727),ze=e(34436),qa=e(42301),pa="userManage",za="role",fa="file",et=U=>{var d,n=(0,g.YB)(),O=(0,g.I0)(),v=(0,g.tT)("@@initialState"),r=v.initialState,le=v.refresh,W=(0,g.v9)(Z=>(0,t.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},Z[pa]),Z[za]),Z[fa]),{},{loading:Z.loading.effects["".concat(pa,"/addEditUser")]})),P=W.modalKey,C=W.currentGroup,u=W.currentUser,K=W.fileSelect,he=W.fileSelectDefault,xe=W.roleSelectDefault,ce=W.userAuth,q=W.loading,Y=U.visible,b=U.setVisible,o=(0,l.useState)("basic"),m=(0,i.Z)(o,2),G=m[0],de=m[1],h=(0,l.useState)([]),te=(0,i.Z)(h,2),re=te[0],fe=te[1],Ie=(0,l.useState)(!1),ke=(0,i.Z)(Ie,2),Se=ke[0],D=ke[1],_=(0,l.useState)([]),k=(0,i.Z)(_,2),ye=k[0],ue=k[1],ee=(0,l.useState)([]),Oe=(0,i.Z)(ee,2),Le=Oe[0],Be=Oe[1],ta=(0,l.useState)([]),ha=(0,i.Z)(ta,2),xa=ha[0],Pa=ha[1],Fe=(r==null||(d=r.systemInfo)===null||d===void 0?void 0:d.passwordRule)||"none",Aa=()=>{switch(P){case"addUser":case"editUser":return n.formatMessage({id:"admin.index.userInfo"});default:return n.formatMessage({id:"admin.index.userInfo"})}},ya=Z=>{},Ba={items:[],onClick:ya},ra=[{title:n.formatMessage({id:"admin.group.name"}),dataIndex:"name",readonly:!0},{title:n.formatMessage({id:"admin.group.parent"}),dataIndex:"parentName",readonly:!0},{title:n.formatMessage({id:"explorer.actionAuth"}),key:"authID",dataIndex:"authID",width:150,valueType:"select",fieldProps:()=>({allowClear:!1,showSearch:!0,options:K,filterOption:(Z,I)=>{var T;return((T=I==null?void 0:I.name)!==null&&T!==void 0?T:"").toLowerCase().includes(Z.toLowerCase())}})},{title:n.formatMessage({id:"explorer.file.action"}),align:"center",width:100,valueType:"option",render:()=>null}],Ta=[],ba=(0,l.useState)(()=>Ta.map(Z=>Z.groupID)),Ma=(0,i.Z)(ba,2),He=Ma[0],Ve=Ma[1],Ye=()=>{var Z=Le?Le.map(I=>{var T,be=(T=re.find(c=>c.groupID===I.groupID))===null||T===void 0?void 0:T.authID;return(0,t.Z)((0,t.Z)({},(0,Ke.omit)(I,"children")),{},{authID:be||he||void 0})}):[];fe(Z),Ve(xa),D(!1)},sa=Z=>{var I,T,be=(0,t.Z)((0,t.Z)({userID:P==="editUser"?u==null?void 0:u.userID:void 0},(0,Ke.omit)(Z,"setting")),{},{groupInfo:re?re==null?void 0:re.map(c=>({groupID:c.groupID,authID:c.authID})):[],name:(I=Z.name)===null||I===void 0?void 0:I.trim(),nickname:(T=Z.nickname)===null||T===void 0?void 0:T.trim()});console.log("---onFinish",be),O({type:"".concat(pa,"/addEditUser"),payload:be,callback(){var c,L;j.ZP.success(n.formatMessage({id:"explorer.saveSuccess"})),b(!1),P==="editUser"&&(r==null||(c=r.currentUser)===null||c===void 0||(L=c.user)===null||L===void 0?void 0:L.userID)==(u==null?void 0:u.userID)&&le()}})};(0,l.useEffect)(()=>{O({type:"".concat(fa,"/getFileList"),callback:Z=>{var I,T,be,c=Z==null||(I=Z.filter(f=>f.enable))===null||I===void 0?void 0:I.map(f=>{var X=ze.O9.findIndex(ae=>ae===f.label),Ee=X==-1?0:X;return{label:(0,a.jsxs)(x.Z,{size:8,align:"center",children:[(0,a.jsx)("i",{className:"roleIcon block",style:{background:f.label,border:"1px solid ".concat(ze.ZY[Ee])}}),f.roleName]}),name:f.roleName,value:f.roleID}}),L=c==null||(T=c.find(f=>f.name==="\u9884\u89C8\u8005"))===null||T===void 0?void 0:T.value;L=L||((be=c[0])===null||be===void 0?void 0:be.value),O({type:"".concat(fa,"/update"),payload:{fileSelect:c,fileSelectDefault:L}})}}),O({type:"".concat(za,"/getRoleList"),callback:Z=>{var I,T,be,c=Z==null||(I=Z.filter(f=>f.enable))===null||I===void 0?void 0:I.map(f=>{var X=ze.O9.findIndex(ae=>ae===f.label),Ee=X==-1?0:X;return{label:(0,a.jsxs)(x.Z,{size:8,align:"center",children:[(0,a.jsx)("i",{className:"roleIcon block",style:{background:f.label,border:"1px solid ".concat(ze.ZY[Ee])}}),f.roleName]}),name:f.roleName,value:f.roleID}});ue(c);var L=(T=c.find(f=>f.name==="\u666E\u901A\u7528\u6237"))===null||T===void 0?void 0:T.value;L=L||((be=c[0])===null||be===void 0?void 0:be.value),O({type:"".concat(fa,"/update"),payload:{roleSelectDefault:L}})}})},[]),(0,l.useEffect)(()=>{if(P==="editUser"){var Z,I=u.sex==0||u.phone||u.email;de(I?"more":"basic"),fe(u==null?void 0:u.groupInfo),Ve(u==null||(Z=u.groupInfo)===null||Z===void 0?void 0:Z.map(T=>T.groupID))}else fe([(0,t.Z)((0,t.Z)({},(0,Ke.omit)(C,"children")),{},{groupID:C==null?void 0:C.id,authID:he||void 0})]),Ve([C==null?void 0:C.groupID])},[P,u,C,K]);var wa=()=>{O({type:"".concat(pa,"/update"),payload:{currentUser:{},modalKey:"addUser"}}),de("basic")};return(0,a.jsx)(Ea.Z,{afterClose:wa,trigger:(0,a.jsx)(N.Z,{disabled:!ce,children:n.formatMessage({id:"admin.member.add"})}),width:600,modalType:"drawer",title:Aa(),visible:Y,setVisible:b,finish:sa,isLoading:q,modalChildren:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($e.Z,{name:"name",label:n.formatMessage({id:"user.name"}),initialValue:(u==null?void 0:u.name)||void 0,rules:[{required:!0,whitespace:!0,message:n.formatMessage({id:"explorer.notNull"})}],fieldProps:{maxLength:30}}),(0,a.jsx)($e.Z,{name:"nickname",label:n.formatMessage({id:"admin.member.nickName"}),initialValue:(u==null?void 0:u.nickname)||void 0,fieldProps:{maxLength:30}}),(0,a.jsx)("input",{type:"password",style:{opacity:0,position:"absolute",width:0,height:0}}),(0,a.jsx)($e.Z.Password,{name:"password",label:n.formatMessage({id:"common.password"}),placeholder:n.formatMessage({id:P=="editUser"?"admin.member.nullNotUpdate":"common.input"}),fieldProps:{maxLength:30},getValueFromEvent:J.Bc,rules:[{required:P!="editUser",message:n.formatMessage({id:"explorer.notNull"})},Fe==="none"?{min:6,message:n.formatMessage({id:"admin.setting.passwordRuleNoneWarring"})}:Fe==="strong"?{pattern:/^(?=.*[a-zA-Z])(?=.*\d)[^]{6,30}$/,message:n.formatMessage({id:"admin.setting.passwordRuleStrongDesc"})}:Fe==="strongMore"?{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{6,30}$/,message:n.formatMessage({id:"admin.setting.passwordRuleStrongMoreDesc"})}:{}]}),(0,a.jsx)(_a.Z,{width:"xs",name:"sizeMax",label:n.formatMessage({id:"admin.member.spaceSize"}),initialValue:(u==null?void 0:u.sizeMax)||0,addonAfter:(0,a.jsxs)("span",{className:"selfAddonAfter",children:["GB \xA0\xA0",n.formatMessage({id:"admin.member.spaceTips"})]})}),(0,a.jsx)(Oa.Z.Group,{name:"setting",label:n.formatMessage({id:"common.more"}),radioType:"button",options:[{label:n.formatMessage({id:"admin.setting.base"}),value:"basic"},{label:n.formatMessage({id:"explorer.app.moreSet"}),value:"more"}],fieldProps:{value:G,onChange:Z=>{var I=Z.target.value;return de(I)}}}),(0,a.jsx)(Oa.Z.Group,{name:"sex",label:n.formatMessage({id:"common.sex"}),initialValue:u==null?void 0:u.sex,hidden:G=="basic",options:[{label:n.formatMessage({id:"common.female"}),value:0},{label:n.formatMessage({id:"common.male"}),value:1}]}),(0,a.jsx)($e.Z,{name:"phone",label:n.formatMessage({id:"common.phone"}),initialValue:(u==null?void 0:u.phone)||void 0,hidden:G=="basic",rules:[{pattern:/^1(3|4|5|6|7|8|9)\d{9}$/,message:n.formatMessage({id:"user.invalidephone"})}],getValueFromEvent:J.Bc}),(0,a.jsx)($e.Z,{name:"email",label:"Email",initialValue:(u==null?void 0:u.email)||void 0,hidden:G=="basic",rules:[{pattern:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,message:n.formatMessage({id:"user.invalidemail"})}]}),(0,a.jsx)(Ja.Z,{name:"roleID",label:n.formatMessage({id:"admin.setting.roleRight"}),allowClear:!1,initialValue:(u==null?void 0:u.roleID)||xe||void 0,options:ye,rules:[{required:!0,message:n.formatMessage({id:"explorer.notNull"})}],fieldProps:{showSearch:!0,filterOption:(Z,I)=>{var T;return((T=I==null?void 0:I.name)!==null&&T!==void 0?T:"").toLowerCase().includes(Z.toLowerCase())}}}),(0,a.jsx)(Xa.ZP.Item,{label:n.formatMessage({id:"admin.member.group"}),name:"groupInfo",trigger:"onValuesChange",children:(0,a.jsx)(Qa.Z,{rowKey:"groupID",className:"groupEditTable",toolBarRender:!1,columns:ra,recordCreatorProps:!1,scroll:{x:500},value:re,onChange:fe,editable:{type:"multiple",editableKeys:He,actionRender:(Z,I,T)=>[T.delete],onValuesChange:(Z,I)=>{fe(I)},onChange:Ve}})}),(0,a.jsx)(Ea.Z,{trigger:(0,a.jsx)(N.Z,{icon:(0,a.jsx)(Ze.Z,{}),children:n.formatMessage({id:"admin.member.groupAdd"})}),modalType:"drawer",width:300,title:n.formatMessage({id:"admin.member.groupAdd"}),closable:!0,visible:Se,setVisible:D,finish:Ye,modalChildren:(0,a.jsx)(qa.Z,{selectKeys:He,select:(Z,I)=>{Be(I==null?void 0:I.selectedNodes),Pa(Z)}})})]})})},at=et,ft=e(43185),tt=e(11324),gt=e(94233),rt=e(51890),st=e(42139),ot=e(5171),it=e.n(ot),nt=e(66227),lt=e.n(nt),aa="userManage",dt="setting",ut=U=>{var d=(0,g.YB)(),n=(0,g.I0)(),O=(0,g.v9)(b=>(0,t.Z)((0,t.Z)({},b[aa]),{},{loading:b.loading.effects["".concat(aa,"/getUserList")]})),v=O.loading,r=v===void 0?!1:v,le=O.page,W=O.userList,P=O.selectedUserKeys,C=O.userAuth,u=(0,g.tT)("@@initialState"),K=u.initialState,he=u.refresh,xe=U.editUser,ce=U.handleUser,q={showUploadList:!1,accept:".jpeg,.jpg,.png",beforeUpload:b=>{var o=b.type==="image/jpeg"||b.type==="image/jpg"||b.type==="image/png",m=b.size/1024/1024<1;return o||j.ZP.error("".concat(d.formatMessage({id:"admin.setting.onlyUpload"}),"JPG/PNG")),m||j.ZP.error("".concat(d.formatMessage({id:"admin.setting.noMore"}),"1MB")),o&&m}},Y=[{title:"".concat(d.formatMessage({id:"common.nickName"}),"/").concat(d.formatMessage({id:"user.account"})),dataIndex:"nickname",fixed:!1,width:160,render:(b,o)=>(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(rt.C,{size:38,src:o.avatar||it()}),(0,a.jsx)("a",{onClick:()=>{!C||xe(o)},children:o.nickname||o.name})]})},{title:d.formatMessage({id:"admin.setting.roleRight"}),dataIndex:"roleName",width:160,render:(b,o)=>{var m=ze.O9.findIndex(de=>de===o.label),G=m==-1?0:m;return(0,a.jsxs)(x.Z,{size:8,align:"center",children:[(0,a.jsx)("i",{className:"roleIcon block",style:{background:o.label,border:"1px solid ".concat(ze.ZY[G])}}),b]})}},{title:d.formatMessage({id:"admin.member.spaceSizeUse"}),dataIndex:"sizeUse",width:150,render:(b,o)=>{var m=o.sizeUse/(o.sizeMax*1024*1024*1024||Infinity)*100;return(0,a.jsx)(ie.Z,{title:"".concat(m.toFixed(1),"%"),children:(0,a.jsx)(A.Z,{className:"userTableProgress",percent:m,strokeColor:m>90?"#f00":"#722ed1",format:()=>"".concat((0,J.NR)(b),"/").concat(o.sizeMax?o.sizeMax+"GB":d.formatMessage({id:"admin.member.spaceTipsFull"}))})})}},{title:d.formatMessage({id:"admin.member.group"}),dataIndex:"groupInfo",render:(b,o)=>{var m;return(0,a.jsx)(x.Z,{wrap:!0,children:(m=o.groupInfo)===null||m===void 0?void 0:m.map(G=>{var de=ze.O9.findIndex(te=>te===G.label),h=de==-1?0:de;return(0,a.jsxs)(x.Z,{size:8,align:"center",children:[(0,a.jsx)("i",{className:"roleIcon block",style:{background:G.label,border:"1px solid ".concat(ze.ZY[h])}}),G.name]},G.userID)})})}},{title:d.formatMessage({id:"explorer.file.action"}),align:"center",dataIndex:"option",width:120,valueType:"option",render:(b,o)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.Z,{type:"link",size:"small",disabled:!C,onClick:()=>xe(o),children:d.formatMessage({id:"common.edit"})}),(0,a.jsx)(De.Z,{disabled:!C,overlayStyle:{textAlign:"center"},menu:{items:[{key:"0",label:d.formatMessage({id:"common.disable"}),disabled:o.isSystem?!0:!o.status},{key:"1",label:d.formatMessage({id:"admin.member.enable"}),disabled:o.isSystem?!0:!!o.status},{key:"2",label:d.formatMessage({id:"common.delete"}),disabled:!!o.isSystem},{key:"avatar",label:(0,a.jsx)(tt.Z,(0,t.Z)((0,t.Z)({},q),{},{className:"userAvatar",customRequest:m=>{var G=new FormData;G.append("file",m.file),G.append("busType","image"),n({type:"".concat(dt,"/upload"),payload:G,callback:de=>{var h=de.data.path;n({type:"".concat(aa,"/setUser"),payload:{opType:"avatar",userIDStr:o.userID,avatar:h},callback:()=>{var te,re;j.ZP.success(d.formatMessage({id:"explorer.success"})),(K==null||(te=K.currentUser)===null||te===void 0||(re=te.user)===null||re===void 0?void 0:re.userID)==o.userID&&he()}})}})},children:(0,a.jsx)("div",{children:d.formatMessage({id:"app.settings.basic.avatar"})})}))}],onClick:m=>{var G=m.key;(G=="0"||G=="1"||G=="2")&&ce(parseInt(G),o==null?void 0:o.userID)}},children:(0,a.jsxs)(N.Z,{type:"link",size:"small",children:[d.formatMessage({id:"explorer.file.action"}),(0,a.jsx)("img",{width:14,src:lt(),style:{paddingLeft:2}})]})})]})}];return(0,a.jsx)(st.Z,{rowKey:"userID",isLoading:r,columns:Y,data:W,search:!1,toolbar:!1,pagination:le,pageChange:b=>{var o=b.current,m=b.pageSize;n({type:"".concat(aa,"/getUserList"),payload:{currentPage:o,pageSize:m}})},rowClassName:b=>b.status?"":"tableDisabled",rowSelection:{defaultSelectedRowKeys:[],selectedRowKeys:P,getCheckboxProps:b=>({disabled:b.isSystem===1}),onChange:(b,o)=>n({type:"".concat(aa,"/update"),payload:{selectedUserKeys:b,selectedUser:o}})}})},ct=ut,Q="userManage",ga=!1,vt=p.Z.Search,mt=()=>{var U,d,n,O,v=(0,g.YB)(),r=(0,g.I0)(),le=(0,g.tT)("@@initialState"),W=le.initialState,P=W!=null?W:{},C=P.currentUser,u=P.systemInfo,K=(u==null?void 0:u.thirdLoginConfig)||[],he=K==null?void 0:K.find(c=>c.thirdName=="dingding"),xe=K==null?void 0:K.find(c=>c.thirdName=="enWechat"),ce=K==null?void 0:K.find(c=>c.thirdName=="cube"),q=C!=null&&(U=C.user)!==null&&U!==void 0&&U.isSystem?!0:!!(C!=null&&C.role["admin.member.groupEdit"]),Y=C!=null&&(d=C.user)!==null&&d!==void 0&&d.isSystem?!0:!!(C!=null&&C.role["admin.member.userEdit"]),b=(0,g.v9)(c=>(0,t.Z)((0,t.Z)({},c[Q]),c.common)),o=b.currentGroup,m=b.selectedUserKeys,G=b.selectedUser,de=b.isMobile,h=$.fn.zTree.getZTreeObj("ztree_leftMenu_group"),te=(0,l.useState)(!0),re=(0,i.Z)(te,2),fe=re[0],Ie=re[1],ke=(0,l.useState)(!1),Se=(0,i.Z)(ke,2),D=Se[0],_=Se[1],k=(0,l.useState)(!1),ye=(0,i.Z)(k,2),ue=ye[0],ee=ye[1],Oe=(0,l.useState)(!1),Le=(0,i.Z)(Oe,2),Be=Le[0],ta=Le[1],ha=(0,l.useState)(!1),xa=(0,i.Z)(ha,2),Pa=xa[0],Fe=xa[1],Aa=(0,l.useState)(!1),ya=(0,i.Z)(Aa,2),Ba=ya[0],ra=ya[1],Ta=(0,l.useState)(!1),ba=(0,i.Z)(Ta,2),Ma=ba[0],He=ba[1],Ve=c=>{var L=c.item,f=c.key;if(r({type:"".concat(Q,"/update"),payload:{modalKey:f}}),T(),f.indexOf("Group")!==-1&&_(!0),f.indexOf("User")!==-1&&ee(!0),f==="disabled"||f==="abled")r({type:"".concat(Q,"/setGroup"),payload:{groupID:o.groupID,status:f==="abled"?1:0},callback:()=>{j.ZP.success(v.formatMessage({id:"explorer.success"})),I()}});else if(f==="remove")Me.Z.confirm({content:v.formatMessage({id:"common.ifDel"}),okText:v.formatMessage({id:"common.ok"}),cancelText:v.formatMessage({id:"common.cancel"}),onOk:()=>{r({type:"".concat(Q,"/removeGroup"),payload:{groupID:o.groupID},callback:()=>{j.ZP.success(v.formatMessage({id:"explorer.removeSuccess"})),I()}})}});else if(f==="up"||f==="down"){var X,Ee=h==null?void 0:h.transformToArray(h.getNodes()),ae=Ee.filter(Pe=>Pe.pId===(o==null?void 0:o.pId)),Re=ae==null?void 0:ae.findIndex(Pe=>Pe.groupID===(o==null?void 0:o.groupID));ae[Re]=ae.splice(f==="up"?Re-1:Re+1,1,ae[Re])[0];var oa=ae==null||(X=ae.map(Pe=>Pe.groupID))===null||X===void 0?void 0:X.join(",");r({type:"".concat(Q,"/sortGroup"),payload:{ids:oa},callback:()=>{I()}})}},Ye=function(L){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,X=()=>{r({type:"".concat(Q,"/setUser"),payload:{userIDStr:f||(m==null?void 0:m.join(",")),status:L},callback:()=>{j.ZP.success(v.formatMessage({id:"explorer.success"})),!f&&r({type:"".concat(Q,"/update"),payload:{selectedUserKeys:[],selectedUser:[]}})}})};L===2?Me.Z.confirm({content:v.formatMessage({id:"common.ifDel"}),okText:v.formatMessage({id:"common.ok"}),cancelText:v.formatMessage({id:"common.cancel"}),onOk:X}):X()},sa=c=>{var L=(f,X)=>{r({type:f==1?"".concat(Q,"/pulldingdingtaskAction"):f==3?"".concat(Q,"/pullcubetaskAction"):"".concat(Q,"/pullenwebchattaskAction"),payload:{taskID:X},callback:function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=ae.data,oa=Re===void 0?{}:Re,Pe=oa.progress,Na=Pe===void 0?0:Pe,ia=oa.status,Ra=ia===void 0?0:ia;Ra==1?(j.ZP.success(v.formatMessage({id:"explorer.success"})),f==1?Fe(!1):f==3?He(!1):ra(!1)):setTimeout(function(){L(f,X)},2e3)}})};c==1?Fe(!0):c==3?He(!0):ra(!0),r({type:c==1?"".concat(Q,"/pulldingding"):c==3?"".concat(Q,"/pullcube"):"".concat(Q,"/pullenwebchat"),payload:{},callback:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ee=X.data,ae=Ee===void 0?{}:Ee,Re=ae.progress,oa=Re===void 0?0:Re,Pe=ae.taskID,Na=Pe===void 0?"":Pe,ia=ae.status,Ra=ia===void 0?0:ia;Ra==1?(j.ZP.success(v.formatMessage({id:"explorer.success"})),c==1?Fe(!1):c==3?He(!1):ra(!1)):L(c,Na)}})},wa=()=>{h.reAsyncChildNodes(null,"refresh",!1,()=>{var c=h.getNodes(),L=c[c.length-1];h.selectNode(L),h.setting.callback.onClick(null,h.setting.treeId,L)}),r({type:"".concat(Q,"/update"),payload:{isOperateGroup:!0}}),console.log("---refreshNode")},Z=()=>{var c=h.getSelectedNodes()[0];c.isParent=!0,h.reAsyncChildNodes(c,"refresh",!1),r({type:"".concat(Q,"/update"),payload:{isOperateGroup:!0}}),console.log("---refreshCurrentNode")},I=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,f=h.getSelectedNodes()[0],X=h.getNodeByTId(f.parentTId);if(L!==void 0){var Ee=h.getNodeByParam("id",L);h.reAsyncChildNodes(X,"refresh",!0),X=h.getNodeByTId(Ee.tId)}X&&(X.isParent=!0),h.reAsyncChildNodes(X,"refresh",!1,()=>{var ae=h.getNodeByParam("id",f==null?void 0:f.id)||X||h.getNodes()[0];ae&&(h.selectNode(ae),h.setting.callback.onClick(null,h.setting.treeId,ae))}),r({type:"".concat(Q,"/update"),payload:{isOperateGroup:!0}}),console.log("---refreshParentNode")},T=()=>{r({type:"".concat(Q,"/update"),payload:{openGroupRightMenu:!1}})},be=()=>{var c=$(window).width();c<768&&!ga?(ga=!0,r({type:"common/setState",payload:{isMobile:!0}})):c>768&&ga&&(ga=!1,r({type:"common/setState",payload:{isMobile:!1}}))};return(0,l.useEffect)(()=>(window.addEventListener("resize",be),()=>{window.removeEventListener("resize",be),r({type:"".concat(Q,"/clear")})}),[]),(0,l.useEffect)(()=>{!q&&j.ZP.warning(v.formatMessage({id:"explorer.noGroupEditPermissionAction"})),!Y&&j.ZP.warning(v.formatMessage({id:"explorer.noUserEditPermissionAction"})),r({type:"".concat(Q,"/update"),payload:{groupAuth:q,userAuth:Y}})},[]),(0,a.jsx)("div",{className:"layoutBox",children:(0,a.jsxs)("div",{className:"userGroup",children:[de?(0,a.jsx)(Ce.Z,{width:320,placement:"left",closable:!1,open:fe,onClose:()=>Ie(!1),children:(0,a.jsx)(ja,{menuClick:Ve})}):(0,a.jsx)(ja,{menuClick:Ve}),(0,a.jsxs)("div",{className:"user",onMouseDown:()=>{T()},children:[(0,a.jsxs)(E.Z,{className:"userHeader",justify:"space-between",align:"middle",children:[(0,a.jsx)(H.Z,{className:"marginBtm10",children:(0,a.jsxs)(x.Z,{size:15,children:[de?(0,a.jsx)(se.Z,{onClick:()=>Ie(!0)}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)(Ya,{visible:D,setVisible:_,refreshNode:wa,refreshCurrentNode:Z,refreshParentNode:I,trigger:(0,a.jsx)(N.Z,{className:"groupName",type:"link",size:"small",disabled:!q,onClick:()=>{r({type:"".concat(Q,"/update"),payload:{modalKey:"editGroup"}})},children:o==null?void 0:o.name})}),(0,a.jsx)(ne.Z,{style:{fontSize:20,marginTop:5},onClick:()=>{!q||(_(!0),r({type:"".concat(Q,"/update"),payload:{modalKey:"addGroup"}}))}}),(o==null?void 0:o.id)&&(0,a.jsx)("div",{children:(0,a.jsx)(ie.Z,{title:((o==null?void 0:o.sizeUse)/((o==null?void 0:o.sizeMax)*1024*1024*1024||Infinity)*100).toFixed(1)+"%",children:(0,a.jsx)(A.Z,{className:"groupProgress",percent:(o==null?void 0:o.sizeUse)/((o==null?void 0:o.sizeMax)*1024*1024*1024||Infinity)*100,strokeColor:(o==null?void 0:o.sizeUse)/((o==null?void 0:o.sizeMax)*1024*1024*1024||Infinity)*100>90?"#f00":"#722ed1",format:()=>"".concat((0,J.NR)(o==null?void 0:o.sizeUse),"/").concat(o!=null&&o.sizeMax?(o==null?void 0:o.sizeMax)+"GB":v.formatMessage({id:"admin.member.spaceTipsFull"}))})})})]})}),(0,a.jsx)(H.Z,{className:"marginBtm10",children:(0,a.jsx)(vt,{allowClear:!0,placeholder:v.formatMessage({id:"admin.member.search"}),onSearch:c=>{var L={};c&&(L={groupID:void 0,keyword:c}),r({type:"".concat(Q,"/getUserList"),payload:(0,t.Z)({currentPage:1},L)})}})})]}),(0,a.jsx)(E.Z,{className:"userOperate",children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z,{children:(0,a.jsx)(at,{visible:ue,setVisible:ee})}),(0,a.jsxs)(x.Z.Compact,{children:[(0,a.jsx)(N.Z,{disabled:!(m!=null&&m.length)||(m==null?void 0:m.length)===1&&!((n=G[0])!==null&&n!==void 0&&n.status)||!Y,onClick:()=>Ye(0),children:v.formatMessage({id:"common.disable"})}),(0,a.jsx)(N.Z,{disabled:!(m!=null&&m.length)||(m==null?void 0:m.length)===1&&((O=G[0])===null||O===void 0?void 0:O.status)||!Y,onClick:()=>Ye(1),children:v.formatMessage({id:"admin.member.enable"})}),(0,a.jsx)(N.Z,{disabled:!(m!=null&&m.length)||!Y,onClick:()=>Ye(2),children:v.formatMessage({id:"common.delete"})}),he&&(0,a.jsx)(N.Z,{style:{marginLeft:12},loading:Pa,onClick:()=>{sa(1)},children:"\u62C9\u53D6\u9489\u9489\u90E8\u95E8"}),xe&&(0,a.jsx)(N.Z,{style:{marginLeft:12},loading:Ba,onClick:()=>{sa(2)},children:"\u62C9\u53D6\u4F01\u4E1A\u5FAE\u4FE1\u90E8\u95E8"}),ce&&(0,a.jsx)(N.Z,{style:{marginLeft:12},loading:Ma,onClick:()=>{sa(3)},children:"\u62C9\u53D6\u9B54\u65B9\u90E8\u95E8"})]})]})}),(0,a.jsx)(ct,{editUser:c=>{r({type:"".concat(Q,"/update"),payload:{modalKey:"editUser",currentUser:c}}),ee(!0)},handleUser:Ye})]})]})})},pt=mt}}]);
