(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[18669],{19675:function(L,I,e){"use strict";e.d(I,{Z:function(){return w}});var g=e(28991),h=e(67294),C={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},m=C,D=e(27029),v=function(M,O){return h.createElement(D.Z,(0,g.Z)((0,g.Z)({},M),{},{ref:O,icon:m}))};v.displayName="CaretDownOutlined";var w=h.forwardRef(v)},28612:function(L,I,e){"use strict";e.d(I,{Z:function(){return w}});var g=e(28991),h=e(67294),C={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},m=C,D=e(27029),v=function(M,O){return h.createElement(D.Z,(0,g.Z)((0,g.Z)({},M),{},{ref:O,icon:m}))};v.displayName="CaretUpOutlined";var w=h.forwardRef(v)},5750:function(L,I,e){"use strict";e.r(I),e.d(I,{default:function(){return he}});var g=e(20136),h=e(55241),C=e(63185),m=e(9676),D=e(34792),v=e(48086),w=e(57338),T=e(273),M=e(13062),O=e(71230),K=e(89032),S=e(15746),G=e(88983),a=e(47933),n=e(71194),c=e(50146),j=e(66456),U=e(5322),ie=e(11849),Ee=e(18106),z=e(95562),ye=e(32157),V=e(82363),le=e(67294),de=e(68628),Q=e(24616),B=e(30672),ue=e(30381),J=e.n(ue),ce=e(28216),ge=e(66615),X=e.n(ge),t=e(85893),q,ee,P=V.Z.TreeNode,pe=V.Z.DirectoryTree,te=z.Z.TabPane;window.DesignConfig={};var he=(q=(0,ce.$j)(R=>{var s=R.page,o=R.globaldesign,r=R.commondesign,E=R.loading;return{page:s,globaldesign:o,commondesign:r,loading:E.effects["page/getListAllFetch"]}}),q(ee=class extends le.Component{constructor(){super(...arguments);this.state={pageSelect:[],pageExpandedKeys:["custom"],selectedCouponRowKeys:[],collectionCouponModal:!1,courseDrawer:!1,infomationDrawer:!1,infomationIsPlatform:0},this.getCouponList=s=>{var o=this,r=this.props.dispatch;r({payload:{couponScope:s},type:"page/getDressUpCouponList"})},this.postDesignConfig=s=>{var o=this,r=this.props.dispatch;r({type:"globaldesign/fetchPostDesignConfig",payload:"window.DesignConfig = ".concat(JSON.stringify(window.DesignConfig)),callback:E=>{s&&s()}})},this.show=()=>{var s=this,o=this.props,r=o.commondesign,E=o.page,_=r.Href.dataHref,p="";if(_){var l=JSON.parse(_);switch(l.hrefType){case"school":p=l.data.handle,s.setState({pageSelect:[p],pageExpandedKeys:l.data.pageExpandedKeys||[]});break;case"page":p=l.data.designId+"",s.setState({pageSelect:[p],pageExpandedKeys:l.data.pageExpandedKeys||[]});break;case"compage":p=l.data.designId,s.setState({pageSelect:[p],pageExpandedKeys:l.data.pageExpandedKeys||[]});break}}}}componentDidMount(){var s=this,o=this.props,r=o.pageExpandedKeys,E=o.dispatch;this.setState({pageExpandedKeys:r.length<1?["custom"]:r}),this.show()}renderCollectionCoupon(){var s=this,o=this.props,r=o.page,E=o.valueItem,_=o.onChange,p=_===void 0?()=>{}:_,l=this.state,b=l.collectionCouponModal,x=l.selectedCouponRowKeys,ae=r.couponList,W=[{couponId:"1",couponName:"\u6765\u5C31\u9001100\u5757",couponType:1,discount:"",price:1e4,couponSum:32,gmtStart:1574316830797,gmtEnd:1574316830797,couponGetSum:12,couponUsedSum:2},{couponId:"2",couponName:"\u9AA8\u6298",couponType:2,discount:60,price:"",couponSum:30,gmtStart:1574316830797,gmtEnd:1574316830797,couponGetSum:12,couponUsedSum:10}],$=[{title:"\u4F18\u60E0\u5238",render:i=>(0,t.jsxs)("span",{children:[i.couponName,(0,t.jsx)("br",{}),parseInt(i.couponType)==1?"\u73B0\u91D1\u5238":"\u6298\u6263\u5238"]})},{title:"\u4F18\u60E0\u5185\u5BB9",render:i=>(0,t.jsx)("span",{children:parseInt(i.couponType)==1?"".concat(i.price/100,"\u5143"):"".concat(i.discount/10,"\u6298")})},{title:"\u6709\u6548\u671F",render:i=>(0,t.jsxs)("span",{children:[J()(i.gmtStart).format("YYYY-MM-DD"),(0,t.jsx)("br",{}),J()(i.gmtEnd).format("YYYY-MM-DD")]})},{title:"\u5DF2\u9886\u53D6/\u5269\u4F59",render:i=>(0,t.jsxs)("span",{children:[i.couponGetSum,"/",i.couponSum-i.couponUsedSum-i.couponGetSum]})},{title:"\u5DF2\u4F7F\u7528",render:i=>(0,t.jsx)("span",{children:i.couponUsedSum})}],A={selectedRowKeys:x,onChange:(i,me)=>{s.setState({selectedCouponRowKeys:i})}},ne=()=>{this.setState({collectionCouponModal:!1})},Y=()=>{E.data.couponKeys=x,p({valueItem:(0,ie.Z)({},E)}),this.setState({collectionCouponModal:!1})},Z=i=>{s.getCouponList(i)};return(0,t.jsx)(c.Z,{title:"\u9009\u62E9\u4F18\u60E0\u5238",visible:b,width:680,onCancel:ne,onOk:Y,maskClosable:!1,className:X().hrefModal,zIndex:1002,children:(0,t.jsxs)("div",{style:{padding:12},children:[(0,t.jsxs)(z.Z,{defaultActiveKey:"1",onChange:Z,type:"card",style:{height:"auto"},children:[(0,t.jsx)(te,{tab:"\u8BFE\u7A0B"},"1"),(0,t.jsx)(te,{tab:"\u5546\u54C1"},"2")]}),(0,t.jsx)(U.Z,{rowKey:"couponId",rowSelection:A,columns:$,dataSource:ae,pagination:!1,scroll:{y:500}},1)]})})}renderInfomationDrawer(){var s=this,o=this.state,r=o.infomationDrawer,E=o.infomationIsPlatform,_=(0,B.lw)((0,B.Kd)()),p=()=>{s.setState({infomationDrawer:!1})},l=b=>{window.DesignConfig.infoIsPlatform=b.target.value,s.postDesignConfig()};return(0,t.jsx)(T.Z,{title:_.formatMessage({id:"admin.menu.informationList"}),placement:"right",onClose:p,open:r,getContainer:!1,mask:!1,style:{position:"absolute"},children:r&&(0,t.jsx)(O.Z,{children:(0,t.jsx)(S.Z,{span:12,children:(0,t.jsxs)(a.ZP.Group,{onChange:l,defaultValue:window.DesignConfig.infoIsPlatform||0,children:[(0,t.jsx)(a.ZP,{value:0,children:"\u672C\u6821"}),(0,t.jsx)(a.ZP,{value:1,children:"\u5E73\u53F0"})]})})})})}renderCourseDrawer(){var s=this,o=this.state.courseDrawer,r=()=>{s.setState({courseDrawer:!1})},E=l=>{window.DesignConfig.viewNum=l.target.checked,s.postDesignConfig(),v.ZP.success("\u8BBE\u7F6E\u89C2\u770B\u6B21\u6570\u6210\u529F")},_=l=>{window.DesignConfig.buyNum=l.target.checked,s.postDesignConfig(),v.ZP.success("\u8BBE\u7F6E\u8D2D\u4E70\u6B21\u6570\u6210\u529F")},p=l=>{window.DesignConfig.price=l.target.checked,s.postDesignConfig(),v.ZP.success("\u8BBE\u7F6E\u4EF7\u683C\u6210\u529F")};return(0,t.jsx)(T.Z,{title:"\u9009\u8BFE\u4E2D\u5FC3",placement:"right",onClose:r,open:o,getContainer:!1,mask:!1,style:{position:"absolute"},children:o&&(0,t.jsxs)(O.Z,{children:[(0,t.jsx)(S.Z,{span:12,children:(0,t.jsx)(m.Z,{value:"viewNum",defaultChecked:window.DesignConfig.viewNum,onChange:E,children:"\u89C2\u770B\u6B21\u6570"})}),(0,t.jsx)(S.Z,{span:12,children:(0,t.jsx)(m.Z,{value:"buyNum",defaultChecked:window.DesignConfig.buyNum,onChange:_,children:"\u8D2D\u4E70\u6B21\u6570"})}),(0,t.jsx)(S.Z,{span:12,children:(0,t.jsx)(m.Z,{value:"price",defaultChecked:window.DesignConfig.price,onChange:p,children:"\u4EF7\u683C"})})]})})}render(){var s=this,o=this,r=this.props,E=r.value,_=r.onChange,p=_===void 0?()=>{}:_,l=r.type,b=r.globaldesign,x=r.page,ae=r.loading,W=this.state,$=W.pageSelect,A=W.pageExpandedKeys,ne=W.courseDrawer,Y=x.pageList,Z=x.pageListObject,i=x.folderData,me=b.isMobile,f=(0,B.lw)((0,B.Kd)()),se=[{name:f.formatMessage({id:"mack.dsc.aa"}),handle:"login"},{name:f.formatMessage({id:"common.wechat"})+f.formatMessage({id:"mack.dsc.aa"}),handle:"wechatLogin"},{name:f.formatMessage({id:"app.settings.notification.wechat"})+f.formatMessage({id:"mack.dsc.aa"}),handle:"enwechatLogin"},{name:f.formatMessage({id:"app.settings.notification.mail"})+f.formatMessage({id:"mack.dsc.aa"}),handle:"dingdingLogin"},{name:f.formatMessage({id:"mack.dsc.aa"}),handle:"appLogin"},{name:f.formatMessage({id:"admin.plugin.back"}),handle:"goBack"},{name:f.formatMessage({id:"mack.dsh.r"}),handle:"QRcodeEvent",domTips:(0,t.jsxs)(h.Z,{content:f.formatMessage({id:"mack.dsh.s"}),trigger:"hover",children:[" ",(0,t.jsx)(de.Z,{})]})}],fe=d=>{var u=()=>{o.setState({courseDrawer:!0})};switch(d.designId){case"elective":return(0,t.jsxs)("span",{children:["\u9009\u8BFE\u4E2D\u5FC3 ",(0,t.jsx)(Q.Z,{onClick:u,style:{marginLeft:12}})]});case"listrmation":if(location.hostname.indexOf("www.")!==0)return d.title;return u=()=>{o.setState({infomationDrawer:!0})},(0,t.jsxs)("span",{children:["\u8D44\u8BAF\u5217\u8868 ",(0,t.jsx)(Q.Z,{onClick:u,style:{marginLeft:12}})]});break;default:return d.title}},Ce=[{designId:"recruit",title:"\u4F01\u4E1A\u62DB\u8058",url:"/pages/recruit.html"},{designId:"cases",title:"\u6848\u4F8B\u5C55\u793A",url:"/pages/cases.html"},{designId:"products",title:"\u4EA7\u54C1\u4ECB\u7ECD",url:"/pages/products.html"},{designId:"busType5",title:"\u4E1A\u52A1\u767E\u79D1",url:"/pages/Wikipedia.html?busType=5"},{designId:"QA",title:"\u5BA2\u6237\u95EE\u7B54",url:"/pages/QA.html?busType=4"},{designId:"photos",title:"\u5F62\u8C61\u7167\u7247",url:"/pages/photos.html"},{designId:"partner",title:"\u5408\u4F5C\u4F19\u4F34",url:"/pages/partner.html"},{designId:"honour",title:"\u4F01\u4E1A\u8363\u8A89",url:"/pages/honour.html"},{designId:"qualification",title:"\u4F01\u4E1A\u8D44\u8D28",url:"/pages/qualification.html"}],De=[{designId:"busType2",title:"\u4F01\u4E1A\u62DB\u8058",url:"/pages/wap/listrmation.html?busType=2"},{designId:"busType7",title:"\u6848\u4F8B\u5C55\u793A",url:"/pages/wap/listrmation.html?busType=7"},{designId:"busType6",title:"\u4EA7\u54C1\u4ECB\u7ECD",url:"/pages/wap/listrmation.html?busType=6"},{designId:"busType5",title:"\u4E1A\u52A1\u767E\u79D1",url:"/pages/wap/listrmation.html?busType=5"},{designId:"busType4",title:"\u5BA2\u6237\u95EE\u7B54",url:"/pages/wap/listrmation.html?busType=4"},{designId:"busType3",title:"\u5F62\u8C61\u7167\u7247",url:"/pages/wap/listrmation.html?busType=3"},{designId:"busType8",title:"\u5408\u4F5C\u4F19\u4F34",url:"/pages/wap/listrmation.html?busType=8"},{designId:"busType9",title:"\u4F01\u4E1A\u8363\u8A89",url:"/pages/wap/listrmation.html?busType=9"},{designId:"busType10",title:"\u4F01\u4E1A\u8D44\u8D28",url:"/pages/wap/listrmation.html?busType=10"}],Me=[{designId:"login",title:"\u5E73\u53F0\u767B\u5F55\u9875",url:"/pages/login.html"},{designId:"myroom",title:"\u6211\u7684",url:"/myroom/#"},{designId:"learnCenter",title:"\u5B66\u4E60\u4E2D\u5FC3",url:"/myroom/#/learn/center"},{designId:"recharge",title:"\u4F59\u989D\u5145\u503C",url:"/myroom/#/simplify/balance"}],oe=[{designId:"home",title:"\u9996\u9875",url:"/"},{designId:"listrmation",title:f.formatMessage({id:"admin.menu.informationList"}),url:"/newslist.html"}],ve=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],k=arguments.length>1?arguments[1]:void 0,y=k.node.props.item;if(u[0]!=="elective"&&o.setState({courseDrawer:!1}),u[0]!=="listrmation"&&o.setState({infomationDrawer:!1}),y){s.setState({pageSelect:k.selected?u:[]});var F=y.hrefType=="school"?{handle:y.data.handle,name:y.data.name}:y.data,N={hrefType:y.hrefType,data:F};switch(y.hrefType){case"school":p({openTarget:!1});break;case"compage":p({openTarget:!0});break;case"page":p({openTarget:!0});var H=F.url+"";H.indexOf(".shtml")<0&&(H="/"+H+".shtml"),N.data={title:F.title,designId:F.designId+"",url:H};break}N.data.pageExpandedKeys=A,N.data.handle=="collectionCoupon"&&s.setState({collectionCouponModal:!0}),p({valueItem:N,value:u})}},_e=d=>{this.setState({pageExpandedKeys:d})},re=d=>d.map((u,k)=>{if(u.children)return(0,t.jsx)(P,{title:u.folderName,children:re(u.children)},u.folderId);if(Z[u.designId]){var y=Z[u.designId];return(0,t.jsx)(P,{title:y.title,item:{data:y,hrefType:"page"},isLeaf:!0},y.designId)}else return(0,t.jsx)(P,{title:u.folderName,isLeaf:!0},u.folderId)});return(0,t.jsxs)("div",{className:X().shop,style:{position:"relative"},children:[(0,t.jsx)("div",{className:"conBox",children:(0,t.jsxs)(pe,{expandedKeys:A,selectedKeys:$,onSelect:ve,onExpand:_e,children:[l=="all"||l.school?(0,t.jsx)(P,{title:"".concat(f.formatMessage({id:"mack.dsh.p"}),"\uFF08").concat(se.length,"\uFF09"),children:se.map(d=>(0,t.jsx)(P,{title:(0,t.jsxs)("span",{children:[d.name," ",d.domTips]}),item:{data:d,hrefType:"school"},isLeaf:!0},d.handle))},"module"):"",(0,t.jsx)(P,{title:"\u529F\u80FD\u9875\uFF08".concat(oe.length,"\uFF09"),children:oe.map(d=>d.children?(0,t.jsx)(P,{title:d.title,children:d.children.map(u=>(0,t.jsx)(P,{title:u.title,item:{data:u,hrefType:"compage"},isLeaf:!0},u.designId))},d.designId):(0,t.jsx)(P,{title:fe(d),item:{data:d,hrefType:"compage"},isLeaf:!0},d.designId))},"common"),(0,t.jsx)(P,{title:"".concat(f.formatMessage({id:"common.diy"}),"\uFF08").concat(Y.length,"\uFF09"),children:re(i)},"custom")]})}),this.renderCollectionCoupon(),this.renderCourseDrawer(),this.renderInfomationDrawer()]})}})||ee)},27678:function(L,I,e){"use strict";e.d(I,{g1:function(){return K},os:function(){return G}});var g=/margin|padding|width|height|max|min|offset/,h={left:!0,top:!0},C={cssFloat:1,styleFloat:1,float:1};function m(a){return a.nodeType===1?a.ownerDocument.defaultView.getComputedStyle(a,null):{}}function D(a,n,c){if(n=n.toLowerCase(),c==="auto"){if(n==="height")return a.offsetHeight;if(n==="width")return a.offsetWidth}return n in h||(h[n]=g.test(n)),h[n]?parseFloat(c)||0:c}function v(a,n){var c=arguments.length,j=m(a);return n=C[n]?"cssFloat"in a.style?"cssFloat":"styleFloat":n,c===1?j:D(a,n,j[n]||a.style[n])}function w(a,n,c){var j=arguments.length;if(n=C[n]?"cssFloat"in a.style?"cssFloat":"styleFloat":n,j===3)return typeof c=="number"&&g.test(n)&&(c="".concat(c,"px")),a.style[n]=c,c;for(var U in n)n.hasOwnProperty(U)&&w(a,U,n[U]);return m(a)}function T(a){return a===document.body?document.documentElement.clientWidth:a.offsetWidth}function M(a){return a===document.body?window.innerHeight||document.documentElement.clientHeight:a.offsetHeight}function O(){var a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:a,height:n}}function K(){var a=document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight;return{width:a,height:n}}function S(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function G(a){var n=a.getBoundingClientRect(),c=document.documentElement;return{left:n.left+(window.pageXOffset||c.scrollLeft)-(c.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||c.scrollTop)-(c.clientTop||document.body.clientTop||0)}}},96774:function(L){L.exports=function(e,g,h,C){var m=h?h.call(C,e,g):void 0;if(m!==void 0)return!!m;if(e===g)return!0;if(typeof e!="object"||!e||typeof g!="object"||!g)return!1;var D=Object.keys(e),v=Object.keys(g);if(D.length!==v.length)return!1;for(var w=Object.prototype.hasOwnProperty.bind(g),T=0;T<D.length;T++){var M=D[T];if(!w(M))return!1;var O=e[M],K=g[M];if(m=h?h.call(C,O,K,M):void 0,m===!1||m===void 0&&O!==K)return!1}return!0}}}]);
