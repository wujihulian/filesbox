(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[46660],{76734:function(G){G.exports={newColorPicker:"newColorPicker___2va38"}},18358:function(G){G.exports={hrefModal:"hrefModal___1qwTY",hoverClick:"hoverClick___3KWOm",contentModal:"contentModal___22xzu"}},96328:function(G,Q,c){"use strict";var os=c(67294),q=c(79941),ls=c(53390),ss=c(76734),is=c.n(ss),N=c(85893);function rs(M){var D=M.offsetTop;return M.offsetParent!=null&&(D+=rs(M.offsetParent)),D}function es(M){var D=M.offsetLeft;return M.offsetParent!=null&&(D+=es(M.offsetParent)),D}class cs extends os.Component{constructor(){super(...arguments);this.state={displayColorPicker:!1,pageX:0,pageY:0},this.handleClick=D=>{var L=this.props.cssData,F=L===void 0?{devX:0,devY:0}:L,R=F.devX,X=F.devY;this.first=!0;var T=root.clientWidth,H=root.clientHeight,O=$(D.target),W=O.offset().left+R,j=O.offset().top+O.outerHeight()+5+X;W+220>T&&(W=T-220),j+333>H&&(j=H-333),this.setState({displayColorPicker:!this.state.displayColorPicker,pageX:W,pageY:j})},this.handleClear=()=>{var D=this.props.onChange,L=D===void 0?F=>{}:D;this.setState({displayColorPicker:!1,scrollTop:0}),L("transparent")},this.handleClose=()=>{this.setState({displayColorPicker:!1,scrollTop:0})}}render(){var D=this.props,L=D.className,F=L===void 0?"colorPicker":L,R=D.onChange,X=R===void 0?P=>{}:R,T=D.value,H=T===void 0?"#000000":T,O=D.style,W=this.state,j=W.pageX,ds=W.pageY,as=P=>{P.rgb.a<1&&!(this.first&&P.rgb.a==0)?X("rgba(".concat(P.rgb.r,", ").concat(P.rgb.g,", ").concat(P.rgb.b,", ").concat(P.rgb.a,")")):X(P.hex),this.first=!1},K=(0,q.ZP)({default:{color:{height:"100%",borderRadius:"2px",background:H},colorBox:{height:"100%",borderRadius:"2px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==")'},swatch:{width:"100%",height:"100%",padding:"2px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"fixed",zIndex:"101",background:"#ccc",top:ds,left:j},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},clearBtn:{position:"absolute",bottom:"10px",height:"18px",lineHeight:"18px",right:"8px",zIndex:1,fontSize:"12px",cursor:"pointer"}}});return(0,N.jsxs)("div",{style:O,className:F+" "+is().newColorPicker,children:[(0,N.jsx)("div",{style:K.swatch,onClick:this.handleClick,children:(0,N.jsx)("div",{style:K.colorBox,children:(0,N.jsx)("div",{style:K.color})})}),this.state.displayColorPicker?(0,N.jsxs)("div",{style:K.popover,children:[(0,N.jsx)("div",{style:K.clearBtn,onClick:this.handleClear,children:"\u6E05\u7A7A"}),(0,N.jsx)("div",{style:K.cover,onClick:this.handleClose}),(0,N.jsx)(ls.xS,{color:H,onChange:as})]}):null]})}}Q.Z=cs},87690:function(G,Q,c){"use strict";c.r(Q),c.d(Q,{default:function(){return _s}});var os=c(66456),q=c(5322),ls=c(57663),ss=c(71577),is=c(48736),N=c(27049),rs=c(34792),es=c(48086),cs=c(71194),M=c(50146),D=c(13254),L=c(14277),F=c(14781),R=c(23492),X=c(20228),T=c(11382),H=c(43358),O=c(34041),W=c(63185),j=c(9676),ds=c(88983),as=c(47933),K=c(18106),P=c(95562),Es=c(47673),ts=c(4107),Cs=c(67294),ps=c(28216),Is=c(56173),fs=c(7861),gs=c(19755),hs=c.n(gs),ys=c(96328),xs=c(18358),Z=c.n(xs),e=c(85893),vs,us,ks=ts.Z.TextArea,U=P.Z.TabPane,Ds=as.ZP.Group,Y=j.Z.Group,_s=(vs=(0,ps.$j)(J=>{var s=J.page,n=J.commondesign,a=J.globaldesign,d=J.loading;return{page:s,commondesign:n,globaldesign:a,loading:d.effects["page/getCourseSelections"]}}),vs(us=class extends Cs.PureComponent{constructor(){super(...arguments);this.state={visible:!1,navList:[{name:"\u5973\u738B\u8282",subName:"\u72C2\u6B225\u6298\u8D77",coureData:[],shopData:[],infoData:[],nid:0}],color:"#000",showEdit:99,showSubEdit:99,recordIndex:0,visibleHref:!1,activeKey:"1",classifyList:[],firstClass:{},secondClass:{},courseList:[],courseCurrent:1,courseTotal:0,courseCheck:[],courseCheckItem:[],classifyShopList:[],firstShopClass:{},secondShopClass:{},shopList:[],shopCurrent:1,shopTotal:0,shopCheck:[],shopCheckItem:[],classifyInfoList:[],firstInfoClass:{},secondInfoClass:{},infoList:[],infoCurrent:1,infoTotal:0,infoCheck:[],infoCheckItem:[]},this.updataDomCallBack=s=>{var n=this,a=this.props.commondesign,d=a.TabNav,i=d.element,u=d.callback,C=d.callClose,g=a.designId;console.log("data",s);var v="";v+='<div class="tabCardBox">',v+='<ul class="tabHeader">';for(var l=0,p=s.length;l<p;l++){var m=s[l];v+='<li class="'.concat(l==0?"on":"",'" style="width: ').concat(100/p,`%">
                    <div class="title">`).concat(m.name,`</div>
                    <div class="subName">`).concat(m.subName,`</div>
                  </li>`)}v+="</ul>",v+='<div class="tabConTentBox">';for(var I=0,S=s.length;I<S;I++){var o=s[I],y=o.coureData,k=o.shopData,B=o.infoData;v+='<div class="tabConTent '.concat(I==0?"on":"",'">');for(var b=0,t=y.length;b<t;b++){var x=y[b];v+=`<div class="courseCard">
                      <div class="cover" style="background-image:url(`.concat(""+x.cover,`)"></div>
                      <div class="title">`).concat(x.courseName,`</div>
                    </div>`)}for(var E=0,ns=k.length;E<ns;E++){var w=k[E];v+=`<div class="shopCard">
                      <div class="cover" style="background-image:url(`.concat(""+n.getShopCover(w),`)"></div>
                      <div class="title">`).concat(w.shopName,`</div>
                      <div class="price">`).concat(w.price/100,'<span class="marketPrice">\uFFE5').concat(w.marketPrice,'</span><span class="orderCount">').concat(w.orderCount,`\u4EF6\u5DF2\u552E</span></div>
                    </div>`)}for(var V=0,f=B.length;V<f;V++){var r=B[V];v+=`<div class="infoCard">
                      <div class="cover" style="background-image:url(`.concat(""+n.getInformationCover(r),`)"></div>
                      <div class="rightBox">
                        <div class="title">`).concat(r.title,`</div>
                        <div class="introduce">`).concat(r.introduce,`</div>
                      </div>
                    </div>`)}v+="</div>"}v+="</div>",v+="</div>",i.css({fontSize:12}),i.html(v),i.attr("data-TabNav",JSON.stringify(s))},this.show=s=>{s?(s=JSON.parse(s),this.setState({navList:s})):this.setState({navList:s}),this.setState({visible:!0,showEdit:99})},this.cancelEvent=()=>{var s=this,n=this.props.dispatch;n({type:"commondesign/setState",payload:{TabNav:{visible:!1,callback:()=>{},callClose:()=>{}}}})},this.classifyList=()=>{var s=this,n=s.props.dispatch;n({type:"page/getDressClassifyCourseList",payload:{needShare:!0},callback:a=>{a.success&&s.setState({classifyList:a.data})}})},this.getCourseList=()=>{var s=this,n=s.props.dispatch,a=s.state,d=a.firstClass,i=a.secondClass,u=a.courseCurrent,C=d.courseClassifyId,g=i.courseClassifyId;hs()(".courseList").scrollTop(0),n({type:"page/getCourseSelections",payload:{mainClassify:C,childClassify:g,currentPage:u,pageSize:50,courseType:2},callback:v=>{if(v.success){var l=v.data,p=l.list,m=l.total;s.setState({courseList:p,courseTotal:m})}}})},this.getClassifyList=()=>{var s=this,n=this.props.dispatch,a=this.state.classifyShopList;a.length<1&&n({type:"page/getClassifyList",payload:{},callback:d=>{d.success&&s.setState({classifyShopList:d.data})}})},this.getShopList=()=>{var s=this,n=s.props.dispatch,a=s.state,d=a.firstShopClass,i=a.secondShopClass,u=a.shopCurrent,C=d.shopClassifyId,g=i.shopClassifyId;hs()(".courseList").scrollTop(0),n({type:"page/getShopListByCondition",payload:{shopClassifyId:g||C,currentPage:u,pageSize:50},callback:v=>{if(v.success){var l=v.data,p=l.list,m=l.total;s.setState({shopList:p,shopTotal:m})}}})},this.getShopCover=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=s.coverList;if((0,fs.pM)(n)){var a=JSON.parse(n);return a.length>0?""+a[0].sourcePath:""}return""},this.getInfoClassifyList=()=>{var s=this,n=this.props.dispatch;n({type:"page/listAllSetting",payload:{showCount:1},callback:a=>{a.success&&s.setState({classifyInfoList:a.data})}})},this.getHomepageInfoList=()=>{var s=this,n=this.props.dispatch;n({type:"page/listHomepageInfo",callback:a=>{a.success&&s.setState({infoList:a.data.list,infoTotal:a.data.total})}})},this.getInformationCover=s=>{var n=s.thumb,a=n===void 0?"":n;return a.indexOf("//")==0?a.substring(1):a},this.getSelectCourseList=()=>{var s=this,n=this.props.dispatch,a=this.state.courseCheck;n({type:"page/getCourseInfoByIds",payload:{courseIds:a},callback:d=>{d.success&&s.setState({courseCheckItem:d.data})}})},this.coverCourseData=function(){for(var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[],a=0,d=s.length;a<d;a++){var i=s[a],u=i.courseId,C=i.cover,g=i.courseType,v=i.courseName,l=i.price;n.push({courseId:u,cover:C,courseType:g,courseName:v,price:l})}return n},this.coverShopData=s=>{for(var n=[],a=0,d=s.length;a<d;a++){var i=s[a],u=i.shopId,C=i.cover,g=i.coverList,v=i.shopName,l=i.price,p=i.marketPrice,m=i.orderCount;n.push({shopId:u,cover:C,coverList:g,shopName:v,price:l,marketPrice:p,orderCount:m})}return n},this.coverInfoData=s=>{for(var n=[],a=0,d=s.length;a<d;a++){var i=s[a],u=i.infoID,C=i.thumb,g=i.title,v=i.introduce;n.push({infoID:u,thumb:C,title:g,introduce:v})}return n}}componentDidMount(){var s=this,n=s.props,a=n.commondesign,d=n.page,i=a.TabNav,u=i.visible,C=i.element,g=i.callback,v=i.callClose;s.setState({visible:u});var l=C.attr("data-tabnav");s.show(l);var p=d.classCourseList,m=s.state.classifyList;m.length>0?s.setState({classifyList:p}):s.classifyList(),s.getCourseList()}renderCourse(){var s=this,n=s.props.loading,a=s.state,d=a.classifyList,i=a.firstClass.children,u=i===void 0?[]:i,C=a.secondClass,g=C===void 0?{}:C,v=a.courseCurrent,l=a.courseTotal,p=a.courseList,m=p===void 0?[]:p,I=a.courseCheckItem,S=g.courseClassifyId,o=s.state.courseCheck,y=(t,x)=>{s.setState({firstClass:x.data,courseCurrent:1,secondClass:{}},()=>{s.getCourseList()})},k=function(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.setState({secondClass:E.data,courseCurrent:1},()=>{s.getCourseList()})},B=t=>{var x=t.courseId,E=o.indexOf(x);E>-1?(o.splice(E,1),I.splice(E,1)):(o.push(x),I.push(t)),s.setState({courseCheck:[...o],courseCheckItem:[...I]})},b=t=>{s.setState({courseCurrent:t},()=>{s.getCourseList()})};return(0,e.jsxs)("div",{className:"content",children:[(0,e.jsxs)("div",{className:"selectBox",children:[(0,e.jsx)(O.Z,{onChange:y,placeholder:"\u8BF7\u9009\u62E9\u5206\u7C7B",allowClear:!0,style:{width:160,marginRight:20},children:d.map(t=>(0,e.jsx)(Option,{value:t.courseClassifyId,data:t,children:t.classifyName},t.courseClassifyId))}),u.length>0?(0,e.jsx)(O.Z,{value:S,onChange:k,placeholder:"\u8BF7\u9009\u62E9\u5B50\u5206\u7C7B",allowClear:!0,style:{width:160},children:u.map(t=>(0,e.jsx)(Option,{value:t.courseClassifyId,data:t,children:t.classifyName},t.courseClassifyId))}):""]}),(0,e.jsx)(T.Z,{spinning:n,children:(0,e.jsx)("div",{className:"courseList",children:(0,e.jsx)(Y,{value:o,style:{width:"100%"},children:m.map(t=>(0,e.jsxs)("div",{className:"cardBox",children:[(0,e.jsx)(j.Z,{className:"checkBox",value:t.courseId,onClick:()=>B(t)}),(0,e.jsx)("div",{className:"coverBox",onClick:()=>B(t),style:{backgroundImage:"url(".concat(""+t.cover,")")}}),(0,e.jsx)("div",{className:"descBox",onClick:()=>B(t),children:(0,e.jsx)("div",{className:"nameBox",children:t.courseName})})]},t.courseId))})})}),(0,e.jsx)("div",{className:"paginationBox",children:(0,e.jsx)(R.Z,{onChange:b,current:v,pageSize:50,total:l,hideOnSinglePage:!0,showSizeChanger:!1})})]})}renderShop(){var s=this,n=this.props.loading,a=s.state,d=a.classifyShopList,i=a.firstShopClass.children,u=i===void 0?[]:i,C=a.secondShopClass,g=C===void 0?{}:C,v=a.shopCurrent,l=a.shopTotal,p=a.shopList,m=p===void 0?[]:p,I=a.shopCheckItem,S=g.shopClassifyId,o=s.state.shopCheck,y=(t,x)=>{s.setState({firstShopClass:x.data,shopCurrent:1,secondShopClass:{}},()=>{s.getShopList()})},k=function(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.setState({secondShopClass:E.data,shopCurrent:1},()=>{s.getShopList()})},B=t=>{var x=t.shopId,E=o.indexOf(x);E>-1?(o.splice(E,1),I.splice(E,1)):(o.push(x),I.push(t)),s.setState({shopCheck:[...o],shopCheckItem:[...I]})},b=t=>{s.setState({shopCurrent:t},()=>{s.getShopList()})};return(0,e.jsxs)("div",{className:"content",children:[(0,e.jsxs)("div",{className:"selectBox",children:[(0,e.jsx)(O.Z,{onChange:y,placeholder:"\u8BF7\u9009\u62E9\u5206\u7C7B",allowClear:!0,style:{width:160,marginRight:20},children:d.map(t=>(0,e.jsx)(Option,{value:t.shopClassifyId,data:t,children:t.classifyName},t.shopClassifyId))}),u.length>0?(0,e.jsx)(O.Z,{value:S,onChange:k,placeholder:"\u8BF7\u9009\u62E9\u5B50\u5206\u7C7B",allowClear:!0,style:{width:160},children:u.map(t=>(0,e.jsx)(Option,{value:t.shopClassifyId,data:t,children:t.classifyName},t.shopClassifyId))}):""]}),(0,e.jsx)(T.Z,{spinning:n,children:(0,e.jsx)("div",{className:"courseList",children:(0,e.jsx)(Y,{value:o,style:{width:"100%"},children:m.map((t,x)=>(0,e.jsxs)("div",{className:"cardBox",children:[(0,e.jsx)(j.Z,{className:"checkBox",value:t.shopId,onClick:()=>B(t)}),(0,e.jsx)("div",{className:"coverBox",onClick:()=>B(t),style:{backgroundImage:"url(".concat(""+s.getShopCover(t),")")}}),(0,e.jsx)("div",{className:"descBox",onClick:()=>B(t),children:(0,e.jsx)("div",{className:"nameBox",children:t.shopName})})]},x))})})}),(0,e.jsx)("div",{className:"paginationBox",children:(0,e.jsx)(R.Z,{onChange:b,current:v,pageSize:50,total:l,hideOnSinglePage:!0,showSizeChanger:!1})})]})}renderInformation(){var s=this,n=this.props.loading,a=s.state,d=a.classifyInfoList,i=a.firstInfoClass.children,u=i===void 0?[]:i,C=a.secondInfoClass,g=C===void 0?{}:C,v=a.infoCurrent,l=a.infoTotal,p=a.infoList,m=p===void 0?[]:p,I=a.infoCheckItem,S=g.infoTypeID,o=s.state.infoCheck,y=(t,x)=>{s.setState({firstInfoClass:x.data,infoCurrent:1,secondInfoClass:{}},()=>{s.getHomepageInfoList()})},k=function(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.setState({secondInfoClass:E.data,infoCurrent:1},()=>{s.getHomepageInfoList()})},B=t=>{var x=t.infoID,E=o.indexOf(x);E>-1?(o.splice(E,1),I.splice(E,1)):(o.push(x),I.push(t)),s.setState({infoCheck:[...o],infoCheckItem:[...I]})},b=t=>{s.setState({infoCurrent:t},()=>{s.getHomepageInfoList()})};return(0,e.jsxs)("div",{className:"content",children:[(0,e.jsxs)("div",{className:"selectBox",children:[(0,e.jsx)(O.Z,{onChange:y,placeholder:"\u8BF7\u9009\u62E9\u5206\u7C7B",allowClear:!0,style:{width:160,marginRight:20},children:d.map(t=>(0,e.jsx)(Option,{value:t.infoTypeID,data:t,children:t.typeName},t.infoTypeID))}),u.length>0?(0,e.jsx)(O.Z,{value:S,onChange:k,placeholder:"\u8BF7\u9009\u62E9\u5B50\u5206\u7C7B",allowClear:!0,style:{width:160},children:u.map(t=>(0,e.jsx)(Option,{value:t.infoTypeID,data:t,children:t.typeName},t.infoTypeID))}):""]}),(0,e.jsx)(T.Z,{spinning:n,children:(0,e.jsx)("div",{className:"courseList",children:(0,e.jsx)(Y,{value:o,style:{width:"100%"},children:m.map(t=>(0,e.jsxs)("div",{className:"cardBox",children:[(0,e.jsx)(j.Z,{className:"checkBox",value:t.infoID,onClick:()=>B(t)}),(0,e.jsx)("div",{className:"coverBox",onClick:()=>B(t),style:{backgroundImage:"url(".concat(""+s.getInformationCover(t),")")}}),(0,e.jsx)("div",{className:"descBox",onClick:()=>B(t),children:(0,e.jsx)("div",{className:"nameBox",children:t.title})})]},t.infoID))})})}),(0,e.jsx)("div",{className:"paginationBox",children:(0,e.jsx)(R.Z,{onChange:b,current:v,pageSize:50,total:l,hideOnSinglePage:!0,showSizeChanger:!1})})]})}renderSelected(){var s=this,n=s.state,a=n.courseCheckItem,d=n.courseCheck,i=n.shopCheck,u=n.shopCheckItem,C=n.infoCheck,g=n.infoCheckItem,v=o=>{s.setState({courseCheck:o})},l=o=>{var y=o.courseId,k=d.indexOf(y);k>-1?d.splice(k,1):d.push(y),s.setState({courseCheck:[...d]})},p=o=>{s.setState({shopCheck:o})},m=o=>{var y=o.shopId,k=i.indexOf(y);k>-1?i.splice(k,1):i.push(y),s.setState({shopCheck:[...i]})},I=o=>{s.setState({infoCheck:o})},S=o=>{var y=o.infoID,k=i.indexOf(y);k>-1?C.splice(k,1):C.push(y),s.setState({infoCheck:[...C]})};return(0,e.jsxs)(P.Z,{tabPosition:"left",children:[(0,e.jsx)(U,{tab:"\u8BFE\u7A0B(".concat(d.length,")"),children:(0,e.jsx)("div",{className:"content",style:{marginLeft:-20},children:(0,e.jsx)("div",{className:"courseList",style:{height:480},children:a.length>0?(0,e.jsx)(Y,{value:d,onChange:v,style:{width:"100%"},children:a.map(o=>(0,e.jsxs)("div",{className:"cardBox",children:[(0,e.jsx)(j.Z,{className:"checkBox",value:o.courseId}),(0,e.jsx)("div",{className:"coverBox",onClick:()=>l(o),style:{backgroundImage:"url(".concat(""+o.cover,")")}}),(0,e.jsx)("div",{className:"descBox",onClick:()=>l(o),children:(0,e.jsx)("div",{className:"nameBox",children:o.courseName})})]},o.courseId))}):(0,e.jsx)(L.Z,{image:L.Z.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u672A\u9009\u62E9\u8BFE\u7A0B",style:{margin:"200px auto"}})})})},"1"),(0,e.jsx)(U,{tab:"\u5546\u54C1(".concat(i.length,")"),children:(0,e.jsx)("div",{className:"content",style:{marginLeft:-20},children:(0,e.jsx)("div",{className:"courseList",children:u.length>0?(0,e.jsx)(Y,{value:i,onChange:p,style:{width:"100%"},children:u.map(o=>(0,e.jsxs)("div",{className:"cardBox",children:[(0,e.jsx)(j.Z,{className:"checkBox",value:o.shopId}),(0,e.jsx)("div",{className:"coverBox",onClick:()=>m(o),style:{backgroundImage:"url(".concat(""+s.getShopCover(o),")")}}),(0,e.jsx)("div",{className:"descBox",onClick:()=>m(o),children:(0,e.jsx)("div",{className:"nameBox",children:o.shopName})})]},o.shopId))}):(0,e.jsx)(L.Z,{image:L.Z.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u672A\u9009\u62E9\u5546\u54C1",style:{margin:"200px auto"}})})})},"2"),(0,e.jsx)(U,{tab:"\u8D44\u8BAF(".concat(C.length,")"),children:(0,e.jsx)("div",{className:"content",style:{marginLeft:-20},children:(0,e.jsx)("div",{className:"courseList",children:g.length>0?(0,e.jsx)(Y,{value:C,onChange:I,style:{width:"100%"},children:g.map(o=>(0,e.jsxs)("div",{className:"cardBox",children:[(0,e.jsx)(j.Z,{className:"checkBox",value:o.infoID}),(0,e.jsx)("div",{className:"coverBox",onClick:()=>S(o),style:{backgroundImage:"url(".concat(""+s.getShopCover(o),")")}}),(0,e.jsx)("div",{className:"descBox",onClick:()=>S(o),children:(0,e.jsx)("div",{className:"nameBox",children:o.title})})]},o.infoID))}):(0,e.jsx)(L.Z,{image:L.Z.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u672A\u9009\u62E9\u5546\u54C1",style:{margin:"200px auto"}})})})},"3")]})}renderUnSelected(){var s=this,n=a=>{a=="2"&&(s.getClassifyList(),s.getShopList()),a=="3"&&(s.getInfoClassifyList(),s.getHomepageInfoList())};return(0,e.jsxs)(P.Z,{tabPosition:"left",onChange:n,children:[(0,e.jsx)(U,{tab:"\u8BFE\u7A0B",children:s.renderCourse()},"1"),(0,e.jsx)(U,{tab:"\u5546\u54C1",children:s.renderShop()},"2"),(0,e.jsx)(U,{tab:"\u8D44\u8BAF",children:s.renderInformation()},"3")]})}renderHerfModal(){var s=this,n=s.state,a=n.visibleHref,d=n.courseCheck,i=n.shopCheck,u=n.infoCheck,C=n.infoCheckItem,g=n.shopCheckItem,v=n.courseCheckItem,l=n.navList,p=n.recordIndex,m=()=>{l[p].courseCheck=d,l[p].shopCheck=i,l[p].infoCheck=u,l[p].coureData=s.coverCourseData(v),l[p].shopData=s.coverShopData(g),l[p].infoData=s.coverInfoData(C),s.setState({visibleHref:!1,navList:[...l]})},I=()=>{s.setState({visibleHref:!1})},S=o=>{o=="2"&&s.getSelectCourseList()};return(0,e.jsx)(M.Z,{title:"\u5173\u8054\u5185\u5BB9",visible:a,onOk:m,width:880,onCancel:I,maskClosable:!1,className:Z().contentModal,children:(0,e.jsxs)(P.Z,{centered:!0,onChange:S,children:[(0,e.jsx)(U,{tab:"\u9009\u62E9\u5185\u5BB9",const:!0,children:s.renderUnSelected()},"1"),(0,e.jsx)(U,{tab:"\u5DF2\u9009(".concat(d.length+i.length+u.length,")"),children:s.renderSelected()},"2")]})})}render(){var s=this,n=s.props,a=n.dispatch,d=n.commondesign,i=d.TabNav.callback,u=s.state,C=u.visible,g=u.showEdit,v=u.showSubEdit,l=u.navList,p=u.color,m=f=>{s.updataDomCallBack(l),i&&i(l),this.cancelEvent()},I=()=>{this.cancelEvent()},S=()=>{if(l.length>=5)return es.ZP.warning("\u5BFC\u822A\u4E0D\u80FD\u8D85\u8FC75\u4E2A"),!1;for(var f={},r=0,h=l.length;r<h;r++){var _=l[r];f["n"+_.nid]=!0}for(var A=l.length,z=0,ms=l.length;z<ms;z++)f["n"+z]||(A=z);this.setState({navList:[...l,{name:"\u5BFC\u822A\u540D\u79F0",subName:"\u526F\u6807\u9898",coureData:[],shopData:[],infoData:[],nid:A}]})},o=(f,r,h)=>{this.setState({showEdit:h})},y=(f,r,h)=>{l[h].name=f.target.value,this.setState({showEdit:99,navList:l})},k=(f,r,h)=>{this.setState({showSubEdit:h})},B=(f,r,h)=>{l[h].subName=f.target.value,this.setState({showSubEdit:99,navList:l})},b=f=>{var r=f.courseWareType+"",h=f.courseWareId,_="",A=!1;switch(r){case"1":A=!0;break;case"2":A=!0;break;case"3":A=!0;break;case"4":A=!0;break;case"5":A=!0;break;default:A=!1}return _=A?"/liveclass/wap/livecourse.html?cwid=".concat(h):"/views/wap/course_wap.html?cwid=".concat(h),_},t=(f,r,h)=>{s.setState({recordIndex:h,visibleHref:!0,courseCheck:r.courseCheck||[],shopCheck:r.shopCheck||[],infoCheck:r.infoCheck||[],courseCheckItem:r.coureData,shopCheckItem:r.shopData,infoCheckItem:r.infoData})},x=(f,r,h)=>{var _=l.splice(h,1)[0];l.splice(h-1,0,_),this.setState({navList:[...l]})},E=(f,r,h)=>{var _=l.splice(h,1)[0];l.splice(h+1,0,_),this.setState({navList:[...l]})},ns=(f,r,h)=>{l.splice(h,1),this.setState({navList:[...l]})},w=[{title:"\u6807\u7B7E\u540D\u79F0",key:"name",width:"15%",render:(f,r,h)=>(0,e.jsx)("span",{className:Z().hoverClick,children:g==h?(0,e.jsx)(ts.Z,{onBlur:_=>y(_,r,h),autoFocus:!0,defaultValue:r.name,maxLength:6}):(0,e.jsx)("span",{onClick:_=>o(_,r,h),children:(0,e.jsx)("span",{title:r.name,className:"name",children:r.name?r.name:"\u672A\u547D\u540D"})})})},{title:"\u526F\u6807\u9898",key:"subName",width:"20%",render:(f,r,h)=>(0,e.jsx)("span",{className:Z().hoverClick,children:v==h?(0,e.jsx)(ts.Z,{onBlur:_=>B(_,r,h),autoFocus:!0,defaultValue:r.subName,maxLength:6}):(0,e.jsx)("span",{onClick:_=>k(_,r,h),children:(0,e.jsx)("span",{title:r.subName,className:"name",children:r.subName?r.subName:"\u672A\u547D\u540D"})})})},{title:"\u8BFE\u7A0B\u6570",key:"coureData",render:(f,r,h)=>(0,e.jsx)("span",{className:Z().hoverClick,style:{padding:"0 15px"},children:r.coureData.length||0})},{title:"\u5546\u54C1\u6570",key:"shopData",render:(f,r,h)=>(0,e.jsx)("span",{className:Z().hoverClick,style:{padding:"0 15px"},children:r.shopData.length||0})},{title:"\u8D44\u8BAF\u6570",key:"infoData",render:(f,r,h)=>(0,e.jsx)("span",{className:Z().hoverClick,style:{padding:"0 15px"},children:r.infoData.length||0})},{title:"\u64CD\u4F5C",key:"action",render:(f,r,h)=>(0,e.jsxs)("div",{className:"actionBox",children:[(0,e.jsx)("a",{onClick:_=>t(_,r,h),children:"\u5173\u8054\u5185\u5BB9"}),(0,e.jsx)(N.Z,{type:"vertical"}),h!=0?(0,e.jsx)("a",{onClick:_=>x(_,r,h),children:"\u4E0A\u79FB"}):(0,e.jsx)("span",{className:"disabled",children:"\u4E0A\u79FB"}),(0,e.jsx)(N.Z,{type:"vertical"}),h!=l.length-1?(0,e.jsx)("a",{onClick:_=>E(_,r,h),children:"\u4E0B\u79FB"}):(0,e.jsx)("span",{className:"disabled",children:"\u4E0B\u79FB"}),(0,e.jsx)(N.Z,{type:"vertical"}),r.nid==0?(0,e.jsx)("span",{className:"disabled",children:"\u5220\u9664"}):(0,e.jsx)("a",{onClick:_=>ns(_,r,h),children:"\u5220\u9664"})]})}],V={value:p,style:{position:"absolute",top:2,left:110,width:85,height:28},onChange:f=>{this.setState({color:f})}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(M.Z,{title:"\u6807\u7B7E\u5BFC\u822A",visible:C,onOk:m,width:880,onCancel:I,maskClosable:!1,className:Z().hrefModal,children:(0,e.jsxs)("div",{className:"divRow",children:[(0,e.jsx)("div",{className:"headerBox",children:(0,e.jsx)(ss.Z,{type:"primary",onClick:S,className:"addBtn",children:"\u65B0\u589E\u5BFC\u822A\u9879"})}),(0,e.jsx)("div",{className:"content",style:{padding:"0 20px 20px"},children:(0,e.jsx)(q.Z,{rowKey:f=>f.nid,columns:w,dataSource:l,pagination:!1})})]})}),s.renderHerfModal()]})}})||us)}}]);
