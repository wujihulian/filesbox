(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[82196],{96278:function(x){x.exports={root:"root___7VXfh",colorWeak:"colorWeak___2fQ5G","ant-layout":"ant-layout___2lk2i",globalSpin:"globalSpin___3wjkL","ant-table":"ant-table___3MoMQ","ant-table-thead":"ant-table-thead___2F4eD","ant-table-tbody":"ant-table-tbody___1iFAX",formBox:"formBox___1MR6m",hrefModal:"hrefModal___GOUPi",shop:"shop___3KrmS"}},40600:function(x,T,t){"use strict";t.r(T),t.d(T,{default:function(){return J}});var Z=t(71194),F=t(50146),G=t(34792),S=t(48086),z=t(47673),R=t(4107),X=t(63185),w=t(9676),q=t(88983),m=t(47933),k=t(67294),N=t(49101),W=t(73218),K=t(28216),V=t(96278),Y=t.n(V),H=t(5283),ee=t.n(H),U=t(37406),e=t(85893),I,M,O=m.ZP.Group,se=w.Z.Group,te=R.Z.TextArea,J=(I=(0,K.$j)(j=>{var s=j.commondesign;return{commondesign:s}}),I(M=class extends k.PureComponent{constructor(){super(...arguments);this.state={visible:!1,list:[],marginLeft:0,play:!1,loop:!1,styleType:1,controls:!0},this.updataDomCallBack=s=>{var a=this,d=this.props.commondesign,n=d.Player,o=n.element,l=n.callback,h=n.callClose,p=d.designId,r=o.find(".box"),f=s;if(r.css({"background-image":"url("+f.list[0].src+")"}),f.styleType==2){var E='<div class="rightMenu">';f.list.map((v,C)=>{C?E+='<li><img src="'+v.src+'"><div class="title">'+v.courseWareName+'</div><div class="studyNum">'+v.popularityCount+"\u5B66\u4E60</div></li>":E+='<li class="on"><img src="'+v.src+'"><div class="title">'+v.courseWareName+'</div><div class="studyNum">'+v.popularityCount+"\u6B21\u5B66\u4E60</div></li>"}),E+="</div>",r.html(E)}else r.find(".rightMenu").remove();f.designId=p,o.attr("data-player",JSON.stringify(f))},this.show=s=>{s?(s=JSON.parse(s),this.setState({list:s.list,marginLeft:0,play:s.play,loop:s.loop||!1,controls:s.controls,styleType:s.styleType})):this.setState({list:[],marginLeft:0,play:!0,loop:!1,controls:!0,styleType:1})},this.renderStyle=()=>{var s=this.props.differenceType,a=this.state.styleType,d=n=>{n.target.classList[0]=="styleli"&&this.setState({styleType:n.target.dataset.type})};return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"label",children:"\u98CE\u683C\uFF1A"}),(0,e.jsxs)("div",{className:"content",onClick:d,children:[(0,e.jsx)("div",{className:"styleli single "+(a==1?"on":""),"data-type":1,children:"\u5355\u4E2A\u89C6\u9891"}),s==1&&(0,e.jsx)("div",{className:"styleli multiple "+(a==2?"on":""),"data-type":2,children:"\u591A\u4E2A\u89C6\u9891"})]})]})},this.renderSeletPictrue=()=>{var s=this,a=this.props,d=a.dispatch,n=a.differenceType,o=this.state,l=o.list,h=o.styleType,p=o.marginLeft,r=y=>{var i=this.refs.banliBox,A=i.currentStyle?i.currentStyle:window.getComputedStyle(i,null);if(parseInt(A.marginLeft)!=0){var c=parseInt(A.marginLeft)+733;c>0&&(c=0),this.setState({marginLeft:c}),i.style.marginLeft=c+"px"}},f=y=>{var i=this.refs.banliBox,A=i.currentStyle?i.currentStyle:window.getComputedStyle(i,null),c=733-i.offsetWidth;if(parseInt(i.style.marginLeft)!=c){var u=parseInt(A.marginLeft)-733;u<c&&(u=c),this.setState({marginLeft:u}),i.style.marginLeft=u+"px"}},E=p==0,v=p==733-l.length*148,C=()=>{var y=this.state.list;if(y.length>49)return S.ZP.error("\u89C6\u9891\u4E0D\u8D85\u8FC750\u4E2A"),!1;window.fileBoxApi.fileSelect({title:"\u9009\u62E9\u89C6\u9891",type:"file",single:!0,allowExt:"mp4,flv,rm,rmvb,avi,mkv,mov,f4v,mpeg,mpg,vob,wmv,ogv,webm,3gp,mts,m2ts,m4v,mpe,3g2,asf,dat,asx,wvx,mpa",callback:function(A){var c=A.data||{},u=c.selectIds.length?c.selectItems||[]:[],_=u[0];$.ajax({url:"/api/disk/preview?busType=cloud&sourceID=".concat(_.sourceID),method:"get",headers:{token:(0,U.ej)("token")},success:D=>{var B=D.success,Q=D.message,L=D.data,P=L===void 0?{}:L;B&&s.setState({list:[...y,{src:_.thumb||_.path,videoid:P.fileID,courseWareName:P.name,popularityCount:P.popularityCount||0,sourceId:P.sourceID,videoM3u8FileAddress:P.previewUrl}]})},error:D=>{var B=D.responseJSON,Q=B===void 0?{}:B}})}})},b=y=>{var i=[...l];i.splice(y,1),this.setState({list:i})},g=h==1?l.length>0?[l[0]]:[]:l;return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"label",children:g.length>0?n==1&&(0,e.jsxs)("div",{className:"timsg",style:{right:"-832",bottom:"-14"},children:["\u5DF2\u6DFB\u52A0 ",g.length," \u4E2A\u89C6\u9891\uFF0C( \u663E\u793A\u65F6\u89C6\u9891\u5217\u8868\u4E0D\u8D85\u8FC750\u4E2A )\u3002"]}):""}),(0,e.jsxs)("div",{className:"banContent",children:[g.length>5?(0,e.jsx)("div",{className:"leftBtn "+(E?"disabled":""),onClick:r}):"",(0,e.jsxs)("div",{className:"bannerBox",children:[(0,e.jsx)("div",{className:"add banli",onClick:C,style:g.length==0?{width:875}:h==1?{display:"none"}:{},children:(0,e.jsx)(N.Z,{})}),(0,e.jsx)("div",{className:"banul",children:(0,e.jsx)("div",{className:"banliBox",style:{width:g.length*148},ref:"banliBox",children:g.map((y,i)=>(0,e.jsxs)("div",{className:"banli",children:[(0,e.jsx)("img",{src:y.src}),(0,e.jsx)("div",{className:"close",onClick:A=>b(i),children:(0,e.jsx)(W.Z,{})})]},i))})})]}),g.length>5?(0,e.jsx)("div",{className:"rightBtn "+(v?"disabled":""),onClick:f}):""]})]})},this.renderSetting=()=>{var s=this.props.differenceType,a=this.state,d=a.play,n=a.loop,o=a.controls,l=r=>{this.setState({play:r.target.value})},h=r=>{this.setState({loop:r.target.value})},p=r=>{this.setState({controls:r.target.value})};return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"label",children:"\u64AD\u653E\uFF1A"}),(0,e.jsxs)("div",{className:"content",children:[(0,e.jsxs)(O,{onChange:l,value:d,style:{float:"left",width:260},children:[(0,e.jsx)(m.ZP,{value:!1,children:"\u70B9\u51FB\u64AD\u653E"}),(0,e.jsx)(m.ZP,{value:!0,children:"\u81EA\u52A8\u64AD\u653E"})]}),(0,e.jsxs)(O,{onChange:h,value:n,style:{float:"left",width:260},children:[(0,e.jsx)(m.ZP,{value:!1,children:"\u5355\u6B21\u64AD\u653E"}),(0,e.jsx)(m.ZP,{value:!0,children:"\u5FAA\u73AF\u64AD\u653E"})]})]}),(0,e.jsx)("div",{className:"label",children:"\u64AD\u653E\u63A7\u4EF6\uFF1A"}),(0,e.jsx)("div",{className:"content",children:(0,e.jsxs)(O,{onChange:p,value:o,style:{float:"left",width:260},children:[(0,e.jsx)(m.ZP,{value:!1,children:"\u5173\u95ED"}),(0,e.jsx)(m.ZP,{value:!0,children:"\u663E\u793A"})]})})]})},this.cancelEvent=()=>{var s=this,a=this.props.dispatch;a({type:"commondesign/setState",payload:{Player:{visible:!1,callback:()=>{},callClose:()=>{}}}})}}componentDidMount(){var s=this.props.commondesign,a=s.Player,d=a.visible,n=a.element,o=a.callback,l=a.callClose;this.setState({visible:d});var h=n.attr("data-player");this.show(h)}render(){var s=this,a=this.props,d=a.commondesign,n=a.differenceType,o=d.Player.callback,l=this.state,h=l.visible,p=l.list,r=l.loop,f=l.styleType,E=l.checkedList,v=l.play,C=l.controls,b=l.playTime,g=l.changeTime,y=l.adapt,i=u=>{s.cancelEvent()},A=u=>{if(p.length>0){this.setState({visible:!1});var _={list:p,styleType:f,play:v,loop:r,controls:C};s.updataDomCallBack(_),o&&o(_),s.cancelEvent()}else S.ZP.error("\u8BF7\u6DFB\u52A0\u89C6\u9891")},c=u=>{this.setState({type:u})};return(0,e.jsx)(F.Z,{title:"\u64AD\u653E\u5668",visible:h,onOk:A,width:1e3,onCancel:i,maskClosable:!1,className:Y().hrefModal,children:(0,e.jsxs)("div",{className:"divRow",children:[this.renderStyle(),this.renderSeletPictrue(),n==1&&this.renderSetting()]})})}})||M)},5283:function(x){x.exports="data:image/png;base64,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"}}]);
