(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[56691],{76734:function(B){B.exports={newColorPicker:"newColorPicker___2va38"}},12411:function(B){B.exports={root:"root___KYd1C",colorWeak:"colorWeak___yWXcj","ant-layout":"ant-layout___3GA7m",globalSpin:"globalSpin___3bl11","ant-table":"ant-table___3x651","ant-table-thead":"ant-table-thead___25GLc","ant-table-tbody":"ant-table-tbody___Y5-zl",formBox:"formBox___1qqu6",hrefModal:"hrefModal___yPVpP"}},96328:function(B,T,s){"use strict";var X=s(67294),W=s(79941),G=s(53390),I=s(76734),J=s.n(I),C=s(85893);function Q(m){var c=m.offsetTop;return m.offsetParent!=null&&(c+=Q(m.offsetParent)),c}function U(m){var c=m.offsetLeft;return m.offsetParent!=null&&(c+=U(m.offsetParent)),c}class V extends X.Component{constructor(){super(...arguments);this.state={displayColorPicker:!1,pageX:0,pageY:0},this.handleClick=c=>{var f=this.props.cssData,x=f===void 0?{devX:0,devY:0}:f,D=x.devX,S=x.devY;this.first=!0;var E=root.clientWidth,A=root.clientHeight,u=$(c.target),i=u.offset().left+D,O=u.offset().top+u.outerHeight()+5+S;i+220>E&&(i=E-220),O+333>A&&(O=A-333),this.setState({displayColorPicker:!this.state.displayColorPicker,pageX:i,pageY:O})},this.handleClear=()=>{var c=this.props.onChange,f=c===void 0?x=>{}:c;this.setState({displayColorPicker:!1,scrollTop:0}),f("transparent")},this.handleClose=()=>{this.setState({displayColorPicker:!1,scrollTop:0})}}render(){var c=this.props,f=c.className,x=f===void 0?"colorPicker":f,D=c.onChange,S=D===void 0?_=>{}:D,E=c.value,A=E===void 0?"#000000":E,u=c.style,i=this.state,O=i.pageX,L=i.pageY,K=_=>{_.rgb.a<1&&!(this.first&&_.rgb.a==0)?S("rgba(".concat(_.rgb.r,", ").concat(_.rgb.g,", ").concat(_.rgb.b,", ").concat(_.rgb.a,")")):S(_.hex),this.first=!1},P=(0,W.ZP)({default:{color:{height:"100%",borderRadius:"2px",background:A},colorBox:{height:"100%",borderRadius:"2px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==")'},swatch:{width:"100%",height:"100%",padding:"2px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"fixed",zIndex:"101",background:"#ccc",top:L,left:O},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},clearBtn:{position:"absolute",bottom:"10px",height:"18px",lineHeight:"18px",right:"8px",zIndex:1,fontSize:"12px",cursor:"pointer"}}});return(0,C.jsxs)("div",{style:u,className:x+" "+J().newColorPicker,children:[(0,C.jsx)("div",{style:P.swatch,onClick:this.handleClick,children:(0,C.jsx)("div",{style:P.colorBox,children:(0,C.jsx)("div",{style:P.color})})}),this.state.displayColorPicker?(0,C.jsxs)("div",{style:P.popover,children:[(0,C.jsx)("div",{style:P.clearBtn,onClick:this.handleClear,children:"\u6E05\u7A7A"}),(0,C.jsx)("div",{style:P.cover,onClick:this.handleClose}),(0,C.jsx)(G.xS,{color:A,onChange:K})]}):null]})}}T.Z=V},17004:function(B,T,s){"use strict";s.r(T),s.d(T,{default:function(){return nt}});var X=s(71194),W=s(50146),G=s(48736),I=s(27049),J=s(34792),C=s(48086),Q=s(66456),U=s(5322),V=s(57663),m=s(71577),c=s(47673),f=s(4107),x=s(77883),D=s(85986),S=s(13062),E=s(71230),A=s(89032),u=s(15746),i=s(11849),O=s(43358),L=s(34041),K=s(67294),P=s(28216),_=s(96328),ot=s(12411),lt=s.n(ot),it=s(41273),t=s(85893),w,q,nt=(w=(0,P.$j)(tt=>{var a=tt.commondesign;return{commondesign:a}}),w(q=class extends K.PureComponent{constructor(){super(...arguments);this.state={visible:!1,dataSource:[{name:"\u6807\u7B7E"}],tabPosition:"left",hColor:"#1890ff",hbColor:"#e6f7ff",sColor:"#1890ff",sSize:3,sPosition:"left",editIndex:null},this.show=a=>{a?(a=JSON.parse(a),this.setState({visible:!0,tabPosition:a.tabPosition,hColor:a.hColor,hbColor:a.hbColor,sColor:a.sColor,sSize:a.sSize,sPosition:a.sPosition})):this.setState({visible:!0,tabPosition:"left",hColor:"#1890ff",hbColor:"#e6f7ff",sColor:"#1890ff",sSize:3,sPosition:"left"})},this.updataDomCallBack=(a,o)=>{var l=this,v=this.props.commondesign,r=v.TabsNav,e=r.element,h=r.callback,p=r.callClose,n=a.tabPosition,d=a.hColor,b=a.hbColor,y=a.sColor,N=a.sSize,Z=a.sPosition,M=e.attr("data-mid"),k=e.find(">.dl-tabs-nav"),R=e.find("> .dl-tabs-content"),j=R.find(">.ant-tabs-tabpane");e.attr("data-tabposition",n);var z="tabnav".concat(M);$("#"+z).length<1&&e.append('<style id="'.concat(z,'"> </style>'));var at=`
      .module[data-mid=`.concat(M,`] > .dl-tabs-nav .dl-tabs-tab-active{
        color: `).concat(d,`;
        background-color: `).concat(b,`;
        border-`).concat(Z,": ").concat(N,"px solid ").concat(y,`;
      }
      `);console.log("styleHtml",at),$("#"+z).text(at);var F="",Y="";o.forEach((et,g)=>{l.onIndex==g?(F+='<div class="dl-tabs-tab dl-tabs-tab-active" key="'+g+'">'+et.name+"</div>",Y+='<div class="ant-tabs-tabpane" data-type="container" key="'+g+'">'+j.eq(g).html()+"</div>"):(F+='<div class="dl-tabs-tab" key="'+g+'">'+et.name+"</div>",Y+='<div class="ant-tabs-tabpane" data-type="container" key="'+g+'" style="display: none;">'+(j.eq(g).html()||"")+"</div>")}),k.html(F),R.html(Y);var H="scr".concat(M),st="";$("#"+H).length<1&&e.append('<script id="'.concat(H,'"> </script>')),st+=`
      ;(function () {
        var element = $('.module[data-mid=`.concat(M,`]')
        var tabsNav = element.find('> .dl-tabs-nav')
        var tabsContent = element.find('> .dl-tabs-content')
        var tabsTabpane = tabsContent.find('>.ant-tabs-tabpane')
        tabsNav.on('click', '.dl-tabs-tab', function () {
          tabsNav.find('.dl-tabs-tab-active').removeClass('dl-tabs-tab-active')
          $(this).addClass('dl-tabs-tab-active')
          tabsTabpane.hide()
          tabsTabpane.eq($(this).attr('key')).show()
        })
      })()`),$("#"+H).text(st),e.attr("data-tabsdata",JSON.stringify(a))},this.cancelEvent=()=>{var a=this,o=this.props.dispatch;o({type:"commondesign/setState",payload:{TabsNav:{visible:!1,callback:()=>{},callClose:()=>{}}}})}}componentDidMount(){var a=this,o=this.props.commondesign,l=o.TabsNav,v=l.visible,r=l.element,e=l.callback,h=l.callClose,p=r.find(">.dl-tabs-nav .dl-tabs-tab"),n=[];p.each(b=>{var y=p.eq(b);y.hasClass("dl-tabs-tab-active")&&(a.onIndex=b),n.push({name:y.text(),key:b})}),this.setState({visible:v,dataSource:n});var d=r.attr("data-tabsdata");this.show(d)}renderStyle(){var a=this.state,o=a.tabPosition,l=a.sPosition,v=["top","bottom"],r={style:{width:120},value:o,onChange:e=>{var h=v.indexOf(e)>-1;this.setState({tabPosition:e,sPosition:h==v.indexOf(l)>-1?l:h?e=="top"?"bottom":"top":e=="left"?"right":"left"})}};return(0,t.jsx)("div",{className:"content",style:{marginTop:-28,paddingLeft:80},children:(0,t.jsxs)(L.Z,(0,i.Z)((0,i.Z)({},r),{},{children:[(0,t.jsx)(Option,{value:"left",children:"\u5DE6\u4FA7"},"left"),(0,t.jsx)(Option,{value:"right",children:"\u53F3\u4FA7"},"right"),(0,t.jsx)(Option,{value:"top",children:"\u9876\u90E8"},"top"),(0,t.jsx)(Option,{value:"bottom",children:"\u5E95\u90E8"},"bottom")]}))})}renderColor(){var a=this,o=this.state,l=o.hColor,v=o.hbColor,r={value:l,style:{float:"left",width:28,height:28},onChange:h=>{a.setState({hColor:h})}},e={value:v,style:{float:"left",width:28,height:28},onChange:h=>{a.setState({hbColor:h})}};return(0,t.jsx)("div",{className:"content",children:(0,t.jsxs)(E.Z,{children:[(0,t.jsxs)(u.Z,{children:[(0,t.jsx)("div",{className:"labelBox",children:"\u5B57\u8272"}),(0,t.jsx)(_.Z,(0,i.Z)({},r))]}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)("div",{className:"labelBox",children:"\u80CC\u666F"}),(0,t.jsx)(_.Z,(0,i.Z)({},e))]})]})})}renderSlide(){var a=this.state,o=a.sColor,l=a.sSize,v=a.sPosition,r=a.tabPosition,e=[{value:"left",name:"\u5DE6\u4FA7"},{value:"right",name:"\u53F3\u4FA7"}];(r=="top"||r=="bottom")&&(e=[{value:"top",name:"\u9876\u90E8"},{value:"bottom",name:"\u5E95\u90E8"}]);var h={value:o,style:{float:"left",width:28,height:28},onChange:d=>{this.setState({sColor:d})}},p={value:l,max:10,min:0,style:{width:120},onChange:d=>{this.setState({sSize:d})}},n={value:v,style:{width:120},onChange:d=>{console.log("attrSPosition value",d),this.setState({sPosition:d})}};return(0,t.jsx)("div",{className:"content",children:(0,t.jsxs)(E.Z,{children:[(0,t.jsxs)(u.Z,{children:[(0,t.jsx)("div",{className:"labelBox",children:"\u989C\u8272"}),(0,t.jsx)(_.Z,(0,i.Z)({},h))]}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)("div",{className:"labelBox",children:"\u5BBD\u5EA6"}),(0,t.jsx)(D.Z,(0,i.Z)({},p))]}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)("div",{className:"labelBox",children:"\u4F4D\u7F6E"}),(0,t.jsx)(L.Z,(0,i.Z)((0,i.Z)({},n),{},{children:e.map(d=>(0,t.jsx)(Option,{value:d.value,children:d.name},d.value))}))]})]})})}renderTableList(){var a=this.state,o=a.dataSource,l=a.editIndex,v=n=>{o.splice(n,1),this.setState({dataSource:[...o]})},r=n=>{this.setState({editIndex:n})},e={value:o[l]?o[l].name:"",onChange:n=>{n.target.value.length<10&&(o[l].name=n.target.value,this.setState({dataSource:[...o]}))},onBlur:()=>{o[l].name.trim()?this.setState({editIndex:null}):(o[l].name="\u6807\u7B7E",this.setState({dataSource:[...o],editIndex:null}))}},h=[{title:"\u6807\u7B7E\u540D\u79F0",dataIndex:"name",key:"name",width:"85%",render:(n,d,b)=>(0,t.jsx)("span",{children:l==b?(0,t.jsx)(f.Z,(0,i.Z)({},e)):(0,t.jsx)("span",{onClick:()=>r(b),style:{cursor:"pointer"},children:n})})},{title:"\u64CD\u4F5C",key:"operation",render:(n,d,b)=>(0,t.jsx)("span",{children:(0,t.jsx)("a",{onClick:()=>v(b),children:"\u5220\u9664"})})}],p={style:{position:"absolute",top:-26,left:40},type:"link",size:"small",onClick:()=>{this.setState({dataSource:[...o,{name:"\u6807\u7B7E",key:Date.now()}]})}};return(0,t.jsxs)("div",{className:"content",style:{paddingLeft:0,position:"relative"},children:[(0,t.jsx)(m.Z,(0,i.Z)((0,i.Z)({},p),{},{children:"\u6DFB\u52A0\u6807\u7B7E"})),(0,t.jsx)(U.Z,{rowKey:n=>n.key,columns:h,dataSource:o,pagination:!1})]})}render(){var a=this,o=this.props,l=o.commondesign,v=o.dispatch,r=l.TabsNav.callback,e=this.state,h=e.visible,p=e.dataSource,n=e.tabPosition,d=e.hColor,b=e.hbColor,y=e.sColor,N=e.sSize,Z=e.sPosition,M=R=>{a.cancelEvent()},k=R=>{if(p.length>0){var j={tabPosition:n,hColor:d,hbColor:b,sColor:y,sSize:N,sPosition:Z};a.updataDomCallBack(j,p),r&&r(j),a.cancelEvent()}else C.ZP.error("\u8BF7\u6DFB\u52A0\u6807\u7B7E\u9875")};return(0,t.jsx)(W.Z,{title:"\u6807\u7B7E\u9875",visible:h,onOk:k,width:520,onCancel:M,maskClosable:!1,className:lt().hrefModal,children:(0,t.jsxs)("div",{className:"divRow",children:[(0,t.jsx)("div",{className:"label",style:{marginBottom:0},children:"\u9875\u7B7E\u4F4D\u7F6E\uFF1A"}),this.renderStyle(),(0,t.jsx)(I.Z,{}),(0,t.jsx)("div",{className:"label",style:{marginBottom:0},children:"\u9009\u4E2D\u9879\uFF1A"}),this.renderColor(),(0,t.jsx)("div",{className:"label",style:{marginBottom:0},children:"\u6ED1\u52A8\u5757\uFF1A"}),this.renderSlide(),(0,t.jsx)(I.Z,{}),(0,t.jsx)("div",{className:"label",style:{marginBottom:0},children:"\u9875\u7B7E\uFF1A"}),this.renderTableList()]})})}})||q)}}]);
