(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1996],{19273:function(v,m,e){"use strict";e.d(m,{Z:function(){return D}});function D(c){if(c==null)throw new TypeError("Cannot destructure undefined")}},64787:function(v){v.exports={toolResultMax:"toolResultMax___1si5Y"}},1996:function(v,m,e){"use strict";e.r(m);var D=e(13062),c=e(71230),ee=e(89032),u=e(15746),te=e(57663),M=e(71577),ae=e(34792),x=e(48086),C=e(2824),B=e(19273),ne=e(47673),h=e(4107),I=e(67294),g=e(30672),A=e(30381),O=e.n(A),R=e(20640),y=e.n(R),T=e(84059),j=e(34895),L=e(64787),U=e.n(L),a=e(85893),K=h.Z.TextArea,W=l=>{var Z=l.name,r=l.icon,_=l.resultContent,b=l.open,p=l.issmall,Y=l.setOpenModel,S=l.showIndex,s=(0,g.YB)(),F=(0,g.v9)(t=>t.common);(0,B.Z)(F);var N=(0,I.useState)(100),P=(0,C.Z)(N,2),z=P[0],H=P[1],G=t=>{var n=/data:(image\/.+);base64,/,o="",d,E,i,f;for(d=t.replace(n,function(se,q){return o=q,""}),d=atob(d),f=d.length,E=new Uint8Array(f),i=0;i<f;i+=1)E[i]=d.charCodeAt(i);return new Blob([E],{type:o})},Q=()=>{var t=document.getElementById("qrcodeDom"),n=new Image;n.src=t==null?void 0:t.toDataURL("image/png"),n.name="qrcode";var o=document.getElementById("downloadDom");o.href=n.src,o.setAttribute("download","qrcode.png")},w=()=>{if(!!_){var t=document.getElementById("qrcodeDom"),n=new Image;n.src=t==null?void 0:t.toDataURL("image/png");var o=G(n.src);fileBoxApi.fileSelect({title:s.formatMessage({id:"explorer.selectFolder",defaultMessage:"\u9009\u62E9\u6587\u4EF6\u5939"}),type:"folder",fileName:"Qrcode_".concat(O()().format("YYYYMMDD_HHmmss")),uploadFileBlob:o,callback:function(E){}})}},k=t=>{!t||(y()(t,{debug:!0,message:s.formatMessage({id:"information-copyManually",defaultMessage:"\u8BF7\u624B\u52A8\u590D\u5236"})}),x.ZP.success(s.formatMessage({id:"information-copySuccess",defaultMessage:"\u590D\u5236\u6210\u529F"})))},J=()=>{!_||fileBoxApi.fileSelect({title:s.formatMessage({id:"explorer.selectFolder",defaultMessage:"\u9009\u62E9\u6587\u4EF6\u5939"}),type:"folder",fileName:"Qrcode_".concat(O()().format("YYYYMMDD_HHmmss")),fileContent:_,callback:function(n){}})},V=()=>{var t=(0,a.jsx)("div",{});return r=="identify_qr"?t=(0,a.jsx)("div",{className:"flexBox",children:(0,a.jsx)(T.ZP,{id:"qrcodeDom",size:200,value:_})}):r=="generate_qr"&&(t=(0,a.jsx)(K,{readOnly:!0,value:_,style:{height:"100%",resize:"none"}})),t},X=()=>{var t=(0,a.jsx)(a.Fragment,{});return r=="identify_qr"?t=(0,a.jsxs)(c.Z,{gutter:[20,10],children:[(0,a.jsx)(u.Z,{flex:1,children:(0,a.jsx)(M.Z,{block:!0,size:"large",onClick:w,children:s.formatMessage({id:"common.savepic",defaultMessage:"\u4FDD\u5B58\u56FE\u7247"})})}),(0,a.jsx)(u.Z,{flex:1,children:(0,a.jsx)(M.Z,{block:!0,size:"large",onClick:Q,children:(0,a.jsx)("a",{id:"downloadDom",children:s.formatMessage({id:"common.downloadPic",defaultMessage:"\u4E0B\u8F7D\u56FE\u7247"})})})})]}):r=="generate_qr"&&(t=(0,a.jsxs)(c.Z,{gutter:[20,10],children:[(0,a.jsx)(u.Z,{flex:1,children:(0,a.jsx)(M.Z,{block:!0,size:"large",onClick:()=>k(_),children:s.formatMessage({id:"common.copyText",defaultMessage:"\u590D\u5236\u6587\u672C"})})}),(0,a.jsx)(u.Z,{flex:1,children:(0,a.jsx)(M.Z,{block:!0,size:"large",onClick:J,children:s.formatMessage({id:"common.saveFile",defaultMessage:"\u4FDD\u5B58\u6587\u4EF6"})})})]})),t},$=()=>{var t=(0,a.jsx)(a.Fragment,{});return(r=="identify_qr"||r=="generate_qr")&&(t=(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("div",{className:"main",children:V()}),(0,a.jsx)("div",{className:"btm",children:X()})]})),t};return(0,a.jsx)(j.Z,{type:"toolResult",title:Z,open:b,issmall:p,showIndex:S,modelZindex:z,setOpenModel:Y,setModelZindex:H,children:(0,a.jsx)("div",{className:U().toolResultMax,children:$()})})};m.default=W}}]);
