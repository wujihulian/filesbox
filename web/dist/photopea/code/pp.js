(function(){function _r(){this.ZN={},this.MQ={}}_r.oP=[],_r.HE=function(t){var i=_r.oP;if(i.length!=0)for(var e=new z(y.E.El),r=0;r<i.length;r++)i[r].w(e);window.requestAnimationFrame(_r.HE)},window.requestAnimationFrame(_r.HE),_r.prototype.IP=function(t){var i=this.ZN[t];return i==null?!1:i.length>0},_r.prototype.addEventListener=function(t,i){this.$(t,i,null)},_r.prototype.$=function(t,i,e){if(this.ZN[t]==null&&(this.ZN[t]=[],this.MQ[t]=[]),this.ZN[t].push(i),this.MQ[t].push(e),t==y.E.El){var r=_r.oP;r.indexOf(this)==-1&&r.push(this)}},_r.prototype.removeEventListener=function(t,i){var e=this.ZN[t];if(e!=null){var r=e.indexOf(i);if(!(r<0)){var n=this.MQ[t];if(e.splice(r,1),n.splice(r,1),t==y.E.El&&e.length==0){var a=_r.oP;a.splice(a.indexOf(this),1)}}}},_r.prototype.w=function(t){t.currentTarget=this,t.target==null&&(t.target=this);var i=this.ZN[t.type];if(i!=null)for(var e=this.MQ[t.type],r=0;r<i.length;r++)e[r]==null?i[r](t):i[r].call(e[r],t)};function W(){this.cZ={},this.v5=0}W.prototype.reset=function(){this.cZ={},this.v5=0},W.prototype.es=function(t){this.v5++,this.cZ[t]=!0},W.prototype.Y9=function(t){this.v5--,delete this.cZ[t],(this.v5<=0||W.be(t,W.gV))&&this.reset()},W.prototype.s=function(t){for(var i=0;i<t.aJ.length;i++)if(this.cZ[t.aJ[i]])return!0;return!1},W.prototype.Ef=function(){var t=this,i=t.s(W.cm)?10:1,e=0,r=0;return t.s(W.Nf)&&(e=-i),t.s(W.rc)&&(e=i),t.s(W.DY)&&(r=-i),t.s(W.yF)&&(r=i),new st(e,r)},W.prototype.gL=function(){for(var t=this,i=W.Ed,e=0;e<10;e++)if(t.s(i[e]))return e;return-1},W.be=function(t,i){return i.aJ.indexOf(t)!=-1},W.iX=function(t){var i=t.code,e=!1;if(i=="")return!1;for(var r=W.be,n=W.Ed.concat([W.Kh,W.lY,W.VR,W.nH]),a=0;a<n.length;a++)r(i,n[a])&&(e=!0);return t.altKey&&!t.shiftKey&&!t.ctrlKey&&e?!1:W.DL.indexOf(i)==-1||t.shiftKey&&(i=="F5"||i=="F6")},W.a7p=function(t){var i=t.code;return i!=""&&(W.DL.indexOf(i)==-1||t.shiftKey&&(i=="F5"||i=="F6"))},W.u0=function(t){if(typeof t=="string")return t;var i=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(t==null)return"";for(var e=[],r=0;r<t.length;r++){var n=t[r].Bj?t[r].Bj:t[r];i&&t[r].iu&&(n=t[r].iu),e.push(n)}if(i||e.length==1)return e.join(" + ");var a=e.pop();return e.join("+")+" + "+a},W.DL="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" "),W.RF=function(t){var i={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},e=t.code,r=t.key.toLowerCase(),n=r.charCodeAt(0);if(r.length==1)if(97<=n&&n<=122){var a="Key"+r.toUpperCase();e=a}else i[r]&&(e=i[r]);return e},W.Xr={Bj:"Enter",aJ:["Enter","NumpadEnter"]},W.cm={Bj:"Shift",iu:"\u21E7",aJ:["ShiftLeft","ShiftRight"]},W.gV={Bj:"Meta",aJ:["MetaLeft","MetaRight","OSLeft","OSRight"]},W.Bl={Bj:"Ctrl",iu:"\u2318",aJ:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")},W.ze={Bj:"Alt",iu:"\u2325",aJ:["AltLeft","AltRight"]},W.aj4={Bj:"CtrlOrAlt",aJ:W.Bl.aJ.concat(W.ze.aJ)},W.yc={Bj:"Escape",aJ:["Escape"]},W.fd={Bj:"Space",aJ:["Space"]},W.gP={Bj:"Tab",aJ:["Tab"]},W.adv={Bj:"Home",aJ:["Home"]},W.agd={Bj:"End",aJ:["End"]},W.Nf={Bj:"Left",aJ:["ArrowLeft"]},W.DY={Bj:"Up",aJ:["ArrowUp"]},W.rc={Bj:"Right",aJ:["ArrowRight"]},W.yF={Bj:"Down",aJ:["ArrowDown"]},W.Kh={Bj:"+",aJ:["NumpadAdd","Equal"]},W.lY={Bj:"-",aJ:["NumpadSubtract","Minus","Slash"]},W.JS={Bj:";",aJ:["Semicolon"]},W.am9={Bj:"Dead",aJ:["Dead"]},W.aiO={Bj:"=",aJ:["Equal"]},W.Yp={Bj:"Backspace",aJ:["Backspace"]},W.Yk={Bj:"Delete",aJ:["Delete"]},W.ads={Bj:"Backslash",aJ:["Backslash","IntlBackslash"]},W.ajo={Bj:"Backquote",aJ:["Backquote"]},W.VR={Bj:"[",aJ:["BracketLeft"]},W.nH={Bj:"]",aJ:["BracketRight"]},W.Ua={Bj:".",aJ:["Period"]},W.a9s={Bj:",",aJ:["Comma"]},W.e7={Bj:"'",aJ:["Quote"]},W.B={Bj:"A",aJ:["KeyA"]},W.ZA={Bj:"B",aJ:["KeyB"]},W.qS={Bj:"C",aJ:["KeyC"]},W.fY={Bj:"D",aJ:["KeyD"]},W.E={Bj:"E",aJ:["KeyE"]},W.EH={Bj:"F",aJ:["KeyF"]},W.da={Bj:"G",aJ:["KeyG"]},W.Fm={Bj:"H",aJ:["KeyH"]},W.vu={Bj:"I",aJ:["KeyI"]},W.RH={Bj:"J",aJ:["KeyJ"]},W.zo={Bj:"K",aJ:["KeyK"]},W.Ov={Bj:"L",aJ:["KeyL"]},W.eO={Bj:"M",aJ:["KeyM"]},W.g8={Bj:"N",aJ:["KeyN"]},W.PW={Bj:"O",aJ:["KeyO"]},W.fi={Bj:"P",aJ:["KeyP"]},W.ae2={Bj:"Q",aJ:["KeyQ"]},W.YP={Bj:"R",aJ:["KeyR"]},W.Z7={Bj:"S",aJ:["KeyS"]},W.G={Bj:"T",aJ:["KeyT"]},W.B6={Bj:"U",aJ:["KeyU"]},W.fv={Bj:"V",aJ:["KeyV"]},W.gy={Bj:"W",aJ:["KeyW"]},W.ej={Bj:"X",aJ:["KeyX"]},W.a9M={Bj:"Y",aJ:["KeyY"]},W.HW={Bj:"Z",aJ:["KeyZ"]},W.p4={Bj:"0",aJ:["Numpad0","Digit0"]},W.Yd={Bj:"1",aJ:["Numpad1","Digit1"]},W.afW={Bj:"2",aJ:["Numpad2","Digit2"]},W.a14={Bj:"3",aJ:["Numpad3","Digit3"]},W.a4p={Bj:"4",aJ:["Numpad4","Digit4"]},W.a8a={Bj:"5",aJ:["Numpad5","Digit5"]},W.ack={Bj:"6",aJ:["Numpad6","Digit6"]},W.a6D={Bj:"7",aJ:["Numpad7","Digit7"]},W.a0$={Bj:"8",aJ:["Numpad8","Digit8"]},W.acf={Bj:"9",aJ:["Numpad9","Digit9"]},W.Ed=[W.p4,W.Yd,W.afW,W.a14,W.a4p,W.a8a,W.ack,W.a6D,W.a0$,W.acf],W.a3b={Bj:"F1",aJ:["F1"]},W.a8d={Bj:"F2",aJ:["F2"]},W.akI={Bj:"F3",aJ:["F3"]},W.abW={Bj:"FF",aJ:["F4"]},W.SS={Bj:"F5",aJ:["F5"]},W.a9K={Bj:"F6",aJ:["F6"]},W.abS={Bj:"F7",aJ:["F7"]},W.acV={Bj:"F8",aJ:["F8"]},W.ag_={Bj:"F9",aJ:["F9"]},W.afq={Bj:"F10",aJ:["F10"]},W.abE={Bj:"F11",aJ:["F11"]},W.ahl={Bj:"F12",aJ:["F12"]};function hi(){_r.call(this),this.QD={},this.PE={},this.bo=0,this._i={},this.Jj=0,hi.ZM=this}hi.prototype=new _r,hi.abY=function(t,i){for(var e=0,r=hi.yv;e<r.length&&(i>>>e&1)!=1;)e++;return(i==0||r[e][1]=="")&&((i&15)!=0&&hi.Ud(t,[33,126])>.7||i==0,e=0),r[e][1]},hi.Ut=120,hi.lH=20,hi.cols=16,hi.TF=function(t){var i=t.name.postScriptName;return i==null?null:i.replace(/ /g,"-")},hi.cv=function(t){for(var i=t.name,e=i.typoFamilyName?i.typoFamilyName:i.fontFamily,r=i.typoSubfamilyName?i.typoSubfamilyName:i.fontSubfamily,n=hi.a60,a=e.toLowerCase(),s=0;s<n.length;s++)if(n[s]!="roman"&&(a.endsWith(" "+n[s])||a.endsWith("-"+n[s]))){var l=e.length-n[s].length,h=e.slice(l);e=e.slice(0,l-1),h!=""&&(r=="Regular"||r==e+" Regular"?r=h:r=h+" "+r);break}for(var o="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(","),s=0;s<o.length;s++)if(e.startsWith(o[s])){var h=e.slice(o[s].length);e=o[s],(h.startsWith(" ")||h.startsWith("-"))&&(h=h.slice(1)),h!=""&&(r=="Regular"?r=h:r=h+" "+r);break}var f={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},u=f[hi.TF(t)];return u&&(r=u),[e,r]},hi.prototype.VV=function(t,i){if(this.QD[t])return this.QD[t];if(this.PE[t])return null;var e=null,r=this.Ij();if(r[t]!=null&&(e=r[t][5]),e==null){var n=hi.amC[t];if(n==null){var a="AlibabaPuHuiTi-Regular AlibabaPuHuiTi-Bold AlibabaPuHuiTi-Regular AlibabaPuHuiTi-Bold AlibabaPuHuiTi-Regular AlibabaPuHuiTi-Bold AlibabaSans-Italic AlibabaSans-BoldItalic".split(" "),s=t.toLowerCase(),l=0;s.indexOf("sans")!=-1?l=0:s.indexOf("serif")!=-1&&(l=4);var h=s.indexOf("bold")!=-1||s.indexOf("-black")!=-1,o=s.indexOf("italic")!=-1||s.indexOf("oblique")!=-1||s.endsWith("-it");h&&o?l+=3:o?l+=2:h&&(l+=1),n=a[l]}if(i!=null&&i>128&&(n=this.Jd(i,n)),this._i[t]==null){this._i[t]=1;var f=Date.now()-this.bo>2e3?2e3:0;this.bo=Date.now(),alert(t+" \u27A1 "+n,f)}return this.VV(n,i)}this.PE[t]="a";var u=new z(y.E.L,!0);u.data={e:y.B.JX,S9:{url:""+e}},this.w(u)},hi.prototype.Jd=function(t,i,e){var r=this.QD[i];if(r&&Typr.U.codeToGlyph(r,t)!=0)return i;var n=this.Ij(),a=hi.aha(t),s=a[0];if(n[i]&&(n[i][3]&s)==0){if(e)for(var l=0;l<e.length;l++){var o=e[l].Name,h=n[o];if(h&&(h[3]&s)!=0)return o}var o=hi.yv[a[1]][4];if(n[o])return o}return i},hi.aha=function(t){for(var i=hi.yv,e=[0],r=0;r<i.length;r++)for(var n=i[r][2],a=0;a<n.length;a+=2)n[a]<=t&&t<=n[a+1]&&(e[0]+=1<<r,e.push(r));return e.length==1&&e.push(0),e},hi.prototype.a3t=function(t,i){if(i!=!0){var e=Date.now()-this.Jj>2e3?2e3:0;this.Jj=Date.now(),alert(Lt.get([22,6,0])+" "+t.name.fullName+" "+Lt.get([23,0])+".",e)}var r=hi.TF(t),n=this.Ij(),a=n[r],s=hi.ahZ(t);if(a==null){var l=document.createElement("canvas"),h=l.getContext("2d");l.width=hi.Ut,l.height=hi.lH;var o=hi.lH*1.2/t.head.unitsPerEm;h.translate(4,hi.lH*.9),h.scale(o,-o),h.fillStyle="#000000";var f=Typr.U.shape(t,hi.abY(t,s[3]),!0);Typr.U.pathToContext(Typr.U.shapeToPath(t,f),h),h.fill(),s.U6=l.toDataURL(),this.v3(s)}delete this.PE[r],this.QD[r]=t},hi.agu=function(){for(var t=hi.yv,i=[],e=0;e<t.length;e++)i.push(t[e][0]);return i},hi.yv=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"AlibabaPuHuiTi-Regular"],["Latin Ext. A","",[256,383],.7,"AlibabaPuHuiTi-Regular"],["Greek","",[913,929,931,969],.7,"AlibabaPuHuiTi-Regular"],["Cyrillic","",[1040,1119],.7,"AlibabaPuHuiTi-Regular"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"AlibabaPuHuiTi-Regular"],["Arabic","",[1569,1594,1600,1749],.4,"AlibabaPuHuiTi-Regular"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"AlibabaPuHuiTi-Regular"]],hi.ahZ=function(t,i,e){var r=t.name,n=0;if(hi.TF(t)==null)throw console.log(t),"No postScriptName!";for(var a=hi.yv,s=[],l=0;l<a.length;l++){var h=a[l][2],o=a[l][3];s[l]=hi.Ud(t,h)>o?1:0}for(var l=0;l<s.length;l++)n+=s[l]<<l;var f=hi.cv(t);return[f[0],f[1],hi.TF(t),n,e,i]},hi.Ud=function(t,i){for(var e=0,r=0,n=0;n<i.length;n+=2)for(var a=i[n];a<=i[n+1];a++){var s=Typr.U.codeToGlyph(t,a);s==0?r++:e++}return e/(e+r)},hi.a3f=function(t,i){return t[2]<i[2]?-1:t[2]>i[2]?1:0},hi.aiY=function(t,i){return t[5]=="fs/"+t[2]+".otf"?t[5]="":t[5]=="gf/"+t[2]+".otf"&&(t[5]="a"),t[2]==(t[0]+"-"+t[1]).replace(/\s/g,"")?t[2]="":t[2]==t[0].replace(/\s/g,"")&&(t[2]="a"),i&&(t[0]==i[0]&&(t[0]=""),t[1]==i[1]&&(t[1]=""),t[3]==i[3]&&(t[3]=""),t[4]==i[4]&&(t[4]="")),t.join(",")},hi.ali=function(t,i){return t=t.split(","),t[0]==""&&(t[0]=i[0]),t[1]==""&&(t[1]=i[1]),t[3]==""?t[3]=i[3]:t[3]=parseInt(t[3]),t[4]==""?t[4]=i[4]:t[4]=parseInt(t[4]),t[2]==""?t[2]=(t[0]+"-"+t[1]).replace(/\s/g,""):t[2]=="a"&&(t[2]=t[0].replace(/\s/g,"")),t[5]==""?t[5]="fs/"+t[2]+".otf":t[5]=="a"&&(t[5]="gf/"+t[2]+".otf"),t},hi.amC={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"AlibabaPuHuiTi-Regular","Verdana-Bold":"AlibabaPuHuiTi-Bold","Verdana-Italic":"AlibabaPuHuiTi-Regular","Verdana-BoldItalic":"AlibabaPuHuiTi-Bold","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""},hi.prototype.Ij=function(){if(FNTS.map==null)for(var t=FNTS.list,i=[],e=0;e<t.length;e++)i[e]=hi.ali(t[e],i[e-1]),i[e].XN=e,this.v3(i[e]);return FNTS.map},hi.prototype.v3=function(t){var i=t[0],e=t[1],r=t[5];FNTS.map==null&&(FNTS.map={}),FNTS.map[t[2]]=t,FNTS.mapFS==null&&(FNTS.mapFS={});var n=FNTS.mapFS[i+"---"+e];FNTS.mapFS[i+"---"+e]=t,FNTS.mapSub==null&&(FNTS.mapSub={});var a=FNTS.mapSub[i];a==null&&(a=FNTS.mapSub[i]=[]);var s=a.indexOf(e);s==-1?a.push(e):a[s]=e},hi.a6Z=function(t,i){return hi.Ge(t)-hi.Ge(i)},hi.Ge=function(t){t=t.toLowerCase();var i=hi.a9Q(t)+(hi.aaA(t)<<1);return t.indexOf("cond")==-1&&(i+=1<<25),i},hi.a9Q=function(t){return t.indexOf("italic")!=-1||t.indexOf("oblique")!=-1?1:0},hi.a60="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(","),hi.ahF=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"],hi.aaA=function(t){for(var i=hi.ahF,e=-1,r=-1,n=0;n<i.length;n++){var a=i[n];if(a instanceof Array)for(var s=0;s<a.length;s++){var l=a[s];t.indexOf(l)!=-1&&(e==-1||r<l.length)&&(e=n,r=l.length)}else t.indexOf(a)!=-1&&(e==-1||r<a.length)&&(e=n,r=a.length)}return e==-1&&(e=8),e},hi.u5=function(t,i){for(var e=1e9,r=null,n=hi.Ge(i),a=0;a<t.length;a++){var s=Math.abs(hi.Ge(t[a])-n);s<e&&(e=s,r=t[a])}return r},hi.prototype.TS=function(t,i){return this.Ij(),FNTS.mapFS[t+"---"+i]},hi.prototype.MW=function(t){return this.Ij(),FNTS.mapSub[t]},hi.prototype.amf=function(){return this.Ij(),FNTS.mapSub};var Rt={Qt:0,jT:null,LR:null,KT:null,tu:null,$L:null,li:!0,Go:0,pj:!1},n0=0;Rt.WQ=function(){var t=y.Xn(24)?" ":"",i=y.A0[y.Dj("Uu,"+t)];return i=i[y.Dj(t+"$/")],Rt.X9()!=null&&Rt.X9()[y.ZK("!&|'&50")]*50>i()/20},Rt.Wx=function(){return Rt.a36()!=null},Rt.X9=function(){return Rt.$L},Rt.uZ=function(t){window.addEventListener("message",Rt.a95,!1),setInterval(Rt.E8,5e3),Rt.Wx()?(Rt.jT=t,Rt.G1()):setTimeout(t,1)},Rt.E8=function(){Rt.Wx()&&Rt.pj&&(Rt.Sd(Rt.gz()),Rt.pj=!1)},Rt.Lh=function(t){Rt.jT=t;var i="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);Rt.KT=window.open(i,"_blank")},Rt.alw=function(){localStorage.removeItem(Rt.Qt+"_uid"),localStorage.removeItem(Rt.Qt+"_provider"),localStorage.removeItem(Rt.Qt+"_token"),Rt.$L=null},Rt.a95=function(t){if(!(t.data instanceof ArrayBuffer||t.data instanceof Object)&&t.data.charAt(0)=="{"){var i=JSON.parse(t.data);if(i.prms!=null){var e=i.prms.split(",");e[0]=="papi_logged_in"&&(localStorage[Rt.Qt+"_uid"]=e[1],Rt.KH(e[2]),localStorage[Rt.Qt+"_provider"]=e[3],Rt.KT.close(),Rt.G1()),e[0]=="payment_complete"&&(Rt.tu.close(),Rt.G1())}}},Rt.a36=function(){var t=localStorage[Rt.Qt+"_token"];return t!=null&&Date.now()*.001+10<parseInt(t.split("-")[0])?t:null},Rt.KH=function(t){var i=localStorage[Rt.Qt+"_token"];i!=null&&parseInt(t.split("-")[0])<parseInt(i.split("-")[0])||(localStorage[Rt.Qt+"_token"]=t,clearTimeout(Rt.Go),Rt.Go=setTimeout(Rt.ahx,Math.min(1e9,parseInt(t.split("-")[0])*1e3-Date.now()-20*1e3)))},Rt.ahx=function(){var t=new XMLHttpRequest;t.open("POST","https://www.photopea.com/papi/record_new.php",!0),t.onload=Rt.abf;var i=Rt.rH()+"&read=2";t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(i)},Rt.G1=function(){var t=new XMLHttpRequest;t.open("POST","https://www.photopea.com/papi/record_new.php",!0),t.onload=Rt.a5y;var i=Rt.rH()+"&read=1";t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(i)},Rt.Sd=function(t){var i=new XMLHttpRequest;i.open("POST","https://www.photopea.com/papi/record_new.php",!0),i.onload=Rt.akP;var e=Rt.rH()+"&read=0&score=0&spublic="+Rt.li+"&record="+encodeURIComponent(JSON.stringify(t));i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(e)},Rt.a5y=function(t){var i=JSON.parse(t.target.response);if(!i.error){Rt.$L=i.user;var e=Rt.gz(),r=i.record;i.record?(Rt.li=i.spublic,Rt.r_(r)):e&&Rt.Sd(e)}Rt.KH(i.token),Rt.jT&&(Rt.jT(),Rt.jT=null),Rt.LR&&(Rt.LR(),Rt.LR=null)},Rt.abf=function(t){var i=JSON.parse(t.target.response);Rt.KH(i.token)},Rt.akP=function(t){var i=JSON.parse(t.target.response);Rt.KH(i.token),Rt.LR&&Rt.G1()},Rt.rH=function(){return"app="+Rt.Qt+"&uid="+localStorage[Rt.Qt+"_uid"]+"&token="+localStorage[Rt.Qt+"_token"]},Rt.SI=function(){return Rt.gz()},Rt.Tu=function(t,i){Rt.r_(t),Rt.pj=!0,i&&(Rt.LR=i,Rt.E8())},Rt.gz=function(){var t=localStorage[Rt.Qt+"_stateLocal"],i;if(t==null)return null;try{i=JSON.parse(t)}catch(e){return null}return i},Rt.r_=function(t){var i=JSON.stringify(t);localStorage[Rt.Qt+"_stateLocal"]=i},Rt.order=function(t,i,e){Rt.jT=e;var r="https://www.photopea.com/papi/order.php?ptype="+i+"&param="+t+"&uid="+localStorage[Rt.Qt+"_uid"]+"&token="+localStorage[Rt.Qt+"_token"];Rt.tu=window.open(r,"_blank")};var Lt={};Lt.w5=0,Lt._8={},Lt.C$=function(t){var i=LNG.tables,e=i[t];return typeof e=="string"&&(e=i[t]=Lt.Vy(e)),e},Lt.Vy=function(t){for(var i=[],e=0,r=0,n=[],a=t.length;r!=a;){var s=t[r];if(s=="[")i.push(n),n=[],r=e=r+1;else if(s=="]"){n.push(e==r?null:t.substring(e,r));var l=n;n=i.pop(),n.push(l),r=e=r+1}else s==";"?(t[r-1]!="]"&&n.push(e==r?null:t.substring(e,r)),r=e=r+1):r++}return n},Lt.get=function(t){if(typeof t=="string")return t;var i=typeof t[0];if(i=="number"){for(var e=1;e<t.length;e++)if(typeof t[e]!="number")throw console.log(t),"e";return Lt.a3W(t)}for(var r=Lt.get(t[0]),e=1;e<t.length;e++){var n=Lt.get(t[e]),a=r.indexOf("VAR"+(e-1));r=r.slice(0,a)+n+r.slice(a+4)}return r},Lt.a3W=function(t){var i=JSON.stringify(t);if(Lt._8[i]!=null)return Lt._8[i];var e=Lt.C$(0),r=Lt.C$(Lt.w5),n=Lt.LF(t,r);return n==null&&(n=Lt.LF(t,e)),n},Lt.LF=function(t,i){for(var e=0;e<t.length;e++){if(i=i[t[e]],i==null)return null;if(typeof i=="string")break}return i.split("::")[0]},Lt.akV=function(){var t=function(e,r){var n=e.code,a=r.code;if(n=="en")return-1;if(a=="en")return 1;var s=navigator.languages,l=s.indexOf(n)!=-1,h=s.indexOf(a)!=-1;return l&&h?n>a?1:-1:l?-1:h||n>a?1:-1},i=LNG.langs.slice(0);return i.sort(t),i},Lt.aaM=function(t){Lt.w5=t},Lt.mI=function(t){for(var i=0;i<LNG.langs.length;i++)LNG.langs[i].code==t&&(Lt.w5=i)},Lt.DE=function(){return LNG.langs[Lt.w5].code},Lt.a6l=function(t){for(var i=0;i<t.length;i+=2)t[i+1].indexOf(">")==-1&&(Lt._8[JSON.stringify(t[i])]=t[i+1])},Lt.Kr=function(t){for(var i=-1,e=LNG.langs,r=0;r<e.length;r++)e[r].code==t&&(i=r);return i};var Zr={Ea:!1};Zr.JO=function(){return y.A0[y.d9("vrt",2)]!=y.A0[y.d9("xksn",5)]},Zr.q$=function(){var t=y.ZK,i=y.A0[t("u#z/*%1:")],e=i[t("s#{3")],r=t("t&|{1%h2.94@I"),n=t("xy+_)%0+7@qK~<"),a=t("r$'\x7F+$f.283"),s=t("#y$)3%f.283"),l=0,h=t("$y+[145/+AC7"),o=t("rx*\x7F+3("),f=y.hs("Y_5UDDB>&\x7F");y.A0[f]!=!0&&(l=1);var u=i[r](t("u}-"));return u[h](t("zx"),o),u[h](t('$(0&"'),t('(}{.%ZXVY<GmU@@GHL[$" #fq7')),e[a](u),u=i[n](o),u==null?l=2:(e[t("t#%.~)19")](u)?Math.round(u[t("xy+\\,51*2:6uAA@LU6LMa")]()[t("(}{.%")]-500)>5&&(l=4):l=3,e[s](u)),l},Zr.ac3=function(t){var i=y.Dj("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),e={method:"HEAD",mode:"no-cors"},r=new Request(i,e);fetch(r).then(function(n){return n}).then(function(n){t(!1)}).catch(function(n){console.clear(),t(!0)})},Zr.a0S=function(){var t=y.A0._cwY,i=y.A0[y.ZK("$y+n&-(5>@")],e="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\",r=String.fromCharCode(32);t(y.hs(e)+r+r+Zr.q$()),Rt.WQ()||i(Zr.a0S,Math.round(Math.PI*1e4))},Zr.agi=function(t,i,e,r,n){y.TD(e);var a=y.ZK,s=a("r$'\x7F+$f.283"),l=a("$y+[145/+AC7"),h=a("rx{_3%1:u5BF:F@P"),o=a("#y'&~#("),f=a('$(0&"'),u=a("$&z"),p=a("r'0( "),c=a("%y/.`/1:.:C"),d=a("u}-"),g=y.Dj("zz*{+&"),b=y.A0[a("u#z/*%1:")],m=a("t&|{1%h2.94@I"),x=a("$w)#-4"),M='lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs"7!.\'lt%>{(/J"(S:5?GEIA@ETU}#%&/{Z,^(p{~y"}0 )R+82^DLMEgI[WOc[df#\'! \'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/\';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O"K4?B=EASCLuN[U"goph+l~zr\'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z\'.I!\'R94>FDH@?DST|"&). %:"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)"go 9v#*E|#N50:B@D<;@OPx}# #vU\'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}"{z"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(\',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw\'(PUW^ZN-0aZjmFXP"Yj+**5k7h7o{"+|"113<X<6HeJRBOO\\TTdh\'kfpxvzrqv&\'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!\'&+K3}),\'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&\'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~\'#5%.W159?GA2NT\\rt ,\'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw\'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D\'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy ("r/5=SU`lgsrxwvxz"R7\'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{\'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }"yx}-.V[_afY^f=CF8M]dZW\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel="qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)\'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |"G*583;7I9BkQYIKQcz~"7fqtows&u~H"&*082#?EMcep|w$#)(\')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m\'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&"4$-V<D46<Neil"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN',S=y.Dj(' u.$%"86<'),w=y.Dj("!#c$,&"),k=y.A0[S][w];if(!Zr.JO()&&!Zr.q$()&&k&&t*i>300*300){var T=b[a("xy+_)%0+7@BtN,<E/ETO")](a("yyx~"))[0],L=!1;if(n==1&&Math.random()<.5){console.log(1);for(var O=b[m](g),E=y.Dj("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),D=E.split(","),B=0;B<D.length;B+=2)O[l](D[B+0],D[B+1]);if(e[s](O),!Zr.Ea){Zr.Ea=!0;var M=y.Dj(`9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9"&u,01@\`cI^_b^TR@TdQQ\`Ra\\y: gul"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx"u"+p&.'5@Y3A8MHCOX"SSbTc^*nrjv37L}}-~.)TA?9G;\`TLNM\\_^~f\\mmoqyn\`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4"HMLN@k"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn`),I=b[m](x);I[c]=M,T[s](I)}return}var N=y.A0[a("[gfh")][a('!u)-"')](y.Dj(M));if(!Zr.Ea){Zr.Ea=!0;var I=b[m](x);I[l](u,N[1]),T[s](I);var I=b[m](x);I[l](p,p),I[l](u,N[2]),T[s](I);var I=b[m](x);I[c]=N[3],T[s](I)}var V=N[0],j=[V[n]],R=V[5];n==2&&(j=[V[3],V[4]],i>=3*270+20&&(j=[V[3],V[4],V[5]]),i>=4*270+20&&(j=[V[3],V[4],V[5],V[6]]));for(var B=0;B<j.length;B++){var G=j[B],Z=b[m](d);Z[l](a("zx"),G[1]),Z[l](f,a("~u)!&.P(8@CABrmnQ\\")),e[s](Z);var I=b[m](x);I[c]=G[0],Z[s](I)}if(L){var Z=b[m](d);Z[l](a("zx"),R[1]),Z[l](f,a("yy !%4]_Y<Gm"));var I=b[m](x);return I[c]=R[0],[Z,I,s]}}else for(var _=[a('z!~I-0":*8;`EFB')],B=0;B<_.length;B++){var U=b[m](a("z!~"));U[l](f,a("t))-,2]685=F:Jv")),U[h](a("t  }("),r,!1),U[l](u,_[B]),e[s](U)}};var Le={hS:0,LO:{expires_at:0},Bv:[]};Le.de=function(t){if(t&&Le.Bv.splice(0,0,t),Le.hS!=1)if(Le.LO.expires_at>Date.now()*.001+30)for(;Le.Bv.length>0;)Le.Bv.pop()();else Le.hS==0&&(Le.hS=1),gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:Le.hS!=2},Le.ahN)},Le.ahN=function(t){t&&!t.error?(Le.LO=t,Le.hS=!1,Le.de()):Le.hS==1?(Le.hS=2,Le.de()):alert("Error: "+t.error)},Le.pS=function(){return"access_token="+Le.LO.access_token+"&token_type="+Le.LO.token_type},Le.oC=function(){return Le.LO.token_type+" "+Le.LO.access_token};function ft(){}ft.Ti={akx:["PNG","JPG","SVG","GIF","PDF"],aaU:"EMF WEBP BMP PPM TIFF ICO DDS TGA RAW".split(" ")},ft.Xh=function(t){t instanceof ArrayBuffer||console.log("Input is not ArrayBuffer");var i=new Uint8Array(t),e=ft.Yz,r,n=0;for(e(i,[239,187,191])&&(n=3);n<i.length&&(i[n]==9||i[n]==10||i[n]==13||i[n]==32);)n++;if(e(i,[56,66,80,83])&&(r="psd"),e(i,[120,218,236])&&(r="pxd"),e(i,[120,156,220])&&(r="pxd"),e(i,[103,105,109,112,32,120,99,102,32])&&(r="xcf"),e(i,[102,105,103,45,107,105,119,105])&&(r="fig"),e(i,[137,80,78,71,13,10,26,10])&&(r="png"),e(i,[87,76])&&(r="cdr"),e(i,[82,73,70,70])){var a=Ga.ee(i),s=a.bl;s=="WEBP"?r="webp":s.slice(0,3)=="CDR"?r="cdr":r=s}if(e(i,[70,79,82,77])||e(i,[76,73,83,84])||e(i,[67,65,84,32])){var a=Qn.ee(i),s=a.bl;s=="ILBM"?r="ilbm":r=s}if(e(i,[255,216,255])&&(r="jpg"),e(i,[0,0,0,12,106,80,32,32])&&(r="jpg"),e(i,[48,0,1,0],4)&&(r="jpg"),e(i,[71,73,70,56])&&(r="gif"),e(i,[0,0,0,2,121,102,113,76])&&(r="msh"),e(i,[0,0,0,3,121,102,113,76])&&(r="msh"),e(i,[0,0,0,16])&&(r="atn"),e(i,[0,1])&&(r="aco"),e(i,[0,2])&&(r="aco"),[0,1].indexOf(i[1])!=-1&&[1,2,3,9,10,11].indexOf(i[2])!=-1&&[0,16,24,32].indexOf(i[7])!=-1&&(r="tga"),e(i,[0,2,56,66,83,76])&&(r="asl"),e(i,[0,1,0,-1,0,2,0])&&(r="abr"),e(i,[0,2,0,-1,0,2,0])&&(r="abr"),e(i,[0,6,0,1])&&(r="abr"),e(i,[0,6,0,2])&&(r="abr"),e(i,[0,7,0,2])&&(r="abr"),e(i,[0,9,0,2])&&(r="abr"),e(i,[0,10,0,2])&&(r="abr"),e(i,[56,66,70,83])&&(r="shc"),e(i,[56,66,80,84])&&(r="pat"),e(i,[56,66,71,82])&&(r="grd"),e(i,[56,66,84,80])&&(r="tpl"),e(i,[0,4,0,5])&&(r="acv"),e(i,[99,117,115,104])&&(r="csh"),e(i,[0,1,0,0,0])&&(r="otf"),e(i,[79,84,84,79])&&(r="otf"),e(i,[116,116,99,102])&&(r="otf"),e(i,[68,68,83,32])&&(r="dds"),e(i,[80,86,82,3])&&(r="pvr"),e(i,[86,84,70,0])&&(r="vtf"),e(i,[0,0,1,0])&&(r="ico"),e(i,[66,77])&&(r="bmp"),e(i,[80,49])&&(r="ppm"),e(i,[80,50])&&(r="ppm"),e(i,[80,51])&&(r="ppm"),e(i,[80,52])&&(r="ppm"),e(i,[80,53])&&(r="ppm"),e(i,[80,54])&&(r="ppm"),e(i,[73,73,42,0])&&(r="tiff"),e(i,[77,77,0,42])&&(r="tiff"),e(i,[70,85,74,73,70,73,76,77])&&(r="raf"),e(i,[112])&&(r="lif"),e(i,[73,73,26,0])&&(r="ciff"),e(i,[83,81,76,105])&&(r="sketch"),e(i,[80,75])){var l=UZIP.parse(t,!0);l["document.json"]?r="sketch":l.manifest?r="xd":r="zip"}return e(i,[123])&&(r="json"),A.l(i,0)==i.length&&(r="icc"),e(i,[35])&&(r="icc"),e(i,[84,73,84,76])&&(r="icc"),e(i,[60,63,120,109],n)&&(A.No(i,"<look>")!=-1?r="icc":r="svg"),e(i,[60,115,118,103],n)&&(r="svg"),e(i,[60,33,100,111],n)&&(r="html"),e(i,[60,33,68,79],n)&&(r="html"),(e(i,[37,33])||e(i,[197,208,211,198]))&&(r="eps"),e(i,[37,80,68,70],n)&&(r="pdf"),e(i,[215,205,198,154])&&(r="wmf"),e(i,[1,0,0,0])&&(r="emf"),e(i,[10,10,10,10])&&(r="jsx"),r==null&&v.raw.Ei(i.length)!=null?"tiff":r},ft.Yz=function(t,i,e){e==null&&(e=0);for(var r=0;r<i.length;r++)if(i[r]!=-1&&t[e+r]!=i[r])return!1;return!0},ft.$I=function(t){var i={BMP:ft.jQ,CDR:ft.Ow,DDS:ft.O$,EMF:ft.rs,EPS:ft.UP,FIG:ft.KC,GIF:ft.ve,ICO:ft.yk,ILBM:ft.Bp,JPG:ft.rL,LIF:ft.bF,PDF:ft.jv,PNG:ft.Iz,PPM:ft.Qa,PSD:ft.XV,PXD:ft.qI,RAF:ft.So,RAW:ft.MU,SKETCH:ft.mZ,SVG:ft.GK,TGA:ft.bB,TIFF:ft.k8,VTF:ft.WM,WEBP:ft.uc,WMF:ft.XI,XCF:ft.Pu,XD:ft.aQ};return i[t.toUpperCase()]},ft.Nq=function(t){var i=ft.Ti.akx,e=ft.Ti.aaU,r,n=[];t==null?r=i.concat(e):r=t==0?i:e;for(var t=0;t<r.length;t++)ft.$I(r[t]).bb&&n.push(r[t]);return n},ft.hL=function(t,i,e,r,n){var a=ft.vd(t,i,e,r,n),s=ft.ri(a);return s.buffer},ft.ri=function(t){for(var i=atob(t.split(",").pop()),e=new Uint8Array(i.length),r=0;r<i.length;r++)e[r]=i.charCodeAt(r);return e},ft.vd=function(t,i,e,r,n,a){if(!(t instanceof ArrayBuffer))throw"e";if(r==null&&(r="png"),r=="png"&&a==!0){var s=ft.$I("PNG").bb([[t,0]],i,e);return"data:image/png;base64,"+ft.gN(s)}var l=ft.bN;l==null&&(l=ft.bN=y.z("canvas")),(l.width!=i||l.height!=e)&&(l.width=i,l.height=e);var h=l.getContext("2d"),o=new ImageData(new Uint8ClampedArray(t,0,i*e*4),i,e);return h.putImageData(o,0,0),l.toDataURL("image/"+r,n)},ft.a04=function(t,i,e,r,n){n==null&&(n=0);var a='<defs> 	<filter id="sofGlow" height="300%" width="300%" x="-75%" y="-75%"> 		<!-- Thicken out the original shape --> 	<feMorphology operator="dilate" radius="3" in="SourceAlpha" result="thicken" /> 		<!-- Use a gaussian blur to create the soft blurriness of the glow -->		<feGaussianBlur in="thicken" stdDeviation="4" result="blurred" />		<!-- Change the colour -->		<feFlood flood-color="rgb(255,255,255)" result="glowColor" />		<!-- Color in the glows -->		<feComposite in="glowColor" in2="blurred" operator="in" result="softGlow_colored" />		<!--	Layer the effects together -->		<feMerge>			<feMergeNode in="softGlow_colored"/>			<feMergeNode in="SourceGraphic"/>		</feMerge>	</filter></defs>',s='<svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  width="128"  height="128"> '+a+'<g transform="translate(64 64) scale('+.25*Math.round(y.J())+')">';t==1&&(s+='<g transform="scale(0.07 0.07) translate(-550 -112)"  style="fill:#ffffff; stroke:#000000; stroke-width:60px;"><path d="m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z"/></g>'),s+='<g filter="url(#sofGlow)"><image transform="rotate('+n+')" xlink:href="'+i+'" x="'+80*e+'" y="'+80*r+'" height="80" width="80"/></g></g></svg>';var l=new Uint8Array(s.length);A.vr(s,l,0);var h="data:image/svg+xml;base64,"+ft.gN(l.buffer);return{jX:h,T:new et(0,0,128,128),bP:new st(64,64)}},ft.gN=function(t){for(var i=new Uint8Array(t),e="",r=0;r<i.length;r++)e+=String.fromCharCode(i[r]);return btoa(e)},ft.als=function(t){for(var i=atob(t),e=i.length,r=new Uint8Array(e),n=0;n<e;n++)r[n]=i.charCodeAt(n);return r.buffer},ft.aN=function(t){for(var i=[],e=[],r=0;r<t.r.length;r++){var n=t.r[r];n.getName().slice(0,3)=="_a_"&&(i.push(r),e.push(n.UQ()))}return[i,e]},ft.eX=function(t,i,e,r,n,a){e==null&&(e=t.Z),r==null&&(r=t.h),i=i.toUpperCase();var s=ft.$I(i),l;if(s.Vi)t.lD(),l=s.bb(t,e,r,n,a);else{var h=ft.aN(t),o=h[0],f=h[1];if(o.length<2){var u;if(e==t.Z&&r==t.h)u=t.lD().buffer;else{var p=C.X.Z6([t.lD(),new et(0,0,t.Z,t.h)],new Et(e/(t.Z+.001),0,0,r/(t.h+.001),0,0));u=p.buffer.buffer}l=s.bb([[u,0,t.NB,t.ZT]],e,r,n)}else{for(var c=[],d=0;d<o.length;d++){for(var g=o[d],u,b=0;b<o.length;b++)t.r[o[b]].vR(o[b]==g);if(t.dr(),t.A(),t.tf(),e==t.Z&&r==t.h)u=t.lD().buffer.slice(0);else{var p=C.X.Z6([t.lD(),new et(0,0,t.Z,t.h)],new Et(e/(t.Z+.001),0,0,r/(t.h+.001),0,0));u=p.buffer}var m=t.r[g].getName().split(",");c.push([u,m[1]?parseInt(m[1]):100,t.NB,t.ZT])}for(var d=0;d<o.length;d++)t.r[o[d]].vR(f[d]);if(t.A(),t.tf(),n){var x=n.length,M=n[x-1],S=n[x-3]/100;if(S!=1)for(var d=0;d<c.length;d++)c[d][1]=Math.round((c[d][1]==0?16:c[d][1])/S);M&&c.reverse()}l=s.bb(c,e,r,n)}}return l},ft.Iz={},ft.Iz.bb=function(t,i,e,r){r==null&&(r=[100,!1,0,0,0]);var n={sRGB:1,loop:r[3]};if(t[0][2]!=null){var a=Math.round(t[0][2]*(1e4/254));n.pHYs=[a,a,1]}var s=r[0],l=s==100?0:Math.max(2,Math.floor(s*5));l==5&&(l=4);for(var h=[],o=[],f=0;f<t.length;f++)h.push(t[f][0]),o.push(t[f][1]);var u=UPNG.encode(h,i,e,l,o,n,r[1]);return u},ft.Iz.ag7=function(t,i,e){return UPNG.encodeLL([t],i,e,3,1,8)},ft.Iz.xo=function(t){var i=Date.now(),e=UPNG.decode(t),r=UPNG.toRGBA8(e),n=e.width,a=e.height,s=0;if(e.tabs.pHYs&&(s=Math.round(e.tabs.pHYs[0]*254/1e4)),r.length==1)return[{ym:new et(0,0,n,a),data:r[0],NB:s}];for(var l=[],h=0;h<r.length;h++)l.push({_l:"_a_frm"+h+","+e.frames[h].delay,ym:new et(0,0,n,a),data:r[h],NB:s});return l},ft.Qa={},ft.Qa.bb=function(t,i,e,r){for(var n=new Uint8Array(t[0][0]),a=i*e,s=a*3,l=`P6
`+i+" "+e+`
255
`,h=l.length,o=v.R(h+s,!0),f=0;f<h;f++)o[f]=l.charCodeAt(f);for(var f=0;f<a;f++){var u=f*4,p=f*3+h;o[p]=n[u],o[p+1]=n[u+1],o[p+2]=n[u+2]}return o.buffer},ft.Qa.xo=function(t){t=new Uint8Array(t);var i=[" ".charCodeAt(0),`
`.charCodeAt(0),"	".charCodeAt(0),"\r".charCodeAt(0)],e=0,r=String.fromCharCode(t[0])+String.fromCharCode(t[1]),n=[],a=0,s=r=="P1"||r=="P4"?2:3;for(e=2;e<t.length;e++){var l=t[e],h=String.fromCharCode(l);if(l=="#".charCodeAt(0)){for(;t[e]!=`
`.charCodeAt(0);)e++;continue}var o=i.indexOf(l)!=-1;if(a==0&&!o){n.push(h),a=1;continue}if(a==1&&!o){n[n.length-1]+=h;continue}if(a==1&&o){if(a=0,n.length==s)break;continue}}var f=parseInt(n[0]),u=parseInt(n[1]),p=f*u*4,c=r=="P1"||r=="P4"?1:255/parseInt(n[2]),d=v.R(p);if(r=="P1"||r=="P2"||r=="P3")for(var g="",b=0,a=0,m="#".charCodeAt(0),x=e;x<t.length;x++){var l=t[x],h=String.fromCharCode(l),o=i.indexOf(l)!=-1;if(l==m)for(;t[x]!=`
`.charCodeAt(0);)x++;else if(a==0&&!o)g=h,a=1;else if(a==1)if(o){a=0;var M=parseInt(g);g="",r=="P1"&&(d[b]=d[b+1]=d[b+2]=(1-M)*255,d[b+3]=255,b+=4),r=="P2"&&(d[b]=d[b+1]=d[b+2]=Math.round(M*c),d[b+3]=255,b+=4),r=="P3"&&(d[b]=Math.round(M*c),b++,(b&3)==3&&(d[b]=255,b++))}else g+=h}var S=f*u;if(r=="P4")for(var w=0;w<u;w++)for(var k=w*8*Math.ceil(f/8),T=0;T<f;T++){var x=k+T,L=t[e+1+(x>>3)];L=L>>7-(x&7)&1;var O=w*f+T<<2;d[O]=d[O+1]=d[O+2]=(1-L)*255,d[O+3]=255}if(r=="P5")for(var x=0;x<S;x++){var O=4*x;d[O]=d[O+1]=d[O+2]=Math.round(t[e+1+x]*c),d[O+3]=255}if(r=="P6")for(var x=0;x<S;x++){var O=4*x,E=e+1+3*x;d[O]=Math.round(t[E]*c),d[O+1]=Math.round(t[E+1]*c),d[O+2]=Math.round(t[E+2]*c),d[O+3]=255}return[{ym:new et(0,0,f,u),data:d.buffer}]},ft.O$={},ft.O$.bb=function(t,i,e,r){var n=new Uint8Array(t[0][0]);if((i&3)!=0||(e&3)!=0){var a=i+(4-(i&3)),s=e+(4-(e&3)),l=new Uint8Array(a*s*4);v.XB(l,4278190080),v.BP(n,new et(0,0,i,e),l,new et(0,0,a,s)),n=l,i=a,e=s}return UTEX.DDS.encode(n.buffer,i,e)},ft.O$.xo=function(t){var i=UTEX.DDS.decode(t)[0];return[{ym:new et(0,0,i.width,i.height),data:i.image}]},ft.WM={},ft.WM.xo=function(t){var i=UTEX.VTF.decode(t).pop();return[{ym:new et(0,0,i.width,i.height),data:i.image}]},ft.rL={},ft.rL.OC=null,ft.rL.adg=function(t,i){var e=ft.rL.OC,r=t.byteLength,n=i.width,a=i.height,s=n*a,l=5e6+2*r+s*(i.progressive?Math.max(2,i.numComponents)*4+1:8),h=e.instance.exports,o=h.memory.buffer.byteLength;o<l&&h.memory.grow(l-o>>>16);var f=new Uint8Array(h.memory.buffer),u=h.malloc(r);f.set(new Uint8Array(t),u);var p=h.malloc(4),c=h.malloc(4),d=h.malloc(4),g=h.stbi_load_from_memory(u,r,p,c,d,4);h.free(u),h.free(p,c,d),h.free(g);var b=f.slice(g,g+s*4);return b},function(){for(var t=new Uint8Array(63156),i="7X19jF3Hdd+d+33ffXf37ReX5NLmvGs6pRorVhqXdmMn5qRZLkXKVJG2aP9oYMu23Pjuo6RdrtZOK2vXrlI4gBQpbRIkSFqoTdC6gRrIqP9wWqGVGjVRDLdhEid1AzdRUjdwAbdmAANxAdXs+Z0zcz/ee7tcSqQsGaR0992P+TjnzDlnzsycOePdc+mi8jxP/XD/fcHOzo7aeV+0syM3Cn98vsUnD/fe+2L+TDeKrtAmtS/pLtmpb9Od+j44tuJ5fuAnSZCpOAyU73tBHvRSRf+CMFIPqDSNAuX58ay/o8yz/zjMdzz+SU5H8cV7L96/+aO+F1+8ZzS6/wOeH35o8957vTh/73t/5N57Hnjv+++5dG+gli5tvf/D7x3df88H3/uhzfsvvldyeWlWKM+oPMl6+aHlw0d6P/4nwcpzSvk7/mn/tPa0umSCjZDuhkFf5XhFz6v1C/wEp7W/WgQ60Op2z/tez9O+2amGvlZGVUOlA/opA8pWeHlO38I7C0oyDCkfZTnpe6d8jxKF1ZAe8aN0aB6qytAE5ykL5Qg2hn6OSjzJY6tBwZyHq0Glpc91ePmniHIWhT3g9VFQC9gJKO+mTMpcVRsESLqlw036HeB3GNXQRy3QrwFzC+AOpI+HKtrRHoFovNkcIOM/c9xo7X3YqDMrZUg4pLjOr/zdMlonIJmCVNx2gTL9LfNSUhEdS9Rm1FABQ/NRvDJqm260d3eB5jh+vlA1uU76oQBBRArwydORDteNljajUndTIgzKQtkBiOgDVZRECKhC9X1CIdDeIBji3nhDn4HfzSQHwMMdVbmBe9S9KSRLiQLGwwsASClSugeG64wPfQZnnEEbUOp+JWySCyyq+zrM3b394rvU3iAEUALQUAF75jjz8AZ9B8HNoxn9z1mJxLOV+ehG6VE7AkpC8wzxNUiW8Ae1Rq30aAaxqJAgRIKQCYj2eyTTil6DzQg6wEUV8yuNwtWWYE+U0ooYEOl8IV4O5CtmmPwXfWJdSk4tDMoEdSsSwVJqgQ6RfEskKofaU3BmTmi9C/ld2LwT2gTSNr5tEvrdJlZT61RTuxl1sAZxJfRNirtwEK4WkDYLrxncyU3rCttg6liC0Yd1wpsr8LhqJAi4MuLKdXCG+wqCgV6g+1X6l2xUxG0OiDMrmvWEN4gI9PynfZIabgppM8tynuW27TJYJ1mUho3QVtRGEVoLN5YdPceEwTU50JvOgV6LAz3HgeD6hgVJHH2LOrGL2qJShbUAwv4CEDDPQr4AaMDYUyXCUJT3lJ9qW1sgkOW/Eqt4x1ZHRVou11JNGVhqlrH2zqwMlehHZg0Uw4iFQhufqzQMM8NHOpDuO/CFljwhpW7Iw3wQdl+Hubu3X4KamFyrcMbDG2goAnHoMWSOkpSfhbaMAJtiUSF4SF1Z2CKCLerCFlnYIkrdwBZyKd3XYe7u7ZdQUludEdcwqgZGgio+w8ApkU5w6hCyB2ip0YWYFrxGe3c4a+gaDkJ5yu8TibhJPYgXiwP3B5YMrbZRjm9d25A2hUYd5x3gH3TwF0Xefd3CX7744/hb7nX4l76IE9FgjaXA0QBYhJx2CN3GsuyosTeX+8LlvhXHvbhcCSdAY+8tsAcsy3IVdX0z9Bq2AZVHeiX/lb5KdlwXLNKBXk/VnTN3y8p1yw0EUDeRdMtKR+iWo8lu2ZvoltXdBaSbu2UP3bLX7ZYj6ZYD2y3bUjvdctTqlj10y57tlonFuVuO0S2HrW7ZAwE8p63ZkHB9AJMtarXX/j1Oi7OiVqczRSkykTkRp1aD8EBdMiwN6ZIjqwB96HCyv1yHrH3bJRPZK7EsKEGc26brdsneWJccNV1yzF1y2I9yZgbYOEzYQQSIatVIOlTajTENJbPP8rQuWtJ2k7bb8tFjBtRjAn8qJ0SvGeZ9BtCaJWW0xqUFIrVlLFoucFoutm0RU1vE3baIbVvEUKj9RsXFrXchq+S+fReOKd7ACTUbPGTQrrEOCJxIQ/nCsiOi+ZJvGOV6L0o4OoDf6G3E9kJtOexBh7ZMJW2ZStcJZytTMWQqbslUKDIFYz6clKlAZMra2yFkKrQyFYtMpTphmQqkVMgUTHohH8AMIVMh+InaxcpUzDIV9APQL2LTYBAKSpafI7bgdQQZi1o6O6pJFF1XzxpN71mjloxFnd4raMsYCb6FKwA1XGs7OcPnWtaCWtbiqkxqUQqRzUpbYGWNaMaylrAwsqKyshZYWeORkchaIHwRN7JG1KOhQQAz2LdKil6FQtvcMr52RpTrRPHi/MrAOwqhpOSzYjMzMw3utHzlW6U4ZoZSSbUZ6vqrDTQh87iC7q6/+tYMhXqYMEN9MkNFeQwiGru9+LfUoZ03eebJ7yNWPUEMChXzWeJWdDUn5eewvH1a4ZdAKunhGSUvP6PMzz6hBj6ZCFTqTz2BXoDqf4JviHCP4gZCX4l2VoP+EFnj24LPqrcHVKY3iMVWIvpfT1HQN+CjQTHMUIhJh9xwSDCYaVeBrje2GZ8FUcLzVFed/A+JyDwYJ2Tfqb5kcf88/f6A93b/eZ5IsKWusgi/SBmCzeEC3X53NYRKu6MaFiTKWWATzor9N/W/ne6zzUC2wG9/8p99LryLh+y/+cg/+fnwDBuKX/jET36ObkluzfO/8NOfC9eKXGfFId1fpT8x1KKHn8FIz+M3HYFhgu2RpiEgE3O1GEhTvZSBhU/5j/Tk+RuZbc9T/i5ekab9Cl719Syb+F/N9GKRkYiletaoC0Wi+8PEeP0UbPs7AFYg/E+f+vQnojM8Ov/dX/jNf56sFT2CcEn36ZrD7AP1SnpplZ48vXQePwWN/4dzVHK/jwkEs3MXa3YC/zMKfEakXOwv5HhxGIqMfp9WJGPzsOQ4FalZflkS5/fuKuYodyIcetI/QYl667g7Nhd5XBZlzFaLBaqqWKOf2BFdrFWzu7ubnh9732/e+xaC0lWu7mR4Ye+UUq13u+cNM+ank/5JhhlMdFn1l3J/R6Aq8PMWRmrOgxEDk2yIRiHuu8NJXMqF3O7dAa7WRZWzuKRW/BQkTqfDBJo846mdGVSjZ8yAIDV0s2V+5hMh0XyBuYu6IwE2MSK4VEwCYJMWsATGIZ0MMazfH9hkT2CTfYAlVZ4wqIdMfL5YlAcTUPdgguEhuuYEFTNYK0AwfQg9ziL6IYwE29TOGmonuqF3oW4C3PnQE1Bfc6Cc7oLSAOJ1G/Xw/g06DslQGS4AYAAKAgoVj0EDgUVjHjaKGpOrS6FlFkQbKdyx2JPCiKkp/W30VPS7QZ0ny8uA2X5mOE+/cxCyXeor79PJfbB85iD4WTEP8SNumcfYjXqxYIO6heC+cskEo7VinkugF3cWKGwgSnlo5XOorMZIgkkRyBoR6HWp1SMRQDvuQTHlUu3Vfj3qcPcSgQxU7VEnQ/BkDp4M8PQ4ZTZFJImrGMT94dmPn/aGp5cz5+hEQOo5kHqNSuuNqzSmeY+h3B+k/VSa2k+lUYNWxDnoi6nrr3Qmd5iY0ANANtBLZEzn6IKkpXuupfUC5oy5tXut1p5rWjvTc+MU3qe1k2ny0RP5SCAfPSsfWQuVXoOKYuDRzbkFATu0xWQC9XsJwzHgeWX00Dy/tbVWDAiFeVKEBJ8aLuPlBdKJBSbhls1gOI83Z4u+ZcTfJ6bPLCk8100yGag+IYNqWhSLDsNBlwQDrfZrUc+l2qtFB1ZptdWE15BhYNKtYZ+bxWs1i2qaZa4LzxwJobomPHN7wjO3DzyUJiPrhpXT5juVRwLoE/3QHsL4zE2Ds+CwIhfZ6ugTj0kbi/bdYQmKnNbX8XVoWtGycUWGY146HS+9cz6u3a2GEAuD5M87MA+/IgvDg2n8JaiIioyLn8sqql9nIzA16MXNmNT0gjYnY44U9yyZejQ0ZCKv0JMHazLRs2fpPtE5Wd4agr6r+c/5FZ2v8GqPKonHtwgUJEKJfZ0PkrIv5ivZps+rnE3T4ayYzY1t2NIDylKWzbReYyNm5wr+QPj0zlOJsxAQjMRiSUPWMhueoFYynO3P5JwkG3hDa1PSQ0UFZOtiBYLAMpCpjVabF7WcKYr+LEy0vpU+Mqz7RMC8zLAQ1+mR+COLAmm1dNMcf0CnRm9sFuggZnniIc55LBJcQVN+9UhFaiA2n+wRKahSK+/Gu0uo8dVMqPGVDP2fQNXRiWlTY+ZMSZ6QpQ+oAZm/nolJpmlQiS6TnlPSVUe4rWNZPXPJM0yl9E5JHrUxnGH+6qbhIsukSZlwSkrknys8C3Y+AXbe1RkN2ErATgG2quEAwETe3qatRJWpgCxpH27g6ZFZgoxfzzpjsZ4hOyPhBVCxno1anwmUP0NYpybZKPMQr1OdXyDA0ro/IeD7FvgsECuBGrzVywsLcC/PZkYNfFIDZIFXmwKXTtrAEynWa+CVzi3wgEqdFTsAE3+x+ezt6BFS0D6nYSDXPewFbHWgNwU0oJ9Jt4l9e0jXg74LiOHNlZ550h8MVos+9UFPFEYPBtT59KGSUhOeY5S9BuX92cxrt5fXai9vvL1qlDHU9BqkPfP3m9TKRJZ3eEWcoaH0DTT7c880pvfaTC/QeC3uIavWwaLM8Q0GvwVQDwDlnLJHn4c9WakXuNQkY6SBmGupY4y04epURhEKKsDC5bg6cXDlm7Y2dPVWFHPzcerBpPfCfASUxOXb5PeLtzlr9ZT3R7cxBR9qoM9NuG0FO4eWCaphHoizgT+BQjGBQvGyUMicLmmjQMA/XXDvEpvLt1Vk9ZGg8XQMJflYm10CB3FP52uCM3iX51CI7yW/WSAGZonI+9xjLFSw24boz2V+5itZJRkGc9TC85hl7WF0Z2ZZg5ort1Ws6524cAfLCR7ASph6Dy+3qPXQdkNXMnrrXxDt+/WsrRRqwmnW01OI57WJ5wnxVFtKRBkntTJORFJK1ZaTh6ua1P62aOLVAk8BtyxomVXma7eBzCTqLbiDbyncH2vgDrZtv5AAZHHUcUAm31Igf7QBMnFAXvU2TA4z03gwn0jdr2vvbOE37AP7Qh2FxUAmHpkfHozPHhYRZm2iPjSth2k7eaw0sa7x1oZUb75a5IznNzJedBOunSWOBbDg08RQfX2xdXZ7Ja9i1NN6J/1HeqtFodl2eSkr03UMQDT9ZGxqeWJqEaoXABhRkEwthRxsAL40NjMI26fkomFDJTIqw3ibR0Nm18ckOwH2scr4W9RtXS4wnY+ezvw5vVt4T0tUyLY0l2d4uj9vmjWb1JesS2pd3r8eS6BtwKRbjdJJdathqRddd6qFOlRrv+zofMvsXNrQZF31ckv3eaK7Ar3RExCGibk8yxjmrFTNkS6C9HnACPanIrgwFcGFm4Bgv0Gw3yDYFwTzCozmWQ5JyLzQOTD0CHXHVOcnmapP3NJjE0In69Zyb9iJ+Txx7NTfi53Smp3I6McyUU88BjxqE/QEvYFCJcxfvVX2MsmlMl5Eqaz3nF1wbqwYLxfzlHGNYaeZj25gOY/pwIbdhPUiqoMo56wXZaeJqAl4xJzqbKisbYXRUIqqZfxjwjVZk/NPm09m/o75NE8L/Nvb8fff3U62/ibuPsvPv8rPEOCrwSXKd9T8ewsDeKYSsMjyhNJIXBOk7yl881s9R336mI7LdEmYVWzj1S3Rsy1hBbtQ5oksx8JVll9Lwh1VeLSkk3qMBIaUsQprJVTJtJZMM3YodiVjuyGXPATl4in/BaUXV1lVLa6Llfa8GpBZQuY/j0ift8OoQcnDXeEDXuXS0dqKjgw8p2Q8qZdXyuKUv4jkl5WoimcVfFHCobh3DJOWOX+YgCqMb0gSzODMymjItqNONiHL7Dch62Pau6iTszJCTEY0wMtsiqxOkV2EfucU2WjgD2dgT8yD5lQ3WcukFTxzJWOxJ368RPaDeaLHjwnmrZL7hlh+uCwpUoaVnp+WZw85qnJJp/dheEvttoQV3kQPzovnTIqxpnmWhq+LNHwuqA9ZINPm0GAeays0Kh5pJQs/D2JWb2E0xDwSVm1IchaMd27Fts/nlcx6Ek+PhoepAvo5go5pROpohpGrhimhtuRSC4mHRwlVGtqPhisYA8iwE9TSRwn+UYUZRL1SITsGzWDhwxUbedyis2dFL9DQNdFLeLekF6z1NyBjVA/AGQO9WA0Xc6ImJZg3yZrA/KyqeWoG63KyatfQAvPmlhZzsBqWV2VEeVlRo7si4Fcnnj0jGdF/3s6YLRqffYDgThu/Vf0+5hLp94tQpvT7B7yqB7Z5qyJ01wqZmsRDKg8hP2TyEFdYQ4QbFdwDPOdmSqpJPCaVqyNgS7syO/Btk6JXMCVlZzubfKKvgAB9cY5me+LAs/ZfYhxu9/4743C794c1DtCtFgdWog4HX2Z35CGQ5dB8Kizse2TrYByUxUGKXnFzt+18aBSWX1avfAddg3mdSLNH0LkVdG2LE00FQWFRnK/RVbVIqos6PVssYK41JZEsk9VinmdCsMivUxAjkQ6KoYOIZrJQ4PoPcKe8gaG/2bz2m9d+63XQvA5ar+30LvdFPPJOLbFSEOuGwzClslzIQ6LE66AiIyIHrFl5mmnAqV7gVNC7Lyi73HnUEne+WfmG9Dj3tHMrwmUkhwO4hZBWwkJPX0dnioQJnt5lJxoHrP50xG0W4DEczupe3WS9izo6W8DjgzQO9IJNOFunmL2oFaegj2jUObjlz2LOW2YrqNPom2BLR5XZrsoFc+T8sMDojvm7IITnMDoclYmORqDUPGxH6LS91uNJPar1mSPK79O/oB9G+E3SfozfrAeDYkZMvx5zfGqtMjC+LFXIVD+32FDxwIPELkHTkI2ObhiL3D2seKEc7qfR5iioTOq2ljv7I61si8pQVGaL6rWKyvYtqllLqUsN9yo1Y+yk1JS5NW2xJ2fyJ7BKW6Ak14OVP1F/0ioqPmBRjIiF0pZpMewUHbdQiyZQGy/ENW5Du3odqiZfMEGJqFVHKHVIseZn1IjrM/8ZnaStwbxhVJl0W+oMBHCmcqfQsFUofMQa8GzhJI3MjItdZhxwpYtSY9aqq2bQSQSCVl3+dSIQ7oWA3ypUXVehtmWCtjJkyMMJyFWrEm/f5uWWtHV12HGiUB6VVGWuZ9d4ultUH6qCQitnSXuJohuNyNzuKCnvupUUHOprPcUPN05VkV3B3Ex2Bo05YF6QcPCP42X/ALoKZKOSysTl1HJnf8jm2UOqJ3XVXkXBbqohtK/SvYqdoqyoTMm0J59MKqsDohUeQFlduyhGxEJZi0x6EGXVQm28ENe8LeKh7qxDv/hA2orLFbnEjZVLrsLKpVQaC+T+AbSVg88WTmqK+XFpjB8Xudalrrrq8Gh8IHV1UAzSvTCYpq4OVqhtm7iq28pCnh5EXe3RwNyUtq4OQ6b7qysaPpGBN4D3al/PFSmINTOIsRzZfOgP2k88NY4lT3YPbLxznGeO8bfhmZNBN2QFjfT4i7+xSveTznv11G3HdU9Ndd3L7mITteO6l9Wue7KOKLMUTyuBkoRvfjgHN9mB23bJWpn3srFjMT2l7D48Z91EXsoGWEAVk5e4H+vXXJhx3gd1HXAWzJ1VzLNJJpU53qyxsBsbuWtLy7yGm9OAx6FdmGOXqRRDUTt/HcjeGbvXIwp3dCSbdnjSZUTDHhnOgF/VBc7XGUeozijLGmj1UMCi++T3VScoV/5fsRVW+xifYTrLBCM4bJMI+tvDCP7lZ2RnA5eJH8V+yPYNfd/SHo3xKmyovECg1ntVlWzYICgi9jEfQhlGSNmtDPtKAwhLZULu3iNsn+q+6hYa2UKHIeFBeMXohi3MkY5yBjX/c6UInJAphA2qMlfnWxMOP/G4R5GB6xqVubhFLKw3S6wq7bL+3f3Mn5FwQ6TOrpB0LT5IbIqp9vN2RMsZU05Mf//wv3kjHe+TXFV1jn/xQ0iKil768IiqfWgDGyGQL0Y+MIzL19ptzHtshcJkRgx5o2YlOwDy38rUPHy2d/31cnACO0queHY/jXliB1MsvjnNOjcg3h5UsneGXj65U30XdVMZ3T69gwQljdTgW4cZVm7F+iHgDH8NiXgv3fvquwfcHX6wzxlj1ITKxeA2kD2lmJyxt082t7vN7YtefXt63d1p906c8LFdIeSqAfQMZih75tcujcgAy8yP3cGTToEZbJnBg8RjPhL1SA1W5vKbRzQ6zXSvMj//AWpUylgw4EiCfXaSh6yzfzU3KufoxX84TMkiRhhp5hmfMqlMf6tcqMxuWJWLlek9aIHnqadivX4BdOeorf/sB0eoKtHz68iZSM5U90lJzRAf/usd+t4ndf1PzajENoFf/hNiOpKQpijQQKdNXSBfgrpQEhmZ1HX8wXPohvrEfU02EFEnTTaQekFHLhsWWX+D5+YIzSYXtwKsVH6BHY4+OC6mXodYVLP1Cwka+thoEbB2rdxEVIl9X4uyb6Oi5nEbpSB0x/gODSatAZM5tgQg9uwxAbA2zQRgOT0sS0I8ccZrJ9I6BVGLyWp3BcNBQBZXPKbxHJxhfPOxikgTYJGTWxxkAqfMEI3BKWSE64Jscm5nzESn3LQFNdDuI1iMgFTPERuRTN1NSiU1xx80O5dIInLZXx/C92cBG9cplWdTBS6VZ1M9XKEzA8HnbcGxLdgbL9hlwZSSDq5VMOnUGWJTaXmuYE7n67aOCI3Vyh2P5ybDIrpmHSRTxCFY+5lF+UStA5evDlA+6XawFhicep9dn3lrQDfUSeW/+iZSaNr7AZgVD7zd//Ljin2Mv9d7/vF6h6+HrWWfUqWP3vMp9p8SFXmK3orW923fqsUJm+6OERgnIdkBbAv6M4BfnA/DJMAk50n8nPI1/dxGbCjunT4Uboz+5GSOqAo6PkUV8iai27g2CArc1a+qtUJcAq8bPv9VgK/E3zMSyuGLABUbuWXvuGwiJ0uCCMzJ1tinwZLcRsk4EE5xjROm8KgC2NHBtbAz6JsnMeSyCC36CCTzcby4Au4vXwnxuXofbhCvCo+csTPg0iaR+Y/qDHbHYufWpnkOn3klJRosrBbBtVrl21AWbHOEr2JzUJbgdENMssMHNnrAMUrHPdGcz5vY6ZUuPIw6/JMMO+NT8G7bPRvKz1/bzZS/bsRmTGiUExoZ6HKogs+jixBkQkaGR1JPqTK+0+4zVbyPnhCK6k0WoSCkI8aPEAqBUCgIhUAobCMUCkKhIBROIhQyQglVJwiFnEiqtZufTLrFO4otWL71CnV0Tttg+c4l/4aAlY6DlQhYKfvBl7nJ7ywUu+hb2JKGZOyDEtSwcb91Q4AK9qBVILRaY4i61AoaarUbkf2+fIntdLMaMug2JKZowbwCXNCQK6j3zLimDESCwpcBGudDb5hJb1hOo1eIpXxpSOxXxvrctwfleBbqoNTjxDeEgt50CrYkNboJ0hDtIaIRjXjD84XiCFBK97bM0Q30VCG2GmEo9IXHeI6gJyHBjCcBJrYqd/eCJ4HBOAIAbz3yeTAYjGiYtcYj/VTCinz1ccxEoRv71GMScgDARozaELOWqTjQ7qcoet32g6d7W7/m1yRQ1FAnb6jTgxrnWmoqwSMmhfqGxtiqdI/3+7OfOgd7SqhJn17AUg/7NKB/IAS5Z6PffKJ9030lJL0BSCQTSERwSOUQFLI7tgeX7IQjG6BJzW955wtfJxznzTxEOJrZDQlrgNlf+LJxjCs4hAkmacOp6USfEghLYM+Cvxcy6T7IpG1k0inIJIiZwH0KqMlLm+cLDoYAJgxkH0TGTVem4rwOa14Vgi9HuEgkeoVzv0pqt4Dkos7Y/QoeS/AhlRRUggQPgKeFTZqyB4HPOyPYn+WXWEYoaWSjbfhETQmXBse3+NwKxhvyAqHSAnoR1LLTdujAJBnKyCW40Scf44AEp/xH+CYwwRak4WflNZ4Qx4CffEzOYGb0vnL2lP8Ev4PPHd6p+8rBKf/RxxTTg+NueOZFEWyeV53jWdDhfCsuXrngJPyBqswRpwD3H6QKzA+KD5qeHZUzgKEv6d5X8aygzKEMRmRT0bdCvv3tSs+zS1il4/vk1d/BjFaie/QquI9Fi+nc1wVRHlPSM6QmLcX7F3VxoWDbbSSap28fkH5UJmZ2c+BbrmAfOvNFoBfxfPGWBOSRADuDmN48UKsvG5mH4/h004wleGgsQfMFrRgxh3V8sXzzI1hema3MAxsWPSgJsiY5GsyMFE9SF7mvMzUzEr4J38KdVBdnObQK/KCxXnKnEMLigA/4pLaEBnUPg9m5unZ4u0AuqCSjZl8j9BH2t1PSkM6hSCf10uxm6yP8Sv4PH1XqjZiMfkKtlzMnbBw0xFXwOQDN+cKGrXqEw3j80uOqEm71zJd+orn/qdb95x+z97wbxRv0RSJoZFWxW6Mdd8V23DWQ+f3WpEXE44AY0WtkUBNhZUsGNXGt4qNm0iIWlRhBJUboyjnvCfwZ1JuBI9GLkdWLra4cc36kQiKr5yOnEjlRPXFh98GMj5SvCWzcBhaPwcuCNWnBmlhY4X+XjMNaz6/ICMwzvwBePEo3L6AFZunmGdzg07O46QfjAU3QB8TmXz5cTe6l8/ygaajMDtgyHrAlwD6TAVvcDNjYqMhaRkUkJMmIChmokAkVMlAha1FBtuEJJTKhRGaNwgxGYY+JkZdCgYw/SsW8gKktPN3WSLvQpAeFJN0PklQgacHhoLh+FhFpu/K46vduMp94tqUjro77KAnscb5IBfCEdBoc/lKJU8ZuENiy0LOjgc21omVVWiwTh2UyDcukJQhslCVAMBEEEyCYtI2ZRBBMBMEECKYOQVlItwgm2AD9FHYfJ11B4BELceXZsBbZa0JadCGVx/1gjWzCKfByXjBJwWso+RiUEqwwyXlGFfQmM5KdJY9K9wGP4RTBeaym1z2GtYzXrLOPB8QvN5MowmypMJvIZCSWZdxYlr2uTuqRWSk8eC2OEwGe4DrO25LJMV6rIXsKns0MoUR1ZEY65X+BwbcSe039qV4FuZhlsfjS42IJhtt4QXT+4uOMC5Eb+xSswVH2mFHffQ57JE4CmTKVJ2JK/IhC/iN1nu4jU7yH9+RqdDTp5iZ27Jh3Mw1ykf0XUAk60Gd4HYXePOpunv8Je/PSY60lFnn1mcfszYsMNUFCXTZ6WbZ54hW0/yefYPivCPzYMC1CZn0I6NPXCfqMWG2ERaNnqOdggTFskSeyQwEb98xn7ad5++4QXPrR0SzSzQuPyXZWGYou081TuDlMN0/j5gg2KAQIlMHeEUtkyg5XwFo8kz5jBlitOwxD5IliVMni3REJTMgvnn9bxe3So4HyI//bq7BzSS8jfYI3/8urBourxZxegPSs6EXOivVmqgjrdVLDSUQkmwvt8PKTTKydSohELHgXK4w+Sl0+hx7f8OYUPUtvZPnlOnU7zxDf7H6f9xeuvSz4DiRe6R5gdrVyA2Y6DmbgDIzI2n8RBsizhmPaDXQMUzDMrwN41pxCYO9mQi5Wc585ApEwKxkM0PjgJA/pibvXt2x8RbuHbwAXmm+Q7F+mJolvqnQz2+YuDMohqd/u1CnO2kEB5aKhq4gzKwIatPLgoeCRCoTR7ooSJVGm7l1mt+5lxicJIyXBwr/kFAWG6OUhqyp406Qog9Qpg0WnDBacMlh2ygBa4UnkP8LBfq0aiF3NUVsnLHd1AlREudLWCSuNTkC4uoVxnXCIlYFOOSMcM7BiPmK1QLyl56kg3K+Mq4hD3EuLbRtZXeR2vzPFE94hZXVrmrvZktS9ptaRLi+2YTVuaZlbWuYmaJno5toQqdUzZC/abX5WjZSR43TSMJhLLPC1ELmQbeayyrqXCuq1VVA2RQXNWxU031FBRUcFLXVUEOsZGCZfciroi04FscJZdgonnVQ4bDpAJWQjqzJkNm1UVVAoWlRCrYuKwRKUy1JHTSy31ARb4OmEmrA0vKUmbqmJV0NNUNJXxxzpKArbF+6hKNodqLiZ22HIkanDEK8ehqy0hiHH7Ls3OLF/ozMvjjv5107+h3b0ccxJ/GF6GIJuGn+WRvowy/jwkPDtZQzxeGZGH6LrjW25PzJYotHcHONDo8XhvD4OFbDo5qNpwLgqWu9FTHlykIRFzj1kgjxLeSKePonM7C3BviXY1y/YHNh2EXYv0HmGu8xD2+abiBoOQxie0DFH7UtlYiPZQnapQifrUsEhN81B9jDio8zxlj6F4bJJH9TzW9jDkthoSrYnusWwryrDMgsM09cz38oaYs25mJhNzfI2j96ke7rqrETSjGUkca+e/37+SD3EMtUQ1TwLjk62eEmdV7jNYJv44iNs0kVM0B1e16EyhliuC8kgHUaI1WOuPOuh37ibA1XyqQmU+n7MgvV5gQ5FLmN5jSyxddR8iEAtKvOZ5zhfu2oGKbb4Fub5+UrMxdjoanujgjknWLzLohhu85w0y2IhwUW/puz5KzrdwjwdetW0XgygJ2yFIqKfxU4Z/5bIAczeHmD2HJiIANUCs/eyRS6xLIKteDde8l4pHgeUvKSWPIRiEYNEhhrEV+unIG+a9/Lp9CMlwlX5W+bJebG7NrjMF10KhJ86JQYj7xcTDk1yjixV9mznMUTc/QieBbc6iVe7k6g59vXcVySd4Qu0bFEr/kQX4NJC4tVZPi2EMWHMLLDpkporoo0T2cyCGKDFRmWtmZ5YM/Q7qHIagcjazV2yQZlU8fwWNjaJ5Z60LfdFPhJJNqEtrA/LW4b8LUP+Rhjyp/ViY8LvbxUttq2ipZdnFS1WWJOGVZSxVVQcyCpaaltFi2QVLV7bKsr2sIoWW1YRFlhxIsUCD0SGBfuCIkgrpv7ERMJSJfv6YNe6LhAG0RlLbEfRR/Mslut9GEvFLWPpW9r1BN8WXc+ksSSdUGMu1R1Ry1waM5bApSTVwpxKjlX0bnUSt+yiG2MXYanA2UVk94DbPF3qBTDfuZXhfM4nxFjXlIT5TvdKjiSPoOc0tG3N95TLb1VeePoWj36reDT+duDReB8exTmMwsRkipxrOvUFvcxzlRvNK1mU08sE10LFM5Dynl+suxcEN/f/y3qeXqHjKWDj4KC9muvtYr1O7nK+EDquh64SONY91rLCJ1uInQ8PCRYVyE1LWHokLKvWQbYv5z7eEppXV2i+zaQF5eb22Ou+nV5xUuNkhviy0D0RFuZRlhL4XhaQEh7U4mGdQ9mKoq9l4azde3vL5+3WIPbmLzNHr4bX22EsIR/Wb+h4va008PBos968kTSbNxBbV4KcHaME7cABMRNXApB9ih+fUncXSX6zeOzGbftYs8vr+8M4YChLZr2kA6gecPhoensz4XVsz/MAvTNFxh0yL/invIJPfbhITLgt/PXu8wVWi7Cojzm2DbsXC9sVso5noo5lzkHZNXa42kTMybXLdn3+PA6/dPsM4SPIu2TnhUH0vMCT1A4IkXNAcG4HPXkRWe8DHCokd0cpEXtA4qQ19oCEbc4ekLN0ww4JA7phhwTEFk0QzC5AnO1ga7hko9vBJ6rgioHOFiJJceDSQ5iE1CmrZfZUWCDKzulDcGYUzwU714NJnnJZw6Sn+wVE/hrBakKANsJmV5iFhXnJ2i+1m3QEb4faATIzp9dxfJ04axyVePAIU0WtPMcnNerYOXawvFnPppi3xUEQcfK6CYxsBgDZfRqbIGqI8ZrdJiTbwVoZ4XAF5Tb9BmfwyIm+8rji8xVOIsbQak7UncFRSan8eLyJAAHZlO6v6GgFMefOrVAr8dlqiWx+Yzd7+H8N4Qj+FuypkC/YI82a+m0cILxCYFhw0tyqZAZw9rCuOTjwj+/yYyQUn8je3uXntXf5jaUZS/DQWAKvu8uvCabHIOS5KwGVsXJ8jDWVd7E8Kq+xIZSEF2XOyZsfqbS9E38B7IGNJSDYRZfmoQpN+qA8fLTSR/k0MqZSmdGj20+KuJXYH5jzPB3loWRzhpcy5+RVZD5YmdCeuM4Pkd1U2ST2Oolj+x0PgO+nnlB2IpM/J0yPmOkBAmqQpYmdCLpg32J9AESCfY9x9xyIkDcih9iITCS1CeM6RcwxzlGhjkeurzkjZhZ4Ilu15fLyLFTDcE4Y6SjE4+zwEOIlnsUqAZ+QC99qJt0s1VmMRiSsh8BRMyQ5Rwn6OagNy3ncA3G7lTk3VjkQtmDHxmVuNdxRh/fghfLIykm2H3Itd2isk5Yd5PeD3KMpb3iE5HsZErnM+8/1Edltv6wPA/klYaMBawJsZoa2iPiMeqr6FGsH8NUFNDY0tzBMxY2RIFpq4trCNU07niWO8Iowu81osxOD3+6CUxwTlsjBXNhlKPtxUeFqEaBLEtfQiu2VOqh4VAcVj5ogkZG8CRGcIbI7pazC8e60oWf70uO3C3clS2lU0wyOMIjdqxnsg+MnRrSprQZh3wqJQ6VAKeckh0iEAxyp1tizjvlfwSh1tQYN+90FNMrUR/C9HUGdQZWHEfQvdZfpNl5J6G2GPnHw753OoiQJYAOOY6VTyZYgW+Ky1bjdXQSMLUIKCO7SsGIx7o8xTjlbK1xHAHOrbgeLrGCK7aME06W98IQ/rcQh3zORPy1RF6W9m0653qxmGWArfswxmkig7nBHwzhDJoFnH3KGuObSlIMS5xKROGmFTrehU6dAA5GAZZrpWexTqNdzsMwi1UZ1cHauWB65BgYxGovSbr2UuxhL6N+UD0aq2dL4nU3Avq+8vObTCSKkbSLkbSLMttrXukk3cqtzaZ0crZMDSDZogU6iZ6d+E+pNcip/bBDdu4VrNaMaNPrttvRqnMaATV8WO8UyCS2i4lgpaaq3amiCNvtzBrzr0Sk5zkhqzkhgxnU0W8kHHnM+9IHzCL9pXfWdERbKR2fxXOB+rmvqcJSPBLB3TJ2wbeqMpRlL8NBYgnAvU8dtkEU0dhsx2uful2NHc2AUGJWJtSi5kIyso6zBABuYv4XGGny3iI8QHzBuRTlI7eb5tNmom07fPJ9Obp5PaWyWYmyWytgsxdgsHd+om8r4LJXxWWo36qaTm+dT/mg3z8uu3GZDbjptZJuOj2z3hWYKJGMjxdSOFFPdhkiCL6RbfA6qAHVw2hVdOIvroV2xH+2K/Wi3+RoiXMjzL6wpQiGgjKpl6340OTlyBnbvywzIITEyXsGs37d/NA4xjuz4VzST963UTDhv5AmFMPNz+W6mYpyRextiPXkIGhb7O85M5xiTHgsbU1WiBpfhWJxJr258j2fU8HMCf5iWyoagBDygp2fjS3JOyJXP9WrFJ9pzhKZPcZwliTE5DF1wyR+3k72htsCE3LFJPKuDAhOeHqtUplUnoJsOS+RguewJLJHmE1y9Oq7cvpWG3UrDg1UqaE1ExAwRWx+w/BcLi39dsLw8AoQCywQbOLr8hle30U2HJRJYJrjAwVK8dpqo99ppoaPX20ACA6onoGQarQMGosx3QfEBStM4TdMo+FcqoQj1OUcRiSr/01BFOxP6JmzpG9WgEdQizvFWpRYHPUAtVRcF37rTtyD2bKfORA44xHkOUj3Faw3o1JULakomCGYwCHwBRzUNrMbBwekLWllWuBZInPh6wXKxVnW0ycx0ABpxPQel08sCSmhlBlsc9o4IFowTrCFX2IUsFEtoT5jC6W03VNILUyV8qCL3wmEtAgKXDRLKxg8BtrmZfzpWfRfxLDiBuH+eed4bKJFxs5sOXHQUX0Y/OLbS58iDoTsFEuMoO0EmfS+f59iO0+kGOxIYMaaxScFBEmloTXcc2VG6ZUlL406TYmEXsRzNwN4tGm3vDptnPXt7jEad9labXd/enjC7ob09STjY27eYXVfWHWbXFfY2s1uX9g6zWxf3LrpHedz+ifnTVE5DpdtPuFsG+m/Qm0d46TCkDpBGvptkE4f4mTGzw8zwsbPWHZqPtfilFJN3GS9gB+YdmE3tlbmsSwe6qMQnRAJcmi97GLX2q7LPJz5prhcHcMhKCE8v4tQtezYVQRFgCjLguHxMTaK2zrfu4nlETFC+mOKgCIwYDbclG152kKxkXoQj6yWCj5YW7slpGIkWV4+AqIoFlHWq7st8R+8q80hG6flEaT5rh3DNCXwCmaPf4TxoILdtfu+XiQGBpvnl3/M3Nqk4f9v8mz/1NnAuz5b5/M8F/DLcNo+/Ee/CLXPlj+VdumV2vxngZbq9aQbaW9+mt1eDc2w9ZlukBoZQqB584dUWH0fOsAwlNH3OB9NiF5THh5MAldA5xIh57OVMGTtD4Et87tAah17+aKASq5rTMjSDC9Jj9MWc9iS4IA/UAx3iJBs5jkaGQZ7ECZYBO0fgpTSB9E0pv09lbRfuDiym4hLR12Hpu2VlrFJcDTaAFc698cXuoxKy7VKtSxGxVtvI5iPlbD6d7n5Nd7+hu+/o7jd092u6+6A7jns3L6QSU/EfpRJ0MWCj3Z6gJIf+yNQOThyhlDQ8uwB1sMM6MVkLdxjMwGQVQ8pn5aybj1RAANHRiff5MGFDLbi+rSPwW+XYih4is5PnTx5Xx8U0D+1RrZ4bVAwPIQiwXcmI7FoHn6Ad4wTtsq+DUTlAvlFpY7DqQRMJdHARALtAVH0jB0kh3ujAL3v8hveu9SSI8SFbQlhXGV5E7BleXjk0wvLftOWVeU6BaCukA76Bt+d4FQlLp9vlCp9HMtKYc+STd8JReWw0XPZPS2xVdCBoMCwz9akWHO1l0rPlGyjpoTPl8c3hkA9bIpHw9PL6cEEf0yvYpRHoPk6yoW+XRsM30cfZdQ4+M1grT+hwdXP4ZpKBNxJvHiH+xTzrG1YQeJqDyM3oo7x4YZ7q8QTdDESnxAlGlKiQKJtYecpkTDdHLFBQm+OU+hlZ2Jixi2T0tuDVHjnqyp3AwpFqOWIODqAse3Z28nqSs5/JjHmYFKcJUaUvAzhxTsPEbaj8IEDoT70gp0fTnworFLhxb0loKo4g2kkkcx98FkzuqraA1BDgMO+FyscJM3xa2nGQrNCH7EQmGSyUaY6eUdqJVZeCN1biPEEkGSDSop5jU1fZk/5gVK7oIyD1EXiszBEximoo0ZOHVMIRhOHNRsM+wrya2E5W17iD9DNxGAW+8tIcpDhbYA9Dto6mo0r6vNLu039Fg7KcjjoVURzByKWE00qxxCwcMfcrKLQFBTYKCeWucKgggwE8s/VyhvunHj2w32FZEE19LW9niAXXSxxmhdfm+IMldabFJXpYxIceVUXvepTqUtk7t1Iu6SU9Q99mqFiiC32jEmYu0QN9pS/FuZUaXhx8tebWzDgC3LWwdTxTXQtt35aoXlErwPRDPuuGYTMvHCgzepQ+WY1y2Mck09RsE4VgmzjX+WoBu4NdCQq0TIUCc2k2O1Xv69lOzGnEiNY5DrKGk02OUKuU5jBv7mzaG9sm+cQ9aXcGO7NNwA4aPvYPuxoG3AWhNycMUFHfnjxKAEavAMB4bwAdQ1pAXeteL4wRwxi+AhgjqJjDFZRAn+7exHcF5e+xyTEF4ELEpBaeRQ3HmT7fL1WQA60XIUGLEIbFSi9eogc9KSAkPN+hv4PER+uldcgRvlEJS5fogb7Sl0UrPHvRpQ/EAPcsgB4QRKTKusTqaIYcxxK/fGKhhOEMTFzqhXzoVW5eakQhzWFLoq7I9sQqt2JTN97e7TuDJDNWT+RwbHz5IAcNDy7cBCHxGUD1CgD0b64UKwbQewUAooQ9pOHgALW05JtlnR7HMb6RIQn3hUSOTSCUBt5Rq2FzfRRVHtXRGSprmYohI4uLXNZHR5aItVX3HrdSapK72FGWDEeEVJ83ZIUV9BNskNDMm2RjOBAzb4H6kBVYciGM/IchYSEs+4dwjDdOLjUfq8huiM3PZXDRmSdbcbhCFvmsCziKcYxiY4Nn+4/yei8vhLPfE0fA1tgVsDyqSl8fq9D0ynYSOUfFVoHnA0b/LFn485Ge5whmvpyhGm7rdFSftMevZjfqV34rSnsG441MSJwKrAsqeq3wx0sBC86X2RB+3aGcnGpTxJP10KgmaFclb/3O28C+bb0KOzA9BJgChmluKKcVI3bbeK05jqVTDbiuQEVfglaGpnaeBRFcVlYdJm+hJAmVudHFJN4mBpjAJOq8DRqsVRsZi1/nbdTQovU2tm9V523i3jav0g6FPgoKJUyhQU0hbwIbppDXEM4VaClUf2mw8vGllafBLKAvUStPg12IL608DYYRxlitPA2Wcc4zNYfOyEiS5EEfEueEBT5Om9h/RvTDET5NwOqA2mVIWoT+tIYoTB73zBXKl4eEdB9rTj1uztZekNEiKw7UNstzTPbUDNUoq5ZGw6md9eEH7kBt0i3QA7P4mSWzdhm6YBnAH2FBt26s0Zo9F0RxpNIBfF4ifWxUOgfhvpzKq/23YobIHN7C8aY4e/ilZGPTDPj08FqE7ekLNDzKv3aHTDGeJsY44c7eUOaZh3F45hFsZFa8JBjYQwH5rAVSJEeCqf9YvbQc5j6lSuuSXgZ38undqpnlV/UhR7GdHlcy3xpjZCae7jzFyud1x+0p1limWGOZYo3tlG+MKd+IZ1lznAf1lGIf29tshbnM2sj5aKG2AHXn+8MWOM18bwNM2AUmmA7MMJD53kDzdF9s53tj3QaqNd+7iQXwcOpRebKsEExMmcfd4/JiN2XePRFTvZwTMdtT5nJgnlteiN3hWn4zYx6MzZirLmBKKLgnSOEe5/iFrRnz0J7jB3DCiXP8WMyYinz2B9bJXy4hD0zEV0rA1xD5hHToz1N3wHnarKfzmZUsxb5zVPCnQey3HBX4iBN7xCVD7ANivw2xLxD7ArE/CbFvIfYtxD4nkoUbOUIGey5Cc/x8genOWRwDEuA+NFcUTi4zp0UjDsPuYQpKDlMog7vFV95CHfHBOp2TE1T35ARM5CZOwfh2hTOaco6CUz1ydIK0PHu+TazFReA3aKVaosagUkLLPWGCVxllgo5J7FLnlHMoAlntTHQwdqRDA1WrNWXDKSLHhuaJebd/lPec1IIm6ytARoeIwWE+jrJqkqsu74Rt3pmibv1xddvwTtjlnWAP3umqW9+qW98i3OKdGjc1gRsrYiAmraQVI/acl6+7fp/6y1U5l/Q1r19eSwpavAjGtAyOWXqbHO2D0I9ytM/LUzhqnGlutMKxyiaCsvFF2fBpQ/AoVu68eqZ4iyvC9km3U5g+GGf6pgHCbgPE+590C//l+qTbcOpJtxgsC39DNaG/DICyQkQdxPqAcQnfMqhOF0A24QhSJdLobHAUs2EKS6luC7r9imD2/Blc9vy7eAY85DaDVhpv1KjdqJEjSlSLiT/uctg0atRt1HiPRo2EKHA1h3q17m4+Dlcbb1TZlG2HRvWCeK57HIKUMSxjzDBhZ1xvixfxrZUtSytA2ZP100D85qBeKsKceMWGC0rALQGM9IAQtpGQoqosZMGVANvi1cIMq2jYtseQbGHzFrHElo4qwBehk9jlYYUM8RM0FXccm7KTOudBDfiXtZfZDddsNO/7qeknVRifsOwj1zfVmgEZHtgwL6q1lWLsfJ7Qns8Ti49i2JzyGo4fcIbF0smzecKun2Iw3U+xPpcnYS3uDlAV/8TmbFe2nOyprrKS2ZzpGnQdJoPxfaxBF5B4f+fOQMQqsmcIT3HulBOEN7Hp4M4CTULDu7A7M29HUy/CDZBIh2FwVyACEQjpO3xZflYNSlFXKAhjq/yupe848aR4cN7WIGlMKGrInoKLCUM4FA15J6Z3cEK5sq6osoYObfh/sFGZkOufLbAB//WGVyh48QYrzNrvDwKwcX1wWLn97ZMAHQgCOwXZSBT3bjGI4XryX/fO2EHr57wzGziCFBXDSPS7puvBwI5aYEc3FuxIwBZgf5PAjl8/4P66gBtMA1ddazjDJnhtQsh5pNNsjenGRQNdxwRPzI9KD03grepgA/2rhygMX36c1x5eW1z65ZpLn3s9cenXXl9c+ievL3D/52tOqBpp4u27H63E9J427HAdl6o7rrrHgtXWhr0LuZpul8pAw68o/cE6Jxk0YQC3w0BEtnL1Ciu3o0ZuaDtovFlVNRXZasRxdiqllY1we+ORZAZ5lRF9rY5jPRGBU9grSwKwWQ1DZ8jlYroNVkNrwg3t4FIaSVm7zlsvg7tkXUZmOAAsPAOplkXewh/ZA+nJ3rXTdQqe/IjKcYLy5c+/ScXWQfPZx1UTgTiTdy8gbkZ381wim+dkn1riKJjUo4+03j7TbFBLuhvUsj02qGVCugSLyZndoJZgKXt8g5rs4Sqzbvim64CPWzgZ30c3BmZvDzB7DkwOsN6A2RsHU463ZVBTG8ApLVQd4PQA8ProFpKD0PSVAtvngKWwaTjkErYOPy+Hllq+QGCBtOaN9BZbvAK2GGcKOL9M0B6OVQdHoMUn3k3lE9mK6GJKJ/DETl1YWwlCTdrlsE44vheeUnP4HOxl1iYu0MP1FeDiXHOXYSNd9xDpGtM3lopgTFdozv4rZrfnIl1DARJy9XEFPY3DbJ6REI49RLrOzEd4/3vKrbOD3Zm+uIulmJfL2b20b57qu0DXrfrgASLhruE2iHDXkBn4QBOFEV+7L24MeWWucH6GoL/lzkIgOksenbuA1wSgDXidOmRkh38Ps1xmVw3UsN9U3wuhxOn3wj76W9n5ceX4SKanmrlxFgRVC6oCDynwEOc5gT/N5lYlPKSEh1RLUH1sbs3QqTIPKSuoihPtI6jXAV9bUK8bTL8Fpt8C0x8HsxZUZQVVTRXUuhnqWHwHwoQlVtUSe9PQGBM4tZfAqQmBYxf+3vp4ajI/eh8p4RPrb5H82ujVWXO6R+KOT1Du+ARfZxtVhAFCwrscER/NfAZnKSrgSZRkux6ujjH2MShEGzPuZIR0f7vkFl/fHL5+/bCzvy87+03/sUOQhY6NfXfcGTYGKdkJSdUMtqjQwYP02Z559owrGnUktThgCkdOPouwwiDBfeFSzjuNqKDDD47qAe01jetbTHzzlDM14NB//XBzsgc3g81FvdbnfmB925pBSfewj0w2UFoTSMIP8qYsavuWRifYtsqsNoV8mEJq0hTC7j/eNkmmUA9etwRUYwq5DlA1ZpDqmEFKzKDMQREg3mRtClHn4GDQvJpW9089Zw75tTmU5BYxiejGy7+5NMIV4lcs6w0qWUoLt9uSySHrU53fspC+dUKYfRuZSo5jO8ZS3hKtTOcfKWHSk5Xk12d8NFYSgr7avsJ3BlPmDCaSgo1qBCj7kkwnEn9VVTmx9LMenzBCFlKW6yz/nUOYxam9xL7Q8HSn30mmsHxnWblZVB5zj5gWnSfpLuCG+0e8CdsRb8KpEW/CaTG5Ywtf7OB7hS6i0R4uopEDU6Kw1S6i0biLKLxLJmNyt1g+7BpPB0KAA4XENYPfNOjHGDy0kbk7DI7o3GFtPNXxuZtDiesBaHZAHlOWBC0Zn9KG09Rq0pXvcA/57vKYsugry2NttTqVx64DvjaPNWCGXTCjPcDstlIDZjRFrYb7qtVwmoF+DQSYx6Yp0RsM/TQlGk7hscZADxuDpp7eUc6uCe30zo4cqicHmfk6bE/vhHzAUtI6YEnhPDFV2zXKHWYW2ugNvAMIPomRxAMmuyblw8ziKXYNVKK1axBXy9YCiKgFGDDsCg75ZLNAZmtq40bZg83EuAnZIhEgU2fcgABi3BADD7mfCmsDJ4ZfW+3kyNh3TwoZF7aOx0fj79F4e4R7ruxIrmaJw8a0C/dz8QjZHMsnFjemCtp1wDbdATU42BpM1HJAjVoOqBNuZ7Wg+VbQ/KmCVjNCLXEHwkRoV0vcTUNjTOL8vbS6P0Wr25NCwM9gdK8ZHKstN3zmg0NIwMlUQTgUe2b9FsmU+LpFs3w0mY4vXLMT2MfQa3cC+prWtWizCS3FZQhf+jVfHrADOBBs0zsA/2D9VOTs0PDGdADOrp7CoAdCac8u4QbjM61LiPboEqzW7rCojtcbxR5j7jHuzD2G+889hhuVxHcKJiceQzvxSKMxx9c89ZiHVER+jmPQsIO0+BUz7ezOOSrJp/+3W36rNloAOl9oxsaL1cu/rhQWujmUGgqV/sRHZv6h6nl8bt9QQjVRjzI+R4xBGEbji992IEFkHmbLhx1iIdE2fJvkl2jWPu/WFnARZ9uXbXf1KwlHEyL6DCpICk8OD4K7K4JCg/TEGbJVOaioxgkq8ABls6ojjnj5DytemQhkY2NoI1cymAighAALiI09TCSIsc1nA4Q3cDCH+S7MULBmafqzPZWieMURtc6GpyW6HBkG3FpQnIZ3/rHHY8DpbFigk35oGxa4uBzc8/puJ6KIAUc8sh7UnDEdz1g7IlPmoJs5Hc/c3y9z2M3cH8882C9z1M08GM+8uF/muJt5cTzz4f0yJ93Mh8czH9svc9rNfGw8s94vc9bNrMczn9gvc6+b+cR45pP7Zc67mU+OZ37Lfpn73cxvGc98x36Zi27mO8Yzv22/zDPdzG8bz/yO/TLPdjO/Yzzzu/bLPOhmflc7M9xt6mxGVIf5eA8qjaQ5xOk6iuNmhYEY4QizlpnP9yuEoVyXMykidnKxowJ4eHOg9K3KhRbDzhuOCAdFF9QaW6IGi7qEiuFwv2c4OAL0aLSN3WtQzZl5pI+dSgMdrXNAOgXlqKxSMnNyfpJ5oV+ZHYntd1UR8AMlwf8v8MgdZEHvBaTg5Kx4gQuuSxxLjrchmEx763R/nA8P0QFmiDzeJMWh2jz8GHVuZaCO5g6b0PrGsWak3iv/dNb3zKNZHjybUXf2RJbP3//g1v0funjvRc+7+jc96tU9ev+ZLJ8LPfnn2196fTnLj6R0iyu0l28v+vyNLK8mc8m/tHWNZ6VEUfz3Rh9+v/7A/ZubDz6w5W3ee88H9QP3XNrS73/wQx+6d9MjIB940D3p0YcvfnjLM1d6+e/66WvsX/Yq/0v2+Ofgia7xbzA376VJFveiPOwHhT+jZqmhi3wzsK0U0RXTldjWy+jq0ZXTVdA1SxfYZoGuZbpW6DpO15vo+k66voeud9L1V+n663R9gK5LdP0Dun6Rrl+j63+AE4iDrszk71GWa9zlj13B2BWOXVHnMpdn823VyuqSJBaVwoJ/hK4hXd9Nl6HrHro+TtdzAIMK+DhdigpRVIiiQhTRRBE9yIj11ICuwx5sNU/dQddput7nmRcH+b3jaIyDHbVI7MictIQla5HckR1X314FX+a35/KfVCodZH7Qmzusj8znYdRfODo8ecdt5cpiESczS8fe9Be/+x1/5S9954k3HJpdfuOb3/I93/vOt93+Hcf/wnf95Xd936m3vv373z32r5bfwII0a1sWX3bouoqLElylBFcpwVVKcJUSXKUEVynB1aue+fp8/m4E6vt/dP1fuv6Mrj+m6zm6Pk6XwvVNul6i6xt0XaHrRbqepWv36tUfWvuB/w8=",e=atob(i),r=e.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=e.charCodeAt(a);t=UZIP.inflateRaw(n,t),i=t.buffer,window.WebAssembly==null&&window.alert("Your browser is too old. Please, update it."),WebAssembly.instantiate(i).then(function(s){ft.rL.OC=s})}(),ft.rL.bb=function(t,i,e,r){r==null&&(r=[70]);var n=t[0],a=new Uint8Array(n[0]);if(v.Ms(a)){var s=new Uint8Array(a.length),l=new et(0,0,i,e);v.XB(s,4294967295),v.N.DO("norm",a,l,s,l,l,1),a=s}var h=new Uint8Array(ft.hL(a.buffer,i,e,"jpeg",r[0]/100));if(n[2]!=null){var o=ft.rL.nt(h)[224][0]+2;o+=9,h[o]=1,A.J6(h,o+1,n[2]),A.J6(h,o+3,n[2])}if(n[3]!=null&&r[1]==!0&&Object.keys(n[3]).length!=0){for(var f=ke.XG(n[3]),u=new Uint8Array(UTIF.encode([f])),p=4+6+u.length,c="http://ns.adobe.com/xap/1.0/",d=ke.zJ(n[3]),g=A.vI(d),b=4+c.length+1+g.length,m=p+b,x=new Uint8Array(h.length+m),M=20,S=0;S<20;S++)x[S]=h[S];for(var S=20;S<h.length;S++)x[S+m]=h[S];x[M]=255,x[M+1]=225,A.J6(x,M+2,p-2),A.jW(x,M+4,"Exif");for(var S=0;S<u.length;S++)x[M+10+S]=u[S];M+=p,x[M]=255,x[M+1]=225,A.J6(x,M+2,b-2),A.jW(x,M+4,c);for(var S=0;S<g.length;S++)x[M+4+c.length+1+S]=g[S];h=x}return h.buffer},ft.rL.nt=function(t){for(var i=0,e=[];i<t.length;){for(;t[i]==255;)i++;var r=t[i];if(i++,e[r]==null&&(e[r]=[]),e[r].push(i-2),r!=216){if(r==217)break;if(224<=r&&r<=239||r==218||r==219||r==192||r==193||r==194||r==196||r==221||r==254){var n=A.lU(t,i);if(i+=n,r==218)for(;t[i]!=255||t[i+1]==0||208<=t[i+1]&&t[i+1]<=215;)i++;continue}console.log("unknown marker ",r.toString(16),i);break}}if(e[217]==null){console.log("EOI marker missing");var a=t.length-2;t[a]=255,t[a+1]=217,e[217]=[a]}return e},ft.rL.a9b=function(t){if(t=new Uint8Array(t),t[0]!=255)return t.buffer;var i=ft.rL.nt(t),e=ft.rL.oa(t,i);if(e.numComponents!=4)return t.buffer;var r=e.width,n=e.height,a=ft.rL.pA(t,i,!0);return ft.rL.bb([[a[0].data]],r,n,[85])},ft.rL.oa=function(t,i){var e=(i[192]?i[192]:i[193]?i[193]:i[194])[0]+4,r={};if(r.progressive=i[194]!=null,r.precision=t[e],e++,r.height=A.lU(t,e),e+=2,r.width=A.lU(t,e),e+=2,r.numComponents=t[e],e++,i[224]){var n=r.jfif={};e=i[224][0]+2+2+5+2,n.densityUnits=t[e],e++,n.xDensity=A.lU(t,e),e+=2,n.yDensity=A.lU(t,e),e+=2}if(i[238]){var n=r.adobe={};e=i[238][0]+2+2+6,n.version=t[e],e++,n.flags0=A.lU(t,e),e+=2,n.flags1=A.lU(t,e),e+=2,n.transform=t[e],e++}return r},ft.rL.akk=function(t,i,e){var r=i,n=A.lU(t,r);r+=2;var a=A.$o(t,r,4);if(a=="Exif"){r+=6;var s=t.slice(r,r+n-8),l;try{l=UTIF.decode(s.buffer,{parseMN:!1,debug:!1})}catch(c){}l&&(e.exif=l)}else if(a=="http"){for(var h=0;t[r+h]!=0;)h++;var o=A.$o(t,r,h);if(r+=h+1,o=="http://ns.adobe.com/xmp/extension/"){var f=A.$o(t,r,32);r+=32,r+=8;for(var u=i+n-r;t[r+u-1]==0;)u--;e.xmp_extn==null&&(e.xmp_extn="");try{e.xmp_extn+=A.bc(t,r,u)}catch(c){}}else if(o=="http://ns.adobe.com/xap/1.0/"){var p=A.bc(t.slice(r,r+n-h-3));p[0]=="?"&&(p="<"+p),e.xmp=p}}else console.log(a)},ft.rL.pA=function(t,i,e){var r=ft.rL.oa(t,i),n=r.width,a=r.height,s=n*a,l,h=-1,o=72,f;if(r.adobe&&(h=r.adobe.transform),e||n*a>15e7||h==0||h==2){var u=new PDFJS.JpegImage;u.parse(t);for(var p=u.getData({width:n,height:a,forceRGB:!0,isSourcePDF:e}),l=v.R(s*4),c=0;c<s;c++){var d=c<<2,g=d-c;l[d]=p[g],l[d+1]=p[g+1],l[d+2]=p[g+2],l[d+3]=255}}else l=ft.rL.adg(t.buffer,r);var b=i[225];if(b)for(var c=0;c<b.length;c++)ft.rL.akk(t,b[c]+2,r);var m=i[217][0]+2;m!=t.length&&(r.suffix=t.slice(m));var x=[n,a,1,0,0,0,1,0];if(r.jfif&&r.jfif.densityUnits!=0)o=Math.round([72,1,2.54][r.jfif.densityUnits]*r.jfif.xDensity);else if(r.exif&&r.exif[0].t282!=null){var M=r.exif[0].t282[0];o=M[0]/M[1]}if(r.exif){var S=r.exif;f=ke.J2(S[0]);var w=S[0].t274;w&&(w=w[0]),w!=null&&w>1&&w<20&&(x=v.raw.QU(w,n,a))}r.xmp&&(f=ke.ZV(r.xmp,f));var k=[{ym:new et(0,0,n,a),data:l.buffer,NB:o,ZT:f}],f=r.xmp_extn;if(f){for(var T=new DOMParser,L=T.parseFromString(f,"image/svg+xml"),L=L.children[0].children[0].children[0],O=[L.getAttribute("GImage:Data"),L.getAttribute("GDepth:Data")],c=0;c<O.length;c++)if(O[c]){var E=atob(O[c]),D=new Uint8Array(E.length);A.jW(D,0,E),D=D.buffer;var B=ft.Xh(D),I=ft.$I(B).xo(D);k.push(I[0])}}if(r.suffix){var N=r.suffix,V=A.$o(N,4,4),j=A.No(N,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));if(ft.Yz(N,[0,0,1,10,14,0,0,0]))for(var R=0;R!=N.length;){var G=A.wP(N,R+2);R+=4;var Z={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[G];if(Z!=null){var _=A.L6(N,R);R+=4;var U=A.$o(N,R,_);R+=_;var Y=A.$o(N,R,Z);if(R+=Z,G==2608){var $=A.l(N,R+24);R+=$+24;var P=A.l(N,R);R+=P,alert("Photopea found a "+Ur.WY($)+" MP4 video inside your image.",4e3)}}else if(G==18502){for(;A.$o(N,R,4)!="SEFT";)R+=4;R+=4}else break}else if(V=="ftyp")alert("Photopea found a "+Ur.WY(N.length)+" MP4 video inside your image.",4e3);else if(A.$o(N,0,4)=="fixe"){alert("Unknown data - "+N.length+" B - at the end of the file",3e3);var R=4,tt=A.L6(N,R);R+=4;var X=A.L6(N,R);R+=4;var ht=A.L6(N,R);R+=4,console.log(tt,X,ht,N.slice(R,R+84)),R+=84;var F=A.$o(N,R,32);R+=32,R+=8;var F=A.$o(N,R,32);R+=32}else if(A.$o(N,8,13)=="FocusShot_Map"){for(var J=A.l(N,0),Q=A.L6(N,4),D=v.R(s*4),rt=v.R(s*4),it=0;it<a;it++)for(var nt=0;nt<n;nt++){var c=it*n+nt,d=c<<2,ot=8+13+((it>>>1)*n+nt>>>1),pt=N[ot],yt=N[ot+(s>>>2)];D[d]=D[d+1]=D[d+2]=pt,D[d+3]=255,rt[d]=rt[d+1]=rt[d+2]=yt,rt[d+3]=255}k.push({ym:new et(0,0,n,a),data:D.buffer},{ym:new et(0,0,n,a),data:rt.buffer})}else if(V=="edof"){var w=N[8+7];console.log(w.toString(16));var R=8+16,ct=A.wP(N,R),vt=A.wP(N,R+2),s=ct*vt;R+=4,R+=32+16;for(var wt=v.R(s*4),c=0;c<s;c++){var d=c<<2;wt[d]=wt[d+1]=wt[d+2]=N[R+c],wt[d+3]=255}if(w!=16)if(w==19){var Mt=wt.slice(0);v.P.yT(wt,Mt,ct,vt);var Ct=ct;ct=vt,vt=Ct,v.P.a3X(Mt,wt,ct,vt)}else throw"Unknown orientation of a depth map";k.push({ym:new et(0,0,ct,vt),data:wt.buffer})}else if(j!=-1&&!(N[0]==255&&N[1]==129))try{j!=0&&(N=N.slice(j));for(var I=ft.$I("jpg").xo(N.buffer),c=0;c<I.length;c++)k.push(I[c])}catch(Bt){}}if(k.length>1){var gt=k[0].ym;k[0]._l="Main";for(var c=1;c<k.length;c++){var bt=k[c].ym;if(!bt.Qn(gt)){var xt=gt.Z/bt.Z,Dt=gt.h/bt.h,Ot=new Et;Ot.scale(xt,Dt);var kt=C.X.rx([new Uint8Array(k[c].data),bt],1,v.P.Jb(Ot));k[c]={ym:kt.rect,data:kt.buffer}}k[c]._l=c==1&&k.length==3?"Original":"Depth Map"}}if(x[2]!=1||x[6]!=1)for(var c=0;c<k.length;c++){for(var mt=k[c],It=new Uint8Array(mt.data),n=mt.ym.Z,a=mt.ym.h,ct=x[0],vt=x[1],l=v.R(ct*vt*4),it=0;it<vt;it++)for(var nt=0;nt<ct;nt++){var xt=x[2]*nt+x[3]*it+x[4],Dt=x[5]*nt+x[6]*it+x[7],g=it*ct+nt<<2,ot=Dt*n+xt<<2;l[g]=It[ot+0],l[g+1]=It[ot+1],l[g+2]=It[ot+2],l[g+3]=It[ot+3]}mt.ym=new et(0,0,ct,vt),mt.data=l.buffer}return k},ft.rL.xo=function(t,i,e){if(t=new Uint8Array(t),t[0]==255){var r=ft.rL.nt(t);if(r[195]==null){var n=ft.rL.pA(t,r,!1);return n}for(var a=A.lU(t,r[195][0]+5),s=A.lU(t,r[195][0]+7),l=UTIF.LosslessJpegDecode(t),h=s*a,o=v.R(h*4),f=0;f<h;f++){var u=f<<2,p=u-f;o[u]=l[p],o[u+1]=l[p+1],o[u+2]=l[p+2],o[u+3]=255}return[{ym:new et(0,0,s,a),data:o.buffer}]}else if(t[0]==0&&t[4]==48&&t[6]==1){var c=t,d=new PDFJS.Jbig2Image,g=[];i&&g.push({data:i,start:0,end:i.length}),g.push({data:c,start:0,end:c.length});var l=d.parseChunks(g);if(!e)for(var f=0;f<l.length;f++)l[f]=~l[f];for(var s=A.l(t,11),a=A.l(t,15),b=Math.ceil(s/8),m=v.R(s*a*4),x=0;x<a;x++)for(var M=x*b,S=0;S<s;S++){var u=(x*s+S)*4,w=l[M+(S>>>3)]>>>7-(S&7)&1,k=w*255;m[u]=k,m[u+1]=k,m[u+2]=k,m[u+3]=255}return[{ym:new et(0,0,s,a),data:m.buffer}]}else{var d=new PDFJS.JpxImage;d.parse(t);for(var s=d.width,a=d.height,T=d.tiles,L=d.componentsCount,O=new Uint8Array(s*a*4),E=new et(0,0,s,a),d=0;d<T.length;d++){var D=T[d],B=D.width,I=D.height,N=B*I,V=D.items,j=new et(D.left,D.top,B,I),R=new Uint8Array(N*4);if(L==1)for(var f=0;f<N;f++){var G=V[f],u=f*4;R[u]=G,R[u+1]=G,R[u+2]=G,R[u+3]=255}else if(L==3)for(var f=0;f<N;f++){var p=f*3,u=f*4;R[u]=V[p],R[u+1]=V[p+1],R[u+2]=V[p+2],R[u+3]=255}else console.log("Unknown number of components: "+L);v.BP(R,j,O,E)}return[{ym:E,data:O.buffer}]}},ft.uc={},ft.uc.bb=function(t,i,e,r){r==null&&(r=[70,0,0,0]);var n=r[0]/100,a=0;if(t.length==1)return ft.hL(t[0][0],i,e,"webp",n);var s=A.bh,l=A.PU,h=new sr;s(h,a,"RIFF    WEBPVP8X"),a+=16,l(h,a,10),a+=4,l(h,a,18),a+=4,l(h,a,i-1),a+=3,l(h,a,e-1),a+=3,s(h,a,"ANIM"),a+=4,l(h,a,6),a+=4,h.cj(a,4),h.data[a+3]=255,A.a8(h,a+4,r[2]),a+=6;for(var o=[],f=0;f<t.length;f++)o.push(t[f][0]);for(var u=UPNG.encode.compress(o,i,e,n==1?0:Math.max(2,Math.floor(n*500)),[!1,!0,!0,0,!0]).frames,p=new WebPDecoder,f=0;f<t.length;f++){s(h,a,"ANMF"),a+=4;var c=a;a+=4;for(var d=u[f],g=d.rect,b=[g.x>>>1,g.y>>>1,g.width-1,g.height-1,t[f][1]],m=0;m<5;m++)l(h,a+3*m,b[m]);a+=15,h.cj(a,1),h.data[a]=1-d.blend<<1|d.dispose,a++;var x=new Uint8Array(ft.hL(d.img.buffer,g.width,g.height,"webp",1)),M=Ga.ee(x.buffer).sub,S=A.$o(x,12,4);if(S!="VP8L"&&S!="VP8 "&&S!="VP8X")throw"e";var w=S=="VP8 "?0:S=="VP8L"?12:30,k=x.length-w;h.cj(a,k);for(var m=0;m<k;m++)h.data[a+m]=x[w+m];a+=k;var T=a-c-4;l(h,c,T),(T&1)==1&&(h.cj(a,1),a++)}return l(h,4,a-8),h.data.slice(0,a).buffer},ft.uc.xo=function(t){var i=new Uint8Array(t),e=ft.uc.a2R(i),r=ft.uc.agK,n=new WebPDecoder,a=Ga.ee(t).sub;if(a[0].Za!="VP8X")return[r(n,e,a[0])];for(var s={},l=0;l<a.length;l++)s[a[l].Za]=a[l];if(s.ANIM==null){var h=s.ALPH?"ALPH":s["VP8 "]?"VP8 ":"VP8L";return[r(n,e,{c:s[h].c-8})]}for(var o=s.VP8X.c,f=1+(A.L6(i,o+4)&16777215),u=1+(A.L6(i,o+7)&16777215),p=[],c=new et(0,0,f,u),d=v.R(f*u*4),l=0;l<a.length;l++){var g=a[l];if(g.Za=="ANMF"){for(var b=[],m=0;m<5;m++)b.push(A.L6(i,g.c+m*3)&16777215);var x=new et(b[0]*2,b[1]*2,b[2]+1,b[3]+1),M=b[4],S=r(n,e,{c:g.c+16}),w=new Uint8Array(S.data),k=i[g.c+15];k>>>1==0?v.N.DO("norm",w,x,d,c,x,1):v.BP(w,x,d,c),p.push({_l:"_a_"+p.length+","+M,ym:c.clone(),data:d.buffer.slice(0)}),(k&1)==1&&(v.XB(w,0),v.BP(w,x,d,c))}}return p},ft.uc.agK=function(t,i,e){for(var r=[0],n=[0],a=t.WebPDecodeRGBA(i,e.c,i.length-e.c,r,n),s=a.length,l=new Uint8Array(s),h=0;h<s;h++)l[h]=a[h];return{ym:new et(0,0,r[0],n[0]),data:l.buffer}},ft.uc.a2R=function(t){for(var i=[],e=t.length,r=0;r<e;r++)i.push(t[r]);return i},ft.jQ={},ft.jQ.bb=function(t,i,e,r){var n=new Uint8Array(t[0][0]),a=!1,s={YY:i,mi:e,am:1,lq:a?32:24,n5:a?3:0,Yc:0},l=4*Math.floor((s.lq*s.YY+31)/32),h=0;s.size=l*s.mi+2;var o=new sr;A.bh(o,h,"BM"),h+=2,A.PU(o,h,l*e+16+40),h+=4,A.PU(o,h,0),h+=4,A.PU(o,h,54),h+=4,o.cj(h,40),A.PU(o,h,40),h+=4,ft.jQ.ab$(o.data,h,s,l),h+=36,o.cj(h,l*e);for(var f=0;f<e;f++)for(var u=h+(e-1-f)*l,p=0;p<i;p++){var c=(f*i+p)*4,d=n[c+3]*(1/255);a?(o.data[u+p*4+2]=n[c],o.data[u+p*4+1]=n[c+1],o.data[u+p*4+0]=n[c+2],o.data[u+p*4+3]=n[c+3]):(o.data[u+p*3+2]=n[c],o.data[u+p*3+1]=n[c+1],o.data[u+p*3+0]=n[c+2])}return h+=l*e+2,o.data.slice(0,h).buffer},ft.jQ.xo=function(t){t=new Uint8Array(t);var i=0,e=A.$o(t,i,2);if(i+=2,e!="BM"){alert("Unsupported BMP format: "+e);return}var r=A.L6(t,i);i+=4,i+=4;var n=A.L6(t,i);return i+=4,[ft.jQ.F$(t.buffer,i,n)]},ft.jQ.F$=function(t,i,e){t=new Uint8Array(t);var r=A.L6(t,i);i+=4;var n=ft.jQ.a4d(t,i);if(n.am!=1&&alert("unsupported number of color planes: "+n.am),n.n5!=0&&n.n5!=3){alert("Unsupported BMP compression: "+n.n5);return}i+=r-4;var a=i;e==null&&(e=i);var s=4*Math.floor((n.lq*n.YY+31)/32),l=n.YY,h=Math.abs(n.mi),o=new Uint8Array(l*h*4);if(v.set(o,255),n.lq==32)for(var f=0;f<h;f++)for(var u=e+(h-1-f)*s,p=0;p<l;p++){var c=(f*l+p)*4;o[c]=t[u+p*4+2],o[c+1]=t[u+p*4+1],o[c+2]=t[u+p*4+0],o[c+3]=t[u+p*4+3]}else if(n.lq==24)for(var f=0;f<h;f++)for(var u=e+(h-1-f)*s,p=0;p<l;p++){var c=(f*l+p)*4;o[c]=t[u+p*3+2],o[c+1]=t[u+p*3+1],o[c+2]=t[u+p*3+0]}else if(n.lq==16)for(var f=0;f<h;f++)for(var u=e+(h-1-f)*s,p=0;p<l;p++){var c=(f*l+p)*4,d=t[u+p*2+1]<<8|t[u+p*2];o[c]=(d>>>11)*(255/31),o[c+1]=(d>>>5&63)*(255/63),o[c+2]=(d&31)*(255/31)}else if(n.lq==8)for(var f=0;f<h;f++)for(var u=e+(h-1-f)*s,p=0;p<l;p++){var c=(f*l+p)*4,g=t[u+p];o[c]=t[a+4*g+2],o[c+1]=t[a+4*g+1],o[c+2]=t[a+4*g+0]}else if(n.lq==4)for(var f=0;f<h;f++)for(var u=e+(h-1-f)*s,p=0;p<l;p++){var c=(f*l+p)*4,g=t[u+(p>>1)];g=g>>4-4*(p&1),g=g&15,o[c]=t[a+4*g+2],o[c+1]=t[a+4*g+1],o[c+2]=t[a+4*g+0]}else if(n.lq==1)for(var f=0;f<h;f++)for(var u=e+(h-1-f)*s,p=0;p<l;p++){var c=(f*l+p)*4,b=t[u+(p>>3)];b=b>>7-(p&7),b=b&1,o[c]=t[a+4*b+2],o[c+1]=t[a+4*b+1],o[c+2]=t[a+4*b+0]}else throw"Unknown bit depth "+n.lq;if(n.mi<0)for(var m=new Uint32Array(o.buffer),x=h>>>1,f=0;f<x;f++)for(var M=f*l,S=(h-f-1)*l,p=0;p<l;p++){var w=m[M+p];m[M+p]=m[S+p],m[S+p]=w}return{ym:new et(0,0,l,h),data:o.buffer}},ft.jQ.a4d=function(t,i){var e=A.K8,r=A.L6,n=A.wP,a={};a.YY=e(t,i),i+=4,a.mi=e(t,i),i+=4,a.am=n(t,i),i+=2,a.lq=n(t,i),i+=2,a.n5=r(t,i),i+=4,a.size=r(t,i),i+=4;var s=e(t,i);i+=4;var l=e(t,i);return i+=4,a.Yc=r(t,i),i+=4,i+=4,a},ft.jQ.ab$=function(t,i,e,r){A.vH(t,i,e.YY),i+=4,A.vH(t,i,e.mi),i+=4,A.qu(t,i,e.am),i+=2,A.qu(t,i,e.lq),i+=2,A.vH(t,i,e.n5),i+=4,A.vH(t,i,e.size),i+=4,A.vH(t,i,2834),i+=4,A.vH(t,i,2834),i+=4,A.vH(t,i,e.Yc),i+=4,i+=4},ft.ve={},ft.ve.bb=function(t,i,e,r){r==null&&(r=[100,0,0,0]);for(var n=[],a=[],s=i*e*4,l=null,h=0;h<t.length;h++){for(var o=new Uint8Array(t[h][0].slice(0)),f=0;f<s;f+=4){var u=o[f+3]=o[f+3]>127?255:0;u==0&&(o[f]=o[f+1]=o[f+2]=0)}n.push(o.buffer),a.push(t[h][1])}for(var p=Math.round(2+254*r[0]/100),c=UPNG.encode.compress(n,i,e,p,[!0,!1,!1,8,!1]),d=c.plte,g=new Uint8Array(4),b=new Uint32Array(g.buffer),f=0;f<d.length;f++){b[0]=d[f];var m=g[0];g[0]=g[2],g[2]=m,d[f]=b[0],b[0]==0&&(l=f)}for(;d.length<256;)d.push(0);var x=new Uint8Array(2e3+i*e*t.length),M=r[2],S={palette:d};M!=1&&(S.loop=M==0?0:M-1);for(var w=new GifWriter(x,i,e,S),f=0;f<t.length;f++){var k=c.frames[f],T=k.rect,L=k.blend,O=k.dispose;w.addFrame(T.x,T.y,T.width,T.height,k.img,{transparent:l,disposal:O+1,delay:Math.round(a[f]/10)})}return x.slice(0,w.end()).buffer},ft.ve.xo=function(t){for(var i=Date.now(),e=[],r=UGIF.decode(t),n=UGIF.toRGBA8(r),a=new et(0,0,r.width,r.height),s=0;s<n.length;s++){var l=r.frames[s];e.push({ym:a.clone(),_l:"_a_frm"+s+","+l.delay*10,data:n[s]})}return e},ft.yk={},ft.yk.bb=function(t,i,e,r){if(console.log(t),i>256||e>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);var n=Math.min(i,256),a=Math.min(e,256),s=new et(0,0,n,a),l=v.R(s.M()*4),h=new et(0,0,i,e),o=new Uint8Array(t[0][0]);v.BP(o,h,l,s),t[0][0]=l.buffer,i=n,e=a}var f=new sr,u=0,p=r&&r[0]==!0;A.a8(f,u,0),u+=2,A.a8(f,u,p?2:1),u+=2,A.a8(f,u,1),u+=2;var c=new Uint8Array(ft.$I("png").bb(t,i,e));f.cj(u,16),f.data[u]=i==256?0:i,u++,f.data[u]=e==256?0:e,u++,u+=2,A.a8(f,u,p?Math.round(i/2):1),u+=2,A.a8(f,u,p?Math.round(e/2):32),u+=2,A.PU(f,u,c.length),u+=4,A.PU(f,u,6+16),u+=4,f.cj(u,c.length);for(var d=0;d<c.length;d++)f.data[u+d]=c[d];u+=c.length;for(var g=new Uint8Array(u),d=0;d<u;d++)g[d]=f.data[d];return g.buffer},ft.yk.xo=function(t){t=new Uint8Array(t);var i=4,e=A.wP(t,i);i+=2;for(var r=[],n=0;n<e;n++){var a=ft.yk.adI(t,i+n*16),s=t.buffer.slice(a.offset,a.offset+a.size),l=ft.Xh(s);if(l=l||"bmp",l=="png"){var h=ft.$I(l),o=h.xo(s);a.mu=o[0]}else{var f=ft.$I("BMP").F$(s,0),s=v.R(a.YY*a.mi*4);v.BP(new Uint8Array(f.data),new et(0,0,f.ym.Z,f.ym.h),s,new et(0,a.mi,a.YY,a.mi)),f.data=s.buffer,f.ym.h=a.mi,a.mu=f}r.push(a)}return r.sort(function(u,p){return u.YY!=p.YY?u.YY-p.YY:u.Ha-p.Ha}),[r.pop().mu]},ft.yk.adI=function(t,i){var e={};return e.YY=t[i],i++,e.YY==0&&(e.YY=256),e.mi=t[i],i++,e.mi==0&&(e.mi=256),e.aib=t[i],i++,i++,e.a5n=A.wP(t,i),i+=2,e.Ha=A.wP(t,i),i+=2,e.size=A.L6(t,i),i+=4,e.offset=A.L6(t,i),i+=4,e},ft.k8={},ft.k8.xo=function(t){var i=Date.now(),e,r=!0;if(v.raw.Ei(t.byteLength))return[v.raw.ac2(t)];var n=UTIF.decode(t);if(n[0].t33421)e=n[0];else if(n[0].subIFD&&n[0].subIFD[0].t33421)e=n[0].subIFD[0],e.t50706==null&&e.t258[0]==8&&(e.t258[0]=12);else if(n[0].subIFD&&n[0].subIFD[0]&&n[0].subIFD[0].t262&&n[0].subIFD[0].t262[0]==34892)e=n[0].subIFD[0];else if(n[0].subIFD&&n[0].subIFD[1]&&n[0].subIFD[1].t33421)e=n[0].subIFD[1];else if(n[0].subIFD&&n[0].subIFD[2]&&n[0].subIFD[2].t33421)e=n[0].subIFD[2];else if(n[3]&&n[3].t50648){var a=n[0].exifIFD,s=a.makerNote;e=n[3];var l=s.t224[1],h=s.t224[2];e.t256=[l],e.t257=[h],e.t258=[16],e.t259=[7],e.t262=[32803],e.t277=[1],e.t33421=[2,2];var o=e.t50656[0],f=v.raw.Bk[o];if(f==null)throw"e";e.t33422=f}if(e){UTIF.decodeImage(t,e,n);for(var u in n[0])(u[0]=="t"||u[0]=="e"||u[0]=="d")&&e[u]==null&&(e[u]=n[0][u]);return e.Ss=n[0].t274?n[0].t274[0]:1,[e]}for(var p=1/256,c=0;c<n.length;c++)n[c].t258&&n[c].t258[0]==16&&n[c].t277&&n[c].t277[0]==1||(r=!1);if(r){for(var d=0,g=0,b=0,c=0;c<n.length;c++){UTIF.decodeImage(t,n[c],n);for(var m=n[c].data,x=0;x<m.length;x+=2){var M=m[x+1]<<8|m[x];M>d&&(d=M),g+=M,b++}}p=1/256*65535/(.5*d+.5*(2*g/b))}for(var S=[],c=0;c<n.length;c++){var w=n[c],k=72;UTIF.decodeImage(t,w,n);var T=w.t282,L=w.t296;if(T!=null&&L!=null&&(k=T[0][0]/T[0][1],L[0]==3&&(k=Math.round(k/2.54))),w.width!=null){var O=UTIF.toRGBA8(w,p).buffer,E=ke.J2(w);S.push({ym:new et(0,0,w.width,w.height),data:O,NB:k,ZT:E})}}return S},ft.k8.bb=function(t,i,e,r){r==null&&(r=[!1]);var n={},a=t[0];return a[3]!=null&&r[0]&&(n=ke.XG(a[3])),a[2]!=null&&(n.t282=n.t283=[[Math.round(a[2]),1]],n.t296=[2]),UTIF.encodeImage(a[0],i,e,n)},ft.XV={},ft.XV.Vi=!0,ft.XV.xo=function(t,i){ne.ee(t,i)},ft.XV.a0M=function(t,i,e,r){r==null&&(r=[!1,!1]),r[0]||t.lD();var n=new sr,a=ne.HC(t,n,r);return[n.data.buffer,a]},ft.XV.bb=function(t,i,e,r){var n=ft.XV.a0M(t,i,e,r),a=n[0],s=n[1];return a.byteLength==s?a:a.slice(0,s)},ft.qI={},ft.qI.Vi=!0,ft.qI.xo=function(t,i){var e=pako.inflate(new Uint8Array(t)),r=4;i.Z=A.l(e,r),r+=4,i.h=A.l(e,r),r+=4;var n=A.lU(e,r);r+=2,r+=4;for(var a=0;a<n;a++){var s=i.an();i.r.push(s);var l=A.l(e,r),h=r+4,o=A.lU(e,h);h+=2;var f=A.bc(e,h,o);h+=o,s.uf(f),h++,s.rect.x=A.tF(e,h),h+=4,s.rect.y=A.tF(e,h),h+=4,s.rect.Z=A.l(e,h),h+=4,s.rect.h=A.l(e,h),h+=4,s.opacity=Math.round(255*e[h]/100),h++,s.vR(e[h]!=0),h++,s.sW="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[e[h]],h++,h++;var u=A.l(e,h);if(h+=4,u!=s.rect.M()*4)throw"e";s.buffer=v.R(u);for(var p=0;p<u;p+=4)s.buffer[p]=e[h+p+1],s.buffer[p+1]=e[h+p+2],s.buffer[p+2]=e[h+p+3],s.buffer[p+3]=e[h+p+0];h+=u;var c=A.l(e,h);h+=4;var d=e[h];h++;var g=A.lU(e,h);if(h+=2,c!=0){s.g=new H.vm,s.g.rect=s.rect.clone(),s.g.channel=v.R(s.rect.M());for(var p=0;p<c;p+=4)s.g.channel[p>>>2]=e[h+p+1];h+=c}if(d!=0){var b=JSON.parse(at.default);s.add.lmfx=b;for(var p=0;p<at.order.length;p++)b[at.og[p]]={t:"VlLs",v:[]};for(var m={"102":9,"101":2,"103":0,"104":3,"105":8},p=0;p<d;p++){var x=A.lU(e,h),M=h+x+4,S=e.slice(h,M),w=e[h+2];h+=3;var k=m[w+""],T=JSON.parse(at.IW[k]);if(b[at.og[k]].v.push({t:"Objc",v:T}),k!=0)T.Md.v.BlnM=ti.Kl("norm"),T.Opct.v.val=e[h],h++,(k==9||k==2)&&(T.Dstn.v.val=e[h+1]),h+=2,T.blur.v.val=Math.round(e[h]*1.2),h++,(k==9||k==2)&&(T.uglg.v=!1,T.lagl.v.val=180-A.lU(e,h),h+=2),T.Clr.v=v.j.$H({U:e[h+1],S:e[h+2],i:e[h+3]});else{T.hglM.v.BlnM=T.sdwM.v.BlnM=ti.Kl("norm"),h+=2;var L=e[h++],O=e[h++];T.blur.v.val=Math.round(Math.sqrt(O*L)*1.3),T.srgR.v.val=Math.round(100*L/O),T.uglg.v=!1,T.lagl.v.val=180-A.lU(e,h),h+=2,T.hglO.v.val=e[h++],T.hglC.v=v.j.$H({U:e[h+1],S:e[h+2],i:e[h+3]}),h+=4,T.sdwO.v.val=e[h++],T.sdwC.v=v.j.$H({U:e[h+1],S:e[h+2],i:e[h+3]}),h+=4}h=M}}if(h!=r+4+l){var E=A.l(e,h),D=0;h+=4,h++;var o=A.lU(e,h);h+=2;var B=A.bc(e,h,o);h+=o,B=B.replace(/\r/g,`
`);var o=A.lU(e,h);h+=2;var I=A.bc(e,h,o);h+=o;var N=A.lU(e,h);h+=2;var V=s.rect.x,j=s.rect.Z;E&4&&(D=1),E&2&&(D=2);var R=Math.round(N*.4);(D==0||D==2)&&(j+=R),(D==1||D==2)&&(j+=R,V-=R),s.add.lnsr="rend",s.add.TySh=lt.T_(0,0),s.add.TySh.xa=new et(0,0,100,100),s.add.TySh.O=new Et(1,0,0,1,V,s.rect.y+N*.25);var G=s.add.TySh.MF;lt.E5(G,1),lt.Z1(G,[0,0,j,s.rect.h]),lt.v$(G,0,B);var Z=lt.lW(G,0,1);Z.dS.FontSize=N,Z.dS.FillColor={Type:1,Values:[1,e[h+1]/255,e[h+2]/255,e[h+3]/255]},h+=4,e[h+5]&&(I+="-Bold"),e[h+6]&&(I+="-Italic"),lt.oi(Z,I),Z.eS.Justification=D,h+=8,lt.Ji(G,0,B.length,Z)}r+=4+l}},ft.mZ={},ft.mZ.Vi=!0,ft.mZ.xo=function(t,i){Ei.ee(t,i)},ft.aQ={},ft.aQ.Vi=!0,ft.aQ.xo=function(t,i){Bn.ee(t,i)},ft.KC={},ft.KC.Vi=!0,ft.KC.xo=function(t,i){Pe.ee(t,i)},ft.Pu={},ft.Pu.Vi=!0,ft.Pu.xo=function(t,i){ae.ee(t,i)},ft.GK={},ft.GK.Vi=!0,ft.GK.bb=function(t,i,e,r,n){r==null&&(r=[!0,!1,!1,!1,!0,!0]);var a=ii.qx(t,{amv:r[0],hidden:r[1],am4:r[2],a8L:r[3],names:r[4],pu:r[5],ag3:i,aaW:e},n.SN);return a},ft.GK.xo=function(t,i,e){ii.ee(t,i,e)},ft.UP={},ft.UP.Vi=!0,ft.UP.xo=function(t,i){var e=150,r=new Et(1,0,0,-1,0,0);r.scale(e/72,e/72),i.NB=e;var n=new Ii(i,r,!0);FromPS.Parse(t,n)},ft.jv={},ft.jv.Vi=!0,ft.jv.bb=function(t,i,e,r,n){r==null&&(r=["",100,!1,!1,!1]),r[5]=["jpg"];var a=new ToPDF;return hn.qx(t,r,a,n.SN),a.buffer},ft.jv.xo=function(t,i,e){for(var r=2;;){var n=r*72,a=new Et(1,0,0,-1,0,0);a.scale(n/72,n/72),i.NB=n;var s=new Ii(i,a,!0);FromPDF.Parse(t,s);var l=Math.max(i.Z,i.h);if(e&&l<Math.max(e[0],e[1])){i.r=[];for(var h=r;l*(r/h)<Math.max(e[0],e[1]);)r++}else break}},ft.XI={},ft.XI.Vi=!0,ft.XI.xo=function(t,i){var e=72,r=new Et(1,0,0,1,0,0);r.scale(e/72,e/72),i.NB=e;var n=new Ii(i,r,!1);FromWMF.Parse(t,n)},ft.rs={},ft.rs.mw=!0,ft.rs.Vi=!0,ft.rs.bb=function(t,i,e,r,n){r==null&&(r=["",!1,!1,!1]),r[4]=[];var a=new ToEMF;return hn.qx(t,r,a,n.SN),a.buffer},ft.rs.xo=function(t,i){var e=72,r=new Et(1,0,0,1,0,0);r.scale(e/72,e/72),i.NB=e;var n=new Ii(i,r,!1);FromEMF.Parse(t,n)},ft.Ow={},ft.Ow.Vi=!0,ft.Ow.xo=function(t,i){return ci.ee(t,i)},ft.Bp={},ft.Bp.xo=function(t,i){for(var e=Qn.ee(t),r=new Uint8Array(t),n=0,a,s,l,h,o,f,u,p,c=0,d=0,g=0,b=0,m=0,x=0;x<e.sub.length;x++){var M=e.sub[x],n=M.c;if(M.Za=="BMHD"){for(var S=[],w=0;w<4;w++)S[w]=A.lU(r,n+2*w);n+=8,h=S[2],o=S[3],s=S[0],l=S[1],a=v.R(s*l*4),f=r[n++],u=r[n++],p=r[n++]}else if(M.Za=="CMAP")c=n;else if(M.Za=="CAMG"){var k=A.l(r,n);d=k&32768,g=k&4,b=k&2048,m=k&128}else if(M.Za=="BODY"){var T=s+15>>>4<<1,L=f+u,O=v.R(T*l*L),E,D,B;Fi.QF(r,n,M.size,O,0,O.length);for(var I=f-2,N=(1<<I)-1,V=Math.round(255/N),o=0;o<l;o++)for(var h=0;h<s;h++){for(var j=0,R=0;R<L;R++){var G=(o*L+R)*T*8+h,Z=O[G>>>3]>>>7-(G&7)&1;j|=Z<<R}var _=j>>>f,j=j&(1<<f)-1,w=o*s+h,U=w<<2;if(c!=0)if(b!=0&&j>>>I!=0){var Y=j>>>I,$=(j&N)*V;Y==1?B=$:Y==2?E=$:Y==3&&(D=$)}else{var $=c+j*3;E=r[$+0],D=r[$+1],B=r[$+2]}else E=j>>>0&255,D=j>>>8&255,B=j>>>16&255;a[U+0]=E,a[U+1]=D,a[U+2]=B,a[U+3]=255}}}return[{ym:new et(0,0,s,l),data:a.buffer}]},ft.bB={},ft.bB.Vi=!1,ft.bB.bb=function(t,i,e,r){for(var n=new Uint8Array(t[0][0]),a=2,s=v.Ms(n),l=s?4:3,h=new Uint8Array(i*e*l),o=0;o<e;o++)for(var f=0;f<i;f++){var u=o*i+f<<2,p=((e-o-1)*i+f)*l;h[p]=n[u+2],h[p+1]=n[u+1],h[p+2]=n[u+0],s&&(h[p+3]=n[u+3])}for(var c=h.length,d=0,g=new Uint8Array(c*2),b=0,m=0,x=i*l;m<c;){for(var M=m,S=0,w=x*(Math.floor(m/x)+1);M<w&&S<128;){for(var k=!0,T=0;T<l;T++)k=k&h[m+T]==h[M+T];if(!k)break;M+=l,S++}if(S==1){for(var L=1;L<128&&m+(L+1)*l<w;){for(var k=!0,O=m+L*l,T=0;T<l;T++)k=k&h[O+T]==h[O+l+T];if(k)break;L++}g[b++]=L-1;for(var E=0;E<L;E++)for(var T=0;T<l;T++)g[b++]=h[m++]}else{g[b++]=127+S;for(var T=0;T<l;T++)g[b+T]=h[m+T];b+=l,m+=l*S,d+=S}}h=g.slice(0,b),a+=8;var D=new Uint8Array(18+h.length+26);return D[2]=a,A.qu(D,12,i),A.qu(D,14,e),D[16]=l*8,D[17]=l==4?8:0,D.set(h,18),A.jW(D,18+h.length+8,"TRUEVISION-XFILE."),D.buffer},ft.bB.xo=function(t){var i=new Uint8Array(t),e=0,r=i[0],n=i[1],a=i[2],s=i[4]*256+i[3],l=i[6]*256+i[5],h=i[7],o=i[9]*256+i[8],f=i[11]*256+i[10],u=i[13]*256+i[12],p=i[15]*256+i[14],c=i[16],d=i[17],g=d>>>4,b=A.$o(i,18,r),m=v.R(u*p*4),e=18+r+(l*h>>>3),x=new Uint8Array(i.buffer,e);if(a>3){for(var M=0,S=i,w=new Uint8Array(u*p*c>>>3),k=e,T=0,L=i.length,O=c>>>3;T<w.length;){var E=S[k];if(k++,E<128)for(var D=0;D<E+1;D++)for(var B=0;B<O;B++)w[T]=S[k],T++,k++;else{for(var D=0;D<E-127;D++)for(var B=0;B<O;B++)w[T]=S[k+B],T++;k+=O}}a-=8,x=w,e=k}else e+=u*p*c>>>3;for(var I=new Uint8Array(4),N=ft.bB.a4m,V=0;V<p;V++)for(var j=0;j<u;j++){var R=(g&2)==0?(p-V-1)*u+j:V*u+j,G=V*u+j,Z,_,U,Y=255,$=R*c>>>3;if(a==1){var P=0;if(c==8)P=x[$];else throw"e";N(i,18+r+s+(P*h>>>3),h,I),Z=I[0],_=I[1],U=I[2],Y=I[3]}else if(a==2)N(x,$,c,I),Z=I[0],_=I[1],U=I[2],Y=I[3];else if(a==3)if(c==8)Z=_=U=x[$];else throw"e";var tt=G*4;m[tt]=Z,m[tt+1]=_,m[tt+2]=U,m[tt+3]=Y}return[{ym:new et(0,0,u,p),data:m.buffer,_l:b}]},ft.bB.a4m=function(t,i,e,r){var n,a,s,l=255;if(e==24||e==32)s=t[i],a=t[i+1],n=t[i+2],e==32&&(l=t[i+3]);else if(e==16){var h=t[i+1]<<8|t[i+0];n=h>>>10&31,a=h>>>5&31,s=h>>>0&31,n=Math.round(n*(255/31)),a=Math.round(a*(255/31)),s=Math.round(s*(255/31))}else throw"e";r[0]=n,r[1]=a,r[2]=s,r[3]=l},ft.bF={},ft.bF.xo=function(t){var i=new Uint8Array(t),e=0,r=112,n=42,a=A.L6,s;e+=8;var l=i[e];if(e++,l!=n)throw"e";var h=a(i,e);e+=4;var o=A.zg(i,e,h);e+=h*2;for(var f=[];e<i.length;){if(s=a(i,e),e+=4,s!=r||(e+=4,s=i[e],e++,s!=n))throw s;var u=a(i,e);e+=4;var p=i[e];if(e++,p!=n&&(e-=5,u=a(i,e),e+=8,s=i[e],e++,s!=n))throw s;var c=a(i,e)*2;e+=4,u>0&&f.push(e+c),e+=c+u}var d=new DOMParser,g=d.parseFromString(o,"image/svg+xml").firstChild.firstChild,b=[];return ft.bF.K4(g,i,f,b),b},ft.bF.K4=function(t,i,e,r){var n=t.firstChild.firstChild;if(n.tagName=="Image"){for(var a=n.getElementsByTagName("ImageDescription")[0],s=a.children[0].children,l=a.children[1].children,h=e.shift(),o=[],f=0;f<l.length;f++)o.push(parseInt(l[f].getAttribute("NumberOfElements")));for(;o.length>3;)o[2]*=o.pop();for(var u=s.length,p=o[0],c=o[1],d=o[2],g=parseInt(l[0].getAttribute("BytesInc")),b=0;b<d;b++){var m=v.R(p*c*4);v.XB(m,4278190080);for(var x=0;x<u;x++){var M=v.R(p*c);if(g==1)for(var S=0;S<M.length;S++)M[S]=i[h+S];else if(g==2)for(var S=0;S<M.length;S++)M[S]=Math.min(255,(i[h+S*2+1]<<8|i[h+S*2])>>>2);else throw g;x!=3&&v.Oy(M,m,x),u==1&&(v.Oy(M,m,1),v.Oy(M,m,2)),h+=p*c*g}r.push({ym:new et(0,0,p,c),data:m.buffer})}}else{for(var w=t.children,k=0;k<w.length&&w[k].tagName!="Children";)k++;if(k==w.length)throw"e";w=w[k].children;for(var T=0;T<w.length;T++)ft.bF.K4(w[T],i,e,r)}},ft.So={},ft.So.xo=function(t){var i=new Uint8Array(t),e=16,r=A.$o(i,e,4),n=32,a=0,s=0,l=!1,h;e+=4;var o=A.$o(i,e,8);for(e+=8;i[e+n-1]==0;)n--;var f=A.$o(i,e,n);e+=32;var u=A.$o(i,e,4);e+=4,e+=20;var p=A.l(i,e);e+=4;var c=A.l(i,e);e+=4;var d=A.l(i,e);e+=4;var g=A.l(i,e);e+=4;var b=A.l(i,e);e+=4;var m=A.l(i,e);e+=4;var x="FujiFilm "+f,M=[0,1,1,2];x=="FujiFilm X10"&&(x="FujiFilm FinePix X10",M=[2,1,1,0]);var S={t271:["FujiFilm"],t272:[x],t277:[1],t33421:[2,2],t33422:M,Ss:1};e=d;var w=[],k=A.lU,T=A.l(i,e);e+=4;for(var L=0;L<T;L++){var O=k(i,e);e+=2;var E=k(i,e);if(e+=2,O==256)s=k(i,e),a=k(i,e+2);else if(O==272)w=[k(i,e),k(i,e+2)];else if(O==273)w.push(k(i,e),k(i,e+2));else if(O==304)l=!(i[e]>>>7);else if(O==305){for(var D=Math.round(Math.sqrt(E)),B=[],I=0;I<E;I++)B.push(i[e+I]);B.reverse(),S.t33421=[D,D],S.t33422=B}else if(O==12272){var N=k(i,e),V=k(i,e+2),j=k(i,e+6);S.t50728=[N/V,1,N/j]}e+=E}var R=a<s,G=i.slice(b,b+m),Z=Math.round(m*8/(a*s));if(G[0]==73&&G[1]==73&&G[2]==42){h=UTIF.decode(G.buffer)[0].fujiIFD,Z=h.t61443[0];var _=h.t61454;S.t50728=[_[0]/_[1],1,_[0]/_[2]];var U=h.t61447[0];G=G.slice(U,U+h.t61448[0])}var m=G.length,Y=m*8<a*s*Z;Y&&alert("Compressed RAF is not supported yet :(");function $(F,J,Q){Q=Q<<8-(J&7);var rt=J>>>3;F[rt]|=Q>>>16,F[rt+1]|=Q>>>8,F[rt+2]|=Q}var P=m*8/(a*s);if(P==16)for(var L=0;L<m;L+=2){var tt=G[L];G[L]=G[L+1],G[L+1]=tt}else if(P==14)for(var L=0;L<m;L+=4){var tt=G[L];G[L]=G[L+3],G[L+3]=tt,tt=G[L+1],G[L+1]=G[L+2],G[L+2]=tt}else if(P==12)for(var L=0;L<m;L+=3){var X=G[L+2]<<16|G[L+1]<<8|G[L+0];X=X>>>12|(X&4095)<<12,G[L]=X>>>16&255,G[L+1]=X>>>8&255,G[L+2]=X&255}R&&(G=ft.So.akn(G,a,s));var ht=R?2:1;return a*=ht,S.t256=[a],S.t257=[s],S.t258=[Z],S.t50719=[w[1],w[0]*ht],S.t50720=[w[3],w[2]*ht],S.width=a,S.height=s,S.data=new Uint8Array(G.buffer),[S]},ft.So.akn=function(t,i,e){t=new Uint16Array(t.buffer);for(var r=new Uint16Array(i*e*2),n=0;n<e;n+=2)for(var a=0;a<i;a++){var s=n*i+a,l=s*2,h=t[s],o=t[s+i];r[l+1]=r[l+2*i]=o,((n>>>1)+a&1)==0?(r[l]=h,r[l+2*i+1]=t[s+1]):(r[l]=t[s-1],r[l+2*i+1]=h)}return r},ft.MU={},ft.MU.mw=!0,ft.MU.bb=function(t,i,e,r){var n=new Uint8Array(t[0][0]),a=i*e,s=[1,3,4][r[0]],l=8+8*r[1],h=r[2];if(s==1){var o=new Uint8Array(i*e);v.E4(n,o,0),n=o}if(s==3){for(var o=new Uint8Array(i*e*3),f=0;f<a;f++){var u=f*4,p=f*3;o[p]=n[u],o[p+1]=n[u+1],o[p+2]=n[u+2]}n=o}if(l==16){for(var c=n.length,o=new Uint8Array(c*2),f=0;f<c;f++){var d=Math.round(n[f]*(65535/255));o[f*2+h]=d>>>8,o[f*2+1-h]=d&255}n=o}return n.buffer};function v(){}v.ob=document.createElement("canvas"),v.xX=v.ob.getContext("2d"),v.c0=function(t,i,e,r){r=Math.log(r)/Math.log(2),r=Math.round(r);for(var n=0;n<e;n++)for(var a=0;a<i;a++){var s=n*i+a<<2,l=v.FC(n,a,r);t[s]=t[s+1]=t[s+2]=l,t[s+3]=255}},v.FC=function(t,i,e){return 255-((t>>>e)+(i>>>e)&1)*51},v.v2=function(t){for(var i=t.toString(16);i.length<6;)i="0"+i;return i},v.cq=function(t){return parseInt(t,16)},v.ec=function(t){return .3*t.U+.59*t.S+.11*t.i},v.TO=function(t){return Math.max(t.U,t.S,t.i)-Math.min(t.U,t.S,t.i)},v.ou=function(t,i,e){return .3*t+.59*i+.11*e},v.a6K=function(t,i,e){return Math.max(t,i,e)-Math.min(t,i,e)},v.iP=function(t,i){var e=i-t,r=Math.abs(e),n=e-1,a=e+1;return Math.abs(n)<r?e=n:Math.abs(a)<r&&(e=a),e},v.AY=function(t,i,e,r){return(i-e)*r/(t-e)},v.SU=function(t){return t<.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055},v.a6y=function(t){return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},v.a4G=function(t,i,e,r){return e<i&&(e+=r),t<i&&(t+=r),(t-i)/(e-i)},v.a2K=function(t,i){for(var e=Math.min(t.length,i.length),r=0;r<e;r+=4){var n=t[r],a=t[r+1],s=t[r+2];i[r]=16+Math.floor(65.481/255*n+128.553/255*a+24.966/255*s+.5),i[r+1]=128-Math.floor(37.797/255*n-74.203/255*a+112/255*s+.5),i[r+2]=128+Math.floor(112/255*n-93.786/255*a-18.214/255*s+.5),i[r+3]=t[r+3]}},v.T4=function(t,i,e){var r=Math.max(t,i,e),n=Math.min(t,i,e),a=0,s=0,l=(r+n)*.5;if(r!=n){var h=r-n;switch(s=l>.5?h/(2-(r+n)):h/(r+n),r){case t:a=(i-e)/h+(i<e?6:0);break;case i:a=(e-t)/h+2;break;case e:a=(t-i)/h+4;break}a*=1/6}return{mi:a,Pg:s,lr:l}},v.Uq=function(t,i,e){var r,n,a;if(i==0)r=n=a=e;else{var s=e<.5?e*(1+i):e+i-e*i,l=2*e-s;r=v.C7(l,s,t+1/3),n=v.C7(l,s,t),a=v.C7(l,s,t-1/3)}return{U:r,S:n,i:a}},v.C7=function(t,i,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+(i-t)*6*e:e<1/2?i:e<2/3?t+(i-t)*(2/3-e)*6:t},v.eE=function(t,i,e){var r=Math.max(t,i,e),n=Math.min(t,i,e),a,s,l=r,h=r-n;if(s=r==0?0:h/r,r==n)a=0;else{switch(r){case t:a=(i-e)/h+(i<e?6:0);break;case i:a=(e-t)/h+2;break;case e:a=(t-i)/h+4;break}a*=1/6}return{mi:a,Pg:s,pl:l}},v.ul=function(t,i,e){var r,n,a,s,l,h,o,f;switch(s=Math.floor(t*6),l=t*6-s,h=e*(1-i),o=e*(1-l*i),f=e*(1-(1-l)*i),s%6){case 0:r=e,n=f,a=h;break;case 1:r=o,n=e,a=h;break;case 2:r=h,n=e,a=f;break;case 3:r=h,n=o,a=e;break;case 4:r=f,n=h,a=e;break;case 5:r=e,n=h,a=o;break}return{U:r,S:n,i:a}},v.Pa=function(){for(var t=[],i=[],e=0;e<2e3;e++){var r=e/1e3;t[e]=v.a6y(r),i[e]=r>.008856?Math.pow(r,1/3):(903.3*r+16)*(1/116)}return[t,i]}(),v.tm=function(t,i,e){var r=v.Pa[0],n=v.Pa[1];t=r[~~(t*(1e3/255))],i=r[~~(i*(1e3/255))],e=r[~~(e*(1e3/255))];var a=v.t1.adC,s=a[0]*t+a[1]*i+a[2]*e,l=a[4]*t+a[5]*i+a[6]*e,h=a[8]*t+a[9]*i+a[10]*e;return s=s*(100/96.72),l=l*(100/100),h=h*(100/81.427),v.ak(s,l,h)},v.ak=function(t,i,e){var r=v.Pa[1],n=r[~~(t*1e3)],a=r[~~(i*1e3)],s=r[~~(e*1e3)];return{Ov:116*a-16,m:500*(n-a),i:200*(a-s)}},v.qL=function(t,i,e){for(var r=903.3,n=.008856,a=(t+16)/116,s=a*a*a,l=a-e/200,h=l*l*l,o=i/500+a,f=o*o*o,u=h>n?h:(116*l-16)/r,p=s>n?s:(116*a-16)/r,c=f>n?f:(116*o-16)/r,d=c*96.72,g=p*100,b=u*81.427,m=v.t1.UE(v.t1.ro,[d/100,g/100,b/100,0]),x=0;x<4;x++)m[x]=Math.max(0,Math.min(255,v.SU(m[x])*255));return{U:m[0],S:m[1],i:m[2]}},v.LZ=function(t,i,e,r,n){var a=t.Ov,s=t.m,l=t.i,h=(a<i.Ov?i.Ov-a:e.Ov<a?e.Ov-a:0)*(1/100),o=(s<i.m?i.m-s:e.m<s?e.m-s:0)*(1/116),f=(l<i.i?i.i-l:e.i<l?e.i-l:0)*(1/116),u=Math.sqrt(h*h+o*o+f*f)*1.35;return u<=r?Math.min(1,1.17*(1-u*n)):0},v.Am=function(t,i,e){var r=i-v.ec(t);e.U=t.U+r,e.S=t.S+r,e.i=t.i+r,v.ai_(e)},v.i8=function(t,i,e){var r=t.U,n=t.S,a=t.i;r==n&&n==a?e.U=e.S=e.i=0:r>n?r>a?n>a?(e.U=i,e.S=v.AY(r,n,a,i),e.i=0):(e.U=i,e.i=v.AY(r,a,n,i),e.S=0):(e.i=i,e.U=v.AY(a,r,n,i),e.S=0):r<a?n>a?(e.S=i,e.i=v.AY(n,a,r,i),e.U=0):(e.i=i,e.S=v.AY(a,n,r,i),e.U=0):(e.S=i,e.U=v.AY(n,r,a,i),e.i=0)},v.ai_=function(t){var i=t.U,e=t.S,r=t.i,n=v.ou(i,e,r),a=Math.min(i,e,r),s=Math.max(i,e,r);if(a<0){var l=n/(n-a);i=n+(i-n)*l,e=n+(e-n)*l,r=n+(r-n)*l}if(s>1){var l=(1-n)/(s-n);i=n+(i-n)*l,e=n+(e-n)*l,r=n+(r-n)*l}t.U=i,t.S=e,t.i=r},v.RK=function(t,i,e,r,n,a){var s=new Uint32Array(t.buffer),l=0;r=Math.log(r)/Math.log(2),r=Math.round(r);for(var h=0;h<e;h++)for(var o=0;o<i;o++)s[l++]=(h+a>>r)+(o+n>>r)&!0?4291348680:4294967295},v.acY=function(t,i,e){return(t>>e)+(i>>e)&!0?200:255},v.np=function(t,i){for(var e=t.length,r=0;r<e;r+=4)i[r>>2]=Math.floor(t[r+0]*.3+t[r+1]*.59+t[r+2]*.11+.5)},v.Sv=function(t,i){for(var e=i.length,r=0;r<e;r+=4){var n=t[r>>>2];i[r]=n,i[r+1]=n,i[r+2]=n}},v.sA=function(t,i){for(var e=t.m,r=t.U,n=t.S,a=t.i,s=Math.min(t.m.length,i.buffer.byteLength>>>2),l=4*Math.floor(s/4),h=new Uint32Array(i.buffer),o=new Uint32Array(e.buffer),f=new Uint32Array(r.buffer),u=new Uint32Array(n.buffer),p=new Uint32Array(a.buffer),c=0;c<l;c+=4){var d=o[c>>2],g=p[c>>2],b=u[c>>2],m=f[c>>2];h[c]=d<<24|(g&255)<<16|(b&255)<<8|m&255,h[c+1]=(d&65280)<<16|(g&65280)<<8|b&65280|(m&65280)>>>8,h[c+2]=(d&16711680)<<8|g&16711680|(b&16711680)>>>8|(m&16711680)>>>16,h[c+3]=d&4278190080|(g&4278190080)>>>8|(b&4278190080)>>>16|(m&4278190080)>>>24}for(var c=l;c<s;c++)h[c]=e[c]<<24|a[c]<<16|n[c]<<8|r[c]},v.a6U=function(t,i,e,r){for(var n=t.m,a=t.U,s=t.S,l=t.i,h=new Uint32Array(i.buffer),o=r.x-e.x,f=o+r.Z,u=r.y-e.y,p=u+r.h,c=u;c<p;c++)for(var d=c*e.Z+o,g=o;g<f;g++)h[d]=n[d]<<24|l[d]<<16|s[d]<<8|a[d],d++},v.Ae=function(t,i){for(var e=i.m,r=i.U,n=i.S,a=i.i,s=Math.min(i.m.length,t.buffer.byteLength>>>2),l=4*Math.floor(s/4),h=new Uint32Array(t.buffer),o=new Uint32Array(e.buffer),f=new Uint32Array(r.buffer),u=new Uint32Array(n.buffer),p=new Uint32Array(a.buffer),c=0;c<l;c+=4){var d=h[c],g=h[c+1],b=h[c+2],m=h[c+3];f[c>>2]=d&255|(g&255)<<8|(b&255)<<16|m<<24,u[c>>2]=(d&65280)>>8|g&65280|(b&65280)<<8|(m&65280)<<16,p[c>>2]=(d&16711680)>>16|(g&16711680)>>8|b&16711680|(m&16711680)<<8,o[c>>2]=d>>>24|g>>>24<<8|b>>>24<<16|m&4278190080}for(var c=l;c<s;c++){var x=h[c];r[c]=x>>0&255,n[c]=x>>8&255,a[c]=x>>16&255,e[c]=x>>24&255}},v.E4=function(t,i,e){for(var r=new Uint8Array(t.buffer),n=Math.min(r.length/4,i.length),a=0;a<n;a++)i[a]=r[(a<<2)+e]},v.Oy=function(t,i,e){for(var r=new Uint8Array(i.buffer),n=new Uint32Array(t.buffer),a=Math.min(r.length/4,t.length),s=0;s+4<a;){var l=n[s>>>2];r[(s<<2)+e]=l&255,r[(s<<2)+e+4]=l>>>8&255,r[(s<<2)+e+8]=l>>>16&255,r[(s<<2)+e+12]=l>>>24,s+=4}for(;s<a;)r[(s<<2)+e]=t[s],s++},v.clone=function(t){return t.slice(0)},v.OL=function(t,i){v.set(t.m,i),v.set(t.U,i),v.set(t.S,i),v.set(t.i,i)},v.set=function(t,i){i=Math.round(i);for(var e=i<<24|i<<16|i<<8|i,r=new Uint32Array(t.buffer),n=r.length,a=0;a<n;a++)r[a]=e},v.XB=function(t,i,e){e==null&&(e=0);for(var r=new Uint32Array(t.buffer),n=r.length,a=0;a<n;a++)r[a]=r[a]&e|i},v.ah5=function(t,i,e,r,n){n==null&&(n=0);var a=new Uint32Array(t.buffer);e=e.$X(i);for(var s=e.x-i.x,l=e.y-i.y,h=e.Z,o=e.h,f=i.Z,u=0;u<o;u++)for(var p=(l+u)*f+s,c=0;c<h;c++)a[p]=a[p]&n|r,p++},v.aeV=function(t,i){v.Hk(t.m,i.m),v.Hk(t.U,i.U),v.Hk(t.S,i.S),v.Hk(t.i,i.i)},v.Hk=function(t,i){var e=Math.min(t.buffer.byteLength,i.buffer.byteLength),r=e>>>2,t=new Uint32Array(t.buffer,0,r),i=new Uint32Array(i.buffer,0,r);i.set(t)},v.aeD=function(t,i){return v.Qn(t.m,i.m)&&v.Qn(t.U,i.U)&&v.Qn(t.S,i.S)&&v.Qn(t.i,i.i)},v.Qn=function(t,i){var e=t.buffer.byteLength,r=i.buffer.byteLength,n=new Uint32Array(t.buffer,0,e>>2),a=new Uint32Array(i.buffer,0,r>>2);if(e!=r)return!1;for(var s=n.length,l=0;l<s;l++)if(a[l]!=n[l])return!1;return!0},v.nJ=function(t){for(var i=new Uint32Array(t.buffer),e=i.length,r=0;r<e;r++)i[r]=~i[r]},v.ada=function(t){for(var i=t.length,e=3;e<i;e+=4)t[e]=~t[e]},v.adk=function(t){return t+(t%4==0?0:4-t%4)},v.R=function(t,i){i==null&&(i=!1),i||(t=v.adk(t));try{var e=new Uint8Array(t)}catch(r){throw alert("Not enough RAM! (need "+Math.round(t/(1<<20))+" MB)",7e3),"low_ram"}return e},v.hE=function(t){for(var i=t.length,e=t[i-2],r=t[i-1];r.Z>=2&&r.h>=2;){var n=v.Ar(e,r);t.push(n.Ww,n.rect),e=n.Ww,r=n.rect}},v.h8=function(t){for(var i=t.length,e=t[i-2],r=t[i-1];r.Z>=2&&r.h>=2;){var n=v.wx(e,r);t.push(n.Ww,n.rect),e=n.Ww,r=n.rect}},v.Ar=function(t,i,e){for(var r=i.Z,n=i.h,a=r>>1,s=n>>1,l=new et(i.x,i.y,a,s),h=e&&e.length==a*s*4?e:v.R(a*s*4),o=new Uint32Array(t.buffer),f=new Uint32Array(h.buffer),u=0;u<s;u++)for(var p=0;p<a;p++){var c=u*a+p,d=(u<<1)*r+(p<<1),g=o[d],b=o[d+1],m=o[d+r],x=o[d+r+1],M=g>>>24,S=b>>>24,w=m>>>24,k=x>>>24,T=M+S+w+k;if(T==1020){var L=(g>>>0&255)+(b>>>0&255)+(m>>>0&255)+(x>>>0&255)+2>>>2,O=(g>>>8&255)+(b>>>8&255)+(m>>>8&255)+(x>>>8&255)+2>>>2,E=(g>>>16&255)+(b>>>16&255)+(m>>>16&255)+(x>>>16&255)+2>>>2;f[c]=255<<24|E<<16|O<<8|L}else if(T==0)f[c]=0;else{var L=(g>>>0&255)*M+(b>>>0&255)*S+(m>>>0&255)*w+(x>>>0&255)*k,O=(g>>>8&255)*M+(b>>>8&255)*S+(m>>>8&255)*w+(x>>>8&255)*k,E=(g>>>16&255)*M+(b>>>16&255)*S+(m>>>16&255)*w+(x>>>16&255)*k,D=1/T;L=~~(L*D+.5),O=~~(O*D+.5),E=~~(E*D+.5),f[c]=T+2>>>2<<24|E<<16|O<<8|L}}return{rect:l,Ww:h}},v.p0=function(t,i,e){for(var r=i.Z,n=i.h,a=r>>1,s=n>>1,l=new et(i.x,i.y,a,s),h=e&&e.length==a*s*4?e:v.R(a*s*4),o=new Uint32Array(t.buffer),f=new Uint32Array(h.buffer),u=0;u<s;u++)for(var p=0;p<a;p++){var c=u*a+p,d=(u<<1)*r+(p<<1),g=o[d],b=o[d+1],m=o[d+r],x=o[d+r+1],M=2+(g>>>0&255)+(b>>>0&255)+(m>>>0&255)+(x>>>0&255)>>>2,S=2+(g>>>8&255)+(b>>>8&255)+(m>>>8&255)+(x>>>8&255)>>>2,w=2+(g>>>16&255)+(b>>>16&255)+(m>>>16&255)+(x>>>16&255)>>>2,k=2+(g>>>24&255)+(b>>>24&255)+(m>>>24&255)+(x>>>24&255)>>>2;f[c]=k<<24|w<<16|S<<8|M}return{rect:l,Ww:h}},v.ajD=function(t,i,e){for(var r=i.Z,n=i.h,a=2*Math.floor(r/3),s=2*Math.floor(n/3),l=new et(i.x,i.y,a,s),h=e&&e.length==a*s*4?e:v.R(a*s*4),o=new Uint32Array(t.buffer),f=new Uint32Array(h.buffer),u=0;u<s;u+=2)for(var p=0;p<a;p+=2){var c=u*a+p,d=(u*3>>>1)*r+(p*3>>>1),g=o[d],b=o[d+1],m=o[d+2],x=o[d+r],M=o[d+1+r],S=o[d+2+r],w=o[d+r+r],k=o[d+1+r+r],T=o[d+2+r+r],L=g>>>24<<2,O=(g>>>16&255)*L,E=(g>>>8&255)*L,D=(g&255)*L,B=b>>>24<<1,I=(b>>>16&255)*B,N=(b>>>8&255)*B,V=(b&255)*B,j=m>>>24<<2,R=(m>>>16&255)*j,G=(m>>>8&255)*j,Z=(m&255)*j,_=x>>>24<<1,U=(x>>>16&255)*_,Y=(x>>>8&255)*_,$=(x&255)*_,P=M>>>24,tt=(M>>>16&255)*P,X=(M>>>8&255)*P,ht=(M&255)*P,F=S>>>24<<1,J=(S>>>16&255)*F,Q=(S>>>8&255)*F,rt=(S&255)*F,it=w>>>24<<2,nt=(w>>>16&255)*it,ot=(w>>>8&255)*it,pt=(w&255)*it,yt=k>>>24<<1,ct=(k>>>16&255)*yt,vt=(k>>>8&255)*yt,wt=(k&255)*yt,Mt=T>>>24<<2,Ct=(T>>>16&255)*Mt,gt=(T>>>8&255)*Mt,bt=(T&255)*Mt,xt=L+B+_+P,Dt=j+B+F+P,Ot=it+yt+_+P,kt=Mt+yt+F+P,mt=xt==0?0:1/xt,It=Dt==0?0:1/Dt,Bt=Ot==0?0:1/Ot,Ut=kt==0?0:1/kt,qt=0,Gt=0,zt=0,Nt=0;qt=~~(.5+(D+V+$+ht)*mt),Gt=~~(.5+(E+N+Y+X)*mt),zt=~~(.5+(O+I+U+tt)*mt),Nt=~~(.5+xt*(1/9)),f[c]=Nt<<24|zt<<16|Gt<<8|qt,qt=~~(.5+(Z+V+rt+ht)*It),Gt=~~(.5+(G+N+Q+X)*It),zt=~~(.5+(R+I+J+tt)*It),Nt=~~(.5+Dt*(1/9)),f[c+1]=Nt<<24|zt<<16|Gt<<8|qt,qt=~~(.5+(pt+wt+$+ht)*Bt),Gt=~~(.5+(ot+vt+Y+X)*Bt),zt=~~(.5+(nt+ct+U+tt)*Bt),Nt=~~(.5+Ot*(1/9)),f[c+a]=Nt<<24|zt<<16|Gt<<8|qt,qt=~~(.5+(bt+wt+rt+ht)*Ut),Gt=~~(.5+(gt+vt+Q+X)*Ut),zt=~~(.5+(Ct+ct+J+tt)*Ut),Nt=~~(.5+kt*(1/9)),f[c+a+1]=Nt<<24|zt<<16|Gt<<8|qt}return{rect:l,Ww:h}},v.aaX=function(t,i,e){for(var r=i.Z,n=i.h,a=2*Math.floor(r/3),s=2*Math.floor(n/3),l=new et(i.x,i.y,a,s),h=e&&e.length==a*s*4?e:v.R(a*s*4),o=new Uint32Array(t.buffer),f=new Uint32Array(h.buffer),u=0;u<s;u+=2)for(var p=0;p<a;p+=2){var c=u*a+p,d=(u*3>>>1)*r+(p*3>>>1),g=o[d],b=o[d+1],m=o[d+2],x=o[d+r],M=o[d+1+r],S=o[d+2+r],w=o[d+r+r],k=o[d+1+r+r],T=o[d+2+r+r],L=(g>>>16&255)<<2,O=(g>>>8&255)<<2,E=(g&255)<<2,D=(b>>>16&255)<<1,B=(b>>>8&255)<<1,I=(b&255)<<1,N=(m>>>16&255)<<2,V=(m>>>8&255)<<2,j=(m&255)<<2,R=(x>>>16&255)<<1,G=(x>>>8&255)<<1,Z=(x&255)<<1,_=M>>>16&255,U=M>>>8&255,Y=M&255,$=(S>>>16&255)<<1,P=(S>>>8&255)<<1,tt=(S&255)<<1,X=(w>>>16&255)<<2,ht=(w>>>8&255)<<2,F=(w&255)<<2,J=(k>>>16&255)<<1,Q=(k>>>8&255)<<1,rt=(k&255)<<1,it=(T>>>16&255)<<2,nt=(T>>>8&255)<<2,ot=(T&255)<<2,pt=0,yt=0,ct=0;pt=~~(.5+(E+I+Z+Y)*(1/9)),yt=~~(.5+(O+B+G+U)*(1/9)),ct=~~(.5+(L+D+R+_)*(1/9)),f[c]=255<<24|ct<<16|yt<<8|pt,pt=~~(.5+(j+I+tt+Y)*(1/9)),yt=~~(.5+(V+B+P+U)*(1/9)),ct=~~(.5+(N+D+$+_)*(1/9)),f[c+1]=255<<24|ct<<16|yt<<8|pt,pt=~~(.5+(F+rt+Z+Y)*(1/9)),yt=~~(.5+(ht+Q+G+U)*(1/9)),ct=~~(.5+(X+J+R+_)*(1/9)),f[c+a]=255<<24|ct<<16|yt<<8|pt,pt=~~(.5+(ot+rt+tt+Y)*(1/9)),yt=~~(.5+(nt+Q+P+U)*(1/9)),ct=~~(.5+(it+J+$+_)*(1/9)),f[c+a+1]=255<<24|ct<<16|yt<<8|pt}return{rect:l,Ww:h}},v.Ms=function(t){var i=255,e=t.length;e-=e&31;for(var r=3;r<e;r+=32)i=i&t[r]&t[r+4]&t[r+8]&t[r+12]&t[r+16]&t[r+20]&t[r+24]&t[r+28];return i!=255},v.NP=function(t,i,e,r){var n=v.Ar,a=v.ajD,s=0;v.Ms(t)||(n=v.p0,a=v.aaX);for(var l={Ww:t,rect:i},h=e;h<.499;)s++,h*=2;for(var o=0;o<s;o++)l=n(l.Ww,l.rect,r);return h<.5001?l=n(l.Ww,l.rect,r):l=a(l.Ww,l.rect,r),l},v.adx=function(t,i,e,r){for(var n=v.wx,a=v.zj,s={Ww:t,rect:i},l=0,h=e;h<.499;)l++,h*=2;for(var o=0;o<l;o++)s=n(s.Ww,s.rect,r);return h<.5001?s=n(s.Ww,s.rect,r):s=a(s.Ww,s.rect,r),s},v.wx=function(t,i,e){var r=i.Z,n=i.h,a=r>>1,s=n>>1,l=new et(i.x,i.y,a,s);if(t==null)return{rect:l};for(var h=e&&e.length>=a*s?e:v.R(a*s),o=0;o<s;o++)for(var f=o*a,u=0;u<a;u++){var p=(o<<1)*r+(u<<1);h[f+u]=2+t[p]+t[p+1]+t[p+r]+t[p+r+1]>>>2}return{rect:l,Ww:h}},v.zj=function(t,i,e){var r=i.Z,n=i.h,a=2*Math.floor(r/3),s=2*Math.floor(n/3),l=new et(i.x,i.y,a,s);if(t==null)return{rect:l};for(var h=e&&e.length>=a*s?e:v.R(a*s),o=0;o<s;o+=2)for(var f=0;f<a;f+=2){var u=o*a+f,p=(o*3>>>1)*r+(f*3>>>1),c=t[p]<<2,d=t[p+1]<<1,g=t[p+2]<<2,b=t[p+r]<<1,m=t[p+1+r],x=t[p+2+r]<<1,M=t[p+r+r]<<2,S=t[p+1+r+r]<<1,w=t[p+2+r+r]<<2;h[u]=~~(.5+(c+d+b+m)*(1/9)),h[u+1]=~~(.5+(g+d+x+m)*(1/9)),h[u+a]=~~(.5+(M+S+b+m)*(1/9)),h[u+a+1]=~~(.5+(w+S+x+m)*(1/9))}return{rect:l,Ww:h}},v.Lj=function(t,i,e,r,n){var a=i.$X(r);n&&(a=a.$X(n));for(var s=Math.max(0,a.x-i.x),l=Math.max(0,a.x-r.x),h=Math.max(0,a.y-i.y),o=Math.max(0,a.y-r.y),f=a.Z,u=a.h,p=0;p<u;p++)for(var c=(h+p)*i.Z+s,d=(o+p)*r.Z+l,g=0;g<f;g++)e[d+g]=t[c+g]},v.F_=function(t,i,e,r){if(i.Qn(r)){v.Oy(t,e,3);return}for(var n=i.$X(r),a=Math.max(0,n.x-i.x),s=Math.max(0,n.x-r.x),l=Math.max(0,n.y-i.y),h=Math.max(0,n.y-r.y),o=n.Z,f=n.h,u=0;u<f;u++)for(var p=(l+u)*i.Z+a,c=(h+u)*r.Z+s,d=0;d<o;d++)e[(c+d<<2)+3]=t[p+d]},v._h=function(t,i,e,r){for(var n=i.$X(r),a=Math.max(0,n.x-i.x),s=Math.max(0,n.x-r.x),l=Math.max(0,n.y-i.y),h=Math.max(0,n.y-r.y),o=n.Z,f=n.h,u=0;u<f;u++)for(var p=(l+u)*i.Z+a,c=(h+u)*r.Z+s,d=0;d<o;d++)e[c+d]=t[(p+d<<2)+3]},v.abc=function(t,i,e,r){for(var n=i.$X(r),a=Math.max(0,n.x-i.x),s=Math.max(0,n.x-r.x),l=Math.max(0,n.y-i.y),h=Math.max(0,n.y-r.y),o=n.Z,f=n.h,u=0;u<f;u++)for(var p=(l+u)*i.Z+a,c=(h+u)*r.Z+s,d=0;d<o;d++)e[c++]=t[p++]},v.BP=function(t,i,e,r,n){if(i.Qn(r)&&(n==null||n.Qn(r))){v.Hk(t,e);return}t=new Uint32Array(t.buffer),e=new Uint32Array(e.buffer);var a=i.$X(r);n&&(a=a.$X(n));for(var s=Math.max(0,a.x-i.x),l=Math.max(0,a.x-r.x),h=Math.max(0,a.y-i.y),o=Math.max(0,a.y-r.y),f=a.Z,u=a.h,p=f&3,c=p==0?f:f-p,d=0;d<u;d++){for(var g=(h+d)*i.Z+s,b=(o+d)*r.Z+l,m=0;m<c;)e[b+m]=t[g+m],e[b+m+1]=t[g+m+1],e[b+m+2]=t[g+m+2],e[b+m+3]=t[g+m+3],m+=4;p==1?e[b+m]=t[g+m]:p==2?(e[b+m]=t[g+m],e[b+m+1]=t[g+m+1]):p==3&&(e[b+m]=t[g+m],e[b+m+1]=t[g+m+1],e[b+m+2]=t[g+m+2])}},v.X6=function(t,i,e,r){for(var n=i.$X(r),a=Math.max(0,n.x-i.x),s=Math.max(0,n.x-r.x),l=Math.max(0,n.y-i.y),h=Math.max(0,n.y-r.y),o=n.Z,f=n.h,u=t.m,p=t.U,c=t.S,d=t.i,g=e.m,b=e.U,m=e.S,x=e.i,M=0;M<f;M++)for(var S=(l+M)*i.Z+a,w=(h+M)*r.Z+s,k=0;k<o;k++)g[w+k]=u[S+k],b[w+k]=p[S+k],m[w+k]=c[S+k],x[w+k]=d[S+k]},v.l7=function(t){for(var i=t.length,e=0;e<i;e+=4){var r=t[e+3];t[e]=~~(t[e]*r*(1/255)+.5),t[e+1]=~~(t[e+1]*r*(1/255)+.5),t[e+2]=~~(t[e+2]*r*(1/255)+.5)}},v.gl=function(t){for(var i=t.length,e=0;e<i;e+=4){var r=t[e+3];if(!(r==0||r==255)){var n=255/r;t[e]=~~(t[e]*n+.5),t[e+1]=~~(t[e+1]*n+.5),t[e+2]=~~(t[e+2]*n+.5)}}},v.af8=function(){for(var t=new Uint8Array(256*256),i=0;i<256;i++)for(var e=0;e<256;e++)t[e*256+i]=Math.round(255*i/e);return t}(),v.wq=function(t,i){for(var e=0;e<t.length;e++)if(t[e]!=i)return!1;return!0},v.fV=function(t){return t+1+(t>>>8)>>>8},v.round=function(t,i){i==null&&(i=128);for(var e=t.length,r=0;r<e;r++)t[r]=t[r]<i?0:255},v.WI=function(t,i){for(var e=t.length,r=0;r<e;r++)t[r]=Math.round(t[r]*i)},v.a4x=function(t,i){for(var e=t.length,r=0;r<e;r+=4)t[r+3]=Math.round(t[r+3]*i)},v.vB=function(t,i){for(var e=new Uint32Array(t.buffer),r=new Uint32Array(i.buffer),n=e.length,a=0;a<n;a++){var s=e[a],l=r[a];r[a]=v.fV((s>>>24)*(l>>>24))<<24|v.fV((s>>>16&255)*(l>>>16&255))<<16|v.fV((s>>>8&255)*(l>>>8&255))<<8|v.fV((s&255)*(l&255))}},v.v0=function(t,i){for(var e=t.length,r=0;r<e;r++)i[(r<<2)+3]=v.fV(i[(r<<2)+3]*t[r])},v.a3E=function(t,i,e,r){for(var n=Math.max(0,r.x-i.x),a=Math.max(0,i.x-r.x),s=Math.max(0,r.y-i.y),l=Math.max(0,i.y-r.y),h=Math.min(i.x+i.Z,r.x+r.Z)-Math.max(i.x,r.x),o=Math.min(i.y+i.h,r.y+r.h)-Math.max(i.y,r.y),f=0;f<o;f++)for(var u=(s+f)*i.Z+n,p=(l+f)*r.Z+a,c=0;c<h;c++)e[p]=v.fV(e[p]*t[u]),u++,p++},v.pa=function(t,i,e,r){for(var n=Math.max(0,r.x-i.x),a=Math.max(0,i.x-r.x),s=Math.max(0,r.y-i.y),l=Math.max(0,i.y-r.y),h=Math.min(i.x+i.Z,r.x+r.Z)-Math.max(i.x,r.x),o=Math.min(i.y+i.h,r.y+r.h)-Math.max(i.y,r.y),f=0;f<o;f++)for(var u=(s+f)*i.Z+n,p=((l+f)*r.Z+a<<2)+3,c=0;c<h;c++)e[p]=v.fV(e[p]*t[u]),u++,p+=4},v.Wr=function(t,i,e,r){for(var n=Math.max(0,r.x-i.x),a=Math.max(0,i.x-r.x),s=Math.max(0,r.y-i.y),l=Math.max(0,i.y-r.y),h=Math.min(i.x+i.Z,r.x+r.Z)-Math.max(i.x,r.x),o=Math.min(i.y+i.h,r.y+r.h)-Math.max(i.y,r.y),f=0;f<o;f++)for(var u=((s+f)*i.Z+n<<2)+3,p=((l+f)*r.Z+a<<2)+3,c=0;c<h;c++)e[p]=v.fV(e[p]*t[u]),u+=4,p+=4},v.abu=function(t,i,e,r){for(var n=1/255,a=Math.max(0,r.x-i.x),s=Math.max(0,i.x-r.x),l=Math.max(0,r.y-i.y),h=Math.max(0,i.y-r.y),o=Math.min(i.x+i.Z,r.x+r.Z)-Math.max(i.x,r.x),f=Math.min(i.y+i.h,r.y+r.h)-Math.max(i.y,r.y),u=0;u<f;u++)for(var p=(l+u)*i.Z+a,c=(h+u)*r.Z+s,d=0;d<o;d++)e[c]=n*e[c]*(255-t[p]),p++,c++},v.a1r=function(t,i){for(var e=[],r=0;r<256;r++)e.push(0);for(var n=t.length,a=1/255,r=0;r<n;r++)e[t[r]]+=i[r]*a;return e},v.NC=function(t){for(var i=new Float64Array(256),e=new Float64Array(256),r=new Float64Array(256),n=new Float64Array(256),a=t.length,s=0;s<a;s+=4){var l=t[s+3]*(1/255);e[t[s+0]]+=l,r[t[s+1]]+=l,n[t[s+2]]+=l}for(var s=0;s<256;s++)i[s]=e[s]+r[s]+n[s];return[i,e,r,n,a>>>2]},v.gJ=function(t,i){for(var e=new Uint32Array(t.buffer),r=e.length,n=0;n<r;n++){var a=e[n],s=a&255,l=a>>8&255,h=a>>16&255,o=a>>24&255;e[n]=i[s]|i[l]<<8|i[h]<<16|i[o]<<24}},v.amA=function(t,i,e,r,n,a,s){for(var l=new Uint32Array(t.buffer),h=new Uint32Array(i.buffer),o=l.length,f=0;256<<f<e.length;)f++;if(!s&&!a){for(var u=0;u!=o;u++){var p=l[u],c=(p&255)<<f,d=(p>>>8&255)<<f,g=(p>>>16&255)<<f,b=e[c],m=r[d],x=n[g];h[u]=b|m<<8|x<<16|p&4278190080}return}for(var u=0;u<o;u++){var p=l[u],c=(p&255)<<f,d=(p>>>8&255)<<f,g=(p>>>16&255)<<f;a&&(c=d=g=Math.round(c*.3+d*.59+g*.11));var b=e[c],m=r[d],x=n[g];if(s){var M=v.ou(c,d,g),S=v.ou(b,m,x);if(M>S){var w=(M-S)/(255-S);b+=w*(255-b),m+=w*(255-m),x+=w*(255-x)}else if(S==0)b=m=x=0;else{var w=M/S;b=w*b,m=w*m,x=w*x}}h[u]=b|m<<8|x<<16|p&4278190080}},v.a3Y=function(t){for(var i=new Uint32Array(256),e=0,r=0;r<t.length;r++)i[t[r]]++;for(var r=0;r<256;r++)i[r]>i[e]&&(e=r);return e},v.xw=function(t,i){var e=i.Z,r=i.h,n=0,a=0,s=0,l=0,h=0;h=0;for(var o=0;o<r;o++){for(var f=o*e,u=0;u<e;u++)h|=t[f+u];if(h!=0)break;n++}if(n==r)return new et(0,0,0,0);h=0;for(var o=r-1;o>=0;o--){for(var f=o*e,u=0;u<e;u++)h|=t[f+u];if(h!=0)break;s++}var p=r-s;h=0;for(var u=0;u<e;u++){for(var o=n;o<p;o++)h|=t[o*e+u];if(h!=0)break;a++}h=0;for(var u=e-1;u>=0;u--){for(var o=n;o<p;o++)h|=t[o*e+u];if(h!=0)break;l++}var c=new et(i.x+a,i.y+n,e-a-l,r-n-s);return c},v.cR=function(t,i,e,r){r==null&&(r=[!0,!0,!0,!0]),e==null&&(e=0);var n=new Uint32Array(t.buffer),a=i.Z,s=i.h,l=0,h=0,o=0,f=0,u=!1,p=[n[0],n[n.length-1],0][e];if(u=!1,r[0])for(var c=0;c<s;c++){for(var d=c*a,g=0;g<a;g++)n[d+g]!=p&&(u=!0);if(u)break;l++}if(u=!1,r[2])for(var c=s-1;c>=0;c--){for(var d=c*a,g=0;g<a;g++)n[d+g]!=p&&(u=!0);if(u)break;o++}if(u=!1,r[1])for(var g=0;g<a;g++){for(var c=0;c<s;c++)n[c*a+g]!=p&&(u=!0);if(u)break;h++}if(u=!1,r[3])for(var g=a-1;g>=0;g--){for(var c=0;c<s;c++)n[c*a+g]!=p&&(u=!0);if(u)break;f++}var b=new et(i.x+h,i.y+l,a-h-f,s-l-o);return b.qr()?new et(0,0,0,0):b},v.ahm=function(t){for(var i=255,e=t.length,r=3;r<e;r+=4)i=i&t[r];return i},v.HZ=function(t){var i=v.xw(t.channel,t.rect);if(!i.Qn(t.rect)){var e=v.R(i.M());v.Lj(t.channel,t.rect,e,i),t.channel=e,t.rect=i}},v.mn=function(t){var i=v.R(t.buffer.length>>2);v.E4(t.buffer,i,3);var e=v.xw(i,t.rect);if(!e.Qn(t.rect)){var r=new v.R(e.M()*4);v.BP(t.buffer,t.rect,r,e),t.buffer=r,t.rect=e}},v.extend=function(t,i,e){if(!t.rect.Qh(i)){var r=t.rect.s7(i),n=v.R(r.M());e!=null&&v.set(n,e),v.Lj(t.channel,t.rect,n,r),t.rect=r,t.channel=n}},v.aao=function(t,i){if(!(i.qr()||t.rect.Qh(i))){var e=t.rect.s7(i),r=v.R(e.M()*4);v.BP(t.buffer,t.rect,r,e),t.rect=e,t.buffer=r}},v.a2_=function(t,i,e){for(var r=i.clone(),n=e.M(),a=t.s7(r);a.M()/t.M()<2&&a.M()<n;)r.PK(16,16),a=a.s7(r).$X(e);return n/a.M()<2&&(a=e.clone()),a},v.hc=function(t){for(var i=t.length,e=0;e<i;e+=4){var r=t[e+3];t[e]>r&&(t[e]=r),t[e+1]>r&&(t[e+1]=r),t[e+2]>r&&(t[e+2]=r)}},v.cp=function(t,i,e){if(!e.oz(t))return!1;var r=Math.floor(t.x)-e.x,n=Math.floor(t.y)-e.y,a=n*e.Z+r;return i[a]>128},v.aiC=function(t,i,e){if(!e.oz(t))return!1;var r=Math.floor(t.x)-e.x,n=Math.floor(t.y)-e.y,a=n*e.Z+r;return i[4*a+3]>128},v.AA=function(t){return v.UN.length<t&&(v.UN=v.R(t),v.set(v.UN,255)),v.UN},v.UN=v.R(0),v.Zm=function(t){return v.Q_.length<t&&(v.Q_=v.R(t)),v.Q_},v.Q_=v.R(0),v._B=function(t){this.m=v.R(t),this.U=v.R(t),this.S=v.R(t),this.i=v.R(t)},v._B.prototype.clone=function(){var t=this.m.length,i=new v._B(1);return i.m=v.clone(this.m),i.U=v.clone(this.U),i.S=v.clone(this.S),i.i=v.clone(this.i),i},v.WO={a6g:function(t,i){var e=t.length;t.push(i);for(var r=e>>>1;r!=0&&t[e][0]<t[r][0];){var n=t[e];t[e]=t[r],t[r]=n,e=r,r=e>>>1}},aaV:function(t){if(t.length==2)return t.pop();var i=t[1],e=1;t[1]=t.pop();for(var r=t.length;;){var n=e<<1,a=n+1,s=e;if(n<r&&t[n][0]<t[s][0]&&(s=n),a<r&&t[a][0]<t[s][0]&&(s=a),s==e)break;var l=t[e];t[e]=t[s],t[s]=l,e=s}return i},a4C:function(t){for(var i=1;i<t.length;i++)for(var e=i,r=1e9;e!=0;){var n=t[e][0];if(n>r)throw console.log(i),"e";r=n,e=e>>>1}}},v.N={},v.N.Mw=new Float64Array(256),v.N.Rh=new Uint8Array(256*256),v.N.f3=new Uint8Array(256*256),function(){for(var t=0;t<256;t++)v.N.Mw[t]=255/t;for(var t=0;t<256;t++)for(var i=0;i<256;i++)v.N.Rh[t*256+i]=t==0?0:Math.round(i*255/t);for(var t=0;t<256;t++)for(var i=0;i<256;i++)v.N.f3[t*256+i]=Math.round(t*(255-i)/255)}(),v.N.DO=function(t,i,e,r,n,a,s,l){l==null&&(l=St.jx()),"idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(t)==-1&&(s=s*l.fill,l.fill=1,l.style=!1);var h="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),o="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),f=v.N[t+"F"];l.Lc==null&&t=="norm"?v.N.ajM(i,e,r,n,a,s,f,l.YU?1:0):t=="diss"?v.N.ahI(i,e,r,n,a,s,f,l.YU?1:0):h.indexOf(t)!=-1?v.N.afR(i,e,r,n,a,s,f,l):o.indexOf(t)!=-1&&v.N.a3k(i,e,r,n,a,s,f,l)},v.N.a03=function(t,i,e){var r=t*e+1-e;return r<.001?0:1-Math.min(1,(1-i)/r)},v.N.adS=function(t,i,e){return t*e==1?1:Math.min(1,i/(1-t*e))},v.N.fY=function(t){return t<=.25?((16*t-12)*t+4)*t:Math.sqrt(t)},v.N.normF=function(t,i,e){return t},v.N.darkF=function(t,i,e){return Math.min(t,i)},v.N["mul F"]=function(t,i,e){return t*i},v.N.idivF=function(t,i,e){var r=t*e+1-e;return i==1?1:1-i>=r?0:1-(1-i)/r},v.N.lbrnF=function(t,i,e){return Math.max(0,t*e+i-e)},v.N.dkClF=function(t,i,e){var r=v.ec(t)<v.ec(i)?t:i;return e.U=r.U,e.S=r.S,e.i=r.i,e},v.N.liteF=function(t,i,e){return Math.max(t,i)},v.N.scrnF=function(t,i,e){return i+t-i*t},v.N["div F"]=function(t,i,e){return t*=e,i==0?0:i>=1-t?1:i/(1-t)},v.N.lddgF=function(t,i,e){return t*=e,Math.min(1,t+i)},v.N.lgClF=function(t,i,e){var r=v.ec(t)>v.ec(i)?t:i;return e.U=r.U,e.S=r.S,e.i=r.i,e},v.N.overF=function(t,i,e){return v.N.hLitF(i,t,e)},v.N.sLitF=function(t,i,e){return t<=.5?i-(1-2*t)*i*(1-i):i+(2*t-1)*(v.N.fY(i)-i)},v.N.hLitF=function(t,i,e){return t<=.5?v.N["mul F"](2*t,i,e):v.N.scrnF(2*t-1,i,e)},v.N.vLitF=function(t,i,e){return t<=.5?v.N.a03(2*t,i,e):v.N.adS(2*t-1,i,e)},v.N.lLitF=function(t,i,e){return t<=.5?v.N.lbrnF(2*t,i,e):v.N.lddgF(2*t-1,i,e)},v.N.pLitF=function(t,i,e){return t<=.5?v.N.darkF(2*t,i,e):v.N.liteF(2*t-1,i,e)},v.N.hMixF=function(t,i,e){return e>.99?t+i<1?0:1:Math.min(1,Math.max(0,(i+t*e-e)/(1-e+1e-6)))},v.N.diffF=function(t,i,e){return t*=e,Math.abs(t-i)},v.N.smudF=function(t,i,e){return t+i-2*t*i},v.N.fsubF=function(t,i,e){return Math.max(i-t,0)},v.N.fdivF=function(t,i,e){return Math.min(i/t,1)},v.N["hue F"]=function(t,i,e){v.i8(t,v.TO(i),e),v.Am(e,v.ec(i),e)},v.N["sat F"]=function(t,i,e){v.i8(i,v.TO(t),e),v.Am(e,v.ec(i),e)},v.N.colrF=function(t,i,e){v.Am(t,v.ec(i),e)},v.N["lum F"]=function(t,i,e){v.Am(i,v.ec(t),e)},v.N.ajM=function(t,i,e,r,n,a,s,l){for(var h=i.$X(r).$X(n),o=Math.max(0,h.x-i.x),f=Math.max(0,h.x-r.x),u=Math.max(0,h.y-i.y),p=Math.max(0,h.y-r.y),c=h.Z,d=h.h,g=i.Z,b=r.Z,m=v.N.Rh,x=v.N.f3,M=new Uint32Array(t.buffer),S=new Uint32Array(e.buffer),w=0;w<d;w++)for(var k=(u+w)*g+o,T=(p+w)*b+f,L=0;L<c;L++){var O=M[k+L],E=255;if(O>>>24!=0){if(O>>>24==255&&a==1&&l==0){S[T+L]=M[k+L];continue}var D=S[T+L],B=255*a&255;l==0&&(B=(O>>>24)*a&255,E=D>>>24);var I=x[E<<8|B],N=B+I,V=O&255,j=O>>>8&255,R=O>>>16&255,G=D&255,Z=D>>>8&255,_=D>>>16&255;S[T+L]=l*(D>>>24)+(1-l)*N<<24|m[N<<8|v.fV(R*B+_*I)]<<16|m[N<<8|v.fV(j*B+Z*I)]<<8|m[N<<8|v.fV(V*B+G*I)]}}},v.N.a1d=function(t,i,e,r,n,a){for(var s=i.$X(r).$X(n),l=Math.max(0,s.x-i.x),h=Math.max(0,s.x-r.x),o=Math.max(0,s.y-i.y),f=Math.max(0,s.y-r.y),u=s.Z,p=s.h,c=i.Z,d=r.Z,g=v.N.Rh,b=v.N.f3,m=new Uint32Array(t.buffer),x=new Uint32Array(e.buffer),M=Math.floor(Math.random()*16777215),S=0,w=0;w<p;w++)for(var k=(o+w)*c+l,T=(f+w)*d+h,L=0;L<u;L++){var O=m[k+L];if(O>>>24!=0){if(O>>24==255&&a==1){x[T+L]=O;continue}var E=x[T+L],D=(O>>>24)*a*(1/255),B=(E>>>24)*(1/255),I=B*(1-D),N=D+I,V=O&255,j=O>>>8&255,R=O>>>16&255,G=E&255,Z=E>>>8&255,_=E>>>16&255;S>>>=8,(L&3)==0&&(S=v.N.eT(T+L+M));var U=N==0?0:1/N,Y=Math.floor(N*(256*255))+(S&255)>>>8,$=Math.floor((R*D+_*I)*U+.5),P=Math.floor((j*D+Z*I)*U+.5),tt=Math.floor((V*D+G*I)*U+.5);x[T+L]=Y<<24|$<<16|P<<8|tt}}},v.N.XM=function(t,i,e,r,n,a,s,l){var h=v.ou(t,i,e),o=v.ou(r,n,a),f=Math.min,u=v.N.a1v,p=u(h,l,0);p=f(p,u(t,l,8)),p=f(p,u(i,l,16)),p=f(p,u(e,l,24));var c=u(o,l,4);c=f(c,u(r,l,12)),c=f(c,u(n,l,20)),c=f(c,u(a,l,28)),c=Math.max(c,1-s);var d=Math.min(p,c);return d<0?0:d>1?1:d},v.N.a1v=function(t,i,e){return Math.min((t-i[e])*i[e+1],(t-i[e+3])*i[e+2])},v.N.afR=function(t,i,e,r,n,a,s,l){for(var h=1/255,o=h*a,f=l.YU?1:0,u=l.fill,p=l.style,c=i.$X(r).$X(n),d=Math.max(0,c.x-i.x),g=Math.max(0,c.x-r.x),b=Math.max(0,c.y-i.y),m=Math.max(0,c.y-r.y),x=c.Z,M=c.h,S=i.Z,w=r.Z,k=new Uint32Array(t.buffer),T=new Uint32Array(e.buffer),L=0;L<M;L++)for(var O=(b+L)*S+d,E=(m+L)*w+g,D=0;D<x;D++,O++,E++){var B=k[O],I=1;if(B>>>24!=0){var N=T[E],V=(B&255)*h,j=(B>>>8&255)*h,R=(B>>>16&255)*h,G=(N&255)*h,Z=(N>>>8&255)*h,_=(N>>>16&255)*h,U=a;f==0&&(U=(B>>>24)*o,I=(N>>>24)*h),l.Lc&&(U*=v.N.XM(V,j,R,G,Z,_,I,l.Lc));var Y=I*(1-U),$=U+Y,P=$==0?0:255/$,tt=p?1:U,X=((1-I)*U*V+(1-tt)*I*G+tt*I*s(V,G,(1+U-tt)*u))*P,ht=((1-I)*U*j+(1-tt)*I*Z+tt*I*s(j,Z,(1+U-tt)*u))*P,F=((1-I)*U*R+(1-tt)*I*_+tt*I*s(R,_,(1+U-tt)*u))*P;$=U*u+I*(1-U*u);var J=~~($*255+.5);T[E]=f*(N>>>24)+(1-f)*J<<24|F<<16|ht<<8|X}}},v.N.a3k=function(t,i,e,r,n,a,s,l){for(var h=1/255,o=h*a,f=l.YU?1:0,u=i.$X(r).$X(n),p=Math.max(0,u.x-i.x),c=Math.max(0,u.x-r.x),d=Math.max(0,u.y-i.y),g=Math.max(0,u.y-r.y),b=u.Z,m=u.h,x=new Uint32Array(t.buffer),M=new Uint32Array(e.buffer),S={U:0,S:0,i:0},w={U:0,S:0,i:0},k={U:0,S:0,i:0},T=0;T<m;T++)for(var L=(d+T)*i.Z+p,O=(g+T)*r.Z+c,E=0;E<b;E++,L++,O++){var D=x[L],B=M[O],I=(D&255)*h,N=(D>>>8&255)*h,V=(D>>>16&255)*h,j=(B&255)*h,R=(B>>>8&255)*h,G=(B>>>16&255)*h,Z=a,_=1;f==0&&(Z=(D>>>24)*o,_=(B>>>24)*h),l.Lc&&(Z*=v.N.XM(I,N,V,j,R,G,_,l.Lc));var U=_*(1-Z),Y=Z+U,$=255/Y;S.U=I,S.S=N,S.i=V,w.U=j,w.S=R,w.i=G,s(S,w,k);var P=(((1-_)*I+_*k.U)*Z+j*U)*$,tt=(((1-_)*N+_*k.S)*Z+R*U)*$,X=(((1-_)*V+_*k.i)*Z+G*U)*$,ht=f*(B>>>24)+(1-f)*Math.round(Y*255);M[O]=ht<<24|X<<16|tt<<8|P}},v.N.kY=function(t){return t=t^61^t>>>16,t=t+(t<<3),t=t^t>>>4,t=t*668265261,t=t^t>>15,(t&16777215)*(1/16777215)},v.N.eT=function(t){return t=t^61^t>>>16,t=t+(t<<3),t=t^t>>>4,t=t*668265261,t=t^t>>>15,t},v.N.Df=function(t){this.Og=t},v.N.Df.prototype.get=function(){var t=this.Og=v.N.eT(this.Og);return(t&16777215)*(1/16777215)},v.N.ahI=function(t,i,e,r,n,a,s,l){for(var h=1/255,o=h*a,f=Math.round(a*(256*256*256/255)),u=i.$X(r).$X(n),p=Math.max(0,u.x-i.x),c=Math.max(0,u.x-r.x),d=Math.max(0,u.y-i.y),g=Math.max(0,u.y-r.y),b=u.Z,m=u.h,x=new Uint32Array(t.buffer),M=new Uint32Array(e.buffer),S=0;S<m;S++)for(var w=(d+S)*i.Z+p,k=(g+S)*r.Z+c,T=0;T<b;T++,w++,k++){var L=x[w],O=M[k],E=l*255+(1-l)*(L>>>24);(v.N.eT(w)&16777215)>=E*f||(M[k]=L&16777215|l*(O>>>24)+(1-l)*255<<24)}},v.N.aby=function(t,i,e){for(var r=0;r<t.length;r+=4){var n=e[r>>>2];if(n!=0){var a=n*(1/255),s=1/a,l=i[r],h=i[r+1],o=i[r+2],f=t[r],u=t[r+1],p=t[r+2];i[r]=Math.min(255,Math.max(0,Math.round((l-(1-a)*f)*s))),i[r+1]=Math.min(255,Math.max(0,Math.round((h-(1-a)*u)*s))),i[r+2]=Math.min(255,Math.max(0,Math.round((o-(1-a)*p)*s))),i[r+3]=255}}},v.N.$e=function(t,i,e,r,n,a,s,l,h,o,f){o==null&&(o=!1),f==null&&(f=[1,1,1]);var u=255<<24|f[2]*16711680|f[1]*65280|f[0]*255,p=~u;if(n&&!i.Qn(a)){var c=v.R(i.M()*4);v.set(c,s),v.Lj(n,a,c,i),n=c,a=i}o?n==null?v.N.acJ(t,i,e,r,n,l,h,u,p):v.N.ai1(t,i,e,r,n,l,h):n==null?v.N.aky(t,i,e,r,n,l,h,u,p):v.N.ahn(t,i,e,r,n,l,h)},v.N.aky=function(t,i,e,r,n,a,s,l,h){for(var o=1/255,f=i.$X(r).$X(a),u=Math.max(0,f.x-i.x),p=Math.max(0,f.x-r.x),c=Math.max(0,f.y-i.y),d=Math.max(0,f.y-r.y),g=f.Z,b=f.h,m=new Uint32Array(t.buffer),x=new Uint32Array(e.buffer),M=v.N.Rh,S=s*255&255,w=0;w<b;w++)for(var k=(c+w)*i.Z+u,T=(d+w)*r.Z+p,L=0;L<g;L++,k++,T++){var O=m[k],E=x[T],D=O>>>24,B=E>>>24,I=v.fV(S*D+(255-S)*B),N=v.fV(D*S),V=v.fV(B*(255-S)),j=O&255,R=O>>>8&255,G=O>>>16&255,Z=E&255,_=E>>>8&255,U=E>>>16&255,Y=N*j+Z*V,$=N*R+_*V,P=N*G+U*V;Y=M[I<<8|v.fV(Y)],$=M[I<<8|v.fV($)],P=M[I<<8|v.fV(P)];var tt=I<<24|P<<16|$<<8|Y;x[T]=h&E|l&tt}},v.N.acJ=function(t,i,e,r,n,a,s,l,h){for(var o=1/255,f=i.$X(r).$X(a),u=Math.max(0,f.x-i.x),p=Math.max(0,f.x-r.x),c=Math.max(0,f.y-i.y),d=Math.max(0,f.y-r.y),g=f.Z,b=f.h,m=new Uint32Array(t.buffer),x=new Uint32Array(e.buffer),M=v.N.Rh,S=s*16777215&16777215,w=0;w<b;w++)for(var k=(c+w)*i.Z+u,T=(d+w)*r.Z+p,L=0;L<g;L++,k++,T++)(v.N.eT(k)&16777215)<S&&(x[T]=h&x[T]|l&m[k])},v.N.ahn=function(t,i,e,r,n,a,s){for(var l=1/255,h=i.$X(r).$X(a),o=Math.max(0,h.x-i.x),f=Math.max(0,h.x-r.x),u=Math.max(0,h.y-i.y),p=Math.max(0,h.y-r.y),c=h.Z,d=h.h,g=new Uint32Array(t.buffer),b=new Uint32Array(e.buffer),m=v.N.Rh,x=0;x<d;x++)for(var M=(u+x)*i.Z+o,S=(p+x)*r.Z+f,w=0;w<c;w++,M++,S++){var k=n[M]*s&255;if(k!=0){if(k==255){b[S]=g[M];continue}var T=g[M],L=b[S],O=T>>>24,E=L>>>24,D=v.fV(k*O+(255-k)*E),B=v.fV(O*k),I=v.fV(E*(255-k)),N=T&255,V=T>>>8&255,j=T>>>16&255,R=L&255,G=L>>>8&255,Z=L>>>16&255,_=m[D<<8|v.fV(B*N+R*I)],U=m[D<<8|v.fV(B*V+G*I)],Y=m[D<<8|v.fV(B*j+Z*I)];b[S]=D<<24|Y<<16|U<<8|_}}},v.N.ai1=function(t,i,e,r,n,a,s){for(var l=1/255,h=i.$X(r).$X(a),o=Math.max(0,h.x-i.x),f=Math.max(0,h.x-r.x),u=Math.max(0,h.y-i.y),p=Math.max(0,h.y-r.y),c=h.Z,d=h.h,g=new Uint32Array(t.buffer),b=new Uint32Array(e.buffer),m=v.N.Rh,x=Math.round(s*257),M=0;M<d;M++)for(var S=(u+M)*i.Z+o,w=(p+M)*r.Z+f,k=0;k<c;k++,S++,w++){var T=n[S]*x;(v.N.eT(S)&65535)<T&&(b[w]=g[S])}},v.N.V7=function(t,i,e,r,n,a,s){for(var l=1/255,h=i.$X(r).$X(a),o=Math.max(0,h.x-i.x),f=Math.max(0,h.x-r.x),u=Math.max(0,h.y-i.y),p=Math.max(0,h.y-r.y),c=h.Z,d=h.h,g=new Uint32Array(t.buffer),b=new Uint32Array(e.buffer),m=Math.floor(Math.random()*r.M()),x=v.N.a9n,M=0;M<d;M++)for(var S=(u+M)*i.Z+o,w=(p+M)*r.Z+f,k=0;k<c;k++){var T=n[S+k]*s;if(T!=0){if(T==255){b[w+k]=g[S+k];continue}var L=g[S+k],O=b[w+k],E=L>>>24,D=O>>>24,B=E*T*(1/255),I=D*(255-T)*(1/255),N=L&255,V=L>>>8&255,j=L>>>16&255,R=O&255,G=O>>>8&255,Z=O>>>16&255,_=v.N.eT(w+k+m),U=Math.floor((B+I)*256+.5)+(_>>>0&255)>>>8,Y=U==0?0:256/(B+I),$=N*B+R*I,P=V*B+G*I,tt=j*B+Z*I,X=Math.floor($*Y+.5)+(_>>>8&255)>>>8,ht=Math.floor(P*Y+.5)+(_>>>16&255)>>>8,F=Math.floor(tt*Y+.5)+(_>>>21&248)>>>8;b[w+k]=U<<24|F<<16|ht<<8|X}}},v.N.a9n=function(t){return Math.floor(t+Math.random())},v.N.fG=function(t,i,e,r,n,a,s){for(var l=1/255,h=i.$X(r).$X(a),o=Math.max(0,h.x-i.x),f=Math.max(0,h.x-r.x),u=Math.max(0,h.y-i.y),p=Math.max(0,h.y-r.y),c=h.Z,d=h.h,g=0;g<d;g++)for(var b=(u+g)*i.Z+o,m=(p+g)*r.Z+f,x=0;x<c;x++,b++,m++){var M=s*n[b]*l;if(M!=0){if(M==1){e[m]=t[b];continue}e[m]=t[b]*M+e[m]*(1-M)}}},v.QN={},v.QN.ace=function(t,i,e,r,n,a){v.QN.i9(t,i,e,r,n,a,null,0)},v.QN.a9g=function(t,i,e,r,n){v.QN.i9(t,i,e,r,n,null,null,0)},v.QN.a7P=function(t,i,e,r,n,a,s){v.QN.i9(t,i,e,r,n,null,a,s*.5)},v.QN.i9=function(t,i,e,r,n,a,s,l){var h=0,o=0,f=1e9,u=0,p=1e9,c=0,d=1e9,g=0,b=0,m=0,x=0;a&&(h=n*.5,n=3+Math.round((n-3)*.75)),s&&(n=Math.round(n*2.2));for(var M=1/n,S=Math.floor(i*M)+1,w=Math.floor(e*M)+1,k=[],T=new Uint8Array(S*w*4),L=s?.5:1,O=a?64:0,E=0;E<w;E++)for(var D=s?.5*(E&1):0,B=0;B<S;B++){var I=(B+Math.random()*L+D)*n,N=(E+Math.random()*L)*n;k.push(I,N);for(var V=Math.min(i-1,Math.floor(I)),j=Math.min(e-1,Math.floor(N)),R=(j*i+V)*4,G=(E*S+B)*4,Z=0;Z<4;Z++)T[G+Z]=Math.max(0,Math.min(255,Math.floor(t[R+Z]+(Math.random()-.5)*O)))}for(var _=a||s||[0,0,0],U=S*w*2,Y=[-S-1,-S,-S+1,-1,0,1,S-1,S,S+1],E=0;E<e;E++){m=0;for(var B=0;B<i;B++){var $=B+.5,P=E+.5,tt=Math.floor(P*M),X=Math.floor($*M),ht=tt*S+X,F=0,J=0;if(m>1+l)f=v.QN.wQ(k,o,$,P),g=Math.sqrt(f),m--,x++;else{f=p=d=1e9;for(var Z=0;Z<Y.length;Z++){var Q=(ht+Y[Z])*2;if(!(Q<0||Q>=U)){var rt=v.QN.wQ(k,Q,$,P);rt<d&&(rt<p?rt<f?(c=u,d=p,u=o,p=f,o=Q,f=rt):(c=u,d=p,u=Q,p=rt):(c=Q,d=rt))}}g=Math.sqrt(f),b=Math.sqrt(p),m=b-(g+b)*.5}if(s==null){var it=(g+b)*.5,nt=a?Math.max(0,it-h):0;F=Math.max(0,Math.min(1,.5+it-g-nt)),J=Math.max(0,Math.min(1,1-(.5+it-g)-nt))}else{var ot=Math.min(v.QN.PC(k,o,u,$,P),v.QN.PC(k,o,c,$,P));F=Math.max(0,Math.min(1,ot-l*.5)),($<l||i-l<$||P<l||e-l<P)&&(F=0),J=0}var pt=1-J-F,G=E*i+B<<2,yt=o<<1,ct=u<<1;r[G+0]=Math.floor(.5+F*T[yt+0]+J*T[ct+0]+pt*_[0]),r[G+1]=Math.floor(.5+F*T[yt+1]+J*T[ct+1]+pt*_[1]),r[G+2]=Math.floor(.5+F*T[yt+2]+J*T[ct+2]+pt*_[2]),r[G+3]=t[G+3]}}},v.QN.wQ=function(t,i,e,r){var n=e-t[i],a=r-t[i+1];return n*n+a*a},v.QN.PC=function(t,i,e,r,n){var a=t[i],s=t[i+1],l=t[e],h=t[e+1],o=(a+l)*.5,f=(s+h)*.5,u=o+(h-s),p=f-(l-a),c=p-f,d=u-o;return Math.abs(c*r-d*n+u*f-p*o)/Math.sqrt(d*d+c*c)},v.ni={},v.ni.Xt=function(t){return v.ni.uN.length<t&&(v.ni.uN=v.R(t)),v.ni.uN},v.ni.uN=v.R(0),v.ni.YM=function(t){return v.ni.jm.length<t&&(v.ni.jm=new Float32Array(t)),v.ni.jm},v.ni.jm=new Float32Array(0),v.ni.et=function(t,i,e,r){var n=e.Z,a=e.h;v.ni.a1I(t,i,n,a,r)},v.ni.FY=function(t,i,e,r){var n=e.Z,a=e.h;v.ni.a46(t,i,n,a,r)},v.ni.aah=function(t,i,e){var r=i.Z,n=i.h;v.ni.a41(t,r,n,e)},v.ni.d$=function(t,i,e,r,n){var a=e.Z,s=e.h;v.ni.agE(t,i,a,s,r,n)},v.ni.p8=function(t,i,e,r){var n=e.Z,a=e.h;r=Math.round(r);var s=v.ni.Xt(n*a);v.Hk(t,i),v.ni.Mb(i,s,n,a,r)},v.ni.$f=function(t,i,e){var r=i.Z,n=i.h;e=Math.round(e);var a=v.ni.Xt(r*n*4);v.ni.Da(t,a,r,n,e)},v.ni.Ey=function(t,i,e,r){var n=e.Z,a=e.h;r=Math.round(r);var s=v.ni.YM(n*a);v.Hk(t,i),v.ni.Sg(i,s,n,a,r)},v.ni.Zb=function(t,i,e){var r=i.Z,n=i.h;e=Math.round(e);var a=v.ni.Xt(r*n*4);v.ni.Wi(t,a,r,n,e),v.Hk(a,t)},v.ni.hT=function(t,i){var e=Math.sqrt(12*t*t/i+1),r=Math.floor(e);r%2==0&&r--;for(var n=r+2,a=(12*t*t-i*r*r-4*i*r-3*i)/(-4*r-4),s=Math.round(a),l=[],h=0;h<i;h++)l.push(h<s?r:n);return l},v.ni.a1I=function(t,i,e,r,n){var a=v.ni.hT(n,3),s=v.ni.Xt(e*r);v.Hk(t,i),v.ni.Mb(i,s,e,r,a[0]-1>>1),v.ni.Mb(i,s,e,r,a[1]-1>>1),v.ni.Mb(i,s,e,r,a[2]-1>>1)},v.ni.a46=function(t,i,e,r,n){var a=v.ni.hT(n,2),s=v.ni.Xt(e*r);v.Hk(t,i),v.ni.Mb(i,s,e,r,a[0]-1>>1),v.ni.Mb(i,s,e,r,a[1]-1>>1)},v.ni.a41=function(t,i,e,r){var n=v.ni.hT(r,3),a=v.ni.Xt(i*e*4);v.ni.Da(t,a,i,e,n[0]-1>>1),v.ni.Da(t,a,i,e,n[1]-1>>1),v.ni.Da(t,a,i,e,n[2]-1>>1)},v.ni.agE=function(t,i,e,r,n,a){a==null&&(a=3);var s=v.ni.hT(n,a),l=v.ni.YM(e*r);v.Hk(t,i);for(var h=0;h<a;h++)v.ni.Sg(i,l,e,r,(s[0]-1)/2)},v.ni.Mb=function(t,i,e,r,n){v.ni.afC(t,i,e,r,n),v.ni.a4q(i,t,e,r,n)},v.ni.Da=function(t,i,e,r,n){v.ni.Wi(t,i,e,r,n),v.ni.aip(i,t,e,r,n)},v.ni.Sg=function(t,i,e,r,n){v.ni.a5H(t,i,e,r,n),v.ni.aee(i,t,e,r,n)},v.ni.z9=[],v.ni.FF=function(t){if(v.ni.z9[t])return v.ni.z9[t];for(var i=1/(t+t+1),e=(t+t+1)*256,r=v.R(e),n=0;n<e;n++)r[n]=Math.round(n*i);return v.ni.z9[t]=r,r},v.ni.afC=function(t,i,e,r,n){for(var a=1/(n+n+1),s=e-n-n-1,l=v.ni.FF(n),h=0;h<r;h++){for(var o=h*e,f=o,u=o+n,p=t[o],c=t[o+e-1],d=(n+1)*p,g=0;g<n;g++)d+=t[o+g];for(var g=0;g<=n;g++)d+=t[u+g]-p,i[o+g]=l[d];u+=n+1,o+=n+1;for(var g=0;g<s;g++)d+=t[u+g]-t[f+g],i[o+g]=l[d];u+=s,f+=s,o+=s;for(var g=e-n;g<e;g++)d+=c-t[f++],i[o++]=l[d]}},v.ni.Wi=function(t,i,e,r,n){for(var a=e<<2,s=n<<2,l=1/(n+n+1),h=e-n-n-1,o=h<<2,f=v.ni.FF(n),u=0;u<r;u++){for(var p=u*a,c=p,d=p+s,g=p+a,b=t[p],m=t[p+1],x=t[p+2],M=t[p+3],S=(n+1)*b,w=(n+1)*m,k=(n+1)*x,T=(n+1)*M,L=0;L<s;L+=4)S+=t[p+L],w+=t[p+L+1],k+=t[p+L+2],T+=t[p+L+3];for(var L=0;L<=s;L+=4)S+=t[d]-b,i[p]=f[S],w+=t[d+1]-m,i[p+1]=f[w],k+=t[d+2]-x,i[p+2]=f[k],T+=t[d+3]-M,i[p+3]=f[T],d+=4,p+=4;for(var L=0;L<o;L+=4)S+=t[d+L]-t[c+L],i[p+L]=f[S],w+=t[d+L+1]-t[c+L+1],i[p+L+1]=f[w],k+=t[d+L+2]-t[c+L+2],i[p+L+2]=f[k],T+=t[d+L+3]-t[c+L+3],i[p+L+3]=f[T];d+=o,c+=o,p+=o,b=t[g-4],m=t[g-3],x=t[g-2],M=t[g-1];for(var L=e-n;L<e;L++)S+=b-t[c],i[p]=f[S],w+=m-t[c+1],i[p+1]=f[w],k+=x-t[c+2],i[p+2]=f[k],T+=M-t[c+3],i[p+3]=f[T],c+=4,p+=4}},v.ni.a5H=function(t,i,e,r,n){for(var a=1/(n+n+1),s=e-n-n-1,l=0,h=0,o=0,f=0;f<r;f++){l=f*e,h=l,o=l+n;for(var u=t[l],p=t[l+e-1],c=(n+1)*u,d=0;d<n;d++)c+=t[l+d];for(var d=0;d<=n;d++)c+=t[o++]-u,i[l++]=c*a;for(var d=0;d<s;d++)c+=t[o+d]-t[h+d],i[l+d]=c*a;o+=s,h+=s,l+=s;for(var d=e-n;d<e;d++)c+=p-t[h++],i[l++]=c*a}},v.ni.a4q=function(t,i,e,r,n){for(var a=1/(n+n+1),s=r-n-n-1,l=v.ni.FF(n),h=0;h<e;h++){for(var o=h,f=o,u=o+n*e,p=t[o],c=t[o+e*(r-1)],d=(n+1)*p,g=0;g<n;g++)d+=t[o+g*e];for(var g=0;g<=n;g++)d+=t[u]-p,i[o]=l[d],u+=e,o+=e;for(var g=0;g<s;g++){var b=g*e;d+=t[u+b]-t[f+b],i[o+b]=l[d]}f+=s*e,u+=s*e,o+=s*e;for(var g=r-n;g<r;g++)d+=c-t[f],i[o]=l[d],f+=e,o+=e}},v.ni.aip=function(t,i,e,r,n){for(var a=e<<2,s=n<<2,l=1/(n+n+1),h=r-n-n-1,o=h<<2,f=v.ni.FF(n),u=0;u<e;u++){for(var p=u<<2,c=p,d=p+n*a,g=p+a*(r-1),b=t[p],m=t[p+1],x=t[p+2],M=t[p+3],S=(n+1)*b,w=(n+1)*m,k=(n+1)*x,T=(n+1)*M,L=0;L<n;L++){var O=p+L*a;S+=t[O],w+=t[O+1],k+=t[O+2],T+=t[O+3]}for(var L=0;L<=n;L++)S+=t[d]-b,i[p]=f[S],w+=t[d+1]-m,i[p+1]=f[w],k+=t[d+2]-x,i[p+2]=f[k],T+=t[d+3]-M,i[p+3]=f[T],d+=a,p+=a;for(var L=0;L<h;L++){var E=L*a;S+=t[d+E]-t[c+E],i[p+E]=f[S],w+=t[d+E+1]-t[c+E+1],i[p+E+1]=f[w],k+=t[d+E+2]-t[c+E+2],i[p+E+2]=f[k],T+=t[d+E+3]-t[c+E+3],i[p+E+3]=f[T]}c+=h*a,d+=h*a,p+=h*a,b=t[g],m=t[g+1],x=t[g+2],M=t[g+3];for(var L=r-n;L<r;L++)S+=b-t[c],i[p]=f[S],w+=m-t[c+1],i[p+1]=f[w],k+=x-t[c+2],i[p+2]=f[k],T+=M-t[c+3],i[p+3]=f[T],c+=a,p+=a}},v.ni.aee=function(t,i,e,r,n){for(var a=1/(n+n+1),s=r-n-n-1,l=0;l<e;l++){for(var h=l,o=h,f=h+n*e,u=t[h],p=t[h+e*(r-1)],c=(n+1)*u,d=0;d<n;d++)c+=t[h+d*e];for(var d=0;d<=n;d++)c+=t[f]-u,i[h]=c*a,f+=e,h+=e;for(var d=0;d<s;d++){var g=d*e;c+=t[f+g]-t[o+g],i[h+g]=c*a}o+=s*e,f+=s*e,h+=s*e;for(var d=r-n;d<r;d++)c+=p-t[o],i[h]=c*a,o+=e,h+=e}},v.ea={},v.ea.R=function(t,i,e,r){for(var n=[],a=0;a<4;a++)for(var s=0;s<4;s++)n.push(t+e*s/3,i+r*a/3);return n},v.ea.Qs=function(t,i){for(var e=t.slice(0),r=0;r<4;r++)for(var n=0;n<4;n++){var a=2*(r*4+n),s=2*(n*4+(3-r));if(i){var l=a;a=s,s=l}e[s]=t[a],e[s+1]=t[a+1]}return e},v.ea.a0q=new Float64Array(16),v.ea.drawImage=function(t,i,e,r,n,a,s){s==null&&(s=!1);var l=a.Z,h=a.h,o=2;n=new Uint32Array(n.buffer),i=new Uint32Array(i.buffer);for(var f=v.ea.G.LJ(t,0,1,0,1,e,r),u=f.IC,p=f.$x,c=1/o,d=v.ea.EZ,g=new Float64Array(2),b=new Uint32Array(30),m=0;m<h;m++)for(var x=0;x<l;x++){var M=x+a.x+.5,S=m+a.y+.5,w=v.ea.G.ah7(u,p,M,S,b),k=0,T=0,L=0,O=0;if(w!=0){var E=m*l+x,D=v.ea.cp(t,M,S,u,b,w,!0),B=d[0]*e,I=d[1]*r;if(s){if(D!=-1&&0<B&&B<e&&0<I&&I<r){var N=Math.floor(I)*e+Math.floor(B);n[E]=i[N]}continue}var V=D!=-1&&1<B&&B<e-1&&1<I&&I<r-1;if(u[D+8]<.95){v.P.nK(B,I,i,e,r,n,E,0);continue}for(var j=0;j<o;j++)for(var R=0;R<o;R++){var M=x+a.x+(j+.5)*c,S=m+a.y+(R+.5)*c,D=0;if(D=v.ea.cp(t,M,S,u,b,w,!0),D!=-1){var B=d[0],I=d[1],B=Math.floor(B*e);I=Math.floor(I*r);var G=i[I*e+B],Z=G>>>24;k+=(G&255)*Z,T+=(G>>>8&255)*Z,L+=(G>>>16&255)*Z,O+=Z}}if(O!=0){var _=1/O;k=~~(k*_+.5),T=~~(T*_+.5),L=~~(L*_+.5),O=~~(O*c*c+.5),n[E]=O<<24|L<<16|T<<8|k}}}},v.ea.EZ=new Float64Array(5*20),v.ea.a1p=new Uint32Array(5*5*20),v.ea.cp=function(t,i,e,r,n,a,s){for(var l=v.ea.EZ,h=v.ea.a1p,o=0,f=0,u=0;u<a;u++){var p=n[u],c=o;o=v.ea.Ac(t,i,e,r,p+4,s,l,o),o!=c&&(h[f]=p,f+=5)}if(o==0)return-1;if(o==5)return h[0];for(var d=0,u=0;u<o;u+=5)l[u+4]<l[d+4]&&(d=u);return l[0]=l[d],l[1]=l[d+1],l[2]=l[d+2],l[3]=l[d+3],h[d]},v.ea.e$=new Array(10),v.ea.Ac=function(t,i,e,r,n,a,s,l){for(var h=v.ea.e$,o=0,f=0,u=0,p=0,c=0,d=0,g=0,b=r[n],m=r[n+1],x=r[n+2],M=r[n+3],S=(x-i)*(x-i)+(M-e)*(M-e),w=0;w<5&&S>.05;w++)v.ea.zh(h,0,m),v.ea.jb(h,4,b),v.ea.Gm(t,h),o=h[8],f=h[9],v.ea.jb(h,0,m),v.ea.zh(h,4,b),v.ea.Gm(t,h),u=h[8],p=h[9],c=1/(o*p-f*u),d=(x-i)*c,g=(M-e)*c,b+=-p*d+u*g,m+=+f*d-o*g,v.ea.sU(t,b,m,h),x=h[8],M=h[9],S=(x-i)*(x-i)+(M-e)*(M-e);return a&&(b<0||b>1||m<0||m>1||S>.25)?l:(s[l]=b,s[l+1]=m,s[l+2]=x,s[l+3]=M,s[l+4]=o*p-f*u,l+5)},v.ea.apply=function(t,i,e){for(var r=e.x,n=e.y,a=1/e.Z,s=1/e.h,l=v.ea.e$,h=0;h<i.length;h+=2){var o=(i[h]-r)*a,f=(i[h+1]-n)*s;v.ea.sU(t,o,f,l),i[h]=l[8],i[h+1]=l[9]}},v.ea.sU=function(t,i,e,r){v.ea.zh(r,0,e),v.ea.zh(r,4,i),v.ea.Gm(t,r)},v.ea.jb=function(t,i,e){var r=1-e;t[i]=-3*(r*r),t[i+1]=3*(r*r)-6*(e*r),t[i+2]=6*(e*r)-3*(e*e),t[i+3]=3*(e*e)},v.ea.zh=function(t,i,e){var r=1-e;t[i]=r*(r*r),t[i+1]=3*e*(r*r),t[i+2]=3*(e*e)*r,t[i+3]=e*e*e},v.ea.Gm=function(t,i){var e=0,r=0,n=0;n=i[0]*i[4],e+=t[0]*n,r+=t[1]*n,n=i[0]*i[5],e+=t[2]*n,r+=t[3]*n,n=i[0]*i[6],e+=t[4]*n,r+=t[5]*n,n=i[0]*i[7],e+=t[6]*n,r+=t[7]*n,n=i[1]*i[4],e+=t[8]*n,r+=t[9]*n,n=i[1]*i[5],e+=t[10]*n,r+=t[11]*n,n=i[1]*i[6],e+=t[12]*n,r+=t[13]*n,n=i[1]*i[7],e+=t[14]*n,r+=t[15]*n,n=i[2]*i[4],e+=t[16]*n,r+=t[17]*n,n=i[2]*i[5],e+=t[18]*n,r+=t[19]*n,n=i[2]*i[6],e+=t[20]*n,r+=t[21]*n,n=i[2]*i[7],e+=t[22]*n,r+=t[23]*n,n=i[3]*i[4],e+=t[24]*n,r+=t[25]*n,n=i[3]*i[5],e+=t[26]*n,r+=t[27]*n,n=i[3]*i[6],e+=t[28]*n,r+=t[29]*n,n=i[3]*i[7],e+=t[30]*n,r+=t[31]*n,i[8]=e,i[9]=r},v.ea.G={},v.ea.G.fY=12,v.ea.G.G7=new Uint32Array(50),v.ea.G.ah7=function(t,i,e,r,n){var a=0,s=v.ea.G.G7,l=1;for(s[0]=0;l!=0;){var h=s[--l];t[h+0]<=e&&t[h+1]<=r&&e<t[h+2]&&r<t[h+3]&&(i[h+h+18]==0?(n[a]=h,a++):(s[l]=i[h+h+18],s[l+1]=i[h+h+19],l+=2))}return a},v.ea.G.a0i=function(t,i,e,r,n){var a=0,s=v.ea.G.kR,l=v.ea.G.G7,h=1,o=0,f=999999999999;for(l[0]=0;h!=0;){var u=l[--h],p=s(e,r,t[u+0],t[u+1]),c=s(e,r,t[u+0],t[u+3]),d=s(e,r,t[u+2],t[u+1]),g=s(e,r,t[u+2],t[u+3]),b=Math.min(p,Math.min(c,Math.min(d,g))),m=Math.max(p,Math.max(c,Math.max(d,g)));b>f||(i[u+u+18]==0?m<f&&(f=m,o=u):(l[h]=i[u+u+18],l[h+1]=i[u+u+19],h+=2))}return n[a]=o,a++,a},v.ea.G.kR=function(t,i,e,r){return(e-t)*(e-t)+(r-i)*(r-i)},v.ea.G.W0=null,v.ea.G.WG=null,v.ea.G.LJ=function(t,i,e,r,n,a,s){a==null&&(a=1,s=1),v.ea.G.WG=t,v.ea.G.W0==null&&(v.ea.G.W0={IC:new Float64Array(15e3*8),$x:null},v.ea.G.W0.$x=new Uint32Array(v.ea.G.W0.IC.buffer));var l=v.ea.G.W0;return v.ea.G.xZ(t,i,e,r,n,0,l.IC,l.$x,0,a,s),l},v.ea.G.xZ=function(t,i,e,r,n,a,s,l,h,o,f){var u=v.D.nP(t),p=h,c=v.ea.G.WG,d=(i+e)/2,g=(r+n)/2,b=v.ea.e$,m=v.ea.EZ,x=v.ea.a0q,M,S,w;v.ea.sU(c,d,g,b);var k=b[8],T=b[9];x[0]=d,x[1]=g,x[2]=k,x[3]=T,v.ea.Ac(c,k+1,T,x,0,!1,m,0);var L=(d-m[0])*o,O=(g-m[1])*f,E=Math.sqrt(L*L+O*O);v.ea.Ac(c,k,T+1,x,0,!1,m,0);var D=(d-m[0])*o,B=(g-m[1])*f,I=Math.sqrt(D*D+B*B);s[p]=u.x,s[p+1]=u.y,s[p+2]=u.x+u.Z,s[p+3]=u.y+u.h,s[p+4]=d,s[p+5]=g,s[p+6]=k,s[p+7]=T,s[p+8]=.5*(E+I),l[p+p+18]=0,l[p+p+19]=0,h+=10,v.ea.zh(b,0,.1),v.ea.jb(b,4,.1),v.ea.Gm(t,b);var N=b[8],V=b[9];v.ea.jb(b,0,.1),v.ea.zh(b,4,.7),v.ea.Gm(t,b);var j=b[8],R=b[9];v.ea.zh(b,0,.8),v.ea.jb(b,4,.8),v.ea.Gm(t,b);var G=b[8],Z=b[9];v.ea.jb(b,0,.9),v.ea.zh(b,4,.2),v.ea.Gm(t,b);var _=b[8],U=b[9],Y=(G-N)*(G-N)+(_-j)*(_-j)+(Z-V)*(Z-V)+(U-R)*(U-R);if(h>=s.length)throw console.log("Buffer not long enough"),"e";if(a==v.ea.G.fY||Y<2)return h;var $=v.ea.G.IN(t,!0),P=v.D.nP($[0]),tt=v.D.nP($[1]),X=v.ea.G.IN(t,!1),ht=v.D.nP(X[0]),F=v.D.nP(X[1]);P.Z+P.h+tt.Z+tt.h<ht.Z+ht.h+F.Z+F.h?(w=!0,M=$[0],S=$[1]):(w=!1,M=X[0],S=X[1]);var J=(i+e)/2,Q=(r+n)/2,rt=i,it=r,nt=e,ot=n,pt=i,yt=r,ct=e,vt=n;w?nt=pt=J:ot=yt=Q,l[p+p+18]=h,h=v.ea.G.xZ(M,rt,nt,it,ot,a+1,s,l,h,o,f),l[p+p+19]=h,h=v.ea.G.xZ(S,pt,ct,yt,vt,a+1,s,l,h,o,f);var wt=l[p+p+18],Mt=l[p+p+19];return s[p]=Math.min(s[wt],s[Mt]),s[p+1]=Math.min(s[wt+1],s[Mt+1]),s[p+2]=Math.max(s[wt+2],s[Mt+2]),s[p+3]=Math.max(s[wt+3],s[Mt+3]),h},v.ea.G.IN=function(t,i){for(var e=0,r=0,n=0,a=0,s=0,l=0,h=0,o=0,f=t.slice(0),u=t.slice(0),p=0;p<4;p++){e=i?t[p*8+2*0]:t[0*8+2*p],r=i?t[p*8+2*0+1]:t[0*8+2*p+1],n=i?t[p*8+2*1]:t[1*8+2*p],a=i?t[p*8+2*1+1]:t[1*8+2*p+1],s=i?t[p*8+2*2]:t[2*8+2*p],l=i?t[p*8+2*2+1]:t[2*8+2*p+1],h=i?t[p*8+2*3]:t[3*8+2*p],o=i?t[p*8+2*3+1]:t[3*8+2*p+1];var c=(e+n)/2,d=(r+a)/2,g=(n+s)/2,b=(a+l)/2,m=(s+h)/2,x=(l+o)/2,M=(c+g)/2,S=(d+b)/2,w=(g+m)/2,k=(b+x)/2,T=(M+w)/2,L=(S+k)/2;i?(f[p*8+2*0]=e,f[p*8+2*0+1]=r,f[p*8+2*1]=c,f[p*8+2*1+1]=d,f[p*8+2*2]=M,f[p*8+2*2+1]=S,f[p*8+2*3]=T,f[p*8+2*3+1]=L,u[p*8+2*0]=T,u[p*8+2*0+1]=L,u[p*8+2*1]=w,u[p*8+2*1+1]=k,u[p*8+2*2]=m,u[p*8+2*2+1]=x,u[p*8+2*3]=h,u[p*8+2*3+1]=o):(f[0*8+2*p]=e,f[0*8+2*p+1]=r,f[1*8+2*p]=c,f[1*8+2*p+1]=d,f[2*8+2*p]=M,f[2*8+2*p+1]=S,f[3*8+2*p]=T,f[3*8+2*p+1]=L,u[0*8+2*p]=T,u[0*8+2*p+1]=L,u[1*8+2*p]=w,u[1*8+2*p+1]=k,u[2*8+2*p]=m,u[2*8+2*p+1]=x,u[3*8+2*p]=h,u[3*8+2*p+1]=o)}return[f,u]},v.Pn={},v.Pn.akw=function(t,i,e){var r=v.Pn.akX(i,e),n=v.Pn.alj(r,t,i,e);return{g8:r,lr:n}},v.Pn.ajf=function(t,i,e){var r=Math.round(t.length/8),n=new Uint32Array(r),a=new Uint8Array(r),s=new Uint32Array(r);v.XB(n,4294967295,0),n[e]=0;var l=new Ms(r);l.push(e,n[e]);var h={g8:t,lr:i,xy:n,GI:a,fP:s,Ov:l,abd:e};return h},v.Pn.T9=function(t,i){for(var e=t.g8,r=t.lr,n=t.xy,a=t.GI,s=t.fP,l=t.Ov;!l.qr()&&(i==null||a[i]==0);){var h=l.pop();a[h]=1;for(var o=0;o<8;o++){var f=e[8*h+o];if(!(f==-1||a[f])){var u=n[h]+r[8*h+o];l.contains(f)&&u<n[f]&&l.remove(f,n[f]),l.contains(f)||(n[f]=u,s[f]=h,l.push(f,n[f]))}}}};function Ms(t){this.lo=new Uint32Array(t),this.list=[],this.rW=0,this.L9=4294967295}Ms.prototype.qr=function(){return this.rW==0},Ms.prototype.push=function(t,i){var e=this.list;e[i]==null&&(e[i]=[]),e[i].push(t),this.rW++,this.lo[t]=e[i].length-1+1,this.L9=Math.min(this.L9,i)},Ms.prototype.pop=function(){this.rW--;var t=this.list,i=this.L9,e=t[i].pop();return t[i].length==0&&(t[i]=null),this.XU(),this.lo[e]=0,e},Ms.prototype.contains=function(t){return this.lo[t]!=0},Ms.prototype.remove=function(t,i){this.rW--;var e=this.list,r=this.lo[t]-1;if(r==e[i].length-1)e[i].pop();else{var n=e[i].pop();e[i][r]=n,this.lo[n]=r+1}e[i].length==0&&(e[i]=null),this.lo[t]=0,this.XU()},Ms.prototype.XU=function(){if(this.rW==0){this.L9=4294967295;return}for(var t=this.L9,i=this.list;i[t]==null;)t++;this.L9=t},v.Pn.ain=function(t,i,e){for(var r=new Float32Array(i*e),n=0;n<e;n++)for(var a=0;a<i;a++){var s=n*i+a,l=-16*t[s];1<a&&a<i-2&&1<n&&n<e-2&&(l+=t[s-i-i],l+=t[s-i-1]+2*t[s-i]+t[s-i+1],l+=t[s-2]+2*t[s-1]+2*t[s+1]+t[s+2],l+=t[s+i-1]+2*t[s+i]+t[s+i+1],l+=t[s+i+i]),r[s]=l/16}return r},v.Pn.adG=function(t,i,e){for(var r=new Float32Array(i*e),n=0,a=0,s=0;s<e;s++)for(var l=0;l<i;l++){var h=0,o=0;0<l&&l<i-1&&(h=t[n+1]-t[n-1]),0<s&&s<e-1&&(o=t[n+i]-t[n-i]),r[n]=Math.sqrt(h*h+o*o),r[n]>a&&(a=r[n]),n++}for(var f=i*e,u=a==0?0:1/a,n=0;n<f;n++)r[n]=1-r[n]*u;return r},v.Pn.a9F=function(t,i,e){for(var r=new Float32Array(i*e*2),n=0,a=0;a<e;a++)for(var s=0;s<i;s++){var l=0,h=0;0<s&&s<i-1&&0<a&&a<e-1&&(l=2*t[n+1]-2*t[n-1],h=2*t[n+i]-2*t[n-i]);var o=Math.sqrt(l*l+h*h);o!=0?(r[2*n]=l/o,r[2*n+1]=h/o):(r[2*n]=l,r[2*n+1]=h),n++}return r},v.Pn.alj=function(t,i,e,r){for(var n=v.Pn.ain(i,e,r),a=v.Pn.adG(i,e,r),s=v.Pn.a9F(i,e,r),l=256,h=new Float32Array(l),o=0;o<l;o++)h[o]=Math.acos(-1+2*o/(l-1));for(var f=[-1,0,1,1,1,0,-1,-1],u=[-1,-1,-1,0,1,1,1,0],p=1/Math.sqrt(2),c=new Uint8Array(e*r*8),d=e*r,g=0;g<d;g++)for(var b=n[g],m=s[2*g+1],x=-s[2*g],M=0;M<8;M++){var S=8*g+M,w=t[S];if(w==-1)c[S]=-1;else{var k=(M&1)==0,T=b*n[w]>=0?0:1,L=a[w]*(k?1:p),O=1,E=s[2*w+1],D=-s[2*w];if(!(m==0&&x==0||E==0&&D==0)){var B=f[M],I=u[M];m*f[M]+x*u[M]<0&&(B=-B,I=-I),k&&(B*=p,I*=p);var N=m*B+x*I,V=E*B+D*I,j=2/(3*Math.PI)*(h[Math.floor((.5+.5*N)*(l-1))]+h[Math.floor((.5+.5*V)*(l-1))]);O=j}var R=Math.round(20*(.43*T+.43*O+.14*L));c[S]=Math.max(1,Math.min(255,R))}}return console.log(c),c},v.Pn.akX=function(t,i){var e=new Int32Array(t*i*8),r=e,n=0,a=0;r.fill(-1);for(var s=0;s<i;s++)for(var l=0;l<t;l++)s>0&&l>0&&(r[a+0]=n-t-1),s>0&&(r[a+1]=n-t),s>0&&l<t-1&&(r[a+2]=n-t+1),l<t-1&&(r[a+3]=n+1),s<i-1&&l<t-1&&(r[a+4]=n+t+1),s<i-1&&(r[a+5]=n+t),s<i-1&&l>0&&(r[a+6]=n+t-1),l>0&&(r[a+7]=n-1),n++,a+=8;return e},v.Ai={},v.Ai.afg=function(t,i){for(var e=t.slice(0),r=0;r<t.length;r++)e[r]*=i;return e},v.Ai.h5=function(t){for(var i=t.slice(0),e=0,r=0;r<t.length;r++)e+=t[r];for(var r=0;r<t.length;r++)i[r]/=e;return i},v.Ai.af9=function(t,i,e,r,n){for(var a=n.length,s=a>>>1,l=s,h=e-s,o=0;o<r;o++)for(var f=l;f<h;f++){for(var u=0,p=o*e+f,c=0;c<a;c++)u+=n[c]*t[p-s+c];i[p]=u}},v.Ai.a2l=function(t,i,e,r,n){for(var a=n.length,s=a>>>1,l=s,h=r-s,o=l;o<h;o++)for(var f=0;f<e;f++){for(var u=0,p=o*e+f,c=0;c<a;c++)u+=n[c]*t[p+(-s+c)*e];i[p]=u}},v.Ai.aet=function(t,i,e,r,n){for(var a=[-e-1,-e,-e+1,-1,0,1,e-1,e,e+1],s=r-1,l=e-1,h=1;h<s;h++)for(var o=1;o<l;o++){var f=h*e+o,u=v.Ai.q7(t,f,e,n);i[f]=~~(u+.5)}},v.Ai.q7=function(t,i,e,r){return t[i-e-1]*r[0]+t[i-e]*r[1]+t[i-e+1]*r[2]+t[i-1]*r[3]+t[i]*r[4]+t[i+1]*r[5]+t[i+e-1]*r[6]+t[i+e]*r[7]+t[i+e+1]*r[8]},v.Ai.or=function(t,i,e,r,n,a,s){s==null&&(s=!1);for(var l=Math.floor(Math.sqrt(n.length)),h=l-1>>>1,o=new Uint32Array(t.buffer),i=new Uint8ClampedArray(i.buffer),f=0;f<r;f++)for(var u=0;u<e;u++){for(var p=0,c=0,d=0,g=0,b=0;b<l;b++)for(var m=0;m<l;m++){var x=n[b*l+m];if(x!=0){var M=Math.min(e-1,Math.max(0,u-h+m)),S=Math.min(r-1,Math.max(0,f-h+b)),w=o[S*e+M];p+=(w&255)*x,c+=(w>>>8&255)*x,d+=(w>>>16&255)*x,g+=(w>>>24&255)*x}}s&&(p<0&&(p=-p),c<0&&(c=-c),d<0&&(d=-d),g<0&&(g=-g));var k=f*e+u<<2;i[k]=~~(.5+p),i[k+1]=~~(.5+c),i[k+2]=~~(.5+d),i[k+3]=255-a&i[k+3]|a&~~(.5+g)}},v.Ai.a9E=function(){function t(s,l,h,o,f,u,p){if(f==0){l.set(s);return}var c=v.R(h*o),d=v.R(h*o);if(v.Ms(s)){var g=[v.Ai.sH,v.Ai.Rl],b=g.indexOf(u),m=b!=-1?g[1-b]:u;i(s,l,h,o,f,u,p),v.E4(s,c,3),v.Ai.wE(c,d,h,o,f,m,p),v.Oy(d,l,3)}else for(var x=0;x<3;x++)v.E4(s,c,x),v.Ai.wE(c,d,h,o,f,u,p),v.Oy(d,l,x)}function i(s,l,h,o,f,u,p){for(var c=0,d=new ArrayBuffer(512*4*3),g=[new Int32Array(d,0),new Int32Array(d,2048),new Int32Array(d,2*2048)],b=1+2*Math.round(Math.sqrt(f)),m=b>>>1,x=new Array(b),M=new Array(b),S=0;S<b;S++){var d=new ArrayBuffer(512*4*3);x[S]=[new Int32Array(d,0),new Int32Array(d,2048),new Int32Array(d,2*2048)],M[S]=x[S][0]}for(var w=u[0],k=u[1],T=g[0],L=0;L<h;L++)if(L<f||L>h-f-b-1){T.fill(0);for(var O=Math.max(L-f,0),E=Math.min(h,L+f+1),D=E-O,B=0;B<f;B++)r(T,s,B*h+O,B*h+E,1);for(var B=0;B<o;B++){var I=B-f-1,N=B+f;N<o&&r(T,s,N*h+O,N*h+E,1),I>=0&&r(T,s,I*h+O,I*h+E,-1);var V=B*h+L<<2;if(c=T[300],c!=0)for(var S=0;S<3;S++)l[V+S]=w(g[S],s[V+S],c,p)}}else{for(var S=0;S<b;S++)M[S].fill(0);for(var O=L-f+m,E=L+f+1+m,B=0;B<f;B++)e(M,s,B*h+O,B*h+E,1,m);for(var B=0;B<o;B++){var I=B-f-1,N=B+f;I>=0&&e(M,s,I*h+O,I*h+E,-1,m),N<o&&e(M,s,N*h+O,N*h+E,1,m);var j=x[m];c=j[0][300];for(var S=0;S<m;S++){var R=m-1-S,G=m+1+S,Z=x[R],_=x[G],U=c+Z[0][300],Y=c+_[0][300],$=B*h+L+R<<2,P=B*h+L+G<<2;if(U!=0)for(var tt=0;tt<3;tt++)l[$+tt]=k(j[tt],Z[tt],s[$+tt],U,p);if(Y!=0)for(var tt=0;tt<3;tt++)l[P+tt]=k(j[tt],_[tt],s[P+tt],Y,p)}var V=B*h+L+m<<2;if(c!=0)for(var tt=0;tt<3;tt++)l[V+tt]=w(j[tt],s[V+tt],c,p)}L+=b-1}}function e(s,l,h,o,f,u){var p=n,c=h<<2,d=o<<2;p(s[u-1],l,h-1<<2,f),p(s[u-1],l,o-1<<2,-f),p(s[u+1],l,o<<2,f),p(s[u+1],l,h<<2,-f);for(var g=1;g<u;g++)for(var b=s[u-g-1],m=s[u+g+1],x=0;x<=g;x++){var M=x<<2;p(b,l,h-1-x<<2,f),p(b,l,o-1-x<<2,-f),p(m,l,o+x<<2,f),p(m,l,h+x<<2,-f)}r(s[u],l,h,o,f)}function r(s,l,h,o,f){for(var u=h<<2,p=o<<2;u<p;)n(s,l,u,f),u+=4}function n(s,l,h,o){var f=o*l[h+3];s[300]+=f,a(s,l[h],0,f),a(s,l[h+1],512,f),a(s,l[h+2],1024,f)}function a(s,l,h,o){s[h|l]+=o,s[h|256|l>>>4]+=o}return t}(),v.Ai.wE=function(){function t(u,p,c,d,g,b,m){if(g==0){p.set(u);return}g<=80?i(u,p,c,d,g,b,m):a(u,p,c,d,g,b,m)}function i(u,p,c,d,g,b,m){for(var x=0,M=new Int32Array(512),S=1+2*Math.round(Math.sqrt(g)),w=S>>>1,k=new Array(S),T=0;T<S;T++)k[T]=new Int32Array(512);for(var L=b[0],O=b[1],E=0;E<c;E++)if(E<g||E>c-g-S-1){M.fill(0),x=0;for(var D=Math.max(E-g,0),B=Math.min(c,E+g+1),I=B-D,N=0;N<g;N++)x+=I,r(M,u,N*c+D,N*c+B,1);for(var N=0;N<d;N++){var V=N-g-1,j=N+g;V>=0&&(x-=I,r(M,u,V*c+D,V*c+B,-1)),j<d&&(x+=I,r(M,u,j*c+D,j*c+B,1));var R=L(M,u[N*c+E],x,m);p[N*c+E]=R}}else{for(var T=0;T<S;T++)k[T].fill(0);x=0;for(var D=E-g+w,B=E+g+1+w,I=B-D,N=0;N<g;N++)x+=I,e(k,u,N*c+D,N*c+B,1,w);for(var N=0;N<d;N++){var V=N-g-1,j=N+g;V>=0&&(x-=I,e(k,u,V*c+D,V*c+B,-1,w)),j<d&&(x+=I,e(k,u,j*c+D,j*c+B,1,w));for(var T=0;T<w;T++){var G=w-1-T,Z=w+1+T;p[N*c+E+G]=O(k[w],k[G],u[N*c+E+G],x,m),p[N*c+E+Z]=O(k[w],k[Z],u[N*c+E+Z],x,m)}p[N*c+E+w]=L(k[w],u[N*c+E+w],x,m)}E+=S-1}}function e(u,p,c,d,g,b){var m=n;m(u[b-1],p[c-1],0,g),m(u[b-1],p[d-1],0,-g),m(u[b+1],p[d],0,g),m(u[b+1],p[c],0,-g);for(var x=1;x<b;x++)for(var M=u[b-x-1],S=u[b+x+1],w=0;w<=x;w++)m(M,p[c-1-w],0,g),m(M,p[d-1-w],0,-g),m(S,p[d+w],0,g),m(S,p[c+w],0,-g);r(u[b],p,c,d,g)}function r(u,p,c,d,g){for(;c<d;)n(u,p[c++],0,g)}function n(u,p,c,d){u[c|p]+=d,u[c|256|p>>>4]+=d}function a(u,p,c,d,g,b,m){for(var x=0,M=new Int32Array(512),S=new Int32Array(1*c),w=new Int32Array(512*c),k=Math.min(g,c),T=Math.min(g,d),L=b[0],O=0;O<T;O++)s(w,S,u,c,O,1);for(var O=0;O<d;O++){O+g<d&&s(w,S,u,c,O+g,1),O-g-1>=0&&s(w,S,u,c,O-g-1,-1),M.fill(0),x=0;for(var E=0;E<k;E++)x+=S[E],l(M,w,E);for(var E=0;E<c;E++){var D=E-g-1,B=E+g;D>=0&&S[D]!=0&&(x-=S[D],h(M,w,D)),B<c&&S[B]!=0&&(x+=S[B],l(M,w,B));var I=x==0?0:L(M,u[O*c+E],x,m);p[O*c+E]=I}}}function s(u,p,c,d,g,b){for(var m=g*d,x=0;x<d;x++)n(u,c[m+x],x<<9,b),p[x]+=b}function l(u,p,c){for(var d=0;d<16;d++){var g=p[c<<9|256|d];if(g!=0){u[256|d]+=g;var b=d<<4,m=c<<9|b;o(u,p,b,m),o(u,p,b+4,m+4),o(u,p,b+8,m+8),o(u,p,b+12,m+12)}}}function h(u,p,c){for(var d=0;d<16;d++){var g=p[c<<9|256|d];if(g!=0){u[256|d]-=g;var b=d<<4,m=c<<9|b;f(u,p,b,m),f(u,p,b+4,m+4),f(u,p,b+8,m+8),f(u,p,b+12,m+12)}}}function o(u,p,c,d){u[c]+=p[d],u[c+1]+=p[d+1],u[c+2]+=p[d+2],u[c+3]+=p[d+3]}function f(u,p,c,d){u[c]-=p[d],u[c+1]-=p[d+1],u[c+2]-=p[d+2],u[c+3]-=p[d+3]}return t}(),v.Ai.Rl=[function(t,i,e,r){for(var n=15;t[256|n]==0&&n>0;)n--;for(n=(n<<4)+15;t[n]==0&&n>0;)n--;return n},function(t,i,e,r,n){for(var a=15;t[256|a]+i[256|a]==0&&a>0;)a--;for(a=(a<<4)+15;t[a]+i[a]==0&&a>0;)a--;return a}],v.Ai.sH=[function(t,i,e,r){for(var n=0;t[256|n]==0&&n<15;)n++;for(n=n<<4;t[n]==0&&n<255;)n++;return n},function(t,i,e,r,n){for(var a=0;t[256|a]+i[256|a]==0&&a<15;)a++;for(a=a<<4;t[a]+i[a]==0&&a<255;)a++;return a}],v.Ai.Rx=.5,v.Ai.lI=[function(t,i,e,r){for(var n=~~(.5+v.Ai.Rx*e),a=0,s=256;a+t[s]<=n;)a+=t[s++];for(s=s-256<<4;a<=n;)a+=t[s++];return s-1},function(t,i,e,r,n){for(var a=~~(.5+v.Ai.Rx*r),s=0,l=256;s+t[l]+i[l]<=a;)s+=t[l]+i[l],l++;for(l=l-256<<4;s<=a;)s+=t[l]+i[l],l++;return l-1}],v.Ai.Nz=[function(t,i,e,r){for(var n=r[0],a=0,s=0,l=Math.max(0,i-n),h=Math.min(256,i+n+1);l<h;){var o=t[l];a+=l*o,s+=o,l++}return s==0?0:a/s},function(t,i,e,r,n){for(var a=n[0],s=0,l=0,h=Math.max(0,e-a),o=Math.min(256,e+a+1);h<o;){var f=t[h]+i[h];s+=h*f,l+=f,h++}return l==0?0:s/l}],v.P={},v.P.br=function(t){var i=C.X.AC(t.Trnf),e=t.Sz.v,r=v.P.bg(i,new et(0,0,e.Wdth.v,e.Hght.v));return v.P.z5(r)},v.P.bg=function(t,i){var e=t[0],r=t[1],n=t[2],a=t[3],s=t[6],l=t[7],h=t[4],o=t[5],f=0,u=0,p=1,c=0,d=0,g=1,b=1,m=1;return i&&(f=i.x,u=i.y,p=i.x+i.Z,c=i.y,d=i.x,g=i.y+i.h,b=i.x+i.Z,m=i.y+i.h),v.P.dP(t,[f,u,p,c,b,m,d,g])},v.P.dP=function(t,i){var e=t[0],r=t[1],n=t[2],a=t[3],s=t[6],l=t[7],h=t[4],o=t[5],f=i[0],u=i[1],p=i[2],c=i[3],d=i[6],g=i[7],b=i[4],m=i[5],x=[[f,u,1,0,0,0,-f*e,-u*e,e],[0,0,0,f,u,1,-f*r,-u*r,r],[p,c,1,0,0,0,-p*n,-c*n,n],[0,0,0,p,c,1,-p*a,-c*a,a],[d,g,1,0,0,0,-d*s,-g*s,s],[0,0,0,d,g,1,-d*l,-g*l,l],[b,m,1,0,0,0,-b*h,-m*h,h],[0,0,0,b,m,1,-b*o,-m*o,o]],M=[0,0,0,0,0,0,0,0],S=v.Aw.mm(x,M);return S!=0&&(M=[0,0,0,0,0,0,0,0]),M},v.P.LS=function(t){return Math.abs(t[6])<1e-10&&Math.abs(t[7])<1e-10},v.P.z5=function(t){return new Et(t[0],t[3],t[1],t[4],t[2],t[5])},v.P.Jb=function(t){return[t.m,t.p$,t.PV,t.i,t.xA,t.ye,0,0]},v.P.apply=function(t,i){for(var e=new Float64Array(2),r=0;r<i.length;r+=2){var n=i[r],a=i[r+1];v.P.MC(n,a,t,e),i[r]=e[0],i[r+1]=e[1]}},v.P.MC=function(t,i,e,r){var n=1/(e[6]*t+e[7]*i+1);r[0]=(e[0]*t+e[1]*i+e[2])*n,r[1]=(e[3]*t+e[4]*i+e[5])*n},v.P.GL=function(t,i){var e=new Float64Array(2);return v.P.MC(i.x,i.y,t,e),new st(e[0],e[1])},v.P.yT=function(t,i,e,r){t=new Uint32Array(t.buffer),i=new Uint32Array(i.buffer);for(var n=0;n<r;n++)for(var a=0;a<e;a++)i[a*r+n]=t[n*e+a]},v.P.a3X=function(t,i,e,r){t=new Uint32Array(t.buffer),i=new Uint32Array(i.buffer);for(var n=0;n<r;n++)for(var a=0;a<e;a++)i[n*e+a]=t[n*e+e-1-a]},v.P.VP=function(t){return Math.abs(t[6])<1e-9&&Math.abs(t[7])<1e-9},v.P.Cx=function(t){return Math.abs(t[0])<1e-9&&Math.abs(t[4])<1e-9||Math.abs(t[1])<1e-9&&Math.abs(t[3])<1e-9},v.P.drawImage=function(t,i,e,r,n,a,s,l,h){s==null&&(s=!1),l==null&&(l=!1);for(var o=v.P.nJ(t),f=!0,u=0,p=1/Math.sqrt(Math.abs(t[0]/e*t[4]/r-t[1]/e*t[3]/r)),c=0;c<8;c++){var d=Math.round(t[c]);c!=2&&c!=5&&(u+=Math.abs(d)),Math.abs(d-t[c])>1e-9&&(f=!1)}var g=v.P.VP(t),b=v.P.Cx(t)&&g,m=b?1:0;if(s||f&&u==e+r&&g){v.P.amr(o,i,e,r,n,a,l,g,h);return}var x=a.Z,M=a.h,S=new Float64Array(2);n=new Uint32Array(n.buffer),i=new Uint32Array(i.buffer);for(var w=0;w<M;w++)for(var k=0;k<x;k++){var T=w*x+k,L,O,E,D,B=0,I=0,N=0,V=0;n[T]=0;var j=k+a.x+.5,R=w+a.y+.5;L=j,O=R,E=o,D=1/(E[6]*L+E[7]*O+1);var G=(E[0]*L+E[1]*O+E[2])*D,Z=(E[3]*L+E[4]*O+E[5])*D,_=G*e,U=Z*r,Y=_<-1||_>e+1||U<-1||U>r+1;if(l)_=Math.max(.001,Math.min(e-1,_)),U=Math.max(.001,Math.min(r-1,U));else if(Y)continue;var $=p;if(!g){var P=0,tt=0;E=t,L=G+1/e,O=Z,D=1/(E[6]*L+E[7]*O+1),P=(E[0]*L+E[1]*O+E[2])*D-j,tt=(E[3]*L+E[4]*O+E[5])*D-R;var X=P*P+tt*tt;L=G,O=Z+1/r,D=1/(E[6]*L+E[7]*O+1),P=(E[0]*L+E[1]*O+E[2])*D-j,tt=(E[3]*L+E[4]*O+E[5])*D-R;var ht=P*P+tt*tt;$=1/Math.sqrt(Math.max(X,ht))}if($<1.1){v.P.nK(_,U,i,e,r,n,T,m);continue}var F=Math.round($*2.3);!l&&(_<.6||_>e-.6||U<.6||U>r-.6)&&(F=Math.max(F,5)),l&&Y&&(F=1);var J=1/F,Q=a.x+k,rt=a.y+w;E=o;for(var c=0;c<F;c++)for(var it=0;it<F;it++){L=Q+(c+.5)*J,O=rt+(it+.5)*J,D=1/(E[6]*L+E[7]*O+1);var _=(E[0]*L+E[1]*O+E[2])*D,U=(E[3]*L+E[4]*O+E[5])*D;if(l)_=Math.max(.001,Math.min(.999,_)),U=Math.max(.001,Math.min(.999,U));else if(_<0||_>=1||U<0||U>=1)continue;_=Math.floor(_*e),U=Math.floor(U*r);var nt=U*e+_,ot=i[nt],pt=ot>>>24;B+=(ot&255)*pt,I+=(ot>>>8&255)*pt,N+=(ot>>>16&255)*pt,V+=pt}if(V!=0){var yt=1/V;B=~~(B*yt+.5),I=~~(I*yt+.5),N=~~(N*yt+.5),V=~~(V*J*J+.5),n[T]=V<<24|N<<16|I<<8|B}}},v.P.amr=function(t,i,e,r,n,a,s,l,h){if(l&&!s&&a.M()>4e6&&h){v.P.aii(t,i,e,r,n,a,s,l,h);return}var o=a.x+a.Z,f=a.y+a.h,u=0,p=new Uint32Array(n.buffer),c=new Uint32Array(i.buffer),d=t[0]*e,g=t[1]*e,b=t[2]*e,m=t[3]*r,x=t[4]*r,M=t[5]*r,S=t[6],w=t[7];if(l&&!s)for(var k=a.y+.5;k<f;k++)for(var T=a.x+.5;T<o;T++){var L=d*T+g*k+b,O=m*T+x*k+M;if(0<L&&L<e&&0<O&&O<r){var E=~~O*e+~~L;p[u]=c[E]}else p[u]=0;u++}else for(var k=a.y+.5;k<f;k++)for(var T=a.x+.5;T<o;T++){var D=1/(S*T+w*k+1),L=(d*T+g*k+b)*D,O=(m*T+x*k+M)*D;if(s&&(L=Math.max(.001,Math.min(e-1,L)),O=Math.max(.001,Math.min(r-1,O))),0<L&&L<e&&0<O&&O<r){var E=Math.floor(O)*e+Math.floor(L);p[u]=c[E]}else p[u]=0;u++}},v.P.aii=function(t,i,e,r,n,a,s,l,h){var o=new Uint32Array(n.buffer),f=new Uint32Array(i.buffer),u=0;if(h&&(a.Z&3)!=0)throw"e";for(var p=t[0]*e,c=t[1]*e,d=t[2]*e,g=t[3]*r,b=t[4]*r,m=t[5]*r,x=t[6],M=t[7],S=a.Z,w=a.h,k=a.x+.5,T=a.y+.5,L=(S>>>2<<2)-1e-9,O=-.1+(w>>>1<<1)-1e-9,E=~~e,D=p==0?0:1/p,B=g==0?0:1/g,I=0;I<w;I++){var N=k*p+c*(I+T)+d,V=k*g+b*(I+T)+m,j=0,R=S;p==0||(D>0?(j=Math.max(j,-N*D),R=Math.min(R,(e-N)*D)):(R=Math.min(R,-N*D),j=Math.max(j,(e-N)*D))),g==0||(B>0?(j=Math.max(j,-V*B),R=Math.min(R,(r-V)*B)):(R=Math.min(R,-V*B),j=Math.max(j,(r-V)*B))),R<0&&(R=0),j>R&&(j=R),j=Math.ceil(j),R=~~R,u=~~(I*S);for(var G=0;G<j;G++)o[u++]=0;for(var G=j;G<R;G+=4){var Z=p*G+N,_=g*G+V,U=~~_*E+~~Z;o[u++]=o[u++]=o[u++]=o[u++]=f[U]}for(var G=R;G<S;G++)o[u++]=0}},v.P.nJ=function(t){var i=t[4]-t[5]*t[7],e=t[2]*t[7]-t[1],r=t[1]*t[5]-t[2]*t[4],n=t[5]*t[6]-t[3],a=t[0]-t[2]*t[6],s=t[3]*t[2]-t[0]*t[5],l=t[3]*t[7]-t[4]*t[6],h=t[1]*t[6]-t[0]*t[7],o=1/(t[0]*t[4]-t[1]*t[3]);return[i*o,e*o,r*o,n*o,a*o,s*o,l*o,h*o]},v.P.$T=function(t,i){for(var e=t[0],r=t[1],n=t[2],a=t[3],s=t[4],l=t[5],h=t[6],o=t[7],f=i[0],u=i[1],p=i[2],c=i[3],d=i[4],g=i[5],b=i[6],m=i[7],x=[e*f+r*c+n*b,e*u+r*d+n*m,e*p+r*g+n,a*f+s*c+l*b,a*u+s*d+l*m,a*p+s*g+l,h*f+o*c+b,h*u+o*d+m],M=1/(h*p+o*g+1),S=0;S<8;S++)x[S]*=M;return x},v.P.nK=function(t,i,e,r,n,a,s,l){var h=t,o=i,f=0,u=0,p=0,c=0;t-=.499999,i-=.499999;var d=Math.floor(t),g=Math.floor(i);if(l==0){var b=g*r+d,m=d>=0&&d<r,x=d+1>=0&&d+1<r,M=g>=0&&g<n,S=g+1>=0&&g+1<n;m&&M&&(f=e[b]),x&&M&&(u=e[b+1]),m&&S&&(p=e[b+r]),x&&S&&(c=e[b+r+1])}else if(l==1){var w=d<0?0:d>r-1?r-1:d,k=d<-1?0:d>r-2?r-1:d+1,T=g<0?0:g>n-1?n-1:g,L=g<-1?0:g>n-2?n-1:g+1;f=e[T*r+w],u=e[T*r+k],p=e[L*r+w],c=e[L*r+k]}else{var w=(d+50*r)%r,k=(d+50*r)%r,T=(g+50*n)%n,L=(g+50*n)%n;f=e[T*r+w],u=e[T*r+k],p=e[L*r+w],c=e[L*r+k]}var O=t-d,E=i-g,D=(1-E)*(1-O)*(f>>>24),B=(1-E)*O*(u>>>24),I=E*(1-O)*(p>>>24),N=E*O*(c>>>24),V=D+B+I+N,j=D*(f&255)+B*(u&255)+I*(p&255)+N*(c&255),R=D*(f>>>8&255)+B*(u>>>8&255)+I*(p>>>8&255)+N*(c>>>8&255),G=D*(f>>>16&255)+B*(u>>>16&255)+I*(p>>>16&255)+N*(c>>>16&255);if(V==0)a[s]=0;else{var Z=1/V;j=~~(j*Z+.5),R=~~(R*Z+.5),G=~~(G*Z+.5),V=~~(V+.5),a[s]=V<<24|G<<16|R<<8|j}},v.P.eU=function(t,i,e,r,n,a){var s=t-.499999,l=i-.499999,h=~~s,o=~~l,f=s-h,u=l-o,p=(1-u)*(1-f),c=(1-u)*f,d=u*(1-f),g=u*f,b=o*r+h<<2,m=(o+1)*r+h<<2,x=p*e[b]+c*e[b+4]+d*e[m]+g*e[m+4],M=p*e[b+1]+c*e[b+5]+d*e[m+1]+g*e[m+5],S=p*e[b+2]+c*e[b+6]+d*e[m+2]+g*e[m+6],w=p*e[b+3]+c*e[b+7]+d*e[m+3]+g*e[m+7];a[0]=x,a[1]=M,a[2]=S,a[3]=w},v.P.x$=function(t,i,e,r,n,a,s,l,h,o,f,u){for(var p=new Uint32Array(t.buffer),c=new Uint32Array(r.buffer),d=(1+2*o)/n,g=[],b=[],m=0;m<n;m++){var x=-.25+o-m*d;g.push(Math.cos(2*Math.PI*x)*u/f),g.push(Math.sin(2*Math.PI*x)/f)}s*=i,l*=e;for(var M=0;M<a;M++)for(var S=Math.pow(M/a,h)*a,m=0;m<n;m++){var w=s+g[m<<1]*S,k=l+g[(m<<1)+1]*S,T=~~(.5+(w<0?0:w>i-1?i-1:w)),L=~~(.5+(k<0?0:k>e-1?e-1:k));c[M*n+m]=p[L*i+T]}},v.P.A9=function(t,i,e,r,n,a,s,l,h,o,f,u){for(var p=new Uint32Array(t.buffer),c=new Uint32Array(r.buffer),d=1/u,g=[],b=e*4,m=1/b,x=0;x<b;x++)g.push(Math.pow(x*m,1/h)*e*f);s*=n,l*=a;for(var x=0;x<a;x++)for(var M=0;M<n;M++){var S=d*(M-s),w=x-l,k=1.75-Math.atan2(w,S)*(1/(2*Math.PI));k=k-~~k,k=(k+o)*(1/(1+2*o));var T=Math.sqrt(S*S+w*w);T=g[~~(T*4)],v.P.nK(k*i+.5,T+.5,p,i,e,c,x*n+M,1)}},v.j={bZ:function(t,i){var e=~~(.499+t*i);return e<0?0:e>i?i:e},akR:function(t,i,e,r,n,a,s,l){for(var h=e[0],o=e[1],f=e[2],u=e[3],p=r.Z,c=r.h,d=new Float64Array(p*4+8),g=new Float64Array(p*4+8),b=0,m=0;b<c;b++){var x=d;d=g,g=x,g.fill(0);for(var M=0;M<p;M++,m++){var S=M+n,w=b+a,k=h*S+o*w,T=f*S+u*w,L=0,O=0;l==0?L=k+.5:l==1?L=2*Math.sqrt(k*k+T*T):l==2?L=(Math.PI+Math.atan2(-T,-k))/(2*Math.PI):l==3?L=Math.abs(k*2):l==4&&(L=2*(Math.abs(k)+Math.abs(T)));for(var E=v.j.bZ(L,s)*4,D=M*4,B=0;B<4;B++){var I=Math.max(0,Math.min(254.999,i[E+B]+d[D+4+B])),N=Math.floor(I);Math.random()<I-N&&N++;var V=I-N;d[D+8+B]=V*(7/16),g[D+0+B]=V*(3/16),g[D+4+B]=V*(5/16),g[D+8+B]=V*(1/16),O|=N<<B*8}t[m]=O}}},G:[function(t,i,e,r,n,a,s){for(var l=e[0],h=e[1],o=e[2],f=e[3],u=r.Z,p=r.h,c=0,d=0;c<p;c++)for(var g=0;g<u;g++,d++){var b=g+n,m=c+a,x=l*b+h*m,M=o*b+f*m,S=x+.5;t[d]=i[v.j.bZ(S,s)]}},function(t,i,e,r,n,a,s){for(var l=e[0],h=e[1],o=e[2],f=e[3],u=r.Z,p=r.h,c=0,d=0;c<p;c++)for(var g=0;g<u;g++,d++){var b=g+n,m=c+a,x=l*b+h*m,M=o*b+f*m,S=2*Math.sqrt(x*x+M*M);t[d]=i[v.j.bZ(S,s)]}},function(t,i,e,r,n,a,s){for(var l=e[0],h=e[1],o=e[2],f=e[3],u=r.Z,p=r.h,c=0,d=0;c<p;c++)for(var g=0;g<u;g++,d++){var b=g+n,m=c+a,x=l*b+h*m,M=o*b+f*m,S=(Math.PI+Math.atan2(-M,-x))/(2*Math.PI);t[d]=i[v.j.bZ(S,s)]}},function(t,i,e,r,n,a,s){for(var l=e[0],h=e[1],o=e[2],f=e[3],u=r.Z,p=r.h,c=0,d=0;c<p;c++)for(var g=0;g<u;g++,d++){var b=g+n,m=c+a,x=l*b+h*m,M=o*b+f*m,S=Math.abs(x*2);t[d]=i[v.j.bZ(S,s)]}},function(t,i,e,r,n,a,s){for(var l=e[0],h=e[1],o=e[2],f=e[3],u=r.Z,p=r.h,c=0,d=0;c<p;c++)for(var g=0;g<u;g++,d++){var b=g+n,m=c+a,x=l*b+h*m,M=o*b+f*m,S=2*(Math.abs(x)+Math.abs(M));t[d]=i[v.j.bZ(S,s)]}}]},v.j.a94=function(t,i){return t+.5},v.j.ahB=function(t,i){return 2*Math.sqrt(t*t+i*i)},v.j.a1g=function(t,i){return(Math.PI+Math.atan2(-i,-t))/(2*Math.PI)},v.j.ahr=function(t,i){return Math.abs(t*2)},v.j.agz=function(t,i){return 2*(Math.abs(t)+Math.abs(i))},v.j.ao=function(t,i,e,r,n,a,s,l,h,o,f,u){if(t.Clrs!=null){var p=new Uint32Array(i.buffer),c=1023,d=v.j.j0(t.Clrs.v,h,o);if(u){var g=v.j.a9e(t,d,c+1,s);v.j.akR(p,g,r,e,e.x-n,e.y-a,c,l);return}var b=v.j.qP(t,d,c+1,s);if(l<5)v.j.G[l](p,b,r,e,e.x-n,e.y-a,c);else for(var m=new Uint8Array(b.buffer),x=e.Z,M=e.h,S=f.AP-f.fc,w=1/S,k=f.Yi.Z-e.Z>>1,T=f.Yi.h-e.h>>1,L=f.Yi.Z,O=-.6*w,E=(-.6+.4)*w,D=(-.6+2*.4)*w,B=(-.6+3*.4)*w,I=0,N=0;I<M;I++)for(var V=0;V<x;V++,N+=4){var j=0,R=0,G=0,Z=0,_=(I+T)*L+V+k,U=(f.CM[_]-f.fc)*w,Y=0;if(U<=0||U>=1){Y=(U<=0?0:c)<<2,i[N]=m[Y],i[N+1]=m[Y+1],i[N+2]=m[Y+2],i[N+3]=m[Y+3];continue}Y=Math.max(0,Math.min(c-1,Math.round((U+O)*c)))<<2,R+=m[Y],G+=m[Y+1],Z+=m[Y+2],j+=m[Y+3],Y=Math.max(0,Math.min(c-1,Math.round((U+E)*c)))<<2,R+=m[Y],G+=m[Y+1],Z+=m[Y+2],j+=m[Y+3],Y=Math.max(0,Math.min(c-1,Math.round((U+D)*c)))<<2,R+=m[Y],G+=m[Y+1],Z+=m[Y+2],j+=m[Y+3],Y=Math.max(0,Math.min(c-1,Math.round((U+B)*c)))<<2,R+=m[Y],G+=m[Y+1],Z+=m[Y+2],j+=m[Y+3],i[N]=R>>>2,i[N+1]=G>>>2,i[N+2]=Z>>>2,i[N+3]=j>>>2}}},v.j.j0=function(t,i,e){for(var r=[],n=0;n<t.length;n++){var a;t[n].v.Type.v.Clry=="FrgC"?a={U:i>>16&255,S:i>>8&255,i:i&255}:t[n].v.Type.v.Clry=="BckC"?a={U:e>>16&255,S:e>>8&255,i:e&255}:a=v.j.T6(t[n].v.Clr.v),r.push(a)}return r},v.j.T6=function(t){var i,e=t.classID;if(e=="RGBC")i={U:t.Rd.v,S:t.Grn.v,i:t.Bl.v};else if(e=="HSBC")i=v.ul(t.H.v.val/360,t.Strt.v/100,t.Brgh.v/100),i.U*=255,i.S*=255,i.i*=255;else if(e=="CMYC"){var r=100-t.Cyn.v,n=100-t.Mgnt.v,a=100-t.Ylw.v,s=100-t.Blck.v,l=255*r*s*1e-4,h=255*(.2*r+.8*n)*s*1e-4,o=255*(.2*n+.8*a)*s*1e-4;i={U:l,S:h,i:o}}else e=="Grsc"?i={U:255-t.Gry.v,S:255-t.Gry.v,i:255-t.Gry.v}:e=="LbCl"?i=v.qL(t.Lmnc.v,t.A.v,t.B.v):console.log(t);return isNaN(i.U)&&(i.U=i.S=i.i=0),i},v.j.$H=function(t){return{classID:"RGBC",Rd:{t:"doub",v:t.U},Grn:{t:"doub",v:t.S},Bl:{t:"doub",v:t.i}}},v.j.a9e=function(t,i,e,r){for(var n=[],a=1/(e-0),s=0;s<e;s++){var l=s*4,h=v.j.fx(t,i,(r?e-1-s:s)*a);n[l]=h[0],n[l+1]=h[1],n[l+2]=h[2],n[l+3]=h[3]}return n},v.j.qP=function(t,i,e,r){for(var n=new Uint32Array(e),a=1/(e-0),s=0;s<e;s++)n[s]=v.j.it(t,i,(r?e-1-s:s)*a);return n},v.j.fx=function(t,i,e){for(var r=4096,n=1/4096,a=t.Intr.v*n,s=t.Clrs.v,l=t.Trns.v,h=s.length-1,o=l.length-1,f=-1,u=0,p=0,c=0,d=0;f<o&&l[f+1].v.Lctn.v<=e*r;)f++;if(f==-1)u=l[0].v.Opct.v.val*(255/100);else if(f==o)u=l[f].v.Opct.v.val*(255/100);else{var g=v.j.iY(l,n,f,e,a);u=(g*l[f].v.Opct.v.val+(1-g)*l[f+1].v.Opct.v.val)*(255/100)}for(f=-1;f<h&&s[f+1].v.Lctn.v<=e*r;)f++;if(f==-1){var b=i[0];p=b.U,c=b.S,d=b.i}else if(f==h){var b=i[f];p=b.U,c=b.S,d=b.i}else{var m=i[f],x=i[f+1],M=v.j.iY(s,n,f,e,a);p=M*m.U+(1-M)*x.U,c=M*m.S+(1-M)*x.S,d=M*m.i+(1-M)*x.i}return[p,c,d,u]},v.j.it=function(t,i,e){var r=v.j.fx(t,i,e),n=~~(.5+r[0]),a=~~(.5+r[1]),s=~~(.5+r[2]),l=~~(.5+r[3]);return l<<24|s<<16|a<<8|n},v.j.iY=function(t,i,e,r,n){t.length==2&&(n*=.5);var a=t[e].v.Lctn.v*i,s=t[e+1].v.Lctn.v*i,l=a+t[e+1].v.Mdpn.v*.01*(s-a),h;return r<l?h=.5*(r-a)/(l-a):h=.5+.5*(r-l)/(s-l),h=.5+.5*(n*Math.cos(Math.PI*h)+(1-n)*(1-2*h)),h},v.j.yB=function(t,i){var e=Math.PI*t.Angl.v.val/180,r=t.Scl.v.val/100,n=t.Ofst.v,a=n.Hrzn.v.val/100,s=n.Vrtc.v.val/100,l=Math.cos(e),h=-Math.sin(e),o=.5*i.h,f=o*(l/h),u=Math.sqrt(o*o+f*f),p=.5*i.Z,c=p*(h/l),d=Math.sqrt(p*p+c*c),g=Math.min(u,d)*r,b=i.x+i.Z/2+a*i.Z,m=i.y+i.h/2+s*i.h;return[new st(b,m),new st(b+l*g,m+h*g)]},v.j.VB=function(t,i,e,r){var n=i.x-t.x,a=-(i.y-t.y),s=Math.sqrt(n*n+a*a),l=Math.atan2(a,n),h=Math.cos(l),o=-Math.sin(l),f=.5*e.h,u=f*(h/o),p=Math.sqrt(f*f+u*u),c=.5*e.Z,d=c*(o/h),g=Math.sqrt(c*c+d*d),b=s/Math.min(p,g),m=(t.x-e.x-e.Z/2)/e.Z,x=(t.y-e.y-e.h/2)/e.h;r.Angl.v.val=180*l/Math.PI,r.Scl.v.val=b*100;var M=r.Ofst.v;M.Hrzn.v.val=m*100,M.Vrtc.v.val=x*100},v.j.nO=function(t,i){for(var e=0;e<t.length;e++){var r=t[e],n=Math.round(r[0]*4096),a=r[1],s=r[2];s==null&&(s=1);var l=v.j.$H({U:a[0]*255,S:a[1]*255,i:a[2]*255});i.Clrs.v[e]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:n},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:l},Type:{t:"enum",v:{Clry:"UsrS"}}}},i.Trns.v[e]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:n},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(s*100)}}}}}},v.Nw={},v.Nw.a6Y=function(t,i,e,r,n,a,s,l,h,o,f,u){var p,c,d,g=Date.now(),b=!1,m=s,x=o,M,S,w,k,T=a*255,L=255-h*255,O=1+n*6,E=1+l*6,D=1+u*4,B=(D-1)/7,I=0,N=255-0,V,j,R,G,Z,_,U,Y,$,P,tt,X,ht,F=0,J=1,Q,rt,it,nt,ot,pt,yt,ct,vt,wt,Mt=1+f,Ct,gt=v.R(e*r),bt=v.R(e*r),xt=v.R(e*r),Dt=v.R(e*r),Ot=255/T,kt=255/(255-L);for(c=0;c<r;c++)for(p=0;p<e;p++){var mt=c*e+p,It=mt<<2;Q=v.ou(t[It],t[It+1],t[It+2]),Dt[mt]=Q,Q<T&&(gt[mt]=255-Q*Ot),Q>L&&(bt[mt]=255-(255-Q)*kt)}b&&console.log("init",Date.now()-g),g=Date.now(),n*m>0&&(xt.set(gt),v.ni.FY(xt,gt,new et(0,0,e,r),m)),l*x>0&&(xt.set(bt),v.ni.FY(xt,bt,new et(0,0,e,r),x)),b&&console.log("blur",Date.now()-g),g=Date.now();for(var Bt=v.R(256),Ut=v.R(256),mt=0;mt<256;mt++){var qt=mt*(1/255),Gt=0;Gt=(1-Math.pow(1-qt,O))*255,Bt[mt]=Math.max(0,Math.min(255,~~(Gt+.5))),Gt=Math.pow(qt,E)*255,Ut[mt]=Math.max(0,Math.min(255,~~(Gt+.5)))}for(var zt=new Uint8ClampedArray(i.buffer),Nt=new Float32Array(32768),mt=0;mt<32768;mt++)Ct=Math.sqrt(mt)*(1/128),Mt>1?Ct=(1-Ct)*(Mt-1)+1:Ct=Ct*(Mt-1)+1,Nt[mt]=Ct;for(c=0;c<r;c++)for(p=0;p<e;p++){var mt=c*e+p,It=mt<<2,Gt=Dt[mt],Kt=gt[mt]*(1/255),ai=bt[mt]*(1/255);Gt=(1-Kt)*Gt+Kt*Bt[~~Gt],Gt=(1-ai)*Gt+ai*Ut[~~Gt],Q=Gt;var fi=t[It],di=t[It+1],$t=t[It+2];rt=-fi*.168736-di*.331264+$t*.5,it=fi*.5-di*.418688-$t*.081312,Ct=Nt[~~(.5+rt*rt+it*it)],nt=rt*Ct,pt=it*Ct,J=1-Math.min(2-(Kt+ai),1),rt=J*rt+(1-J)*nt,it=J*it+(1-J)*pt,ct=Q+1.402*it,vt=Q-.34414*rt-.71414*it,wt=Q+1.772*rt,zt[It]=~~(.5+ct),zt[It+1]=~~(.5+vt),zt[It+2]=~~(.5+wt)}b&&console.log("apply masks",Date.now()-g),g=Date.now()},v.mC={},v.mC.I4=function(t,i,e,r,n){var a=!1,s=1,l=0,h=0,o=0,f=0;if(!i.Qh(n)){var gt=i.s7(n),u=v.R(gt.M()*4);v.BP(t,i,u,gt),t=u,i=gt}var p=v.R(i.M());v.Lj(e,n,p,i),v.round(p),n=n.$X(i);var c=n.Z,d=n.h,g=c*3<d?2:1,b=d*3<c?2:1;if(n.M()*(g*2+1)*(b*2+1)<i.M()){var gt=new et(n.x-c*g,n.y-d*g,c*(g*2+1),d*(b*2+1)).$X(i),u=v.R(gt.M()*4);v.BP(t,i,u,gt);var m=v.R(gt.M());v.Lj(p,i,m,gt),i=gt,t=u,p=m}for(;(i.Z+i.h)/2/s>400;)s++;var x=t,M=i,S=p,w=Math.floor(M.Z/s),k=Math.floor(M.h/s);t=v.R(w*k*4),v.scale.sI(x,M.Z,M.h,t,w,k,1/s),p=v.R(w*k),v.scale.OM(S,M.Z,M.h,p,w,k,1/s),v.round(p,1);var T=v.xw(p,new et(0,0,w,k));if(!T.qr()){var L=Math.round((T.Z+T.h)/2/15),O=Date.now(),E=v.R(w*k*4);v.a2K(t,E);for(var D=Int16Array,B=new D(w*k*24),I=new D(64),N=new D(64),V=new D(64),j=new D(64),R=3;R<k-4;R++)for(var G=3;G<w-4;G++){var Z=R*w+G;if(p[Z]!=255&&v.mC.a44(E,p,G,R,w,k,I,N,V)==0){v.mC.vy(I,j),B[l]=G,B[l+1]=R,v.mC.Hk(I,B,l+4,12),l+=16,v.mC.vy(N,j),v.mC.Hk(N,B,l,4),l+=4,v.mC.vy(V,j),v.mC.Hk(V,B,l,4),l+=4;var _=B[l-24+5],U=B[l-24+6];B[l-24+5]=B[l-24+20],B[l-24+6]=B[l-24+16],B[l-24+16]=_,B[l-24+20]=U,h++}}if(h!=0){a&&console.log(Date.now()-O,"FWHT computed"),O=Date.now();var Y=[];v.mC.Pk(0,h-1,Y,B,new D(2*24)),a&&console.log(Date.now()-O,"KD tree computed"),O=Date.now();for(var $=new Float32Array(w*k*4),P=0;P<h;P++){var tt=P,X=v.mC.amn(tt,B,Y,L);if(X!=-1){var ht=tt*24,F=X*24,J=B[ht],Q=B[ht+1],rt=B[F],it=B[F+1];o+=v.mC.getError(F,ht,B,1e99);var nt=rt-J,ot=it-Q;$[(k+ot)*2*w+(w+nt)]+=1}}a&&console.log(Date.now()-O,"NN found"),O=Date.now();for(var pt=[],yt=1/(2*w),P=0;P<$.length;P++)if($[P]>0){var R=Math.floor(P*yt),G=P-R*2*w;pt.push({x:G-w,y:R-k,C:$[P],dz:-1})}pt.sort(function(Kt,ai){return ai.C-Kt.C});for(var ct=new Int32Array(w*k),vt=[],P=0;P<w*k;P++)p[P]==255?(ct[P]=f,vt.push(P%w,Math.floor(P/w)),f++):t[(P<<2)+3]<200?ct[P]=-2:ct[P]=-1;var wt=v.mC.acr(w,k,pt,ct,vt,f);if(wt!=null){var Mt=wt.yq,Ct=wt.top;Mt=v.mC.a1K(Mt,t,w,k,Ct,ct,vt,f),a&&console.log(Date.now()-O,"optimal labeling found"),O=Date.now();var gt=n.clone();gt.PK(1,1),gt=gt.$X(M);var bt=v.R(gt.M()*4),xt=v.R(gt.M());v.BP(x,M,bt,gt);for(var Dt=M.Z,Ot=M.h,R=0;R<Ot;R++)for(var G=0;G<Dt;G++)if(S[R*Dt+G]!=0){var kt=Math.min(Math.floor(G/s),w-1),mt=Math.min(Math.floor(R/s),k-1),It=ct[mt*w+kt],Bt=Mt[It],Ut=Ct[Bt],qt=G+Ut.x*s,Gt=R+Ut.y*s,zt=Gt*Dt+qt<<2,Nt=(R-gt.y+M.y)*gt.Z+(G-gt.x+M.x)<<2;bt[Nt]=x[zt],bt[Nt+1]=x[zt+1],bt[Nt+2]=x[zt+2],bt[Nt+3]=x[zt+3],bt[Nt+3]=x[zt+3],xt[Nt>>2]=Bt+1}a&&console.log(Date.now()-O,"copied back"),O=Date.now(),v.w9.I4(bt,xt,gt,null,1e3),a&&console.log(Date.now()-O,"poisson smooth"),O=Date.now(),v.BP(bt,gt,r,n)}}}},v.mC.$s=function(t,i,e,r,n,a){return v.mC.jY(t+n.x,i+n.y,e,r)&&a[(i+n.y)*e+(t+n.x)]==-1?0:1e9},v.mC.a1K=function(t,i,e,r,n,a,s,l){for(var h=Date.now(),o=[-1,0,0,-1,1,0,0,1],f=1e99,u=[],p=[],c=2*(l*2*3+l*2),d=null,g=0,b=0,m=0,x=1e99;Date.now()<h+12e3;){m++;for(var M=null,S=f,w=0;w<n.length;w++){for(var k=n[w],T=0,L=l+2,O=0,E=0;E<l;E++){for(var D=s[E*2],B=s[E*2+1],I=n[t[E]],N=v.mC.$s(D,B,e,r,k,a),V=t[E]==w?1e9:v.mC.$s(D,B,e,r,I,a),j=0;j<4;j++)if(!(j==0&&D==0||j==1&&B==0||j==2&&D==e-1||j==3&&B==r-1)){var R=o[2*j],G=o[2*j+1],Z=D+R,_=B+G,U=a[_*e+Z];if(U!=-2){if(U==-1)N+=3*v.mC.HH(Z+k.x,_+k.y,Z,_,e,r,i,a),N+=2*v.mC.HH(Z+k.x+R,_+k.y+G,Z+R,_+G,e,r,i,a),V+=3*v.mC.HH(Z+I.x,_+I.y,Z,_,e,r,i,a),V+=2*v.mC.HH(Z+I.x+R,_+I.y+G,Z+R,_+G,e,r,i,a);else if(j>1)if(t[E]==t[U]){var Y=0;Y+=v.mC.HH(D+I.x,B+I.y,D+k.x,B+k.y,e,r,i,a),Y+=v.mC.HH(Z+I.x,_+I.y,Z+k.x,_+k.y,e,r,i,a),u[T]=E,u[T+1]=U,p[T]=Y,p[T+1]=Y,T+=2}else{var $=n[t[U]],P=L,tt=0,X=0,ht=0;L++,tt+=v.mC.HH(D+I.x,B+I.y,D+k.x,B+k.y,e,r,i,a),tt+=v.mC.HH(Z+I.x,_+I.y,Z+k.x,_+k.y,e,r,i,a),X+=v.mC.HH(D+$.x,B+$.y,D+k.x,B+k.y,e,r,i,a),X+=v.mC.HH(Z+$.x,_+$.y,Z+k.x,_+k.y,e,r,i,a),ht+=v.mC.HH(D+$.x,B+$.y,D+I.x,B+I.y,e,r,i,a),ht+=v.mC.HH(Z+$.x,_+$.y,Z+I.x,_+I.y,e,r,i,a),u[T]=E,u[T+1]=P,p[T]=tt,p[T+1]=tt,T+=2,u[T]=U,u[T+1]=P,p[T]=X,p[T+1]=X,T+=2,u[T]=P,u[T+1]=l+1,p[T]=ht,p[T+1]=0,T+=2}}}u[T]=l,u[T+1]=E,p[T]=N,p[T+1]=0,T+=2,u[T]=E,u[T+1]=l+1,p[T]=V,p[T+1]=0,T+=2,O+=Math.min(N,V)}if(!(O>S)){var F=v.yJ.mm(L,T,l,l+1,u,p,S);if(F.xy<S){S=F.xy;var J=t.slice(0);v.mC.a45(J,T,u,F.Rv,w,l),M=J}}}if(S*1>=f)break;if(f=S,t=M,(m&3)==0){if(S*1.03>=x)break;x=S}if((m&3)==0){for(var Q=0*n.length,E=0;E<n.length&&n.length>Q;E++)if(t.indexOf(E)==-1){n.splice(E,1);for(var U=0;U<t.length;U++)t[U]>E&&t[U]--;E--}}}return t},v.mC.a45=function(t,i,e,r,n,a){for(var s=0;s<r.length;s++){var l=r[s]<<1,h=0,o=0;l<i?(h=e[l],o=e[l+1]):(o=e[l],h=e[l+1]),h==a&&t[o]!=n&&(t[o]=n)}},v.mC.ZB=function(t,i,e,r,n,a,s,l,h){for(var o=0;o<e.length;o++){var f=e[o],u=!0;if(!(l!=null&&!(v.mC.jY(l+f.x,h+f.y,a,s)&&r[a*(h+f.y)+l+f.x]==-1))&&(f.dz==-1&&(f.dz=v.mC.aa2(f,r,n,a,s)),!(f.dz<=0))){for(var p=0;p<t.length;p++){var c=t[p],d=f.x-c.x,g=f.y-c.y;if(d*d+g*g<i){u=!1;break}}if(u)return f}}return null},v.mC.aa2=function(t,i,e,r,n){for(var a=0,s=0;s<e.length;s+=2){var l=e[s]+t.x,h=e[s+1]+t.y;v.mC.jY(l,h,r,n)&&i[r*h+l]==-1&&a++}return a/(e.length>>1)},v.mC.acr=function(t,i,e,r,n,a){for(var s=[],l=0;l<60;l++){var h=v.mC.ZB(s,25,e,r,n,t,i);if(h==null)break;s.push(h)}if(s.length==0)return null;for(var o=[],l=0;l<a;l++){for(var f=n[l*2],u=n[l*2+1],p=-1,c=0;;){c++;var d=Math.random();p=Math.floor(d*.99999*s.length);var g=s[p],b=f+g.x,m=u+g.y;if(v.mC.jY(b,m,t,i)&&r[m*t+b]==-1)break;if(c>100){var h;if(h=v.mC.ZB(s,0,e,r,n,t,i,f,u),h==null)return null;s.push(h),c=0}}o.push(p)}return{top:s,yq:o}},v.mC.HH=function(t,i,e,r,n,a,s,l){if(t==e&&i==r)return 0;if(t<0||i<0||t>=n||i>=a||e<0||r<0||e>=n||r>=a||l[i*n+t]!=-1||l[r*n+e]!=-1)return 1e7;var h=i*n+t<<2,o=r*n+e<<2,f=s[h]-s[o],u=s[h+1]-s[o+1],p=s[h+2]-s[o+2];return 1+(f*f+u*u+p*p)},v.mC.jY=function(t,i,e,r){return t>=0&&t<e&&i>=0&&i<r},v.mC.amn=function(t,i,e,r){for(var n=24*t,a=i[n],s=i[n+1],l=r*r,h=0,o=1e9;e[h]!=99;)i[n+e[h]]<e[h+1]?h=e[h+2]:h=e[h+3];for(var f=e[h+1],u=e[h+2],p=-1,c=f;c<=u;c++){var h=c,d=h*24,g=i[d],b=i[d+1];if(!((g-a)*(g-a)+(b-s)*(b-s)<l)){var m=v.mC.getError(d,n,i,o);m<o&&(o=m,p=h)}}return p},v.mC.getError=function(t,i,e,r){for(var n=0,a=4;a<24;a+=4){var s=e[i+a]-e[t+a],l=e[i+a+1]-e[t+a+1],h=e[i+a+2]-e[t+a+2],o=e[i+a+3]-e[t+a+3];if(n+=s*s+l*l+h*h+o*o,n>=r)return n+1}return n},v.mC.Pk=function(t,i,e,r,n){var a=16,s=0;if(i-t<=a){e.push(99,t,i);return}v.mC.nP(t,i,r,n);for(var l=-1,h=-1,o=4;o<24;o++){var f=n[2*o+1]-n[2*o];f>h&&(h=f,l=o)}for(var u=t+i>>1,p=v.mC.acx(u,t,i,r,l),c=-1,o=t;o<=i;o++)r[24*o+l]==p&&(c==-1&&(c=o),s=o);if(t+8<c&&c-t>i-s)u=c;else if(s+1<i-8)u=s+1;else if(i-t<64){e.push(99,t,i);return}else u=u;var d=e.length;e.push(l,p,0,0),e[d+2]=d+4,v.mC.Pk(t,u-1,e,r,n),e[d+3]=e.length,v.mC.Pk(u,i,e,r,n)},v.mC.nP=function(t,i,e,r){for(var n=0;n<48;n+=4)r[n]=3e4,r[n+1]=-3e4,r[n+2]=3e4,r[n+3]=-3e4;for(var n=t;n<=i;n++)for(var a=n*24,s=0;s<24;s++){var l=e[a+s],h=r[s<<1],o=r[(s<<1)+1];l<h&&(r[s<<1]=l),l>o&&(r[(s<<1)+1]=l)}},v.mC.Sy=function(t,i,e){var r=0,n=0;r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++,r=e[t+n],e[t+n]=e[i+n],e[i+n]=r,n++},v.mC.RU=function(t,i,e,r){for(var n=e+r>>>1,a=t[24*n+i];e<=r;){for(;t[24*e+i]<a;)e++;for(;t[24*r+i]>a;)r--;e<=r&&(t[24*e+i]!=t[24*r+i]&&v.mC.Sy(e*24,r*24,t),e++,r--)}return e},v.mC.acx=function(t,i,e,r,n){for(var a=0;i!=e;)a=v.mC.RU(r,n,i,e),t<a?e=a-1:i=a;return r[t*24+n]},v.mC.Hk=function(t,i,e,r){for(var n=0;n<r;n++)i[e+n]=t[n]},v.mC.a44=function(t,i,e,r,n,a,s,l,h){for(var o=(r-3)*n+(e-3),f=o<<2,u=0;u<8;u++){if(i[o]+i[o+1]+i[o+2]+i[o+3]+i[o+4]+i[o+5]+i[o+6]+i[o+7]!=0||t[f+3]<200||t[f+7]<200||t[f+11]<200||t[f+15]<200||t[f+19]<200||t[f+23]<200||t[f+27]<200||t[f+31]<200)return 1;var p=u<<3;s[p+0]=t[f+0],l[p+0]=t[f+1],h[p+0]=t[f+2],s[p+1]=t[f+4],l[p+1]=t[f+5],h[p+1]=t[f+6],s[p+2]=t[f+8],l[p+2]=t[f+9],h[p+2]=t[f+10],s[p+3]=t[f+12],l[p+3]=t[f+13],h[p+3]=t[f+14],s[p+4]=t[f+16],l[p+4]=t[f+17],h[p+4]=t[f+18],s[p+5]=t[f+20],l[p+5]=t[f+21],h[p+5]=t[f+22],s[p+6]=t[f+24],l[p+6]=t[f+25],h[p+6]=t[f+26],s[p+7]=t[f+28],l[p+7]=t[f+29],h[p+7]=t[f+30],f+=n<<2,o+=n}return 0},v.mC.vy=function(t,i){i[0]=t[32]+t[0],i[1]=t[33]+t[1],i[2]=t[34]+t[2],i[3]=t[35]+t[3],i[4]=t[36]+t[4],i[5]=t[37]+t[5],i[6]=t[38]+t[6],i[7]=t[39]+t[7],i[8]=t[40]+t[8],i[9]=t[41]+t[9],i[10]=t[42]+t[10],i[11]=t[43]+t[11],i[12]=t[44]+t[12],i[13]=t[45]+t[13],i[14]=t[46]+t[14],i[15]=t[47]+t[15],i[16]=t[48]+t[16],i[17]=t[49]+t[17],i[18]=t[50]+t[18],i[19]=t[51]+t[19],i[20]=t[52]+t[20],i[21]=t[53]+t[21],i[22]=t[54]+t[22],i[23]=t[55]+t[23],i[24]=t[56]+t[24],i[25]=t[57]+t[25],i[26]=t[58]+t[26],i[27]=t[59]+t[27],i[28]=t[60]+t[28],i[29]=t[61]+t[29],i[30]=t[62]+t[30],i[31]=t[63]+t[31],i[32]=t[0]-t[32],i[33]=t[1]-t[33],i[34]=t[2]-t[34],i[35]=t[3]-t[35],i[36]=t[4]-t[36],i[37]=t[5]-t[37],i[38]=t[6]-t[38],i[39]=t[7]-t[39],i[40]=t[8]-t[40],i[41]=t[9]-t[41],i[42]=t[10]-t[42],i[43]=t[11]-t[43],i[44]=t[12]-t[44],i[45]=t[13]-t[45],i[46]=t[14]-t[46],i[47]=t[15]-t[47],i[48]=t[16]-t[48],i[49]=t[17]-t[49],i[50]=t[18]-t[50],i[51]=t[19]-t[51],i[52]=t[20]-t[52],i[53]=t[21]-t[53],i[54]=t[22]-t[54],i[55]=t[23]-t[55],i[56]=t[24]-t[56],i[57]=t[25]-t[57],i[58]=t[26]-t[58],i[59]=t[27]-t[59],i[60]=t[28]-t[60],i[61]=t[29]-t[61],i[62]=t[30]-t[62],i[63]=t[31]-t[63],t[0]=i[16]+i[0],t[1]=i[17]+i[1],t[2]=i[18]+i[2],t[3]=i[19]+i[3],t[4]=i[20]+i[4],t[5]=i[21]+i[5],t[6]=i[22]+i[6],t[7]=i[23]+i[7],t[8]=i[24]+i[8],t[9]=i[25]+i[9],t[10]=i[26]+i[10],t[11]=i[27]+i[11],t[12]=i[28]+i[12],t[13]=i[29]+i[13],t[14]=i[30]+i[14],t[15]=i[31]+i[15],t[16]=i[0]-i[16],t[17]=i[1]-i[17],t[18]=i[2]-i[18],t[19]=i[3]-i[19],t[20]=i[4]-i[20],t[21]=i[5]-i[21],t[22]=i[6]-i[22],t[23]=i[7]-i[23],t[24]=i[8]-i[24],t[25]=i[9]-i[25],t[26]=i[10]-i[26],t[27]=i[11]-i[27],t[28]=i[12]-i[28],t[29]=i[13]-i[29],t[30]=i[14]-i[30],t[31]=i[15]-i[31],i[0]=t[8]+t[0],i[1]=t[9]+t[1],i[2]=t[10]+t[2],i[3]=t[11]+t[3],i[4]=t[12]+t[4],i[5]=t[13]+t[5],i[6]=t[14]+t[6],i[7]=t[15]+t[7],i[8]=t[0]-t[8],i[9]=t[1]-t[9],i[10]=t[2]-t[10],i[11]=t[3]-t[11],i[12]=t[4]-t[12],i[13]=t[5]-t[13],i[14]=t[6]-t[14],i[15]=t[7]-t[15],t[0]=i[4]+i[0],t[1]=i[5]+i[1],t[2]=i[6]+i[2],t[3]=i[7]+i[3],t[4]=i[0]-i[4],t[5]=i[1]-i[5],t[6]=i[2]-i[6],t[7]=i[3]-i[7],t[8]=i[12]+i[8],t[9]=i[13]+i[9],t[10]=i[14]+i[10],t[11]=i[15]+i[11],t[12]=i[8]-i[12],t[13]=i[9]-i[13],t[14]=i[10]-i[14],t[15]=i[11]-i[15],i[0]=t[2]+t[0],i[1]=t[3]+t[1],i[2]=t[0]-t[2],i[3]=t[1]-t[3],i[4]=t[6]+t[4],i[5]=t[7]+t[5],i[6]=t[4]-t[6],i[7]=t[5]-t[7],i[8]=t[10]+t[8],i[9]=t[11]+t[9],i[10]=t[8]-t[10],i[11]=t[9]-t[11],i[12]=t[14]+t[12],i[13]=t[15]+t[13],i[14]=t[12]-t[14],i[15]=t[13]-t[15],t[0]=i[1]+i[0],t[1]=i[0]-i[1],t[2]=i[3]+i[2],t[3]=i[2]-i[3],t[4]=i[5]+i[4],t[5]=i[4]-i[5],t[6]=i[7]+i[6],t[7]=i[6]-i[7],t[8]=i[9]+i[8],t[9]=i[8]-i[9],t[10]=i[11]+i[10],t[11]=i[10]-i[11],t[12]=i[13]+i[12],t[13]=i[12]-i[13],t[14]=i[15]+i[14],t[15]=i[14]-i[15]},v.mC.a93=function(){var t="",i=64,e="v",r="t",n="a",a=5,s,l,h;for(s=i>>1;s>0;s>>=1,a--){for(l=0;l<i;l++)h=(l>>a&1)!=0,h?t+=r+"["+l+"] = "+e+"["+(-s+l)+"] - "+e+"["+l+"];  ":t+=r+"["+l+"] = "+e+"["+(s+l)+"] + "+e+"["+l+"];  ";n=e,e=r,r=n,t+=`
`}console.log(t)},v.mC.a8K=function(t,i,e){for(var r=i,n=e,a=r,s=0,l,h,o;t>>s!=2;)s++;var f=s;for(l=t>>1;l>0;l>>=1,s--){for(h=0;h<t;h++)o=(h>>s&1)!=0,o?n[h]=r[-l+h]-r[h]:n[h]=r[l+h]+r[h];a=r,r=n,n=a}if((f&1)==1)for(l=0;l<t;l++)e[l]=r[l]},v.SX={},v.SX.ka=function(t,i,e,r,n,a,s,l,h){var o=Date.now(),f=new Uint32Array(t.buffer),u=new Uint32Array(i.buffer),p=s/e,c=l/r,d=1/p,g=1/c,b=new Float64Array(2),m=3,x=1/m,M=1/(m*m),S=0,w=0,k=e,T=r;n&&(S=n.x,w=n.y,k=n.Z,T=n.h);for(var L=0;L<T;L++)for(var O=0;O<k;O++){var E=S+O,D=w+L,B=D*e+E,I=B<<1,N=B<<2;v.SX.a3G(a,s,l,(E+.5)*p,(D+.5)*c,b);var V=b[0]*d,j=b[1]*g;V==0&&j==0?u[B]=f[B]:v.P.nK(E+V+.5,D+j+.5,f,e,r,u,B,h)}},v.SX.a3G=function(t,i,e,r,n,a){r-=.499999,n-=.499999;var s=~~r,l=~~n,h=r-s,o=n-l,f=(1-o)*(1-h),u=(1-o)*h,p=o*(1-h),c=o*h,d=s<i-1?s+1:s,g=l<e-1?l+1:l,b=l*i+s<<1,m=l*i+d<<1,x=g*i+s<<1,M=g*i+d<<1;a[0]=f*t[b]+u*t[m]+p*t[x]+c*t[M],a[1]=f*t[b+1]+u*t[m+1]+p*t[x+1]+c*t[M+1]},v.SX.a4l=function(t,i,e,r,n){for(var a=1/t,s=[-1,1,-t,t],l=r.length,h=0;h<l;h++){var o=r[h],f=o<<1,u=h<<1,p=~~(o*a),c=o-t*p,d=e[f],g=e[f+1],b=0,m=0;if(c!=0&&c!=t-1){var x=o-1<<1,M=o+1<<1,S=e[x],w=e[M],k=e[x+1],T=e[M+1],L=d-(S+w)*.5,O=g-(k+T)*.5;b-=L*n,m-=O*n}if(p!=0&&p!=i-1){var x=o-t<<1,M=o+t<<1,S=e[x],w=e[M],k=e[x+1],T=e[M+1],L=d-(S+w)*.5,O=g-(k+T)*.5;b-=L*n,m-=O*n}e[f]=d+b,e[f+1]=g+m}},v.SX.ah6=function(t,i){var e=t+","+i;if(v.SX.x7==e)return v.SX.p6;var r=v.SX.p6=[];v.SX.x7=e;for(var n=0;n<=1e3;n++){var a=n*.001,s=Math.sqrt(a),l=Math.exp(-4*s),h=.96*(1-s*s),o=i*((1-t)*l+t*h);r[n]=o}return r},v.SX.x7="",v.SX.p6=[],v.SX.a3M=function(t,i,e,r,n,a,s,l,h,o,f,u,p){var c=Math.max(0,Math.floor(n-s-1)),d=Math.min(i,Math.ceil(n+s+1)),g=Math.max(0,Math.floor(a-s-1)),b=Math.min(e,Math.ceil(a+s+1)),m=2*i,x=s*s,M=1/s,S=0;p&&(r==3||r==6)&&(h=-h);for(var w=v.SX.ah6(l,h),k=g;k<b;k++)for(var T=c;T<d;T++){var L=k*i+T,O=L<<1,E=(n-T)*M,D=(a-k)*M,B=E*E+D*D;if(B<1){u[S]=L;var I=w[~~(B*1e3)];if(r==1)t[O]=t[O]*(1-I*.05),t[O+1]=t[O+1]*(1-I*.05);else{var N=0,V=0,j,R,G,Z;r==0?(N=o*I,V=f*I):r==2||(r==3?(N=I*D,V=-I*E):r==4?(N=I*E,V=I*D):r==5?(N=-I*E,V=-I*D):r==6&&(N=f*I,V=-o*I));var _=t[O],U=t[O+1];T==0||T!=i-1&&N<0?(j=1+t[O+2]-_,G=t[O+3]-U):(j=_-t[O-2]+1,G=U-t[O-1]),k==0||k!=e-1&&V<0?(R=t[O+m]-_,Z=1+t[O+m+1]-U):(R=_-t[O-m],Z=U-t[O-m+1]+1),t[O]=-(j*N+R*V-_),t[O+1]=-(G*N+Z*V-U)}S++}}},v.SX.a0n=function(t){for(var i=t[0],e=t[0],r=t[1],n=t[1],a=0;a<t.length;a+=2){var s=t[a],l=t[a+1];s<i?i=s:s>e&&(e=s),l<r?r=l:l>n&&(n=l)}return[i,r,e,n]},v.ajA=function(t,i,e,r,n){function a(J,Q,rt,it){return Math.sqrt((J-rt)*(J-rt)+(Q-it)*(Q-it))}function s(J,Q){return J>=0&&J<i&&Q>=0&&Q<e}function l(J){return J<0?0:J>=i?i-1:J}function h(J){return J<0?0:J>=e?e-1:J}function o(J,Q){var rt=Q[3]*(1/255),it=r[J]+Q[0]*rt;it>255&&(it=255),r[J]=it,it=r[J+1]+Q[1]*rt,it>255&&(it=255),r[J+1]=it,it=r[J+2]+Q[2]*rt,it>255&&(it=255),r[J+2]=it}function f(J,Q,rt){!Y(J,Q)||(rt[3]<0&&(rt[3]=0),o((Q*i+J)*4,rt))}function u(J){var Q=J.slice(0,3);return Q[3]=0,Q}var p=i/800;function c(J){return Math.round(J*p)}function d(){for(var J=0;J<=300;J++)P[J]=g(J)}function g(J){var Q=.8,rt=.2,it=Q*rt,nt=J/60%2-1,ot=it*(1-nt*nt),pt=rt-it,yt;return J<60?yt=[it+pt,ot,0]:J<120?yt=[ot,it,0]:J<180?yt=[0,it,ot]:J<240?yt=[0,ot,it]:J<300?yt=[ot,0,it]:yt=[it,0,ot],[(yt[0]+pt)*255,(yt[1]+pt)*255,(yt[2]+pt)*255]}function b(J){return P[~~J]}function m(J){return 1-x(J)}function x(J){return J-~~J}function M(J,Q,rt,it){_(J,Q,rt,0,Q+1,1,it)}function S(J,Q,rt,it,nt,ot){_(J,Q,rt,0,it,1,nt,ot)}function w(J){for(var Q=0;Q<r.length;Q+=4)o(Q,J)}function k(J,Q,rt,it,nt,ot,pt,yt){T(J,Q,rt,it,nt,1,ot,pt,yt)}function T(J,Q,rt,it,nt,ot,pt,yt,ct){ot==null&&(ot=.5),pt==null&&(pt=0),yt==null&&(yt=0),ct==null&&(ct=!1);var vt=J.x,wt=J.y,Mt=rt.slice(0),Ct=~~(rt[3]*ht);it=it*ht,ct||(Q=U(Q),nt=U(nt),pt=U(pt),yt=U(yt));for(var gt=l(vt-Q),bt=l(vt+Q),xt=gt;xt<=bt;xt++){for(var Dt=xt-vt,Ot=Math.floor(Math.sqrt(Q*Q-Dt*Dt)),kt=h(wt-Ot),mt=h(wt),It=kt;It<=mt;It++){var Bt=a(xt,It,vt,wt);if(Bt>Q||Bt<=Q-nt)break;var Ut=(Bt-Q+nt)/nt;Mt[3]=Ct-it*(ot==1?Ut:Math.pow(Ut,ot)),o((It*i+xt)*4,Mt)}kt=h(wt+Ot);for(var It=kt;It>mt;It--){var Bt=a(xt,It,vt,wt);if(Bt>Q||Bt<=Q-nt)break;var Ut=(Bt-Q+nt)/nt;Mt[3]=Ct-it*(ot==1?Ut:Math.pow(Ut,ot)),o((It*i+xt)*4,Mt)}}pt>0&&_(J,Q+pt,Mt,Mt[3],pt,1,0,0,!0),yt>0&&_(J,Q-nt,$(rt),-rt[3],yt,1,0,0,!0)}function L(J,Q,rt,it,nt,ot){_(J,Q,rt,rt[3],Q+1,1,it,nt,ot)}function O(J,Q,rt,it,nt){nt==null&&(nt=!1);var ot=J.x,pt=J.y;it*=ht,nt||(Q=U(Q),rt=U(rt));for(var yt=l(ot-Q),ct=l(ot+Q),vt=yt;vt<ct;vt++){for(var wt=vt-ot,Mt=~~Math.sqrt(Q*Q-wt*wt),Ct=h(pt-Mt),gt=h(pt),bt=Ct;bt<=gt;bt++){var xt=a(vt,bt,ot,pt);if(xt>Q||xt<=Q-rt)break;var Dt=(Q-xt)/rt,Ot=b(300*Dt);Ot[3]=it,o((bt*i+vt)*4,Ot)}Ct=h(pt+Mt);for(var bt=Ct;bt>gt;bt--){var xt=a(vt,bt,ot,pt);if(xt>Q||xt<=Q-rt)break;var Dt=(Q-xt)/rt,Ot=b(300*Dt);Ot[3]=it,o((bt*i+vt)*4,Ot)}}}function E(J,Q){var rt=J.sk,it=J.EU,nt=Q.slice(0),ot=Q[3]*ht,pt=Math.abs(it.y-rt.y)>Math.abs(it.x-rt.x);if(pt){var yt=rt.x;rt.x=rt.y,rt.y=yt,yt=it.x,it.x=it.y,it.y=yt}if(rt.x>it.x){var yt=rt;rt=it,it=yt}var ct=it.x-rt.x,vt=it.y-rt.y,wt=ct==0?1:vt/ct,Mt=Math.round(rt.x),Ct=rt.y+wt*(Mt-rt.x),gt=m(rt.x+.5),bt=Mt,xt=~~Ct;pt?(nt[3]=ot*m(Ct)*gt,f(xt,bt,nt),nt[3]=ot*x(Ct)*gt,f(xt+1,bt,nt)):(nt[3]=ot*m(Ct)*gt,f(bt,xt,nt),nt[3]=ot*x(Ct)*gt,f(bt,xt+1,nt));var Dt=Ct-wt;Mt=Math.round(it.x),Ct=it.y+wt*(Mt-it.x),gt=x(it.x+.5);var Ot=Mt,kt=~~Ct;if(pt?(nt[3]=ot*m(Ct)*gt,f(kt,Ot,nt),nt[3]=ot*x(Ct)*gt,f(kt+1,Ot,nt)):(nt[3]=ot*m(Ct)*gt,f(Ot,kt,nt),nt[3]=ot*x(Ct)*gt,f(Ot,kt+1,nt)),pt)for(var mt=bt+1;mt<=Ot-1;mt++)nt[3]=ot*m(Dt),f(~~Dt,mt,nt),nt[3]=ot*x(Dt),f(~~Dt+1,mt,nt),Dt+=wt;else for(var mt=bt+1;mt<=Ot-1;mt++)nt[3]=ot*m(Dt),f(mt,~~Dt,nt),nt[3]=ot*x(Dt),f(mt,~~Dt+1,nt),Dt+=wt}function D(J,Q,rt,it){for(var nt=0;nt<4;nt++){var ot=J.pV(Q+1.3*nt,rt);E(ot,it,1)}}function B(J,Q){this.x=Math.round(J),this.y=Math.round(Q)}var I=Math.PI/180;B.prototype.pV=function(J,Q){J=J*I;var rt=this.x+Q*Math.cos(J),it=this.y+Q*Math.sin(J);return new N(this.x,this.y,rt,it)},B.prototype.acO=function(J,Q){J=J*I;var rt=this.ej+Q*Math.cos(J),it=this.a9M+Q*Math.sin(J);return new B(rt,it)};function N(J,Q,rt,it){this.sk=new B(J,Q),this.EU=new B(rt,it)}N.prototype.$D=function(J){var Q=J*this.sk.x+(1-J)*this.EU.x,rt=J*this.sk.y+(1-J)*this.EU.y;return new B(Q,rt)};var V=k,j=L,R=M,G=S,Z=O,_=T,U=c,Y=s,$=u,P=[];d();for(var tt=0;tt<t.length;tt++)r[tt]=t[tt];var X=new N(i*n[2],e*n[3],i/2,e/2),ht=n[1],F=[];return F[0]=function(){var Q=[80,40,15,60],rt=0,it=0;R(X.$D(1.4),260,Q,10),R(X.$D(1),100,[240,50,50,30],30),j(X.$D(1),60,[255,40,0,40]);var nt=[255,255,255,255];_(X.$D(1),70,nt,nt[3],58,.5),R(X.$D(1),12,nt),nt[3]=40,V(X.$D(1),150,nt,nt[3],150);for(var ot=0;ot<40;ot++){rt+=Math.random()*25,it=Math.random()*U(300)+U(100);var pt=X.$D(1).pV(rt,it);E(X.$D(1).pV(rt,it),[110,110,110,30])}j(X.$D(1),130,[255,255,255,8]);var yt=[170,30,23,70];G(X.$D(1),70,yt,1,3,3);var ct=[60,60,130,40];R(X.$D(.47),44,ct,5),R(X.$D(.43),22,ct,3),ct[3]=16,R(X.$D(.53),15,ct,2);var vt=[138,94,42,100];R(X.$D(.2),16,vt,2);var wt=[130,255,170,180];j(X.$D(0),4,wt),j(X.$D(-.25),5,wt),vt=[150,90,0,50],V(X.$D(-.45),55,$(vt),-vt[3],40,2),R(X.$D(-.42),35,vt,2),R(X.$D(-.5),15,vt,2),Z(X.$D(-1.28),145,11,70);var Mt=b(0);Mt[3]=50,V(X.$D(-1.28),149,Mt,Mt[3],4),Mt=b(300),Mt[3]=50,V(X.$D(-1.28),155-1,$(Mt),-Mt[3],3);var Ct=[130,130,10,50];G(X.$D(-1),73,Ct,3,2);var gt=[40,130,70,40];V(X.$D(-1),70,$(gt),-gt[3],35),gt=[40,170,60,50],R(X.$D(-.7),25,gt,4);var gt=[70,110,50,60];V(X.$D(1.3),30,$(gt),-gt[3],11,3),ct=[0,50,210,80],j(X.$D(-.72),20,ct)},F[1]=function(){j(X.$D(1),150,[240,70,70,60]),R(X.$D(1),100,[200,60,60,40],30);var Q=[255,255,255,255],rt=0,it=0;_(X.$D(1),75,Q,Q[3],63),R(X.$D(1),12,Q),j(X.$D(1),270,[200,200,200,20],10);for(var nt=0;nt<10;nt++){rt+=10+Math.random()*40,it=Math.random()*U(250)+U(80);var ot=X.$D(1).pV(rt,it);E(ot,[110,110,110,35])}rt=5,it=100;for(var nt=0;nt<12;nt++)rt+=30,D(X.$D(1),rt,it,[90,90,90,40]);var pt=[150,40,23,100];G(X.$D(1),70,pt,1,3,3);var yt=[30,100,60,40];j(X.$D(-.9),180,[255,255,255,20]),R(X.$D(-.9),140,yt,15);var ct=[170,80,25,15];G(X.$D(-.9),120,ct,1,4,4);var vt=[110,240,190,200];j(X.$D(-.6),3,vt),vt[3]=100,j(X.$D(-.6),7,vt);var wt=[230,120,40,85];j(X.$D(-.73),9,wt);var Mt=[60,60,190,50];R(X.$D(.3),28,Mt,6),Mt[3]=25,R(X.$D(.34),20,Mt,3)},F[2]=function(){var Q=[255,255,255,255],rt=0,it=0;R(X.$D(1),13,Q),_(X.$D(1),150,Q,Q[3],137);var nt=[120,80,35,20];R(X.$D(1.4),260,nt,10);for(var ot=0;ot<40;ot++)rt+=5+Math.random()*30,it=Math.random()*U(300),E(X.$D(1).pV(rt,it),[110,110,110,20]);var pt=[10,30,255,30];R(X.$D(1),70,pt,50);var yt=[15,90,170,15];R(X.$D(1.5),60,yt);var ct=[220,220,20,50];R(X.$D(-1.15),8,ct,2);var Q=[255,255,255,40];j(X.$D(-1.18),6,Q),j(X.$D(-1.18),4,Q),ct=[110,110,10,8],V(X.$D(-1.2),32,$(ct),-ct[3],20,3);for(var vt=[5,0,16,255],ot=0;ot<4;ot++)R(X.$D(-1.36),10,vt,3);var wt=[90,200,150,20],Mt=wt.slice(0);Mt[3]*=2,R(X.$D(-1.32),7,Mt,3),R(X.$D(-1.36),7,Mt,3),R(X.$D(-1.4),7,Mt,3);var Q=[230,230,230,100];j(X.$D(-1.36),2,Q),Q[3]=3,R(X.$D(-.55),10,Q),ct=[120,100,10,18],R(X.$D(-.55),160,ct,8),R(X.$D(-.55),80,ct,4),wt[3]=3,Mt[3]=6,V(X.$D(-.49),13,$(Mt),-Mt[3],13,2),V(X.$D(-.55),13,$(Mt),-Mt[3],13,2),wt[3]=20,R(X.$D(.15),25,wt,3),ct[3]=100,j(X.$D(-.52),3,ct),ct=[200,200,50,40],R(X.$D(.27),1,ct,4);var Ct=[150,40,23,30];V(X.$D(1),80,$(Ct),-Ct[3],2,1)},F[n[0]]()},v.Aw={},v.Aw.yT=function(t){for(var i=t.length,e=t[0].length,r=new Array(e),n=0;n<e;n++)r[n]=new Array(i);for(var n=0;n<e;n++)for(var a=0;a<i;a++)r[n][a]=t[a][n];return r},v.Aw.gI=function(t,i){for(var e=t.length,r=t[0].length,n=new Array(e),a=0;a<e;a++)n[a]=new Array(r);for(var a=0;a<e;a++)for(var s=0;s<r;s++)n[a][s]=t[a][s]-i[a][s];return n},v.Aw.add=function(t,i){for(var e=t.length,r=t[0].length,n=new Array(e),a=0;a<e;a++)n[a]=new Array(r);for(var a=0;a<e;a++)for(var s=0;s<r;s++)n[a][s]=t[a][s]+i[a][s];return n},v.Aw.multiply=function(t,i){var e=t.length,r=t[0].length,n=i[0].length;if(r!=i.length)throw"e";for(var a=new Array(e),s=0;s<e;s++)a[s]=new Array(n);if((r&1)!=0)for(var s=0;s<e;s++)for(var l=t[s],h=a[s],o=0;o<n;o++){for(var f=0,u=0;u<r;u++)f+=l[u]*i[u][o];h[o]=f}else for(var s=0;s<e;s++)for(var l=t[s],h=a[s],o=0;o<n;o++){for(var f=0,u=0;u<r;u+=2)f+=l[u]*i[u][o]+l[u+1]*i[u+1][o];h[o]=f}return a},v.Aw.c$=function(t,i){for(var e=t.length,r=t[0].length,n=new Array(e),a=0;a<e;a++){for(var s=0,l=0;l<r;l++)s+=t[a][l]*i[l];n[a]=s}return n},v.Aw.Di=function(t,i){for(var e=[],r=0;r<t;r++){e.push([]);for(var n=0;n<i;n++)e[r].push(0)}return e},v.Aw.afQ=function(t){for(var i=0;i<t.length;i++)console.log(JSON.stringify(t[i]))},v.Aw.a7l=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t[e].join(","));return"["+i.join(";")+"]"},v.Aw.mm=function(t,i){for(var e=t.length,r=0;r<e;r++){for(var n=0,a=Number.NEGATIVE_INFINITY,s=r;s<e;s++)Math.abs(t[s][r])>a&&(n=s,a=Math.abs(t[s][r]));v.Aw.aaZ(t,r,n);for(var s=r+1;s<e;s++){if(t[r][r]==0)return 1;for(var l=t[s][r]/t[r][r],h=r;h<e+1;h++)t[s][h]-=t[r][h]*l}}for(var s=e-1;s>=0;s--){if(t[s][s]==0)return 1;var o=t[s][e]/t[s][s];i[s]=o;for(var h=s-1;h>=0;h--)t[h][e]-=t[h][s]*o,t[h][s]=0}return 0},v.Aw.aaZ=function(t,i,e){var r=t[i];t[i]=t[e],t[e]=r},v.Aw.acn=function(t){for(var i=t.length,e=v.Aw.Di(i,i),r=0;r<i;r++)e[r][r]=t[r];return e},v.Aw.aji=function(t){for(var i=t.length,e=t[0].length,r=new Array(i),n=0;n<i;n++){r[n]=0;for(var a=0;a<e;a++)r[n]+=t[n][a];r[n]/=e}return r},v.Aw.w_=function(t){for(var i=0,e=0;e<t.length;e++)i+=t[e]*t[e];return Math.sqrt(i)},v.t1={},v.t1.kk=function(t){var i=~~(t+.5);return i<0?0:i>255?255:i},v.t1.transform=function(t,i,e){for(var r=v.t1.kk,n=t.U.length,a=0;a<n;a++){var s=t.U[a],l=t.S[a],h=t.i[a];i.U[a]=r(e[0]*s+e[1]*l+e[2]*h+e[3]*255),i.S[a]=r(e[4]*s+e[5]*l+e[6]*h+e[7]*255),i.i[a]=r(e[8]*s+e[9]*l+e[10]*h+e[11]*255)}},v.t1.at=function(t,i,e){for(var r=v.t1.kk,n=t.length,a=0;a<n;a+=4){var s=t[a],l=t[a+1],h=t[a+2];i[a]=r(e[0]*s+e[1]*l+e[2]*h+e[3]*255),i[a+1]=r(e[4]*s+e[5]*l+e[6]*h+e[7]*255),i[a+2]=r(e[8]*s+e[9]*l+e[10]*h+e[11]*255)}},v.t1.$u=function(t){var i=t[0]+t[1]+t[2],e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];if(i==1){var r=t.indexOf(1);e[r]=e[r+4]=e[r+8]=1}else e[0]=t[0],e[5]=t[1],e[10]=t[2];return e},v.t1.$_=function(t,i,e){return[1,0,0,t,0,1,0,i,0,0,1,e,0,0,0,1]},v.t1.$O=function(t,i,e){return[t,0,0,0,0,i,0,0,0,0,e,0,0,0,0,1]},v.t1.a8x=function(t){return[t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10]]},v.t1.v9=function(t){return[t[0],t[1],t[2],0,t[3],t[4],t[5],0,t[6],t[7],t[8],0,0,0,0,1]},v.t1.UE=function(t,i){return[t[0]*i[0]+t[1]*i[1]+t[2]*i[2]+t[3]*i[3],t[4]*i[0]+t[5]*i[1]+t[6]*i[2]+t[7]*i[3],t[8]*i[0]+t[9]*i[1]+t[10]*i[2]+t[11]*i[3],t[12]*i[0]+t[13]*i[1]+t[14]*i[2]+t[15]*i[3]]},v.t1.yT=function(t){var i=[];return i[0]=t[0],i[1]=t[4],i[2]=t[8],i[3]=t[12],i[4]=t[1],i[5]=t[5],i[6]=t[9],i[7]=t[13],i[8]=t[2],i[9]=t[6],i[10]=t[10],i[11]=t[14],i[12]=t[3],i[13]=t[7],i[14]=t[11],i[15]=t[15],i},v.t1.multiply=function(t,i){var e=[];return e[0]=t[0]*i[0]+t[1]*i[4]+t[2]*i[8]+t[3]*i[12],e[1]=t[0]*i[1]+t[1]*i[5]+t[2]*i[9]+t[3]*i[13],e[2]=t[0]*i[2]+t[1]*i[6]+t[2]*i[10]+t[3]*i[14],e[3]=t[0]*i[3]+t[1]*i[7]+t[2]*i[11]+t[3]*i[15],e[4]=t[4]*i[0]+t[5]*i[4]+t[6]*i[8]+t[7]*i[12],e[5]=t[4]*i[1]+t[5]*i[5]+t[6]*i[9]+t[7]*i[13],e[6]=t[4]*i[2]+t[5]*i[6]+t[6]*i[10]+t[7]*i[14],e[7]=t[4]*i[3]+t[5]*i[7]+t[6]*i[11]+t[7]*i[15],e[8]=t[8]*i[0]+t[9]*i[4]+t[10]*i[8]+t[11]*i[12],e[9]=t[8]*i[1]+t[9]*i[5]+t[10]*i[9]+t[11]*i[13],e[10]=t[8]*i[2]+t[9]*i[6]+t[10]*i[10]+t[11]*i[14],e[11]=t[8]*i[3]+t[9]*i[7]+t[10]*i[11]+t[11]*i[15],e[12]=t[12]*i[0]+t[13]*i[4]+t[14]*i[8]+t[15]*i[12],e[13]=t[12]*i[1]+t[13]*i[5]+t[14]*i[9]+t[15]*i[13],e[14]=t[12]*i[2]+t[13]*i[6]+t[14]*i[10]+t[15]*i[14],e[15]=t[12]*i[3]+t[13]*i[7]+t[14]*i[11]+t[15]*i[15],e},v.t1.nJ=function(t){var i=[];i[0]=t[5]*t[10]*t[15]-t[5]*t[14]*t[11]-t[6]*t[9]*t[15]+t[6]*t[13]*t[11]+t[7]*t[9]*t[14]-t[7]*t[13]*t[10],i[1]=-t[1]*t[10]*t[15]+t[1]*t[14]*t[11]+t[2]*t[9]*t[15]-t[2]*t[13]*t[11]-t[3]*t[9]*t[14]+t[3]*t[13]*t[10],i[2]=t[1]*t[6]*t[15]-t[1]*t[14]*t[7]-t[2]*t[5]*t[15]+t[2]*t[13]*t[7]+t[3]*t[5]*t[14]-t[3]*t[13]*t[6],i[3]=-t[1]*t[6]*t[11]+t[1]*t[10]*t[7]+t[2]*t[5]*t[11]-t[2]*t[9]*t[7]-t[3]*t[5]*t[10]+t[3]*t[9]*t[6],i[4]=-t[4]*t[10]*t[15]+t[4]*t[14]*t[11]+t[6]*t[8]*t[15]-t[6]*t[12]*t[11]-t[7]*t[8]*t[14]+t[7]*t[12]*t[10],i[5]=t[0]*t[10]*t[15]-t[0]*t[14]*t[11]-t[2]*t[8]*t[15]+t[2]*t[12]*t[11]+t[3]*t[8]*t[14]-t[3]*t[12]*t[10],i[6]=-t[0]*t[6]*t[15]+t[0]*t[14]*t[7]+t[2]*t[4]*t[15]-t[2]*t[12]*t[7]-t[3]*t[4]*t[14]+t[3]*t[12]*t[6],i[7]=t[0]*t[6]*t[11]-t[0]*t[10]*t[7]-t[2]*t[4]*t[11]+t[2]*t[8]*t[7]+t[3]*t[4]*t[10]-t[3]*t[8]*t[6],i[8]=t[4]*t[9]*t[15]-t[4]*t[13]*t[11]-t[5]*t[8]*t[15]+t[5]*t[12]*t[11]+t[7]*t[8]*t[13]-t[7]*t[12]*t[9],i[9]=-t[0]*t[9]*t[15]+t[0]*t[13]*t[11]+t[1]*t[8]*t[15]-t[1]*t[12]*t[11]-t[3]*t[8]*t[13]+t[3]*t[12]*t[9],i[10]=t[0]*t[5]*t[15]-t[0]*t[13]*t[7]-t[1]*t[4]*t[15]+t[1]*t[12]*t[7]+t[3]*t[4]*t[13]-t[3]*t[12]*t[5],i[11]=-t[0]*t[5]*t[11]+t[0]*t[9]*t[7]+t[1]*t[4]*t[11]-t[1]*t[8]*t[7]-t[3]*t[4]*t[9]+t[3]*t[8]*t[5],i[12]=-t[4]*t[9]*t[14]+t[4]*t[13]*t[10]+t[5]*t[8]*t[14]-t[5]*t[12]*t[10]-t[6]*t[8]*t[13]+t[6]*t[12]*t[9],i[13]=t[0]*t[9]*t[14]-t[0]*t[13]*t[10]-t[1]*t[8]*t[14]+t[1]*t[12]*t[10]+t[2]*t[8]*t[13]-t[2]*t[12]*t[9],i[14]=-t[0]*t[5]*t[14]+t[0]*t[13]*t[6]+t[1]*t[4]*t[14]-t[1]*t[12]*t[6]-t[2]*t[4]*t[13]+t[2]*t[12]*t[5],i[15]=t[0]*t[5]*t[10]-t[0]*t[9]*t[6]-t[1]*t[4]*t[10]+t[1]*t[8]*t[6]+t[2]*t[4]*t[9]-t[2]*t[8]*t[5];for(var e=t[0]*i[0]+t[1]*i[4]+t[2]*i[8]+t[3]*i[12],r=0;r<16;r++)i[r]/=e;return i},v.t1.agL=function(t){var i=[],e=t[5]*t[10]*t[15]-t[5]*t[14]*t[11]-t[6]*t[9]*t[15]+t[6]*t[13]*t[11]+t[7]*t[9]*t[14]-t[7]*t[13]*t[10],r=-t[4]*t[10]*t[15]+t[4]*t[14]*t[11]+t[6]*t[8]*t[15]-t[6]*t[12]*t[11]-t[7]*t[8]*t[14]+t[7]*t[12]*t[10],n=t[4]*t[9]*t[15]-t[4]*t[13]*t[11]-t[5]*t[8]*t[15]+t[5]*t[12]*t[11]+t[7]*t[8]*t[13]-t[7]*t[12]*t[9],a=-t[4]*t[9]*t[14]+t[4]*t[13]*t[10]+t[5]*t[8]*t[14]-t[5]*t[12]*t[10]-t[6]*t[8]*t[13]+t[6]*t[12]*t[9];return t[0]*e+t[1]*r+t[2]*n+t[3]*a},v.t1.ro=v.t1.v9([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]),v.t1.afh=v.t1.v9([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]),v.t1.adC=v.t1.nJ(v.t1.ro),v.yJ={},v.yJ.sm=new Uint32Array(1),v.yJ.Wo=function(t,i,e,r,n,a){var s=new Uint32Array(t),l=0,h=v.yJ.sm;h.length<i*4&&(v.yJ.sm=h=new Uint32Array(i*4));for(var o=new Float64Array(h.buffer),f=0;f<i;f+=2){var u=n[f],p=n[f+1],c=a[f],d=a[f+1];h[l]=p,o[l+2>>1]=c,h[l+1]=s[u],s[u]=l+1,l+=4,h[l]=u,o[l+2>>1]=d,h[l+1]=s[p],s[p]=l+1,l+=4}return{GI:h,gQ:o,CY:s}},v.yJ.mm=function(t,i,e,r,n,a,s){var l=1,h=v.yJ.Wo(t,i,e,r,n,a),o=h.GI,f=h.gQ,u=h.CY,p=new Uint32Array(t),c=new v.yJ.jy(t),d=1,g=0;c.push(e),c.push(r);var b=new v.yJ.jy(t),m=new Uint8Array(t),x=new Uint32Array(t);m[e]=1,m[r]=2;var M=new Uint32Array(t),S=new Uint32Array(t);for(S[e]=S[r]=0,M[e]=M[r]=1;;){for(var w=-1,k=0,T=1e30;!c.SY()&&w==-1;){for(var L=c.top(),O=m[L],E=u[L]-1;E!=-1;){var D=o[E],B=m[D],I=E^O-1<<2;f[I+2>>1]!=0&&(B==0?(v.yJ.im(L,E,D,m,x,S,M),c.push(D)):B==O&&M[D]<=M[L]&&S[D]>S[L]?v.yJ.im(L,E,D,m,x,S,M):B!=O&&(w=I)),E=o[E+1]-1}if(w!=-1)break;c.pop()}if(w==-1)break;d++;for(var N=w;N!=-1;)p[k]=N,k++,N=x[o[N^4]]-1;for(var V=k>>1,j=0;j<V;j++){var R=p[j];p[j]=p[k-j-1],p[k-j-1]=R}for(N=x[o[w]]-1;N!=-1;)p[k]=N^4,k++,N=x[o[N^4]]-1;for(var j=0;j<k;j++)T=Math.min(T,f[p[j]+2>>1]);if(g+=T,g>=s)return{Rv:null,xy:g};for(var j=0;j<k;j++){var G=p[j],Z=G^4,L=o[Z],D=o[G];f[G+2>>1]-=T,f[Z+2>>1]+=T,f[G+2>>1]==0&&m[L]==m[D]&&(m[L]==1&&(x[D]=0,b.push(D)),m[L]==2&&(x[L]=0,b.push(L)))}for(;!b.SY();){for(var L=b.pop(),O=m[L],E=u[L]-1,_=O==1?4:0,U=0,Y=0,$=1e9;E!=-1;){var D=o[E],P=E^4,I=E^_;m[D]==O&&f[I+2>>1]>0&&v.yJ.af_(D,e,r,x,o,d,M,S)+1<$&&(U=D,Y=P,$=S[D]+1),E=o[E+1]-1}if(Y!=0){v.yJ.im(U,Y,L,m,x,S,M);continue}for(E=u[L]-1;E!=-1;){var D=o[E],I=E^_;m[D]==O&&(f[I+2>>1]>0&&c.push(D),x[D]==E+1&&(x[D]=0,b.push(D))),E=o[E+1]-1}m[L]=0,c.remove(L)}}for(var tt=[],j=0;j<i;j+=2){var L=n[j],D=n[j+1];m[L]==1&&m[D]!=1&&tt.push(j>>1),m[D]==1&&m[L]!=1&&tt.push(i+j>>1)}return{Rv:tt,xy:g}},v.yJ.im=function(t,i,e,r,n,a,s){r[e]=r[t],n[e]=i+1,a[e]=a[t]+1,s[e]=s[t]},v.yJ.af_=function(t,i,e,r,n,a,s,l){for(var h=t,o=r[t]-1,f=0;o!=-1&&s[t]!=a;)t=n[o^4],o=r[t]-1,f++;if(o==-1&&t!=i&&t!=e)return 1e9;var u=l[t]+f;for(f=0,o=r[h]-1;h!=t;)l[h]=u-f,f++,s[h]=a,h=n[o^4],o=r[h]-1;return u},v.yJ.a0X=function(t,i,e,r,n,a){for(var s=v.yJ.Wo(t,i,e,r,n,a),l=s.GI,h=s.gQ,o=s.CY,f=0,u=0,p=new Uint32Array(t*2),c=new v.yJ.bR(t),d=0;;){c.reset(),c.push(e);for(var g=0;g<t;g++)p[g<<1]=0;for(;!c.SY();){for(var b=c.pop(),m=o[b]-1;m!=-1;)d=l[m],p[d<<1]==0&&h[m+2>>1]>0&&d!=e&&(p[d<<1]=b+1,p[(d<<1)+1]=m,c.push(d)),m=l[m+1]-1;if(p[r<<1]!=0)break}if(p[r<<1]==0)break;var x=1e30;for(d=r;;){var M=p[d<<1]-1;if(M==-1)break;var S=p[(d<<1)+1];x=Math.min(x,h[S+2>>1]),d=M}for(d=r;;){var M=p[d<<1]-1;if(M==-1)break;var S=p[(d<<1)+1],w=S^4;h[S+2>>1]-=x,h[w+2>>1]+=x,d=M}f+=x}for(var k=[],g=0;g<i;g+=2){var M=n[g],d=n[g+1];(p[M<<1]!=0||M==e)&&p[d<<1]==0&&d!=e&&k.push(g>>1),(p[d<<1]!=0||d==e)&&p[M<<1]==0&&M!=e&&k.push(i+g>>1)}return{Rv:k,xy:f}},v.yJ.bR=function(t){t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,this.NH=new Uint32Array(t+1),this.qj=t,this.du=0,this.EK=0},v.yJ.bR.prototype={push:function(t){var i=this.EK;this.NH[i]=t,this.EK=i+1&this.qj},pop:function(){var t=this.du,i=this.NH[t];return this.du=t+1&this.qj,i},SY:function(){return this.du==this.EK},reset:function(){this.du=0,this.EK=0}},v.yJ.jy=function(t){t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,this.NH=new Uint32Array(t+1),this.xO=new Uint32Array(t+1),this.qj=t,this.du=0,this.EK=0},v.yJ.jy.prototype={top:function(){return this.NH[this.du]},a8Q:function(){return this.NH[this.EK]},push:function(t){if(this.xO[t]==0){this.xO[t]=this.EK+1;var i=this.EK;this.NH[i]=t,this.EK=i+1&this.qj}},pop:function(){var t=this.du,i=this.NH[t];return this.xO[i]=0,this.du=t+1&this.qj,i},SY:function(){return this.du==this.EK},remove:function(t){var i=this.xO[t]-1;if(i!=-1){if(this.xO[t]=0,i==this.du){this.pop();return}var e=this.pop();this.NH[i]=e,this.xO[e]=i+1}},q_:function(t){return t+this.qj+1&this.qj}},v.yJ.rP=function(t,i,e){var r=v.yJ.RU(t,i,e);i<r-1&&v.yJ.rP(t,i,r-1),r<e&&v.yJ.rP(t,r,e)},v.yJ.RU=function(t,i,e){for(var r=t[i+e>>>1];i<=e;){for(;t[i]<r;)i++;for(;t[e]>r;)e--;i<=e&&(v.yJ.Sy(t,i,e),i++,e--)}return i},v.yJ.Sy=function(t,i,e){var r=t[i];t[i]=t[e],t[e]=r},v.P$={},v.P$.acG=function(t){for(var i=0;i<t.length;i++)v.P$.tq(t,i)},v.P$.tq=function(t,i){t[i].v.keyShapeInvalidated={t:"bool",v:!0}},v.P$.a2v=function(t){for(var i=0;i<t.length;i++)t[i].v.keyOriginIndex.v=i},v.P$.Zm=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}},v.P$.ND=function(t){t=t.v;var i={Rctn:2,Ln:4,Elps:5},e=i[t.classID],r=t.topLeft?v.P$.C5(t):null,n=null,a=0;if(e==4){var s=t.Strt.v,l=t.End.v;n=[s.Hrzn.v.val,s.Vrtc.v.val,l.Hrzn.v.val,l.Vrtc.v.val],a=t.Wdth.v.val}return e==null?null:v.P$.Rr(e,e==4?null:v.P$.QO(t),r,n,a)},v.P$.Sn=function(t,i,e,r,n,a){var s={classID:t,unitValueQuadVersion:{t:"long",v:1}};return i&&v.P$.ev(s,["Left","Top","Rght","Btom"],i),e&&v.P$.ev(s,["topLeft","topRight","bottomRight","bottomLeft"],e),t=="Ln"&&(s.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:r[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:r[1]}}}},s.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:r[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:r[3]}}}},s.Wdth={t:"UntF",v:{type:"#Pxl",val:n}}),a&&(s.Nm={t:"TEXT",v:a}),{t:"Objc",v:s}},v.P$.Rr=function(t,i,e,r,n){var a=v.P$.Zm(),s=a.v;delete s.keyShapeInvalidated,s.keyOriginType={t:"long",v:t},s.keyOriginResolution={t:"doub",v:75},t==4&&(s.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:r[0]},Vrtc:{t:"doub",v:r[1]}}},s.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:r[2]},Vrtc:{t:"doub",v:r[3]}}},i=[Math.min(r[0],r[2]),Math.min(r[1],r[3]),Math.max(r[0],r[2]),Math.max(r[1],r[3])],s.keyOriginLineWeight={t:"doub",v:n},s.keyOriginLineArrowSt={t:"bool",v:!1},s.keyOriginLineArrowEnd={t:"bool",v:!1},s.keyOriginLineArrWdth={t:"doub",v:0},s.keyOriginLineArrLngth={t:"doub",v:0},s.keyOriginLineArrConc={t:"long",v:0});var l={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};if(s.keyOriginShapeBBox={t:"Objc",v:l},v.P$.__(s,i),e!=null){var h={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};s.keyOriginRRectRadii={t:"Objc",v:h},v.P$.xv(s,e)}return a},v.P$.O=function(t,i,e,r){for(var n=v.P.Cx(i),a=v.P.VP(i),s=Math.max(Math.abs(i[0]),Math.abs(i[1])),l=Math.max(Math.abs(i[3]),Math.abs(i[4])),h=0;h<t.length;h++){var o=t[h].v,f=o.keyShapeInvalidated;if(!(f&&f.v||o.keyOriginType==null)&&!(e.length!=0&&e.indexOf(h)==-1)){var u=o.keyOriginType.v;if(!n||!a||r&&u==2&&Math.abs(1-s/l)>.01){v.P$.tq(t,h);continue}var p=v.P$.sV(o);if(v.P.apply(i,p),v.P$.__(o,[Math.min(p[0],p[2]),Math.min(p[1],p[3]),Math.max(p[0],p[2]),Math.max(p[1],p[3])]),u==2){var c=v.P$.G4(o),d=new Et(i[0],i[1],i[3],i[4],0,0);if(d.dy(),d.m==0&&(c.push(c.shift()),d.rotate(Math.PI/2),d.dy()),d.m<0){var g=c[0];c[0]=c[1],c[1]=g,g=c[2],c[2]=c[3],c[3]=g}if(d.xA<0){var g=c[0];c[0]=c[3],c[3]=g,g=c[1],c[1]=c[2],c[2]=g}if(r)for(var b=0;b<4;b++)c[b]=c[b]*s;v.P$.xv(o,c)}if(u==4){o.keyOriginLineWeight.v*=s;var m=v.P$.rm(o);v.P.apply(i,m),v.P$.a3J(o,m)}}}},v.P$.xc=function(t,i){for(var e=i.b,r=0;r<t.length;r++){var n=t[r].v,a=n.keyShapeInvalidated,s;if(!(a&&a.v||n.keyOriginType==null)){var l=n.keyOriginType.v,h=v.P$.sV(n),o=h[0],f=h[1],u=h[2],p=h[3];if(l==1)s=v.V.Ny.Rect(o,f,u-o,p-f,0);else if(l==2){var c=v.P$.G4(n);s=v.V.Ny.Rect(o,f,u-o,p-f,c)}else if(l==4){var d=v.P$.rm(n);s=v.V.Ny.Qe(d[0],d[1],d[2],d[3],n.keyOriginLineWeight.v)}else l==5&&(s=v.V.Ny.VO(o,f,u-o,p-f));var g=v.V.cx(e,r),b=v.V.SD(e,r);s[2].IO=e[g].IO;var m=e;e=e.slice(0,g);for(var x=2;x<s.length;x++)e.push(s[x]);for(var x=g+b;x<m.length;x++)e.push(m[x])}}i.b=e,i.G2=!0},v.P$.bg=function(t){for(var i=1e9,e=-i,r=1e9,n=-r,a=null,s=t.Cj(),l=s[0],h=s[1],o=0;o<h.length;o++){var f=l[h[o]],u=f.add.vogk;if(u!=null)for(var p=f.add.vmsk.p,c=0;c<u.length;c++){var d=u[c].v,g=d.keyShapeInvalidated;if(!(g&&g.v||d.keyOriginType==null)&&!(h.length==1&&p.length!=0&&p.indexOf(c)==-1)){var b=d.keyOriginType.v;if(b!=4){var m=v.P$.sV(d);i=Math.min(i,m[0]),r=Math.min(r,m[1]),e=Math.max(e,m[2]),n=Math.max(n,m[3])}b==2&&a==null&&(a=v.P$.G4(d))}}}return[i<e?[i,r,e,n]:null,a]},v.P$.a5g=function(t,i,e){var r=v.P$.bg(t)[0],n;if(r){var a=new Et;a.translate(-r[0],-r[1]),a.scale(1/(r[2]-r[0]),1/(r[3]-r[1])),a.scale(i[2]-i[0],i[3]-i[1]),a.translate(i[0],i[1]),n=v.P.Jb(a)}for(var s=t.Cj(),l=s[0],h=s[1],o=0;o<h.length;o++){var f=l[h[o]],u=f.add.vogk;if(u!=null)for(var p=f.add.vmsk.p,c=0;c<u.length;c++){var d=u[c].v,g=d.keyShapeInvalidated;if(!(g&&g.v||d.keyOriginType==null)&&!(h.length==1&&p.length!=0&&p.indexOf(c)==-1)){var b=d.keyOriginType.v;if(b!=4&&i[0]!=null){var i=v.P$.sV(d);v.P.apply(n,i),v.P$.__(d,i)}b==2&&e!=null&&v.P$.xv(d,e)}}}},v.P$.sV=function(t){return v.P$.QO(t.keyOriginShapeBBox.v)},v.P$.QO=function(t){var i=t.Left.v.val,e=t.Rght.v.val,r=t.Top.v.val,n=t.Btom.v.val;return[i,r,e,n]},v.P$.__=function(t,i){v.P$.ev(t.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],i)},v.P$.G4=function(t){return v.P$.C5(t.keyOriginRRectRadii.v)},v.P$.C5=function(t){for(var i=[],e=["topLeft","topRight","bottomRight","bottomLeft"],r=0;r<4;r++)i.push(t[e[r]].v.val);return i},v.P$.xv=function(t,i){v.P$.ev(t.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],i)},v.P$.ev=function(t,i,e){for(var r=0;r<4;r++)e[r]!=null&&(t[i[r]]={t:"UntF",v:{type:"#Pxl",val:e[r]}})},v.P$.rm=function(t){var i=t.keyOriginLineStart.v,e=t.keyOriginLineEnd.v;return[i.Hrzn.v,i.Vrtc.v,e.Hrzn.v,e.Vrtc.v]},v.P$.a3J=function(t,i){var e=t.keyOriginLineStart.v,r=t.keyOriginLineEnd.v;e.Hrzn.v=i[0],e.Vrtc.v=i[1],r.Hrzn.v=i[2],r.Vrtc.v=i[3]},v.D={},v.D.clone=function(t){return{W:t.W.slice(0),d:t.d.slice(0)}},v.D.xu=function(t){if(t.length<6)return!0;for(var i=t.length-4,e=0;e<i;e+=2)if(!v.D.Hx(t[e],t[e+1],t[e+2],t[e+3],t[e+4],t[e+5]))return!1;return!(!v.D.Hx(t[i],t[i+1],t[i+2],t[i+3],t[0],t[1])||!v.D.Hx(t[i+2],t[i+3],t[0],t[1],t[2],t[3]))},v.D.Hx=function(t,i,e,r,n,a){return(i-r)*(n-e)+(e-t)*(a-r)>=0},v.D.X5=function(t){for(var i={},e=null,r=0,n={M:2,L:2,Q:4,C:6},a=0;a<t.W.length;a++){var s=t.W[a];if(s.charAt(0)=="#")i[s]==null&&(i[s]={d:[],W:[]}),e=i[s];else if(s!="X"){e.W.push(s);var l=n[s];l==null&&(l=0);for(var h=0;h<l;h++)e.d.push(t.d[r+h]);r+=l}}return i},v.D.sb=function(t,i){t=v.D.pP(t);for(var e=t.d,r=t.W,n=0,a=[],s=null,l=0;l<r.length;l++){var h=r[l];h=="M"&&(s={DP:n,lv:0,Av:!1},a.push(s),n+=2),h=="C"&&(s.lv++,n+=6),h=="Z"&&(s.Av=!0)}for(var o=[],l=0;l<a.length;l++)a[l].lv!=0&&o.push(a[l]);a=o;for(var l=0;l<a.length;l++){var f=a[l],u=f.DP,p=u+2+f.lv*6,c=0;f.gx=v.D.nP(e,u,p);for(var d=e[u]==e[p-2]&&e[u+1]==e[p-1],g=0;g<f.lv;g++){var b=u+g*6,m=b+6;c+=(e[m]-e[b])*(e[m+1]+e[b+1])}if(f.lv==2){var x=function(X,ht,F){var J=1-F;return J*J*J*X[ht]+3*J*J*F*X[ht+2]+3*J*F*F*X[ht+4]+F*F*F*X[ht+6]},M=e[u],S=e[u+1],w=e[u+6],k=e[u+7],T=e[u+6],L=e[u+7],O=x(e,u,.5),E=x(e,u+1,.5),D=x(e,u+6,.5),B=x(e,u+7,.5);c=(O-M)*(E-S)+(w-O)*(k-E)+(D-w)*(B-k)+(T-D)*(L-B)}d||(c+=(e[u]-e[p-2])*(e[u+1]+e[p-1])),f.wJ=c<=0}for(var l=0;l<a.length-1;l++)for(var b=l+1;b<a.length;b++){var I=a[l],N=a[b];N.gx.Qh(I.gx)&&(a[l]=N,a[b]=I)}for(var V=a.length==0?!0:a[0].wJ,j=[{type:6},{type:8,all:0}],l=0;l<a.length;l++){var f=a[l],u=f.DP,p=u+2+f.lv*6,d=e[u]==e[p-2]&&e[u+1]==e[p-1],R=f.Av||d?0:3,G=f.wJ==V&&!i?1:0;if(!i&&l!=0){a[l-1].gx.Qh(f.gx)&&a[l-1].wJ!=f.wJ&&(G=0);for(var b=0;b<a.length;b++)b!=l&&a[b].gx.Qh(f.gx)&&(G=0)}j.push({type:R,length:f.lv+(d?0:1),IO:G,yU:2});for(var b=0;b<f.lv;b++){var n=u+b*6,Z=new st(e[n],e[n+1]),_=new st(e[n+2],e[n+3]),U;b==0?d?U=new st(e[p-4],e[p-3]):U=Z.clone():U=new st(e[n-2],e[n-1]),j.push({type:R+2,wU:U,_:Z,dv:_})}if(!d){var Y=new st(e[p-2],e[p-1]);j.push({type:R+2,wU:new st(e[p-4],e[p-3]),_:Y,dv:Y.clone()})}}for(var b=0;b<j.length;b++){var $=j[b];if(!($.type>5||$.type==0||$.type==3)){var P=$.wU.Qn($._)||$.dv.Qn($.dv);if(!P){var I=$.wU.x*($._.y-$.dv.y)+$._.x*($.dv.y-$.wU.y)+$.dv.x*($.wU.y-$._.y);Math.abs(I)<1e-6&&(P=!0)}P&&$.type--}}return j},v.D.xJ=function(){function t(r,n,a,s){!s&&r.dv.Qn(r._)&&n.wU.Qn(n._)?(a.d.push(n._.x,n._.y),a.W.push("L")):(a.d.push(r.dv.x,r.dv.y,n.wU.x,n.wU.y,n._.x,n._.y),a.W.push("C"))}function i(r,n,a,s,l,h){var o=n[a];r.d.push(o._.x,o._.y),r.W.push("M");for(var f=a;f<a+s-1;f++)t(n[f],n[f+1],r,h);l||t(n[f],n[a],r,h)}function e(r,n){n==null&&(n=!1);for(var a={d:[],W:[]},s=0;s<r.length;s++)if(!(r[s].type>5)){var l=r[s].length;if(l!=0){if(s==r.length-1)break;var h=r[s].type==3;i(a,r,s+1,l,h,n),h||a.W.push("Z"),s+=l}}return a}return e}(),v.D.a4O=function(t){for(var i=t.d,e=[],r,n=0,a=0;a<t.W.length;a++){var s=t.W[a];s=="C"?r.push(i[n++],i[n++],i[n++],i[n++],i[n++],i[n++]):s=="Z"||(r=[],s!="M"&&(r.push(s),a++),r.push(i[n++],i[n++]),e.push(r))}return e},v.D.n0=function(t,i,e,r){r==null&&(r=1e9);for(var n=1e9,a=0,s=0;s<t.length;s+=2){var l=i-t[s],h=e-t[s+1],o=l*l+h*h;o<n&&(n=o,a=s>>>1)}return n<r*r?a:-1},v.D.bu=function(t,i,e,r){for(var n=0;n<t.length;n+=2){var a=t[n],s=t[n+1],l=i[n],h=i[n+1];e[n]=a+(l-a)*r,e[n+1]=s+(h-s)*r}},v.D.O=function(t,i,e){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e[r]=n*i.m+a*i.p$+i.PV,e[r+1]=n*i.i+a*i.xA+i.ye}},v.D.nP=function(t,i,e){i==null&&(i=0),e==null&&(e=t.length);for(var r=99999999999,n=-r,a=99999999999,s=-a,l=i;l<e;l+=2){var h=t[l],o=t[l+1];r=Math.min(r,h),a=Math.min(a,o),n=Math.max(n,h),s=Math.max(s,o)}return new et(r,a,n-r,s-a)},v.D.QX=function(t,i){var e=Math.max(i.x,Math.min(i.x+i.Z,t.x)),r=Math.max(i.y,Math.min(i.y+i.h,t.y)),n=t.x-e,a=t.y-r;return Math.sqrt(n*n+a*a)},v.D.pd=function(t){if(t.qr())return new et(Math.floor(t.x),Math.floor(t.y),Math.ceil(t.Z),Math.ceil(t.h));var i=Math.floor(t.x),e=Math.ceil(t.x+t.Z),r=Math.floor(t.y),n=Math.ceil(t.y+t.h);return new et(i,r,e-i,n-r)},v.D.YI=function(t){return v.D.pd(v.D.nP(t))},v.D.z0=function(t){var i=t.x,e=t.y,r=t.x+t.Z,n=t.y+t.h;return{W:["M","L","L","L","Z"],d:[i,e,r,e,r,n,i,n]}},v.D.concat=function(t,i,e){e==null&&(e=new Et);for(var r=0;r<i.d.length;r+=2){var n=i.d[r],a=i.d[r+1];t.d.push(n*e.m+a*e.p$+e.PV),t.d.push(n*e.i+a*e.xA+e.ye)}for(var r=0;r<i.W.length;r++)t.W.push(i.W[r])},v.D.pP=function(t){for(var i=t.d,e=[],r=[],n=0,a=0,s=0,l=0,h=0,o=0,f=0,u=0,p=0,c=0;c<t.W.length;c++){var d=t.W[c];if(d=="M")a=i[n],s=i[n+1],n+=2,r.push(d),e.push(a,s);else if(d=="C")l=i[n],h=i[n+1],o=i[n+2],f=i[n+3],u=i[n+4],p=i[n+5],n+=6,r.push(d),e.push(l,h,o,f,u,p),a=u,s=p;else if(d=="Q"){l=i[n],h=i[n+1],o=i[n+2],f=i[n+3],n+=4;var g=l-a,b=h-s,m=o-l,x=f-h;r.push("C"),e.push(a+2/3*g,s+2/3*b,l+1/3*m,h+1/3*x,o,f),a=o,s=f}else if(d=="L"){l=i[n],h=i[n+1],n+=2;var M=l-a,S=h-s;r.push("C"),e.push(a,s,l,h,l,h),a=l,s=h}else r.push(d)}return{W:r,d:e}},v.D.akr=function(t){for(var i=t.d,e=[],r=[],n=0,a=0;a<t.W.length;a++){var s=t.W[a];if(s=="Q"){var l=i[n-2],h=i[n-1],o=i[n],f=i[n+1],u=i[n+2],p=i[n+3];n+=4;var c=o-l,d=f-h,g=u-o,b=p-f;r.push("C"),e.push(l+2/3*c,h+2/3*d,o+1/3*g,f+1/3*b,u,p)}else{var m=0;s=="M"||s=="L"?m=2:s=="C"&&(m=6);for(var x=0;x<m;x++)e.push(i[n+x]);n+=m,r.push(s)}}return{W:r,d:e}},v.D.Tm=function(t,i){for(var e=t.d,r=[],n=[],a=0,s=0,l=0,h=0,o=0,f=0,u=0,p=0,c=0,d=0;d<t.W.length;d++){var g=t.W[d];g=="M"?(s=e[a],l=e[a+1],a+=2,n.push(g),r.push(s,l)):g=="C"?(h=e[a],o=e[a+1],f=e[a+2],u=e[a+3],p=e[a+4],c=e[a+5],a+=6,v.D.qC(s,l,h,o,f,u,p,c,i,n,r,0),s=p,l=c):n.push(g)}return{W:n,d:r}},v.D.qC=function(t,i,e,r,n,a,s,l,h,o,f,u){var p=Math.sqrt((s-t)*(s-t)+(l-i)*(l-i)),c=Math.sqrt((s-n)*(s-n)+(l-a)*(l-a))+Math.sqrt((n-e)*(n-e)+(a-r)*(a-r))+Math.sqrt((e-t)*(e-t)+(r-i)*(r-i)),d=(p+c)/2;if(d<=h)o.push("C"),f.push(e,r,n,a,s,l);else{var g=0,b=0,m=0,x=0,M=0,S=0,w=0,k=0,T=0,L=0,O=0,E=0,D=0;b=(t+e)/2,m=(i+r)/2,x=(e+n)/2,M=(r+a)/2,S=(n+s)/2,w=(a+l)/2,k=(b+x)/2,T=(m+M)/2,L=(x+S)/2,O=(M+w)/2,E=(k+L)/2,D=(T+O)/2,v.D.qC(t,i,b,m,k,T,E,D,h,o,f,u+1),v.D.qC(E,D,L,O,S,w,s,l,h,o,f,u+1)}},v.D.sX=function(t,i){for(var e=t.length-2,r=t[0],n=t[1],a=t[e],s=t[e+1],l=a-r,h=s-n,o=1/Math.sqrt(l*l+h*h),f=a*n-s*r,u=-1,p=-1,c=2;c<e;c+=2){var d=t[c],g=t[c+1],b=Math.abs(h*d-l*g+f)*o;b>p&&(p=b,u=c)}if(p<i)return[r,n,a,s];for(var m=v.D.sX(t.slice(0,u+2),i),x=v.D.sX(t.slice(u),i),c=2;c<x.length;c++)m.push(x[c]);return m},v.D.a2N=function(){var t=function(r,n,a,s,l,h){return(n-s)*(l-a)+(a-r)*(h-s)>=0},i=function(r,n,a,s,l,h,o,f){var u=o-a,p=f-s,c=l-a,d=h-s,g=r-a,b=n-s,m=u*u+p*p,x=u*c+p*d,M=u*g+p*b,S=c*c+d*d,w=c*g+d*b,k=1/(m*S-x*x),T=(S*M-x*w)*k,L=(m*w-x*M)*k;return T>=0&&L>=0&&T+L<1},e=function(r){var n=r.length>>>1,a=0;if(n<3)return[];for(var s=[],l=[],a=0;a<n;a++)l.push(a);for(var h=n;h>3;){var o=l[(a+0)%h],f=l[(a+1)%h],u=l[(a+2)%h],p=r[2*o],c=r[2*o+1],d=r[2*f],g=r[2*f+1],b=r[2*u],m=r[2*u+1],x=!1;if(t(p,c,d,g,b,m)){x=!0;for(var M=0;M<h;M++){var S=l[M];if(!(S==o||S==f||S==u)&&i(r[2*S],r[2*S+1],p,c,d,g,b,m)){x=!1;break}}}if(x)s.push(o,f,u),l.splice((a+1)%h,1),h--,a=0;else if(a++>3*h)break}return s.push(l[0],l[1],l[2]),s};return e}(),v.D.ae7=function(t,i){for(var e={},r={W:[],d:[]},n=0;n<i.length;n+=3){var a=i[n]*2,s=i[n+1]*2,l=i[n+2]*2;v.D.ft(t,a,s,r,e),v.D.ft(t,a,l,r,e),v.D.ft(t,s,l,r,e)}return r},v.D.ft=function(t,i,e,r,n){if(i>e){var a=e;e=i,i=a}n[i+","+e]||(n[i+","+e]=!0,r.W.push("M","L"),r.d.push(t[i],t[i+1],t[e],t[e+1]))},v.D.pD=function(t,i){for(var e=[],r=t.length,n=0;n<r;n+=2){var a=t[n],s=t[n+1],l=t[(n+2)%r],h=t[(n+3)%r];if(h<s){var o=s;s=h,h=o}if(s<i&&i<h){var f=(i-s)/(h-s);e.push(a+f*(l-a))}}return e.sort(function(u,p){return u-p}),e},v.D.a6i=function(t,i){for(var e=i.slice(0),r=t.length/2,n=[],a=[],s=0;s<r;s++){var l=(s+1)%r,h=t[2*s]-t[2*l],o=t[2*s+1]-t[2*l+1];a[s]=Math.sqrt(h*h+o*o)}for(var s=0;s<r;s++){var f=(s-1+r)%r,l=(s+1)%r,u=i[s],p=u+i[f],c=u+i[l];p!=0&&(e[s]=Math.min(e[s],a[f]*u/p)),c!=0&&(e[s]=Math.min(e[s],a[s]*u/c))}for(var s=0;s<r;s++){var l=(s+1)%r,d=(s+2)%r,g=e[s],b=e[l],m=t[2*s],x=t[2*s+1],M=t[2*l],S=t[2*l+1],w=t[2*d],k=t[2*d+1],T=a[s],L=a[l],O=v.D.amg(m,x,M,S,w,k,g,b,T,L);n.push(O[0],O[1],O[0],O[1],O[2],O[3]),n.push(O[2],O[3],O[4],O[5],O[6],O[7])}return n},v.D.amg=function(t,i,e,r,n,a,s,l,h,o){h==null&&(h=Math.sqrt((e-t)*(e-t)+(r-i)*(r-i))),o==null&&(o=Math.sqrt((n-e)*(n-e)+(a-r)*(a-r)));var f=.553,u=0,p=0,c=0,d=0;h!=0&&(u=(e-t)/h,p=(r-i)/h),o!=0&&(c=(n-e)/o,d=(a-r)/o);var g=t+s*u,b=i+s*p,m=e-l*u,x=r-l*p;return[g,b,m,x,e-l*u*(1-f),r-l*p*(1-f),e+l*c*(1-f),r+l*d*(1-f),e+l*c,r+l*d]},v.D.mg=function(t,i,e,r,n,a,s){var l=t-e,h=i-r,o=n-e,f=a-r,u=1/Math.sqrt(l*l+h*h),p=1/Math.sqrt(o*o+f*f),c=l*u,d=h*u,g=o*p,b=f*p,m=d*s,x=-c*s,M=-b*s,S=g*s,w=v.D.Vh(m,x,c,d,M,S,g,b),k=m+c*w,T=x+d*w,w=v.D.Vh(0,0,c,d,k,T,-d,c),L=c*w,O=d*w;return[Math.sqrt(L*L+O*O),c,d,g,b]},v.D.Az=function(t,i,e,r,n,a,s){var l=v.D.mg(t,i,e,r,n,a,s),h=l[0],o=l[1],f=l[2],u=l[3],p=l[4],c=Math.atan2(o*p-f*u,o*u+f*p);c<0&&(c=c*-1);var d=Math.PI-c,g=4/3*Math.tan(d/4),b=e+h*o,m=r+h*f,x=e+h*u,M=r+h*p,S=b+g*s*-o,w=m+g*s*-f,k=x+g*s*-u,T=M+g*s*-p;return[0,0,b,m,S,w,k,T,x,M]},v.D.Vh=function(t,i,e,r,n,a,s,l){var h=s*(i-a)-l*(t-n),o=l*e-s*r;return o==0?0:h/o},v.D.Az(0,50,0,0,30,30,10),v.w9=function(){},v.w9.I4=function(t,i,e,r,n){for(var a=e.Z,s=e.h,l=a*s,h=new Int32Array(l),o=0,f=0;f<l;f++)i[f]!=0?(h[f]=o,o++):t[(f<<2)+3]<200?h[f]=-2:h[f]=-1;if(o!=0){for(var u=new v.sz(o,o),p=new Array(3*o),c=new Array(3*o),f=0;f<c.length;f++)c[f]=p[f]=0;for(var d=1/255,g=[-a,-1,1,a],b=[],m=[],x=0;x<s;x++)for(var M=0;M<a;M++){var S=x*a+M,w=S<<2,f=h[S],k=f*3,T=0,L=0,O=0;if(!(f==-1||f==-2)){for(var E=0;E<4;E++){E==2&&(L=O,b[O]=0,m[O]=f,O++);var D=S+g[E],B=D<<2,I=h[D];E==0&&x==0||E==1&&M==0||E==2&&M==a-1||E==3&&x==s-1||I==-2||(T++,I==-1?(p[k+0]+=t[B+0],p[k+1]+=t[B+1],p[k+2]+=t[B+2]):(b[O]=-1,m[O]=I,O++,i[S]==i[D]&&(p[k+0]+=t[w+0]-t[B+0],p[k+1]+=t[w+1]-t[B+1],p[k+2]+=t[w+2]-t[B+2])))}b[L]=T,u.Wz(b,m,O)}}for(var f=0;f<l;f++)if(h[f]!=-1){var N=f<<2,V=h[f],j=V*3;c[j]=t[N+0],c[j+1]=t[N+1],c[j+2]=t[N+2]}var R=Date.now();u.akD(c,p,r,n),console.log(Date.now()-R);for(var f=0;f<l;f++){var V=h[f],G=V*3,N=f<<2;V==-1||t[N+3]!=255||(t[N+0]=~~(.5+Math.max(0,Math.min(255,c[G+0]))),t[N+1]=~~(.5+Math.max(0,Math.min(255,c[G+1]))),t[N+2]=~~(.5+Math.max(0,Math.min(255,c[G+2]))))}}},v.rect={},v.rect._T=function(t,i){for(var e=[t],r=[],n=0;n<i.length;n++){for(var a=i[n],s=!1,l=n+1;l<i.length;l++){var h=i[l];if(h[0]<=a[0]&&h[1]<=a[1]&&a[2]<=h[2]&&a[3]<=h[3]){s=!0;break}}s||r.push(a)}i=r;for(var n=0;n<i.length;n++){for(var a=i[n],l=0;l<e.length;l++){var h=e[l],o=Math.max(a[0],h[0]),f=Math.min(a[2],h[2]),u=Math.max(a[1],h[1]),p=Math.min(a[3],h[3]);if(o<f&&u<p){var c=[];if(h[1]<a[1]){var d=h.slice(0);d[3]=a[1],c.push(d)}if(h[0]<a[0]){var g=h.slice(0);g[1]=u,g[2]=a[0],c.push(g)}if(a[2]<h[2]){var b=h.slice(0);b[1]=u,b[0]=a[2],c.push(b)}if(a[3]<h[3]){var m=[o,p,f,h[3]];c.push(m)}if(c.length!=0){e[l]=c[0];for(var x=1;x<c.length;x++)e.push(c[x])}}}e.push(a),e=v.rect.a8W(e)}return e.sort(function(M,S){return M[1]!=S[1]?M[1]-S[1]:M[0]-S[0]}),e},v.rect.a8W=function(t){t=t.slice(0);for(var i=0;i<t.length;i++){var e=t[i],r=null;if(e[4]==null){for(var n=0;n<t.length;n++){var a=t[n];if(!(i==n||a[4]!=null)){var s=e[0]==a[0],l=e[1]==a[1],h=e[2]==a[2],o=e[3]==a[3];if(l&&o&&(e[2]==a[0]||e[0]==a[2])&&(r=[Math.min(e[0],a[0]),e[1],Math.max(e[2],a[2]),e[3]]),s&&h&&(e[3]==a[1]||e[1]==a[3])&&(r=[e[0],Math.min(e[1],a[1]),e[2],Math.max(e[3],a[3])]),r){t[i]=r,t.splice(n,1);break}}}r&&i--}}return t},v.rect.Nl=function(t){for(var i=new et,e=0;e<t.length;e++)i=i.s7(t[e]);return i},v.rect.aiw=function(t,i){for(var e=v.rect.Nl,r=new UnionFind(t.length),n=1e3,a=1e3,s=0;s<t.length;s++)for(var l=s+1;l<t.length;l++)if(!!i){var h=t[s],o=t[l],f=1e9,u=1e9;if(h.dg(o)){r.link(s,l);continue}var p=h.x+h.Z,c=h.y+h.h,d=o.x+o.Z,g=o.y+o.h;if(!((p<o.x||d<h.x)&&(c<o.y||g<h.y))){c<o.y||g<h.y||(f=Math.min(Math.abs(p-o.x),Math.abs(h.x-d))),p<o.x||d<h.x||(u=Math.min(Math.abs(c-o.y),Math.abs(h.y-g)));var b=Math.min(f,u),m=Math.min(h.Z,h.h,o.Z,o.h);b<.3*m&&r.link(s,l)}}for(var x=[],M={},s=0;s<t.length;s++){var S=r.find(s),w=t[s];M[S]==null&&(M[S]=x.length,x.push([])),x[M[S]].push(w)}for(var k=[],T=[],s=0;s<x.length;s++){k.push(e(x[s]));var L=e(x[s]);L.q_=s,T.push(L)}T.sort(function(G,Z){return Math.max(Z.h,Z.Z)-Math.max(G.h,G.Z)});for(var O=new NETXUS.RectanglePacker(n,a);;){var E=!1;O.reset(n,a);for(var s=0;s<T.length;s++){var D=O.findCoords(T[s].Z,T[s].h);if(D)T[s].x=D.x,T[s].y=D.y;else{n=Math.floor(n*1.1),a=Math.floor(a*1.1),E=!0;break}}if(!E)break}for(var s=0;s<x.length;s++)for(var B=T[s],I=B.q_,N=k[I],V=x[I],j=B.x-N.x,R=B.y-N.y,l=0;l<V.length;l++)V[l].offset(j,R)},v.t$=function(){},v.t$.Tn=Math.floor(16*window.devicePixelRatio),v.t$.BQ={},v.t$.Tx=0,v.t$.bs=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]],v.t$.akH=["px","in","cm","mm","%"],v.t$.Cc=function(t,i,e){var r=i.NB,n=[1,r,r/2.54,r/25.4,i.Z/100][e];return t*n},v.t$.Rq=function(t,i,e,r,n){var a=e.Np.Md,s=[1,i,i/2.54,i/25.4,r/100][a],l=[2,3,2,1,2][a];t=t/s;var h=Math.round(t),o=a==0&&Math.abs(t-h)<1e-6?h+"":t.toFixed(l);return n&&(o+=" "+v.t$.akH[a]),o},v.t$.acp=function(t,i,e,r){var n=e.Np.Md,a=[1,i,i/2.54,i/25.4,r/100][n];return t=parseFloat(t)*a,t},v.t$.a8M=function(t,i){var e=Math.round(v.t$.Tn*.5);v.t$.Tx=e;var r=document.createElement("canvas");r.width=r.height=e;var n=r.getContext("2d");n.font=e*1.5+"px monospace";for(var a="0 1 2 3 4 5 6 7 8 9 -".split(" "),s=0;s<a.length;s++)n.fillStyle="#"+v.v2(i),n.fillRect(0,0,e,e),n.fillStyle="#"+v.v2(t),n.fillText(a[s],0,e),v.t$.BQ[a[s]]=n.getImageData(0,0,e,e).data},v.t$.ams=function(t,i,e){for(var r=0,n=0,a=4*v.t$.Tn,s=9;s>=0;s--){var l=Math.pow(10,s);if(5*l*t<=a){r=5*l,n=10;break}if(2*l*t<=a){r=2*l,n=4;break}if(1*l*t<=a){r=1*l,n=10;break}}r==0&&(r=1,n=10);var h=Math.ceil(r*t),o=v.R(h*v.t$.Tn*4);v.XB(o,4278190080|e);for(var s=0;s<v.t$.Tn;s++)v.t$.Hh(o,4*s*h,i);for(var s=0;s<h;s++)v.t$.Hh(o,4*((v.t$.Tn-1)*h+s),i);if(r==2&&(n=2),r==5&&(n=5),r>1||r==1&&h>20)for(var s=1;s<n;s++)v.t$.abB(o,s*(h/n),h,(s&1)==1?.8:.7,i);return{jX:o,step:r}},v.t$.abB=function(t,i,e,r,n){for(var i=Math.round(i),a=Math.round(v.t$.Tn*r);a<v.t$.Tn-1;a++)v.t$.Hh(t,4*(a*e+i),n)},v.t$.Hh=function(t,i,e){t[i+0]=e>>16&255,t[i+1]=e>>8&255,t[i+2]=e&255},v.t$.al_=function(t,i,e){var r=i&255,n=i>>8&255,a=i>>16&255,s,l,h,o;i=Math.round(r*.6)<<16|Math.round(n*.6)<<8|Math.round(a*.6),v.t$.a8M(Math.round(r*.8)<<16|Math.round(n*.8)<<8|Math.round(a*.8),e);var f=this.ams(t.F,i,e),u=t.PY(0,0),p=t.PY(t.xX.Z,t.xX.h),c=Math.floor(u.x/f.step)*f.step,d=Math.ceil(p.x/f.step)*f.step,g=Math.floor(u.y/f.step)*f.step,b=Math.ceil(p.y/f.step)*f.step,m=t._R(c,g),x=t._R(d,g),M=f.step*t.F,S=Math.ceil(M);s=t.Pq.data,l=new et(0,0,t.xX.Z,v.t$.Tn),h=new et(0,0,S,v.t$.Tn),o=new et(0,Math.round(v.t$.Tn*.08),v.t$.Tx,v.t$.Tx);for(var w=0;w<(d-c)/f.step;w++){h.x=Math.round(m.x+w*M),v.BP(f.jX,h,s,l,h);for(var k=(c+w*f.step).toString(10),T=0;T<k.length;T++){o.x=h.x+3+T*Math.round(v.t$.Tx*.8);var L=v.t$.BQ[k[T]];v.BP(L,o,s,l,o)}}for(var O=new Uint32Array(f.jX.buffer),E=new Uint32Array(f.jX.length),D=0;D<S;D++)for(var B=0;B<v.t$.Tn;B++)E[D*v.t$.Tn+B]=O[B*S+D];f.jX=new Uint8Array(E.buffer),s=t.Yb.data,l=new et(0,0,v.t$.Tn,t.xX.h),h=new et(0,0,v.t$.Tn,S),o=new et(Math.round(v.t$.Tn*.2),0,v.t$.Tx,v.t$.Tx);for(var w=0;w<(b-g)/f.step;w++){h.y=Math.round(m.y+w*M),v.BP(f.jX,h,s,l,h);for(var k=Math.abs(g+w*f.step).toString(10),T=0;T<k.length;T++){o.y=h.y+3+T*Math.round(v.t$.Tx*1.15);var L=v.t$.BQ[k[T]];v.BP(L,o,s,l,o)}}},v.scale={},v.scale.w7=document.createElement("canvas"),v.scale.ui=v.scale.w7.getContext("2d"),v.scale.a8_=document.createElement("canvas"),v.scale.akW=v.scale.a8_.getContext("2d"),v.scale._$=function(t,i,e){var r=v.scale.w7,n=v.scale.ui;r.width=i,r.height=e;var a=new ImageData(new Uint8ClampedArray(t.buffer),i,e);return n.putImageData(a,0,0),n.createPattern(r,"repeat")},v.scale.ak5=function(t,i,e,r,n,a,s,l){var h=v.scale._6(t,e,r,n,a,s,l);v.Ae(h.data,i)},v.scale.ahe=function(t,i,e,r,n,a,s,l){var h=v.scale._6(t,e,r,n,a,s,l);v.Hk(h.data,i)},v.scale._6=function(t,i,e,r,n,a,s){var l=v.scale.w7,h=v.scale.ui;return l.width=i,l.height=e,h.rect(0,0,i,e),h.translate(a,s),h.scale(r,n),h.fillStyle=t,h.fill(),h.getImageData(0,0,i,e)},v.scale.O=function(t,i,e,r,n){var a=e.clone();a.nJ();var s=n.Z,l=n.h,h=v.D.z0(i).d;v.D.O(h,a,h);for(var o=v.D.YI(h).$X(n),f=o.x,u=o.y,p=f+o.Z,c=u+o.h,d=~~i.x,g=~~i.y,b=~~i.Z,m=~~i.h,x=u;x<c;x++)for(var M=f;M<p;M++){var S=M+.5,w=x+.5,k=e.m*S+e.p$*w+e.PV-d,T=e.i*S+e.xA*w+e.ye-g;0<=k&&0<=T&&k<b&&T<m&&(r[x*s+M]=t[~~T*b+~~k])}},v.scale.akF=function(t,i,e,r,n){var a=new Uint32Array(t.buffer),s=new Uint32Array(r.buffer),l=e.clone();l.nJ();var h=n.Z,o=n.h,f=v.D.z0(i).d;v.D.O(f,l,f);for(var u=v.D.YI(f).$X(n),p=u.x,c=u.y,d=p+u.Z,g=c+u.h,b=~~i.x,m=~~i.y,x=~~i.Z,M=~~i.h,S=c;S<g;S++)for(var w=p;w<d;w++){var k=w+.5,T=S+.5,L=e.m*k+e.p$*T+e.PV-b,O=e.i*k+e.xA*T+e.ye-m;0<=L&&0<=O&&L<x&&O<M&&(s[S*h+w]=a[~~O*x+~~L])}},v.scale.OM=function(t,i,e,r,n,a,s){s<1?v.scale.a5B(t,i,e,r,n,a,Math.round(1/s)):v.scale.ai4(t,i,e,r,n,a,s)},v.scale.sI=function(t,i,e,r,n,a,s,l){l&&(l=l.$X(new et(0,0,i,e))),t=new Uint32Array(t.buffer),r=new Uint32Array(r.buffer),s<1?v.scale.adJ(t,i,e,r,n,a,Math.round(1/s),l):v.scale.aia(t,i,e,r,n,a,s)},v.scale.ai4=function(t,i,e,r,n,a,s){for(var l=0;l<e;l++)for(var h=0;h<i;h++)for(var o=t[l*i+h],f=Math.min(s,n-h*s),u=Math.min(s,a-l*s),p=0;p<u;p++)for(var c=0;c<f;c++)r[(s*l+p)*n+s*h+c]=o},v.scale.a5B=function(t,i,e,r,n,a,s){for(var l=0;l<a;l++)for(var h=0;h<n;h++){for(var o=0,f=Math.min(s,i-h*s),u=Math.min(s,e-l*s),p=0;p<u;p++)for(var c=0;c<f;c++)o+=t[(s*l+p)*i+(s*h+c)];r[l*n+h]=Math.round(o/(f*u))}},v.scale.aia=function(t,i,e,r,n,a,s){for(var l=0;l<e;l++)for(var h=0;h<i;h++)for(var o=t[l*i+h],f=Math.min(s,n-h*s),u=Math.min(s,a-l*s),p=0;p<u;p++)for(var c=0;c<f;c++)r[(s*l+p)*n+s*h+c]=o},v.scale.adJ=function(t,i,e,r,n,a,s,l){var h=0,o=n,f=0,u=a;l&&(h=Math.floor(l.x/s),o=Math.ceil((l.x+l.Z)/s),f=Math.floor(l.y/s),u=Math.ceil((l.y+l.h)/s));for(var p=f;p<u;p++)for(var c=h;c<o;c++){for(var d=0,g=0,b=0,m=0,x=Math.min(s,i-c*s),M=Math.min(s,e-p*s),S=0;S<M;S++)for(var w=0;w<x;w++){var k=t[(s*p+S)*i+s*c+w],T=k>>>24;d+=T,g+=T*(k>>>16&255),b+=T*(k>>>8&255),m+=T*(k&255)}if(d!=0){var L=1/d;r[p*n+c]=d/(x*M)<<24|g*L<<16|b*L<<8|m*L}else r[p*n+c]=0}},v.K={},v.K.ahE=function(t,i,e){for(var r=128,n=0,a=e.Z,s=e.h,l=0;l<s;l++)for(var h=0;h<a;h++)t[n]>=r&&(h==0||t[n-1]<r||h==a-1||t[n+1]<r||l==0||t[n-a]<r||l==s-1||t[n+a]<r)&&(i[n]=255),n++},v.K.a4U=function(t,i,e,r){var n=new Uint32Array([4278190080,4294967295]),a=e.Z,s=e.h,l=0,h=0,o=a,f=s;r&&(l=r.x-e.x,h=r.y-e.y,o=l+r.Z,f=h+r.h);for(var u=new Uint8Array(i.buffer),p=new Uint32Array(i.buffer),c=h;c<f;c++)for(var d=l;d<o;d++){var g=c*a+d;(t[g]&128)!=0&&(c==0||(t[g-a]&128)==0||d==0||(t[g-1]&128)==0||d==a-1||(t[g+1]&128)==0||c==s-1||(t[g+a]&128)==0)&&(p[g]=n[(d+c&4)>>>2])}},v.K.ac5=function(t,i,e,r,n,a){var s=e.Z,l=e.h,h=0,o=0,f=s,u=l;r&&(h=r.x-e.x,o=r.y-e.y,f=h+r.Z,u=o+r.h);for(var p=new Uint8Array(i.buffer),c=new Uint32Array(i.buffer),d=o;d<u;d++)for(var g=h;g<f;g++){var b=d*s+g,m=t[b];n==1?c[b]=255-m>>>1<<24|255:c[b]=255<<24|(m<<16|m<<8|m)}},v.pv={},v.pv.f7=function(t,i,e){var r,n;if(e=="front"&&(r=t.rect.clone(),n=v.pv.a99),e=="union"&&(r=t.rect.s7(i.rect),n=v.pv.s7),e=="difference"&&(r=i.rect.clone(),n=v.pv.ahT),e=="intersection"&&(r=t.rect.$X(i.rect),n=v.pv.$X),e=="xor"&&(r=t.rect.s7(i.rect),n=v.pv.aaf),r.qr())return null;var a=v.R(r.M());v.Lj(i.channel,i.rect,a,r);var s=v.R(r.M());v.Lj(t.channel,t.rect,s,r),n(s,a,a);var l=v.xw(a,r);if(l.qr())return null;if(!l.Qn(r)){var h=v.R(l.M());v.Lj(a,r,h,l),a=h,r=l}return{channel:a,rect:r}},v.pv.a99=function(t,i,e){for(var r=0;r<t.length;r++)e[r]=t[r]},v.pv.s7=function(t,i,e){for(var r=0;r<t.length;r++)e[r]=Math.min(t[r]+i[r],255)},v.pv.ahT=function(t,i,e){for(var r=0;r<t.length;r++)e[r]=Math.max(i[r]-t[r],0)},v.pv.$X=function(t,i,e){for(var r=1/255,n=0;n<t.length;n++)e[n]=t[n]*i[n]*r},v.pv.aaf=function(t,i,e){for(var r=1/255,n=0;n<t.length;n++)e[n]=Math.min(t[n]+i[n],255)-t[n]*i[n]*r},v.sz=function(t,i){this.B=[],this.k5=[0],this.Y7=[],this.M1=[],this.xK=[0],this.un=[],this.Gf=[],this.rows=t,this.cols=i},v.sz.prototype.clone=function(){var t=this,i=t.rows,e=t.cols,r=new v.sz(i,e);return r.B=t.B.slice(0),r.k5=t.k5.slice(0),r.Y7=t.Y7.slice(0),r.M1=t.M1.slice(0),r.xK=t.xK.slice(0),r.un=t.un.slice(0),r.Gf=t.Gf.slice(0),r},v.sz.prototype.Wz=function(t,i,e){for(var r=this.k5.length-1,n=0;n<e;n++){var a=t[n],s=i[n];this.B.push(a),this.Y7.push(s),s==r?this.Gf.push(a==0?0:1/a):(this.M1.push(a),this.un.push(s))}this.k5.push(this.B.length),this.xK.push(this.M1.length)},v.sz.prototype.c$=function(t,i){var e=this,r=e.rows,n=e.B,a=e.Y7;i==null&&(i=new Array(r));for(var s=0;s<r;s++){for(var l=e.k5[s],h=e.k5[s+1],o=0;(h-l&3)!=0;)o+=n[l]*t[a[l]],l++;for(var f=l;f<h;f+=4)o+=n[f]*t[a[f]]+n[f+1]*t[a[f+1]]+n[f+2]*t[a[f+2]]+n[f+3]*t[a[f+3]];i[s]=o}return i},v.sz.prototype.multiply=function(t){return this.Rs(t.yT())},v.sz.prototype.Rs=function(t){for(var i=this,e=i.rows,r=i.cols,n=t.rows,a=new v.sz(e,n),s=i.Y7,l=t.Y7,h=0;h<e;h++){for(var o=[],f=[],u=i.k5[h],p=i.k5[h+1],c=0;c<n;c++){for(var d=t.k5[c],g=t.k5[c+1],b=0,m=u,x=d;m<p&&x<g;){for(var M=Math.max(s[m],l[x]);m<p&&s[m]<M;)m++;for(;x<g&&l[x]<M;)x++;m<p&&x<g&&s[m]==l[x]&&(b+=i.B[m++]*t.B[x++])}b!=0&&(o.push(b),f.push(c))}a.Wz(o,f,o.length)}return a},v.sz.prototype.yT=function(){for(var t=this.rows,i=this.cols,e=[],r=0;r<i;r++)e.push([[],[]]);for(var n=this.B,a=this.k5,s=this.Y7,r=0;r<t;r++)for(var l=a[r],h=a[r+1],o=l;o<h;o++){var f=e[s[o]];f[0].push(n[o]),f[1].push(r)}for(var u=new v.sz(i,t),r=0;r<i;r++)u.Wz(e[r][0],e[r][1],e[r][1].length);return u},v.sz.prototype.AA=function(){for(var t=this.rows,i=this.cols,e=new Array(t),r=this.B,n=this.k5,a=this.Y7,s=0;s<t;s++){for(var l=e[s]=new Array(i),h=0;h<i;h++)l[h]=0;for(var o=n[s],f=n[s+1],u=o;u<f;u++)l[a[u]]=r[u]}return e},v.sz.prototype.$J=function(t,i,e,r,n){function a(T,L,O,E){for(var D=T.length,B=0;B<D;B++)E[B]=T[B]-L[B]*O}function s(T,L,O,E){for(var D=T.length,B=0;(D-B&3)!=0;)E[B]=T[B]+L[B]*O,B++;for(var I=B;I<D;I+=4)E[I]=T[I]+L[I]*O,E[I+1]=T[I+1]+L[I+1]*O,E[I+2]=T[I+2]+L[I+2]*O,E[I+3]=T[I+3]+L[I+3]*O}function l(T,L,O){for(var E=T.length,D=0;D<E;D++)O[D]=T[D]*L[D]}function h(T,L){for(var O=T.length,E=0,D=0;(O-E&3)!=0;)D+=T[E]*L[E],E++;for(var B=E;B<O;B+=4)D+=T[B]*L[B]+T[B+1]*L[B+1]+T[B+2]*L[B+2]+T[B+3]*L[B+3];return D}var o=r!=null?2:1,f=Date.now(),u=0,p=this,c=t.slice(0),d=t.slice(0);p.c$(t,d),a(i,d,1,c);var g=this.Gf;o==0&&(g=c.slice(0),g.fill(1));var b=c.slice(0);l(g,c,b);for(var m=b.slice(0),x=h(c,b);;){p.c$(m,d);var M=x/h(m,d);if(s(t,m,M,t),a(c,d,M,c),(u&7)==0&&Math.sqrt(h(c,c))<e)break;if(o<=1)l(g,c,b);else{var S=c.slice(0);r.a8l(S,c),n.afX(b,S)}var w=h(c,b),k=w/x;s(b,m,k,m),x=w,u++}},v.sz.prototype.a3j=function(t,i,e,r){var n=Date.now(),a=1.96,s=0;e==null&&(e=5e-6),r==null&&(r=1e9);for(var l=1-a,h=this.rows,o=this.M1,f=this.xK,u=this.un,p=this.Gf;;){for(var c=0,d=0;d<h;d++){var g=i[d],b=f[d],m=f[d+1];if(m-b==4)g-=o[b]*t[u[b]]+o[b+1]*t[u[b+1]]+o[b+2]*t[u[b+2]]+o[b+3]*t[u[b+3]];else for(var x=b;x<m;x++)g-=o[x]*t[u[x]];var M=t[d]*l+p[d]*g*a,S=M-t[d];c+=S*S,t[d]=M}if(c/h<e||Date.now()>n+r)break}},v.sz.prototype.akD=function(t,i,e,r){var n=Date.now(),a=1.96,s=0;e==null&&(e=5e-5),r==null&&(r=1e9);for(var l=1-a,h=this.rows,o=this.M1,f=this.xK,u=this.un,p=this.Gf;;){for(var c=0,d=0;d<h;d++){for(var g=d*3,b=i[g],m=i[g+1],x=i[g+2],M=f[d],S=f[d+1],w=M;w<S;w++){var k=o[w],T=u[w]*3;b-=k*t[T+0],m-=k*t[T+1],x-=k*t[T+2]}var L=p[d]*a,O=t[g+0]*l+b*L,E=t[g+1]*l+m*L,D=t[g+2]*l+x*L,B=O-t[g+0],I=E-t[g+1],N=D-t[g+2];c+=.4*B*B+.5*I*I+.1*N*N,t[g+0]=O,t[g+1]=E,t[g+2]=D}if(c/h<e||Date.now()>n+r)break}},v.JH={},v.JH.Rn=function(t,i,e){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:t},Vrtc:{t:"doub",v:i},Cnty:{t:"bool",v:e}}}},v.JH.O=function(t,i){for(var e=0;e<t.length;e++){var r=t[e].v,n=i.aT(new st(r.Hrzn.v,r.Vrtc.v));r.Hrzn.v=Math.round(n.x),r.Vrtc.v=Math.round(n.y)}},v.JH.PN=function(t,i,e){for(var r=t.length-1,n=v.Aw.Di(r+1,r+2),a=1;a<r;a++)n[a][a-1]=1/(t[a]-t[a-1]),n[a][a]=2*(1/(t[a]-t[a-1])+1/(t[a+1]-t[a])),n[a][a+1]=1/(t[a+1]-t[a]),n[a][r+1]=3*((i[a]-i[a-1])/((t[a]-t[a-1])*(t[a]-t[a-1]))+(i[a+1]-i[a])/((t[a+1]-t[a])*(t[a+1]-t[a])));n[0][0]=2/(t[1]-t[0]),n[0][1]=1/(t[1]-t[0]),n[0][r+1]=3*(i[1]-i[0])/((t[1]-t[0])*(t[1]-t[0])),n[r][r-1]=1/(t[r]-t[r-1]),n[r][r]=2/(t[r]-t[r-1]),n[r][r+1]=3*(i[r]-i[r-1])/((t[r]-t[r-1])*(t[r]-t[r-1])),v.Aw.mm(n,e)},v.JH.a6I=function(t,i,e,r){if(t<=i[0])return e[0];if(t>=i[i.length-1])return e[i.length-1];for(var n=1;i[n]<t;)n++;var a=i[n],s=i[n-1],l=e[n],h=e[n-1],o=(t-s)/(a-s),f=r[n-1]*(a-s)-(l-h),u=-r[n]*(a-s)+(l-h),p=(1-o)*h+o*l+o*(1-o)*(f*(1-o)+u*o);return p},v.JH.bw=function(t,i,e,r){var n={IY:[t[0]],W1:[i[0]],H2:[]};r[0]=n;for(var a=1;a<t.length-1;a++)n.IY.push(t[a]),n.W1.push(i[a]),e[a]==!1&&(v.JH.PN(n.IY,n.W1,n.H2),n={IY:[t[a]],W1:[i[a]],H2:[]}),r[a]=n;n.IY.push(t[a]),n.W1.push(i[a]),v.JH.PN(n.IY,n.W1,n.H2),r[a]=n},v.JH.Oz=function(t,i,e,r){if(t<=i[0])return e[0];if(t>=i[i.length-1])return e[i.length-1];for(var n=1;i[n]<t;)n++;var a=r[n-1];return v.JH.a6I(t,a.IY,a.W1,a.H2)},v.JH.xz=function(t){for(var i={IY:[],W1:[],fQ:[]},e=0;e<t.length;e++)i.IY[e]=t[e].v.Hrzn.v,i.W1[e]=t[e].v.Vrtc.v,i.fQ[e]=t[e].v.Cnty?t[e].v.Cnty.v:!0;return i},v.JH.QV=function(t,i,e){var r=0,n=255;e&&(r=-1e9,n=1e9);var a=v.JH.xz(t),s=[];v.JH.bw(a.IY,a.W1,a.fQ,s);for(var l=[],h=0;h<i;h++)l[h]=1/255*Math.max(r,Math.min(n,v.JH.Oz(h*(255/(i-1)),a.IY,a.W1,s)));return l},v.JH.aax=function(t,i,e){for(var r=Math.round(t.length/20),n=i-t.length,a=e?(t[r]-t[0])/r:0,s=e?t[0]-n*a:t[t.length-1],l=[],h=0;h<n;h++)l.push(s+h*a);return e?l.concat(t):t.concat(l)},v.JH.AQ=function(t,i,e){var r=v.JH.xz(t),n=[];v.JH.bw(r.IY,r.W1,r.fQ,n);for(var a=new Uint8Array(i),s=i/256,l=0;l<i;l++)a[l]=Math.max(0,Math.min(i-1,v.JH.Oz(l*s,r.IY,r.W1,n)));return e&&(a[0]=0,a[1]>100&&(a[1]=.4*a[1]),a[2]>150&&(a[1]=.7*a[2])),a},v.JH.OY=function(t,i){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=i[t[r]];return e},v.JH.m2=function(t,i,e){var r=y.z("canvas","");r.width=i,r.height=e;var n=r.getContext("2d"),a=v.JH.AQ(t,256);n.scale(i/255,e/255),n.fillStyle="#fff",n.fillRect(0,0,255,255),n.fillStyle="#333",n.beginPath(),n.moveTo(0,255);for(var s=0;s<a.length;s++)n.lineTo(s,255-a[s]);return n.lineTo(255,255),n.closePath(),n.fill(),r.toDataURL()},v.style={},v.style.stroke=function(t,i,e,r){var n=e.Z,a=e.h,s=new Float64Array(n*a);v.style.QT(t,s,n,a),v.style.IH(i,e,s,e,r)},v.style.IH=function(t,i,e,r,n){var a=i.$X(r),s=a.Z,l=a.h;n+=.5;for(var h=a.x-i.x,o=a.y-i.y,f=i.Z,u=a.x-r.x,p=a.y-r.y,c=r.Z,d=0;d<l;d++)for(var g=(d+p)*c+u,b=(d+o)*f+h,m=0;m<s;m++){var x=Math.max(0,Math.min(1,n-e[g+m]));t[b+m]=Math.round(x*255)}},v.style.abV=function(t,i,e,r){for(var n=0;n<e;n++)for(var a=0;a<i;a++){var s=n*i+a,l=0,h=0,o=t[s];if(a==0||n==0?(l=t[s+1]-o,h=t[s+i]-o):a==e-1||n==i-1?(l=o-t[s-1],h=o-t[s-i]):(l=t[s+1]-t[s-1],h=t[s+i]-t[s-i]),l!=0||h!=0){var f=1/Math.sqrt(l*l+h*h);l*=f,h*=f}r[s+s]=l,r[s+s+1]=h}},v.style.QT=function(t,i,e,r){for(var n=0,a=e*r,s=0;s<a;s++)n|=t[s];if(n==0){i.fill(1e9);return}for(var l=v.style.uX(t,e,r),h=0;h<r;h++)for(var o=0;o<e;o++){var s=h*e+o,f=l[s*2],u=l[s*2+1],p=(h+u)*e+o+f;if(f==0&&u==0){i[s]=0;continue}var c=Math.sqrt(f*f+u*u),d=t[p]*(1/255),g=1/c,b=Math.abs(f)*g,m=Math.abs(u)*g;if(m>b){var x=m;m=b,b=x}i[s]=c+v.style.a54(b,m,d)}},v.style.a54=function(t,i,e){return(.5-e)*t},v.style.uX=function(t,i,e,r){if(r==null){r=!0;for(var n=0;n<t.length;n++)r=r&&(t[n]==0||t[n]==255)}var a=new Int16Array(i*e*2);return r?v.style.a8V(t,a,i,e):v.style.adh(t,a,i,e),a},v.style.adh=function(t,i,e,r){for(var n=e*r,a=0;a<n;a++)t[a]==0&&(i[a*2]=16383,i[a*2+1]=16383);for(var s=1;s<=r-1;s++){for(var a=s*e,l=0;l<=e-1;l++)v.style.PD(i,t,e,a+l<<1,-1);for(var l=1;l<=e-1;l++)v.style.MO(i,t,e,a+l<<1,-1);for(var l=e-2;l>=0;l--)v.style.MO(i,t,e,a+l<<1,1)}for(var s=r-2;s>=0;s--){for(var a=s*e,l=0;l<=e-1;l++)v.style.PD(i,t,e,a+l<<1,1);for(var l=1;l<=e-1;l++)v.style.MO(i,t,e,a+l<<1,-1);for(var l=e-2;l>=0;l--)v.style.MO(i,t,e,a+l<<1,1)}},v.style.MO=function(t,i,e,r,n){var a=(r>>>1)+n<<1,s=t[r],l=t[r+1],h=t[a]+n,o=t[a+1],f=h*h+o*o,u=s*s+l*l;o!=16383&&(s==16383||Math.sqrt(f)+(.5-i[(r>>>1)+o*e+h]*(1/255))<Math.sqrt(u)+(.5-i[(r>>>1)+l*e+s]*(1/255)))&&(t[r]=h,t[r+1]=o)},v.style.PD=function(t,i,e,r,n){var a=(r>>>1)+n*e<<1,s=t[r],l=t[r+1],h=t[a],o=t[a+1]+n,f=h*h+o*o,u=s*s+l*l;h!=16383&&(s==16383||Math.sqrt(f)+(.5-i[(r>>>1)+o*e+h]*(1/255))<Math.sqrt(u)+(.5-i[(r>>>1)+l*e+s]*(1/255)))&&(t[r]=h,t[r+1]=o)},v.style.a8V=function(t,i,e,r){for(var n=e*r,a=0;a<n;a++)t[a]==0&&(i[a*2]=16383,i[a*2+1]=16383);for(var s=1;s<=r-1;s++){for(var a=s*e,l=0;l<=e-1;l++)v.style.Wl(i,t,e,a+l<<1,-1);for(var l=1;l<=e-1;l++)v.style.yK(i,t,e,a+l<<1,-1);for(var l=e-2;l>=0;l--)v.style.yK(i,t,e,a+l<<1,1)}for(var s=r-2;s>=0;s--){for(var a=s*e,l=0;l<=e-1;l++)v.style.Wl(i,t,e,a+l<<1,1);for(var l=1;l<=e-1;l++)v.style.yK(i,t,e,a+l<<1,-1);for(var l=e-2;l>=0;l--)v.style.yK(i,t,e,a+l<<1,1)}},v.style.yK=function(t,i,e,r,n){var a=(r>>>1)+n<<1,s=t[r],l=t[r+1],h=t[a]+n,o=t[a+1],f=h*h+o*o,u=s*s+l*l;o!=16383&&(s==16383||f<u)&&(t[r]=h,t[r+1]=o)},v.style.Wl=function(t,i,e,r,n){var a=(r>>>1)+n*e<<1,s=t[r],l=t[r+1],h=t[a],o=t[a+1]+n,f=h*h+o*o,u=s*s+l*l;h!=16383&&(s==16383||f<u)&&(t[r]=h,t[r+1]=o)},v.style.a16=function(t,i,e,r,n){for(var a=e*r,s=(e+r+1)*1.01,l=0;l<a;l++)t[l]<=n&&(i[l]=s);for(var h=1;h<e;h++)i[h]=Math.min(i[h],i[h-1]);for(var o=1;o<r;o++){var l=o*e;i[l]=Math.min(i[l],Math.min(i[l-e]+1,i[l-e+1]+Math.SQRT2));for(var h=1;h<e-1;h++){var f=i[++l],u=Math.min(i[l-1]+1,Math.min(i[l-e-1]+Math.SQRT2,Math.min(i[l-e]+1,i[l-e+1]+Math.SQRT2)));u<f&&(i[l]=u)}l++,i[l]=Math.min(i[l],Math.min(i[l-1]+1,Math.min(i[l-e-1]+Math.SQRT2,i[l-e]+1)))}for(var h=e-2;h>=0;h--)i[h+a-e]=Math.min(i[h+a-e],i[h+a-e+1]);for(var o=r-2;o>=0;o--){var l=o*e+e-1;i[l]=Math.min(i[l],Math.min(i[l+e]+1,i[l+e-1]+Math.SQRT2));for(var h=e-2;h>=1;h--){var f=i[--l],u=Math.min(i[l+1]+1,Math.min(i[l+e-1]+Math.SQRT2,Math.min(i[l+e]+1,i[l+e+1]+Math.SQRT2)));u<f&&(i[l]=u)}l--,i[l]=Math.min(i[l],Math.min(i[l+1]+1,Math.min(i[l+e]+1,i[l+e+1]+Math.SQRT2)))}},v.style.ajV=function(t,i,e,r,n){var a=new Int32Array(e*r);v.style.a9z(t,a,e,r,n),v.style.a4S(a,i,e,r)},v.style.a9z=function(t,i,e,r,n){for(var a=new Int32Array(r),s=0;s<e;s++){for(var l=e+r,h=r-1;h>=0;h--)t[h*e+s]>n?l=0:l++,a[h]=l;l=e+r;for(var h=0;h<r;h++)t[h*e+s]>n?l=0:l++,i[h*e+s]=l<a[h]?-l:a[h]}},v.style.a4S=function(t,i,e,r){for(var n=(e+r)*(e+r),a=new Float64Array(e),s=new Uint16Array(e),l=0;l<r;l++){var h=l*e,o=0;s[0]=0,a[0]=-n,a[1]=+n;for(var f=1;f<e;f++){for(var u=t[f+h]*t[f+h]+f*f,p=(u-(t[s[o]+h]*t[s[o]+h]+s[o]*s[o]))/(2*f-2*s[o]);p<=a[o];)o--,p=(u-(t[s[o]+h]*t[s[o]+h]+s[o]*s[o]))/(2*f-2*s[o]);o++,s[o]=f,a[o]=p,a[o+1]=n}o=0;for(var f=0;f<e;f++){for(;a[o+1]<f;)o++;var c=s[o]-f,d=t[s[o]+h],g=l*e+f<<1;i[g]=c,i[g+1]=d}}},v.style.Jo=function(t,i,e){if(e)for(var r=0;r<t.length;r++){var n=t[r];n>0&&(t[r]=Math.max(0,Math.min(255,n+i*2*(v.style.kY(r)-128))))}else for(var r=0;r<t.length;r++){var n=t[r];n>0&&(t[r]=Math.max(0,Math.min(255,n+Math.min(n*3,i*2*(v.style.kY(r)-128)))))}},v.style.kY=function(t){return t=t^61^t>>16,t=t+(t<<3),t=t^t>>4,t=t*668265261,t=t^t>>15,t&255},v.ZL={},v.ZL.vP=function(t,i,e){var r=t.canvas,n=y.J(),a=Math.floor;(r.width!=a(i*n)||r.height!=a(e*n))&&y.Tv(r,i,e,t)},v.ZL.dp=function(t,i,e,r,n,a){v.ZL.vP(t,i,e),a==null&&(a=!1);var s=n.channel,l=n.rect,h=!n.isEnabled;if(i=Math.floor(i*y.J()),e=Math.floor(e*y.J()),i*e!=0){for(var o=t.createImageData(i,e),f=o.data,u=1/i,p=1/e,c=0;c<e;c++)for(var d=0;d<i;d++){var g=c*i+d,b=g*4,m=Math.round(r.x+d*u*r.Z),x=Math.round(r.y+c*p*r.h),M=0;m<l.x||m>=l.x+l.Z||x<l.y||x>=l.y+l.h?M=n.color:M=s[(x-l.y)*l.Z+(m-l.x)],M=255*(255-n.au)+M*n.au>>>8,a&&(M=170+Math.round(.4*(M-170))),f[b]=M,f[b+1]=M,f[b+2]=M,f[b+3]=255}t.putImageData(o,0,0),h&&v.ZL.AI(t,i,e)}},v.ZL.ahC=function(t,i,e,r){t.fillStyle="#eeeeee",t.fillRect(.6*i,.6*e,i,e),t.lineWidth=1.5;var n=.65*i,a=.95*i,s=.65*e,l=.95*e,h=.75*i,o=.85*i,f=.75*e,u=.85*e;t.beginPath(),t.moveTo(n,s),t.lineTo(a,s),t.lineTo(a,l),t.lineTo(n,l),t.lineTo(n,s),t.moveTo(h,f),t.lineTo(o,f),t.lineTo(o,u),t.lineTo(h,u),t.lineTo(h,f),t.closePath(),t.stroke()},v.ZL.sE=[],v.ZL.a7d=function(t,i,e){var r,n,a,s=y.J();i=Math.floor(s*i),e=Math.floor(s*e),r=Math.ceil(Math.max(i,e)*.35),n=i-r,a=e-r;var l=v.ZL.sE[r];if(l==null){var h=y.z("canvas"),o=h.getContext("2d");h.width=h.height=r,o.fillStyle="#eeeeee",o.fillRect(0,0,r,r),o.lineWidth=1,o.strokeRect(2.5,2.5,r-5,r-5);var f=o.createImageData(3,3);v.XB(f.data,4278190080),f.data[4*4]=f.data[4*4+1]=f.data[4*4+2]=238,o.putImageData(f,1,1),o.putImageData(f,r-4,1),o.putImageData(f,1,r-4),o.putImageData(f,r-4,r-4),l=v.ZL.sE[r]=o.getImageData(0,0,r,r)}t.putImageData(l,n,a)},v.ZL.a5I=function(t,i,e,r,n){v.ZL.vP(t,i,e),i=Math.floor(i*y.J()),e=Math.floor(e*y.J());var a=i/r.Z;if(i*e!=0){t.fillStyle="#999999",t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,i,e);var s=v.ZL.dB;s==null&&(s=v.ZL.dB=JSON.parse(JSON.stringify(at.bW.default)),s.strokeEnabled.v=!0),s.strokeStyleLineWidth.v.val=1*y.J()/a,t.fillStyle="#ffffff",t.scale(a,a),v.V.Wm(n.b,t,0,0),v.V.Wm(n.b,t,0,0,s)}},v.ZL.gF=null,v.ZL.Eo=function(t,i,e,r,n,a,s,l){if(v.ZL.vP(t,i,e),i=Math.floor(i*y.J()),e=Math.floor(e*y.J()),i*e!=0){var h=Math.max(i,e),o=v.ZL.gF;(o==null||o.width<h||o.height<h)&&(v.ZL.gF=o=t.createImageData(h,h)),h=o.width;for(var f=o.data,u=r.Z/i,p=r.h/e,c=1/255,d=a.x,g=a.x+a.Z,b=a.y,m=a.y+a.h,x=0;x<e;x++)for(var M=0;M<i;M++){var S=x*h+M,w=S*4,k=~~(r.x+M*u),T=~~(r.y+x*p),L=v.FC(x,M,2);if(k<d||k>=g||T<b||T>=m)f[w]=L,f[w+1]=L,f[w+2]=L,f[w+3]=255;else{var O=(T-a.y)*a.Z+(k-a.x)<<2,E=n[O+3]*c;f[w]=n[O+0]*E+L*(1-E),f[w+1]=n[O+1]*E+L*(1-E),f[w+2]=n[O+2]*E+L*(1-E),f[w+3]=255}}if(l!=null)for(var x=0;x<f.length;x+=4)f[x]=f[x+1]=f[x+2]=f[x+l];t.putImageData(o,0,0),s&&v.ZL.AI(t,i,e)}},v.ZL.a5w=function(t,i,e,r){v.ZL.vP(t,i,e),t.fillStyle=v.ZL.T6(r.Clr.v),t.fillRect(0,0,i,e),v.ZL.ls(t,i,e)},v.ZL.kK=null,v.ZL.amE=function(t,i,e,r){v.ZL.vP(t,i,e);var n=t.canvas.width,a=t.canvas.height,s=v.ZL.kK;s==null||s.width!=n||s.height!=a?(t.fillStyle="#ffffff",t.fillRect(0,0,i,e),t.fillStyle="#000000",t.font=""+e*.7+"px serif",t.fillText("T",(i-e*.43)/2,e*.75),t.fillText("T",(i-e*.43)/2,e*.75),v.ZL.kK=t.getImageData(0,0,n,a)):t.putImageData(s,0,0)},v.ZL.a3s=function(t,i,e){v.ZL.vP(t,i,e),t.clearRect(0,0,i,e),t.font=e*.7+"px serif",t.fillText(":(",(i-e*.43)/2,e*.7)},v.ZL.a7k=function(t,i,e,r){v.ZL.vP(t,i,e);var n=Vt.get(r),a=Lt.get(Vt.names[n]).substring(0,3);t.fillStyle="#ffffff",t.fillRect(0,0,i,e),t.fillStyle="#000000",t.font=e*.55+"px sans-serif";var s=t.measureText(a);t.fillText(a,(i-s.width)/2,e*.67),t.fillRect(0,0,i,e*.1),t.fillRect(0,e*.9,i,e*.1)},v.ZL.a5R=function(t,i,e,r){v.ZL.vP(t,i,e);var n=t.canvas.width,a=t.canvas.height,s=t.getImageData(0,0,n,a);v.j.ao(r.Grad.v,new Uint8Array(s.data.buffer),new et(0,0,n,a),[1/n,0,0,1/a],n/2,a/2,!1,0,16711680,65280),t.putImageData(s,0,0),v.ZL.ls(t,i,e)},v.ZL.ail=function(t,i,e,r,n){v.ZL.vP(t,i,e);var a=t,s=St.tc(r.Ptrn.v,n.add.Patt);if(s!=null){var l=s.Jx[1];v.ZL.Eo(t,i,e,l,s.Jx[0],l,!1),v.ZL.ls(a,i,e)}},v.ZL.AI=function(t,i,e){t.strokeStyle="#bb0000",t.lineWidth=3,t.beginPath(),t.moveTo(i*.15,e*.15),t.lineTo(i*.85,e*.85),t.moveTo(i*.85,e*.15),t.lineTo(i*.15,e*.85),t.closePath(),t.stroke()},v.ZL.AI=function(t,i,e){t.strokeStyle="#bb0000",t.lineWidth=3,t.beginPath(),t.moveTo(i*.15,e*.15),t.lineTo(i*.85,e*.85),t.moveTo(i*.85,e*.15),t.lineTo(i*.15,e*.85),t.closePath(),t.stroke()},v.ZL.ls=function(t,i,e){t.fillStyle="#eeeeee",t.fillRect(0,e*.75,i,e*.25),t.beginPath(),t.moveTo(0,e*.75),t.lineTo(i,e*.75),t.moveTo(i*.1,e*.875),t.lineTo(i*.9,e*.875),t.moveTo(i*.65,e*.825),t.lineTo(i*.65,e*.95),t.closePath(),t.stroke()},v.ZL.T6=function(t){var i=v.j.T6(t),e=Math.round(i.U)<<16|Math.round(i.S)<<8|Math.round(i.i);return"#"+v.v2(e)},v.V={},v.V.dq=function(t,i,e){for(var r=[],n=-1,a=0;a<t.length;a++){var s=t[a];(s.type==0||s.type==3)&&s.IO!=-1&&n++,!(s.type>5||s.type==0||s.type==3)&&(i!=null&&i.indexOf(n)==-1||e!=null&&e.indexOf(a)==-1||(r.push(s.wU.x),r.push(s.wU.y),r.push(s._.x),r.push(s._.y),r.push(s.dv.x),r.push(s.dv.y)))}return r},v.V.eu=function(t,i,e,r){for(var n=0,a=-1,s=0;s<i.length;s++){var l=i[s];(l.type==0||l.type==3)&&l.IO!=-1&&a++,!(l.type>5||l.type==0||l.type==3)&&(e!=null&&e.indexOf(a)==-1||r!=null&&r.indexOf(s)==-1||(l.wU.Oh(t[n],t[n+1]),l._.Oh(t[n+2],t[n+3]),l.dv.Oh(t[n+4],t[n+5]),n+=6))}},v.V.G5=function(t,i,e,r){var n=v.V.dq(t,e,r);v.D.O(n,i,n),v.V.eu(n,t,e,r)},v.V.ajB=function(t,i,e,r){var n=v.V.dq(t,e,r);v.P.apply(i,n),v.V.eu(n,t,e,r)},v.V.af3=function(t,i,e,r){if(e==null&&r==null)for(var n=v.V.a4V(t,40),a=0;a<n.length;a++)t[a]=n[a];var s=v.V.dq(t,e,r);v.ea.apply(i,s,v.D.nP(s)),v.V.eu(s,t,e,r)},v.V.a4V=function(t,i){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n.type>5){e.push(JSON.parse(JSON.stringify(n)));continue}var a=v.V.agU(t,r+1,n.length);a=v.D.Tm(a,i);var s=v.V.a9$(a);r+=n.length,n=JSON.parse(JSON.stringify(n)),n.length=s.length,e.push(n);for(var l=0;l<s.length;l++)e.push(s[l])}return e},v.V.agU=function(t,i,e){var r={W:["M"],d:[]},n=t[i],a=t[i+e-1];r.d.push(n._.x,n._.y);for(var s=1;s<e;s++){var l=t[i+s-1],h=t[i+s];r.W.push("C"),r.d.push(l.dv.x,l.dv.y,h.wU.x,h.wU.y,h._.x,h._.y)}return r.W.push("C"),r.d.push(a.dv.x,a.dv.y,n.wU.x,n.wU.y,n._.x,n._.y),r},v.V.a9$=function(t){var i=[],e=t.W,r=t.d,n=0,a=r.length;i.push({type:2,wU:new st(r[a-4],r[a-3]),_:new st(r[0],r[1]),dv:new st(r[2],r[3])});for(var s=0;s<e.length-2;s++){var l=s*6+4;i.push({type:2,wU:new st(r[l],r[l+1]),_:new st(r[l+2],r[l+3]),dv:new st(r[l+4],r[l+5])})}return i},v.V.a6c=function(t){for(var i=0;i<t.length;i++)if(!(t[i].type>5)){var e=t[i].length;if(!(e==4||e==6||e==8)){i+=e;continue}for(var r=0;r<e;r++){var n=t[i+1+r],a=t[i+1+(r+1)%e],s=Math.min(n._.x,a._.x),l=Math.min(n._.y,a._.y),h=0,o=0;if(n._.x<a._.x?(h=n._.y-l,o=h-(a._.x-s)):(h=a._.y-l,o=h-(n._.x-s)),Math.abs(o)<.2*h)return h}}return-1},v.V.ue=function(t,i){for(var e=null,r=-1,n=0;n<t.length;n++)if(!(t[n].type>5)){var a=t[n].length;if((t[n].type==0||t[n].type==3)&&t[n].IO!=-1&&r++,!(i!=null&&i.indexOf(r)==-1)){if(n==t.length-1)break;var s=t[n].type==3;if(e==null)e=v.V.qv(t,n+1,a,s);else{var l=v.V.qv(t,n+1,a,s);if(i!=null||t[n].IO==0||t[n].IO==-1||t[n].IO==1){var h=Math.min(e.x,l.x),o=Math.min(e.y,l.y),f=Math.max(e.x+e.Z,l.x+l.Z),u=Math.max(e.y+e.h,l.y+l.h);e.x=h,e.y=o,e.Z=f-h,e.h=u-o}else t[n].IO==2?e=e:t[n].IO==3&&(e=e.$X(l))}n+=a}}return(e==null||e.Z<0||e.h<0)&&(e=new et(0,0,0,0)),e},v.V.ajk=new Float64Array(4),v.V.qv=function(t,i,e,r){var n=v.V.ajk;n[0]=1e30,n[1]=1e30,n[2]=-1e30,n[3]=-1e30;var a=t[i+e-1];r||v.V.Rt(a._.x,a._.y,a.dv.x,a.dv.y,t[i].wU.x,t[i].wU.y,t[i]._.x,t[i]._.y,n);for(var s=i;s<i+e-1;s++){var l=t[s],h=t[s+1];l._.Qn(l.dv)&&h.wU.Qn(h._)?(n[0]=Math.min(n[0],Math.min(l._.x,h._.x)),n[1]=Math.min(n[1],Math.min(l._.y,h._.y)),n[2]=Math.max(n[2],Math.max(l._.x,h._.x)),n[3]=Math.max(n[3],Math.max(l._.y,h._.y))):v.V.Rt(l._.x,l._.y,l.dv.x,l.dv.y,h.wU.x,h.wU.y,h._.x,h._.y,n)}return new et(n[0],n[1],n[2]-n[0],n[3]-n[1])},v.V.Rt=function(t,i,e,r,n,a,s,l,h){for(var o=1e30,f=1e30,u=-1e30,p=-1e30,c=40,d=e-t,g=r-i,b=n-e,m=a-r,x=s-n,M=l-a,S=1/c,w=0;w<c+1;w++){var k=w*S,T=t+k*d,L=i+k*g,O=e+k*b,E=r+k*m,D=n+k*x,B=a+k*M,I=T+k*(O-T),N=L+k*(E-L),V=O+k*(D-O),j=E+k*(B-E),R=I+k*(V-I),G=N+k*(j-N);R<o&&(o=R),G<f&&(f=G),R>u&&(u=R),G>p&&(p=G)}h[0]=Math.min(h[0],o),h[1]=Math.min(h[1],f),h[2]=Math.max(h[2],u),h[3]=Math.max(h[3],p)},v.V.rJ=function(t,i){var e=t.length-3,r=i%e,n=Math.floor(r);if(i<0||n>=e)return null;var a=t[3+n],s=t[3+(n+1)%e],l=a._,h=a.dv,o=s.wU,f=s._,u=r-n,p=1-u,c=p*p*p*l.x+3*p*p*u*h.x+3*p*u*u*o.x+u*u*u*f.x,d=p*p*p*l.y+3*p*p*u*h.y+3*p*u*u*o.y+u*u*u*f.y;return new st(c,d)},v.V.j3=function(t){for(var i=2,e=v.V.k3(t),r=!1,n=!1,a=2;a<t.length;a++){var s=t[a].IO;s!=null&&((s==2||s==0)&&(r=!0),s==-1&&(n=!0))}if(n){var l=v.D.xJ(t);return{Q7:Typr.U.pathToSVG({crds:l.d,cmds:l.W},i),RL:r?1:0}}r&&t.length<5e3&&e>1&&(t=v.V.XE(t));var l=v.D.xJ(t);return{Q7:Typr.U.pathToSVG({crds:l.d,cmds:l.W},i),RL:r?1:0}},v.V.XE=function(t){v.V.wt();for(var i,e=v.V.XK(t),r=[],n=0;n<e.length;n++){var a=e[n][0],s=e[n][1];Math.abs(a.area)<1e-5?r.push(a):i==null?i=a:(i=i[s](a),i.remove())}if(i==null)i=new paper.CompoundPath(r);else{i.segments&&(i=new paper.CompoundPath(i));for(var n=0;n<r.length;n++)i.children.push(r[n])}var l=t.slice(0,2);l=l.concat(v.V.UG(i)),l[2]&&(l[2].IO=1);for(var n=3;n<l.length;n++)l[n].IO!=null&&(l[n].IO=-1);return l},v.V.wt=function(){if(v.V.a4s==null){var t=y.z("canvas");paper.setup(t),v.V.a4s=!0}},v.V.aiz=function(t,i){v.V.wt();var e=[],r=v.V.XK(t),n=new paper.Path.Rectangle(new paper.Rectangle(i.x,i.y,i.Z,i.h));n.remove(),n.fillColor=new paper.Color(1,0,0);for(var a=0;a<r.length;a++)(n.intersects(r[a][0])||n.contains(r[a][0].segments[0].point))&&e.push(a);return e},v.V.cp=function(t,i,e,r){v.V.wt();for(var n=e?{curves:!0,tolerance:r}:null,a=new paper.Point(i.x,i.y),s=v.V.XK(t),l=s.length-1;l>=0;l--){var h=s[l][0],o=h.hitTest(a,n);if(o!=null)return{XN:l,_2:e?o.location.index:null}}return{XN:-1}},v.V.Wh=function(t,i){for(var e=[[],[],[]],r=0;r<t.length;r++){var n=t[r];n.type>5||n.type==0||n.type==3||(i.oz(n._)&&e[0].push(r),i.oz(n.wU)&&e[1].push(r),i.oz(n.dv)&&e[2].push(r))}return e},v.V.a2x=function(t,i,e){for(var r=e.slice(0),n=[null,null],a=-1,s=null,l=2;l<t.length;l++)(t[l].type==0||t[l].type==3)&&t[l].IO!=-1&&a++,n[l]=e[a];e=n;var h=t.slice(0,2);n=e.slice(0,2);for(var l=2;l<t.length;l++)t[l].type==0||t[l].type==3?(s=t[l],h.push(s),n.push(e[l])):i.indexOf(l)==-1?(h.push(t[l]),n.push(e[l])):(s.length--,v.P$.tq(e,l));for(var l=2;l<h.length;l++){var o=h[l];o.type!=0&&o.type!=3||o.length==0&&(h[l+1]&&h[l+1].IO==-1&&(h[l+1].IO=o.IO),n.splice(l,1),h.splice(l,1),l--)}for(var l=0;l<r.length;l++)n.indexOf(r[l])==-1&&(r.splice(l,1),l--);return h},v.V.acI=function(t,i){for(var e=t.slice(0,2),r=-1,n=2;n<t.length;n++)(t[n].type==0||t[n].type==3)&&t[n].IO!=-1&&r++,i.indexOf(r)==-1&&e.push(t[n]);return e},v.V.aa4=function(t,i){for(var e=t.slice(0,2),r=-1,n=2;n<t.length;n++)(t[n].type==0||t[n].type==3)&&t[n].IO!=-1&&r++,i.indexOf(r)!=-1&&e.push(t[n]);return e},v.V.a4b=function(t){for(var i=0,e=0;e<t.length;e++)(t[e].type==0||t[e].type==3)&&(i=e);return t[i]},v.V.k3=function(t){for(var i=-1,e=0;e<t.length;e++)(t[e].type==0||t[e].type==3)&&t[e].IO!=-1&&i++;return i+1},v.V.cx=function(t,i,e){for(var r=-1,n=0;n<t.length;n++)if((t[n].type==0||t[n].type==3)&&(e||t[n].IO!=-1)&&(r++,r==i))return n;return-1},v.V.o_=function(t,i,e){for(var r=-1,n=0;n<t.length;n++)if((t[n].type==0||t[n].type==3)&&(e||t[n].IO!=-1)){if(n>=i)return r;r++}return r},v.V.SD=function(t,i){for(var e=-1,r=0,n=0;n<t.length;n++)(t[n].type==0||t[n].type==3)&&t[n].IO!=-1&&e++,e==i&&r++;return r},v.V.UG=function(t){for(var i=t.segments?[t]:t.children,e=[],r=0;r<i.length;r++){var n=i[r],a=n.segments,s=n.closed?0:3,l=e.length,h=null;if(!(a.length<=1)){e.push({type:s,length:a.length,IO:0,yU:2});for(var o=0;o<a.length;o++){var f=a[o],u=new st(f.handleIn.x,f.handleIn.y),p=new st(f.handleOut.x,f.handleOut.y),c=new st(f.point.x,f.point.y),d={type:s+1,wU:c.add(u),_:c,dv:c.add(p)};if(h==null&&(h=d),e.push(d),o+1==a.length&&st.Yj(h._,d._)<1e-5&&(e.pop(),e[l].length--,h.wU=d.wU,s==3))for(var g=l;g<e.length;g++)e[g].type-=3}}}return e},v.V.XK=function(t){v.V.wt();for(var i=[],e,r=new paper.Color(1,0,0),n=0;n<t.length;n++)if(!(t[n].type>5)){var a=t[n].length,s;if(n==t.length-1)break;var l=t[n].type==3;n==2?v.V.vq(t)?s="unite":s="subtract":(t[n].IO==0&&(s="exclude"),t[n].IO==1&&(s="unite"),t[n].IO==2&&(s="subtract"),t[n].IO==3&&(s="intersect")),t[n].IO!=-1&&(e=[]);for(var h=0;h<a;h++){var o=t[n+1+h],f=o.wU.gI(o._),u=o.dv.gI(o._);e.push([[o._.x,o._.y],[f.x,f.y],[u.x,u.y]])}if(t[n+1+a]==null||t[n+1+a].IO!=-1){var p=new paper.Path(e);p.remove(),p.closed=!l,p.fillRule="evenodd",p.fillColor=r,i.push([p,s])}n+=a}return i},v.V.BG=function(t){for(var i=0;i<t.length;i++){var e=t[i];if(e._!=null&&(!e._.Qn(e.wU)||!e._.Qn(e.dv)))return!1}return!0},v.V.alI=function(t){if(t.length<=5)return 0;for(var i=0,e=t.length-3-1,r=0;r<e;r++){var n=t[3+r],a=t[3+r+1];if(n.type==0||a.type==0)return 0;i+=(a._.x-n._.x)*(n._.y+a._.y)}return i+=(t[3]._.x-t[3+e]._.x)*(t[3+e]._.y+t[3+1]._.y),-i*.5},v.V.vq=function(t){if(t.length==2)return t[1].all==0;var i=t[2];return t[1].all==1?i.IO==1||i.IO==3:i.IO==1||i.IO==3||i.IO==0},v.V.akS=0,v.V.KX=0,v.V.afV=0,v.V.aex=function(t,i,e,r){if(!e.qr()){var n=e.M(),a=16384;v.V.akS+=n,n>v.V.KX&&(v.V.KX=n);var s=e.Z,l=e.h;if(r==null&&v.V.BG(t)){for(var h=!0,o=2;o<t.length;)if(t[o].length==2)o+=3;else{h=!1;break}if(h)return;if(v.V.wY(t)){i.fill(255);var f=v.V.ue(t);if(f.M()!=n){var u=1-(f.x-e.x),p=1-(f.y-e.y),c=1-(e.x+e.Z-(f.x+f.Z)),d=1-(e.x+e.h-(f.x+f.h)),g=~~(u*255),b=~~(c*255),m=~~(p*255),x=~~(d*255);i.fill(m,0,s),i[0]=~~(u*p*255),i[s-1]=~~(c*p*255);for(var o=s;o<n;o+=s)i[o]=g,i[o+s-1]=b;i.fill(x,(l-1)*s,l*s),i[n-s]=~~(u*d*255),i[n-1]=~~(c*d*255)}return}}for(var M=v.ob,S=v.xX,w=Math.ceil(s/a),k=Math.ceil(l/a),T=Math.ceil(s/w),L=Math.ceil(l/k),O=Date.now(),E=0;E<k;E++)for(var D=0;D<w;D++){var B=D*T,I=E*L,N=T,V=L;M.width=N,M.height=V,v.V.vq(t)||S.fillRect(0,0,N,V),v.V.Wm(t,S,-e.x-B,-e.y-I,r);var j=new Uint8Array(S.getImageData(0,0,N,V).data.buffer);N==s&&V==l?v.E4(j,i,3):v._h(j,new et(B,I,N,V),i,new et(0,0,s,l))}}},v.V.Wm=function(t,i,e,r,n){if(n!=null&&n.fillEnabled.v){for(var a=!1,s=!1,l=0,h=0;h<t.length;h++){var o=t[h].IO;o!=null&&l++,o==-1&&(a=!0),o>0&&(s=!0)}!a&&l<20&&(t=v.V.XE(t))}for(var h=0;h<t.length;h++)if(!(t[h].type>5)){var f=t[h].length;if(f!=0){if(h==t.length-1)break;var u=t[h].type==3;if(h==2)v.V.vq(t)?i.globalCompositeOperation="source-over":i.globalCompositeOperation="destination-out";else{var o=t[h].IO;if(o!=-1&&n==null){var p=["xor","source-over","destination-out","source-in"][o];i.globalCompositeOperation=p}}if(t[h].IO!=-1&&(i.beginPath(),n)){for(var c=n.strokeStyleLineWidth.v.val,d=n.strokeStyleLineAlignment.v.strokeStyleLineAlignment,g=n.strokeStyleLineCapType.v.strokeStyleLineCapType,b=n.strokeStyleLineJoinType.v.strokeStyleLineJoinType,m=n.strokeStyleMiterLimit.v,x=[],M=n.strokeStyleLineDashSet.v,S=0;S<M.length;S++)x.push(M[S].v.val*c);i.setLineDash(x),i.lineCap=["butt","round","square"][at.bW.Bb.indexOf(g)],i.lineJoin=["miter","round","bevel"][at.bW.join.indexOf(b)],i.lineWidth=at.bW.Ph.indexOf(d)==1?c:c*=2,i.miterLimit=m}v.V.ahi(i,t,h+1,f,e,r,u),u||i.closePath(),(t[h+1+f]==null||t[h+1+f].IO!=-1)&&(n?i.stroke():i.fill("evenodd")),h+=f}}},v.V.ahi=function(t,i,e,r,n,a,s){var l=i[e],h=null;t.moveTo(l._.x+n,l._.y+a);for(var o=e;o<e+r-1;o++)l=i[o],h=i[o+1],t.bezierCurveTo(l.dv.x+n,l.dv.y+a,h.wU.x+n,h.wU.y+a,h._.x+n,h._.y+a);s||(l=i[o],h=i[e],t.bezierCurveTo(l.dv.x+n,l.dv.y+a,h.wU.x+n,h.wU.y+a,h._.x+n,h._.y+a))},v.V.a9=function(t,i,e){var r=[],n=e?4:1,a=!1;if(i!=null){for(var s=0;s<i.length;s++)if(i[s]!=0){a=!0;break}}if(i!=null&&a)for(var l=v.D.a6i(t,i),h=l.length/6,s=0;s<h;s++){var o=s*6,f=(s-1+h)%h*6,u=l[o],p=l[o+1],c=l[o+2],d=l[o+3],g=l[f+4],b=l[f+5];r.push({type:n,wU:new st(g,b),_:new st(u,p),dv:new st(c,d)})}else for(var s=0;s<t.length;s+=2){var m=new st(t[s],t[s+1]);r.push({type:n,wU:m.clone(),_:m.clone(),dv:m.clone()})}return r},v.V.bY=function(t,i){v.V.wt();var e=new paper.Path;e.remove();var r=t.length-1,n=Math.sqrt((t[r-1]-t[0])*(t[r-1]-t[0])+(t[r]-t[1])*(t[r]-t[1]))<3;e.closed=n;for(var a=0;a<t.length;a+=2)e.add(new paper.Point(t[a],t[a+1]));e.simplify(i);var s=[{type:6},{type:8,all:0}];return s=s.concat(v.V.UG(e)),s},v.V.FN=function(t,i,e){for(var r=t[i].length,n=t[i].type,a=0,s=t.slice(i+1,i+1+r),l=0;l<r;l++){var h=e[(l-1+r)%r],o=e[(l+1+r)%r],f=e[l];if(f!=0){var u=s[(l-1+r)%r]._,p=s[(l+0+r)%r]._,c=s[(l+1+r)%r]._,d=st.Yj(p,u),g=st.Yj(p,c),b=v.D.mg(u.x,u.y,p.x,p.y,c.x,c.y,f)[0],m=Math.min(b,h==0?d:d/2,o==0?g:g/2);f*=m/b;var x=v.D.Az(u.x,u.y,p.x,p.y,c.x,c.y,f),M={type:n+1,wU:new st(x[2],x[3]),_:new st(x[2],x[3]),dv:new st(x[4],x[5])},S={type:n+1,wU:new st(x[6],x[7]),_:new st(x[8],x[9]),dv:new st(x[8],x[9])};t.splice(i+a+1,1,M,S),a++,t[i].length++}a++}},v.V.BG=function(t){for(var i=0;i<t.length;i++){var e=t[i],r=e.type;if((r==1||r==2||r==4||r==5)&&(!e._.Qn(e.wU)||!e._.Qn(e.dv)))return!1}return!0},v.V.wY=function(t){if(t.length!=7||!v.V.BG(t))return!1;for(var i=0;i<4;i++){for(var e=!0,r=0;r<4;r++){var n=t[3+(i+r&3)],a=t[3+(i+r+1&3)];n._.x!=a._.x&&n._.y!=a._.y&&(e=!1)}if(e)return!0}return!1},v.V.Ny={},v.V.Ny.JF=function(t,i,e){var r=[{type:6},{type:8,all:0}],n=null;if(r.push({type:e?3:0,IO:1,length:0,Oj:0,UB:0,yU:1}),i==0)n==null;else if(i instanceof Array)n=i;else{n=[];for(var a=0;a<t.length;a+=2)n.push(i)}return r=r.concat(v.V.a9(t,n,e)),r[2].length=r.length-3,r},v.V.Ny.a79=function(t,i,e,r,n){var a=[],s=[],l=.553,h=1,o=-1;a.push({type:1,wU:new st(0,l),_:new st(0,0),dv:new st(0,-l)}),n+=2;for(var f=0;f<n;f++){var u={type:1};if(f==0)u._=new st(1,-1),u.wU=new st(1-l,-1),u.dv=new st(1+l,-1);else{var p=-(f+2)*Math.PI/2,c=1+((f&1)==1?f-1:f),d=Math.sin(p),g=Math.cos(p);h+=c*(d-g),o+=c*(g+d),u._=new st(h,o),u.wU=new st(h+c*g*l,o-c*d*l),(f&1)==1&&(c+=2),u.dv=new st(h-c*g*l,o+c*d*l)}var b={type:1,wU:new st(-u.dv.x,-u.dv.y),_:new st(-u._.x,-u._.y),dv:new st(-u.wU.x,-u.wU.y)};a.push(u),f<n-2&&s.push(b)}s.reverse(),a=a.concat(s);var m=[{type:6},{type:8,all:0}];m.push({type:0,IO:1,length:a.length,Oj:0,UB:0,yU:1}),m=m.concat(a);var x=new Et(e/n,0,0,e/n,0,0);return x.rotate(r),x.translate(t,i),v.V.G5(m,x),m},v.V.Ny.Rect=function(t,i,e,r,n){var a=[t,i,t+e,i,t+e,i+r,t,i+r];return v.V.Ny.JF(a,n)},v.V.Ny.qF=function(t,i,e,r,n,a){for(var s=[],l=2*Math.PI/n,h=0;h<n;h++)s.push(Math.cos(h*l),Math.sin(h*l));var o=new Et(e,0,0,e,0,0);return o.rotate(r),o.translate(t,i),v.D.O(s,o,s),v.V.Ny.JF(s,a)},v.V.Ny.alV=function(t,i,e,r,n,a,s){for(var l=[],h=Math.PI/n,o=0;o<n*2;o++){var f=(o&1)==0?1:s;l.push(f*Math.cos(o*h),f*Math.sin(o*h))}var u=new Et(e,0,0,e,0,0);return u.rotate(r),u.translate(t,i),v.D.O(l,u,l),v.V.Ny.JF(l,a)},v.V.Ny.Qe=function(t,i,e,r,n){return v.V.Ny.SB(0,t,i,e,r,n)},v.V.Ny.ago=function(t,i,e,r,n,a){return v.V.Ny.SB(1,t,i,e,r,n,a)},v.V.Ny.SB=function(t,i,e,r,n,a,s){var l=Math.sqrt((r-i)*(r-i)+(n-e)*(n-e)),h;if(a/=2,t==0)h=[-a,0,a,0,a,l,-a,l];else{var o=a*2*s*1.3/1.5,f=a*s;h=[-a,0,a,0,a,l-o,f,l-o,0,l,-f,l-o,-a,l-o]}var u=new Et(1,0,0,1,0,0);return u.rotate(Math.atan2(-n+e,r-i)+Math.PI/2),u.translate(i,e),v.D.O(h,u,h),v.V.Ny.JF(h,0)},v.V.Ny.VO=function(t,i,e,r){var n=[{type:6},{type:8,all:0}],a=.553;n.push({type:0,IO:1,length:4,Oj:0,UB:0,yU:1});var s=t,l=i,h=t+e,o=i+r,t=(s+h)/2,i=(l+o)/2,f=(s-h)/2,u=(l-o)/2;return n.push({type:1,wU:new st(t-a*f,i-u),_:new st(t,i-u),dv:new st(t+a*f,i-u)}),n.push({type:1,wU:new st(t+f,i-a*u),_:new st(t+f,i),dv:new st(t+f,i+a*u)}),n.push({type:1,wU:new st(t+a*f,i+u),_:new st(t,i+u),dv:new st(t-a*f,i+u)}),n.push({type:1,wU:new st(t-f,i+a*u),_:new st(t-f,i),dv:new st(t-f,i-a*u)}),n},v.V.Ny.a8Y=function(t,i,e,r,n){var a=[{type:6},{type:8,all:0}];a.push({type:3,IO:1,length:5,Oj:0,UB:0,yU:1});for(var s=(n-r)/4,l=0;l<5;l++){var h=l*s,o=Math.cos(h),f=Math.sin(h),u=.553*(s/(Math.PI/2)),p=f*u,c=-o*u,d=new st(o,f);a.push({type:4,wU:l==0?d.clone():new st(o+p,f+c),_:d,dv:l==4?d.clone():new st(o-p,f-c)})}var g=new Et;return g.rotate(-r),g.scale(e,e),g.translate(t,i),v.V.G5(a,g),a},v.mD={},v.mD.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]},v.mD.O8=function(t){var i=t.warpStyle.v.warpStyle;if(i=="warpNone")return!0;if(i=="warpCustom"){for(var e=!1,r=t.customEnvelopeWarp.v.meshPoints.v.arr,n=r[0].arr,a=r[1].arr,s=0;s<4;s++)for(var l=0;l<4;l++)(Math.abs(n[s]-n[l*4+s])>1||Math.abs(a[s*4]-a[s*4+l])>1)&&(e=!0);return!e}else return t.warpValue.v==0&&t.warpPerspective.v==0&&t.warpPerspectiveOther.v==0},v.mD.R=function(t){var i={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};return t&&(i.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:t.y}},Left:{t:"UntF",v:{type:"#Pxl",val:t.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:t.y+t.h}},Rght:{t:"UntF",v:{type:"#Pxl",val:t.x+t.Z}}}},i.uOrder={t:"long",v:4},i.vOrder={t:"long",v:4}),i},v.mD.a7e=function(t,i,e,r){for(var n=0;n<t.length;n+=2){var a=t[n],s=t[n+1],l=(a-i.x)/i.Z,h=(s-i.y)/i.h,o=(1-e)/2,f=1-o,u=o+l*(f-o);h=.5+(h-.5)*u*2;var p=(1-r)/2,c=1-p,d=p+h*(c-p);l=.5+(l-.5)*d*2,a=i.x+l*i.Z,s=i.y+h*i.h,t[n]=a,t[n+1]=s}},v.mD.SL=function(t,i){for(var e=[],r=[],n=0;n<t.length;n+=2)e.push(t[n]),r.push(t[n+1]);var a=[];a.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:e}),a.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:r}),i.warpStyle.v.warpStyle="warpCustom",i.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:a}}}}},v.mD.ij=function(t,i){if(i==null){var e=t.bounds.v,r=e.Left.v.val,n=e.Rght.v.val,a=e.Top.v.val,s=e.Btom.v.val;i=new et(r,a,n-r,s-a)}i.qr()&&(i.Z=i.h=1);var l=[],h=t.warpStyle.v.warpStyle;if(h=="warpCustom")for(var o=t.customEnvelopeWarp.v.meshPoints.v.arr,f=o[0].arr,u=o[1].arr,p=0;p<16;p++)l.push(f[p],u[p]);else l=v.mD.mD(i,h,t.warpRotate.v.Ornt=="Hrzn",t.warpValue.v/100,t.warpPerspective.v/100,t.warpPerspectiveOther.v/100);return l},v.mD.mD=function(t,i,e,r,n,a){var s=v.ea.R(t.x,t.y,t.Z,t.h);if(i=="warpNone")return s;var l=JSON.parse(JSON.stringify(t)),h=new Et;if(e||(h.translate(-t.x,-t.y),h.rotate(-Math.PI/2),h.translate(t.h,0),v.D.O(s,h,s),t=new et(0,0,t.h,t.Z),s=v.ea.Qs(s,!1)),v.mD.adu(s,t,i,r,n,a),e||(s=v.ea.Qs(s,!0),t=l,h.nJ(),v.D.O(s,h,s)),r==0)v.mD.a7e(s,t,n,a);else{var h=new Et(1/t.Z,0,0,1/t.h,-t.x,-t.y);h.translate(-.5,-.5),v.D.O(s,h,s),v.mD.a1F(s,a,n),h.nJ(),v.D.O(s,h,s)}return s},v.mD.adu=function(t,i,e,r,n,a){for(var s=0;s<4;s++)for(var l=0;l<4;l++){var h=2*(4*s+l),o=t[h]-i.x,f=t[h+1]-i.y,u=o,p=f;if(r!=0){var c=i.Z/2,d=i.h/2;u-=c,p-=d;var g=u,b=u,m=-d,x=d,M=Math.abs(r),S=Math.tan((1-M)*Math.PI/2),w=Math.sqrt(S*S+1),k=Math.atan2(1,S),T=u/c*k,L=c*w,O=c*w+i.h,E=Math.cos(k),D=Math.sin(k),B=v.mD.agQ(E,D),I=v.mD.a78(E,D),N=-S*c+B*L;if(e=="warpArc"&&(g=Math.sin(T)*O,m=S*c-Math.cos(k)*O+d,b=Math.sin(T)*L,x=S*c-Math.cos(k)*L+d,(l==1||l==2)&&(g=l==1?-I*O:I*O,b=l==1?-I*L:I*L,m=S*c+d-B*O,x=S*c+d-B*L),r<0)){var V=g;g=b,b=V,V=m,m=-x,x=-V}e=="warpArcLower"&&(l==1||l==2)&&(b=l==1?-I*L:I*L,x=r<0?d-N:d+N),(e=="warpArcUpper"||e=="warpArch"||e=="warpBulge")&&((l==1||l==2)&&(g=l==1?-I*L:I*L,m=r<0?-d+N:-d-N),e=="warpArch"&&(b=g,x=m+2*d),e=="warpBulge"&&(b=g,x=-m)),(e=="warpFish"||e=="warpFlag"||e=="warpWave")&&(l==1&&(m-=r*4*d,x+=r*4*d),l==2&&(m+=r*4*d,x-=r*4*d),(e=="warpFlag"||e=="warpWave")&&(m=x-2*d)),e=="warpRise"&&(l<2&&(m=-d+r*d*4),x=m+2*d);var j=(p+d)/i.h;if(u=g+j*(b-g),p=m+j*(x-m),e=="warpWave"&&(s==0&&(p=-d),s==3&&(p=d),(s==1||s==2)&&(p=2*d*(s/3-.5)*(1/3)+p*(2/3))),e=="warpFisheye"&&(s==1||s==2)&&(l==1||l==2)&&(u=u+4*u*r,p=p+4*p*r),e=="warpInflate"){var R=2/3;(s==1||s==2)&&(l==1||l==2)?(u=u+.5*u*r,p=p+.5*p*r):s==1||s==2?u=u+R*u*r:(l==1||l==2)&&(p=p+R*p*r)}if(e=="warpSqueeze"){var R=2/3;(s==1||s==2)&&(l==1||l==2)?r>0?u=u-R*u*r:p=p+R*p*r:s==1||s==2?u=u-R*u*r:(l==1||l==2)&&(p=p+R*p*r)}if(e=="warpTwist"&&(s==1||s==2)&&(l==1||l==2)){var G=r*Math.PI/2,w=1+Math.abs(r)*2,Z=u*Math.cos(G)-p*Math.sin(G),_=u*Math.sin(G)+p*Math.cos(G);u=Z*w,p=_*w}if(e=="warpShellLower"||e=="warpShellUpper"){if(e=="warpShellUpper"&&(s=3-s,p=-p),s>2||s==2&&(l==0||l==3))if(r>0){var U=L+s/3*2*d;u=Math.sin(T)*U,p=-S*c-d+Math.cos(T)*U,(l==1||l==2)&&(u=l==1?-I*U:I*U,p=-S*c-d+B*U)}else(l==1||l==2)&&s==3?(u=l==1?-I*L:I*L,p=S*c-B*L+d):s==2&&(p=d-d*(2/3)*Math.cos(T),u=u+d*(2/3)*Math.sin(T));e=="warpShellUpper"&&(s=3-s,p=-p)}u+=c,p+=d}o=u,f=p,t[h]=o+i.x,t[h+1]=f+i.y}},v.mD.a1F=function(t,i,e){for(var r=[],n=0;n<4;n++)r.push(1-e+n/3*2*e);for(var a=[],n=0;n<4;n++)a.push(1-i+n/3*2*i);for(var s=[0,0,0,0],l=[0,0,0,0],h=0;h<4;h++)for(var n=0;n<4;n++){var o=2*(4*h+n),f=t[o],u=t[o+1];s[n]+=f/4,l[n]+=u/4}for(var h=0;h<4;h++)for(var n=0;n<4;n++){var p=r[n],o=2*(4*h+n),f=t[o],u=t[o+1],c=s[n],d=l[n];t[o]=c+p*(f-c),t[o+1]=d+p*(u-d)}for(var g=t.slice(0),h=0;h<4;h++)for(var n=1;n<3;n++){var o=2*(4*h+n),f=t[o],u=t[o+1],b=o+(n==1?-2:2),m=t[b],x=t[b+1];t[o]=f-m,t[o+1]=u-x}for(var M=t[0],S=t[1],w=t[8],k=t[9],T=t[16],L=t[17],O=t[24],E=t[25],D=t[6],B=t[7],I=t[14],N=t[15],V=t[22],j=t[23],R=t[30],G=t[31],Z=D-M,_=B-S,U=I-w,Y=N-k,$=V-T,P=j-L,tt=R-O,X=G-E,h=0;h<4;h++){var ht=2*h*4,F=0,J=0,Q=h==1?.33:.66,rt=1-Q;h==0&&(F=Z,J=_),h==1&&(F=rt*Z+Q*-tt,J=rt*_+Q*-X),h==2&&(F=rt*Z+Q*-tt,J=rt*_+Q*-X),h==3&&(F=-tt,J=-X),t[ht]=t[ht]+F/2,t[ht+1]=t[ht+1]+J/2,t[ht+6]=t[ht+6]-F/2,t[ht+7]=t[ht+7]-J/2}for(var h=0;h<4;h++)for(var n=1;n<3;n++){var o=2*(4*h+n),f=t[o],u=t[o+1],b=o+(n==1?-2:2),m=t[b],x=t[b+1],p=2*h/3;t[o]=m+p*f,t[o+1]=x+p*u}for(var h=1;h<3;h++)for(var n=1;n<3;n++){var o=2*(4*h+n),f=t[o],u=t[o+1],it=h==1?-8:-16,nt=h==1?16:8,ot=t[o+it],pt=t[o+it+1],yt=t[o+nt],ct=t[o+nt+1],p=h/3;f=(1-p)*ot+p*yt,u=(1-p)*pt+p*ct,t[o]=f,t[o+1]=u}v.D.bu(g,t,t,i)},v.mD.agQ=function(t,i){return(4-t)*(1/3)},v.mD.a78=function(t,i){return(1-t)*(3-t)/(3*i)},v.FV={},v.FV.OM=function(t,i,e,r,n,a,s,l,h,o){for(var f=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],u=1/h,p=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],c=new Uint32Array(6),d=0;d<l;d++)for(var g=0;g<s;g++){var b=3*(d*s+g),m=d+a,x=g+n;c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=0;for(var M=0;M<16;M+=2){var S=x+p[M],w=m+p[M+1],k=S-h*~~(S*u),T=w-h*~~(w*u),L=o[T*h+k];c[L]+=t[w*i+S],c[L+3]++}var S=x,w=m,k=S-h*~~(S*u),T=w-h*~~(w*u),L=o[T*h+k];c[L]=t[m*i+x],c[L+3]=1,r[b]=c[0]*f[c[3]],r[b+1]=c[1]*f[c[4]],r[b+2]=c[2]*f[c[5]]}},v.FV.Bn=function(t,i,e){for(var r=0;r<e;r+=2)t[i+r]=t[i+r+1];i=i+e;for(var r=0;r<e;r+=2)t[i+r+1]=t[i+r]},v.FV.QH=function(t,i,e,r){for(var n=0;n<r;n+=2){var a=i+n*e;t[a]=t[a+e],t[a+e+1]=t[a+1]}},v.FV.xN=function(t,i,e,r,n,a){var s=r[n],l=r[n+1],h=r[a],o=r[a+1],f=l+h>>>1;t[i]=t[i+3]=t[e]=t[e+3]=s,t[i+1]=f,t[i+4]=l,t[e+1]=h,t[e+4]=f,t[i+2]=t[i+5]=t[e+2]=t[e+5]=o},v.FV.afP=function(t,i,e,r,n,a){for(var s=a*3,l=0;l<a;l+=2){var h=i+l,o=n+l*3;v.FV.xN(r,o,o+s,t,h,h+e)}},v.FV.a50=function(t,i,e,r,n,a,s){for(var l=a*3,h=0;h<s;h+=2){var o=i+h*e,f=n+h*a*3;v.FV.xN(r,f,f+l,t,o,o+e)}},v.FV.i4=function(t,i,e){var r=t[i-e-e],n=t[i-e],a=t[i-2],s=t[i-1],l=t[i],h=t[i+1],o=t[i+2],f=t[i+e],u=t[i+e+e],p=Math.abs(n-f),c=Math.abs(s-h),d=Math.abs(l-r)*2+p,g=Math.abs(l-o)*2+c,b=Math.abs(l-a)*2+c,m=Math.abs(l-u)*2+p,x=Math.min(d,Math.min(g,Math.min(b,m)));return x==d?n*3+f+l-r>>2:x==g?h*3+s+l-o>>2:x==b?s*3+h+l-a>>2:f*3+n+l-u>>2},v.FV.Fd=function(t,i,e,r,n){return t<i&&i<e||t>i&&i>e?~~(.5+r+(n-r)*(i-t)/(e-t)):(r+n>>1)+(i+i-t-e>>2)},v.FV.pX=function(t,i,e,r){var n=i[e-r-1],a=i[e-r+1],s=i[e],l=i[e+r-1],h=i[e+r+1],o=t[e-r-1],f=t[e-r+1],u=t[e],p=t[e+r-1],c=t[e+r+1],d=Math.abs(f-p)+Math.abs(t[e-r-r+2]-u)+Math.abs(u-t[e+r+r-2])+Math.abs(a-s)+Math.abs(s-l),g=Math.abs(o-c)+Math.abs(t[e-r-r-2]-u)+Math.abs(u-t[e+r+r+2])+Math.abs(n-s)+Math.abs(s-h);return d<g?v.FV.Fd(a,s,l,f,p):v.FV.Fd(n,s,h,o,c)},v.FV.UH=function(t,i,e,r,n,a){t[i+0]=e[n],t[i+1]=r[n],t[i+2]=v.FV.pX(e,r,n,a)},v.FV.L2=function(t,i,e,r,n,a){var s=r[n];t[i+0]=v.FV.Fd(r[n-1],s,r[n+1],e[n-1],e[n+1]),t[i+1]=s,t[i+2]=v.FV.Fd(r[n-a],s,r[n+a],e[n-a],e[n+a])},v.FV.on=function(t,i,e,r,n,a){var s=r[n];t[i+0]=v.FV.Fd(r[n-a],s,r[n+a],e[n-a],e[n+a]),t[i+1]=s,t[i+2]=v.FV.Fd(r[n-1],s,r[n+1],e[n-1],e[n+1])},v.FV.V1=function(t,i,e,r,n,a){t[i+0]=v.FV.pX(e,r,n,a),t[i+1]=r[n],t[i+2]=e[n]},v.FV.ahL=function(t,i,e,r,n,a,s,l,h){var o=Date.now(),f=2,u=i-2,p=2;(n&1)==1&&(f++,u--);var c=e-2;(a&1)==1&&(p++,c--),(h==1||h==3)&&(f++,u--);var d=t.slice(0);v.FV.Bn(d,0,i),v.FV.QH(d,0,i,e),v.FV.QH(d,i-2,i,e),v.FV.Bn(d,(e-2)*i,i);for(var g=p;g<c;g+=2)for(var b=f;b<u;b+=2){var m=g*i+b,x=v.FV.i4(d,m,i),M=v.FV.i4(d,m+i+1,i);d[m]=Math.max(0,x),d[m+i+1]=Math.max(0,M)}var S=s,w=l;if(a+l==e&&(w-=2,v.FV.afP(t,(e-2)*i+n,i,r,(l-2)*s*3,s)),n+s==i&&(S-=2,v.FV.a50(t,a*i+n+s-2,i,r,(s-2)*3,s,l)),h==0)for(var g=0;g<w;g+=2)for(var b=0;b<S;b+=2){var k=(g+a)*i+b+n,T=(g*s+b)*3;v.FV.UH(r,T,t,d,k,i),v.FV.L2(r,T+3,t,d,k+1,i),k+=i,T+=3*s,v.FV.on(r,T,t,d,k,i),v.FV.V1(r,T+3,t,d,k+1,i)}else if(h==1)for(var g=0;g<w;g+=2)for(var b=0;b<S;b+=2){var k=(g+a)*i+b+n,T=(g*s+b)*3;v.FV.L2(r,T,t,d,k,i),v.FV.UH(r,T+3,t,d,k+1,i),k+=i,T+=3*s,v.FV.V1(r,T,t,d,k,i),v.FV.on(r,T+3,t,d,k+1,i)}else if(h==2)for(var g=0;g<w;g+=2)for(var b=0;b<S;b+=2){var k=(g+a)*i+b+n,T=(g*s+b)*3;v.FV.V1(r,T,t,d,k,i),v.FV.on(r,T+3,t,d,k+1,i),k+=i,T+=3*s,v.FV.L2(r,T,t,d,k,i),v.FV.UH(r,T+3,t,d,k+1,i)}else if(h==3)for(var g=0;g<w;g+=2)for(var b=0;b<S;b+=2){var k=(g+a)*i+b+n,T=(g*s+b)*3;v.FV.on(r,T,t,d,k,i),v.FV.V1(r,T+3,t,d,k+1,i),k+=i,T+=3*s,v.FV.UH(r,T,t,d,k,i),v.FV.L2(r,T+3,t,d,k+1,i)}},v.raw={},v.raw.acA=function(t){var i=t.width,e=t.height,r=Date.now(),n=v.raw.afA(t),a=0,s=0;v.raw.A1(2,t,n,i,e);var l=i,h=e;if(t.t50829){var o=t.t50829;a=o[1],s=o[0],l=o[3],h=o[2]}if(t.t50719){var f=t.t50719;a+=f[0]>>1<<1,s+=f[1]>>1<<1}if(t.t50720){var u=t.t50720;l=a+u[0],h=s+u[1]}var p=l-a,c=h-s,d=new Float32Array(p*c*3);if(t.t277[0]==1){var g=t.t33421;if(g.length!=2||g[0]!=2||g[1]!=2)console.log("Unknown CFA pattern size",g),v.FV.OM(n,i,e,d,a,s,p,c,g[0],t.t33422);else{var b=t.t33422.join(","),m=0;if(b=="0,1,1,2")m=0;else if(b=="1,0,2,1")m=1;else if(b=="2,1,1,0")m=2;else if(b=="1,2,0,1")m=3;else throw"Unknown CFA pattern "+b;if((p&1)!=0||(c&1)!=0)throw"e";v.FV.ahL(n,i,e,d,a,s,p,c,m)}}else for(var x=0;x<c;x++)for(var M=0;M<p;M++){var S=((x+s)*i+M+a)*3,w=(x*p+M)*3;d[w+0]=n[S+0],d[w+1]=n[S+1],d[w+2]=n[S+2]}for(var k=d,T=d.length,L=v.raw.afN(t),O=1/L,E=0;E<T;E+=3)d[E]=Math.min(1,k[E]*O),d[E+1]=Math.min(1,k[E+1]*O),d[E+2]=Math.min(1,k[E+2]*O);v.raw.A1(3,t,d,p,c);var D=t.Ss,B=p,I=c;if(!(D==1||D==9)){var N=v.raw.QU(D,p,c),w=0;B=N[0],I=N[1];for(var V=d.slice(0),x=0;x<I;x++)for(var M=0;M<B;M++){var j=N[2]*M+N[3]*x+N[4],R=N[5]*M+N[6]*x+N[7],S=(R*p+j)*3;d[w]=V[S],d[w+1]=V[S+1],d[w+2]=V[S+2],w+=3}}return{Ww:d,kN:B,xh:I}},v.raw.QU=function(t,i,e){var r=i,n=e;if(t==3)return[i,e,-1,0,i-1,0,-1,e-1];if(t==6)return[e,i,0,1,0,-1,0,e-1];if(t==8)return[e,i,0,-1,i-1,1,0,0];throw"unknown orientation "+t},v.raw.Ly=function(t,i,e,r){var n=t.Ww,a=Math.round(n.length/3),s=Jr.ab0(r[0],r[1]),l=v.raw.ajO(e,s),h=v.t1.multiply(v.t1.ro,l),o=Math.pow(2,r[2]+(e.t50730?e.t50730[0]:0));h=v.t1.multiply(h,v.t1.$O(o,o,o));for(var f=e.t50728?e.t50728:[1,1,1],u=[f[1]/f[0],f[2]/f[0],f[0]/f[1],f[2]/f[1],f[0]/f[2],f[1]/f[2]],p=new Float64Array(1e3),c=0;c<1e3;c++){var d=c*(1/999);d=c==999?1:v.SU(c*(1/999)),d=v.raw.EH.aic(d,r[3]/100),p[c]=d}for(var g=Date.now(),c=0;c<a;c++){var b=c<<2,m=b-c,x=n[m],M=n[m+1],S=n[m+2];if(M>=.92){var w=Math.min(x,S);w==x?(M=Math.max(M,u[0]*x),S=Math.max(S,u[1]*x)):(x=Math.max(x,u[4]*S),M=Math.max(M,u[5]*S))}var k=h[0]*x+h[1]*M+h[2]*S,T=h[4]*x+h[5]*M+h[6]*S,L=h[8]*x+h[9]*M+h[10]*S;k<0?k=0:k>1&&(k=1),T<0?T=0:T>1&&(T=1),L<0?L=0:L>1&&(L=1),k=p[~~(k*999)],T=p[~~(T*999)],L=p[~~(L*999)],i[b]=~~(.5+k*255),i[b+1]=~~(.5+T*255),i[b+2]=~~(.5+L*255)}},v.raw.EH={aic:function(t,i){var e=.5-.5*Math.cos(t*3.2),r=0;if(i>0){var n=t*.2;r=n*t+(1-n)*e}else{var a=Math.pow(t,.33);r=(1-a)*a+a*(t+(t-e)*.63)}var s=Math.abs(i);return s*r+(1-s)*t},a0z:function(t,i){var e=0;if(i>0){var r=t*1.47,n=Math.pow(t,2.4);e=Math.min(1,n*t+(1-n)*r)}else{var r=t*.68,n=Math.pow(t,3);e=n*t*.5+(1-n)*r}var a=Math.abs(i);return a*e+(1-a)*t},a4B:function(t,i){var e=0;if(i>0){var r=Math.pow(t,.3),n=t;e=(1-t)*r+t*n}else{var r=Math.pow(t,2.5),a=t,n=t;e=Math.min(1,(1-a)*r+a*n)}var s=Math.abs(i);return s*e+(1-s)*t}},v.raw.afA=function(t){var i=t.width,e=t.height,r=i*e*t.t277,n=new Uint16Array(r),a=null,s=0;if(v.raw.a6W(t,n),v.raw.A1(1,t,n,i,e),t.t50712&&(a=t.t50712,s=a.length-1,a[s]>65535))throw"too big values";var l=v.raw.Sw(t),h=v.raw.x2(t);if(a==null)for(var o=0;o<r;o++)n[o]=Math.max(0,n[o]-l);else for(var o=0;o<r;o++){var f=n[o];f>s&&(f=s),f=a[f],n[o]=Math.max(0,f-l)}return n},v.raw.Sw=function(t){var i=t.t50714,e=i?i[0]:0,r=t.t50715,n=t.t50716;return r&&(e+=r[0]),n&&(e+=n[0]),Math.round(e)},v.raw.x2=function(t){var i=null,e=0;t.t50712&&(i=t.t50712,e=i.length-1);var r=t.t50717[0];return i&&(r=Math.min(r,i[e])),r},v.raw.afN=function(t){var i=v.raw.Sw(t),e=v.raw.x2(t);return e-i},v.raw.a6W=function(t,i){var e=i.length,r=t.data,n=t.t258[0];if(n!=16&&n!=14&&n!=12&&n!=10&&n!=8)throw"Unsupported Bits Per Sample:"+n;if(n=Math.round(r.length*8/e),n==16&&t.isLE){v.Hk(r,i);return}for(var a=0;a<e;a+=2){var s=0,l=0,h=0;if(n==16)s=a<<1,l=r[s]<<8|r[s+1],h=r[s+2]<<8|r[s+3];else if(n==14){var o=a*14,f=o>>>3,u=r[f]<<24|r[f+1]<<16|r[f+2]<<8|r[f+3];(o&7)==0?(l=u>>>18,h=u>>>4&16383):(l=u>>>14&16383,h=u&16383)}else if(n==12)s=a+(a>>>1),l=r[s]<<4|r[s+1]>>4,h=(r[s+1]&15)<<8|r[s+2];else if(n==10){var o=a*10,f=o>>>3;(o&7)==0?(l=(r[f]<<2|r[f+1]>>6)&1023,h=(r[f+1]<<4|r[f+2]>>4)&1023):(l=(r[f]<<6|r[f+1]>>2)&1023,h=(r[f+1]<<8|r[f+2]>>0)&1023)}else n==8&&(s=a,l=r[s],h=r[s+1]);i[a]=l,i[a+1]=h}},v.raw.A1=function(t,i,e,r,n){var a=i["t"+[51008,51009,51022][t-1]],s=0;if(a!=null){var l=r*n,h=A.l,o=A.VZ,f=new Uint8Array(a),u=A.l(f,s);s+=4;for(var p=0;p<u;p++){var c=h(f,s);s+=4;var d=h(f,s);s+=4;var g=h(f,s);s+=4;var b=h(f,s);if(s+=4,c==1&&t==3){var m=s,x=h(f,m);m+=4;var M=o(f,m);m+=8;var S=o(f,m);m+=8;var w=o(f,m);m+=8;var k=o(f,m);m+=8;var T=o(f,m);m+=8;var L=o(f,m);m+=8,m+=(x-1)*8*6;var O=o(f,m);m+=8;var E=o(f,m);m+=8;for(var D=O*r,B=E*n,I=Math.max(D,r-D),N=Math.max(B,n-B),V=Math.sqrt(I*I+N*N),j=1/V,R=e.slice(0),G=0;G<n;G++)for(var Z=0;Z<r;Z++){var _=(Z+.5-D)*j,U=(G+.5-B)*j,Y=_*_+U*U,$=M+S*Y+w*(Y*Y)+k*(Y*Y)*Y,P=T*(2*_*U)+L*(Y+2*_*_),tt=L*(2*_*U)+T*(Y+2*U*U),X=~~(D+V*($*_+P)),ht=~~(B+V*($*U+tt)),F=(ht*r+X)*3,J=(G*r+Z)*3;e[J]=R[F],e[J+1]=R[F+1],e[J+2]=R[F+2]}}else if(c==3&&t==3){var m=s,Q=o(f,m);m+=8;var rt=o(f,m);m+=8;var it=o(f,m);m+=8;var nt=o(f,m);m+=8;var ot=o(f,m);m+=8;var O=o(f,m);m+=8;var E=o(f,m);m+=8;for(var D=O*r,B=E*n,I=Math.max(D,r-D),N=Math.max(B,n-B),V=Math.sqrt(I*I+N*N),j=1/V,G=0;G<n;G++)for(var Z=0;Z<r;Z++){var _=(Z+.5-D)*j,U=(G+.5-B)*j,Y=_*_+U*U,pt=1+(Q+(rt+(it+(nt+ot*Y)*Y)*Y)*Y)*Y,J=(G*r+Z)*3;e[J]=pt*e[J],e[J+1]=pt*e[J+1],e[J+2]=pt*e[J+2]}}else if(c==4&&t==1){var m=s,yt=h(f,m);m+=4;var ct=h(f,m);m+=4;for(var vt=0;vt<l;vt++)e[vt]==yt&&(e[vt]=e[vt-2]+e[vt+2]>>1)}else if(c==5&&t==1){var m=s,wt=h(f,m);m+=4;var Mt=h(f,m);m+=4;var Ct=h(f,m);m+=4;for(var vt=0;vt<Mt;vt++){var gt=h(f,m);m+=4;var bt=h(f,m);m+=4;var vt=gt*r+bt;e[vt]=e[vt-2]+e[vt+2]>>1}}else if(c==7&&t==1){var m=s,xt=A.g$(f,m);m+=16;var Dt=h(f,m);m+=4;var Ot=h(f,m);m+=4;var kt=h(f,m),mt=h(f,m+4);m+=8;var It=h(f,m);m+=4;for(var Bt=new Uint16Array(It),vt=0;vt<It;vt++)Bt[vt]=A.lU(f,m+2*vt);for(var Ut=xt.Z,qt=xt.h,G=0;G<qt;G+=kt)for(var Z=0;Z<Ut;Z+=mt){var vt=(xt.y+G)*r+(xt.x+Z);e[vt]=Bt[e[vt]]}}else if(c==9&&t==2){var m=s,xt=A.g$(f,m),Gt=!0;m+=16;var Dt=h(f,m);m+=4;var Ot=h(f,m);m+=4;var kt=h(f,m),mt=h(f,m+4);m+=8;var zt=h(f,m),Nt=h(f,m+4);m+=8;var Kt=o(f,m),ai=o(f,m+8);m+=16;var fi=o(f,m),di=o(f,m+8);m+=16;var $t=h(f,m);if(m+=4,$t!=1)throw"more than one map plane";for(var si=zt*Nt,li=new Float32Array(si),Li=0;Li<si;Li++)li[Li]=A.C2(f,m+Li*4);for(var Li=0;Li<si;Li++)li[Li]!=1&&(Gt=!1);if(!Gt)for(var Ut=xt.Z,qt=xt.h,vi=.9999*(Nt-1)/Ut,yi=.9999*(zt-1)/qt,G=0;G<qt;G+=kt)for(var Z=0;Z<Ut;Z+=mt){var vt=(xt.y+G)*r+(xt.x+Z),_t=Z*vi,wi=G*yi,Zi=Math.floor(_t),Vi=Math.floor(wi),Mi=_t-Zi,ce=wi-Vi,J=Vi*Nt+Zi,Ri=li[J]*(1-Mi)+li[J+1]*Mi,zi=li[J+Nt]*(1-Mi)+li[J+1+Nt]*Mi,ee=Ri*(1-ce)+zi*ce;e[vt]=~~(e[vt]*ee+.5)}}else console.log("Unknown opcode "+c+" in OpcodeList"+t+". Length: "+b);s+=b}}},v.raw.ajO=function(t,i){var e=Jr.Fw(i),r=v.raw.oV(t,i),n=v.t1.nJ(r),a=Jr.a4I(e,Jr.Fw(Jr.adF)),s=v.t1.multiply(a,n);return s},v.raw.a96=function(t){var i=(t.t50728?t.t50728:[1,1,1]).slice(0),e=1;i.push(0);var r={x:.34567,y:.3585};do{var n=v.t1.nJ(v.raw.oV(t,r)),a=v.t1.UE(n,i),s=Jr.agx(a);e=Math.abs(r.x-s.x)+Math.abs(r.y-s.y),r=s}while(e>1e-7);return r},v.raw.oV=function(t,i){var e=Jr.j7(i),r=v.raw.a1S,n=t.t50779?t.t50779[0]:0,a=r(t.t50721,t.t50722,t.t50778[0],n,e.Ur),s=r(t.t50723,t.t50724,t.t50778[0],n,e.Ur);s=s||[1,0,0,0,1,0,0,0,1];var l=t.t50727?[t.t50727[0],0,0,0,t.t50727[1],0,0,0,t.t50727[2]]:[1,0,0,0,1,0,0,0,1];return v.t1.multiply(v.t1.v9(l),v.t1.multiply(v.t1.v9(s),v.t1.v9(a)))},v.raw.a1S=function(t,i,e,r,n){if(!t&&!i)return null;if(t&&!i)return t;if(n<e)return t;if(n>r)return i;for(var a=(1/n-1/r)/(1/e-1/r),s=1-a,l=[],h=0;h<9;h++)l[h]=t[h]*a+i[h]*s;return l};var Jr={};Jr.adF={x:.34567,y:.3585},Jr.D$=[{U:0,j9:.18006,pl:.26352,wV:-.24341},{U:10,j9:.18066,pl:.26589,wV:-.25479},{U:20,j9:.18133,pl:.26846,wV:-.26876},{U:30,j9:.18208,pl:.27119,wV:-.28539},{U:40,j9:.18293,pl:.27407,wV:-.3047},{U:50,j9:.18388,pl:.27709,wV:-.32675},{U:60,j9:.18494,pl:.28021,wV:-.35156},{U:70,j9:.18611,pl:.28342,wV:-.37915},{U:80,j9:.1874,pl:.28668,wV:-.40955},{U:90,j9:.1888,pl:.28997,wV:-.44278},{U:100,j9:.19032,pl:.29326,wV:-.47888},{U:125,j9:.19462,pl:.30141,wV:-.58204},{U:150,j9:.19962,pl:.30921,wV:-.70471},{U:175,j9:.20525,pl:.31647,wV:-.84901},{U:200,j9:.21142,pl:.32312,wV:-1.0182},{U:225,j9:.21807,pl:.32909,wV:-1.2168},{U:250,j9:.22511,pl:.33439,wV:-1.4512},{U:275,j9:.23247,pl:.33904,wV:-1.7298},{U:300,j9:.2401,pl:.34308,wV:-2.0637},{U:325,j9:.24792,pl:.34655,wV:-2.4681},{U:350,j9:.25591,pl:.34951,wV:-2.9641},{U:375,j9:.264,pl:.352,wV:-3.5814},{U:400,j9:.27218,pl:.35407,wV:-4.3633},{U:425,j9:.28039,pl:.35577,wV:-5.3762},{U:450,j9:.28863,pl:.35714,wV:-6.7262},{U:475,j9:.29685,pl:.35823,wV:-8.5955},{U:500,j9:.30505,pl:.35907,wV:-11.324},{U:525,j9:.3132,pl:.35968,wV:-15.628},{U:550,j9:.32129,pl:.36011,wV:-23.325},{U:575,j9:.32931,pl:.36038,wV:-40.77},{U:600,j9:.33724,pl:.36051,wV:-116.45}],Jr.j7=function(t){for(var i=Jr.D$,e=2*t.x/(1.5-t.x+6*t.y),r=3*t.y/(1.5-t.x+6*t.y),n=0,a=0,s=0;s<31&&(n=r-i[s].pl-i[s].wV*(e-i[s].j9),!(s>0&&n<0));s++)a=n;for(;s>=i.length;)s--;n/=Math.sqrt(1+i[s].wV*i[s].wV),a/=Math.sqrt(1+i[s-1].wV*i[s-1].wV);var l=a/(a-n),h=1e6/((i[s].U-i[s-1].U)*l+i[s-1].U),o=e-((i[s].j9-i[s-1].j9)*l+i[s-1].j9),f=r-((i[s].pl-i[s-1].pl)*l+i[s-1].pl),u=Math.sqrt(1+i[s].wV*i[s].wV),p=1/u,c=i[s].wV/u,d=Math.sqrt(1+i[s-1].wV*i[s-1].wV),g=1/d,b=i[s-1].wV/d,m=(p-g)*l+g,x=(c-b)*l+b,M=Math.sqrt(m*m+x*x);m/=M,x/=M;var S=(o*m+f*x)*-3e3;return{Ur:h,Ro:S}},Jr.ab0=function(t,i){for(var e=Jr.D$,r=1e6/t,n=1;n<31&&!(r<e[n].U);n++);var a=(e[n].U-r)/(e[n].U-e[n-1].U),s=(e[n-1].j9-e[n].j9)*a+e[n].j9,l=(e[n-1].pl-e[n].pl)*a+e[n].pl,h=Math.sqrt(1+e[n].wV*e[n].wV),o=1/h,f=e[n].wV/h,u=Math.sqrt(1+e[n-1].wV*e[n-1].wV),p=1/u,c=e[n-1].wV/u,d=(p-o)*a+o,g=(c-f)*a+f,b=Math.sqrt(d*d+g*g);return d/=b,g/=b,s+=d*i/-3e3,l+=g*i/-3e3,{x:1.5*s/(s-4*l+2),y:l/(s-4*l+2)}},Jr.agx=function(t){var i=t[0]+t[1]+t[2];return{x:t[0]/i,y:t[1]/i}},Jr.Fw=function(t){return{x:t.x/t.y,y:1,QY:(1-t.x-t.y)/t.y}},Jr.a4I=function(t,i){var e=v.t1.v9([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),r=[t.x,t.y,t.QY,0],n=[i.x,i.y,i.QY,0];r=v.t1.UE(e,r),n=v.t1.UE(e,n);var a=n[0]/r[0],s=n[1]/r[1],l=n[2]/r[2],h=v.t1.v9([a,0,0,0,s,0,0,0,l]),o=v.t1.nJ(e);return v.t1.multiply(v.t1.multiply(o,h),e)},v.raw.w_={},v.raw.Ei=function(t){t*=8;var i=[8,10,12,14,16];for(var e in v.raw.Lv){var r=v.raw.Lv[e];if(r.length!=4){for(var n=r[4],a=r[5],s=0;s<i.length;s++)if(n*a*i[s]==t)return[e,i[s]]}}for(var l=[[4e3,3e3]],s=0;s<l.length;s++)for(var r=l[s],n=r[0],a=r[1],s=0;s<i.length;s++)if(n*a*i[s]==t)return[r,i[s]];return null},v.raw.ac2=function(t){for(var t=new Uint8Array(t),i=0;i<t.length;i+=2){var e=t[i];t[i]=t[i+1],t[i+1]=e}var r=v.raw.Ei(t.length),n=v.raw.Lv[r[0]];n==null&&(n=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,r[0][0],r[0][1]]);for(var a=n[4],s=n[5],l=Math.max(n[2],116),h={data:t,Ss:1,width:a,height:s,t256:[a],t257:[s],t258:[r[1]],t277:[1],t33421:[2,2],t33422:v.raw.Bk[n[1]],t50706:[1,2,0,0],t50714:[l,l,l,l],t50717:[n[3]],t50721:n[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]},i=0;i<9;i++)h.t50721[i]/=1e4;return h},v.raw.Zv=function(t){if(t==null||t.length==0||typeof t[0]=="number")return t;for(var i=[],e=0;e<t.length;e++)i[e]=t[e][1]==0?0:t[e][0]/t[e][1];return i},v.raw.Bk=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]],v.raw.normalize=function(t,i){if(t.t50706!=null){for(var e=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965],r=0;r<e.length;r++)t["t"+e[r]]!=null&&(t["t"+e[r]]=v.raw.Zv(t["t"+e[r]]));return}var n=t.t258[0],a=t.exifIFD,i=new Uint8Array(i);t.t50706=[1,2,0,0];var s=t.t272[0].trim();s.indexOf(" ")==-1&&(s=t.t271[0].trim()+" "+s),t.t50708=[s];var l=v.raw.Lv,h=l[s.toLowerCase()];if(h==null)for(var o in l)s.toLowerCase().startsWith(o)&&(h=l[o]);if(h==null)throw s;var f=h[2];t.t50714=[f,f,f,f],t.t50717=[h[3]],t.t50721=h[0].slice(0);for(var r=0;r<9;r++)t.t50721[r]=t.t50721[r]*(1/1e4);if(t.t50723=[1,0,0,0,1,0,0,0,1],t.t50728==null&&(t.t50728=[.35,1,.6]),t.t50778=[17],t.t271[0].startsWith("SONY")){var u=UTIF["_bin"+(t.isLE?"LE":"BE")],p=t.t28688,c;if(JSON.stringify(p)!="[8000,10400,12900,14100]"&&console.log(p),p){for(var d=[0,0,0,0,0,4095],g=new Uint16Array(16385),r=0;r<4;r++){var b=p[r]>>>2;if(d[r+1]=b,b>4095)throw"e"}for(var r=0;r<16385;r++)g[r]=r;for(var r=0;r<5;r++)for(var m=d[r]+1;m<=d[r+1];m++)g[m]=g[m-1]+(1<<r);var x=i.length*8<t.width*t.height*n;x&&(t.t50712=g)}else console.log("no curve");var M=t.dngPrvt;if(M){var S=M.t29184[0],w=M.t29185[0],k=(t.isLE?A.L6:A.l)(M.t29217,0),T=new Uint32Array(i.slice(S,S+(w&4294967292)).buffer),L=new Uint32Array(w>>>2);v.raw.a59(T,L,w>>>2,k);var O=new Uint8Array(S+w);O.set(new Uint8Array(L.buffer),S);var E=[];UTIF._readIFD(u,O,S,E,0,!1);var D=E.pop(),B=D.t29458;t.t50728=[B[1]/B[0],1,B[1]/B[3]],t.t50730=[.5];var I=D.t29891;t.t50829=[I[1],I[0],I[3],I[2]]}else if(a.makerNote&&a.makerNote.t8208){for(var c=a.makerNote,N=c.t8208,V=N.length,j=0,R=new Uint8Array(256),r=249;r<256;r++)R[r]=r;for(var r=0;r<249;r++)R[r*r*r%249]=r;for(var r=0;r<V;r++)N[r]=R[N[r]];if(V==6604)j=612;else throw"e";for(var B=[],r=0;r<3;r++)B.push(A.XS(N,j+r*2));console.log(B),t.t50728=[B[1]/B[0],1,B[1]/B[2]]}else console.log("no white balance");t.width*t.height*1.5==t.t279[0]&&(f=f>>>2,t.t50714=[f,f,f,f],t.t50717=[h[3]>>>2])}else if(t.t271[0].startsWith("Canon")){var i=t.data,G=i.slice(0),Z=t.t50752,_=[],U=0;if(Z==null||Z[0]==0&&Z[1]==0)_.push(t.width);else{for(var r=0;r<Z[0];r++)_.push(Z[1]);_.push(Z[2])}for(var Y=t.width*2,$=0;$<_.length;$++){for(var P=_[$],tt=2*U,X=2*P,ht=0;ht<t.height;ht+=2)for(var F=ht*Y+tt,J=t.height*tt+(ht>>1)*X*2,r=0;r<X;r++)i[F+r]=G[J+r],i[F+r+Y]=G[J+r+X];U+=P}var c=a.makerNote;if(c.t16385){var Q=c.t224,rt=0;Q&&(t.t50719=[Q[5],Q[6]],t.t50720=[Q[7]+1-Q[5],Q[8]+1-Q[6]]);var it=c.t16385,nt=it.length;if(nt==582)rt=1;else if(nt==653)rt=2;else if(nt==796)rt=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(nt)!=-1)rt=4;else if(nt==5120)rt=5,it=new Int16Array(it.slice(0).buffer);else if(nt==1273||nt==1275)rt=6;else if([1312,1313,1316,1506].indexOf(nt)!=-1)rt=7;else if([1560,1592,1353,1602].indexOf(nt)!=-1)rt=8;else throw"e"+nt;var ot=it[0],pt=[null,[25,166],[34,286],[63,196],[63],[71,ot==-4?333:264],[63,251],[63,ot==10?504:728],[63,326]],j=pt[rt][0],yt=pt[rt][1];if(rt==4)if(it[0]==2)yt=231;else if(it[0]==3)yt=231;else if(it[0]==4)yt=231;else if(it[0]==5)yt=231;else if(it[0]==6)yt=231;else if(it[0]==7)yt=231;else if(it[0]==9)yt=231;else throw"e";t.t50728=[it[j+1]/it[j],1,it[j+1]/it[j+3]];var f=yt==null?1024:it[yt];t.t50714=[f,f,f,f]}else t.t50728=[.4,1,.6]}else if(t.t271[0].startsWith("NIKON")){var c=a.makerNote,ct=t.isLE?A.XS:A.dx,vt=0,wt=0,Mt,Ct=0;if(c.t61){for(var gt=c.t61,bt=[],r=0;r<4;r++)bt[r]=gt[r]/Math.pow(2,14-n);t.t50714=bt}if(c.t3585)for(var xt=c.t3585,r=0,S=22;S<xt.length&&r!=-4;){var Dt=A.L6(xt,S);if(S+=4,S+=14,r=A.L6(xt,S)-4,S+=4,Dt==1990472198&&xt[S]!=0)throw"Flip";if(Dt==1990472199){var Ot=A.XS(xt,S);if(Ot==0)t.Ss=1;else if(Ot==270)t.Ss=8;else throw"e "+Ot}S+=r}if(c.t183){for(var kt=c.t183,mt=[],r=0;r<6;r++)mt.push(ct(kt,16+r*2));vt=mt[0],wt=mt[1]}if(c.t3614){var It=c.t3614;vt=A.L6(It,8),wt=A.L6(It,12)}if(vt!=0){if(vt<wt){var Bt=vt;vt=wt,wt=Bt}var U=t.width-vt>>>1,ht=t.height-wt>>>1;t.t50829=[ht,U,ht+wt,U+vt]}if(c.t12){var Ut=v.raw.Zv(c.t12);Mt=[1/Ut[0],1,1/Ut[1]]}else if(c.t151){var qt=v.raw.afS(c,151),Gt=qt[0],zt=qt[1],Nt=qt[2];if(Gt=="0100"&&zt>=80)throw"e";if(Gt=="0102"){for(var Kt=[],r=0;r<4;r++)Kt.push(ct(Nt,6+r*2));Mt=[Kt[1]/Kt[0],1,Kt[1]/Kt[3]]}else if(Gt=="0103"&&zt>=26){for(var Kt=[],r=0;r<4;r++)Kt.push(ct(Nt,16+r*2));Mt=[Kt[1]/Kt[0],1,Kt[3]/Kt[2]]}else if(Gt=="0204"&&zt>=564||Gt=="0205"&&zt>=284){for(var S=Gt=="0204"?6:14,Kt=[],r=0;r<4;r++)Kt.push(ct(Nt,S+r*2));Mt=[Kt[1]/Kt[0],1,Kt[1]/Kt[3]]}else throw"e"}else console.log("no white balance info");s=="NIKON D1"&&(Mt=[1,1,1]),Mt&&(t.t50728=Mt);var ai=c.t150?c.t150:c.t140;if(ai){var fi=ai[Ct++],di=ai[Ct++],$t;(fi==73||di==88)&&(Ct+=2110),Ct+=8;var si=1<<n&32767,li=ct(ai,Ct);Ct+=2;var g=[];if(li>1&&($t=Math.floor(si/(li-1))),fi==68&&di==32&&$t>0){for(r=0;r<li;r++)g[r*$t]=ct(ai,Ct),Ct+=2;for(r=0;r<si;r++)g[r]=Math.floor((g[r-r%$t]*($t-r%$t)+g[r-r%$t+$t]*(r%$t))/$t)}else if(fi!=70&&li<=16385){si=li;for(var r=0;r<li;r++)g[r]=ct(ai,Ct+2*r);Ct+=2*li}g.length!=0&&(t.t50712=new Uint16Array(g))}}else s.startsWith("FujiFilm")||alert("Unknown camera "+s)},v.raw.a59=function(t,i,e,r){if(e!=0){for(var n=new Uint32Array(128),a=new Uint8Array(n.buffer),s=127,l=0,h=0,s=0;s<4;s++)n[s]=r=(r*15625>>>0)*3125+1>>>0;n[3]=n[3]<<1|(n[0]^n[2])>>>31;for(var s=4;s<127;s++)n[s]=(n[s-4]^n[s-2])<<1|(n[s-3]^n[s-1])>>>31;for(var s=0;s<127;s++)n[s]=A.l(a,s*4);for(;e>0;e--){n[s&127]=n[s+1&127]^n[s+1+64&127];var o=n[s&127],f=t[l];f^=o,i[h]=f,l++,h++,s++}}},v.raw.a0C=function(t,i){for(var e=A.$o(i,0,4),r=v.raw.ajH,n=0;n<r.length;n++)if(r[n][0]==t&&e.startsWith(r[n][1])&&(r[n][2]==0||r[n][2]==i.length))return r[n];throw"e"},v.raw.a3Z=function(t){if(t.t29==null)return[];for(var i=v.raw.adl,e=v.raw.a97,r=t.t29[0],n=0,a=0,s=0;s<r.length;s++){var l=r.charCodeAt(s);n=n*10+(48<=l&&l<=57?l-48:l%10)}for(var h=t.t167[0],s=0;s<4;s++)a^=h>>>(s<<3)&255;var o=i[n&255],f=e[a&255];return[o,f,96]},v.raw.afS=function(t,i){var e=t["t"+i],r=e.length,n=v.raw.a0C(i,e),a=A.$o(e,0,4),s,l=n[4];if(l==null)s=e.slice(4);else{s=new Uint8Array(r-l);for(var h=v.raw.a3Z(t),o=h[0],f=h[1],u=h[2],p=0;p<s.length;p++)f=f+o*u++&255,s[p]=e[l++]^f}return[a,r,s]},v.raw.ajH=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]],v.raw.adl=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199],v.raw.a97=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47],v.raw.Lv={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]},v.q5={},v.q5.q5=function(t,i,e,r,n){r==null&&(r=3),n==null&&n==!0;var a=t.Z,s=t.h,l=1/a,h=a*s,o=Date.now(),f=!1,u=v.q5.sL(e,a,s,255,128),p=v.q5.sL(e,a,s,0,128),c=0;f&&console.log("extract contours",Date.now()-o),o=Date.now();var d=function($t,si){var li=$t<<2,Li=si<<2;return i[li]+i[li+1]+i[li+2]-(i[Li]+i[Li+1]+i[Li+2])};u.sort(d),p.sort(d);var g=v.R(h),b=v.R(h),m=[],x=new Uint32Array(a*s);x.fill(4294967295);for(var M=0;M<h;M++)e[M]==0?b[M]=255:e[M]==255?g[M]=255:(x[M]=m.length,m.push(M));var S=u.length,w=p.length,k=m.length;function T($t,si,li,Li){for(var vi=$t.length,yi=new Array(vi*2),_t=0;_t<vi;_t++){var wi=$t[_t],Zi=~~(wi*Li),Vi=wi-Zi*li,Mi=wi<<2;yi[_t*2]=Vi<<16|Zi,yi[_t*2+1]=si[Mi]<<16|si[Mi+1]<<8|si[Mi+2]}return yi}var L=T(u,i,a,l),O=T(p,i,a,l),E=T(m,i,a,l);f&&console.log("Itemize",Date.now()-o,"Unknown:",k,S,w),o=Date.now();var D=v.style.uX(g,a,s,!0),B=v.style.uX(b,a,s,!0),I=new Array(k),N=new Array(k),V=new Array(k),j=new Array(k),R=new Array(k);f&&console.log("Dist transform",Date.now()-o),o=Date.now();for(var G=v.q5.xy,M=0;M<k;M++){var Z=m[M],_=~~(Z*l),U=Z-_*a,Y=D[Z<<1],$=D[(Z<<1)+1],P=Math.sqrt(Y*Y+$*$),tt=B[Z<<1],X=B[(Z<<1)+1],ht=Math.sqrt(tt*tt+X*X);I[M]=1/P,N[M]=1/ht;var F=Math.floor(v.N.kY(Z*17)*S),J=Math.floor(v.N.kY(Z*19)*w);V[M]=F,j[M]=J,R[M]=G(E[M*2],E[M*2+1],L[F*2],L[F*2+1],O[J*2],O[J*2+1],I[M],N[M],1e9)}for(var Q=[-a-1,-a,-a+1,-1,1,a-1,a,a+1];Math.floor(Math.max(S,w)*Math.pow(.5,c))>1;)c++;for(var rt=0;rt<r;rt++)for(var it=0,M=0;M<k;M++){var Z=m[M],_=~~(Z*l),U=Z-_*a,nt=I[M],ot=N[M],pt=E[M*2],yt=E[M*2+1],ct=R[M],F=V[M],J=j[M],vt=1;if(_!=0&&U!=0&&U!=a-1&&_!=s-1)for(var wt=0;wt<8;wt++){var Mt=x[Z+Q[wt]];if(Mt!=4294967295){var Ct=V[Mt],gt=j[Mt];if(!(Ct==F&&gt==J)){var bt=G(pt,yt,L[Ct*2],L[Ct*2+1],O[gt*2],O[gt*2+1],nt,ot,ct);bt<ct&&(ct=bt,F=Ct,J=gt)}}}for(var xt=0;xt<c;xt++){var Dt=~~(S*vt),Ot=~~(w*vt);vt*=.5;var kt=v.N.kY(Z+rt*17+xt*31),mt=v.N.kY(Z+rt*29+xt*63),It=Math.max(0,F-Dt),Bt=Math.min(F+Dt,S-1),Ut=Math.max(0,J-Ot),qt=Math.min(J+Ot,w-1),Ct=It+~~(kt*(Bt-It)),gt=Ut+~~(mt*(qt-Ut)),bt=G(pt,yt,L[Ct*2],L[Ct*2+1],O[gt*2],O[gt*2+1],nt,ot,ct);bt<ct&&(ct=bt,F=Ct,J=gt)}R[M]=ct,V[M]=F,j[M]=J,it+=ct}f&&console.log(it),f&&console.log("iterations",Date.now()-o),o=Date.now();for(var Gt=e.slice(0),M=0;M<k;M++){var zt=v.q5.alpha(E[M*2+1],L[V[M]*2+1],O[j[M]*2+1]);Gt[m[M]]=~~(.5+255*zt)}if(Gt=v.UA.a9L(Gt,i,new et(0,0,a,s),16,.01*.01),f&&console.log("guided filter",Date.now()-o),o=Date.now(),n)for(var M=0;M<h;M++)(e[M]==255||e[M]==0)&&(Gt[M]=e[M]);for(var Nt=i.slice(0),M=0;M<k;M++){var Kt=m[M],F=u[V[M]],ct=R[M],ai=Kt<<2,fi=Gt[Kt],di=(fi>=250?Kt:F)<<2;Nt[ai]=i[di],Nt[ai+1]=i[di+1],Nt[ai+2]=i[di+2]}return v.Oy(Gt,Nt,3),f&&console.log(Date.now()-o),o=Date.now(),Nt},v.q5.xy=function(t,i,e,r,n,a,s,l,h){var o=t>>>16,f=t&65535,u=o-(e>>>16),p=f-(e&65535),c=o-(n>>>16),d=f-(n&65535),g=Math.sqrt(u*u+p*p)*s,b=Math.sqrt(c*c+d*d)*l;if(g+b>=h)return 1e9;var m=v.q5.aaJ(i,r,a);return m+g+b},v.q5.aaJ=function(t,i,e){var r=t>>>16,n=t>>>8&255,a=t&255,s=i>>>16,l=i>>>8&255,h=i&255,o=e>>>16,f=e>>>8&255,u=e&255,p=v.q5.alpha(t,i,e),c=r-(p*s+(1-p)*o),d=n-(p*l+(1-p)*f),g=a-(p*h+(1-p)*u);return Math.sqrt(c*c+d*d+g*g)},v.q5.alpha=function(t,i,e){var r=t>>>16,n=t>>>8&255,a=t&255,s=i>>>16,l=i>>>8&255,h=i&255,o=e>>>16,f=e>>>8&255,u=e&255,p=s-o,c=l-f,d=h-u,g=r-o,b=n-f,m=a-u,x=p*p+c*c+d*d,M=x==0?.5:(g*p+b*c+m*d)/x;return Math.max(0,Math.min(1,M))},v.q5.acM=function(t){},v.q5.sL=function(t,i,e,r,n){for(var a=[],s=i-1,l=e-1,h=1;h<l;h++)for(var o=1;o<s;o++){var f=h*i+o;t[f]==r&&(t[f-i-1]==n||t[f-i]==n||t[f-i+1]==n||t[f-1]==n||t[f+1]==n||t[f+i-1]==n||t[f+i]==n||t[f+i+1]==n)&&a.push(f)}return a},v.UA={},v.UA.alM=function(t,i,e,r,n){var a=e.Z,s=e.h,l=a*s,h=v.UA.Dq,o=v.R(l*4),f;v.XB(o,4294967295);var u=e,p=t,c=i,d=r;v.Oy(t,o,0),f=v.Ar(o,e),f=v.Ar(f.Ww,f.rect),u=f.rect,d=r>>>2,console.log(u,d),p=v.R(u.M()),v.E4(f.Ww,p,0),v.Oy(i,o,0),f=v.Ar(o,e),f=v.Ar(f.Ww,f.rect),c=v.R(u.M()),v.E4(f.Ww,c,0);var g=v.UA.aam(p,c,u,d,n),b=g[0],m=g[1],x=new et(0,0,u.Z*2,u.h*2);b=h(b,u,x,!0),b=h(b,x,e,!0),m=h(m,u,x,!0),m=h(m,x,e,!0);for(var M=v.R(l),S=0;S<l;S++)M[S]=Math.max(0,Math.min(255,Math.floor(.5+(b[S]*i[S]+255*m[S]))));return M},v.UA.Dq=function(t,i,e,r){for(var n=e.Z,a=e.h,s=i.Z,l=i.h,h=v.UA.nK,o=new Float32Array(n*a),f=0;f<l;f++)for(var u=(f+f)*n,p=0;p<s;p++)o[u]=o[u+1]=o[u+n]=o[u+n+1]=t[f*s+p],u+=2;return o},v.UA.nK=function(t,i,e,r,n){t-=.499999,i-=.499999;var a=Math.floor(t),s=Math.floor(i),l=s*r+a,h=t-a,o=i-s,f=(1-o)*(1-h),u=(1-o)*h,p=o*(1-h),c=o*h;if(e[l]==null||e[l+r+1]==null)throw console.log(t,i,r,n),"e";return f*e[l+0]+u*e[l+1]+p*e[l+r+0]+c*e[l+r+1]},v.UA.aam=function(t,i,e,r,n){var a=e.Z,s=e.h,l=a*s,h=v.UA.Z2,o=v.UA.R,f=v.ni.Ey,u=v.UA.Z8,i=h(i),t=h(t),p=o(l);f(i,p,e,r);var c=o(l);f(t,c,e,r);var d=o(l);u(i,i,d),f(d,d,e,r);var g=o(l);u(i,t,g),f(g,g,e,r);for(var b=o(l),m=o(l),x=0;x<l;x++){var M=p[x],S=c[x],w=d[x]-M*M,k=g[x]-M*S,T=k/(w+n),L=S-T*M;b[x]=T,m[x]=L}var O=o(l);f(b,O,e,r);var E=o(l);return f(m,E,e,r),[O,E]},v.UA.a9L=function(t,i,e,r,n){var a=e.Z,s=e.h,l=a*s,h=v.UA.Dq,o=Date.now(),f=!1,u=e,p=t,c=i,d=r;u=new et(0,0,a>>>2,s>>>2),d=r>>>2,p=v.UA.aaC(t,a,s),c=v.UA.ajp(i,a,s),f&&console.log(Date.now()-o),o=Date.now();var g=v.UA.abQ(p,c,u,d,n),b=g[0],m=g[1],x=g[2],M=g[3];f&&console.log(Date.now()-o),o=Date.now();for(var S=v.R(l),w=0;w<s;w++)for(var k=0;k<a;k++){var T=w*a+k,L=(w>>>2)*(a>>>2)+(k>>>2),O=T<<2,E=b[L]*i[O]+m[L]*i[O+1]+x[L]*i[O+2]+M[L]*255;S[T]=Math.max(0,Math.min(255,~~(.5+E)))}return f&&console.log(Date.now()-o),o=Date.now(),S},v.UA.aaC=function(t,i,e){for(var r=i>>>2,n=e>>>2,a=v.R(i*e),s=0;s<n;s++)for(var l=0;l<r;l++)a[s*r+l]=t[s*i+l<<2];return a},v.UA.ajp=function(t,i,e){for(var r=i>>>2,n=e>>>2,a=v.R(i*e*4),s=0;s<n;s++)for(var l=0;l<r;l++){var h=s*r+l<<2,o=s*i+l<<4;a[h]=t[o],a[h+1]=t[o+1],a[h+2]=t[o+2],a[h+3]=t[o+3]}return a},v.UA.abQ=function(t,i,e,r,n){var a=e.Z,s=e.h,l=a*s,h=v.UA.Z2,o=v.UA.R,f=v.ni.Ey,u=v.UA.Z8,t=h(t),p=new v._B(a*s);v.Ae(i,p);var i=[h(p.U),h(p.S),h(p.i)],c=v.UA.a5V(t,i,e,r,n),d=o(l);f(t,d,e,r);var g=o(l);u(i[0],t,g),f(g,g,e,r);var b=o(l);u(i[1],t,b),f(b,b,e,r);var m=o(l);u(i[2],t,m),f(m,m,e,r);for(var x=o(l),M=o(l),S=o(l),w=o(l),k=0;k<l;k++){var T=d[k],L=c.nq[k],O=c.Nh[k],E=c.yL[k],D=g[k]-L*T,B=b[k]-O*T,I=m[k]-E*T;x[k]=c.A5[k]*D+c.Kn[k]*B+c.ua[k]*I,M[k]=c.Kn[k]*D+c.ly[k]*B+c.RB[k]*I,S[k]=c.ua[k]*D+c.RB[k]*B+c.M2[k]*I,w[k]=T-x[k]*L-M[k]*O-S[k]*E}return f(x,x,e,r),f(M,M,e,r),f(S,S,e,r),f(w,w,e,r),[x,M,S,w]},v.UA.a5V=function(t,i,e,r,n){var a=e.Z,s=e.h,l=a*s,h=v.UA.R,o=v.ni.Ey,f=v.UA.Z8,u={};u.nq=h(l),o(i[0],u.nq,e,r),u.Nh=h(l),o(i[1],u.Nh,e,r),u.yL=h(l),o(i[2],u.yL,e,r);var p=h(l);f(i[0],i[0],p),o(p,p,e,r);var c=h(l);f(i[0],i[1],c),o(c,c,e,r);var d=h(l);f(i[0],i[2],d),o(d,d,e,r);var g=h(l);f(i[1],i[1],g),o(g,g,e,r);var b=h(l);f(i[1],i[2],b),o(b,b,e,r);var m=h(l);f(i[2],i[2],m),o(m,m,e,r),u.A5=p,u.Kn=c,u.ua=d,u.ly=g,u.RB=b,u.M2=m;for(var x=0;x<l;x++){var M=u.nq[x],S=u.Nh[x],w=u.yL[x],k=p[x]-M*M+n,T=c[x]-M*S,L=d[x]-M*w,O=g[x]-S*S+n,E=b[x]-S*w,D=m[x]-w*w+n,B=O*D-E*E,I=E*L-T*D,N=T*E-O*L,V=k*D-L*L,j=L*T-k*E,R=k*O-T*T,G=B*k+I*T+N*L,Z=1/G;u.A5[x]=B*Z,u.Kn[x]=I*Z,u.ua[x]=N*Z,u.ly[x]=V*Z,u.RB[x]=j*Z,u.M2[x]=R*Z}return u},v.UA.R=function(t){return new Float32Array(t)},v.UA.Z2=function(t){for(var i=t.length,e=new Float32Array(i),r=0;r<i;r++)e[r]=t[r]*(1/255);return e},v.UA.Z8=function(t,i,e){for(var r=0;r<t.length;r++)e[r]=t[r]*i[r]},v.bT={},v.bT.jP=function(t,i,e,r){var n=t[i]-e[r],a=t[i+1]-e[r+1],s=t[i+2]-e[r+2];return Math.sqrt(n*n+a*a+s*s)*(1/441.7)},v.bT.getSelection=function(t,i,e){for(var r=i*e,n=v.R(r),a=!1,s=Math.round(e*.7),l=1,h=new Uint32Array(12),o=v.R(12),f=0;f<s;f++)for(var u=0;u<i;u++)if(u<l||f<l||u>i-l-1||f>e-l-1){var p=f*i+u,c=p<<2,d=0;f<l?d=4:u>i-l-1&&(d=8),h[d]+=t[c],h[d+1]+=t[c+1],h[d+2]+=t[c+2],h[d+3]++,n[p]=255}for(var p=0;p<12;p+=4)for(var g=0;g<3;g++)o[p+g]=h[p+g]/h[p+3];for(var b=new Float32Array(r),p=0;p<r;p++){var c=p*4,m=v.bT.jP(t,c,o,0),x=v.bT.jP(t,c,o,4),M=v.bT.jP(t,c,o,8),S=Math.max(m,Math.max(x,M));b[p]=m+x+M-S}v.bT.Mr(b);for(var w=Date.now(),k=new Float32Array(r),T=[],L=v.R(r),p=0;p<3;p++){v.E4(t,L,p);var O=new Uint16Array(r);T.push(O),v.bT.aj0(L,n,i,e,O)}a&&console.log("MBD",Date.now()-w),w=Date.now();for(var p=0;p<r;p++)k[p]=T[0][p]+T[1][p]+T[2][p];v.bT.Mr(k);for(var p=0;p<r;p++)k[p]+=.4*b[p];for(var E=i>>>1,s=e>>>1,D=1/Math.sqrt(E*E+s*s),f=0;f<e;f++)for(var u=0;u<i;u++){var B=u-E,I=f-s,N=1-Math.sqrt(B*B+I*I)*D;k[f*i+u]*=N}a&&console.log("Centeredness",Date.now()-w),w=Date.now();for(var p=0;p<r;p++)n[p]=k[p]*255;var V=Math.round(i/120),j=Math.round(V*.8);a&&console.log(V,j),v.Ai.wE(n,L,i,e,V,v.Ai.sH,[]),n.set(L),a&&console.log("erosion",Date.now()-w),w=Date.now();for(var p=0;p<r;p++)k[p]=n[p];v.bT.Mr(k);for(var R=v.R(256),p=0;p<256;p++)R[p]=256/(1+Math.exp(-20*(p/255-.5)));for(var p=0;p<r;p++){var G=~~(k[p]*255+.5);n[p]=R[G]}return a&&console.log("Simoid",Date.now()-w),w=Date.now(),n},v.bT.Mr=function(t){for(var i=t.length,e=0,r=0;r<i;r++)e=Math.max(e,t[r]);for(var n=1/e,r=0;r<i;r++)t[r]=t[r]*n},v.bT.aj0=function(t,i,e,r,n){for(var a=e*r,s=t.slice(0),l=t.slice(0),h=0;h<a;h++)n[h]=i[h]==255?0:65535;return v.bT.sn(t,l,s,n,e,r),v.bT.I_(t,l,s,n,e,r),v.bT.sn(t,l,s,n,e,r),v.bT.I_(t,l,s,n,e,r),n},v.bT.sn=function(t,i,e,r,n,a){for(var s=1;s<n;s++)v.bT.jh(s,-1,t,i,e,r);for(var l=1;l<a;l++){v.bT.jh(l*n,-n,t,i,e,r);for(var s=1;s<n;s++){var h=l*n+s;v.bT.jh(h,-1,t,i,e,r),v.bT.jh(h,-n,t,i,e,r)}}},v.bT.I_=function(t,i,e,r,n,a){for(var s=n-2;s>=0;s--)v.bT.jh(n*a-n+s,1,t,i,e,r);for(var l=a-2;l>=0;l--){v.bT.jh(l*n+n-1,n,t,i,e,r);for(var s=n-2;s>=0;s--){var h=l*n+s;v.bT.jh(h,1,t,i,e,r),v.bT.jh(h,n,t,i,e,r)}}},v.bT.jh=function(t,i,e,r,n,a){var s=t+i,l=e[t],h=r[s],o=n[s];h<l?h=l:l<o&&(o=l);var f=h-o;a[s]!=65535&&f<a[t]&&(a[t]=f,r[t]=h,n[t]=o)},v.io={},v.io.filter=function(t,i,e,r){var n=i.Z,a=i.h,s=n*a,l=r[0],h=r[1],o=r[2],f=r[3],u=r[4],p=r[5],c=r[6],d=Date.now(),g=new Float32Array(n*a*4);v.io.alf(t,n,a,g);for(var b=Math.ceil(l*Math.sqrt(-2*Math.log(.1))),m=new ArrayBuffer(s*4),x=new Float32Array(m),M=new Float32Array(s),S=new Float32Array(s),w=0;w<s;w++){var k=w*4;x[w]=g[k],M[w]=g[k+1],S[w]=g[k+2]}v.ni.d$(x,x,i,b*1/2.4,2),v.ni.d$(M,M,i,b*1/2.4,2),v.ni.d$(S,S,i,b*1/2.4,2);for(var w=0;w<s;w++){var k=w*4;g[k]=x[w],g[k+1]=M[w],g[k+2]=S[w]}for(var T=new Uint8Array(m),w=0;w<s;w++){var k=w*4,L=w*4,x=g[k],M=g[k+1],S=g[k+2],O=Math.sqrt((x-S)*(x-S)+4*M*M),E=(x+S+O)*.5,D=(x+S-O)*.5,B=D-S,I=M,N=B*B+I*I;if(N!=0){var V=Math.sqrt(N),j=1/V;B*=j,I*=j}T[L]=128+127*B,T[L+1]=128+127*I}var R=1.3*h+2,G=f*(2/10),Z=t.slice();if(q.pQ){var _=new Float32Array([1/n,1/a]),U=q.Wb(0,n,a);U.set(Z);var Y=q.Wb(1,n,a);Y.set(T),q.k1(U,i),u&&(U.ke(i),q.filter.WD({type:q.filter.Vw,I1:_,afn:1/o,agY:G},U.z2)),U.ke(i),q.filter.WD({type:q.filter.Zi,B9:Y.g3,I1:_,sC:R,R5:2},U.z2),u&&(U.ke(i),q.filter.WD({type:q.filter.m8,I1:_,akp:new Float32Array(c),ab4:p},U.z2)),U.get(e)}else u&&v.io.Jo(1/o,G,Z,n,a),v.io.Zi(Z,e,T,n,a,R),u&&v.io.ajl(n,a,e,c,p);for(var $=s*4,w=3;w<$;w+=4)e[w]=t[w]},v.io.Zi=function(t,i,e,r,n,a){for(var s=Math.ceil(2*a),l=-1/(2*a*a),h=[],o=1,f=0;f<s+20;f++)h[f]=Math.exp(f*f*l);for(var u=[0,0,0,0],p=0;p<n;p++)for(var c=0;c<r;c++){for(var d=p*r+c,g=d*4,b=1,m=t[g],x=t[g+1],M=t[g+2],S=t[g+3],w=(e[g]-128)*(1/127),k=(e[g+1]-128)*(1/127),T=w,L=k,O=c==0?.51:.49,E=p==0?.51:.49,f=0;f<2;f++){for(var D=c+O,B=p+E,I=0;I<s&&!(D<.5||r-.5<D||B<.5||n-.5<B);){var N=~~D,V=~~B,j=V*r+N,R=j*4,G=(e[R]-128)*(1/127),Z=(e[R+1]-128)*(1/127);if(G*T+Z*L<0&&(G=-G,Z=-Z),T=G,L=Z,D+=o*G,B+=o*Z,D<.5||r-.5<D||B<.5||n-.5<B)break;var _=~~D,U=~~B,Y=U*r+_<<2;I+=o;var $=h[~~I];v.P.eU(D,B,t,r,n,u),m+=u[0]*$,x+=u[1]*$,M+=u[2]*$,S+=u[3]*$,b+=$}T=-w,L=-k}var P=1/b;i[g]=~~(.5+m*P),i[g+1]=~~(.5+x*P),i[g+2]=~~(.5+M*P),i[g+3]=~~(.5+S*P)}},v.io.ajl=function(t,i,e,r,n){for(var a=0;a<i;a++)for(var s=0;s<t;s++){var l=a*t+s<<2,h=1+v.io.afc(s,a,e,t,i,r)*n;e[l]=Math.max(0,Math.min(255,e[l]*h)),e[l+1]=Math.max(0,Math.min(255,e[l+1]*h)),e[l+2]=Math.max(0,Math.min(255,e[l+2]*h))}},v.io.afc=function(t,i,e,r,n,a){var s=e[(i*r+Math.max(0,t-1))*4+3],l=e[(i*r+Math.min(r-1,t+1))*4+3],h=e[(Math.max(0,i-1)*r+t)*4+3],o=e[(Math.min(n-1,i+1)*r+t)*4+3],f=.7,u=(l-s)*(1/255),p=.7,c=(o-h)*(1/255),d=-u*p,g=-f*c,b=f*p,m=Math.sqrt(d*d+g*g+b*b),x=1/m,M=d*x,S=g*x,w=b*x,k=a[0]*M+a[1]*S+a[2]*w;return k},v.io.Jo=function(t,i,e,r,n){function a(o,f,u){return Math.max(f,Math.min(u,o))}for(var s=0;s<n;s++)for(var l=0;l<r;l++){var h=v.io.aaj(l+.5,s+.5,t,i);e[(s*r+l)*4+3]=Math.max(0,Math.min(255,h*255))}},v.io.aaj=function(t,i,e,r){function n(L,O,E){return(1-E)*L+E*O}var a=(t+613)*e,s=(i+117)*e,l=~~a,h=~~s,o=a-l,f=s-h,u=Math.sin(11),p=Math.cos(l)*u,c=Math.cos(l+1)*u,d=Math.cos(h)*u,g=Math.cos(h+1)*u,b=v.io.hash(p,d),m=v.io.hash(c,d),x=v.io.hash(p,g),M=v.io.hash(c,g),S=n(b,m,o),w=n(x,M,o),k=n(S,w,f);k=k<.5?0:1;var T=k+r*v.io.hash(Math.cos(a)*u,Math.cos(s)*u);return T*(1/3)},v.io.hash=function(t,i){var e=Math.sin(t*11.697096+i*73.32456)*12157.47691;return e-Math.floor(e)},v.io.alf=function(t,i,e,r){for(var n=[-1,0,1,-2,0,2,-1,0,1],a=[-1,-2,-1,0,0,0,1,2,1],s=i-1,l=e-1,h=i*4,o=1;o<l;o++)for(var f=1;f<s;f++){var u=o*i+f,p=u*4,c=v.io.q7(t,p,h,n),d=v.io.q7(t,p,h,a),g=v.io.q7(t,p+1,h,n),b=v.io.q7(t,p+1,h,a),m=v.io.q7(t,p+2,h,n),x=v.io.q7(t,p+2,h,a);r[p]=c*c+g*g+m*m,r[p+1]=c*d+g*b+m*x,r[p+2]=d*d+b*b+x*x}v.io.acg(r,i,e)},v.io.q7=function(t,i,e,r){return t[i-e-4]*r[0]+t[i-e]*r[1]+t[i-e+4]*r[2]+t[i-4]*r[3]+t[i]*r[4]+t[i+4]*r[5]+t[i+e-4]*r[6]+t[i+e]*r[7]+t[i+e+4]*r[8]},v.io.acg=function(t,i,e){function r(h,o,f){var u=o*4,p=f*4;h[p]=h[u],h[p+1]=h[u+1],h[p+2]=h[u+2]}var n=i-1,a=e-1;r(t,i+1,0),r(t,2*i-2,i-1);for(var s=1;s<n;s++)r(t,i+s,s);for(var l=1;l<a;l++)r(t,l*i+1,l*i),r(t,l*i+i-2,l*i+i-1);for(var s=1;s<n;s++)r(t,(e-2)*i+s,(e-1)*i+s);r(t,(l-2)*i+1,(l-1)*i),r(t,(l-1)*i-2,l*i-1)},v.jH={},v.jH.fS=function(t,i,e,r){var n=t[i*2],a=t[i*2+1],s=t[e*2],l=t[e*2+1],h=t[r*2],o=t[r*2+1];return n*l+s*o+h*a-h*l-s*a-n*o},v.jH.En=function(t,i){for(var e=[],r=[],n=[],a={},s=0;s<i.length;s+=3){var l=~~(s*(1/3)),h=i[s+0],o=i[s+1],f=i[s+2],u=v.jH.fS(t,h,o,f);if(u>0){var p=o;o=f,f=p}var c=a[f+"-"+o],d=a[o+"-"+h],g=a[h+"-"+f],b=[f,c,l,null],m=[o,d,l,b],x=[h,g,l,m];b[3]=x,c&&(c[1]=b),d&&(d[1]=m),g&&(g[1]=x),a[f+"-"+h]=x,a[h+"-"+o]=m,a[o+"-"+f]=b,e[h]=m,n[s]=m,e[o]=b,n[s+1]=b,e[f]=x,n[s+2]=x,r[l]=m}return{e0:e,f4:r,df:n}},v.jH.a2y=function(t){for(var i=[],e=t.f4,r=0;r<e.length;r++){var n=e[r];i.push(n[0]),n=n[3],i.push(n[0]),n=n[3],i.push(n[0])}return i},v.jH.ac7=function(t,i,e,r){var n=t[i*2],a=t[i*2+1],s=t[e*2],l=t[e*2+1],h=t[r*2],o=t[r*2+1],f=s-n,u=l-a,p=h-n,c=o-a,d=f*(n+s)+u*(a+l),g=p*(n+h)+c*(a+o),b=2*(f*(o-l)-u*(h-s));if(Math.abs(b)<1e-5){var m=Math.min(n,s,h),x=Math.min(a,l,o),w=(Math.max(n,s,h)-m)*.5,k=(Math.max(a,l,o)-x)*.5;return[m+w,x+k,w*w+k*k,1]}var M=(c*d-u*g)/b,S=(f*g-p*d)/b,w=M-n,k=S-a;return[M,S,w*w+k*k,0]},v.jH.agr=function(t,i,e){var r=e[1],n=e[3],a=n[3],s=r[3],l=s[3],h=e[2],o=r[2],f=e[0],u=r[0],p=n[0],c=s[0],d=v.jH.ac7(t,u,c,p),g=t[f*2]-d[0],b=t[f*2+1]-d[1],m=g*g+b*b>d[2]&&d[3]==0&&v.jH.fS(t,c,f,p)<0&&v.jH.fS(t,p,u,c)<0;return m&&(e[0]=p,r[0]=c,e[3]=a,a[3]=s,s[3]=e,r[3]=l,l[3]=n,n[3]=r,n[2]=o,s[2]=h,i.f4[o]=l,i.f4[h]=a,i.e0[u]=s,i.e0[f]=n),m},v.jH.kR=function(t,i,e){var r=t[i*2]-t[e*2],n=t[i*2+1]-t[e*2+1];return Math.sqrt(r*r+n*n)},v.jH.adY=function(t,i,e){var r=e[1],n=e[3],a=n[3],s,l,h=e[2],o,f=e[0],u=a[0],p=n[0],c;r&&(s=r[3],l=s[3],o=r[2],c=s[0]);var d=t.length>>>1;t[2*d]=(t[2*u]+t[2*f])*.5,t[2*d+1]=(t[2*u+1]+t[2*f+1])*.5;var g=h,b=e,m=i.f4.length,x=[d,null,g,b],M=[p,x,m,a];x[1]=M;var S=[d,null,m,M];if(n[3]=x,a[3]=S,a[2]=m,i.f4[g]=n,i.f4[m]=S,i.e0[f]=n,i.e0[p]=a,i.df.push(x,M,S),r){var w=o,k=r,T=m+1;S[1]=k,k[1]=S;var L=[d,null,w,k],O=[c,L,T,l];L[1]=O;var E=[d,b,T,O];b[1]=E,s[3]=L,l[3]=E,l[2]=T,i.f4[w]=s,i.f4[T]=l,i.e0[u]=s,i.e0[c]=l,i.df.push(L,O,E)}i.e0[d]=b},v.jH.Yo=function(t,i){for(var e=0;;){for(var r=e,n=0;n<i.df.length;n++){var a=i.df[n];if(a[1]!=null){var s=v.jH.agr(t,i,a);if(s){e++;break}}}if(r==e)break}return e!=0},v.jH.acD=function(t,i,e,r){for(var n=0,a=0;a<r;a++){for(var s=null,l=0,h=0;h<i.df.length;h++){var o=i.df[h],f=v.jH.kR(t,o[0],o[3][3][0])*(o[1]?1:2);f>l&&(s=o,l=f)}l>e&&(v.jH.adY(t,i,s),n++)}return n!=0},v.jH.a1z=function(t,i){for(var e=[],r=0,n=0;n<t.length;n++)e.push(0);for(var n=0;n<i.df.length;n++){var a=i.df[n],s=a[0],l=a[3][3][0],h=t[s*2],o=t[s*2+1],f=t[l*2],u=t[l*2+1],p=h-f,c=o-u;e[s*2]+=-p,e[s*2+1]+=-c,e[l*2]+=p,e[l*2+1]+=c}for(var n=0;n<t.length;n+=2){var d=n>>>1,g=i.e0[d],a=g,b=!0;do{if(a[1]==null){b=!1;break}a=a[1][3]}while(a!=g);if(b){var m=.02;t[n]+=m*e[n],t[n+1]+=m*e[n+1],r+=m*(e[n]*e[n]+e[n+1]*e[n+1])}}return r},v.jH.a9v=function(t,i,e){var r=v.D.nP(t),n=v.jH.En(t,i);v.jH.Yo(t,n);for(var a=0;a<300;a++){var s=!1,l=!1;s=v.jH.acD(t,n,e,5),s&&(l=v.jH.Yo(t,n));var h=v.jH.a1z(t,n);if(!s&&!l&&h<1e-4)break}return v.jH.a2y(n)},v.s8={},v.s8.xI=function(t){var i=t.n$,e=t.Zc,r=t.zM,n=t.qH,a=t.fU,s=t.VE,l=t.us,h=v.Aw.c$,o,f,u=0;function p(it){for(var nt=new Array(it),ot=0;ot<it;ot++)nt[ot]=0;return nt}for(var c=e.length>>>1,d=p(i.dM*2),g=p(i.dM),b=p(i.dM),m=Date.now(),x=0;x<t.Q6.length;x++){var M=i.a8P+x,S=i.YY*(s[x*2]+l[x*2]),w=i.YY*(s[x*2+1]+l[x*2+1]);d[M*2]=S,d[M*2+1]=w,g[M]=S,b[M]=w}i.aaQ.$J(n,i.a0E.c$(d),.01,o,f);for(var x=0;x<i.gm.df.length;x++){var k=i.gm.df[x],T=k[3][3][0],L=k[0],O=k[3][0],E=k[1]?k[1][3][0]:O;if(!(k[1]&&T>L)){var D=e[T*2],B=e[T*2+1],I=e[L*2],N=e[L*2+1],V=n[T*2],j=n[T*2+1],R=n[L*2],G=n[L*2+1],Z=n[O*2],_=n[O*2+1],U=n[E*2],Y=n[E*2+1],$=[V,j,R,G,Z,_];k[1]&&$.push(U,Y);var P=h(i.a9X[u],$),tt=P[0],X=P[1],ht=1/Math.sqrt(tt*tt+X*X);tt*=ht,X*=ht;var F=I-D,J=N-B;g[u]=tt*F+X*J,b[u]=-X*F+tt*J,u++}}for(var Q=new Array(c),rt=new Array(c),x=0;x<c;x++)Q[x]=a[x*2],rt[x]=a[x*2+1];i.zH.$J(Q,i.ZC.c$(g),.5),i.zH.$J(rt,i.ZC.c$(b),.5);for(var x=0;x<c;x++)a[x*2]=Q[x],a[x*2+1]=rt[x]},v.s8.DN=function(t){for(var i=t.Zc,e=t.zM,r=t.Q6,n=v.Aw.multiply,a=Date.now(),s=v.jH.En(i,e),l=i.length>>>1,h=0,o=0,f=1e3,u=0;u<s.df.length;u++)h+=s.df[u][1]?.5:1;for(var p=h+r.length,c=[],d=new v.sz(p*2,l*2),g=new v.sz(p,l),b=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],m=[],x=[],u=0;u<s.df.length;u++){var M=s.df[u],S=M[3][3][0],w=M[0],k=M[3][0],T=M[1]?M[1][3][0]:k;if(!(M[1]&&S>w)){var L=i[S*2],O=i[S*2+1],E=i[w*2],D=i[w*2+1],B=i[k*2],I=i[k*2+1],N=i[T*2],V=i[T*2+1],j=[[L,O,1,0],[O,-L,0,1],[E,D,1,0],[D,-E,0,1],[B,I,1,0],[I,-B,0,1]];M[1]&&j.push([N,V,1,0],[V,-N,0,1]);var R=v.Aw.yT(j),G=n(linear.invert(n(R,j)),R);G.pop(),G.pop(),c.push(G);var Z=E-L,_=D-O,U=b[M[1]?1:0];U=v.Aw.gI(U,n([[Z,_],[_,-Z]],G));for(var Y=[S*2,S*2+1,w*2,w*2+1,k*2,k*2+1,T*2,T*2+1],$=M[1]?8:6,P=[],tt=0;tt<$;tt++)P.push([Y[tt],U[0][tt],U[1][tt]]);P.sort(function(nt,ot){return nt[0]-ot[0]});for(var X=0;X<2;X++){for(var tt=0;tt<$;tt++)m[tt]=P[tt][0],x[tt]=P[tt][1+X];d.Wz(x,m,$)}S<w?g.Wz([-1,1],[S,w],2):g.Wz([1,-1],[w,S],2),o++}}for(var u=0;u<r.length;u++){var ht=r[u];d.Wz([f],[ht*2],1),d.Wz([f],[ht*2+1],1),g.Wz([f],[ht],1)}var F=d.yT(),J=F.Rs(F),Q=g.yT(),rt=Q.Rs(Q);return{a8P:h,dM:p,a0E:F,aaQ:J,ZC:Q,zH:rt,gm:s,a9X:c,YY:f}},v.s8.acF=function(t,i,e,r,n){var a=new et(0,0,i,e),s=v.R(a.M());v.E4(t,s,3),v.round(s,70);var l=v.xw(s,a),h=[.1,.065,.035][r]*Math.max(l.Z,l.h),o=n+1,f=i+o*2,u=e+o*2,p=new et(-o,-o,f,u),c=v.R(p.M());v.Lj(s,a,c,p);for(var d=c.slice(0),g=0;g<n;g++){for(var b=1;b<u-1;b++)for(var m=1;m<f-1;m++){var x=b*f+m;d[x]=c[x-f]|c[x-1]|c[x]|c[x+1]|c[x+f]}var M=d;d=c,c=M}for(var S=ln.ih(c,f,u,Math.round(l.M()*5e-4)),w=ln.Cj(S),k=new Et(1,0,0,1,-o,-o),x=0;x<w.length;x++){var T=w[x];v.D.O(T.path.d,k,T.path.d),T.Zc=v.s8.a6p(T.path),T.zM=v.D.a2N(T.Zc),T.zM=v.jH.a9v(T.Zc,T.zM,h)}return w},v.s8.a6p=function(t){for(var i=[],e=t.d,r=t.W.length-1,n=0,a=0,s=0;s<r;s++)for(var l=s*6,h=e[l+6]-e[l+0],o=e[l+7]-e[l+1],f=Math.ceil(Math.sqrt(h*h+o*o)),u=0;u<f;u++){var p=u/f,c=1-p,d=c*c*c*e[l+0]+3*c*c*p*e[l+2]+3*c*p*p*e[l+4]+p*p*p*e[l+6],g=c*c*c*e[l+1]+3*c*c*p*e[l+3]+3*c*p*p*e[l+5]+p*p*p*e[l+7];i.push(d,g),n=d,a=g}i=v.D.sX(i,1);for(var b=[],m=i.length,l=0;l<m;l+=2){var g=i.pop(),d=i.pop();b.push(d,g)}return b},v.s8.a4$=function(t,i,e,r){function n(O,E,D,B,I){var N=I[O*2]-I[E*2],V=I[O*2+1]-I[E*2+1],j=Math.sqrt(N*N+V*V);D[O].indexOf(E)==-1&&(D[O].push(E),B[O].push(j)),D[E].indexOf(O)==-1&&(D[E].push(O),B[E].push(j))}var a=t.length>>>1,s=new Array(a);if(e.length==0)return s.fill(0),s;for(var l=new Array(a),h=new Array(a),o=0;o<a;o++)l[o]=[],h[o]=[];for(var o=0;o<i.length;o+=3)n(i[o],i[o+1],l,h,t),n(i[o],i[o+2],l,h,t),n(i[o+1],i[o+2],l,h,t);var f=new Float64Array(a*2),u=new Uint32Array(a*2);f.fill(1e9);for(var p=new Uint8Array(a),c=0;c<e.length;c++){p.fill(0);for(var d=["---",[0,e[c]]];d.length!=1;){var g=v.WO.aaV(d),b=g[0],m=g[1];if(p[m]!=1){var x=m<<1;b<f[x]?(f[x+1]=f[x],u[x+1]=u[x],f[x]=b,u[x]=c):b<f[x+1]&&(f[x+1]=b,u[x+1]=c),p[m]=1;for(var M=l[m],S=h[m],o=0;o<M.length;o++){var w=M[o];p[w]!=1&&v.WO.a6g(d,[b+S[o],w])}}}}for(var o=0;o<a;o++){var x=o<<1,k=f[x],T=f[x+1],L=1/(k+T);s[o]=(1-k*L)*r[u[x]]+(1-T*L)*r[u[x+1]]}return s},v.s8.a0G=function(t){for(var i={W:[],d:[]},e=[t];e.length!=0;){var r=e.pop(),n=r.gx;r.a8S instanceof Array||r.a5X instanceof Array?(i.W.push("M","L","L","L","Z"),i.d.push(n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3])):e.push(r.a8S,r.a5X)}return i},v.s8.ti=function(t,i,e,r,n,a,s){for(var l=e.Z,h=e.h,o=Math.round(s.length/3),f=new Array(o),u=0;u<o;u++)f[u]=u;f.sort(function(c,d){return a[s[c*3]]-a[s[d*3]]});for(var u=0;u<o;u++){var p=f[u]*3;v.s8.aih(s[p]*2,s[p+1]*2,s[p+2]*2,r,n,t,i,l,h)}},v.s8.aih=function(t,i,e,r,n,a,s,l,h){for(var o=v.s8.Is,f=[t,i,e,1.2,1.2,1.2,0],u=[0,0,0,0],p=n[t],c=n[t+1],d=n[i],g=n[i+1],b=n[e],m=n[e+1],x=Math.max(0,Math.min(l-1,r[t])),M=Math.max(0,Math.min(l-1,r[i])),S=Math.max(0,Math.min(l-1,r[e])),w=Math.max(0,Math.min(h-1,r[t+1])),k=Math.max(0,Math.min(h-1,r[i+1])),T=Math.max(0,Math.min(h-1,r[e+1])),L=d-p,O=g-c,E=b-p,D=m-c,B=1/(L*D-E*O+1e-9),I=Math.max(0,Math.floor(Math.min(p,d,b))),N=Math.min(l,Math.ceil(Math.max(p,d,b))),V=Math.max(0,Math.floor(Math.min(c,g,m))),j=Math.min(h,Math.ceil(Math.max(c,g,m))),R=V;R<j;R++)for(var G=I;G<N;G++){var Z=G+.5-p,_=R+.5-c,U=(Z*D-E*_)*B,Y=(L*_-Z*O)*B;if(U>=0&&Y>=0&&U+Y<=1){var $=1-U-Y,P=x*$+M*U+S*Y,tt=w*$+k*U+T*Y;v.P.eU(P,tt,a,l,h,u),v.s8.a7a(u,s,R*l+G<<2)}}},v.s8.a7a=function(t,i,e){var r=i[e],n=i[e+1],a=i[e+2],s=i[e+3],l=1-t[3]*(1/255);i[e]=~~(.5+t[0]+r*l),i[e+1]=~~(.5+t[1]+n*l),i[e+2]=~~(.5+t[2]+a*l),i[e+3]=~~(.5+t[3]+s*l)},v.s8.Is=function(){var t=function(e,r,n,a){var s=a[0],l=a[1],h=a[2],o=e[s+0],f=e[s+1],u=e[l+0],p=e[l+1],c=e[h+0],d=e[h+1],g=u-o,b=p-f,m=c-o,x=d-f,M=r-o,S=n-f,w=g*x-m*b,k=1/(w+1e-9),T=(M*x-m*S)*k,L=(g*S-M*b)*k;return T>=0&&L>=0&&T+L<=1?(a[3]=1-T-L,a[4]=T,a[5]=L,1):0},i=function(e,r,n,a){for(var s=[0,0,0,0,0,0],l=0;l<r.length;l+=3)if(s[0]=r[l]*2,s[1]=r[l+1]*2,s[2]=r[l+2]*2,t(e,n,a,s)==1)return!0;return!1};return{acP:t,a7N:i}}(),v.dW=function(){var t=0,i=0,e=15,r=256;function n(f,u,p,c,d,g){var b=(d-1)*u,m=g*u;return f[m+c]-f[m+p-1]-f[b+c]+f[b+p-1]}var a=Math.round(e/8),s=[];function l(f,u){for(var p=0;p<u.length;p++){for(var c=u[p],d=0,g=0,b=f[c.Mz],m=b.AH,x=b.YY,M=b.mi,S=-e;S<=e;S++)for(var w=-e;w<=e;w++){var k=w+c.Zh,T=S+c.TN;if(!(w*w+S*S>e*e||k<0||T<0||k>=x||T>=x)){var L=m[T*x+k];d+=w*L,g+=S*L}}c.Fu=Math.atan2(g,d)}}function h(f,u,p,c,d){var g=~~(f+.5),b=~~(u+.5);return n(p,c,g-a,g+a,b-a,b+a)}function o(f,u,p,c,d){if(t=c,i=d,s.length==0){let it=function(ot){var pt=ot[0]-ot[2],yt=ot[1]-ot[3];return pt*pt+yt*yt},nt=function(){for(var ot=0,pt=0;ot===0;)ot=g.get();for(;pt===0;)pt=g.get();return Math.sqrt(-2*Math.log(ot))*Math.cos(2*Math.PI*pt)};for(var Q=it,rt=nt,g=new v.N.Df(16200817),b=8,m=0,x=nt,M=[];m!=r;){var S=Math.max(-e,Math.min(e,x()*b)),w=Math.max(-e,Math.min(e,x()*b)),k=Math.max(-e,Math.min(e,x()*b)),T=Math.max(-e,Math.min(e,x()*b)),L=S-k,O=w-T,E=Math.sqrt(L*L+O*O);E<3||E>12||(s.push(S,w,k,T),m++)}}for(var D=20,B=0;B<u.length;B++){var I=u[B],N=f[I.Mz],V=N.Nd,p=N.AH,c=N.YY,d=N.mi,j=I.Zh,R=I.TN,G=I.Fu,Z=Math.cos(G),_=Math.sin(G),U=new Uint8Array(r>>>3);I.w1=U;for(var Y=0;Y<r;Y++){var $=Y*4,S=s[$+0],w=s[$+1],k=s[$+2],T=s[$+3],P=Z*S-_*w,tt=_*S+Z*w,X=Z*k-_*T,ht=_*k+Z*T,F=h(j+P,R+tt,V,c,d),J=h(j+X,R+ht,V,c,d);U[Y>>>3]|=(F<J?0:1)<<(Y&7)}}}return{aje:l,ajG:o}}(),v.agn=function(){var t=0,i=0;function e(a,s,l,h,o,f){var u=(o-1)*s,p=f*s;return a[p+h]-a[p+l-1]-a[u+h]+a[u+l-1]}function r(a,s,l){var h=new Uint32Array(s*l);h[0]=a[0];for(var o=1;o<s;o++)h[o]=h[o-1]+a[o];for(var f=1;f<l;f++){var u=f*s;h[u]=h[u-s]+a[u];for(var o=1;o<s;o++)h[u+o]=a[u+o]+h[u+o-1]+h[u+o-s]-h[u+o-s-1]}return h}function n(a,s){for(var l=[[9]],h=Date.now(),o=[],f=0;f<a.length;f++){var u=a[f],p=u.Nd,c=t=u.YY,d=i=u.mi,g=9,b=1,m=24;if(p!=null){var x=new Float32Array(c*d),M=new Uint8Array(c*d),S=g>>>1,w=S>>>1,k=Math.round(g/3);if(k!=g/3)throw"e";for(var T=1/(g*g),L=1.2*(g/9),O=S+1;O<d-S;O+=b)for(var E=S+1;E<c-S;E+=b){var D=e(p,c,E-w,E+w,O-S,O+S)-3*e(p,c,E-w,E+w,O-S+k,O+S-k),B=e(p,c,E-S,E+S,O-w,O+w)-3*e(p,c,E-S+k,E+S-k,O-w,O+w),I=E-S+1,N=E+S-1,V=O-S+1,j=O+S-1,R=e(p,c,I,E-1,V,O-1)+e(p,c,E+1,N,O+1,j)-e(p,c,E+1,N,V,O-1)-e(p,c,I,E-1,O+1,j),G=(B*D-.9*R*(.9*R))*(T*T);x[O*c+E]=Math.abs(G),M[O*c+E]=G<0?0:1}for(var Z=c*b,O=m;O<d-m;O+=b)for(var E=m;E<c-m;E+=b){var _=O*c+E,U=x[_];U<16||x[_-b]>=U||x[_+b]>=U||x[_-Z-b]>=U||x[_-Z]>=U||x[_-Z+b]>=U||x[_+Z-b]>=U||x[_+Z]>=U||x[_+Z+b]>=U||o.push({x:~~(E*u.I6+.5),y:~~(O*u.I6+.5),Zh:E,TN:O,Mz:f,C:U,wy:M[_],Pg:L})}}}return s!=null&&(o.sort(function(J,Q){return Q.C-J.C}),o=o.slice(0,s)),o;for(var Y=[],_=0;_<o.length;_++){for(var $=!0,P=o[_],tt=0;tt<o.length;tt++){var X=o[tt];if(tt!=_&&X.C>P.C&&(X.Mz==P.Mz+1||X.Mz==P.Mz-1)){var ht=P.x-X.x,F=P.y-X.y;if(ht*ht+F*F<5){$=!1;break}}}$&&Y.push(P)}return console.log(o.length,Y.length),Y}return{a87:n}}(),v.Hn={},v.Hn.a7r=function(t){var i=t.length,e=v.Hn.hj(t,!1),r=0,n=1;throw"e";for(var a,s;s<i;s++)a[s]=v.Hn.x1(e[s]);for(var l,h,o,f,u,p,c,d,g,s;s<1;s++)var b=f[s],m=e[r][b[0]],x=e[n][b[1]],M=v.Bz.aed(p,g*(m.x-c),g*(m.y-d),g*(x.x-c),g*(x.y-d));for(var S,w,s;s<2;s++){var k=S[s],T=[k[0][0],k[0][1],k[0][2],k[1][0],k[1][1],k[1][2],k[2][0],k[2][1]],L=C.X.rx(t[s],null,T);w.push([L.buffer,L.rect])}},v.Hn.q1=function(t,i){var e=t.length,r=!1,n=Date.now(),a=v.Hn.hj(t,!1,1e4);r&&console.log("Descriptors ready",Date.now()-n),n=Date.now();for(var s=0;s<e;s++)for(var l=t[s][1],h=0;h<a[s].length;h++)a[s][h].x+=l.x,a[s][h].y+=l.y;r&&console.log("shifted",Date.now()-n),n=Date.now();for(var o=[],s=0;s<e;s++)o[s]=v.Hn.x1(a[s]);r&&console.log("trees built",Date.now()-n),n=Date.now();for(var f=[],s=0;s<e-1;s++)for(var h=s+1;h<e;h++){var u=v.Hn.match(a[s],a[h],o[h]);if(r&&console.log("Matches found",s,h,u.length),u=u.slice(0,u.length>>>1),u.length<10)return null;var p=v.Hn.ami(a[s],a[h],u,2);f.push([s,h,u,p])}f.sort(function(E,D){return D[2].length-E[2].length}),r&&console.log("Matches found",Date.now()-n),n=Date.now();for(var c=[],d=new UnionFind(e),s=0;s<f.length;s++){var g=f[s],b=d.find(g[0]),m=d.find(g[1]);b!=m&&(c.push(g),d.link(b,m))}for(var x=[],s=0;s<e;s++)x[s]=[1,0,0,0,1,0,0,0];var M=[0],S=new Uint8Array(e);for(S[M[0]]=1;M.length!=0;)for(var m=M.pop(),p=x[m],w=[],s=0;s<c.length;s++){var g=c[s],k=g[0],T=g[1];k==m&&S[T]==0&&(x[T]=v.P.$T(p,g[3]),M.push(T),S[T]=1),T==m&&S[k]==0&&(x[k]=v.P.$T(p,v.P.nJ(g[3])),M.push(k),S[k]=1)}if(i==null){for(var L=[],s=0;s<e;s++)L.push([x[s][2],s]);L.sort(function(E,D){return E[0]-D[0]}),i=L[L.length>>>1][1]}for(var O=v.P.nJ(x[i]),s=0;s<e;s++)x[s]=v.P.$T(x[s],O);return r&&console.log("Transforms reordered",Date.now()-n),n=Date.now(),x},v.Hn.hj=function(t,i,e){for(var r=[],n=!1,a=0;a<t.length;a++){var s=t[a][0],l=t[a][1],h=l.Z,o=l.h,f=v.R(l.M());v.np(s,f);var u=Date.now(),p=v.Hn.aio(f,l,!0);n&&console.log("Pyramid built ---------------",Date.now()-u),u=Date.now();var c=v.agn.a87(p,e);n&&console.log("SURF Generation",Date.now()-u),u=Date.now(),i||(v.dW.aje(p,c),n&&console.log("ORB Orientations",Date.now()-u),u=Date.now(),v.dW.ajG(p,c,f,h,o),n&&console.log("ORB Descriptors",Date.now()-u),u=Date.now()),r.push(c)}return r},v.Hn.aio=function(t,i,e){function r(g,b,m){var x=new Uint32Array(b*m);x[0]=g[0];for(var M=1;M<b;M++)x[M]=x[M-1]+g[M];for(var S=1;S<m;S++){var w=S*b;x[w]=x[w-b]+g[w];for(var M=1;M<b;M++)x[w+M]=g[w+M]+x[w+M-1]+x[w+M-b]-x[w+M-b-1]}return x}var n=[],a=[t,i];if(v.h8(a),e){var s=v.zj(t,i),l=s.rect,h=[s.Ww,l];v.h8(h)}for(var o=0;o<a.length;o++){var f=a[2*o],u=a[2*o+1],p=u.Z,c=u.h,d=Math.min(p,c);if(d<30)break;if(d<1600&&n.push({AH:f,YY:p,mi:c,I6:1<<o,Nd:r(f,p,c)}),!!e){var f=h[2*o],u=h[2*o+1],p=u.Z,c=u.h,d=Math.min(p,c);if(d<30)break;d<1600&&n.push({AH:f,YY:p,mi:c,I6:(1<<o)*3/2,Nd:r(f,p,c)})}}return n},v.Hn.ami=function(t,i,e,r){for(var n=Date.now(),a,s=0,l=0,h=e.length,o=new Float64Array(2),f=0;f<3e3;f++){var u=~~(Math.random()*h),p=~~(Math.random()*h),c=~~(Math.random()*h),d=~~(Math.random()*h),g=0,b=0;if(!(u==p||u==c||u==d||p==c||p==d||c==d)){var m=e[u],x=e[p],M=e[c],S=e[d],w=t[m[0]],k=i[m[1]],T=t[x[0]],L=i[x[1]],O=t[M[0]],E=i[M[1]],D=t[S[0]],B=i[S[1]],I=[w.x,w.y,T.x,T.y,O.x,O.y,D.x,D.y],N=[k.x,k.y,L.x,L.y,E.x,E.y,B.x,B.y],V=v.P.dP(I,N);if(!(V[0]==0&&V[1]==0&&V[3]==0&&V[4]==0)){for(var j=h-s+2,R=0;R<h&&R-g<j;R++){var G=t[e[R][0]],Z=i[e[R][1]];v.P.MC(Z.x,Z.y,V,o);var _=o[0]-G.x,U=o[1]-G.y,Y=_*_+U*U;Y<r&&(g++,b+=Y)}(g>s||g==s&&b<l)&&(a=V,s=g,l=b)}}}return a};for(var Uh=new Uint8Array(256),Ql=0;Ql<256;Ql++){for(var Gh=0,$l=Ql;$l!=0;)$l=$l&$l-1,Gh++;Uh[Ql]=Gh}v.Hn.adV=function(t,i,e){for(var r=0,n=t.length,a=0;a<n&&r<e;a++)r+=Uh[t[a]^i[a]];return r},v.Hn.a0b=function(t,i,e,r,n){if(n[e]!=1){var a=v.Hn.adV(t.w1,i.w1,r[0]);a<r[0]&&(a<r[2]?(r[0]=r[2],r[1]=r[3],r[2]=a,r[3]=e):(r[0]=a,r[1]=e)),n[e]=1}},v.Hn.x1=function(t){for(var i=[],e=[],r=[[],[]],n=4,a=0;a<t.length;a++)(t[a].wy==0?i:e).push(a);for(var s=0;s<2;s++){for(var l=new Array(n),h=[],o=s==0?i:e,f=o.length/256,u=[],p=0;p<32;p++){for(var c=new Array(256),d=0,g=0;g<256;g++)c[g]=[];for(var g=0;g<o.length;g++){var b=o[g];c[t[b].w1[p]].push(b)}for(var g=0;g<256;g++)d+=Math.abs(c[g].length-f);u.push([d,p,c])}u.sort(function(m,x){return m[0]-x[0]});var h=[],l=[];r[s]=[h,l];for(var a=0;a<n;a++)h.push(u[a][1]),l.push(u[a][2])}return r},v.Hn.match=function(t,i,e){var r=[],n=new Uint16Array(i.length);n.fill(65535);for(var a=new Uint8Array(i.length),s=new Uint32Array(4),l=[],h=0;h<t.length;h++){var o=t[h],f=o.w1;s.fill(1e6),a.fill(0);for(var u=e[o.wy],p=0;p<u[1].length;p++)for(var c=u[1][p][f[u[0][p]]],d=0;d<c.length;d++){var g=c[d];v.Hn.a0b(o,i[g],g,s,a)}if(s[2]<50&&s[2]<s[0]*.5){var b=n[s[3]];b==65535?(n[s[3]]=r.length,r.push([h,s[3],s[2]])):s[2]<r[b][2]&&(r[b]=[h,s[3],s[2]])}}return r.sort(function(m,x){return m[2]-x[2]}),r},v.Hn.ahH=function(t){for(var i=new et,e=0;e<t.length;e++)i=i.s7(t[e][1]);for(var r=v.R(i.M()*4),e=0;e<t.length;e++)v.N.DO("norm",t[e][0],t[e][1],r,i,i,1);return[r,i]},v.Hn.ah2=function(t,i,e,r,n,a,s,l){var h=t[1].clone(),o=h.clone();h.x=h.y=0;var f=i[1].clone(),u=f.clone();f.x=f.y=0,f.x=h.Z;var p=h.s7(f),c=u.y-o.y,d=v.R(p.M()*4);v.BP(t[0],h,d,p),v.BP(i[0],new et(f.x,f.y+c,f.Z,f.h),d,p);var g=document.createElement("canvas");g.width=p.Z,g.height=p.h;var b=g.getContext("2d");if(b.lineWidth=.5,b.putImageData(new ImageData(new Uint8ClampedArray(d.buffer),p.Z,p.h),0,0),a)for(var m=a[0],x=v.Aw.yT(m),M=h.Z,S=l.Z,w=0;w<n.length;w++){var k=n[w],t=e[k[0]],i=r[k[1]];b.strokeStyle="#ff0000",b.beginPath();var T=v.Bz.aht(x,s[0],i,0,S),L=v.Bz.aht(m,s[1],t,0,S);b.moveTo(-o.x+T[0],-o.y+T[1]),b.lineTo(-o.x+T[2],-o.y+T[3]),b.moveTo(M-u.x+L[0],-u.y+c+L[1]),b.lineTo(M-u.x+L[2],-u.y+c+L[3]),b.stroke()}if(n)for(var O=n.length,w=0;w<O;w++){var k=n[w],t=e[k[0]],i=r[k[1]];b.strokeStyle="#ffff00"}var E=new Uint8Array(b.getImageData(0,0,p.Z,p.h).data.buffer);if(!1)for(var D;D<2;D++){var B,I;for(var w;w<B.length;w++)var N,V,j,R}return[E,p]},v.stack={},v.stack.stack=function(t,i,e){var r=t.length,n=i.length;if(r==1){i.set(t[0]);return}if(e=="avrg"||e=="stdv"||e=="summ"||e=="vari")for(var a=1/r,s=0;s<n;s++){for(var l=0,h=0;h<r;h++)l+=t[h][s];var o=~~(l*a+.5);if(e=="avrg"||(s&3)==3)i[s]=o;else if(e=="summ")i[s]=255*Math.pow(Math.min(255,l)*(1/255),1/2.4);else{for(var f=0,h=0;h<r;h++){var u=t[h][s]-o;f+=u*u}var p=Math.sqrt(f*a)*(1/255);e=="stdv"?i[s]=255*Math.pow(p,1/2.4):i[s]=255*Math.pow(p*p,1/2.4)}}else if(e=="maxx")for(var s=0;s<n;s++){for(var c=0,h=0;h<r;h++)c=Math.max(c,t[h][s]);i[s]=c}else if(e=="minn")for(var s=0;s<n;s++){for(var c=255,h=0;h<r;h++)c=Math.min(c,t[h][s]);i[s]=c}else if(e=="medn"||e=="rang"){var d=function(x,M){return x-M},g=new Array(r),b=0,m=0;r%1==0?(m=r>>>1,b=m-1):b=m=r>>>1;for(var s=0;s<n;s++){for(var h=0;h<r;h++)g[h]=t[h][s];g.sort(d),e=="medn"?i[s]=g[b]+g[m]>>>1:i[s]=(s&3)==3?g[r-1]:g[r-1]-g[0]}}else console.log(e)},v.Hr={},v.Hr.a9H=function(t,i,e,r,n){for(var a=v.Hr.DK(t.buffer,i,e).a2,s=Date.now(),l=new Uint32Array(a.length),h=0;h<a.length;h++)l[h]=a[h].p$;for(var o=UPNG.quantize.getKDtree(new Uint8Array(l.buffer),r),f=[i,1,-i,-1,i+1,-i+1,-i-1,i-1,i+i,2,-i-i,-2,i+i-1,i+i+1,i+2,-i+2,-i-i+1,-i-i-1,-i-2,i-2,i+i+2,-i-i+2-i-i-2,i+i-2],u=new Uint8Array(i*e),p=t,c=0;c<e;c++)for(var d=0;d<i;d++){var h=c*i+d<<2,g=p[h]*(1/255),b=p[h+1]*(1/255),m=p[h+2]*(1/255),x=p[h+3]*(1/255),M=v.Hr.AO(o,g,b,m,x,n);if(M==null){for(var S=[],w=0;w<20;){var k=c*i+d+f[w]<<2,T=p[k]*(1/255),L=p[k+1]*(1/255),O=p[k+2]*(1/255),E=p[k+3]*(1/255),D=v.Hr.AO(o,T,L,O,E,.005);D!=null&&(S.indexOf(D)==-1?(S.push(D),D.YN=1):D.YN++),w++}for(S.sort(function(Gt,zt){return zt.YN-Gt.YN});S.length!=0&&S[S.length-1].YN<3;)S.pop();if(S.length==0)M=v.Hr.AO(o,g,b,m,x,100);else if(S.length==1)M=S[0];else if(S.length==2){var B=S[0],I=S[1],N=B.est.q,V=I.est.q,j=V[0]-N[0],R=V[1]-N[1],G=V[2]-N[2],Z=V[3]-N[3],_=g-N[0],U=b-N[1],Y=m-N[2],$=x-N[3],P=j*j+R*R+G*G+Z*Z,tt=_*_+U*U+Y*Y+$*$,X=(_*j+U*R+Y*G+$*Z)/P,ht=tt-X*X*P;ht<.5?M=X<.5?B:I:M=v.Hr.AO(o,g,b,m,x,100)}else{var B=S[0],I=S[1],F=S[2],N=B.est.q,V=I.est.q,J=F.est.q,Q=N[0]-J[0],rt=N[1]-J[1],it=N[2]-J[2],nt=N[3]-J[3],ot=V[0]-J[0],pt=V[1]-J[1],yt=V[2]-J[2],ct=V[3]-J[3],vt=J[0]-g,wt=J[1]-b,Mt=J[2]-m,Ct=J[3]-x,gt=Q*Q+rt*rt+it*it+nt*nt,bt=Q*ot+rt*pt+it*yt+nt*ct,xt=vt*Q+wt*rt+Mt*it+Ct*nt,Dt=Q*ot+rt*pt+it*yt+nt*ct,Ot=ot*ot+pt*pt+yt*yt+ct*ct,kt=vt*ot+wt*pt+Mt*yt+Ct*ct,mt=1/(bt*Dt-gt*Ot),X=(Ot*xt-kt*bt)*mt,It=(kt*gt-xt*Dt)*mt,Bt=1-X-It,Ut=Math.max(X,It,Bt);Ut==X?M=B:Ut==It?M=I:M=F}}u[h>>2]=M.ind}return{zM:u,a2:o[1]}},v.Hr.DK=function(t,i,e){for(var r=[],n={},a=i-1,s=e-1,l=0,h=new Uint32Array(t),o=[-i-1,-i,-i+1,-1,1,i-1,i,i+1,i+i,2,-i-i,-2,i+i-1,i+i+1,i+2,-i+2,-i-i+1,-i-i-1,-i-2,i-2,i+i+2,-i-i+2-i-i-2,i+i-2],f=1;f<s;f++)for(var u=1;u<a;u++){for(var p=f*i+u,c=h[p],d=!0,g=0;g<8;g++)d=d&&h[p+o[g]]==c;if(d){l++;var b=n[c];b==null?(n[c]=r.length,r.push({p$:c,g8:1})):r[b].g8++}}return{a2:r,adf:l}},v.Hr.AO=function(t,i,e,r,n,a){var s=UPNG.quantize.getNearest(t[0],i,e,r,n);return v.Hr.a8F(s,i,e,r,n)<a?s:null},v.Hr.a8F=function(t,i,e,r,n){var a=t.est.q,s=i-a[0],l=e-a[1],h=r-a[2],o=n-a[3];return s*s+l*l+h*h+o*o},v.Hr.a6o=function(t,i,e,r){for(var n=v.Hr.a3C(t,i,e,r),a=n.zM,s=n.a2,l=n.akb,h=UPNG.quantize.getKDtree(new Uint8Array(l.buffer.slice(0)),200),o=[],f=0;f<s.length;f++){var u=s[f].Qw,p=u[0],c=u[1],d=u[2],g=u[3];if(Math.min(p,c,d,g)<0)throw"e";var b=UPNG.quantize.getNearest(h[0],p/255,c/255,d/255,g/255);o.push(h[1].indexOf(b))}for(var f=0;f<i*e;f++)a[f]=o[a[f]];return{zM:a,a2:h[1]}},v.Hr.a3C=function(t,i,e,r){for(var n=i*e,a=2*n,s=v.Hr.amG(t,i,e),l=65535+1,h=new Uint32Array(l),o=0,f=0;f<a;f++)h[s[f]]++;for(var u=new Uint32Array(l),f=0;f<l;f++)u[f]=o,o+=h[f];for(var p=new Uint32Array(a),f=0;f<a;f++){var c=s[f];p[u[c]]=f,u[c]++}for(var d=new UnionFind(n),g=new Uint16Array(n),b=new Uint32Array(n),f=0;f<n;f++)b[f]=1;for(var m=n,x=1e5/(r*10),M=0;M<a;M++){var S=p[M],w=s[S];if(w!=65535){var f=S>>1,k=f+((S&1)==0?1:i),T=d.find(f),L=d.find(k),O=Math.min(g[T]+x/Math.sqrt(b[T]),g[L]+x/Math.sqrt(b[L]));if(T!=L&&w<=O){d.link(f,k),m--;var E=d.find(f);b[E]=b[T]+b[L],g[E]=w}}}for(var D=[],B={},I=new Uint16Array(n),f=0;f<n;f++){var E=d.find(f),N=B[E];N==null&&(B[E]=N=D.length,D.push({g8:0,Qw:[0,0,0,0]})),D[N].g8++;for(var k=0;k<4;k++)D[N].Qw[k]+=t[(f<<2)+k];I[f]=N}for(var V=new Uint32Array(D.length),f=0;f<D.length;f++){for(var N=D[f],k=0;k<4;k++)N.Qw[k]=Math.round(N.Qw[k]/N.g8);V[f]=N.Qw[3]<<24|N.Qw[2]<<16|N.Qw[1]<<8|N.Qw[0]}return{zM:I,a2:D,akb:V}},v.Hr.amG=function(t,i,e){for(var r=new Uint16Array(i*e*2),n=0;n<e;n++)for(var a=0;a<i;a++){var s=n*i+a;r[s+s]=a<i-1?v.Hr.Lw(t,s,s+1):65535,r[s+s+1]=n<e-1?v.Hr.Lw(t,s,s+i):65535}return r},v.Hr.Lw=function(t,i,e){var r=i<<2,n=e<<2,a=t[r],s=t[r+1],l=t[r+2],h=t[r+3],o=t[n],f=t[n+1],u=t[n+2],p=t[n+3],c=a-o,d=s-f,g=l-u,b=h-p;return c*c+d*d+g*g+b*b>>2},v.Hr.xH=function(){function t(m,x,M,S,w,k){for(var T=[],L=k,O=k,E=k>>>2,D=0;D<w;D++)for(var B=0;B<S;B++){for(var I=~~((B+.5)*L),N=~~((D+.5)*O),V=1e9,j=Math.max(0,I-E),R=Math.min(x,I+E+1),G=Math.max(0,N-E),Z=Math.min(M,N+E+1),_=G;_<Z;_++)for(var U=j;U<R;U++){var Y=i(m,x,U,_);Y<V&&(I=U,N=_,V=Y)}var $=(N*x+I)*4;T.push(m[$],m[$+1],m[$+2],I,N)}return T}function i(m,x,M,S){var w=(S*x+M)*4,k=x*4,T=e(m,w-4,w)+e(m,w,w+4),L=e(m,w-k,w)+e(m,w,w+k);return T+L}function e(m,x,M){var S=m[x]-m[M],w=m[x+1]-m[M+1],k=m[x+2]-m[M+2];return S*S+w*w+k*k}var r=0,n=0;function a(m,x,M,S){n++,S<r&&(r=S),m[S].push(x,M)}function s(m){for(n--;m[r].length==0;)r++}function l(m,x,M){r=0,n=0;var S=x*M,w=Math.round(Math.min(x,M)/50),k=0,T=16;w==0&&(w=1);var L=30/w,O=Math.floor(x/w),E=Math.floor(M/w),D=O*E;if(D>65535)throw D;for(var B=new Uint16Array(S),I=0;I<S;I++)B[I]=65535;for(var N=t(m,x,M,O,E,w),V=[],I=0;I<1e3+M;I++)V.push([]);for(var j=[0,1,0,-1,-1,0,1,0],R=Math.min(E,5),G=new Uint32Array(D*6),Z=0;Z<E;Z+=R){for(var _=Math.min(Z+R+1,E),U=Z;U<_;U++)for(var Y=0;Y<O;Y++){var I=U*O+Y,$=I*5,P=N[$+4]<<16|N[$+3];a(V,P,I,N[$+4]>>>T)}var tt=Math.min(M,_*w);for(Z+R>=E&&(tt=M);n!=0;){s(V);var X=V[r].pop(),ht=V[r].pop(),F=ht>>>16,J=ht&65535,I=F*x+J;if(B[I]==65535){var Q=X*6,rt=I<<2;B[I]=X,G[Q]+=m[rt],G[Q+1]+=m[rt+1],G[Q+2]+=m[rt+2],G[Q+3]+=J,G[Q+4]+=F,G[Q+5]++;var it=F>>>T;F!=tt-1&&B[I+x]==65535&&a(V,F+1<<16|J,X,h(m,x,L,J,F+1,G,Q)+it),F!=0&&B[I-x]==65535&&a(V,F-1<<16|J,X,h(m,x,L,J,F-1,G,Q)+it),J!=0&&B[I-1]==65535&&a(V,F<<16|J-1,X,h(m,x,L,J-1,F,G,Q)+it),J!=x-1&&B[I+1]==65535&&a(V,F<<16|J+1,X,h(m,x,L,J+1,F,G,Q)+it)}}if(tt!=F){var nt=(Z+R)*O;G.fill(0,nt*6,(nt+O)*6);for(var F=(Z+R-2)*w;F<tt;F++)for(var J=0;J<x;J++){var I=F*x+J;B[I]>=nt&&(B[I]=65535)}}}return{zM:B,zo:D,OR:G}}v.Hr.bY=function(m,x,M,S,w){for(var k=m.zo,T=x*M,L=m.OR,O=m.zM,E=c(S,O,k,T),D=new UnionFind(k),B=0,I=1;I<M;I++)for(var N=1;N<x;N++){var V=I*x+N,j=O[V],R=0;(R=O[V-1])!=j&&E[R]==E[j]&&o(L,0,j*6,R*6)<w&&D.link(j,R),(R=O[V-x])!=j&&E[R]==E[j]&&o(L,0,j*6,R*6)<w&&D.link(j,R)}var G=new Uint16Array(k);G.fill(65535);for(var Z=new Uint16Array(k),V=0;V<k;V++){var _=D.find(V);G[_]==65535&&(G[_]=B++),Z[V]=G[_]}for(var U=new Uint16Array(T),V=0;V<T;V++)U[V]=Z[O[V]];return{zM:U,zo:B}},v.Hr.tW=function(m,x,M,S){for(var w=v.R(M),k=x.length,T=0,L=0;L<k&&T!=3;L++){var O=S[L];if(O==0||O==255){var E=x[L],D=2-(O>>>7);w[E]=T=w[E]|D}}return T!=3};function h(m,x,M,S,w,k,T){var L=(w*x+S)*4,O=k[T+5],E=1/O,D=m[L]*O-k[T],B=m[L+1]*O-k[T+1],I=m[L+2]*O-k[T+2],N=S*O-k[T+3],V=w*O-k[T+4],j=Math.sqrt(D*D+B*B+I*I),R=Math.sqrt(N*N+V*V);return~~((j+M*R)*E+.5)}function o(m,x,M,S){var w=1/m[M+5],k=1/m[S+5],T=m[M]*w-m[S]*k,L=m[M+1]*w-m[S+1]*k,O=m[M+2]*w-m[S+2]*k,E=m[M+3]*w-m[S+3]*k,D=m[M+4]*w-m[S+4]*k,B=Math.sqrt(T*T+L*L+O*O),I=Math.sqrt(E*E+D*D);return~~(B+x*I+.5)}function f(m,x,M){var S=v.p0(m,new et(0,0,x,M)),w=S.rect.Z,k=S.rect.h,T=l(S.Ww,w,k),L=T.zM,O=Date.now(),E=new Uint16Array(x*M);E.fill(65535);for(var D=0;D<k;D++)for(var B=0;B<w;B++){var I=D*w+B,N=(D<<1)*x+(B<<1),V=L[I];(L[I-w]!=V||L[I-1]!=V||L[I+1]!=V||L[I+w]!=V)&&(V=65535),E[N]=V,E[N+1]=V,E[N+x]=V,E[N+x+1]=V}return T.zM=E,T}function u(m,x){for(var M=0,S=m.length;M!=S&&m[M]!=x;)M+=2;return M==S?-1:M}function p(m,x){x==m.length-2?(m.pop(),m.pop()):(m[x+1]=m.pop(),m[x]=m.pop())}v.Hr.a1o=function(m,x,M,S,w){for(var k=new Uint32Array(w*4400),T=[],L=0;L<w;L++)T.push([]);for(var O=0;O<M;O++)for(var E=0;E<x;E++){var L=O*x+E,D=L<<2,B=S[L],I=0,N=m[D]>>>4,V=m[D+1]>>>4,j=m[D+2]>>>4;k[B*4400+(N<<8|V<<4|j)]++,k[B*4400+4096]++,k[B*4400+4100+(N<<4|V)]++,k[B*4400+4360+N]++,E!=0&&(I=S[L-1])!=B&&u(T[B],I)==-1&&(T[B].push(I,0),T[I].push(B,0)),O!=0&&(I=S[L-x])!=B&&u(T[B],I)==-1&&(T[B].push(I,0),T[I].push(B,0))}for(var L=0;L<w;L++)for(var j=T[L],R=0;R<j.length;R+=2)j[R+1]=b(k,L,j[R]);return[k,T]};function c(m,x,M,S){for(var w=v.R(M),k=0;k<S;k++){var T=m[k];(T==0||T==255)&&(w[x[k]]=2-(T>>>7))}return w}v.Hr.a7$=function(m,x,M,S,w,k,T){for(var L=x*M,O=T[0],E=T[1],D=new UnionFind(S),B=c(w,m,S,L),I=-1,N=!0,V=0,j=0;j<S;j++)B[j]==1&&(I==-1?I=j:D.link(j,I));if(I==-1){for(var j=0;j<L;j++)k[j]=w[j]==255?255:0;return}for(;N;){for(;N;){N=!1;for(var j=0;j<S;j++)if(B[j]==0){var R=d(E[j]);B[R]==1&&(B[j]=B[R],N=!0,D.link(j,R))}}for(N=!0,V=0;N;){N=!1;for(var j=0;j<S;j++)if(B[j]==0){var R=d(E[j]);if(B[R]==0){for(var G=j*4400,Z=R*4400,_=0;_<4400;_+=2)O[G+_]+=O[Z+_],O[G+_+1]+=O[Z+_+1];g(E,O,j,R),V++,B[R]=3,N=!0,D.link(j,R)}}}N=V!=0}for(var U=D.find(I),j=0;j<S;j++)B[j]=D.find(j)==U?255:0;for(var j=0;j<L;j++)k[j]=B[m[j]];for(var j=0;j<L;j++){var R=w[j];(R==0||R==255)&&(k[j]=R)}};function d(m){for(var x=0,M=0,S=m.length,w=0;w<S;w+=2){var k=m[w+1];k>M&&(M=k,x=w)}return m[x]}function g(m,x,M,S){var w=m[M],k=m[S];p(w,u(w,S)),p(k,u(k,M));for(var T=0;T<k.length;T+=2){var L=k[T],O=m[L];p(O,u(O,S)),u(O,M)==-1&&(O.push(M,0),w.push(L,0))}for(var T=0;T<w.length;T+=2){var L=w[T],O=m[L],E=b(x,M,L);w[T+1]=E,O[u(O,M)+1]=E}}function b(m,x,M){for(var S=0,w=4096,k=x*4400,T=M*4400,L=0;L<16;L++)if(!(m[k+4360+L]==0||m[T+4360+L]==0))for(var O=0;O<16;O++){var E=L<<4|O;if(!(m[k+4100+E]==0||m[T+4100+E]==0))for(var D=k+(E<<4),B=T+(E<<4),I=0;I<16;I++)S+=Math.sqrt(m[D+I]*m[B+I])}var N=S/Math.sqrt(m[k+w]*m[T+w]);return~~(999.99999*N)}return l}();var ln=function(){function t(){this.M=0,this.lv=0,this.e2={},this.Oi=[],this.b5=1e5,this.HY=1e5,this.WJ=-1,this.hu=-1,this.color=0}function i(n){this.Dy=n,this.k9=new Array(n),this.p$=new Array(n*6),this.agI=0,this.Hi=new Array(n*2),this.alpha=new Array(n),this.JC=new Array(n),this.YH=new Array(n)}function e(n,a,s,l){function h(L,O,E,D){return E[D*O+L]}function o(L){for(var O=n.length;L<O&&n[L]==0;)L++;return L<O?L:-1}function f(L,O,E){for(var D=2;D<5;D++){for(var B=0,I=-D+1;I<=D-1;I++)B+=h(L+I,O+D-1,n,a)==E?1:-1,B+=h(L+D-1,O+I-1,n,a)==E?1:-1,B+=h(L+I-1,O-D,n,a)==E?1:-1,B+=h(L-D,O+I,n,a)==E?1:-1;if(B>0)return 1;if(B<0)return 0}return 0}function u(L,O){var E=new t,D=L,B=O,I=0,N=1,V;for(E.color=n[O*a+L],E.sign=h(L,O,n,a)==E.color?"+":"-";E.Oi.push(D,B),D>E.WJ&&(E.WJ=D),D<E.b5&&(E.b5=D),B>E.hu&&(E.hu=B),B<E.HY&&(E.HY=B),E.lv++,D+=I,B+=N,E.M-=D*N,!(D==L&&B==O);){var j=h(D+(I+N-1>>1),B+(N-I-1>>1),n,a)==E.color,R=h(D+(I-N-1>>1),B+(N+I-1>>1),n,a)==E.color;R&&!j?l.Jw=="right"||l.Jw=="black"&&E.sign=="+"||l.Jw=="white"&&E.sign=="-"||l.Jw=="majority"&&f(D,B,E.color)||l.Jw=="minority"&&!f(D,B,E.color)?(V=I,I=-N,N=V):(V=I,I=N,N=-V):R?(V=I,I=-N,N=V):j||(V=I,I=N,N=-V)}return E}for(var p=0,c=[];;){var p=o(p);if(p==-1)break;for(var d=Math.floor(p/a),g=u(p-d*a,d),b=0;b<g.Oi.length-2;b+=2){var m=g.Oi[b],x=g.Oi[b+1],M=x*a+m;m==g.Oi[b+2]&&x+1==g.Oi[b+3]&&n[M]!=0&&ln.fill(M,n,a,0)}g.M>l.a8I&&c.push(g)}for(var b=0;b<c.length;b++)c[b].parent=-1;for(var S=Date.now(),b=1;b<c.length;b++)for(var w=c[b],k=b-1;k>=0;k--){var T=c[k];if(!(w.b5<T.b5||w.WJ>T.WJ||w.HY<T.HY||w.hu>T.hu)&&!!ln.a9t(T.Oi,w.Oi[0]+.5,w.Oi[1]+.5)){w.parent=k;break}}return c}function r(n,a){function s(O,E,D,B,I){this.x=O,this.y=E,this.VT=D,this.KF=B,this.y$=I}function l(O,E){return(E+O)%E}function h(O,E,D,B){return O*B-D*E}function o(O,E,D,B){return O*D+E*B}function f(O,E,D){return O<=D?O<=E&&E<D:O<=E||E<D}function u(O,E,D){var B=0;return B+=E*O[0]*E,B+=E*O[1]*D,B+=E*O[2],B+=D*O[3]*E,B+=D*O[4]*D,B+=D*O[5],B+=O[6]*E,B+=O[7]*D,B+=O[8],B}function p(O,E,D){return E+O*(D-E)}function c(O,E,D,B){var I=Math.sign(D-O),N=-Math.sign(B-E);return I*(D-O)-N*(B-E)}function d(O,E){return Math.sqrt(O*O+E*E)}function g(O,E,D,B,I){var N=1-O;return N*N*N*E+3*(N*N*O)*D+3*(O*O*N)*B+O*O*O*I}function b(O,E,D,B,I,N,V,j){var R=h(O,E,V,j),G=h(D,B,V,j),Z=h(I,N,V,j),_=R-2*G+Z,U=-2*R+2*G,Y=R,$=U*U-4*_*Y;if(_==0||$<0)return-1;var P=Math.sqrt($),tt=(-U+P)/(2*_),X=(-U-P)/(2*_);return tt>=0&&tt<=1?tt:X>=0&&X<=1?X:-1}function m(O){var E,D,B;O.sw=O.Oi[0],O.b8=O.Oi[1],O.Ho=[];var I=O.Ho;for(I.push(new s(0,0,0,0,0)),E=0;E<O.lv;E++)D=O.Oi[E<<1]-O.sw,B=O.Oi[(E<<1)+1]-O.b8,I.push(new s(I[E].x+D,I[E].y+B,I[E].VT+D*B,I[E].KF+D*D,I[E].y$+B*B))}function x(O){var E=O.lv,D=O.Oi,B,I=new Array(E),N=new Array(E),V=new Array(4),j,R,G,Z,_,U,Y,$,P,tt,X,ht,F,J,Q,rt,it,nt,ot=0;for(O.sF=new Array(E),ht=E-1;ht>=0;ht--)D[ht<<1]!=D[ot<<1]&&D[(ht<<1)+1]!=D[(ot<<1)+1]&&(ot=ht+1),N[ht]=ot;for(ht=E-1;ht>=0;ht--){var pt=l(ht+1,E)<<1;for(V[0]=V[1]=V[2]=V[3]=0,B=(3+3*(D[pt]-D[ht<<1])+(D[pt+1]-D[(ht<<1)+1]))/2,V[B]++,j=0,R=0,G=0,Z=0,ot=N[ht],J=ht;;){if(X=0,B=(3+3*Math.sign(D[ot*2]-D[J*2])+Math.sign(D[ot*2+1]-D[J*2+1]))/2,V[B]++,V[0]&&V[1]&&V[2]&&V[3]){I[ht]=J,X=1;break}if(P=D[ot*2]-D[ht*2],tt=D[ot*2+1]-D[ht*2+1],h(j,R,P,tt)<0||h(G,Z,P,tt)>0||(Math.abs(P)<=1&&Math.abs(tt)<=1||(_=P+(tt>=0&&(tt>0||P<0)?1:-1),U=tt+(P<=0&&(P<0||tt<0)?1:-1),h(j,R,_,U)>=0&&(j=_,R=U),_=P+(tt<=0&&(tt<0||P<0)?1:-1),U=tt+(P>=0&&(P>0||tt<0)?1:-1),h(G,Z,_,U)<=0&&(G=_,Z=U)),J=ot,ot=N[J],!f(ot,ht,J)))break}X==0&&(Y=Math.sign(D[ot*2]-D[J*2]),$=Math.sign(D[ot*2+1]-D[J*2+1]),P=D[J*2]-D[ht*2],tt=D[J*2+1]-D[ht*2+1],Q=h(j,R,P,tt),rt=h(j,R,Y,$),it=h(G,Z,P,tt),nt=h(G,Z,Y,$),F=1e7,rt<0&&(F=Math.floor(Q/-rt)),nt>0&&(F=Math.min(F,Math.floor(-it/nt))),I[ht]=l(J+F,E))}for(F=I[E-1],O.sF[E-1]=F,ht=E-2;ht>=0;ht--)f(ht+1,I[ht],F)&&(F=I[ht]),O.sF[ht]=F;for(ht=E-1;f(l(ht+1,E),F,O.sF[ht]);ht--)O.sF[ht]=F}function M(O){function E(tt,X,ht){var F=tt.lv,J=tt.Oi,Q=tt.Ho,rt,it,nt,ot,pt,yt,ct,vt,wt,Mt,Ct,gt,bt,xt,Dt=0;return ht>=F&&(ht-=F,Dt=1),Dt==0?(rt=Q[ht+1].x-Q[X].x,it=Q[ht+1].y-Q[X].y,ot=Q[ht+1].KF-Q[X].KF,nt=Q[ht+1].VT-Q[X].VT,pt=Q[ht+1].y$-Q[X].y$,yt=ht+1-X):(rt=Q[ht+1].x-Q[X].x+Q[F].x,it=Q[ht+1].y-Q[X].y+Q[F].y,ot=Q[ht+1].KF-Q[X].KF+Q[F].KF,nt=Q[ht+1].VT-Q[X].VT+Q[F].VT,pt=Q[ht+1].y$-Q[X].y$+Q[F].y$,yt=ht+1-X+F),Ct=(J[X<<1]+J[ht<<1])/2-J[0],gt=(J[(X<<1)+1]+J[(ht<<1)+1])/2-J[1],xt=J[ht<<1]-J[X<<1],bt=-(J[(ht<<1)+1]-J[(X<<1)+1]),ct=(ot-2*rt*Ct)/yt+Ct*Ct,vt=(nt-rt*gt-it*Ct)/yt+Ct*gt,wt=(pt-2*it*gt)/yt+gt*gt,Mt=bt*bt*ct+2*bt*xt*vt+xt*xt*wt,Math.sqrt(Mt)}var D,B,I,N,V=O.lv,j=new Array(V+1),R=new Array(V+1),G=new Array(V),Z=new Array(V+1),_=new Array(V+1),U=new Array(V+1),Y,$,P;for(D=0;D<V;D++)P=l(O.sF[l(D-1,V)]-1,V),P==D&&(P=l(D+1,V)),P<D?G[D]=V:G[D]=P;for(B=1,D=0;D<V;D++)for(;B<=G[D];)Z[B]=D,B++;for(D=0,B=0;D<V;B++)_[B]=D,D=G[D];for(_[B]=V,I=B,D=V,B=I;B>0;B--)U[B]=D,D=Z[D];for(U[0]=0,j[0]=0,B=1;B<=I;B++)for(D=U[B];D<=_[B];D++){for($=-1,N=_[B-1];N>=Z[D];N--)Y=E(O,N,D)+j[N],($<0||Y<$)&&(R[D]=N,$=Y);j[D]=$}for(O.qm=I,O.ph=new Array(I),D=V,B=I-1;D>0;B--)D=R[D],O.ph[B]=D}function S(O){function E(Mt,Ct,gt,bt,xt,Dt){for(var Ot=Mt.lv,kt=Mt.Ho,mt=0,It;gt>=Ot;)gt-=Ot,mt+=1;for(;Ct>=Ot;)Ct-=Ot,mt-=1;for(;gt<0;)gt+=Ot,mt-=1;for(;Ct<0;)Ct+=Ot,mt+=1;var Bt=kt[gt+1].x-kt[Ct].x+mt*kt[Ot].x,Ut=kt[gt+1].y-kt[Ct].y+mt*kt[Ot].y,qt=kt[gt+1].KF-kt[Ct].KF+mt*kt[Ot].KF,Gt=kt[gt+1].VT-kt[Ct].VT+mt*kt[Ot].VT,zt=kt[gt+1].y$-kt[Ct].y$+mt*kt[Ot].y$,Nt=gt+1-Ct+mt*Ot;bt[Dt]=Bt/Nt,bt[Dt+1]=Ut/Nt;var Kt=(qt-Bt*Bt/Nt)/Nt,ai=(Gt-Bt*Ut/Nt)/Nt,fi=(zt-Ut*Ut/Nt)/Nt,di=(Kt+fi+Math.sqrt((Kt-fi)*(Kt-fi)+4*ai*ai))/2;Kt-=di,fi-=di,Math.abs(Kt)>=Math.abs(fi)?(It=Math.sqrt(Kt*Kt+ai*ai),It!=0&&(xt[Dt]=-ai/It,xt[Dt+1]=Kt/It)):(It=Math.sqrt(fi*fi+ai*ai),It!=0&&(xt[Dt]=-fi/It,xt[Dt+1]=ai/It)),It==0&&(xt[Dt]=xt[Dt+1]=0)}var D=O.qm,B=O.ph,I=O.lv,N=O.Oi,V=O.sw,j=O.b8,R=new Array(D*2),G=new Array(D*2),Z=new Array(D),_=new Array(3),U,Y,$,P,tt,X,ht,F,J,Q,rt;for(O.e2=new i(D),U=0;U<D;U++)Y=B[l(U+1,D)],Y=l(Y-B[U],I)+B[U],R[U<<1]=0,R[(U<<1)+1]=0,G[U<<1]=0,G[(U<<1)+1]=0,E(O,B[U],Y,R,G,U<<1);for(U=0;U<D;U++){Z[U]=[0,0,0,0,0,0,0,0,0];var it=G[U<<1]*G[U<<1]+G[(U<<1)+1]*G[(U<<1)+1],nt=1/it;if(it!=0)for(_[0]=G[(U<<1)+1],_[1]=-G[U<<1],_[2]=-_[1]*R[(U<<1)+1]-_[0]*R[U<<1],P=0;P<3;P++)Z[U][P*3+0]=_[P]*_[0]*nt,Z[U][P*3+1]=_[P]*_[1]*nt,Z[U][P*3+2]=_[P]*_[2]*nt}var ot=[0,0,0,0,0,0,0,0,0];for(U=0;U<D;U++){ot[0]=ot[1]=ot[2]=ot[3]=ot[4]=ot[5]=ot[6]=ot[7]=ot[8]=ot[9]=0;var pt=N[B[U]<<1]-V,yt=N[(B[U]<<1)+1]-j,ct=0,vt=0;for(Y=l(U-1,D),P=0;P<9;P+=3)ot[P+0]=Z[Y][P+0]+Z[U][P+0],ot[P+1]=Z[Y][P+1]+Z[U][P+1],ot[P+2]=Z[Y][P+2]+Z[U][P+2];for(;;){var wt=ot[0]*ot[4]-ot[1]*ot[3];if(wt!=0){ct=(-ot[2]*ot[4]+ot[5]*ot[0])/wt,vt=(ot[2]*ot[3]-ot[5]*ot[0])/wt;break}ot[0]>ot[4]?(_[0]=-ot[1],_[1]=ot[0]):ot[4]?(_[0]=-ot[4],_[1]=ot[3]):(_[0]=1,_[1]=0);var it=_[0]*_[0]+_[1]*_[1],nt=1/it;for(_[2]=-_[1]*yt-_[0]*pt,P=0;P<3;P++)ot[P*3+0]+=_[P]*_[0]*nt,ot[P*3+1]+=_[P]*_[1]*nt,ot[P*3+2]+=_[P]*_[2]*nt}if(tt=Math.abs(ct-pt),X=Math.abs(vt-yt),tt<=.5&&X<=.5){O.e2.Hi[U<<1]=ct+V,O.e2.Hi[(U<<1)+1]=vt+j;continue}if(ht=u(ot,pt,yt),J=pt,Q=yt,ot[0]!=0)for(rt=0;rt<2;rt++)vt=yt-.5+rt,ct=-(ot[1]*vt+ot[2])/ot[0],tt=Math.abs(ct-pt),F=u(ot,ct,vt),tt<=.5&&F<ht&&(ht=F,J=ct,Q=vt);if(ot[4]!=0)for(rt=0;rt<2;rt++)ct=pt-.5+rt,vt=-(ot[3]*ct+ot[5])/ot[4],X=Math.abs(vt-yt),F=u(ot,ct,vt),X<=.5&&F<ht&&(ht=F,J=ct,Q=vt);for(P=0;P<2;P++)for($=0;$<2;$++)ct=pt-.5+P,vt=yt-.5+$,F=u(ot,ct,vt),F<ht&&(ht=F,J=ct,Q=vt);O.e2.Hi[U<<1]=J+V,O.e2.Hi[(U<<1)+1]=Q+j}}function w(O){var E=O.e2.Dy,D=O.e2,B,I,N,V,j,R,G,Z,_;for(B=0;B<E;B++){I=l(B+1,E),N=l(B+2,E);var U=D.Hi[B<<1],Y=D.Hi[(B<<1)+1],$=D.Hi[N<<1],P=D.Hi[(N<<1)+1],tt=D.Hi[I<<1],X=D.Hi[(I<<1)+1],ht=p(.5,$,tt),F=p(.5,P,X);j=c(U,Y,$,P),j!=0?(V=h(tt-U,X-Y,$-U,P-Y)/j,V=Math.abs(V),R=V>1?1-1/V:0,R=R*(1/.75)):R=4/3,D.JC[I]=R;var J=3*I<<1;if(R>=a.a4f)D.k9[I]=0,D.p$[J+0]=D.p$[J+1]=0,D.p$[J+2]=tt,D.p$[J+3]=X,D.p$[J+4]=ht,D.p$[J+5]=F;else{R<.55?R=.55:R>1&&(R=1);var Q=.5+.5*R;D.k9[I]=1,D.p$[J]=p(Q,U,tt),D.p$[J+1]=p(Q,Y,X),D.p$[J+2]=p(Q,$,tt),D.p$[J+3]=p(Q,P,X),D.p$[J+4]=ht,D.p$[J+5]=F}D.alpha[I]=R,D.YH[I]=.5}D.a1E=1}function k(O){function E(){this.yw=0,this.ZY=0,this.ZE=0,this.fI=0,this.Jq=0,this.wV=0,this.Pg=0,this.alpha=0}function D(qt,Gt,zt,Nt,Kt,ai,fi){var di=qt.e2.Dy,$t=qt.e2.p$,si=qt.e2.Hi;if(Gt==zt)return 1;var li=Gt,Li=l(Gt+1,di),vi=l(li+1,di),yi=si[Gt<<1],_t=si[(Gt<<1)+1],wi=si[Li<<1],Zi=si[(Li<<1)+1],Vi=ai[vi];if(Vi==0)return 1;var Mi=d(yi-wi,_t-Zi);for(li=vi;li!=zt;li=vi){var vi=l(li+1,di),ce=l(li+2,di),Ri=si[vi<<1],zi=si[(vi<<1)+1],ee=si[ce<<1],Be=si[(ce<<1)+1];if(ai[vi]!=Vi||Math.sign(h(wi-yi,Zi-_t,ee-Ri,Be-zi))!=Vi||o(wi-yi,Zi-_t,ee-Ri,Be-zi)<Mi*d(Ri-ee,zi-Be)*-.999847695156)return 1}var Yi=l(Gt,di)*3+2<<1,Xi=l(Gt+1,di)<<1,Xt=l(zt,di)<<1,ri=l(zt,di)*3+2<<1,Hi=$t[Yi],re=$t[Yi+1],gi=si[Xi],Bi=si[Xi+1],be=si[Xt],Te=si[Xt+1],Gi=$t[ri],Sr=$t[ri+1],Qr=si[0],fr=si[1];Yi=zt*3+2<<1;var Je=$t[Yi],br=$t[Yi+1],Ai=fi[zt]-fi[Gt];Ai-=h(Je-Qr,br-fr,Je-Qr,br-fr)/2,Gt>=zt&&(Ai+=fi[di]);var We=gi-Hi,Qi=Bi-re,qi=be-Hi,Re=Te-re,pi=Gi-Hi,Pi=Sr-re,xr=h(We,Qi,qi,Re),wr=h(We,Qi,pi,Pi),Cr=h(qi,Re,pi,Pi),Qe=xr+Cr-wr;if(wr==xr)return 1;var pe=Cr/(Cr-Qe),Er=wr/(wr-xr),bn=wr*pe/2;if(bn==0)return 1;var Ti=Ai/bn,lr=2-Math.sqrt(4-Ti/.3);for(Nt.ZY=p(pe*lr,Hi,gi),Nt.ZE=p(pe*lr,re,Bi),Nt.fI=p(Er*lr,Gi,be),Nt.Jq=p(Er*lr,Sr,Te),Nt.alpha=lr,Nt.wV=pe,Nt.Pg=Er,gi=Nt.ZY,Bi=Nt.ZE,be=Nt.fI,Te=Nt.Jq,Nt.yw=0,li=l(Gt+1,di);li!=zt;li=vi){vi=l(li+1,di);var qe=si[li<<1],ir=si[(li<<1)+1],Ri=si[vi<<1],zi=si[(vi<<1)+1];if(pe=b(gi-Hi,Bi-re,be-gi,Te-Bi,Gi-be,Sr-Te,Ri-qe,zi-ir),pe<-.5)return 1;var de=g(pe,Hi,gi,be,Gi),Dr=g(pe,re,Bi,Te,Sr),Mi=d(Ri-qe,zi-ir);if(Mi==0)return 1;var Ue=h(Ri-qe,zi-ir,de-qe,Dr-ir)/Mi;if(Math.abs(Ue)>Kt||o(Ri-qe,zi-ir,de-qe,Dr-ir)<0||o(qe-Ri,ir-zi,de-Ri,Dr-zi)<0)return 1;Nt.yw+=Ue*Ue}for(li=Gt;li!=zt;li=vi){vi=l(li+1,di);var Yi=li*3+2<<1,Xi=vi*3+2<<1,$e=$t[Yi],He=$t[Yi+1],na=$t[Xi],kr=$t[Xi+1];if(pe=b(gi-Hi,Bi-re,be-gi,Te-Bi,Gi-be,Sr-Te,na-$e,kr-He),pe<-.5)return 1;var de=g(pe,Hi,gi,be,Gi),Dr=g(pe,re,Bi,Te,Sr),Mi=d(na-$e,kr-He);if(Mi==0)return 1;var Ue=h(na-$e,kr-He,de-$e,Dr-He)/Mi,Wi=h(na-$e,kr-He,si[vi<<1]-$e,si[(vi<<1)+1]-He)/Mi;if(Wi*=.75*qt.e2.alpha[vi],Wi<0&&(Ue=-Ue,Wi=-Wi),Ue<Wi-Kt)return 1;Ue<Wi&&(Nt.yw+=(Ue-Wi)*(Ue-Wi))}return 0}var B=O.e2,I=B.Dy,N=B.Hi,V=new Array(I+1),j=new Array(I+1),R=new Array(I+1),G=new Array(I+1),Z,_,U,Y,$=new E,P,tt,X,ht,F,J,Q,rt=new Array(I),it=new Array(I+1);for(_=0;_<I;_++)if(B.k9[_]=="CURVE"){var nt=N[l(_-1,I)<<1],ot=N[(l(_-1,I)<<1)+1],pt=N[_<<1],yt=N[(_<<1)+1],ct=N[l(_+1,I)<<1],vt=N[(l(_+1,I)<<1)+1];rt[_]=Math.sign(h(pt-nt,yt-ot,ct-pt,vt-yt))}else rt[_]=0;X=0,it[0]=0;var wt=B.Hi[0],Mt=B.Hi[1];for(_=0;_<I;_++){if(tt=l(_+1,I),B.k9[tt]=="CURVE"){ht=B.alpha[tt];var Ct=_*3+2<<1,gt=tt*3+2<<1,bt=B.p$[Ct],xt=B.p$[Ct+1],Dt=N[tt<<1],Ot=N[(tt<<1)+1],kt=B.p$[gt],mt=B.p$[gt+1];X+=.3*ht*(4-ht)*h(Dt-bt,Ot-xt,kt-bt,mt-xt)/2,X+=h(bt-wt,xt-Mt,kt-wt,mt-Mt)/2}it[_+1]=X}for(V[0]=-1,j[0]=0,R[0]=0,U=1;U<=I;U++)for(V[U]=U-1,j[U]=j[U-1],R[U]=R[U-1]+1,_=U-2;_>=0&&(Y=D(O,_,l(U,I),$,a.aif,rt,it),!Y);_--)(R[U]>R[_]+1||R[U]==R[_]+1&&j[U]>j[_]+$.yw)&&(V[U]=_,j[U]=j[_]+$.yw,R[U]=R[_]+1,G[U]=$,$=new E);for(Z=R[I],F=new i(Z),J=new Array(Z),Q=new Array(Z),U=I,_=Z-1;_>=0;_--){var It=l(U,I),Bt=_*3+0<<1,Ut=It*3+0<<1;V[U]==U-1?(F.k9[_]=B.k9[It],F.p$[Bt]=B.p$[Ut],F.p$[Bt+1]=B.p$[Ut+1],F.p$[Bt+2]=B.p$[Ut+2],F.p$[Bt+3]=B.p$[Ut+3],F.p$[Bt+4]=B.p$[Ut+4],F.p$[Bt+5]=B.p$[Ut+5],F.Hi[_<<1]=B.Hi[It<<1],F.Hi[(_<<1)+1]=B.Hi[(It<<1)+1],F.alpha[_]=B.alpha[It],F.JC[_]=B.JC[It],F.YH[_]=B.YH[It],J[_]=Q[_]=1):(F.k9[_]="CURVE",F.p$[Bt]=G[U].ZY,F.p$[Bt+1]=G[U].ZE,F.p$[Bt+2]=G[U].fI,F.p$[Bt+3]=G[U].Jq,F.p$[Bt+4]=B.p$[Ut+4],F.p$[Bt+5]=B.p$[Ut+5],F.Hi[_<<1]=p(G[U].Pg,B.p$[Ut+4],N[It<<1]),F.Hi[(_<<1)+1]=p(G[U].Pg,B.p$[Ut+5],N[(It<<1)+1]),F.alpha[_]=G[U].alpha,F.JC[_]=G[U].alpha,J[_]=G[U].Pg,Q[_]=G[U].wV),U=V[U]}for(_=0;_<Z;_++)tt=l(_+1,Z),F.YH[_]=J[_]/(J[_]+Q[tt]);F.a1E=1,O.e2=F}for(var T=0;T<n.length;T++){var L=n[T];m(L),x(L),M(L),S(L),w(L),a.a30&&k(L)}}return{ajK:e,a4n:r}}();ln.ih=function(t,i,e,r){var n={Jw:"minority",a8I:r,a30:!0,a4f:1,aif:.2},a=ln.ajK(t,i,e,n);return ln.a4n(a,n),a},ln.Cj=function(t){for(var i=[],e=0;e<t.length;e++){for(var r=t[e],n=r.e2,a=["M"],s=[n.p$[(n.Dy-1)*6+4],n.p$[(n.Dy-1)*6+5]],l=0;l<n.Dy;l++){var h=l*6;if(n.k9[l]==1){a.push("C");for(var o=0;o<6;o++)s.push(n.p$[h+o])}else if(n.k9[l]==0){a.push("L");for(var o=2;o<4;o++)s.push(n.p$[h+o])}}a.push("Z"),i.push({parent:r.parent,color:r.color,path:{d:s,W:a}})}return i},ln.am5=function(t,i,e,r,n){function a(g){function b(w){var k="C "+(g.p$[w*3+0<<1]*i).toFixed(1)+" "+(g.p$[(w*3+0<<1)+1]*i).toFixed(1)+",";return k+=(g.p$[w*3+1<<1]*i).toFixed(1)+" "+(g.p$[(w*3+1<<1)+1]*i).toFixed(1)+",",k+=(g.p$[w*3+2<<1]*i).toFixed(1)+" "+(g.p$[(w*3+2<<1)+1]*i).toFixed(1)+" ",k}function m(w){var k="L "+(g.p$[w*3+1<<1]*i).toFixed(1)+" "+(g.p$[(w*3+1<<1)+1]*i).toFixed(1)+" ";return k+=(g.p$[w*3+2<<1]*i).toFixed(1)+" "+(g.p$[(w*3+2<<1)+1]*i).toFixed(1)+" ",k}var x=g.Dy,M,S="M"+(g.p$[(x-1)*3+2<<1]*i).toFixed(1)+" "+(g.p$[((x-1)*3+2<<1)+1]*i).toFixed(1)+" ";for(M=0;M<x;M++)g.k9[M]==1?S+=b(M):g.k9[M]==0&&(S+=m(M));return S}for(var e=e*i,r=r*i,s=t.length,l=[],h=0;h<256;h++)l.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");for(var o='<svg id="svg" version="1.1" width="'+e+'" height="'+r+'" xmlns="http://www.w3.org/2000/svg">',h=0;h<s;h++){var f=n[t[h].color-1].ahD.ap;if((f>>>24&255)!=0){o+='<path d="';var u=t[h].e2;o+=a(u);var p=f>>0&255,c=f>>8&255,d=f>>16&255,f="rgb("+p+","+c+","+d+")";o+='" fill="'+f+'" fill-rule="evenodd"/>'}}return o+="</svg>",o},ln.a9t=function(t,i,e){for(var r=t.length>>1,n,a=t[2*r-3]-e,s=t[2*r-2]-i,l=t[2*r-1]-e,h=l>a,o=0,f=0;f<r;f++)n=s,a=l,s=t[2*f]-i,l=t[2*f+1]-e,a!=l&&(h=l>a);for(var f=0;f<r;f++)if(n=s,a=l,s=t[2*f]-i,l=t[2*f+1]-e,!(a<0&&l<0)&&!(a>0&&l>0)&&!(n<0&&s<0)){if(a==l&&Math.min(n,s)<=0)return!0;if(a!=l){var u=n+(s-n)*-a/(l-a);if(u==0)return!0;u>0&&o++,a==0&&h&&l>a&&o--,a==0&&!h&&l<a&&o--,h=l>a}}return(o&1)==1},ln.fill=function(t,i,e,r){for(var n=i[t],a=[t],s=0;s<a.length;){var l=a[s];s++,i[l]=r,i[l-e]==n&&(a.push(l-e),i[l-e]=254),i[l-1]==n&&(a.push(l-1),i[l-1]=254),i[l+1]==n&&(a.push(l+1),i[l+1]=254),i[l+e]==n&&(a.push(l+e),i[l+e]=254)}};var q={};q.pQ=!1,q.zW=!1,q.n9=!1,q.w7=document.createElement("canvas"),q.ui=null,q.JI=null,q.Ce=0,function(){var t={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},i;if(i||(i=q.w7.getContext("webgl",t)),i||(i=q.w7.getContext("experimental-webgl",t)),i){q.pQ=!0,q.zW=!0,q.ui=i,q.JI=i.createFramebuffer(),i.bindFramebuffer(i.FRAMEBUFFER,q.JI),i.disable(i.BLEND),i.disable(i.DEPTH_TEST);var e=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,e),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.enableVertexAttribArray(0),i.vertexAttribPointer(0,2,i.FLOAT,!1,0,0)}}(),q.afB=function(t){return t=t.replace(/\s\s+/g," "),t=t.replace(/; /g,";"),t=t.replace(/} /g,"}"),t=t.replace(/ }/g,"}"),t=t.replace(/{ /g,"{"),t=t.replace(/ {/g,"{"),t=t.replace(/= /g,"="),t=t.replace(/ =/g,"="),t=t.replace(/\| /g,"|"),t=t.replace(/ \|/g,"|"),t},q.a0d=function(t){var i=q.ui;t>i.getParameter(i.MAX_TEXTURE_SIZE)&&(q.pQ=!1,alert("Disabling WebGL"))},q.Y_=function(t,i){return new Float32Array([(t.x-i.x)/i.Z,(t.y-i.y)/i.h,t.Z/i.Z,t.h/i.h])},q.Oa=function(){return this.w7},q.k1=function(t,i){var e=q.ui;e.bindFramebuffer(e.FRAMEBUFFER,q.JI),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.g3,0),e.viewport(0,0,t.Z,t.h),i?(e.enable(e.SCISSOR_TEST),e.scissor(i.x,i.y,i.Z,i.h)):e.disable(e.SCISSOR_TEST)},q.N6=function(t,i,e){if(e)throw"error";var r=q.ui;r.disable(r.SCISSOR_TEST),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,t,i),e?(r.enable(r.SCISSOR_TEST),r.scissor(e.x,e.y,Math.round(e.Z),Math.round(e.h))):r.disable(r.SCISSOR_TEST)},q.clear=function(){var t=q.ui;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},q.OL=function(t,i){i==null&&(i=0);var e=(i>>>0&255)==0,r=(i>>>8&255)==0,n=(i>>>16&255)==0,a=(i>>>24&255)==0,s=(t>>>0&255)*(1/255),l=(t>>>8&255)*(1/255),h=(t>>>16&255)*(1/255),o=(t>>>24&255)*(1/255),f=q.ui;f.colorMask(e,r,n,a),f.clearColor(s,l,h,o),f.clear(f.COLOR_BUFFER_BIT),f.colorMask(!0,!0,!0,!0)},q.X6=function(t,i,e,r,n){var a=i.$X(r);if(n&&(a=a.$X(n)),!a.qr()){var s=q.ui;q.k1(t),s.bindTexture(s.TEXTURE_2D,e.g3),s.copyTexSubImage2D(s.TEXTURE_2D,0,a.x-r.x,a.y-r.y,a.x-i.x,a.y-i.y,a.Z,a.h)}},q.Wb=function(t,i,e){var r=q.EX[t];return(r==null||r.Z!=i||r.h!=e)&&(r&&r.delete(),r=new q._B(i,e)),q.EX[t]=r,r},q.EX=[],q.f2=function(){this.bS=null,this.B6=null},q.f2.G9=null,q.f2.prototype.ac=function(t){if(!this.B6){this.B6={};for(var i=q.ui,e=this.bS,r=this.B6,n=0;n<t.length;n++){var a=t[n];r[a]=i.getUniformLocation(e,a)}}},q.f2.prototype.WL=function(){},q.f2.prototype.ID=function(t){for(var i=q.ui,e=0;e<t.length;e+=2)i.uniform1i(t[e],e>>>1),i.activeTexture(i["TEXTURE"+(e>>>1)]),i.bindTexture(i.TEXTURE_2D,t[e+1]);i.activeTexture(i.TEXTURE0)},q.f2.prototype.uZ=function(t,i){var e=q.ui,r=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)||console.log(e.getShaderInfoLog(r));var n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,i),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)||console.log(e.getShaderInfoLog(n));var a=e.createProgram();e.attachShader(a,n),e.attachShader(a,r),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||console.log("Could not initialise shaders"),this.bS=a},q.f2.prototype.kt=function(){q.f2.G9!=this&&(q.ui.useProgram(this.bS),q.f2.G9=this)},q.p5=function(t,i){q.Cn++,q.Ce+=t*i,q.n9&&console.log("GL.Channels instances: "+q.Cn+", memory: "+q.Ce);var e=q.ui;this.Z=t,this.h=i,this.g3=e.createTexture(),this.z2=null,this.Xj(this.g3,t,i)},q.p5.prototype.Xj=function(t,i,e){var r=q.ui;r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,i,e,0,r.ALPHA,r.UNSIGNED_BYTE,null)},q.p5.prototype.set=function(t){var i=q.ui;i.bindTexture(i.TEXTURE_2D,this.g3),i.pixelStorei(i.UNPACK_ALIGNMENT,1),i.texImage2D(i.TEXTURE_2D,0,i.ALPHA,this.Z,this.h,0,i.ALPHA,i.UNSIGNED_BYTE,t),i.pixelStorei(i.UNPACK_ALIGNMENT,4)},q.p5.prototype.delete=function(){var t=q.ui;this.g3&&(t.deleteTexture(this.g3),q.Cn--,q.Ce-=this.Z*this.h),q.n9&&q.n9&&console.log("GL.Channels instances: "+q.Cn+", memory: "+q.Ce*4)},q.Cn=0,q._B=function(t,i,e){e==null&&(e=!1),q.Cn++,q.Ce+=t*i*4,q.n9&&console.log("GL.Channels instances: "+q.Cn+", memory: "+q.Ce);var r=q.ui;this.aj9=e,this.Z=t,this.h=i,this.g3=r.createTexture(),this.z2=null,this.Xj(this.g3,t,i)},q._B.prototype.set=function(t,i){var e=q.ui;if(e.disable(e.SCISSOR_TEST),e.bindTexture(e.TEXTURE_2D,this.g3),t==null||t instanceof Uint8Array){var r=this.Z*this.h;if(i==null||i.M()*10>r)e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.Z,this.h,0,e.RGBA,e.UNSIGNED_BYTE,t);else{var n=v.R(i.M()*4);v.BP(t,new et(0,0,this.Z,this.h),n,i),e.texSubImage2D(e.TEXTURE_2D,0,i.x,i.y,i.Z,i.h,e.RGBA,e.UNSIGNED_BYTE,n)}}else e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)},q._B.prototype.get=function(t){var i=q.ui;q.k1(this),i.readPixels(0,0,this.Z,this.h,i.RGBA,i.UNSIGNED_BYTE,t)},q._B.prototype.ke=function(t){if(!t.qr()){var i=q.ui;if(this.z2==null&&(this.z2=i.createTexture(),this.Xj(this.z2,this.Z,this.h),q.Cn++,q.Ce+=this.Z*this.h*4),i.bindFramebuffer(i.FRAMEBUFFER,q.JI),i.bindTexture(i.TEXTURE_2D,this.z2),t){var e=Math.max(t.x,0),r=Math.max(t.y,0);i.copyTexSubImage2D(i.TEXTURE_2D,0,e,r,e,r,t.Z,t.h)}else i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,0,0,this.Z,this.h,0)}},q._B.prototype.Xj=function(t,i,e){var r=q.ui;r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.aj9?r.LINEAR:r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,i,e,0,r.RGBA,r.UNSIGNED_BYTE,null)},q._B.prototype.delete=function(){var t=q.ui;this.g3&&(t.deleteTexture(this.g3),q.Cn--,q.Ce-=this.Z*this.h*4),this.z2&&(t.deleteTexture(this.z2),q.Cn--,q.Ce-=this.Z*this.h*4),q.n9&&q.n9&&console.log("GL.Channels instances: "+q.Cn+", memory: "+q.Ce)},q._B.prototype.clone=function(){var t=q.ui,i=new q._B(this.Z,this.h);return q.k1(this),t.bindTexture(t.TEXTURE_2D,i.g3),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,0,0,this.Z,this.h,0),i},q.XR={aiT:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",acq:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",EW:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;			const vec3 QUAR3 = vec3(0.25,0.25,0.25) ;			const vec3 HALF3 = vec3(0.5,0.5,0.5) ;			const vec3 ONE3  = vec3(1.0,1.0,1.0) ;",iP:" float hueDiff(float shue, float hue) { 				float df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; 				if(abs(df0) < adf)  df = df0; 				else if(abs(df1) < adf)  df = df1; 				return df; 			}",NN:" float hueCF(float hueS, float hue0) { 				float df = hueDiff(hue0, hueS)*6.0; 				return   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",TO:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",ec:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",fY:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",afj:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",i8:"vec3 setSat (vec3 c, float s) 			{				vec3 o;				if(c.r==c.g && c.g==c.b) o = ZERO3;				else if(c.r>c.g)  {					if(c.r>c.b) {						if(c.g>c.b)	o = vec3(s, midSat(c.rgb,s), 0.0); 						else	o = vec3(s, 0.0, midSat(c.rbg,s)); 					}					else		o = vec3(midSat(c.brg,s), 0.0, s); 				} else  {					if(c.r<c.b) {						if(c.g>c.b)	o = vec3(0.0, s, midSat(c.gbr,s)); 						else	    o = vec3(0.0, midSat(c.bgr,s), s); 					}					else		    o = vec3(midSat(c.grb,s), s, 0.0);				}				return o;			}",a6Q:"vec3 clipCol(vec3 c) 			{ 				vec3 o = c;  float l = lum(c); 				float n = min(c.r,min(c.g,c.b)); 				float x = max(c.r,max(c.g,c.b)); 				if(n<0.0) o = l + (o-l)*(l/(l-n));				if(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);				return o;			}",Am:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",aS:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",T4:"vec3 rgbToHsl (vec3 rgb) {				float r = rgb.r, g = rgb.g, b = rgb.b; 				float mx = max(r, max(g, b)), mn = min(r, min(g, b)); 				float h, s, l = (mx + mn) * 0.5;								if(mx == mn) h = s = 0.0; 				else{ 					float d = mx - mn; 					s = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  										if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  					else if(mx==g) h = (b - r) / d + 2.0; 					else if(mx==b) h = (r - g) / d + 4.0; 										h /= 6.0; 				}  				return vec3(h,s,l); }",Uq:"vec3 hslToRgb (float h, float s, float l){				float r, g, b;								if(s == 0.0)  r = g = b = l; 				else{ 					float q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; 					float p = 2.0 * l - q; 					r = hue2rgb(p, q, h + 1.0/3.0); 					g = hue2rgb(p, q, h); 					b = hue2rgb(p, q, h - 1.0/3.0); 				} 				return vec3(r,g,b); } ",C7:"float hue2rgb(float p, float q, float t){ 				if(t < 0.0) t += 1.0;				if(t > 1.0) t -= 1.0;				if(t < 1.0/6.0) return p + (q - p) * 6.0 * t; 				if(t < 1.0/2.0) return q; 				if(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; 				return p;	}",eE:"vec3 rgbToHsv(vec3 rgb){					float r = rgb.r, g = rgb.g, b = rgb.b; 				float mx = max(r, max(g, b)), mn = min(r, min(g, b)); 				float h, s, v = mx; 								float d = mx - mn; 				s = mx == 0.0 ? 0.0 : d / mx; 								if(mx == mn) h = 0.0;  				else if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  				else if(mx==g) h = (b - r) / d + 2.0; 				else if(mx==b) h = (r - g) / d + 4.0; 								h /= 6.0; 				return vec3(h,s,v);  }",ul:"vec3 hsvToRgb(float h, float s, float v)  { 				float r, g, b, f, p, q, t, i; 				i = floor(h * 6.0); 				f = h * 6.0 - i; 				p = v * (1.0 - s); 				q = v * (1.0 - f * s); 				t = v * (1.0 - (1.0 - f) * s); 								if     (i==0.0) { r = v, g = t, b = p; }				else if(i==1.0) { r = q, g = v, b = p; }				else if(i==2.0) { r = p, g = v, b = t; }				else if(i==3.0) { r = p, g = q, b = v; }				else if(i==4.0) { r = t, g = p, b = v; }				else if(i==5.0) { r = v, g = p, b = q; }								return vec3(r,g,b); }",tm:"		float srgbUngamma(float x) {			return (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);		}		float xyzScale(float x) {			return (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); 		}		vec3 rgbToLab(vec3 rgb) {			bool ok = true;			rgb.r = srgbUngamma(rgb.r); 			rgb.g = srgbUngamma(rgb.g); 			rgb.b = srgbUngamma(rgb.b); 			ok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; 			ok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; 			ok = ok && 0.3047<=rgb.b && rgb.b<=0.305; 						mat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); 						vec3 xyz = srgb2xyz*rgb; 			ok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  						xyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  			xyz.x = xyzScale(xyz.x); 			xyz.y = xyzScale(xyz.y); 			xyz.z = xyzScale(xyz.z); 						return vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  		} 		float labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {			float L=lab.x, a=lab.y, b=lab.z; 			float dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); 			float da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); 			float db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); 			/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ 			float dst = sqrt(dl*dl+da*da+db*db)*1.35; 			return (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; 		}",XM:"		float _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  		float blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  			float sg = lum(sc.rgb); 			float tg = lum(tc.rgb); 			float ms = _blendIf(sg,br[0]); 			ms = min(ms, _blendIf(sc.r,br[2])); 			ms = min(ms, _blendIf(sc.g,br[4])); 			ms = min(ms, _blendIf(sc.b,br[6])); 						float mt = _blendIf(tg,br[1]); 			mt = min(mt, _blendIf(tc.r,br[3])); 			mt = min(mt, _blendIf(tc.g,br[5])); 			mt = min(mt, _blendIf(tc.b,br[7])); 			mt=max(mt,1.0-tc.w);						float mi=min(ms,mt);			return mi<0.0?0.0:(mi>1.0?1.0:mi);		}"},q.MY={q4:{},XX:"			attribute vec2 verPos;			varying vec2 sCoord;			void main(void) {				sCoord = verPos;				gl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);			}"},q.MY.WD=function(t,i){var e=Vt.vo,r=[e.u1,e.xj,e.tn,e.I9,e.Ki,e.Lr,e.ta,e.$g].indexOf(t.type),n=q.MY.q4[t.type];n==null&&(n=q.MY.q4[t.type]=new q.q4[r]),n.kt(),n.WL(i,t),q.ui.drawArrays(q.ui.TRIANGLES,0,6)},q.q4=[],q.q4[0]=function(){q.f2.call(this),this.Nk={};var t="			precision mediump float;			"+q.XR.ec+"			"+q.XR.EW+"			uniform sampler2D source;			uniform sampler2D map;			uniform float toGray;			uniform float presLum;						varying vec2 sCoord;						void main(void) {				vec4 src = texture2D(source, sCoord); 				float olum = lum(src.rgb); 				src.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; 				float r = texture2D(map, vec2(src.r, 0)).r;				float g = texture2D(map, vec2(src.g, 0)).g;				float b = texture2D(map, vec2(src.b, 0)).b;				vec3 col = vec3(r,g,b); 				if(presLum==1.0) { 					float nlum = lum(col); 					if(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); 					else if(nlum==0.0) col = ZERO3; 					else col = (olum/nlum) * col; 				}				gl_FragColor = vec4(col,src.w);							}";this.uZ(t,q.MY.XX)},q.q4[0].prototype=new q.f2,q.q4[0].prototype.WL=function(t,i){var e={U:i.KW,S:i.mf,i:i.Si,m:v.R(i.KW.length)},r=e.U.length;this.Nk["m"+r]==null&&(this.Nk["m"+r]={afT:new q._B(r,1),Ww:v.R(r*4)});var n=this.Nk["m"+r];v.sA(e,n.Ww,0);var a=n.afT;a.set(n.Ww),this.ac(["source","map","toGray","presLum"]);var s=q.ui,l=this.B6;s.uniform1f(l.toGray,i.Ak?1:0),s.uniform1f(l.presLum,i.qi?1:0),this.ID([l.source,t,l.map,a.g3])},q.q4[1]=function(){q.f2.call(this),this.L0=new q._B(256,1),this.rA=v.R(256*4);var t="				precision mediump float;				"+q.XR.C7+"				"+q.XR.T4+"				"+q.XR.Uq+"								uniform sampler2D source;				uniform sampler2D map;				uniform float cfa; 				uniform float cfb; 				uniform int colorize; 								varying vec2 sCoord;								void main(void) { 					vec4 src = texture2D(source, sCoord);					vec3 rgb = src.rgb;					float mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));										vec3 hsl = rgbToHsl(rgb); 					float h = hsl.r, s = hsl.g, l = hsl.b; 										vec4 mapv = texture2D(map, vec2(h, 0));					float nh = mapv.r; 					float sc = mapv.g*2.0-1.0; 					float lc = mapv.b*2.0-1.0; 										float cf = -lc, tv=mn;					if(0.0<lc) {  cf=lc;  tv=mx;  }										float a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);					rgb = a0 + a1 * rgb;										hsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; 					float ns = sc; 					if(colorize==0) {						if(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);						ns = min(s * (1.0 + sc), 1.0); 					} 										gl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); 									}";this.uZ(t,q.MY.XX)},q.q4[1].prototype=new q.f2,q.q4[1].prototype.WL=function(t,i){v.sA({U:i.Fp,S:i.fQ,i:i.J7,m:v.R(256)},this.rA),this.L0.set(this.rA),this.ac(["source","map","cfa","cfb","colorize"]);var e=q.ui,r=this.B6;e.uniform1f(r.cfa,i.L3),e.uniform1f(r.cfb,i.Ds),e.uniform1i(r.colorize,i.vY),this.ID([r.source,t,r.map,this.L0.g3])},q.q4[2]=function(){q.f2.call(this);var t="			precision mediump float;			"+q.XR.C7+"			"+q.XR.eE+"			"+q.XR.ul+"			"+q.XR.T4+"			"+q.XR.Uq+"						uniform sampler2D source;			uniform float vib; 			uniform float sat; 			const float PI = 3.141592653; 						varying vec2 sCoord;						void main(void) { 				vec4 src = texture2D(source, sCoord); 				vec3 hsl = rgbToHsv(src.rgb); 				float h=hsl.r, s=hsl.g, l=hsl.b; 								float sk0 = 0.0, sk1 = 45.0/360.0; 				float skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; 								s = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); 								s = s * (1.0 + sat); 								s = max(0.0, min(1.0, s));				src.rgb = hsvToRgb(h,s,l);				gl_FragColor = vec4(src.rgb,src.w); 							}";this.uZ(t,q.MY.XX)},q.q4[2].prototype=new q.f2,q.q4[2].prototype.WL=function(t,i){this.ac(["source","vib","sat"]);var e=q.ui,r=this.B6;e.uniform1f(r.vib,i.S9[0]/100),e.uniform1f(r.sat,i.S9[1]/100),this.ID([r.source,t])},q.q4[3]=function(){q.f2.call(this);var t="			precision mediump float;						uniform sampler2D source;			uniform mat4  trf; 						varying vec2 sCoord;						void main(void) { 				vec4 src = texture2D(source, sCoord); 				vec4 nsr = vec4(src.rgb,1.0); 				gl_FragColor = vec4((trf*nsr).rgb,src.w); 							}";this.uZ(t,q.MY.XX)},q.q4[3].prototype=new q.f2,q.q4[3].prototype.WL=function(t,i){this.ac(["source","trf"]);var e=q.ui,r=this.B6;e.uniformMatrix4fv(r.trf,!1,new Float32Array(v.t1.yT(i.Aw))),this.ID([r.source,t])},q.q4[4]=function(){q.f2.call(this);var t="			precision mediump float; 			"+q.XR.tm+"			"+q.XR.C7+"			"+q.XR.Uq+"			"+q.XR.T4+"						uniform sampler2D source;			uniform vec3 mnm;	  			uniform vec3 mxm;	  			uniform vec3 shift;   			uniform float lim;    						varying vec2 sCoord;						void main(void) { 				vec4 src = texture2D(source, sCoord); 								vec3 lab = rgbToLab(src.rgb);				float scl = labSimilar(lab, mnm,mxm, lim);								vec3 hsv = rgbToHsl(src.rgb); 				float nh = 2.0 + hsv[0]+scl*shift[0]; 				hsv[0] = fract(nh); 				hsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); 				hsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); 								vec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); 								gl_FragColor = vec4(rgb,src.w); 							}";this.uZ(t,q.MY.XX)},q.q4[4].prototype=new q.f2,q.q4[4].prototype.WL=function(t,i){this.ac(["source","mnm","mxm","shift","lim"]);var e=q.ui,r=this.B6;e.uniform3fv(r.mnm,new Float32Array(i.c7)),e.uniform3fv(r.mxm,new Float32Array(i.Aa)),e.uniform3fv(r.shift,new Float32Array(i.shift)),e.uniform1f(r.lim,i.aI),this.ID([r.source,t])},q.q4[5]=function(){q.f2.call(this);var t="			precision mediump float;			"+q.XR.EW+"			"+q.XR.iP+"			"+q.XR.NN+"			"+q.XR.T4+"						uniform sampler2D source;			uniform vec3 cfs[18]; 						varying vec2 sCoord;						void main(void) { 				vec4 src = texture2D(source, sCoord); 				vec3 rgb = src.rgb; 				vec3 hsl = rgbToHsl(rgb); 				float mx = max(rgb.r, max(rgb.g, rgb.b)); 				float mn = min(rgb.r, min(rgb.g, rgb.b)); 								vec3 CMY = ONE3 - rgb; 				vec3 d = ZERO3; 								for(int j=0; j<9; j++) 				{ 				    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; 										float cfK = 0.0;					if     (j< 6) { 						cfK = hueCF(float(j)*(1.0/6.0), hsl.x); 						cfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); 					} 					else if(j==6) cfK = max(0.0,mn-0.5)*2.0;					else if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));					else          cfK = max(0.0,0.5-mx)*2.0;										d += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; 				} 								CMY = max(ZERO3, min(ONE3, CMY+d)); 				rgb = ONE3 - CMY; 								gl_FragColor = vec4(rgb,src.w); 							}";this.uZ(t,q.MY.XX)},q.q4[5].prototype=new q.f2,q.q4[5].prototype.WL=function(t,i){this.ac(["source","cfs"]);var e=q.ui,r=this.B6;e.uniform3fv(r.cfs,i.e$),this.ID([r.source,t])},q.q4[6]=function(){q.f2.call(this);var t="			precision mediump float;			"+q.XR.C7+"			"+q.XR.iP+"			"+q.XR.NN+"			"+q.XR.T4+"			"+q.XR.Uq+"						uniform sampler2D source;			uniform float wght[6]; 			uniform float prms[6]; 						varying vec2 sCoord;						void main(void) { 				vec4 src = texture2D(source, sCoord); 				vec3 rgb = src.rgb; 								float tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; 				vec3 hsl = rgbToHsl(rgb); 								float cf = 0.0;				for(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));								float lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));				if(tint==1.0) {  					float totl = 0.0;					if     (lig<x0) totl = lig*(0.5/lum); 					else if(lig<x1) totl = lig + (mcf)*(0.5 - lum); 					else            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); 										hsl.x = hue;  					hsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); 					hsl.z = totl; 				} 				else {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } 								rgb = hslToRgb(hsl.x, hsl.y, hsl.z); 								gl_FragColor = vec4(rgb,src.w); 							}";this.uZ(t,q.MY.XX)},q.q4[6].prototype=new q.f2,q.q4[6].prototype.WL=function(t,i){this.ac(["source","wght","prms"]);var e=q.ui,r=this.B6,n=[i.Ro,i.uI,i.ec,i.ZJ,i.sw,i.pm];e.uniform1fv(r.wght,new Float32Array(i._5)),e.uniform1fv(r.prms,new Float32Array(n)),this.ID([r.source,t])},q.q4[7]=function(){q.f2.call(this),this.xs={};var t="			precision mediump float;						uniform sampler2D source;			uniform sampler2D lut;			uniform float N;						varying vec2 sCoord;						void main(void) { 				float iN = 1.0/N; 				vec4 src = texture2D(source, sCoord); 				float fb = 0.5*iN + src.b*(1.0-iN); 				float fg = 0.5*iN + src.g*(1.0-iN); 				float R  = src.r*(N-1.0)*0.999999; 				float ir = floor(R)*iN;  								vec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); 				vec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); 				vec4 rs = mix(c0,c1,R-floor(R));  				gl_FragColor = vec4(rs.rgb,src.w); 							}";this.uZ(t,q.MY.XX)},q.q4[7].prototype=new q.f2,q.q4[7].prototype.WL=function(t,i){this.ac(["source","lut","N"]);var e=q.ui,r=this.B6,n=i.g8,a=i.Tr;this.xs["m"+n]==null&&(this.xs["m"+n]=new q._B(n,n*n));var s=this.xs["m"+n];s.set(a),e.uniform1f(r.N,n),this.ID([r.source,t,r.lut,s.g3]),e.activeTexture(e.TEXTURE1);var l=e.LINEAR;e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,l),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,l),e.activeTexture(e.TEXTURE0)},q.filter={LH:{},XX:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",m8:0,Vw:1,Zi:2,Nj:3},q.filter.WD=function(t,i){var e=q.filter,r=[e.m8,e.Vw,e.Zi,e.Nj].indexOf(t.type),n=q.filter.LH[t.type];n==null&&(n=q.filter.LH[t.type]=new q.LH[r]),n.kt(),n.WL(i,t),q.ui.drawArrays(q.ui.TRIANGLES,0,6)},q.LH=[0,0,0,0,0,0,0],q.LH[3]=function(){q.f2.call(this);var t='1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu"(&;5\'(ZJ<@=JtRNLLX^\\qbYo2!tvv\'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v," qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}\'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%\'#lw.66B8".@E0"2+\\Tb`fbLXmxu"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<"}opC3,(&&UM?12dTHSi`ZLM oco"wqgy}}|1\'x)"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l"hWV__SX"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob)."|^$(>C72s(+,"rzrOFFKK+3+e77[PuiRDJehh0gY_\'!gvx"y",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9\'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/\'9384Iw!\'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]\'>S0<EcKCA|beywX`V@oajIxx~%R"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#\',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H\'VV\\b0i\\hq=#';this.uZ(y.Dj(t),y.Dj(q.filter.XX))},q.LH[3].prototype=new q.f2,q.LH[3].prototype.WL=function(t,i){this.ac("source iwh tdep rrad spec nois poly0 poly1".split(" "));var e=q.ui,r=this.B6;e.uniform2fv(r.iwh,i.I1),e.uniform1f(r.tdep,i.aly),e.uniform1f(r.rrad,i.a2M),e.uniform2fv(r.spec,i.a8y),e.uniform3fv(r.nois,i.a3H),e.uniformMatrix4fv(r.poly0,!1,i.a8J),e.uniformMatrix4fv(r.poly1,!1,i.abg),this.ID([r.source,t]);var n=e.LINEAR;e.activeTexture(e.TEXTURE0),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n),e.activeTexture(e.TEXTURE0)},q.LH[0]=function(){q.f2.call(this);var t="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";this.uZ(y.Dj(t),y.Dj(q.filter.XX))},q.LH[0].prototype=new q.f2,q.LH[0].prototype.WL=function(t,i){this.ac(["source","iwh","ld","shine"]);var e=q.ui,r=this.B6;e.uniform2fv(r.iwh,i.I1),e.uniform3fv(r.ld,i.akp),e.uniform1f(r.shine,i.ab4),this.ID([r.source,t,r.tang,i.B9])},q.LH[1]=function(){q.f2.call(this);var t=`1%* !*709;O@;=ETOUgQZ\`Uk5|uqoo{" 5,|,21-=_tSJIRRFK$kd\`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-"8F,?9FJEAya[I]gZb^ysef8) R"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~\`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@\`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn\`a3$u|]0P6*I.3\`H2;A6LZQqt$]V^z'**/+@("stF7}M@\`F-<CZDIdhUux&mgYZ,|c4&F,r")@*/L;-._Xddihppuqtxe&)6}gpvk"0"6V<($91S2abPfApq\`r(oYbh]s"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x \`A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY`;this.uZ(y.Dj(t),y.Dj(q.filter.XX))},q.LH[1].prototype=new q.f2,q.LH[1].prototype.WL=function(t,i){this.ac(["source","iwh","isc","bristle"]);var e=q.ui,r=this.B6;e.uniform2fv(r.iwh,i.I1),e.uniform1f(r.isc,i.afn),e.uniform1f(r.bristle,i.agY),this.ID([r.source,t])},q.LH[2]=function(){q.f2.call(this);var t=`1%* !*709;O@;=ETOUgQZ\`Uk5|uqoo{" 5,|,21-=_tSJIRRFK$kd\`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll\`e/&|O~"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB\`!fWQ+rfx'<"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx\`afN*|Yf4{|"ltjT$u~]--39IiOFKFefrrwyah|2yz`;this.uZ(y.Dj(t),y.Dj(q.filter.XX))},q.LH[2].prototype=new q.f2,q.LH[2].prototype.WL=function(t,i){this.ac(["source","tang","iwh","sigma","expo"]);var e=q.ui,r=this.B6;e.uniform2fv(r.iwh,i.I1),e.uniform1f(r.sigma,i.sC),e.uniform1f(r.expo,i.R5),this.ID([r.source,t,r.tang,i.B9]);var n=e.LINEAR;e.activeTexture(e.TEXTURE0),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n),e.activeTexture(e.TEXTURE0)},q.N={},q.N.Ix={},q.N.QM=null,q.N.TE=null,q.N.tl=null,q.N.Q4=function(t,i,e,r,n,a,s,l){l==null&&(l=St.jx()),"idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(t)==-1&&(s=s*l.fill,l.fill=1,l.style=!1);var h=t+(l.Lc?"1":"");q.N.Ix[h]==null&&(q.N.Ix[h]=new q.N.Nb(t,l.Lc!=null));var o=q.N.Ix[h],f=e.$X(n).$X(a);if(f.offset(-n.x,-n.y),!f.qr()){var u=q.ui;q.k1(r,f),r.ke(f),o.kt(),o.WL(i.g3,r.z2,q.Y_(e,n),s,l.fill,l.style?1:0,l.YU?1:0,l.Lc?new Float32Array(l.Lc):null),u.drawArrays(u.TRIANGLES,0,6)}},q.N.CG=function(t,i,e,r,n,a,s,l,h,o,f){q.N.QM==null&&(q.N.QM=new q.N.tv(!0,!0)),q.N.TE==null&&(q.N.TE=new q.N.tv(!0,!1)),q.N.tl==null&&(q.N.tl=new q.N.tv(!1,!0));var u=o?1:0,p=t?n?q.N.QM:q.N.TE:q.N.tl,c=new Float32Array(f?[f[0],f[1],f[2],1]:[1,1,1,1]),d=i?i.$X(r).$X(l):r.$X(l);if(!d.qr()){d.offset(-r.x,-r.y);var g=q.ui;q.k1(e,d),e.ke(d),p.kt(),t==null?p.WL(null,e.z2,n.g3,q.Y_(r,r),q.Y_(a,r),s/255,h,u,c):n?p.WL(t.g3,e.z2,n.g3,q.Y_(i,r),q.Y_(a,r),s/255,h,u,c):p.WL(t.g3,e.z2,null,q.Y_(i,r),null,s/255,h,u,c),g.drawArrays(g.TRIANGLES,0,6)}},q.N.aim=function(t,i,e){q.N.n1==null&&(q.N.n1=new q.N.wo);var r=q.N.n1,n=new et(0,0,t.Z,t.h),a=q.ui;q.k1(i),i.ke(n),r.kt(),r.WL(n,t.g3,i.z2,e.g3),a.drawArrays(a.TRIANGLES,0,6)},q.N.EH={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "},q.N.Nb=function(t,i){q.f2.call(this);var e="			precision mediump float;			"+q.XR.EW+"						uniform sampler2D source;			uniform sampler2D target;			uniform float alpha;			uniform float fill;			uniform float style;			uniform float keepBGA;			"+(i?"uniform vec4 blIf[10];":"")+"						varying vec2 tCoord;			varying vec2 sCoord;									"+q.XR.TO+"			"+q.XR.ec+"			"+q.XR.fY+"			"+q.XR.aiT+"			"+q.XR.acq+"			"+q.XR.afj+"			"+q.XR.i8+"			"+q.XR.a6Q+"			"+q.XR.Am+"			"+q.XR.hash+"			"+(i?q.XR.XM:"")+"						vec3  BB(vec3  a, vec3  b, float f) { "+q.N.EH[t]+" } 						void main(void) {				vec4 tgt = texture2D(target, tCoord);				vec4 src = texture2D(source, sCoord);",r="			attribute vec2 verPos;			uniform vec4 srct;			varying vec2 tCoord;			varying vec2 sCoord;			void main(void) {				tCoord = verPos;				sCoord = (verPos-srct.xy)/srct.zw;				gl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);			}";t=="diss"?e+="					gl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }":e+="  					float as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; 					"+(i?"  as*=blendIf(src,tgt,blIf);  ":"")+"					float ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); 					float ccf = (style==1.0) ? 1.0 : as; 					vec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;					gl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));							}",this.uZ(e,r)},q.N.Nb.prototype=new q.f2,q.N.Nb.prototype.WL=function(t,i,e,r,n,a,s,l){this.ac("srct alpha source target fill style keepBGA blIf".split(" "));var h=q.ui,o=this.B6;h.uniform4fv(o.srct,e),h.uniform1f(o.alpha,r),h.uniform1f(o.fill,n),h.uniform1f(o.style,a),h.uniform1f(o.keepBGA,s),l&&h.uniform4fv(o.blIf,l),this.ID([o.source,t,o.target,i])},q.N.tv=function(t,i){q.f2.call(this),this.ab9=t,this.aR=i;var e="			precision mediump float;						uniform sampler2D source;			uniform sampler2D target;			uniform sampler2D weight;			uniform vec4 cswitch;			uniform float wcolor;			uniform float awg; /* additional weight */			uniform float dissv;						varying vec2 tCoord;			varying vec2 sCoord;			varying vec2 wCoord;						"+q.XR.aS+"			"+q.XR.hash+"						void main(void) {				vec4 tgt = texture2D(target, tCoord);				vec4 src = "+(t?"texture2D(source, sCoord)":"vec4(0.0)")+"; 				float wg = awg "+(i?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";				"+(t?"":"wg = 1.0-wg;")+"				float hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; 				float as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;								vec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  				gl_FragColor =  "+(i?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    			}",r="			attribute vec2 verPos;			varying vec2 tCoord;			varying vec2 sCoord;			varying vec2 wCoord;						uniform vec4 srct;			uniform vec4 wrct;			void main(void) {				tCoord = verPos;				sCoord = (verPos-srct.xy)/srct.zw;				wCoord = (verPos-wrct.xy)/wrct.zw;				gl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);			}";this.uZ(e,r)},q.N.tv.prototype=new q.f2,q.N.tv.prototype.WL=function(t,i,e,r,n,a,s,l,h){this.aR?this.ac("srct wrct wcolor awg dissv source target weight cswitch".split(" ")):this.ac("srct awg dissv source target cswitch".split(" "));var o=q.ui,f=this.B6;o.uniform4fv(f.srct,r),this.aR?(o.uniform4fv(f.wrct,n),o.uniform1f(f.wcolor,a)):o.uniform4fv(f.cswitch,h),o.uniform1f(f.awg,s),o.uniform1f(f.dissv,l);var u=[f.source,t,f.target,i];this.aR&&u.push(f.weight,e),this.ID(u)},q.N.wo=function(){q.f2.call(this);var t="			precision mediump float;						uniform sampler2D prev;			uniform sampler2D next;			uniform sampler2D alpha;						varying vec2 coord;									void main(void) {				vec3 or = texture2D(prev , coord).rgb;				vec3 ir = texture2D(next , coord).rgb; 				float al = texture2D(alpha, coord).w; 				gl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  			}",i="			attribute vec2 verPos;			varying vec2 coord;						uniform vec4 rct;			void main(void) {				coord = verPos;				gl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);			}";this.uZ(t,i)},q.N.wo.prototype=new q.f2,q.N.wo.prototype.WL=function(t,i,e,r){this.ac(["rct","prev","next","alpha"]);var n=q.ui,a=this.B6;n.uniform4fv(a.rct,[0,0,1,1]),this.ID([a.prev,i,a.next,e,a.alpha,r])};function Dn(){}Dn.ee=function(t){var i=new Uint8Array(t),e=0,r={Xu:[],A6:[],list:[]},n=A.lU(i,e);if(e+=2,n<=2)return Dn.aep(i);var a=A.lU(i,e);e+=2;var s=A.$o(i,e,8);e+=8;var l=A.l(i,e);e+=4,l>0&&(r.Xu=Dn.W_(i,e,l,a,n)),e+=l;var h=A.$o(i,e,8);e+=8;var o=A.l(i,e);e+=4,o>0&&(r.A6=Ye.by(i,e,o)),e+=o;var f=A.$o(i,e,8);e+=8;var u=A.l(i,e);if(e+=4,u>0){var p={};Yt.Gz(i,p,e+4),r.list=p.Brsh.v}e+=u;for(var c=r.list,d=0;d<c.length;d++)ye.w_.check(c[d].v);return r},Dn.PZ=function(t,i){t.v.Nm.v=i},Dn.aep=function(t){var i={Xu:[],A6:[],list:[]},e=0,r=A.lU(t,e);e+=2;var n=A.lU(t,e);e+=2;for(var a=0;a<n;a++){var s=A.lU(t,e);e+=2;var l=A.l(t,e);e+=4;var h=e;if(s==2){var o={};i.Xu.push(o);var f=A.l(t,h);h+=4;var u=A.lU(t,h);if(h+=2,r==2){var p=A.nf(t,h);h+=4+p.length*2+2}o.id=Pt.vs()+"-d71c-11e5-b1ae-a548a96e5f9f",h++,h+=8,o.T=A.g$(t,h),h+=16;var c=A.lU(t,h);h+=2;var d=t[h];h++,o.channel=Fi.zc(!1,c,t,o.T.Z,o.T.h,h,d);var g=ye.Jl(o.id),b=g.Brsh.v;b.Dmtr.v.val=o.T.Z,b.Spcn.v.val=u,i.list.push({t:"Objc",v:g})}e+=l}return i},Dn.qx=function(t){var i=new sr,e=0,r=0;A.Fh(i,e,6),e+=2,A.Fh(i,e,2),e+=2,A.bh(i,e,"8BIMsamp"),e+=8,e+=4,r=e,e=Dn.D7(i,e,t.Xu),A.oL(i,r-4,e-r),A.bh(i,e,"8BIMpatt"),e+=8,e+=4,r=e,e=Ye.C4(i,e,t.A6),A.oL(i,r-4,e-r);var n={classID:"null",Brsh:{t:"VlLs",v:t.list}};return A.bh(i,e,"8BIMdesc"),e+=8,e+=4,r=e,A.oL(i,e,16),e+=4,e+=Yt.p1(i,n,e),A.oL(i,r-4,e-r),i.data.slice(0,e).buffer},Dn.W_=function(t,i,e,r,n){for(var a=A.l,s=A.g$,l=i+e,h=[];i<l;){var o={};h.push(o);var f=a(t,i);i+=4;var u=i,p=A.Zd(t,i);if(i+=p.length,o.id=p.dC,r==1)i+=9,o.T=s(t,i),i+=16;else{i+=7;var c=a(t,i);i+=4,o.T=s(t,i),i+=16;var d=a(t,i);i+=4,i+=d*4;var g=a(t,i);i+=4;var b=a(t,i);i+=4;var m=s(t,i);i+=16}var x=A.lU(t,i);i+=2;var M=t[i];i+=1,o.channel=Fi.zc(!1,x,t,o.T.Z,o.T.h,i,M),f%4!=0&&(f+=4-f%4),i=u+f}return h},Dn.D7=function(t,i,e){for(var r=A.oL,n=A.nl,a=0;a<e.length;a++){var s=e[a],l=i+4,h=56,o=1;i+=4,A.JG(t,i,s.id),i+=s.id.length+2,t.cj(i,1),t.data[i]=1,i+=3,r(t,i,3),i+=4;var f=i;i+=4,n(t,i,s.T),i+=16,r(t,i,h),i+=4,i+=h*4,r(t,i-4,1);var u=i;i+=4,r(t,i,8),i+=4,n(t,i,s.T),i+=16,A.Fh(t,i,8),i+=2,t.cj(i,1),t.data[i]=o,i++,t.cj(i,s.T.M()*2),i=Fi.CP(s.channel,t.data,s.T.Z,s.T.h,i,o),t.cj(i,8),i+=8;var p=i-l;r(t,l-4,p),r(t,f,p-49),r(t,u,p-305),p%4!=0&&(i+=4-p%4)}return i};function Ce(){}Ce.ee=function(t){var i=new Uint8Array(t),e=[],r=0,n=A.lU(i,r);if(r+=2,n!=4)throw"Unknown version of curves: "+n;var a=A.lU(i,r);r+=2;for(var s=0;s<a;s++){var l=Ce.OO(i,r);r+=2+2*l.length,e.push(l)}if(r==i.length)return e;var h=A.$o(i,r,4);r+=4;var o=A.lU(i,r);r+=2;var f=A.lU(i,r);if(r+=2,f!=0)throw"extra curves for channels";return e},Ce.TM=function(t,i,e){var r=i,n=[],a=t[i];i+=3;var s=A.l(t,i);i+=4;for(var l=0;l<4;l++){var h=s>>>l&1;if(h){if(a==0){var o=Ce.OO(t,i);i+=2+2*o.length}else{var o=Ce.ako(t,i);i+=256}n.push(o)}else n.push(a==0?[0,0,255,255]:Ce.abl())}for(var f=Zt.tt("curv"),l=0;l<4;l++)if(a==0){for(var u=n[l],p=[],c=0;c<u.length;c+=2)p.push(v.JH.Rn(u[c],u[c+1],!0));Ce._j(f,l,p)}else Ce._j(f,l,n[l]);return f},Ce.abl=function(){for(var t=[],i=0;i<256;i++)t.push(i);return t},Ce._j=function(t,i,e){var r=Ke.pg("CrvA",i);if(e.length<256)r.Crv={t:"VlLs",v:e};else{r.Mpng={t:"VlLs",v:[]};for(var n=0;n<256;n++)r.Mpng.v[n]={t:"long",v:e[n]}}r={t:"Objc",v:r};var a=t.Adjs.v,s=Ke.w$(a,i);s==-1?a.push(r):a[s]=r},Ce.Yl=function(t,i){var e=t.Adjs.v,r=Ke.w$(e,i);if(r==-1){if(e.length==0||e[0].v.Crv)return[v.JH.Rn(0,0,!0),v.JH.Rn(255,255,!0)];for(var l=[],n=0;n<256;n++)l.push(n);return l}var a=e[r].v,s=a.Crv;if(s)return s.v;for(var l=[],n=0;n<256;n++)l.push(a.Mpng.v[n].v);return l},Ce.OO=function(t,i){var e=[],r=A.lU(t,i);i+=2;for(var n=0;n<r;n++){var a=A.lU(t,i);i+=2;var s=A.lU(t,i);i+=2,e.push(s,a)}return e},Ce.a4N=function(t,i,e){var r=e.length/2;A.Fh(t,i,r),i+=2;for(var n=0;n<r;n++)A.Fh(t,i,e[n*2+1]),i+=2,A.Fh(t,i,e[n*2+0]),i+=2},Ce.ako=function(t,i){for(var e=[],r=0;r<256;r++)e.push(t[i+r]);return e},Ce.a26=function(t,i,e){t.cj(i,256);for(var r=0;r<256;r++)t.data[i+r]=e[r]},Ce.nG=function(t,i,e){for(var r=[],n=0;n<4;n++){var a=Ce.Yl(e,n);if(a.length==256)r.push(a);else{for(var s=[],l=0;l<a.length;l++)s.push(a[l].v.Hrzn.v,a[l].v.Vrtc.v);r.push(s)}}var h=i,o=r[0].length==256?1:0;t.cj(i,3),t.data[i]=o,t.data[i+1]=0,t.data[i+2]=1,i+=3,A.oL(t,i,15),i+=4;for(var n=0;n<4;n++){var f=r[n];o==0?(Ce.a4N(t,i,f),i+=2+2*f.length):(Ce.a26(t,i,f),i+=256)}return i-h};function rr(){}rr.TM=function(t,i,e){var r={},n=A.lU(t,i);i+=2,r.jg=t[i]==1,i++,i++,r.yM=[A.dx(t,i),A.dx(t,i+2),A.dx(t,i+4)],i+=6,r.TW=[A.dx(t,i),A.dx(t,i+2),A.dx(t,i+4)],i+=6,r.fy=[];for(var a=0;a<6;a++){var s={};s.Ej=[A.dx(t,i),A.dx(t,i+2),A.dx(t,i+4),A.dx(t,i+6)],i+=8,s.qh=[A.dx(t,i),A.dx(t,i+2),A.dx(t,i+4)],i+=6,r.fy.push(s)}var l=Zt.tt("hue2"),h=r;l.Clrz==null&&(l.Clrz={t:"bool",v:!1}),l.Clrz.v=h.jg;for(var a=0;a<7;a++){var o=a==0?h.jg?h.yM:h.TW:h.fy[a-1];rr._j(l,a,o)}return l},rr.agg=function(t){return{classID:"Hst2",H:{t:"long",v:t[0]},Strt:{t:"long",v:t[1]},Lght:{t:"long",v:t[2]}}},rr.w$=function(t,i){for(var e=0;e<t.length;e++){var r=t[e].v.LclR;if(i==0&&r==null||r!=null&&r.v==i)return e}return-1},rr._j=function(t,i,e){var r=i==0?e:e.qh,n=rr.agg(r);if(i!=0){var a=e.Ej;n.LclR={t:"long",v:i},n.BgnR={t:"long",v:a[0]},n.BgnS={t:"long",v:a[1]},n.EndS={t:"long",v:a[2]},n.EndR={t:"long",v:a[3]}}n={t:"Objc",v:n};var s=t.Adjs.v,l=rr.w$(s,i);l==-1?s.push(n):s[l]=n},rr.Yl=function(t,i){var e=t.Adjs.v,r=rr.w$(e,i);if(r==-1)return i==0?[0,0,0]:[{Ej:[315,345,15,45],qh:[0,0,0]},{Ej:[15,45,75,105],qh:[0,0,0]},{Ej:[75,105,135,165],qh:[0,0,0]},{Ej:[135,165,195,225],qh:[0,0,0]},{Ej:[195,225,255,285],qh:[0,0,0]},{Ej:[255,285,315,345],qh:[0,0,0]}][i-1];var n=e[r].v,a=[n.H.v,n.Strt.v,n.Lght.v];return i==0?a:{qh:a,Ej:[n.BgnR.v,n.BgnS.v,n.EndS.v,n.EndR.v]}},rr.nG=function(t,i,e){var r={jg:e.Clrz.v,fy:[]};r.yM=r.TW=rr.Yl(e,0);for(var n=1;n<7;n++)r.fy.push(rr.Yl(e,n));var a=2+2+12+6*14,s=t.data;t.cj(i,a),A.J6(s,i,2),i+=2,s[i]=r.jg?1:0,i++,i++,A.Gl(s,i+0,r.yM[0]),A.Gl(s,i+2,r.yM[1]),A.Gl(s,i+4,r.yM[2]),i+=6,A.Gl(s,i+0,r.TW[0]),A.Gl(s,i+2,r.TW[1]),A.Gl(s,i+4,r.TW[2]),i+=6;for(var n=0;n<6;n++){var l=r.fy[n].Ej,h=r.fy[n].qh;A.Gl(s,i+0,l[0]),A.Gl(s,i+2,l[1]),A.Gl(s,i+4,l[2]),A.Gl(s,i+6,l[3]),i+=8,A.Gl(s,i+0,h[0]),A.Gl(s,i+2,h[1]),A.Gl(s,i+4,h[2]),i+=6}return a};function Ke(){}Ke.ee=function(t){for(var i=new Uint8Array(t),e=2,r=[],n=0;n<29;n++){var a=[];r.push(a);for(var s=0;s<5;s++)a.push(A.lU(i,e+n*10+s*2))}if(e+=29*10,e<i.length){var l=A.$o(i,e,4);e+=4;var h=A.lU(i,e);e+=2;var o=A.lU(i,e);e+=2;for(var f=o-29,n=0;n<f;n++){var a=[];r.push(a);for(var s=0;s<5;s++)a.push(A.lU(i,e+n*10+s*2))}}for(var u=Zt.tt("levl"),n=0;n<4;n++)Ke._j(u,n,r[n]);return u},Ke.pg=function(t,i){var e=["Cmps","Rd","Grn","Bl"],r={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:e[i]}}]};return{classID:t,Chnl:r}},Ke.w$=function(t,i){for(var e={Cmps:0,Rd:1,Grn:2,Bl:3},r=0;r<t.length;r++){var n=t[r].v,a=e[n.Chnl.v[0].v.enum];if(a==i)return r}return-1},Ke._j=function(t,i,e){var r=Ke.pg("LvlA",i);r.Inpt={t:"VlLs",v:[{t:"long",v:e[0]},{t:"long",v:e[1]}]},r.Otpt={t:"VlLs",v:[{t:"long",v:e[2]},{t:"long",v:e[3]}]},r.Gmm={t:"doub",v:e[4]/100},r={t:"Objc",v:r};var n=t.Adjs.v,a=Ke.w$(n,i);a==-1?n.push(r):n[a]=r},Ke.Yl=function(t,i){var e=[0,255,0,255,100],r=t.Adjs.v,n=Ke.w$(r,i);if(n==-1)return e;var a=r[n].v;return a.Inpt&&(e[0]=a.Inpt.v[0].v,e[1]=a.Inpt.v[1].v),a.Otpt&&(e[2]=a.Otpt.v[0].v,e[3]=a.Otpt.v[1].v),a.Gmm&&(e[4]=Math.round(a.Gmm.v*100)),e},Ke.qx=function(t,i){for(var e=[],r=0,n=0;n<4;n++)e.push(Ke.Yl(i,n));for(;e.length<29;)e.push([0,255,0,255,100]);t.cj(0,2+10*29),A.J6(t.data,r,2),r+=2;for(var n=0;n<29;n++)for(var a=e[n],s=0;s<5;s++)A.J6(t.data,r+n*10+s*2,a[s]);if(r+=29*10,e.length==29)return r;t.cj(r,8+10*(e.length-29)),A.jW(t.data,r,"Lvls"),r+=4,A.J6(t.data,r,3),r+=2,A.J6(t.data,r,e.length),r+=2;for(var l=e.length-29,n=0;n<l;n++)for(var a=e[29+n],s=0;s<5;s++)A.J6(t.data,r+n*10+s*2,a[s]);return r+=10*l,r};function yl(){}yl.ee=function(t){var i=new Uint8Array(t),e=2,r={f1:[],hI:[]},n=A.$o(i,e,4);e+=4;var a=A.lU(i,e);e+=2;var s=A.l(i,e);e+=4,r.f1=Ye.by(i,e,s),e+=s;var l=A.l(i,e);e+=4;for(var h=0;h<l;h++){var o=A.l(i,e);e+=4;var f=e,u={By:{},rB:{}};r.hI.push(u),e+=4,e+=Yt.Gz(i,u.By,e),e+=4,e+=Yt.Gz(i,u.rB,e),e=f+o;var p=u.rB.blendOptions,c=u.rB.Lefx;p&&Object.keys(p.v).length>1,c&&(c.v.masterFXSwitch==null&&(c.v.masterFXSwitch={t:"bool",v:!0}),pr.lm(c.v))}return r},yl.PZ=function(t,i){t.By.Nm.v=i},yl.qx=function(t){var i=new sr,e=0;A.Fh(i,e,2),e+=2,A.bh(i,e,"8BSL"),e+=4,A.Fh(i,e,3),e+=2;var r=e;e+=4,e=Ye.C4(i,e,t.f1),A.oL(i,r,e-r-4);var n=t.hI.length;A.oL(i,e,n),e+=4;for(var a=0;a<n;a++){e+=4;var s=e,l=t.hI[a];A.oL(i,e,16),e+=4,e+=Yt.p1(i,l.By,e);var h=l.rB.Lefx;h&&(l.rB.Lefx=JSON.parse(JSON.stringify(h)),pr._k(l.rB.Lefx.v)),A.oL(i,e,16),e+=4,e+=Yt.p1(i,l.rB,e),h&&(l.rB.Lefx=h),A.oL(i,s-4,e-s)}return i.data.slice(0,e).buffer};function Nr(){}Nr.TM=function(t,i,e){var r=A.lU(t,i);i+=2;var n={};n.wA=A.lU(t,i)==1,i+=2,n.ju=[];for(var a=0;a<10;a++){var s=[];n.ju.push(s);for(var l=0;l<4;l++)s.push(A.dx(t,i+l*2));i+=8}var h=Zt.tt("selc");h.Mthd.v.CrcM=n.wA?"Absl":"Rltv";for(var a=1;a<10;a++)Nr._j(h,a-1,n.ju[a]);return h},Nr.zP="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" "),Nr.pg=function(t,i){var e=["Cmps","Rd","Grn","Bl"],r={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:e[i]}}]};return{classID:t,Chnl:r}},Nr.w$=function(t,i){for(var e=Nr.zP,r=0;r<t.length;r++){var n=t[r].v,a=e.indexOf(n.Clrs.v.Clrs);if(a==i)return r}return-1},Nr._j=function(t,i,e){for(var r=["Cyn","Mgnt","Ylw","Blck"],n={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:Nr.zP[i]}}},a=0;a<4;a++)n[r[a]]={t:"UntF",v:{type:"#Prc",val:e[a]}};n={t:"Objc",v:n};var s=t.ClrC.v,l=Nr.w$(s,i);l==-1?s.push(n):s[l]=n},Nr.Yl=function(t,i){var e=[0,0,0,0],r=t.ClrC.v,n=Nr.w$(r,i);if(n==-1)return e;for(var a=["Cyn","Mgnt","Ylw","Blck"],s=0;s<4;s++)r[n].v[a[s]]&&(e[s]=r[n].v[a[s]].v.val);return e},Nr.nG=function(t,i,e){for(var r={wA:e.Mthd.v.CrcM=="Absl",ju:[[0,0,0,0]]},n=0;n<9;n++)r.ju.push(Nr.Yl(e,n));t.cj(i,84),A.J6(t.data,i,1),i+=2,A.J6(t.data,i,r.wA?1:0),i+=2;for(var n=0;n<10;n++){for(var a=r.ju[n],s=0;s<4;s++)A.Gl(t.data,i+s*2,a[s]);i+=8}return 84};function qr(){}qr.tt=function(){return{gx:new et(0,0,50,50),By:"",s3:"play",b:v.V.Ny.JF([.1,.1,.9,.5,.1,.9],0)}},qr.ee=function(t){t=new Uint8Array(t);var i=0,e=[],r=Date.now(),n=A.$o(t,0,4);i+=4;var a=A.l(t,i);i+=4;var s=A.l(t,i);i+=4;for(var l=0;l<s;l++){var h=A.nf(t,i);i+=h.length*2+4+2,(h.length&1)==0&&(i+=2);var o=A.l(t,i);i+=4;var f=A.l(t,i);i+=4;var u=i,p=A.Zd(t,u).dC;u+=p.length+1;var c=A.g$(t,u);u+=16;var d=qr.xe(t,u,f-(u-i)),g=v.V.dq(d),b=v.D.nP(g),m=1/b.Z,x=1/b.h;v.V.G5(d,new Et(m,0,0,x,-b.x*m,-b.y*x)),e.push({s3:h,By:p,b:d,gx:c}),i+=f}return e},qr.PZ=function(t,i){t.s3=i},qr.qx=function(t){var i=new sr,e=0;A.bh(i,e,"cush"),e+=4,A.oL(i,e,2),e+=4,A.oL(i,e,t.length),e+=4;for(var r=0;r<t.length;r++){var n=t[r],a=n.s3+"\0";A.lS(i,e,a),e+=4+a.length*2,(a.length&1)==1&&(e+=2),A.oL(i,e,1),e+=4,e+=4;var s=e;A.JG(i,e,n.By),e+=n.By.length+1,A.nl(i,e,n.gx),e+=16,i.cj(e,n.b.length*26),qr.A$(i.data,e,n.b,1,1),e+=n.b.length*26;var l=e-s;(l&3)!=0&&(l+=4-(l&3)),A.oL(i,s-4,l),e=s+l}return i.data.slice(0,e).buffer},qr.xe=function(t,i,e,r,n){r==null&&(r=1),n==null&&(n=1);for(var a=A.dx,s=A.a11,l=[],h=Math.floor(e/26),o=0;o<h;o++){var f=i+o*26,u={},p=0;if(l.push(u),u.type=a(t,f),f+=2,u.type==6&&(p=24),u.type==8&&(u.all=a(t,f),f+=2,p=22),(u.type==0||u.type==3)&&(u.length=a(t,f),f+=2,u.IO=a(t,f),f+=2,u.yU=a(t,f),f+=2,u.Oj=A.l(t,f),f+=4,u.UB=A.l(t,f),f+=4,p=10),u.type==1||u.type==2||u.type==4||u.type==5){var c,d;d=s(t,f),f+=4,c=s(t,f),f+=4,u.wU=new st(c*r,d*n),d=s(t,f),f+=4,c=s(t,f),f+=4,u._=new st(c*r,d*n),d=s(t,f),f+=4,c=s(t,f),f+=4,u.dv=new st(c*r,d*n),p=0}for(var g=0;g<p;g++)t[f+g]!=0&&console.log("Unexpected non-zero byte!",u,g,t[f+g])}return l},qr.A$=function(t,i,e,r,n){for(var a=A.Gl,s=A.NF,l=e.length,h=0;h<l;h++){var o=i+h*26,f=e[h];a(t,o,f.type),o+=2,f.type==6,f.type==8&&a(t,o,f.all),(f.type==0||f.type==3)&&(a(t,o,f.length),o+=2,a(t,o,f.IO),o+=2,a(t,o,f.yU),o+=2),(f.type==1||f.type==2||f.type==4||f.type==5)&&(s(t,o,f.wU.y/n),o+=4,s(t,o,f.wU.x/r),o+=4,s(t,o,f._.y/n),o+=4,s(t,o,f._.x/r),o+=4,s(t,o,f.dv.y/n),o+=4,s(t,o,f.dv.x/r),o+=4)}};function yn(){}yn.ee=function(t){var i=new Uint8Array(t),e=[],r=0;return r=yn.vX(i,r,e),r+3<i.length&&(e=[],r=yn.vX(i,r,e)),e},yn.vX=function(t,i,e){var r=A.lU,n=A.dx,a=r(t,i);i+=2;var s=r(t,i);i+=2;for(var l=0;l<s;l++){var h=yn.HD(t,i);i+=10,a==2&&(h.ah=A.nf(t,i),i+=4+h.ah.length*2+2),e.push(h)}return i},yn.HD=function(t,i){var e=A.lU,r=A.dx,n=e(t,i),a=null;i+=2;var s=e(t,i);i+=2;var l=e(t,i);i+=2;var h=e(t,i);i+=2;var o=e(t,i);i+=2;var f=1/65535,u=255/65535,p=100/65535,c=255/1e4;if(n==0)a={U:s*u,S:l*u,i:h*u};else if(n==1)a=v.ul(s*f,l*f,h*f),a.U*=255,a.S*=255,a.i*=255;else if(n==2)a=v.j.T6({classID:"CMYC",Cyn:{t:"doub",v:100-s*p},Mgnt:{t:"doub",v:100-l*p},Ylw:{t:"doub",v:100-h*p},Blck:{t:"doub",v:100-o*p}});else if(n==7){var d=v.qL(s/100,r(t,i-6)/100,r(t,i-4)/100);a=d}else if(n==8)a={U:255-s*c,S:255-l*c,i:255-h*c};else throw"e "+n+", ";return a},yn.qx=function(t){var i=new sr,e=0,r=A.Fh;r(i,e,2),e+=2,r(i,e,t.length),e+=2;for(var n=0;n<t.length;n++){var a=t[n];i.cj(e,10),yn.PO(i.data,e,a),e+=10;var s=(a.ah?a.ah:"")+"\0";A.lS(i,e,s),e+=4+s.length*2}return i.data.slice(0,e).buffer},yn.PZ=function(t,i){t.ah=i},yn.PO=function(t,i,e){var r=65535/255,n=A.J6;n(t,i,0),n(t,i+2,Math.round(e.U*r)),n(t,i+4,Math.round(e.S*r)),n(t,i+6,Math.round(e.i*r)),n(t,i+8,0)};function da(){}da.ee=function(t){var i=new Uint8Array(t),e=4,r={};r.tP=A.nf(i,e),e+=4+r.tP.length*2+2,r.exp=i[e++]==1,r.xX=[];var n=A.l(i,e);e+=4;for(var a=0;a<n;a++){var s={};r.xX.push(s),s.XN=A.lU(i,e),e+=2,s.shift=i[e++]==1,s.Wt=i[e++]==1,s.color=A.lU(i,e),e+=2,s.tP=A.nf(i,e),e+=4+s.tP.length*2+2,s.exp=i[e++]==1,s.xX=[];var l=A.l(i,e);e+=4;for(var h=0;h<l;h++){var o={};s.xX.push(o),o.exp=i[e++]==1,o.Y=i[e++]==1,o.r1=i[e++]==1,o.ek=i[e++];var f=A.$o(i,e,4);if(e+=4,f=="TEXT")o.Bm=da.aB(i,e),e+=4+o.Bm.length;else if(f=="long")o.Bm=A.$o(i,e,4),e+=4;else throw"e";o.vN=da.aB(i,e),e+=4+o.vN.length;var u=A.tF(i,e);if(e+=4,u==-1){o.w1={};var p=Yt.Gz(i,o.w1,e);e+=p}}}console.log(r);for(var c=new Uint8Array(da.qx(r)),a=0;a<c.length;a++)if(c[a]!=i[a]){console.log(i.length,c.length);var d=4*(a>>>2)-16;throw console.log(A.h$(i,d,64)),console.log(A.h$(c,d,64)),console.log(i.slice(d,d+64)),console.log(c.slice(d,d+64)),a}return console.log(r),[r]},da.aB=function(t,i){var e=A.l(t,i);return A.$o(t,i+4,e)},da.DA=function(t,i,e){A.oL(t,i,e.length),A.bh(t,i+4,e)},da.qx=function(t){var i=new sr,e=0;A.oL(i,e,16),e+=4,A.lS(i,e,t.tP+"\0"),e+=4+t.tP.length*2+2,i.cj(e,1),i.data[e++]=t.exp?1:0;var r=t.xX.length;A.oL(i,e,r),e+=4;for(var n=0;n<r;n++){var a=t.xX[n];A.Fh(i,e,a.XN),e+=2,i.cj(e,2),i.data[e++]=a.shift?1:0,i.data[e++]=a.Wt?1:0,A.Fh(i,e,a.color),e+=2,A.lS(i,e,a.tP+"\0"),e+=4+a.tP.length*2+2,i.cj(e,1),i.data[e++]=a.exp?1:0;var s=a.xX.length;A.oL(i,e,s),e+=4;for(var l=0;l<s;l++){var h=a.xX[l];i.cj(e,4),i.data[e++]=h.exp?1:0,i.data[e++]=h.Y?1:0,i.data[e++]=h.r1?1:0,i.data[e++]=h.ek;var o=h.Bm=="LqFy"||h.Bm=="Avrg"||h.Bm=="GEfc"||h.Bm=="PbPl"||h.Bm=="Fbrs";if(A.bh(i,e,o?"long":"TEXT"),e+=4,o?(A.bh(i,e,h.Bm),e+=4):(da.DA(i,e,h.Bm),e+=4+h.Bm.length),da.DA(i,e,h.vN),e+=4+h.vN.length,A.Oc(i,e,h.w1?-1:0),e+=4,h.w1){var f=Yt.p1(i,h.w1,e);e+=f}}}return i.data.slice(0,e).buffer};function Ks(){}Ks.ee=function(t){var i=new Uint8Array(t),e=0,r=A.l(i,e),n;e+=4;var a=A.$o(i,e,8);e+=8;var s=A.L6(i,e);e+=4;var l=A.L6(i,e);e+=4;var h=A.L6(i,e);if(e+=4,r==2)n=new Float32Array(t,32,t.byteLength-32>>>2);else if(r==3||r==4){n=new Float32Array(l*h*2);var o=0,f=0,u=!0;for(e=r==3?32:16+8+40;e<i.length;){var p=A.L6(i,e);if(e+=4,u)f+=p;else{for(var c=0;c<p;c++)n[o+f+c<<1]=A.CC(i,e),n[(o+f+c<<1)+1]=A.CC(i,e+4),e+=8;f+=p}if(u=!u,p!=0&&f==l&&(o+=l,f=0,u=!0,o==l*h))break}}else throw"unknown Mesh version: "+r;return{YY:l,mi:h,map:n}},Ks.HC=function(t){var i=t.YY,e=t.mi,r=t.map,n=new Uint8Array(32+e*i*8+e*8),a=0,s=0;A.GB(n,a,3),a+=4,A.jW(n,a,"yfqLhseM"),a+=8,A.vH(n,a,2),a+=4,A.vH(n,a,i),a+=4,A.vH(n,a,e),a+=4,A.vH(n,a,0),a+=4,A.vH(n,a,1),a+=4;for(var l=0;l<e;l++){A.vH(n,a,0),a+=4,A.vH(n,a,i),a+=4;for(var h=0;h<i;h++)A.pq(n,a,r[s]),A.pq(n,a+4,r[s+1]),s+=2,a+=8}return n.buffer};function Yl(){}Yl.ee=function(t){var i=new Uint8Array(t),e=0,r=A.$o(i,e,4);e+=4;var n=A.lU(i,e);e+=2;var a=A.l(i,e);e+=4;for(var s=[],l=0;l<a;l++){var h=A.l(i,e);e+=4;var o={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};s.push(o);var f=A.nf(i,e);o.Nm.v=f,e+=4+f.length*2+2;var u=A.lU(i,e);e+=2;var p=A.lU(i,e);e+=2;for(var c=0;c<p;c++){var d=v.JH.Rn(0,0,!0);d.v.Vrtc.v=A.lU(i,e),e+=2,d.v.Hrzn.v=A.lU(i,e),e+=2,o.Crv.v.push(d)}if(h!=1)if(h==2)for(var c=0;c<p;c++)o.Crv.v[c].v.Cnty.v=i[e]==1,e+=1;else throw"error";var g=A.l(i,e);e+=4;var b=A.l(i,e);e+=4}return s},Yl.PZ=function(t,i){t.Nm.v=i},Yl.qx=function(t){var i=new sr,e=0;A.bh(i,e,"8BFS"),e+=4,A.Fh(i,e,1),e+=2,A.oL(i,e,t.length),e+=4;for(var r=0;r<t.length;r++){A.oL(i,e,2),e+=4;var n=t[r];A.lS(i,e,n.Nm.v+"\0"),e+=4+n.Nm.v.length*2+2,A.Fh(i,e,2),e+=2;var a=n.Crv.v.length;A.Fh(i,e,a),e+=2;for(var s=0;s<a;s++){var l=n.Crv.v[s];A.Fh(i,e,l.v.Vrtc.v),e+=2,A.Fh(i,e,l.v.Hrzn.v),e+=2}i.cj(e,a);for(var s=0;s<a;s++)i.data[e]=n.Crv.v[s].v.Cnty.v,e++;A.oL(i,e,0),e+=4,A.oL(i,e,0),e+=4}return i.data.slice(0,e).buffer};function Ye(){}Ye.ee=function(t){var i=new Uint8Array(t),e=4,r=A.lU(i,e);e+=2;var n=A.l(i,e);e+=4;for(var a=[],s=0;s<n;s++){var l={};a.push(l),e=Ye.qe(i,e,l)}return a},Ye.PZ=function(t,i){t.name=i},Ye.qx=function(t){var i=new sr,e=0;A.bh(i,e,"8BPT"),e+=4,A.Fh(i,e,1),e+=2,A.oL(i,e,t.length),e+=4;for(var r=0;r<t.length;r++)e=Ye.V0(i,e,t[r]);return i.data.slice(0,e).buffer},Ye.by=function(t,i,e){for(var r=i+e,n=[];i<r;){var a={},s=A.l(t,i);i+=4;var l=i;i=Ye.qe(t,i,a),a.Jx[1].qr()||n.push(a),s%4!=0&&(s+=4-s%4),i=l+s}return n},Ye.C4=function(t,i,e){for(var r=0;r<e.length;r++){var n=e[r];i+=4;var a=i;i=Ye.V0(t,i,n);var s=i-a;A.oL(t,a-4,s),s%4!=0&&(a+=4-s%4),i=a+s}return i},Ye.qe=function(t,i,e){var r=A.l(t,i);i+=4,r!=1&&alert("Unknown version of pattern");var n=A.l(t,i);i+=4,n!=1&&n!=2&&n!=3&&console.log("Unsupported mode of pattern: "+n);var a=A.lU(t,i);i+=2;var s=A.lU(t,i);i+=2;var l=new et(0,0,s,a);e.name=A.nf(t,i),i+=4+2*e.name.length+2;var h=t[i];i++,e.id=A.$o(t,i,h),i+=e.id.length;var o=-1;n==2&&(o=i,i+=3*256+4);var f=new v._B(s*a);if(i=Ye.a5Y(t,i,f),n==2)for(var u=0;u<f.U.length;u++){var p=3*f.U[u];f.U[u]=t[o+p+0],f.S[u]=t[o+p+1],f.i[u]=t[o+p+2]}var c=v.R(l.M()*4);return v.sA(f,c),e.Jx=[c,l],i},Ye.V0=function(t,i,e){var r=e.Jx[0],n=e.Jx[1];A.oL(t,i,1),i+=4,A.oL(t,i,3),i+=4,A.Fh(t,i,n.h),i+=2,A.Fh(t,i,n.Z),i+=2,A.lS(t,i,e.name+"\0"),i+=4+2*e.name.length+2,A.oO(t,i,e.id.length),i++,A.bh(t,i,e.id),i+=e.id.length;var a=new v._B(n.M());return v.Ae(r,a),i=Ye.a4w(t,i,a,n),i},Ye.a5Y=function(t,i,e){var r=i,n={T:null,qa:[],dj:null,ld:null},a=A.l(t,i);i+=4;var s=A.l(t,i);i+=4,n.T=A.g$(t,i),i+=16;var l=A.l(t,i);i+=4;for(var h=0;h<l+2;h++){var o=A.l(t,i);if(i+=4,o!=0){var f=A.l(t,i);if(i+=4,f!=0){var u=A.l(t,i);i+=4;var p=A.g$(t,i);i+=16;var c=A.lU(t,i);i+=2;var d=t[i];i++;var g=Fi.zc(!1,u,t,p.Z,p.h,i,d);h<l&&n.qa.push(g),h==l&&(n.dj=g),h==l+1&&(n.ld=g),i+=f-23}}}return n.T.qr()||(n.qa[0]&&(e.U=n.qa[0]),n.qa[1]?e.S=n.qa[1]:e.S=v.clone(n.qa[0]),n.qa[2]?e.i=n.qa[2]:e.i=v.clone(n.qa[0]),n.ld?e.m=n.ld:v.set(e.m,255)),i},Ye.a4w=function(t,i,e,r){var n=i,a={T:r,qa:[e.U,e.S,e.i],dj:null,ld:e.m};A.oL(t,i,3),i+=4,A.oL(t,i,0),i+=4,A.nl(t,i,r),i+=16,A.oL(t,i,24),i+=4;for(var s=0;s<24+2;s++){var l=i,h=s<3||s==25?1:0;if(A.oL(t,i,h),i+=4,h!=0){A.oL(t,i,0),i+=4,A.oL(t,i,8),i+=4,A.nl(t,i,r),i+=16,A.Fh(t,i,8),i+=2,A.oO(t,i,1,1),i++;var o=s<3?a.qa[s]:a.ld;t.cj(i,r.M()+2),i=Fi.CP(o,t.data,r.Z,r.h,i,1),A.oL(t,l+4,i-l-8)}}return A.oL(t,n+4,i-n-8),i};function Ua(){}Ua.ee=function(t){var i=new Uint8Array(t),e=0,r=A.$o(i,e,4);e+=4;var n=A.lU(i,e);e+=2;var a=[];if(n<=3){var s=A.lU(i,e);e+=2;for(var l=0;l<s;l++){var h=i[e++],o=A.$o(i,e,h);e+=h;var f=Ua.dO(i,e,o),u=f[0];e=f[1],a.push(u),e+=6}}else for(var f={},p=Yt.Gz(i,f,e+4),c=f.GrdL.v,l=0;l<c.length;l++)a[l]=c[l].v.Grad.v;return a},Ua.PZ=function(t,i){t.Nm.v=i},Ua.qx=function(t){var i=new sr,e=0;A.bh(i,e,"8BGR"),e+=4,A.Fh(i,e,5),e+=2,A.oL(i,e,16),e+=4;for(var r={classID:"null",GrdL:{t:"VlLs",v:[]}},n=r.GrdL.v,a=0;a<t.length;a++)n[a]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:t[a]}}};return e+=Yt.p1(i,r,e),i.data.slice(0,e).buffer},Ua.dO=function(t,i,e){var r={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:e},Trns:{t:"VlLs",v:[]}},n=A.lU(t,i);if(i+=2,n==0)throw"e";for(var a=0;a<n;a++){var s=A.l(t,i),l=A.l(t,i+4),h=yn.HD(t,i+8),o={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:h.U},Grn:{t:"doub",v:h.S},Bl:{t:"doub",v:h.i}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:s},Mdpn:{t:"long",v:l}}};r.Clrs.v.push(o),i+=20}var f=A.lU(t,i);i+=2;for(var a=0;a<f;a++){var s=A.l(t,i),l=A.l(t,i+4),u=A.lU(t,i+8),o={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*u/255)}},Lctn:{t:"long",v:s},Mdpn:{t:"long",v:l}}};r.Trns.v.push(o),i+=10}return[r,i]},Ua.acS=function(t,i,e){var r=e.Clrs.v.length;A.Fh(t,i,r),i+=2;for(var n=0;n<r;n++){var a=e.Clrs.v[n];A.oL(t,i,a.v.Lctn.v),A.oL(t,i+4,a.v.Mdpn.v),A.Fh(t,i+8,0);for(var s=v.j.$H(v.j.T6(a.v.Clr.v)),l=[s.Rd.v,s.Grn.v,s.Bl.v,0],h=0;h<4;h++)A.Fh(t,i+10+h*2,Math.round(65535*(l[h]/255)));i+=20}var o=e.Trns.v.length;A.Fh(t,i,o),i+=2;for(var n=0;n<o;n++){var a=e.Trns.v[n];A.oL(t,i,a.v.Lctn.v),A.oL(t,i+4,a.v.Mdpn.v),A.Fh(t,i+8,Math.round(255*a.v.Opct.v.val/100)),i+=10}return i};function gl(){}gl.ee=function(t){var i=new Uint8Array(t),e=[],r=[],n=[],a=0,s=A.$o(i,a,4);a+=4;var l=A.l(i,a);a+=4;var h=A.l(i,a);for(a+=4;a<i.length;){var o=A.$o(i,a,4);a+=4;var f=A.$o(i,a,4);a+=4;var u=A.l(i,a);if(a+=4,f=="tppa")r=Ye.by(i,a,u),a+=u;else if(f=="tpbd")n=Dn.W_(i,a,u,1,1),a+=u;else if(f=="tptp"){var p=A.l(i,a);a+=4;for(var c=0;c<p;c++){var d=A.nf(i,a);a+=6+d.length*2,a+=4;var g={};a+=Yt.Gz(i,g,a),e.push([d,g])}for(;(a&3)!=0;)a++}else throw console.log(i.slice(a-8,a+64)),console.log(A.$o(i,a-8,64)),f}return{Xu:n,A6:r,list:e}},gl.PZ=function(t,i){t[0]=i},gl.qx=function(t){var i=new sr,e=0;A.bh(i,e,"8BTP"),e+=4,A.oL(i,e,3),e+=4,A.oL(i,e,1),e+=4;for(var r=[t.A6,t.Xu,t.list],n=0;n<3;n++)if(r[n].length!=0){A.bh(i,e,"8BIM"),e+=4;var a=["tppa","tpbd","tptp"][n];A.bh(i,e,a),e+=4;var s=e;if(e+=4,a=="tppa")e=Ye.C4(i,e,t.A6);else if(a=="tpbd")e=Dn.D7(i,e,t.Xu);else if(a=="tptp"){A.oL(i,e,t.list.length),e+=4;for(var l=0;l<t.list.length;l++){var h=t.list[l];A.lS(i,e,h[0]+"\0"),e+=6+h[0].length*2,A.oL(i,e,16),e+=4,e+=Yt.p1(i,h[1],e)}}for(A.oL(i,s,e-s-4);(e&3)!=0;)e++;i.cj(e,0)}return i.data.slice(0,e).buffer};function Mn(){}Mn.ee=function(t,i){var e=new Uint8Array(t),r;if(A.l(e,0)==e.length?r="icc":e[0]=="<".charCodeAt(0)?r="look":A.No(e,"LUT_3D_SIZE")!=-1?r="cube":r="3DL",r!="icc"){var n=Mn.aiy(e,r),a=Mn.ac4(n[0],n[1]);e=a}for(var s=[],l=0;l<e.length;l++)s.push(e[l]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:i||"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:s}}]},Mn.qx=function(t){var i=t[0],e=new Uint8Array(i.profile.v);return e.buffer},Mn.PZ=function(t,i){t.Nm.v=i},Mn.ac4=function(t,i){var e=new sr,r=128;e.cj(0,128);for(var n=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62],a=0;a<n.length;a++)e.data[a]=n[a];var s=["desc","A2B0"],l=s.length,h=128+4+l*12;A.oL(e,r,l),r+=4;for(var o=0;o<l;o++){var f=s[o];A.bh(e,r,f),r+=4,A.oL(e,r,h),r+=4;var u=h;if(f=="desc"){A.bh(e,u,"mluc"),u+=4,u+=4,A.oL(e,u,1),u+=4,A.oL(e,u,12),u+=4,A.bh(e,u,"enUS"),u+=4;var p="ICC by Photopea\0",c=p.length*2+2;A.oL(e,u,c),u+=4,A.oL(e,u,28),u+=4,e.cj(u,c);for(var a=0;a<p.length;a++)e.data[u+a*2+1]=p.charCodeAt(a);u+=c}if(f=="A2B0"){A.bh(e,u,"mAB "),u+=4,u+=4,e.cj(u,4),e.data[u]=3,e.data[u+1]=3,u+=4,e.cj(u,4*5),u+=4*3,A.oL(e,u,u+8-h),u+=4,u+=4,e.cj(u,20),e.data[u]=t,e.data[u+1]=t,e.data[u+2]=t,u+=16,e.data[u]=2,u+=4;var d=t*t*t*3;e.cj(u,d*2);for(var a=0;a<d;a++)A.J6(e.data,u+a*2,Math.max(0,Math.min(65535,Math.round(i[a]*65535))));u+=d*2}for(var g=u-h;(g&3)!=0;)g++;A.oL(e,r,g),r+=4,h+=g}return A.oL(e,0,h),e.data.slice(0,h)},Mn.aiy=function(t,i){i="LUTFormat"+i.toUpperCase();for(var e=[],r=0,n=A.bc(t,0,t.length),a="",s=0;s<t.length&&a=="";s++)t[s]==10?a=`
`:t[s]==13&&(a="\r",t[s+1]==10&&(a+=`
`));if(i=="LUTFormatCUBE"){for(var l=n.split(a),s=0;s<l.length;s++)if(!(l[s]==""||l[s][0]=="#")){var h=l[s].split(" "),o=h[0];if(o=="LUT_3D_SIZE"){r=parseInt(h[1]);continue}["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(o)==-1&&e.push(parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2]))}e=Mn.J8(r,e)}else if(i=="LUTFormat3DL")for(var l=n.split(a),f=1/4095,s=0;s<l.length;s++){var u=l[s];if(!(u==""||u=="3DMESH"||u.startsWith("Mesh")||u[0]=="#")){var h=u.split(" "),o=h[0];if(r==0){r=h.length;continue}e.push(parseFloat(h[0])*f,parseFloat(h[1])*f,parseFloat(h[2])*f)}}else if(i=="LUTFormatLOOK"){var p=new DOMParser,c=p.parseFromString(n,"text/xml"),d=c.getElementsByTagName("LUT")[0],g=d.children[0].textContent;r=parseInt(JSON.parse(g));var b=d.children[1].textContent;b=b.replace(/"/g,"").replace(/\s/g,"");for(var m=3*r*r*r,x=m*4,M=new Uint8Array(x),s=0;s<x;s++){var S=b.charCodeAt(s*2),w=b.charCodeAt(s*2+1),k=S<58?S-48:S-55,T=w<58?w-48:w-55;M[s]=(k<<4)+T}for(var s=0;s<m;s++)e.push(A.CC(M,s<<2));e=Mn.J8(r,e)}else throw i;return[r,e]},Mn.a84=function(t,i,e){for(var r=["#Created by www.Photopea.com",'TITLE "'+e+'"',"","#LUT size","LUT_3D_SIZE "+i,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],n=6,a=0;a<t.length;a+=3)r.push(t[a].toFixed(n)+" "+t[a+1].toFixed(n)+" "+t[a+2].toFixed(n));return r.push(""),A.vI(r.join(`
`)).buffer},Mn.J8=function(t,i){for(var e=[],r=t*t*t,n=0;n<r;n++)e.push(0,0,0);for(var a=0;a<t;a++)for(var s=0;s<t;s++)for(var l=0;l<t;l++){var n=3*(l+s*t+a*t*t),h=3*(a+s*t+l*t*t);e[h]=i[n],e[h+1]=i[n+1],e[h+2]=i[n+2]}return e};function Yt(){}Yt.Gz=function(t,i,e,r,n){var a=e,s;n==null&&(n=0);var l=A.l(t,e);l==0?(s="",e+=4):(s=A.nf(t,e),e+=4+2*s.length+2),s!=""&&(i.__name=s),i.classID=Yt.$$(t,e),r&&console.log("	".repeat(n),"- reading descriptor",i.classID,e),e+=Yt.lJ(t,e);var h=A.tF(t,e);e+=4;for(var o=0;o<h;o++){var f=Yt.$$(t,e);e+=Yt.lJ(t,e);var u=Yt.gZ(t,e,r,n);i[f]=u,e+=u.size,delete u.size}return e-a},Yt.p1=function(t,i,e,r){var n=e,a=i.__name;a==null&&(a=""),a+="\0",A.lS(t,e,a),e+=4+2*a.length,Yt.Me(t,e,i.classID),e+=Yt.lJ(t.data,e),A.Oc(t,e,Object.keys(i).length-1-(i.__name==null?0:1)),e+=4;for(var s in i)s!="classID"&&s!="__name"&&(Yt.Me(t,e,s),e+=Yt.lJ(t.data,e),e+=Yt.LN(t,e,i[s]));return e-n},Yt.gZ=function(t,i,e,r){var n=i,a=A.$o(t,i,4);i+=4;var s={size:0,t:a,v:null};switch(e&&console.log("	".repeat(r),"reading key",a,n),a){case"obj ":case"VlLs":s.v=[];var l=A.l(t,i);i+=4;for(var h=0;h<l;h++){var o=Yt.gZ(t,i,e,r+1);i+=o.size,delete o.size,s.v.push(o)}break;case"UntF":s.v={type:A.$o(t,i,4),val:A.VZ(t,i+4)},i+=12;break;case"doub":s.v=A.VZ(t,i),i+=8;break;case"bool":s.v=t[i]==1,i+=1;break;case"long":s.v=A.tF(t,i),i+=4;break;case"comp":s.v=A.tF(t,i+4),i+=8;break;case"Objc":s.v={};var f=Yt.Gz(t,s.v,i,e,r+1);i+=f;break;case"TEXT":var u=A.l(t,i);u==0?(s.v="",i+=4):(s.v=A.nf(t,i),i+=4+s.v.length*2+2);break;case"enum":var p=Yt.$$(t,i);i+=Yt.lJ(t,i);var c=Yt.$$(t,i);i+=Yt.lJ(t,i),s.v={},s.v[p]=c;break;case"tdta":var d=A.tF(t,i);i+=4,s.v=[];for(var h=0;h<d;h++)s.v.push(t[i+h]);i+=d;break;case"ObAr":var g=A.l(t,i);i+=4;var b=A.nf(t,i);if(i+=4+2*b.length+2,b!="")throw b;var m=Yt.$$(t,i);i+=4+Math.max(4,m.length),s.v={classID:m,arr:[]};var x=A.l(t,i);i+=4;for(var h=0;h<x;h++){var m=Yt.$$(t,i);i+=4+Math.max(4,m.length);var p=A.$o(t,i,4);i+=4;var M=A.$o(t,i,4);i+=4;var S={id:m,type:p,uID:M,arr:[]};s.v.arr.push(S);var w=A.l(t,i,4);i+=4;for(var k=0;k<w;k++){var T=A.VZ(t,i);i+=8,S.arr.push(T)}}break;case"Pth ":var L=i,d=A.l(t,i);i+=4;var O=A.$o(t,i,4);i+=4;var E=A.L6(t,i);i+=4;var D=A.ae0(t,i);i+=4+D.length*2,s.v={sig:O,pth:D};break;case"Clss":case"type":case"rele":var D=A.nf(t,i);i+=4+D.length*2+2;var B=Yt.$$(t,i);i+=4+Math.max(4,B.length),s.v={classID:B},D!=""&&(s.v.__name=D),a=="rele"&&(s.v.val=A.tF(t,i),i+=4);break;case"prop":case"Enmr":case"indx":case"name":var I=Yt.wN[a],D=A.nf(t,i);if(i+=4+D.length*2+2,D.length!=0)throw console.log(a,D),"e";s.v={};for(var h=0;h<I.length;h++){var B=Yt.$$(t,i);i+=4+Math.max(4,B.length),s.v[I[h]]=B}if(a=="name"){var D=A.nf(t,i);i+=4+D.length*2+2,s.v.val=D}a=="indx"&&(s.v.val=A.l(t,i),i+=4);break;case"alis":var d=A.l(t,i);i+=4,s.v=A.$o(t,i,d),i+=d;break;default:{throw console.log("unknown oskey: "+a+", "+n),"e";return s}}return e&&(console.log("	".repeat(r),s.v),console.log("	".repeat(r),"======",i)),s.size=i-n,s},Yt.wN={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]},Yt.LN=function(t,i,e){var r=i,n=e.t;switch(e=e.v,A.bh(t,i,n),i+=4,n){case"obj ":case"VlLs":A.Oc(t,i,e.length),i+=4;for(var a=0;a<e.length;a++){var s=Yt.LN(t,i,e[a]);i+=s}break;case"UntF":A.bh(t,i,e.type),A.AD(t,i+4,e.val),i+=12;break;case"doub":A.AD(t,i,e),i+=8;break;case"bool":A.oO(t,i,e?1:0,1),i+=1;break;case"long":A.Oc(t,i,e),i+=4;break;case"comp":A.Oc(t,i+4,e),i+=8;break;case"Objc":var s=Yt.p1(t,e,i);i+=s;break;case"TEXT":A.lS(t,i,e+"\0"),i+=4+e.length*2+2;break;case"enum":var l=Object.keys(e)[0],h=e[l];Yt.Me(t,i,l),i+=Yt.lJ(t.data,i),Yt.Me(t,i,h),i+=Yt.lJ(t.data,i);break;case"tdta":A.oL(t,i,e.length),i+=4,A.x4(t,i,e),i+=e.length;break;case"ObAr":A.oL(t,i,e.arr[0].arr.length),i+=4,A.lS(t,i,"\0"),i+=6,Yt.Me(t,i,e.classID),i+=4+Math.max(4,e.classID.length),A.oL(t,i,e.arr.length),i+=4;for(var o=0;o<e.arr.length;o++){var f=e.arr[o];Yt.Me(t,i,f.id),i+=4+Math.max(4,f.id.length),A.bh(t,i,f.type),i+=4,A.bh(t,i,f.uID),i+=4,A.oL(t,i,f.arr.length),i+=4;for(var a=0;a<f.arr.length;a++)A.AD(t,i,f.arr[a]),i+=8}break;case"Pth ":var u=e.pth.length*2+4+8;A.oL(t,i,u),i+=4,A.bh(t,i,e.sig),i+=4,A.PU(t,i,u),i+=4,A.ajd(t,i,e.pth),i+=e.pth.length*2+4;break;case"Clss":case"type":case"rele":var p=e.__name;p==null&&(p=""),A.lS(t,i,p+"\0"),i+=4+p.length*2+2;var c=e.classID;Yt.Me(t,i,c),i+=4+Math.max(4,c.length),n=="rele"&&(A.Oc(t,i,e.val),i+=4);break;case"prop":case"Enmr":case"indx":case"name":var d=Yt.wN[n];A.oL(t,i,1),i+=6;for(var o=0;o<d.length;o++){var c=e[d[o]];Yt.Me(t,i,c),i+=4+Math.max(4,c.length)}n=="name"&&(A.lS(t,i,e.val+"\0"),i+=4+e.val.length*2+2),n=="indx"&&(A.oL(t,i,e.val),i+=4);break;case"alis":var u=e.length;A.oL(t,i,u),i+=4,A.bh(t,i,e),i+=u;break;default:console.log("unknown oskey: "+n),i=r;break}return i-r},Yt.$$=function(t,i){var e=A.tF(t,i);if(e>1e3)throw"e";return e==0&&(e=4),A.$o(t,i+4,e).trim()},Yt.lJ=function(t,i){var e=A.tF(t,i);return e==0?8:4+e},Yt.Me=function(t,i,e){var r="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow trim then else".split(" "),n=4<e.length||r.indexOf(e)!=-1;if(A.Oc(t,i,n?e.length:0),A.bh(t,i+4,e),e.length<4&&!n){for(var a="",s=e.length;s<4;s++)a+=" ";A.bh(t,i+4+e.length,a)}},Yt.acL=function(t){var i={};for(var e in t)e=="classID"||e=="__name"?i[e]=t[e]:i[e]=Yt.Zz(t[e]);return i},Yt.Zz=function(t){if(t.wV=="Objc")return Yt.acL(t.v);if(t.wV=="VlLs"){for(var i=[],e=0;e<t.v.length;e++)i.push(Yt.Zz(t.v[e]));return i}else return t.wV=="UntF"?t.v.val:t.v};function pr(){}pr.H_=function(t,i,e,r,n,a){for(;i<e;){var s=A.$o(t,i,4);if(i+=4,s!="8BIM"&&s!="8B64")return console.log("layer information signature error! "+s,"PSB = "+n),alert("Error in PSD file: wrong signature."),e;var l=A.$o(t,i,4);i+=4;var h=A.tF(t,i);i+=4,n&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(l)!=-1&&(h=h<<32|A.tF(t,i),i+=4),n&&["pths"].indexOf(l)!=-1&&(h=h<<32|A.tF(t,i),i+=4);var o=["lrFX","PlLd"];if(o.indexOf(l)!=-1){h%4!=0&&(h+=4-h%4),i+=h;continue}switch(l){case"iOpa":r[l]=t[i];break;case"brst":r[l]=[1,1,1];for(var f=0;f<h;f+=4)r[l][A.l(t,i+f)]=0;break;case"knko":r[l]=t[i];break;case"infx":r[l]=t[i];break;case"clbl":r[l]=t[i];break;case"lmgm":r[l]=t[i];break;case"vmgm":r[l]=t[i];break;case"lyid":r[l]=A.l(t,i);break;case"lsct":r[l]={type:A.l(t,i)},h>=12&&(r[l].sW=A.$o(t,i+8,4));break;case"lsdk":r.lsct={type:A.l(t,i)};break;case"lyvr":r[l]=A.l(t,i);break;case"lnsr":var u={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};r[l]=A.$o(t,i,4);break;case"lspf":r[l]=A.l(t,i);break;case"lclr":r[l]=A.lU(t,i);break;case"luni":r[l]=A.O_(t,i);break;case"fxrp":r[l]=new st(A.VZ(t,i),A.VZ(t,i+8));break;case"artb":case"artd":r[l]={},Yt.Gz(t,r[l],i+4);break;case"SoCo":r[l]={},Yt.Gz(t,r[l],i+4);break;case"GdFl":r[l]={},Yt.Gz(t,r[l],i+4),pr.dQ(r[l],l);break;case"PtFl":r[l]={},Yt.Gz(t,r[l],i+4),pr.dQ(r[l],l);break;case"CgEd":var p=r.brit=Zt.tt("brit"),c={};Yt.Gz(t,c,i+4),p.Brgh.v=c.Brgh?c.Brgh.v:0,p.Cntr.v=c.Cntr?c.Cntr.v:0,p.useLegacy.v=c.useLegacy?c.useLegacy.v:0;break;case"brit":if(r.brit==null){var p=r.brit=Zt.tt("brit"),c={};p.Brgh.v=A.dx(t,i),p.Cntr.v=A.dx(t,i+2),p.useLegacy.v=!1}break;case"levl":var d=t.buffer.slice(i,i+h);r[l]=Ke.ee(d);break;case"curv":r[l]=Ce.TM(t,i,h);break;case"expA":var g=A.lU(t,i),b=r[l]=Zt.tt("expA");b.Exps.v=A.C2(t,i+2),b.Ofst.v=A.C2(t,i+6),b.gammaCorrection.v=A.C2(t,i+10);break;case"vibA":r[l]={},Yt.Gz(t,r[l],i+4);break;case"hue2":r[l]=rr.TM(t,i,h);break;case"blnc":var b=r[l]=Zt.tt(l);b.PrsL.v=t[i+18]==1;for(var m=["ShdL","MdtL","HghL"],f=0;f<3;f++)for(var x=0;x<3;x++)b[m[f]].v[x].v=A.dx(t,i+f*6+x*2);break;case"blwh":var M={};Yt.Gz(t,M,i+4);for(var b=Zt.tt(l),S="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" "),f=0;f<S.length;f++)b[S[f]]=M[S[f]],delete M[S[f]];r[l]=b;break;case"phfl":var b=r[l]=Zt.tt(l),w=b.Clr.v,g=A.lU(t,i);if(g==3){var k=[A.l(t,i+2),A.l(t,i+6),A.l(t,i+10)],T=32768,L=v.ak(k[0]/T,k[1]/T,k[2]/T);w.Lmnc.v=L.Ov,w.A.v=L.m,w.B.v=L.i}if(g==2){var O=A.lU(t,i+2);if(O!=7)throw"e";w.Lmnc.v=A.dx(t,i+4)/100,w.A.v=A.dx(t,i+6)/100,w.B.v=A.dx(t,i+8)/100}var E=i+2+(g==3?12:10);b.Dnst.v=A.l(t,E),E+=4,b.PrsL.v=t[E]==1;break;case"mixr":for(var D={_W:A.lU(t,i+2)==1,C:[]},f=0;f<20;f++)D.C.push(A.dx(t,i+4+f*2));r[l]=Vt.Dn(D);break;case"clrL":case"rplc":r[l]={},Yt.Gz(t,r[l],i+6);break;case"nvrt":r[l]={};break;case"post":r[l]=Zt.tt("post"),r[l].Lvls.v=A.lU(t,i);break;case"thrs":r[l]=Zt.tt("thrs"),r[l].Lvl.v=A.lU(t,i);break;case"grdm":var B={rev:t[i+2]==1,dJ:t[i+3]==1},I=i+4,N=A.O_(t,I);I+=4+N.length*2;var V=Ua.dO(t,I,N),j=V[0];I=V[1];var R=A.lU(t,I);I+=2,j.Intr.v=A.lU(t,I),I+=2;var G=A.lU(t,I);I+=2,B.mode=A.lU(t,I),I+=2,B.Og=A.l(t,I),I+=4,B.tE=A.lU(t,I)==1,I+=2,B.ex=A.lU(t,I)==1,I+=2,B.Ng=A.l(t,I),I+=4,B.eb=A.lU(t,I),I+=2,B.tI=[];for(var f=0;f<4;f++)B.tI.push(A.lU(t,I+f*2));I+=8,B.DZ=[];for(var f=0;f<4;f++)B.DZ.push(A.lU(t,I+f*2));I+=8;var Z=A.lU(t,I);I+=2;var _=Zt.tt("grdm");_.Rvrs.v=B.rev,_.Grad.v=j,r[l]=_;break;case"selc":r[l]=Nr.TM(t,i,h);break;case"vmsk":case"vsms":var U=r.vmsk=new H.iO,Y=A.tF(t,i+4),$=(Y>>0&1)==1;U.AU=(Y>>1&1)==0,U.isEnabled=(Y>>2&1)==0,U.b=qr.xe(t,i+8,h-8,a.Z,a.h);break;case"shmd":r[l]={};for(var P=A.l(t,i),E=i+4,f=0;f<P;f++){var s=A.$o(t,E,4);E+=4;var Ct=A.$o(t,E,4);E+=4;var tt=t[E];if(E++,Math.max(t[E],t[E+1],t[E+2])!=0)throw"e";E+=3;var X=A.l(t,E);if(E+=4,Ct=="cust"||Ct=="cmls"||Ct=="extn"||Ct=="mlst"){var ht=A.l(t,E);if(ht!=16&&(E+=4),A.l(t,E)==16){var M={};Yt.Gz(t,M,E+4,!1),r[l][Ct]=M,Ct=="cmls"&&dt.ln.a3i(r[l][Ct])}}else console.log("unknown shmd key: "+Ct+", size: "+X);E+=X}break;case"shpa":var g=A.l(t,i),F=A.l(t,i+4);F!=0&&console.log("some patterns present!");break;case"TySh":var J=r[l]={},g=A.lU(t,i);J.O=A.FB(t,i+2);var Q=A.lU(t,i+2+48);J.Hb={};var rt=Yt.Gz(t,J.Hb,i+56),it=lt.vk();for(var nt in it)J.Hb[nt]==null&&(J.Hb[nt]=it[nt]);J.VU={};var ot=Yt.Gz(t,J.VU,i+56+rt+6);J.xa=A.abF(t,i+56+rt+6+ot),J.MF=Rr.ee(J.Hb.EngineData.v),lt.a0Q(J.MF.EngineDict.StyleRun.RunArray),J.MF.ResourceDict==null&&(J.MF.ResourceDict=JSON.parse(JSON.stringify(J.MF.DocumentResources))),delete J.Hb.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var pt=A.l(t,i),yt=A.l(t,i+4);r.lmfx={};var rt=Yt.Gz(t,r.lmfx,i+8);pr.lm(r.lmfx);break;case"FMsk":r[l]=A.JN(t,i,h);break;case"Txt2":r[l]={},r[l].raw=A.JN(t,i,h),r[l].lK=Oe.ee(r[l].raw);break;case"Patt":r[l]=Ye.by(t,i,h);break;case"SoLd":var ct=A.$o(t,i,4),vt=A.l(t,i+4),wt=A.l(t,i+8);r[l]={};var Mt=Yt.Gz(t,r[l],i+12);r[l].nonAffineTransform==null&&(r[l].nonAffineTransform=JSON.parse(JSON.stringify(r[l].Trnf))),r[l].Impr==null&&(r[l].Impr={t:"Objc",v:{__name:"None",classID:"none"}});break;case"vstk":case"pths":var vt=A.l(t,i);r[l]={};var Mt=Yt.Gz(t,r[l],i+4);break;case"vscg":var Ct=A.$o(t,i,4),vt=A.l(t,i+4);r[Ct]={};var Mt=Yt.Gz(t,r[Ct],i+8);pr.dQ(r[Ct],Ct);break;case"vogk":var gt=A.l(t,i),vt=A.l(t,i+4);r[l]={};var Mt=Yt.Gz(t,r[l],i+8);r[l]=r[l].keyDescriptorList.v;for(var f=0;f<r[l].length;f++);break;case"lnk2":case"lnkD__":case"lnk3__":r[l]=[];for(var I=i;I<i+h;){var bt=new H.Zr;r[l].push(bt);var G=A.k0(t,I);I+=8;var xt=I;if(bt.type=A.$o(t,I,4),I+=4,bt.type!="liFD"){alert("Unknown Linked Layer type: "+bt.type);break}bt.Sp=A.l(t,I),I+=4;var Dt=A.Zd(t,I);I+=1+Dt.dC.length,bt.Za=Dt.dC,bt.Z5=A.nf(t,I),I+=4+bt.Z5.length*2+2,bt.d1=A.$o(t,I,4),I+=4,bt.EC=A.$o(t,I,4),I+=4;var Ot=A.k0(t,I);if(I+=8,bt.open=t[I],I+=1,bt.open!=0){var kt={},rt=Yt.Gz(t,kt,I+4);rt%4!=0&&(rt+=4-rt%4),console.log(kt),I+=rt+4}bt.open=0,bt.raw=A.JN(t,I,Ot),I=xt+G,G%4!=0&&(I+=4-G%4)}break;case"FEid":var I=i;r[l]=[];var mt=I+h,g=A.l(t,I);for(I+=4;I<mt;){I+=4;var G=A.l(t,I);I+=4;var V={};r[l].push(V),V.id=A.Zd(t,I).dC,I+=V.id.length+1;var g=A.l(t,I);I+=4,I+=4;var It=A.l(t,I);I+=4,V.rect=A.g$(t,I),I+=16;var Bt=A.l(t,I);I+=4;var Ut=A.l(t,I);I+=4;for(var qt=new v._B(0),f=0;f<Ut+2;f++){var Gt=A.l(t,I);if(I+=4,Gt!=0){I+=4;var zt=A.l(t,I),Nt=null;I+=4,(f<3||f==25)&&(Nt=Fi.sh(!0,Bt,t,V.rect.Z,V.rect.h,I,zt)),f==0&&(qt.U=Nt),f==1&&(qt.S=Nt),f==2&&(qt.i=Nt),f==25&&(qt.m=Nt),I+=zt}}V.buffer=v.R(V.rect.M()*4),v.sA(qt,V.buffer),v.mn(V);var Kt=t[I];if(I++,Kt!=0){V.g=new H.vm,V.g.rect=A.g$(t,I),I+=16,I+=4;var ai=A.l(t,I);I+=4,V.g.channel=Fi.sh(!0,Bt,t,V.g.rect.Z,V.g.rect.h,I,ai),V.g.color=255,V.g.HZ(),I+=ai}G%4!=0&&(I+=4-G%4)}break;case"Lr16":ne.aX(a,t,i);break;default:console.log("unknown layer tag: "+l+", size: "+h);break}var fi="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");fi.indexOf(l)==-1&&h%4!=0&&console.log("size not multiple of 4!!!",l),l!="luni"&&l!="TySh"&&l!="tySh"&&l!="lfx2"&&h%4!=0&&(h+=4-h%4),i+=h}for(var di=[],f=0;f<di.length;f++)delete r[di[f]];return i},pr.kn=function(t,i,e,r){for(var n in e)e[n]==null&&(alert("A bug occured (see console)."),console.log('Please, report a bug, that "'+n+'" tag was present with a null value.'),delete e[n]);for(var n in e){A.bh(t,i,"8BIM"),i+=4;var a=i,s=0;switch(A.bh(t,i,n),i+=4,A.Oc(t,i,0),i+=4,n){case"iOpa":A.oO(t,i,e[n],1),s=4;break;case"brst":s=0;for(var l=0;l<3;l++)e[n][l]==0&&(A.oL(t,i+s,l),s+=4);break;case"knko":A.oO(t,i,e[n],1),s=4;break;case"infx":A.oO(t,i,e[n],1),s=4;break;case"clbl":A.oO(t,i,e[n],1),s=4;break;case"lmgm":A.oO(t,i,e[n],1),s=4;break;case"vmgm":A.oO(t,i,e[n],1),s=4;break;case"lyid":A.oL(t,i,e[n]),s=4;break;case"lsct":A.oL(t,i,e[n].type),s=4,e[n].sW&&(A.bh(t,i+4,"8BIM"),A.bh(t,i+8,e[n].sW),s=12);break;case"lyvr":A.oL(t,i,e[n]),s=4;break;case"lnsr":A.bh(t,i,e[n]),s=4;break;case"lspf":A.oL(t,i,e[n]),s=4;break;case"lclr":A.Fh(t,i,e[n]),s=8;break;case"luni":A.lS(t,i,e[n]),s=4+2*e[n].length;break;case"fxrp":A.AD(t,i,e[n].x),A.AD(t,i+8,e[n].y),s=16;break;case"artb":case"artd":A.oL(t,i,16),s=Yt.p1(t,e[n],i+4)+4;break;case"SoCo":A.oL(t,i,16),s=Yt.p1(t,e[n],i+4)+4;break;case"GdFl":A.oL(t,i,16),s=Yt.p1(t,e[n],i+4)+4;break;case"PtFl":A.oL(t,i,16),s=Yt.p1(t,e[n],i+4)+4;break;case"CgEd":var h={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},o=h,f=e[n];o.Brgh.v=f.Brgh.v,o.Cntr.v=f.Cntr.v,o.useLegacy.v=f.useLegacy.v,A.oL(t,i,16),s=Yt.p1(t,h,i+4)+4;break;case"brit":t.cj(i,8),s=8;break;case"levl":var u=new sr;s=Ke.qx(u,e[n]),A.x4(t,i,u.data);break;case"curv":s=Ce.nG(t,i,e[n]);break;case"expA":s=14,t.cj(i,14),A.J6(t.data,i,1),A.PL(t.data,i+2,e[n].Exps.v),A.PL(t.data,i+6,e[n].Ofst.v),A.PL(t.data,i+10,e[n].gammaCorrection.v);break;case"vibA":A.oL(t,i,16),s=Yt.p1(t,e[n],i+4)+4;break;case"hue2":s=rr.nG(t,i,e[n]);break;case"blnc":s=19,t.cj(i,s);for(var p=["ShdL","MdtL","HghL"],l=0;l<3;l++)for(var c=e[n][p[l]].v,d=0;d<3;d++)c.push(A.Gl(t.data,i+l*6+d*2,c[d].v));t.data[i+18]=e[n].PrsL.v?1:0;break;case"blwh":for(var h={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},g="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" "),l=0;l<g.length;l++)h[g[l]]=e[n][g[l]];A.oL(t,i,16),s=Yt.p1(t,h,i+4)+4;break;case"phfl":A.Fh(t,i,2);var b=e[n].Clr.v;A.Fh(t,i+2,7),A.Fh(t,i+4,Math.round(b.Lmnc.v*100)),A.Fh(t,i+6,Math.round(b.A.v*100)),A.Fh(t,i+8,Math.round(b.B.v*100)),A.Fh(t,i+10,0);var m=i+2+10;t.cj(m,5),A.GB(t.data,m,e[n].Dnst.v),m+=4,t.data[m]=e[n].PrsL.v?1:0,m++,s=m-i;break;case"mixr":s=44,t.cj(i,s);var x=Vt.FX(e[n]);A.J6(t.data,i,1),A.J6(t.data,i+2,x._W?1:0);for(var l=0;l<20;l++)A.Gl(t.data,i+4+l*2,x.C[l]);break;case"clrL":case"rplc":A.Fh(t,i,1),A.oL(t,i+2,16),s=Yt.p1(t,e[n],i+6)+6;break;case"nvrt":s=0;break;case"post":A.Fh(t,i,e[n].Lvls.v),s=2;break;case"thrs":A.Fh(t,i,e[n].Lvl.v),s=2;break;case"grdm":var M={rev:e[n].Rvrs.v,dJ:!1,mode:0,Og:867527939,tE:!1,ex:!0,Ng:2048,eb:3,tI:[0,0,0,0],DZ:[32768,32768,32768,32768]},S=e[n].Grad.v;t.cj(i,4),A.J6(t.data,i,1),t.data[i+2]=M.rev?1:0,t.data[i+3]=M.dJ?1:0;var w=i+4;A.lS(t,w,S.Nm.v),w+=4+S.Nm.v.length*2,w=Ua.acS(t,w,S),A.Fh(t,w,2),w+=2,A.Fh(t,w,S.Intr.v),w+=2,A.Fh(t,w,32),w+=2,A.Fh(t,w,M.mode),w+=2,A.oL(t,w,M.Og),w+=4,A.Fh(t,w,M.tE?1:0),w+=2,A.Fh(t,w,M.ex?1:0),w+=2,A.oL(t,w,M.Ng),w+=4,A.Fh(t,w,M.eb),w+=2;for(var l=0;l<4;l++)A.Fh(t,w+l*2,M.tI[l]);w+=8;for(var l=0;l<4;l++)A.Fh(t,w+l*2,M.DZ[l]);w+=8,w+=2,s=w-i;break;case"selc":s=Nr.nG(t,i,e[n]);break;case"FMsk":A.x4(t,i,e[n]),s=e[n].length;break;case"Txt2":for(var k=new sr,T=Oe.HC(e[n].lK,k),L=v.R(T,!0),l=0;l<T;l++)L[l]=k.data[l];A.x4(t,i,L),s=L.length;break;case"vmsk":var O=e[n],E=0;A.oL(t,i,3),O.AU||(E+=1<<1),O.isEnabled||(E+=1<<2),A.oL(t,i+4,E),s=8;var D=O.b.length;t.cj(i+8,D*26),qr.A$(t.data,i+8,O.b,r.Z,r.h),s+=D*26;break;case"shmd":A.oL(t,i,Object.keys(e[n]).length);var m=i+4;for(var B in e[n]){A.bh(t,m,"8BIM"),m+=4,A.bh(t,m,B),m+=4,A.oL(t,m,0),m+=4,A.oL(t,m,0),m+=4,A.oL(t,m,16),m+=4;var I=Yt.p1(t,e[n][B],m);I%4!=0&&(I+=4-I%4),A.oL(t,m-8,I+4),m+=I}s=m-i;break;case"TySh":var m=i;A.N7(t,m,1),m+=2;var N=e[n],k=new sr;N.MF.DocumentResources=JSON.parse(JSON.stringify(N.MF.ResourceDict));for(var T=Rr.HC(N.MF,k),L=v.R(T,!0),l=0;l<T;l++)L[l]=k.data[l];N.Hb.EngineData={t:"tdta",v:L};var V=N.MF.EngineDict.Editor.Text;N.Hb.Txt.v=V.substring(0,V.length-1),A.agw(t,m,N.O),m+=48,A.N7(t,m,50),m+=2,A.oL(t,m,16),m+=4,m+=Yt.p1(t,N.Hb,m),A.N7(t,m,1),m+=2,A.oL(t,m,16),m+=4,m+=Yt.p1(t,N.VU,m),A.a3v(t,m,N.xa),m+=16,s=m-i;break;case"lmfx":A.oL(t,i,0),A.oL(t,i+4,16);var h=JSON.parse(JSON.stringify(e[n])),j=!1;pr._k(h);for(var l=0;l<at.og.length;l++)h[at.og[l]]!=null&&(j=!0);A.bh(t,a,j?"lmfx":"lfx2"),s=Yt.p1(t,h,i+8)+8;break;case"Patt":var m=Ye.C4(t,i,e[n]);s=m-i;break;case"SoLd":A.bh(t,i,"soLD"),A.oL(t,i+4,4),A.oL(t,i+8,16),s=Yt.p1(t,e[n],i+12)+12;break;case"vstk":case"pths":A.oL(t,i,16),s=Yt.p1(t,e[n],i+4)+4;break;case"vscg__":A.bh(t,i,e[n].key),A.oL(t,i+4,16),s=Yt.p1(t,e[n].C,i+8)+8;break;case"vogk":A.oL(t,i,1),A.oL(t,i+4,16),v.P$.a2v(e[n]);for(var l=0;l<e[n].length;l++){var R=e[n][l].v.keyOriginResolution;R&&(R.v=r.NB)}var G={classID:"null",keyDescriptorList:{t:"VlLs",v:e[n]}};s=Yt.p1(t,G,i+8)+8;break;case"lnkD":case"lnk2":case"lnk3":for(var w=i,l=0;l<e[n].length;l++){var Z=e[n][l],_=w;A.X4(t,w,0),w+=8,A.bh(t,w,Z.type),w+=4,A.oL(t,w,Z.Sp),w+=4,t.cj(w,1),t.data[w]=Z.Za.length,w++,A.bh(t,w,Z.Za),w+=Z.Za.length,A.lS(t,w,Z.Z5+"\0"),w+=4+Z.Z5.length*2+2,A.bh(t,w,Z.d1),w+=4,A.bh(t,w,Z.EC),w+=4,A.X4(t,w,Z.raw.length),w+=8,t.cj(w,1),t.data[w]=Z.open,w++,A.x4(t,w,Z.raw),w+=Z.raw.length,A.oL(t,w,1),w+=4,w+=11;var U=w-_-8;A.X4(t,_,U),U%4!=0&&(t.cj(w,4-U%4),w+=4-U%4)}s=w-i;break;case"FEid":var w=i;A.oL(t,w,3),w+=4;for(var Y=0;Y<e[n].length;Y++){var $=e[n][Y];w+=4;var P=w;w+=4,A.JG(t,w,$.id),w+=$.id.length+1,A.oL(t,w,1),w+=4,w+=4;var tt=w;w+=4,A.nl(t,w,$.rect),w+=16,A.oL(t,w,8),w+=4,A.oL(t,w,24),w+=4;var X=new v._B($.rect.M());v.Ae($.buffer,X);for(var l=0;l<24+2;l++){var ht=null;if(l==0&&(ht=X.U),l==1&&(ht=X.S),l==2&&(ht=X.i),l==25&&(ht=X.m),A.oL(t,w,ht!=null?1:0),w+=4,ht!=null){w+=4;var F=w;w+=4,t.cj(w,$.rect.M()+2),w=Fi.jR(ht,t.data,$.rect.Z,$.rect.h,w,3),A.oL(t,F,w-(F+4))}}if(A.oL(t,tt,w-(tt+4)),t.cj(w,1),t.data[w]=$.g?1:0,w++,$.g!=null){var J=$.g.rect,Q=$.g.channel;J=$.rect,Q=v.R(J.M()),v.set(Q,$.g.color),v.Lj($.g.channel,$.g.rect,Q,J),A.nl(t,w,J),w+=16,w+=4;var rt=w;w+=4,t.cj(w,J.M()+2),w=Fi.jR(Q,t.data,J.Z,J.h,w,3),A.oL(t,rt,w-(rt+4))}var U=w-(P+4);A.oL(t,P,U),U%4!=0&&(w+=4-U%4)}s=w-i;break;default:console.log("unknown layer tag: "+n+", size: "+s),i-=12;continue}var it=["Txt2","artd","extd","luni","pths"];it.indexOf(n)==-1&&s%4!=0&&(s+=4-s%4),A.Oc(t,i-4,s),n!="luni"&&n!="TySh"&&s%4!=0&&(s+=4-s%4),i+=s}return i},pr.lm=function(t){for(var i=0;i<at.order.length;i++){var e=at.order[i],r=at.og[i];t[r]==null&&(t[r]={t:"VlLs",v:[]}),t[e]!=null&&(t[r].v.push(t[e]),delete t[e]);for(var n=[],a=0;a<t[r].v.length;a++){var s=t[r].v[a];(s.v.present==null||s.v.present.v==!0)&&n.push(s)}t[r].v=n}},pr._k=function(t){for(var i=0;i<at.order.length;i++){var e=at.order[i],r=at.og[i],n=t[r].v.length;if(n==0){delete t[r];continue}if(n==1){t[e]=t[r].v[0],delete t[r];continue}}},pr.dQ=function(t,i){i=="GdFl"&&(t.Angl==null&&(t.Angl={v:{type:"#Ang",val:0},t:"UntF"}),t.Algn==null&&(t.Algn={v:!0,t:"bool"}),t.Scl==null&&(t.Scl={v:{type:"#Prc",val:100},t:"UntF"}),t.Ofst==null&&(t.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"}),t.Rvrs==null&&(t.Rvrs={v:!1,t:"bool"}),t.Dthr==null&&(t.Dthr={v:!1,t:"bool"})),i=="PtFl"&&(t.Algn==null&&(t.Algn={v:!0,t:"bool"}),t.Scl==null&&(t.Scl={v:{type:"#Prc",val:100},t:"UntF"}),t.phase==null&&(t.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}))},pr.clone=function(t,i){var e={};return t=="TySh"?(e.O=i.O.clone(),e.Hb=JSON.parse(JSON.stringify(i.Hb)),e.VU=JSON.parse(JSON.stringify(i.VU)),e.xa=i.xa.clone(),e.MF=JSON.parse(JSON.stringify(i.MF)),i.add&&(e.add={vmsk:i.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(i.add.vogk))}),e):t=="fxrp"||t=="vmsk"?i.clone():JSON.parse(JSON.stringify(i))};function je(t,i){}je.ee=function(t,i,e,r){return r=je.a85(t,i,e,r),r},je.HC=function(t,i,e,r,n){return r=je.a2W(t,i,e,r,n),r},je.a85=function(t,i,e,r){var n=r;t.rect=A.g$(e,r),r+=16;var a=A.lU(e,r);r+=2,t.fu=[];for(var s=i.W4,l=0;l<a;l++)t.fu[l]={id:A.dx(e,r),length:(s?A.k0:A.l)(e,r+2)},r+=s?10:6;var h=A.$o(e,r,4);if(r+=4,h!="8BIM")throw console.log("Invalid Blend mode signature: "+h),alert("Error in Photoshop file: wrong signature."),"e";t.sW=A.$o(e,r,4),r+=4,t.opacity=e[r],r+=1,t.rd=e[r]==1,r+=1,t.ix=e[r],r+=1,e[r]!=0&&console.log("error in filler!"),r+=1;var o=A.l(e,r);r+=4;var f=r;r=je.aeO(t,e,r),r=je.adA(t,e,r);var u=A.Zd(e,r);if(t.name=u.dC,r+=u.length,u.length%4!=0&&(r+=4-u.length%4),r=pr.H_(e,r,f+o,t.add,s,i),t.s5){var p=t.s5;t.jk()&&(t.jk().au=p[0],t.jk().bM=p[1]),t.add.vmsk&&(t.add.vmsk.au=p[2],t.add.vmsk.bM=p[3])}return t.add.lsct&&(t.add.lsct.sW&&(t.sW=t.add.lsct.sW),t.add.lsct=t.add.lsct.type),r},je.a2W=function(t,i,e,r,n){var a=r;A.nl(e,r,t.rect),r+=16;var s=t.bD();A.Fh(e,r,s.length),r+=2,n.push(r);for(var l=0;l<s.length;l++)A.N7(e,r,s[l]),A.oL(e,r+2,0),r+=6;A.bh(e,r,"8BIM"),r+=4,A.bh(e,r,t.sW),r+=4,A.oO(e,r,t.opacity,1),r+=1,A.oO(e,r,t.rd?1:0,1),r+=1,A.oO(e,r,t.ix,1),r+=1,A.oO(e,r,0,1),r+=1;var h=r;A.oL(e,r,0),r+=4;var o=r;r=je.a0Y(t,e,r),r=je.adi(t,e,r);var f=A.JG(e,r,t.name.slice(0,255));r+=f,f%4!=0&&(r+=4-f%4),t.add.lsct&&(t.add.lsct={type:t.add.lsct},t.sW=="pass"&&(t.add.lsct.sW="pass",t.sW="norm")),t.sW=="pass"&&(t.add.lsct={type:t.add.lsct,sW:"pass"}),t.add.brit&&(t.add.CgEd=t.add.brit),r=pr.kn(e,r,t.add,i),delete t.add.CgEd,t.add.lsct&&(t.add.lsct.sW&&(t.sW=t.add.lsct.sW),t.add.lsct=t.add.lsct.type);var u=r-o;return A.oL(e,h,u),r},je.aeO=function(t,i,e){var r=A.l(i,e);if(e+=4,r==0)return e;var n=e;t.g=new H.vm,t.g.rect=A.g$(i,e),e+=16,t.g.color=i[e],e+=1;var a=je.r9(t.g,i,e);if(e+=1,a){for(var s=!1,l=255,h=0,o=255,f=0,u=0;u<t.fu.length;u++)t.fu[u].id==-3&&(s=!0);s&&(t.NY=je.SZ(i,e),e+=18);var p=e,c=i[e];e++,c>>0&1&&(l=i[e],e++),c>>1&1&&(h=A.VZ(i,e),e+=8),c>>2&1&&(o=i[e],e++),c>>3&1&&(f=A.VZ(i,e),e+=8),(e-p&1)==1&&e++,t.s5=[l,h,o,f]}else r==20?e+=2:(t.NY=je.SZ(i,e),e+=18);return n+r},je.a0Y=function(t,i,e){if(A.oL(i,e,0),e+=4,t.g==null)return e;var r=e,n=!0;if(A.oL(i,e,0),A.nl(i,e,t.g.rect),e+=16,A.oO(i,e,t.g.color),e+=1,je.di(t.g,i,e,n),e+=1,n){t.NY&&(je.a6J(i,e,t.NY),e+=18),A.oO(i,e,15),e+=1;var a=t.jk(),s=t.add.vmsk;A.oO(i,e,a?a.au:255),e+=1,A.AD(i,e,a?a.bM:0),e+=8,A.oO(i,e,s?s.au:255),e+=1,A.AD(i,e,s?s.bM:0),e+=8,e++,A.oL(i,r-4,e-r)}return e},je.SZ=function(t,i){var e=new H.vm;return je.r9(e,t,i),i+=1,e.color=t[i],i+=1,e.rect=A.g$(t,i),i+=16,e},je.a6J=function(t,i,e){je.di(e,t,i,!1),i+=1,A.oO(t,i,e.color),i+=1,A.nl(t,i,e.rect),i+=16},je.r9=function(t,i,e){var r=i[e];return t.AU=(r>>0&1)==0,t.isEnabled=(r>>1&1)==0,t.tA=(r>>3&1)==1,r>>4&1},je.di=function(t,i,e,r){var n=0;t.AU||(n+=1<<0),t.isEnabled||(n+=1<<1),t.tA&&(n+=1<<3),r&&(n+=1<<4),A.oO(i,e,n)},je.adA=function(t,i,e){var r=A.l(i,e);if(e+=4,r==0)return e;r!=5*8&&console.log("unexpected Layer Blending Ranges content, size:",r);for(var n=0;n<r;n++)t.LL[n]=i[e+n];return e+40},je.adi=function(t,i,e){A.oL(i,e,t.LL.length),e+=4,i.cj(e,40);for(var r=0;r<40;r++)i.data[e+r]=t.LL[r];return e+40};function Fi(){}Fi.ee=function(t,i,e,r){return r=Fi.a3g(i.W4,i.bv,i.Fy,t,e,r),r},Fi.qx=function(t,i,e,r,n){return e=Fi.abC(t,i,e,r,n),e},Fi.a3g=function(t,i,e,r,n,a){for(var s=r.fu,l={},h=a,o=0;o<s.length;o++){var f=s[o],u=f.id,p=f.length,c;u==-3?c=r.NY.rect:u==-2?c=r.g.rect:c=r.rect;var d=Fi.sh(t,i,n,c.Z,c.h,a,p);a+=p,u==-3?r.NY.channel=d:u==-2?r.g.channel=d:l["c"+u]=d}var g=new v._B(0);if(g.m=null,e==3)g.U=l.c0,g.S=l.c1,g.i=l.c2,g.m=l["c-1"];else if(e==1)g.U=l.c0,g.S=l.c0,g.i=l.c0,g.m=l["c-1"];else if(e==4){for(var b=l.c0,m=l.c1,x=l.c2,M=l.c3,S=b.length,w=1/255,o=0;o<S;o++){var k=b[o],T=m[o],L=x[o],O=M[o]*w;b[o]=Math.round(k*O),m[o]=Math.round((.2*k+.8*T)*O),x[o]=Math.round((.2*T+.8*L)*O)}g.U=b,g.S=m,g.i=x,g.m=l["c-1"],console.log("converting from CMYK to RGB")}return g.U==null&&(g.U=v.R(0)),g.m==null&&g.U!=null&&(g.m=v.clone(g.U),v.set(g.m,255)),g.S==null&&(g.S=g.U.slice(0)),g.i==null&&(g.i=g.U.slice(0)),r.buffer=v.R(Math.max(0,r.rect.M()*4)),v.sA(g,r.buffer),a},Fi.abC=function(t,i,e,r,n){var a=t.bD(),s=new v._B(t.rect.M());v.Ae(t.buffer,s);for(var l=0;l<a.length;l++){var h=a[l],o,f;h==-3?o=t.NY.rect:h==-2?o=t.g.rect:o=t.rect,h==-3&&(f=t.NY.channel),h==-2&&(f=t.g.channel),h==-1&&(f=s.m),h==0&&(f=s.U),h==1&&(f=s.S),h==2&&(f=s.i),i.cj(e,o.M()*3+4);var u=e;e=Fi.jR(f,i.data,o.Z,o.h,e,n[1]?3:1);var p=e-u;p%2!=0&&(p+=p%2,e++),A.GB(i.data,r+l*6+2,p)}return e},Fi.sh=function(t,i,e,r,n,a,s){var l=A.lU(e,a);return a+=2,Fi.zc(t,i,e,r,n,a,l,s-2)},Fi.jR=function(t,i,e,r,n,a){return A.Gl(i,n,a),n+=2,n=Fi.CP(t,i,e,r,n,a),n},Fi.zc=function(t,i,e,r,n,a,s,l){var h,o=r*n*(i>>>3),f=o&3,u=o+(f==0?0:4-f);if(s>3&&(console.log("unknown compression: "+s,r,n,r*n,l),s=0),s==0){if(a+u<=e.length)h=e.slice(a,a+u);else{h=v.R(o);for(var p=0;p<o;p++)h[p]=e[a+p]}a+=o}else if(s==1){h=v.R(o);var c=t?4:2,d=Fi.NJ(e,h,r,n,a,a+c*n,c);a+=c*n+d}else if(s==2||s==3){var g=new Uint8Array(e.buffer,a+2,l-6),b=pako.inflateRaw(g);if(s==3)if(i==8)for(var m=0;m<n;m++)for(var x=m*r+1,M=x+r-1,S=b[x-1],w=x;w<M;w++)S+=b[w],b[w]=S&255;else for(var m=0;m<n;m++)for(var x=m*r+1,M=x+r-1,S=b[2*x-2]<<8|b[2*x-1],w=x;w<M;w++){var k=w<<1;S+=b[k]<<8|b[k+1],b[k]=S>>>8,b[k+1]=S&255}if(b.length==u)h=b;else{h=v.R(u);for(var p=0;p<b.length;p++)h[p]=b[p]}}if(i==16){for(var T=v.R(r*n),p=0;p<o;p+=2)T[p>>>1]=h[p];h=T}return h},Fi.CP=function(t,i,e,r,n,a){var s=e*r;if(a==0)for(var l=0;l<s;l++)i[n++]=t[l];else if(a==1){var h=Fi.Sr(t,i,e,r,n,n+2*r);n+=2*r+h}else if(a==2||a==3){if(a==3){for(var o=new Uint8Array(t.length),f=0;f<r;f++){var u=f*e+1,p=u+e-1,c=t[u-1];o[u-1]=c;for(var d=u;d<p;d++)o[d]=t[d]+(256-c)&255,c=t[d]}t=o}i[n]=120,i[n+1]=156,n+=2;var g=pako.deflateRaw(t,{amF:4});A.fw(i,n,g),n+=g.length+4}else console.log("Unknown compression: "+a);return n},Fi.NJ=function(t,i,e,r,n,a,s){var l=a,h=r|0;if(s==2)for(var o=0;o<h;o++){var f=A.lU(t,n+(o<<1));Fi.QF(t,a,f,i,o*e,e),a+=f}else for(var o=0;o<h;o++){var f=A.l(t,n+(o<<2));Fi.QF(t,a,f,i,o*e,e),a+=f}return a-l},Fi.Sr=function(t,i,e,r,n,a){for(var s=a,l=0;l<r;l++){var h=Fi.a0J(t,l*e,e,i,a);A.J6(i,n+l*2,h),a+=h}return a-s},Fi.a0J=function(t,i,e,r,n){var a,s,l,h,o,f,u;for(h=i+e,l=i,s=n;e>0;l=a,e-=f)if(u=e<128?e:128,l<=h-3&&t[l+1]==t[l+0]&&t[l+2]==t[l+0]){for(a=l+3;a<l+u&&t[a]==t[l+0];)++a;f=a-l,r[s++]=1+256-f,r[s++]=t[l+0]}else{for(a=l;a<l+u&&!(a<=h-3&&t[a+1]==t[a+0]&&t[a+2]==t[a+0]);)++a;f=a-l,r[s++]=f-1;for(var p=0;p<f;p++)r[s+p]=t[l+p];s+=f}return s-n},Fi.QF=function(t,i,e,r,n,a){for(var s=0;s<e;){var l=t[i++];if(l>=128){for(var h=t[i++],o=n+(257-l);n+1<o;)r[n++]=r[n++]=h;n<o&&(r[n++]=h),s+=2}else{for(var f=0;f<=l;f++)r[n+f]=t[i+f];i+=l+1,n+=l+1,s+=1+1+l}}};function ne(){}ne.ee=function(t,i){i.W4=!1,i.bv=8;var e=new Uint8Array(t),r=0,n=0,a,s=0,l=!1,h=!0,o=!1,f=0;if(n=ne.o1(i,e,r),r=n,n=ne.ahq(i,e,r),r=n,n=ne.aiH(i,e,r),r=n,n=ne.ah3(i,e,r),r=n,n=ne.alQ(i,e,r),r=n,i.r.length==0){var u=i.an();u.uf("Background"),i.r.push(u),u.buffer=v.clone(i.buffer),u.rect=new et(0,0,i.Z,i.h)}if(i.zQ.r1005&&(i.NB=A.ab7(i.zQ.r1005,0)),i.zQ.r1026)for(var e=i.zQ.r1026,p=0;p<e.length;p+=2){var n=i.r[p>>>1];n&&(n.Qk=A.lU(e,p))}if(i.zQ.r1032)for(var e=i.zQ.r1032,c=A.l(e,12),p=0;p<c;p++){var d=e[16+p*5+4],g=A.tF(e,16+p*5)/32;i.ei[d].push(g)}if(delete i.zQ.r1036,delete i.zQ.r1039,i.zQ.r1050){var b=A.l,m=i.zQ.r1050,x=A.l(m,0);if(x==6){var M=4,S=A.g$(m,M);M+=16;var w=A.O_(m,M);M+=4+w.length*2;var k=b(m,M);M+=4;for(var T=i.P0,p=0;p<k;p++){var L=C.e9.Mm(),O;T.push(L),L=L.v,L.sliceID.v=b(m,M),M+=4,L.groupID.v=b(m,M),M+=4;var E=b(m,M);M+=4,E==1&&(O=b(m,M),M+=4);var w=A.O_(m,M);M+=4+w.length*2;var D=b(m,M);M+=4;var B=[b(m,M),b(m,M+4),b(m,M+8),b(m,M+12)];M+=16,C.e9.EG(T,T.length-1,B);var I=L.url.v=A.O_(m,M);M+=4+I.length*2;var N=L.null.v=A.O_(m,M);M+=4+N.length*2;var V=L.Msge.v=A.O_(m,M);M+=4+V.length*2;var j=L.altTag.v=A.O_(m,M);M+=4+j.length*2,L.cellTextIsHTML.v=m[M]==1,M++;var R=L.cellText.v=A.O_(m,M);M+=4+R.length*2;var G=b(m,M);M+=4;var Z=b(m,M);M+=4;var _=m.slice(M,M+4);M+=4,E!=2&&T.pop()}}else if(x==8){var U={};Yt.Gz(m,U,8,!1);for(var m=i.P0=U.slices.v,p=0;p<m.length;p++)m[p].v.origin.v.ESliceOrigin!="userGenerated"&&(m.splice(p,1),p--)}}if(i.zQ.r1058){var Y=i.zQ.r1058,$=UTIF.decode(Y.buffer,{parseMN:!1,debug:!1});ke.J2($[0],i.ZT),delete i.zQ.r1058}if(i.zQ.r1060){var P=A.bc(i.zQ.r1060);ke.ZV(P,i.ZT),delete i.zQ.r1060}if(i.zQ.r1065){var e=i.zQ.r1065;i.e5={},Yt.Gz(e,i.e5,4,!1)}if(i.zQ.r1069){for(var e=i.zQ.r1069,tt=[],p=2;p<e.length;p+=4)for(var O=A.l(e,p),X=0;X<i.r.length;X++){var n=i.r[X];n.add.lyid==O&&n.add.lsct!=3&&tt.push(X)}i.p=tt}if(i.zQ.r1025){var ht=i.zQ.r1025;delete i.zQ.r1025;var F=qr.xe(ht,0,ht.length,i.Z,i.h),J=new H.iO;J.b=F,i.VW[0]=Pt.GG("Working Path",{vmsk:J})}var Q=i.add.pths;delete i.add.pths;var rt=i.zQ.r3000;rt&&(a={},Yt.Gz(rt,a,4,!1),delete i.zQ.r3000);for(var it=0;it<=997;it++){var nt="r"+(2e3+it),ht=i.zQ[nt];if(ht==null)break;var F=qr.xe(ht,0,ht.length,i.Z,i.h),ot=Q?Q.pathList.v[it].v.pathUnicodeName.v:"Path "+it,pt=a?a.keyRootDescriptorList.v[it].v.keyDescriptorList.v:H.h7(F),J=new H.iO;J.b=F,i.VW[it+1]=Pt.GG(ot,{vmsk:J,vogk:pt}),delete i.zQ[nt]}delete i.W4;var yt=new et(0,0,i.Z,i.h),ct=i.add.Txt2,vt=ct;if(vt&&(vt=vt.lK,vt._DocumentResources==null&&(vt=we.a27(vt))),ct&&ct.lK._DocumentResources!=null)for(var wt="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),Mt=ct.lK._DocumentResources._TextFrameSet._Resources,p=0;p<Mt.length;p++);for(var p=0;p<i.r.length;p++){var n=i.r[p],Ct=n.add.lsct,gt=n.add.vmsk,bt=n.jk();if(Ct==Ci.Qi?f++:(Ct==Ci.lw||Ct==Ci.kE)&&f--,n.name==""&&(n.name="Layer "+(p+1),o=!0),o&&n.fO()&&n.sW=="norm"&&(n.sW="pass"),n.gO()&&n.yg(i).g){var xt=n.yg(i);xt.g.isEnabled=n.add.SoLd.filterFX.v.filterMaskEnable.v}if(gt&&n.ws()){var Dt=at.bW.default;if(n.add.vstk==null)n.add.vstk=JSON.parse(JSON.stringify(Dt));else{var Ot="strokeStyleLineDashSet";n.add.vstk[Ot]==null&&(n.add.vstk[Ot]=JSON.parse(JSON.stringify(Dt[Ot])))}}gt&&(n.add.vogk==null||v.V.k3(gt.b)!=n.add.vogk.length)&&n.h7(),bt==null&&n.g!=null&&(n.g.tA==!1?(n.g.tA=!0,n.NY=n.g.clone()):(gt.NY=n.g,gt.G2=!1,n.g.bM=gt.bM,n.g.au=gt.au)),bt!=null&&gt!=null&&(bt.bM+gt.bM!=0||bt.au+gt.au!=2*255)&&n._V(i);var kt=n.add.artb;kt&&kt.artboardBackgroundType==null&&(kt.artboardBackgroundType={t:"long",v:1}),kt&&f!=0&&delete n.add.artb;var mt=n.add.vstk;if(n.ws()&&(n.rect.qr()||gt&&gt.bM!=0||mt&&!mt.fillEnabled.v&&(!mt.strokeEnabled.v||mt.strokeStyleLineWidth.v.val==0))&&n.fe(i),n.add.TySh&&(l=!0,n.rect.qr()||(h=!1)),n.add.TySh&&vt){var It=n.add.TySh.MF,Bt=lt.dd(It),Ut=It.EngineDict.ParagraphRun.RunArray,qt=vt._DocumentObjects._TextObjects;if(qt.length<=s){console.log("Txt2 incomplete");continue}qt=qt[s]._Model._ParagraphRun._RunArray,qt==null&&(qt=[]);for(var Gt=Math.min(qt.length,Ut.length),X=0;X<Gt;X++){var zt=Ut[X].ParagraphSheet.Properties,Nt=vt._DocumentResources._ParagraphSheetSet._Resources,Kt=qt[X]._RunData._ParagraphSheet;typeof Kt=="string"&&(Kt=Nt[parseInt(Kt.slice(1))]._Resource);var ai=Kt._Parent==null?Kt:Nt[parseInt(Kt._Parent.slice(1))]._Resource,fi=Kt._Features._ParagraphDirection;fi==null&&(fi=ai._Features._ParagraphDirection),fi&&(zt._Direction=parseInt(fi.slice(1)))}var di=vt._DocumentResources,$t=di._TextFrameSet._Resources,si=$t[s]._Resource,li=si._Data,Li=new Et(1,0,0,1,0,0);if(si._0){var vi=parseFloat(si._0[0].slice(1)),yi=parseFloat(si._0[1].slice(1));Li.translate(vi,yi)}if(Bt)Li.translate(Bt[0],Bt[1]),lt.Z1(It,[0,0,Bt[2]-Bt[0],Bt[3]-Bt[1]]);else if(si._Bezier&&si._Bezier._Points){var F=si._Bezier._Points,vi=parseFloat(F[0].slice(1)),yi=parseFloat(F[1].slice(1));(vi!=0||yi!=0)&&Li.translate(vi,yi)}if(si._Data&&si._Data._FrameMatrix){var _t=si._Data._FrameMatrix;_t=_t.map(function(Ri){return parseFloat(Ri.slice(1))}),Li.concat(new Et(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5]))}Li.concat(n.add.TySh.O),n.add.TySh.O=Li,s++;var D=li._Type?parseInt(li._Type.slice(1)):0;if(D==2||D==1&&li._PathData._Spacing=="i-3"){var wi=function(zi){return parseFloat(zi.slice(1))},F=si._Bezier._Points.map(wi);Bt&&v.D.O(F,new Et(1,0,0,1,-Bt[0],-Bt[1]),F);var Zi=li._PathData?li._PathData._Reversed:!1;It.Curve={Points:F,TextOnPathTRange:li._TextOnPathTRange.map(wi),Reversed:Zi==null?!1:Zi},n.add.TySh.add={vmsk:new H.iO,vogk:null},lt.SK(n.add.TySh)}}}dt.ln.vc(i,!0)},ne.HC=function(t,i,e){dt.ln.VL(t),dt.ln.vc(t,!1);for(var r=[],n=[],a=[],s=[],l=[],h=16,o=0,f=0;f<t.r.length;f++){var u=t.r[f];if(u.gO()&&u.yg(t).g&&(u.add.SoLd.filterFX.v.filterMaskEnable.v=u.yg(t).g.isEnabled),u.add.SoLd&&(n.push(u.add.SoLd.Idnt.v),a.push(u.add.SoLd.placed.v)),u.add.TySh){var p=u.add.TySh.MF,c=lt.AW(p);u.add.TySh.Hb.TextIndex={t:"long",v:r.length},r.push(p),c==2&&lt.jj(u.add.TySh)}if(u.add.PtFl&&s.push(u.add.PtFl.Ptrn.v.Idnt.v),u.add.lmfx)for(var d=0;d<at.og.length;d++)for(var g=u.add.lmfx[at.og[d]].v,b=0;b<g.length;b++)g[b].v.Ptrn&&s.push(g[b].v.Ptrn.v.Idnt.v);var m=u.add.vstk;m&&m.strokeStyleContent.v.classID=="patternLayer"&&s.push(m.strokeStyleContent.v.Ptrn.v.Idnt.v),u.ws()&&(l[f]=[u.rect,u.buffer],u.rect=new et,u.buffer=v.R(0))}if(r.length>0){var x=t.add.Txt2?t.add.Txt2.lK:null;t.add.Txt2={},t.add.Txt2.lK=Ui.acU(r,null,x)}var M=t.add.lnk2;if(M){for(var S=t.add.lnk2=[],f=0;f<M.length;f++)n.indexOf(M[f].Za)!=-1&&S.push(M[f]);S.length==0&&delete t.add.lnk2}var w=t.add.FEid;if(w){for(var k=t.add.FEid=[],f=0;f<w.length;f++)a.indexOf(w[f].id)!=-1&&k.push(w[f]);k.length==0&&delete t.add.FEid}var T=t.add.Patt;if(T)for(var L=t.add.Patt=[],f=0;f<T.length;f++)s.indexOf(T[f].id)!=-1&&L.push(T[f]);t.zQ.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]),A.ub(t.zQ.r1005,0,t.NB),A.ub(t.zQ.r1005,8,t.NB),t.ET()?t.zQ.r1022=new Uint8Array([0,3+t.Yq.length-1,0]):delete t.zQ.r1022,t.zQ.r1026=new Uint8Array(t.r.length*2);for(var f=0;f<t.r.length;f++)A.J6(t.zQ.r1026,f*2,t.r[f].Qk);var O=t.ei,E=O[0].length+O[1].length,D=t.zQ.r1032=v.R(16+5*E,!0);A.GB(D,0,1),A.GB(D,4,576),A.GB(D,8,576),A.GB(D,12,E);for(var f=0;f<2;f++)for(var b=0;b<O[f].length;b++)A.V3(D,h,Math.round(O[f][b]*32)),D[h+4]=f,h+=5;var B=v.Ms(t.buffer),I=[];B&&I.push({name:"Transparency",u9:{U:255,S:0,i:0},oE:100,iy:1}),I=I.concat(t.Yq),delete t.zQ.r1045,delete t.zQ.r1006,delete t.zQ.r1077;var N=new sr;h=0;var V=new Uint8Array(4+I.length*13);V[3]=1;for(var f=0;f<I.length;f++){var j=I[f],R=j.name+"\0";A.lS(N,h,R),h+=4+R.length*2;var G=4+f*13;yn.PO(V,G,j.u9),V[G+11]=j.oE,V[G+12]=j.iy}t.zQ.r1045=N.data.slice(0,h),t.zQ.r1077=V;for(var f=0;f<t.P0.length;f++)t.P0[t.P0.length-f-1].v.sliceID.v=2+f*3;var Z={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:t.P0}},N=new sr;A.oL(N,0,8),A.oL(N,4,16);var _=Yt.p1(N,Z,8);t.zQ.r1050=N.data.slice(0,_+8);var N=new sr;A.oL(N,0,16);var _=Yt.p1(N,t.e5,4);t.zQ.r1065=N.data.slice(0,_+4);var U=t.p;D=t.zQ.r1069=v.R(2+U.length*4,!0),A.J6(D,0,U.length);for(var f=0;f<U.length;f++)A.GB(D,2+4*f,t.r[U[f]].add.lyid);if(delete t.zQ.r1058,delete t.zQ.r1060,Object.keys(t.ZT).length!=0){var Y=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];ke.XG(t.ZT,Y[0],e[0]&&e[1]),t.zQ.r1058=new Uint8Array(UTIF.encode(Y));var $=ke.zJ(t.ZT);t.zQ.r1060=A.vI($)}for(var P=[],tt=[],f=0;f<t.VW.length;f++){var X=t.VW[f],ht=X.add.vmsk.b;if(!(f==0&&ht.length==2)){var F=v.R(ht.length*26);qr.A$(F,0,ht,t.Z,t.h);var J=f==0?1025:2e3+f-1;t.zQ["r"+J]=F,f!=0&&(P.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:X.name}}}),tt.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:X.add.vogk}}}))}}if(P.length!=0){t.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:P}},tt={classID:"null",keyRootDescriptorList:{t:"VlLs",v:tt}};var N=new sr;A.oL(N,0,16);var _=Yt.p1(N,tt,4);t.zQ.r3000=N.data.slice(0,_+4)}else delete t.add.pths,delete t.zQ.r3000;o=ne.a1h(t,i,o,3+I.length),o=ne.a1a(t,i,o),o=ne.a5t(t,i,o),o=ne.aaT(t,i,o,e,B),o=ne.a7K(t,i,o,e[0],B);for(var Q=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],f=0;f<Q.length;f++)delete t.zQ["r"+Q[f]];for(var f=0;f<t.r.length;f++){var u=t.r[f];u.ws()&&(u.rect=l[f][0],u.buffer=l[f][1])}return M&&(t.add.lnk2=M),w&&(t.add.FEid=w),T&&(t.add.Patt=T),dt.ln.vc(t,!0),o},ne.o1=function(t,i,e){var r=A.$o(i,e,4);e+=4,r!="8BPS"&&alert("invalid header signature: "+r);var n=A.lU(i,e);return e+=2,t.W4=n==2,n!=1&&n!=2&&alert("invalid version: "+n),e+=6,t.fh=A.lU(i,e),e+=2,t.h=A.tF(i,e),e+=4,t.Z=A.tF(i,e),e+=4,t.bv=A.lU(i,e),e+=2,t.Fy=A.lU(i,e),e+=2,e},ne.a1h=function(t,i,e,r){return i.cj(0,64),A.jW(i.data,e,"8BPS"),e+=4,A.J6(i.data,e,1),e+=2,A.GB(i.data,e,0),e+=4,A.J6(i.data,e,0),e+=2,A.J6(i.data,e,r),e+=2,A.V3(i.data,e,t.h),e+=4,A.V3(i.data,e,t.Z),e+=4,A.J6(i.data,e,8),e+=2,A.J6(i.data,e,3),e+=2,e},ne.ahq=function(t,i,e){var r=A.tF(i,e);return e+=4,r!=0&&(t.wa=i.slice(e,e+r)),e+=r,e},ne.a1a=function(t,i,e){return A.Oc(i,e,0),e+=4,e},ne.aiH=function(t,i,e){var r=A.l(i,e),n=0;e+=4;for(var a=[];n<r;){var s=A.$o(i,e+n,4);n+=4;var l=A.lU(i,e+n);n+=2;var h=A.Zd(i,e+n);n+=h.length,s!="8BIM"&&(a.push(l),console.log("Unknown Image Resources signature: "+s+", ID: "+l));var o=A.l(i,e+n);n+=4,t.zQ["r"+l]!=null&&console.log("--- two resources with same ID"),t.zQ["r"+l]=A.JN(i,e+n,o),n+=o+(o&1)}for(var f=0;f<a.length;f++)delete t.zQ["r"+a[f]];return e+r},ne.a5t=function(t,i,e){var r=e,n=0;e+=4;var a=[];for(var s in t.zQ)a.push(parseInt(s.slice(1)));a.sort(function(p,c){return p-c});for(var l=0;l<a.length;l++){A.bh(i,e+n,"8BIM"),n+=4;var h=a[l];A.Fh(i,e+n,h),n+=2;var o=A.JG(i,e+n,"");n+=o;var f=t.zQ["r"+h],u=f.length;A.oL(i,e+n,u),n+=4,A.x4(i,e+n,f),n+=u,u%2==1&&n++}return A.oL(i,r,n),e+n},ne.ah3=function(t,i,e){var r=e,n,a=t.W4?8:4;return t.W4?n=A.k0(i,e):n=A.l(i,e),e+=a,n==0?r+a:(e=ne.amj(t,i,e),e=ne.aeA(t,i,e),e=pr.H_(i,e,r+a+n,t.add,t.W4,t),r+a+n)},ne.aaT=function(t,i,e,r,n){var a=e;return A.oL(i,e,0),e+=4,e=ne.a3y(t,i,e,r,n),e=ne.aiX(t,i,e),e=pr.kn(i,e,t.add,t),A.oL(i,a,e-a-4),e},ne.amj=function(t,i,e){var r,n=t.W4?8:4;return t.W4?r=A.k0(i,e):r=A.l(i,e),e+=n,r!=0&&ne.aX(t,i,e),e+r},ne.aX=function(t,i,e){var r=A.dx(i,e);e+=2;for(var n=Math.abs(r),a=0;a<n;a++){var s=new H;e=je.ee(s,t,i,e),t.r[a]=s}for(var l=new et(0,0,t.Z,t.h),a=0;a<n;a++){var h=t.r[a];e=Fi.ee(h,t,i,e);var o=h.rect.M(),f=h.rect.$X(l),u=f.M()/o;if(o>2e3*3e3&&u<.5){var p=v.R(f.M()*4);v.BP(h.buffer,h.rect,p,f),h.buffer=p,h.rect=f,alert("Removing hidden parts of layers")}}},ne.a3y=function(t,i,e,r,n){var a=e;A.oL(i,e,0),e+=4;var s=t.r.length;A.Fh(i,e,n?-s:s),e+=2;for(var l=[],h=0;h<s;h++)e=je.HC(t.r[h],t,i,e,l);for(var h=0;h<s;h++)e=Fi.qx(t.r[h],i,e,l[h],r);var o=e-a-4;return o%2!=0&&o++,A.oL(i,a,o),a+o+4},ne.aeA=function(t,i,e){var r=A.l(i,e);return e+=4,e+=r,e},ne.aiX=function(t,i,e){var r=A.oL(i,e,0);return e+=4,e},ne.alQ=function(t,i,e){var r=t.Fy,n="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),a=[1,1,1,3,4,1,1,3],s,l;if(r!=3&&(r==1||r==2||r==4?alert("Project will be converted from "+n[r]+" to "+n[3]+" mode."):alert("Color mode "+n[r]+" is not supported yet :(")),t.zQ.r1045){s=[];for(var h=t.zQ.r1045,o=0;o<h.length;){var f=A.nf(h,o);s.push(f),o+=4+2+f.length*2}}var u=a[r]+(s==null||s[0]=="Transparency"?1:0),p=t.Z,c=t.h,d=p*c,g=A.lU(i,e);e+=2,t.buffer=v.R(d*4),v.XB(t.buffer,4278190080);for(var b=e,m=0;m<t.fh;m++){if(g==0)l=Fi.zc(t.W4,t.bv,i,p,c,e,g),e+=d*(t.bv>>>3);else if(g==1){l=v.R(d);var x=t.W4?4:2;m==0&&(e+=t.fh*c*x),e+=Fi.NJ(i,l,p,c,b+m*c*x,e,x)}else{console.log("unknown compression of image data: ",g);return}if(m<u)v.Oy(l,t.buffer,m),t.fh==1&&m==0&&(v.Oy(l,t.buffer,1),v.Oy(l,t.buffer,2));else{var M=new H.vm,S=m-u,w=m-a[t.Fy];if(M.name=s?s[w]:"Alpha",M.name=="Quick Mask"&&(M.gG=!0,t.oD.push(S)),M.rect=new et(0,0,p,c),M.channel=l,M.color=0,M.HZ(),t.Yq[S]=M,t.zQ.r1077){var h=t.zQ.r1077.slice(4+w*13);M.u9=yn.HD(h,0),M.oE=h[11],M.iy=h[12],M.iy==2&&(M.gG=!0)}}}if(t.fh=4,t.Fy==2)for(var k=0;k<d;k++){var T=k*4,L=t.buffer[T];t.buffer[T]=t.wa[0+L],t.buffer[T+1]=t.wa[256+L],t.buffer[T+2]=t.wa[512+L]}return e},ne.a7K=function(t,i,e,r,n){var a=1,s=16,l=t.Z,h=t.h,o,f;A.Fh(i,e,a),e+=2;var u=l*h;if(r)o=v.R(u);else{f=new v._B(l*h),v.Ae(t.buffer,f);for(var p=f.U,c=f.S,d=f.i,g=f.m,b=0;b<u;b++){var m=g[b]*(1/255);p[b]=~~(p[b]*m+255*(1-m)),c[b]=~~(c[b]*m+255*(1-m)),d[b]=~~(d[b]*m+255*(1-m))}}var x=[o,o,o];r||(x=[f.U,f.S,f.i]),n&&x.push(r?o:f.m);for(var b=0;b<t.Yq.length;b++)x.push(t.Yq[b].kx(new et(0,0,t.Z,t.h)));for(var M=e,S=0;S<x.length;S++)if(i.cj(e,l*h+4),o=x[S],a==0||a==2||a==3)e=Fi.CP(o,i.data,l,h,e,a);else{S==0&&(e+=x.length*h*2);var w=e;e+=Fi.Sr(o,i.data,l,h,M+S*h*2,e)}return e};function Rr(){}Rr.ee=function(t){var i={};return Rr.iI(t,i,0,0),i},Rr.HC=function(t,i){var e=0;return e=Rr.UT(t,i,e,0),e},Rr.iI=function(t,i,e,r){for(;t[e]!="<".charCodeAt(0);)e++;for(e+=2;;)if(t[e]=="/".charCodeAt(0)){e++;var n=A.indexOf(t," ".charCodeAt(0),e,e+50),a=A.indexOf(t,`
`.charCodeAt(0),e,e+50);a==-1&&(a=Infinity),n==-1&&(n=Infinity);var s=Math.min(a,n),l=A.$o(t,e,s-e),h=Rr.cW(t,s+1,r+1,l);i[l]=h.C,e=s+1,e+=h.size}else if(t[e]==">".charCodeAt(0)){e+=2;break}else{var o=t[e];o==10||o==9||o==32||console.log("unknown byte: "+o+", char: "+String.fromCharCode(o),e),e++}return e},Rr.UT=function(t,i,e,r){A.bh(i,e,`<<
`),e+=3;var n=Rr.aeU;for(var a in t)A.oO(i,e,"	".charCodeAt(0),r+1),e+=r+1,A.bh(i,e,"/"+a),e+=1+a.length,n(t[a])||t[a]instanceof Array?(A.bh(i,e," "),e++):(A.bh(i,e,`
`),e++,A.oO(i,e,"	".charCodeAt(0),r+1),e+=r+1),e=Rr.Ps(t[a],i,e,r+1),A.bh(i,e,`
`),e++;return A.oO(i,e,"	".charCodeAt(0),r),e+=r,A.bh(i,e,">>"),e+=2,e},Rr.cW=function(t,i,e,r){for(var n=i,a={size:0,C:0};;){for(;t[i]==" ".charCodeAt(0)||t[i]=="	".charCodeAt(0)||t[i]==`
`.charCodeAt(0);)i++;if(t[i]=="<".charCodeAt(0)){a.C={},i=Rr.iI(t,a.C,i,e+1);break}else if(t[i]=="(".charCodeAt(0)){i+=3;for(var s=i;!(t[s-1]!="\\".charCodeAt(0)&&t[s]==")".charCodeAt(0)&&(t[s+1]==`
`.charCodeAt(0)||t[s+1]==" ".charCodeAt(0)));)s++;a.C=A.Ci(t,i,s),i=s+2;break}else if(t[i]=="[".charCodeAt(0)){for(i++,a.C=[];t[i]==" ".charCodeAt(0)||t[i]=="	".charCodeAt(0)||t[i]==`
`.charCodeAt(0);)i++;for(;t[i]!="]".charCodeAt(0);){var l=Rr.cW(t,i,e+1,r);for(a.C.push(l.C),i+=l.size;t[i]==" ".charCodeAt(0)||t[i]=="	".charCodeAt(0)||t[i]==`
`.charCodeAt(0);)i++}i++;break}else{var h=A.indexOf(t," ".charCodeAt(0),i,i+50),o=A.indexOf(t,`
`.charCodeAt(0),i,i+50);o==-1&&(o=Infinity),h==-1&&(h=Infinity);var f=A.$o(t,i,Math.min(h,o)-i).trim(),u=parseFloat(f);if(isNaN(u))if(f=="true"||f=="false"){a.C=f=="true",i=Math.min(h,o)+1;break}else if(f=="null"||f=="NaN"){a.C=0,i=Math.min(h,o)+1;break}else throw console.log("unknown identifier: "+f),"e";else{a.C=parseFloat(f),i=Math.min(h,o)+1;break}i=Math.min(h,o)+1}}return a.size=i-n,a},Rr.Ps=function(t,i,e,r){if(t instanceof Array){var n=t.length==0||typeof t[0]=="number";if(n){A.bh(i,e,"[ "),e+=2;for(var a=0;a<t.length;a++){var s=t[a]+" ";A.bh(i,e,s),e+=s.length}A.bh(i,e,"]"),e+=1}else{A.bh(i,e,`[
`),e+=2;for(var a=0;a<t.length;a++)A.oO(i,e,"	".charCodeAt(0),r),e+=r,e=Rr.Ps(t[a],i,e,r),A.bh(i,e,`
`),e++;A.oO(i,e,"	".charCodeAt(0),r),e+=r,A.bh(i,e,"]"),e+=1}}else if(t instanceof Object)e=Rr.UT(t,i,e,r);else if(typeof t=="string")A.bh(i,e,"("),e++,A.oO(i,e,254),e++,A.oO(i,e,255),e++,e=A.o2(i,e,t),A.bh(i,e,")"),e+=1;else{var s=t+"";A.bh(i,e,s),e+=s.length}return e},Rr.aeU=function(t){var i=typeof t;return i=="string"||i=="number"||i=="boolean"};function Oe(){}Oe.ee=function(t){var i={};return Oe.ef(t,i,0,0),i},Oe.HC=function(t,i){var e=0;return A.bh(i,e," "),e++,e=Oe.ds(t,i,e,0),e--,i.cj(e,2),i.data[e]=i.data[e+1]=0,e+=2,e},Oe.iI=function(t,i,e,r){for(;t[e]!="<".charCodeAt(0);)e++,console.log("\u0161ipka");return e+=2,e=Oe.ef(t,i,e,r),e},Oe.UT=function(t,i,e,r){return A.bh(i,e,"<< "),e+=3,e=Oe.ds(t,i,e,r),A.bh(i,e,">>"),e+=2,e},Oe._K=function(t){return t==9||t==10||t==32},Oe.ef=function(t,i,e,r){for(;;){for(;Oe._K(t[e])||t[e]==0;)e++;if(e>=t.length)break;if(t[e]=="/".charCodeAt(0)){e++;for(var n=e;!Oe._K(t[n]);)n++;var a=A.$o(t,e,n-e);e=n+1;var s=Oe.cW(t,e,r,a);i["_"+a]=s.C,e+=s.size}else if(t[e]==">".charCodeAt(0)){e+=2;break}else{var l=t[e];throw console.log(A.$o(t,e,e+100)),console.log("unknown byte: "+l+", char: "+String.fromCharCode(l)+", offset: "+e),e++,"e";return-1}}return e},Oe.ds=function(t,i,e,r){for(var n in t){var a=n.substring(1,n.length);A.bh(i,e,"/"+a),e+=1+a.length,A.bh(i,e," "),e++,e=Oe.Ps(t[n],i,e,r+1),A.bh(i,e," "),e++}return e},Oe.cW=function(t,i,e,r){for(var n=i,a={type:"",size:0,C:0};Oe._K(t[i]);)i++;if(t[i]=="<".charCodeAt(0))a.type="Object",a.C={},i=Oe.iI(t,a.C,i,e+1);else if(t[i]=="(".charCodeAt(0))if(a.type="String",i++,t[i]==")".charCodeAt(0))a.C="s",i++;else{i+=2;for(var s=i,l=0;!(t[s]==")".charCodeAt(0)&&t[s-1]!="\\".charCodeAt(0));)s+=1;a.C="s"+A.Ci(t,i,s),i=s+2}else if(t[i]=="[".charCodeAt(0)){for(i++,a.C=[],a.type="Array";Oe._K(t[i]);)i++;for(;t[i]!="]".charCodeAt(0);){var h=Oe.cW(t,i,e+1,r);if(h==-1)return-1;for(a.C.push(h.C),i+=h.size,delete h.size;Oe._K(t[i]);)i++}i++}else{for(var o=i;!Oe._K(t[o]);)o++;var f=A.$o(t,i,o-i),u=parseFloat(f);if(!isNaN(u)&&f.indexOf(".")!=-1){a.type="Float";var p=parseFloat(f);a.C="f"+p}else if(!isNaN(u)&&f.indexOf(".")==-1)a.type="Integer",a.C="i"+parseInt(f);else if(f=="true"||f=="false")a.type="Boolean",a.C=f=="true";else if(f.charAt(0)=="/")a.type="BString",a.C=f;else throw console.log("unknown value",JSON.stringify(f)),"e";i=o+1}return a.size=i-n,a},Oe.aks=function(t){if(t==Math.round(t))return t+".0";var i=t.toFixed(5);return 0<t&&t<1&&(i=i.substring(1,i.length)),-1<t&&t<0&&(i="-"+i.substring(2,i.length)),i},Oe.Ps=function(t,i,e,r){var n=typeof t=="string"?t.charAt(0):"";if(t instanceof Array){A.bh(i,e,"[ "),e+=2;for(var a=0;a<t.length;a++)e=Oe.Ps(t[a],i,e,r),A.bh(i,e," "),e++;A.bh(i,e,"]"),e+=1}else if(t instanceof Object)e=Oe.UT(t,i,e,r);else if(n=="s")A.bh(i,e,"("),e++,A.oO(i,e,254),e++,A.oO(i,e,255),e++,e=A.o2(i,e,t.substring(1)),A.bh(i,e,")"),e++;else if(n=="/")A.bh(i,e,t),e+=t.length;else if(n=="f"){var s=parseFloat(t.substring(1)),l=Oe.aks(s);A.bh(i,e,l),e+=l.length}else if(n=="i")A.bh(i,e,t.substring(1)),e+=t.length-1;else{var l=t+"";A.bh(i,e,l),e+=l.length}return e};function st(t,i){t||(t=0),i||(i=0),this.x=t,this.y=i}st.prototype.add=function(t){return new st(this.x+t.x,this.y+t.y)},st.prototype.clone=function(){return new st(this.x,this.y)},st.prototype.fa=function(t){this.x=t.x,this.y=t.y},st.prototype.Qn=function(t){return this.x==t.x&&this.y==t.y},st.prototype.normalize=function(t){var i=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=t/i,this.y*=t/i},st.prototype.offset=function(t,i){this.x+=t,this.y+=i},st.prototype.Oh=function(t,i){this.x=t,this.y=i},st.prototype.gI=function(t){return new st(this.x-t.x,this.y-t.y)},st.Yj=function(t,i){return st.ad7(t.x,t.y,i.x,i.y)},st.bu=function(t,i,e){return new st(t.x+e*(i.x-t.x),t.y+e*(i.y-t.y))},st.acO=function(t,i){return new st(t*Math.cos(i),t*Math.sin(i))},st.ad7=function(t,i,e,r){return Math.sqrt((e-t)*(e-t)+(r-i)*(r-i))},st.l5={},st.Na={},st.l5.create=function(){var t=new Float32Array(4);return t},st.Na.create=function(t){var i=new Float32Array(16);return i[0]=i[5]=i[10]=i[15]=1,t&&st.Na.set(t,i),i},st.l5.add=function(t,i,e){e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3]},st.l5.set=function(t,i){i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3]},st.Na.set=function(t,i){i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]},st.Na.multiply=function(t,i,e){var r=t[0],n=t[1],a=t[2],s=t[3],l=t[4],h=t[5],o=t[6],f=t[7],u=t[8],p=t[9],c=t[10],d=t[11],g=t[12],b=t[13],m=t[14],x=t[15],M=i[0],S=i[1],w=i[2],k=i[3];return e[0]=M*r+S*l+w*u+k*g,e[1]=M*n+S*h+w*p+k*b,e[2]=M*a+S*o+w*c+k*m,e[3]=M*s+S*f+w*d+k*x,M=i[4],S=i[5],w=i[6],k=i[7],e[4]=M*r+S*l+w*u+k*g,e[5]=M*n+S*h+w*p+k*b,e[6]=M*a+S*o+w*c+k*m,e[7]=M*s+S*f+w*d+k*x,M=i[8],S=i[9],w=i[10],k=i[11],e[8]=M*r+S*l+w*u+k*g,e[9]=M*n+S*h+w*p+k*b,e[10]=M*a+S*o+w*c+k*m,e[11]=M*s+S*f+w*d+k*x,M=i[12],S=i[13],w=i[14],k=i[15],e[12]=M*r+S*l+w*u+k*g,e[13]=M*n+S*h+w*p+k*b,e[14]=M*a+S*o+w*c+k*m,e[15]=M*s+S*f+w*d+k*x,e},st.Na.inverse=function(t,i){var e=t[0],r=t[1],n=t[2],a=t[3],s=t[4],l=t[5],h=t[6],o=t[7],f=t[8],u=t[9],p=t[10],c=t[11],d=t[12],g=t[13],b=t[14],m=t[15],x=e*l-r*s,M=e*h-n*s,S=e*o-a*s,w=r*h-n*l,k=r*o-a*l,T=n*o-a*h,L=f*g-u*d,O=f*b-p*d,E=f*m-c*d,D=u*b-p*g,B=u*m-c*g,I=p*m-c*b,N=x*I-M*B+S*D+w*E-k*O+T*L;return N?(N=1/N,i[0]=(l*I-h*B+o*D)*N,i[1]=(n*B-r*I-a*D)*N,i[2]=(g*T-b*k+m*w)*N,i[3]=(p*k-u*T-c*w)*N,i[4]=(h*E-s*I-o*O)*N,i[5]=(e*I-n*E+a*O)*N,i[6]=(b*S-d*T-m*M)*N,i[7]=(f*T-p*S+c*M)*N,i[8]=(s*B-l*E+o*L)*N,i[9]=(r*E-e*B-a*L)*N,i[10]=(d*k-g*S+m*x)*N,i[11]=(u*S-f*k-c*x)*N,i[12]=(l*O-s*D-h*L)*N,i[13]=(e*D-r*O+n*L)*N,i[14]=(g*M-d*w-b*x)*N,i[15]=(f*w-u*M+p*x)*N,i):null},st.Na.amx=function(t,i,e){var r=i[0],n=i[1];e[0]=r*t[0]+n*t[4]+t[12],e[1]=r*t[1]+n*t[5]+t[13]},st.Na.ajP=function(t,i,e){var r=i[0],n=i[1],a=i[2],s=i[3];e[0]=t[0]*r+t[4]*n+t[8]*a+t[12]*s,e[1]=t[1]*r+t[5]*n+t[9]*a+t[13]*s,e[2]=t[2]*r+t[6]*n+t[10]*a+t[14]*s,e[3]=t[3]*r+t[7]*n+t[11]*a+t[15]*s};function Et(t,i,e,r,n,a){typeof t=="undefined"&&(t=1,i=0,e=0,r=1,n=0,a=0),this.m=t,this.i=i,this.p$=e,this.xA=r,this.PV=n,this.ye=a}Et.prototype.d3=function(){return Math.sqrt(Math.abs(this.m*this.xA-this.i*this.p$))},Et.prototype.dy=function(){var t=this,i=function(e){return Math.abs(e)<1e-9?0:e};t.m=i(t.m),t.i=i(t.i),t.p$=i(t.p$),t.xA=i(t.xA),t.PV=i(t.PV),t.ye=i(t.ye)},Et.prototype.aT=function(t){return new st(t.x*this.m+t.y*this.p$+this.PV,t.x*this.i+t.y*this.xA+this.ye)},Et.prototype.translate=function(t,i){this.PV+=t,this.ye+=i},Et.prototype.rotate=function(t){var i=new Et(Math.cos(t),-Math.sin(t),Math.sin(t),Math.cos(t),0,0);this.concat(i)},Et.prototype.scale=function(t,i){var e=new Et(t,0,0,i,0,0);this.concat(e)},Et.prototype.concat=function(t){this.fa(new Et(this.m*t.m+this.i*t.p$,this.m*t.i+this.i*t.xA,this.p$*t.m+this.xA*t.p$,this.p$*t.i+this.xA*t.xA,this.PV*t.m+this.ye*t.p$+t.PV,this.PV*t.i+this.ye*t.xA+t.ye))},Et.prototype.nJ=function(){var t=this.m*this.xA-this.i*this.p$;this.fa(new Et(this.xA/t,-this.i/t,-this.p$/t,this.m/t,(this.p$*this.ye-this.xA*this.PV)/t,(this.i*this.PV-this.m*this.ye)/t))},Et.prototype.clone=function(){return new Et(this.m,this.i,this.p$,this.xA,this.PV,this.ye)},Et.prototype.fa=function(t){this.m=t.m,this.i=t.i,this.p$=t.p$,this.xA=t.xA,this.PV=t.PV,this.ye=t.ye};function A(){}A.a2S=function(t){for(var i="",e=3;e>=0;e--)i+=String.fromCharCode(t>>e*8&255);return i},A.acH=function(t){for(var i=0,e=t.length-1;e>=0;e--)i|=t.charCodeAt(e)<<(3-e)*8;return i},A.indexOf=function(t,i,e,r){e==null&&(e=0),r==null&&(r=t.length),r=Math.min(r,t.length);for(var n=e;n<r;n++)if(t[n]==i)return n;return-1},A.No=function(t,i,e){if(e==null&&(e=0),typeof i=="string"){for(var r=[],n=0;n<i.length;n++)r.push(i.charCodeAt(n));i=r}for(var n=e;n<t.length;n++){for(var a=!0,s=0;s<i.length;s++)if(i[s]!=t[n+s]){a=!1;break}if(a)return n}return-1},A.Ci=function(t,i,e){for(var r=[],n="";i<e;){var a=t[i++];a=="\\".charCodeAt(0)?r.push(t[i++]):r.push(a)}for(var s=0;s<r.length;s+=2)n+=String.fromCharCode(r[s]<<8|r[s+1]);return n},A.a7w=function(t,i,e){for(var r=new Uint8Array(2),n=0;n<e.length;n++)A.J6(r,0,e.charCodeAt(n)),(r[0]==")".charCodeAt(0)||r[0]=="(".charCodeAt(0)||r[0]=="\\".charCodeAt(0))&&(t[i]="\\".charCodeAt(0),i++),t[i]=r[0],i++,(r[1]==")".charCodeAt(0)||r[1]=="(".charCodeAt(0)||r[1]=="\\".charCodeAt(0))&&(t[i]="\\".charCodeAt(0),i++),t[i]=r[1],i++;return i},A.o2=function(t,i,e){return t.cj(i,4*e.length),A.a7w(t.data,i,e)},A.zg=function(t,i,e){for(var r="",n=0;n<e;n++){var a=t[i++]|t[i++]<<8;r+=String.fromCharCode(a)}return r},A.Hp=function(t,i,e){for(var r="",n=0;n<e;n++){var a=t[i++]<<8|t[i++];r+=String.fromCharCode(a)}return r},A.a3P=function(t,i,e){for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);A.qu(t,i+2*r,n)}},A.hZ=function(t,i,e){for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);A.J6(t,i+2*r,n)}},A.aar=function(t,i,e){t.cj(i,2*e.length),A.hZ(t.data,i,e)},A.a7X=function(t,i,e){var r=[],n=0,a=0;for(e+=i;i<e;){if(n=t[i++],(n&128)==0)a=n;else if((n&224)==192)a=(n&31)<<6,n=t[i++],a|=n&63;else if((n&240)==224)a=(n&15)<<12,n=t[i++],a|=(n&63)<<6,n=t[i++],a|=n&63;else if((n&248)==240)a=(n&7)<<18,n=t[i++],a|=(n&63)<<12,n=t[i++],a|=(n&63)<<6,n=t[i++],a|=n&63;else throw"e";r.push(a)}return r},A.Sf=window.TextDecoder?new window.TextDecoder("utf8"):null,A.bc=function(t,i,e){if(i==null&&(i=0),e==null&&(e=t.length),A.Sf&&i==0&&e==t.length)return A.Sf.decode(t);for(var r=A.a7X(t,i,e),n=r.length,a=0;a<n;a++)r[a]=String.fromCharCode(r[a]);return r.join("")},A.Hu=window.TextEncoder?new window.TextEncoder("utf8"):null,A.vI=function(t){if(A.Hu)return A.Hu.encode(t);var i=new Uint8Array(t.length*4),e=A.vr(t,i,0);return i.slice(0,e)},A.vr=function(t,i,e){for(var r=t.length,n=0,a=0;a<r;a++){var s=t.charCodeAt(a);if((s&4294967295-(1<<7)+1)==0)i[e+n]=s,n++;else if((s&4294967295-(1<<11)+1)==0)i[e+n]=192|s>>6,i[e+n+1]=128|s>>0&63,n+=2;else if((s&4294967295-(1<<16)+1)==0)i[e+n]=224|s>>12,i[e+n+1]=128|s>>6&63,i[e+n+2]=128|s>>0&63,n+=3;else if((s&4294967295-(1<<21)+1)==0)i[e+n]=240|s>>18,i[e+n+1]=128|s>>12&63,i[e+n+2]=128|s>>6&63,i[e+n+3]=128|s>>0&63,n+=4;else throw"e"}return n},A.NQ=function(t,i){var e=A.l(t,i),r=A.bc(t,i+4,e-1);return{Pg:r,lr:4+e}},A.ae0=function(t,i){var e=A.L6(t,i),r=A.zg(t,i+4,e);return r},A.O_=function(t,i){var e=A.l(t,i),r=A.Hp(t,i+4,e);return r},A.nf=function(t,i){var e=A.l(t,i),r=A.Hp(t,i+4,e-1);return r},A.ael=function(t,i,e){A.vH(t,i,e.length),i+=4,A.a3P(t,i,e)},A.afy=function(t,i,e){A.GB(t,i,e.length),i+=4,A.hZ(t,i,e)},A.lS=function(t,i,e){t.cj(i,4+2*e.length),A.afy(t.data,i,e)},A.ajd=function(t,i,e){t.cj(i,4+2*e.length),A.ael(t.data,i,e)},A.h$=function(t,i,e){for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[i+n]));return r},A.afo=function(t,i,e){for(var r=!1,n=t.length-e.length,a=i;a<n;a++)for(var s=0;s<e.length&&t[a+s]==e.charCodeAt(s);s++)if(s==e.length-1)return a},A.$o=function(t,i,e){for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[i+n]);return r},A.jW=function(t,i,e){for(var r=0;r<e.length;r++)t[i+r]=e.charCodeAt(r)},A.bh=function(t,i,e){t.cj(i,e.length),A.jW(t.data,i,e)},A.afH=function(t,i,e){for(var r="",n=0;n<e;n++){var a=t[i+n];a<10?r+="  ":a<100&&(r+=" "),r+=a+", "}return r},A.lU=function(t,i){return t[i]<<8|t[i+1]},A.J6=function(t,i,e){t[i]=e>>8&255,t[i+1]=e&255},A.Fh=function(t,i,e){t.cj(i,4),A.J6(t.data,i,e)},A.ab7=function(t,i){var e=A.lU(t,i),r=A.lU(t,i+2);return e+r*(1/65536)},A.ub=function(t,i,e){var r=Math.floor(e),n=Math.floor((e-r)*65536);A.J6(t,i,r),A.J6(t,i+2,n)},A.wP=function(t,i){return t[i+1]<<8|t[i]},A.qu=function(t,i,e){t[i+1]=e>>8&255,t[i]=e&255},A.a8=function(t,i,e){t.cj(i,4),A.qu(t.data,i,e)},A.dx=function(t,i){return A.W3[0]=t[i+1],A.W3[1]=t[i],A.y1[0]},A.XS=function(t,i){return A.W3[0]=t[i],A.W3[1]=t[i+1],A.y1[0]},A.Gl=A.J6,A.N7=A.Fh,A.tF=function(t,i){return A.YT[0]=t[i+3],A.YT[1]=t[i+2],A.YT[2]=t[i+1],A.YT[3]=t[i],A.B8[0]},A.V3=function(t,i,e){A.B8[0]=e,t[i+3]=A.YT[0],t[i+2]=A.YT[1],t[i+1]=A.YT[2],t[i+0]=A.YT[3]},A.Oc=function(t,i,e){t.cj(i,4),A.V3(t.data,i,e)},A.nv=function(t,i,e,r){e[r+0]=t[i+0],e[r+1]=t[i+1],e[r+2]=t[i+2],e[r+3]=t[i+3]},A.L6=function(t,i){return A.nv(t,i,A.YT,0),A.LP[0]},A.vH=function(t,i,e){A.LP[0]=e,A.nv(A.YT,0,t,i)},A.PU=function(t,i,e){t.cj(i,4),A.vH(t.data,i,e)},A.K8=function(t,i){return A.nv(t,i,A.YT,0),A.B8[0]},A.a7C=function(t,i,e){A.B8[0]=e,A.nv(A.YT,0,t,i)},A.aiu=function(t,i,e){t.cj(i,4),A.a7C(t.data,i,e)},A.l=function(t,i){var e=t[i]*(256*256*256)+(t[i+1]<<16|t[i+2]<<8|t[i+3]);return e},A.GB=function(t,i,e){t[i]=e>>24&255,t[i+1]=e>>16&255,t[i+2]=e>>8&255,t[i+3]=e>>0&255},A.oL=function(t,i,e){t.cj(i,4),A.GB(t.data,i,e)},A.k0=function(t,i){return A.l(t,i)<<32|A.l(t,i+4)},A.a1A=function(t,i,e){A.GB(t,i,e>>16>>16),A.GB(t,i+4,e&4294967295)},A.X4=function(t,i,e){t.cj(i,8),A.a1A(t.data,i,e)},A.VZ=function(t,i){for(var e=new Uint8Array(8),r=0;r<8;r++)e[r]=t[i+7-r];var n=new Float64Array(e.buffer);return n[0]},A.a8o=function(t,i){for(var e=new Uint8Array(8),r=0;r<8;r++)e[r]=t[i+r];var n=new Float64Array(e.buffer);return n[0]},A.GU=function(t,i,e){var r=new Float64Array(1);r[0]=e;for(var n=new Uint8Array(r.buffer),a=0;a<4;a++){var s=n[a];n[a]=n[7-a],n[7-a]=s}for(var a=0;a<8;a++)t[i+a]=n[a]},A.AD=function(t,i,e){t.cj(i,8),A.GU(t.data,i,e)},A.C2=function(t,i){return A.YT[0]=t[i+3],A.YT[1]=t[i+2],A.YT[2]=t[i+1],A.YT[3]=t[i+0],A.Q5[0]},A.CC=function(t,i){return A.YT[0]=t[i+0],A.YT[1]=t[i+1],A.YT[2]=t[i+2],A.YT[3]=t[i+3],A.Q5[0]},A.PL=function(t,i,e){A.Q5[0]=e,t[i+0]=A.YT[3],t[i+1]=A.YT[2],t[i+2]=A.YT[1],t[i+3]=A.YT[0]},A.abq=function(t,i,e){t.cj(i,4),A.PL(t.data,i,e)},A.pq=function(t,i,e){A.Q5[0]=e,t[i+0]=A.YT[0],t[i+1]=A.YT[1],t[i+2]=A.YT[2],t[i+3]=A.YT[3]},A.a55=function(t,i,e){t.cj(i,4),A.pq(t.data,i,e)},A.a11=function(t,i){var e=A.tF(t,i),r=e*(1/(1<<24));return r},A.NF=function(t,i,e){var r=Math.floor(e*(1<<24));A.V3(t,i,r)},A.ajX=function(t,i,e){t.cj(i,4),A.NF(t.data,i,e)},A.Zd=function(t,i){var e=t[i],r=A.$o(t,i+1,e);return e+=1-e%2,{dC:r,length:e+1}},A.abM=function(t,i,e){var r=e.length;return t[i]=r,A.jW(t,i+1,e),r%2==0&&(t[i+1+r]=0,++r),r+1},A.JG=function(t,i,e){return t.cj(i,e.length+2),A.abM(t.data,i,e)},A.FB=function(t,i){var e=new Et;return e.m=A.VZ(t,i+0*8),e.i=A.VZ(t,i+1*8),e.p$=A.VZ(t,i+2*8),e.xA=A.VZ(t,i+3*8),e.PV=A.VZ(t,i+4*8),e.ye=A.VZ(t,i+5*8),e},A.kO=function(t,i,e){A.GU(t,i+0*8,e.m),A.GU(t,i+1*8,e.i),A.GU(t,i+2*8,e.p$),A.GU(t,i+3*8,e.xA),A.GU(t,i+4*8,e.PV),A.GU(t,i+5*8,e.ye)},A.agw=function(t,i,e){t.cj(i,48),A.kO(t.data,i,e)},A.abF=function(t,i){var e=A.C2(t,i),r=A.C2(t,i+4),n=A.C2(t,i+8),a=A.C2(t,i+12);return new et(e,r,n-e,a-r)},A.al6=function(t,i,e){A.PL(t,i,e.x),A.PL(t,i+4,e.y),A.PL(t,i+8,e.x+e.Z),A.PL(t,i+12,e.y+e.h)},A.a3v=function(t,i,e){t.cj(i,16),A.al6(t.data,i,e)},A.g$=function(t,i){var e=A.tF(t,i),r=A.tF(t,i+4),n=A.tF(t,i+8),a=A.tF(t,i+12);return new et(r,e,a-r,n-e)},A.iE=function(t,i,e){A.V3(t,i,e.y),A.V3(t,i+4,e.x),A.V3(t,i+8,e.y+e.h),A.V3(t,i+12,e.x+e.Z)},A.nl=function(t,i,e){t.cj(i,16),A.iE(t.data,i,e)},A.JN=function(t,i,e){for(var r=new Uint8Array(e),n=0;n<e;n++)r[n]=t[i+n];return r},A.fw=function(t,i,e){t.set(e,i)},A.x4=function(t,i,e){t.cj(i,e.length),A.fw(t.data,i,e)},A.aiP=function(t,i,e,r){r||(r=1);for(var n=0;n<r;n++)t[i+n]=e},A.oO=function(t,i,e,r){r||(r=1),t.cj(i,r),A.aiP(t.data,i,e,r)},A.y1=new Int16Array(1),A.W3=new Uint8Array(A.y1.buffer),A.B8=new Int32Array(1),A.LP=new Uint32Array(A.B8.buffer),A.YT=new Uint8Array(A.B8.buffer),A.Q5=new Float32Array(A.B8.buffer);function et(t,i,e,r){t||(t=0),i||(i=0),e||(e=0),r||(r=0),this.x=t,this.y=i,this.Z=e,this.h=r}et.prototype.M=function(){return this.Z*this.h},et.prototype.clone=function(){return new et(this.x,this.y,this.Z,this.h)},et.prototype.contains=function(t,i){return t>=this.x&&t<=this.x+this.Z&&i>=this.y&&i<=this.y+this.h},et.prototype.oz=function(t){return this.contains(t.x,t.y)},et.prototype.Qh=function(t){return this.x<=t.x&&this.y<=t.y&&t.x+t.Z<=this.x+this.Z&&t.y+t.h<=this.y+this.h},et.prototype.fa=function(t){this.x=t.x,this.y=t.y,this.Z=t.Z,this.h=t.h},et.prototype.Qn=function(t){return this.x==t.x&&this.y==t.y&&this.Z==t.Z&&this.h==t.h},et.prototype.PK=function(t,i){this.x-=t,this.y-=i,this.Z+=2*t,this.h+=2*i},et.prototype.a5m=function(t){this.PK(t.x,t.y)},et.prototype.$X=function(t){var i=Math.max(this.x,t.x),e=Math.max(this.y,t.y),r=Math.min(this.x+this.Z,t.x+t.Z),n=Math.min(this.y+this.h,t.y+t.h);return r<i||n<e?new et:new et(i,e,r-i,n-e)},et.prototype.dg=function(t){return!(t.y+t.h<this.y||t.x>this.x+this.Z||t.y>this.y+this.h||t.x+t.Z<this.x)},et.prototype.qr=function(){return this.Z<=0||this.h<=0},et.prototype.offset=function(t,i){this.x+=t,this.y+=i},et.prototype.aw=function(t){this.offset(t.x,t.y)},et.prototype.a52=function(){this.x=this.y=this.Z=this.h=0},et.prototype.Oh=function(t,i,e,r){this.x=t,this.y=i,this.Z=e,this.h=r},et.prototype.s7=function(t){if(this.qr())return t.clone();if(t.qr())return this.clone();var i=this.clone();return i.a9_(t),i},et.uN=new Float32Array(2),et.prototype.a9_=function(t){if(!t.qr()){if(this.qr()){this.fa(t);return}this.Cl(t.x,t.y),this.Cl(t.x+t.Z,t.y+t.h)}},et.prototype.Cl=function(t,i){var e=Math.min(this.x,t),r=Math.min(this.y,i);this.Z=Math.max(this.x+this.Z,t)-e,this.h=Math.max(this.y+this.h,i)-r,this.x=e,this.y=r},et.prototype.a0U=function(t,i,e,r){this.Z==0&&this.h==0?this.ags(t,i):this.Cl(t,i),this.Cl(e,r)},et.prototype.ags=function(t,i){this.x=t,this.y=i,this.Z=this.h=0};function ae(){}ae.ee=function(t,i){var e=new Uint8Array(t),r=0,n=A.$o(e,r,9),a=4,s=100;r+=9;var l=A.$o(e,r,4);r+=4,r++,i.Z=A.l(e,r),r+=4,i.h=A.l(e,r),r+=4;var h=A.l(e,r);r+=4,h!=0&&alert("Unsupported image format, not RGB!"),["file","v001","v002","v003"].indexOf(l)==-1&&(s=A.l(e,r),r+=4,parseInt(l.slice(1))>=7?s=s:alert("Unknown XCF version: "+l),a=8);var o={};r=ae.g6(e,r,o);var f=[];r=ae.vL(e,r,f,a);var u=[];r=ae.vL(e,r,u,a),i.GX=0;for(var p=0;p<f.length;p++)ae.amu(e,f[p],i,o,a,s);for(;i.GX>0;)i.r.push(i.Px()),i.GX--;i.r.reverse(),delete i.GX,i.buffer=v.R(i.Z*i.h*4),i.r.length==0&&console.log("No layers!!!");for(var p=0;p<u.length;p++){var c=ae.r6(e,u[p],o,a,s);c.lg[Xe.a88]&&(i.K={channel:c.AH,rect:new et(0,0,i.Z,i.h)})}},ae.amu=function(t,i,e,r,n,a){var s=e.an(),l=A.l(t,i),h=0;i+=4;var o=A.l(t,i);i+=4,s.rect=new et(0,0,l,o);var f=A.l(t,i);i+=4;var u=A.NQ(t,i);i+=u.lr,s.uf(u.Pg);var p={};if(i=ae.g6(t,i,p),p[Xe.Ko]){var c=p[Xe.Ko];h=c.length/4-1}if(p[Xe.mh]&&(s.rect.x=A.tF(p[Xe.mh],0),s.rect.y=A.tF(p[Xe.mh],4)),p[Xe.hf]&&(s.opacity=A.l(p[Xe.hf],0)),p[Xe.a34]&&(s.add.lsct=Ci.lw,s.rect=new et(0,0,0,0),s.buffer=v.R(0),s.ix=24),p[Xe.Po]){var d=A.l(p[Xe.Po],0);s.sW=Xe.a6n[d],s.fO()&&s.sW=="norm"&&(s.sW="pass")}if(p[Xe.Y4]&&A.l(p[Xe.Y4],0)==0&&(s.ix+=2),p[Xe.Ee]){var g=A.l(p[Xe.Ee],0);s.add.lsct=g&!0?Ci.lw:Ci.kE}if(p[Xe.KR]){var b=p[Xe.KR];for(var m in b){var x=b[m];if(m=="gimp-text-layer"){var M=ae.a92(x),S=M.text,w=M.font,k=M.color,T=M["font-size"];if(S==null&&M.markup){for(var L=new DOMParser,O=L.parseFromString(M.markup,"image/svg+xml");O.firstChild!=null&&O.firstChild.tagName!=null;){O=O.firstChild;var E=O.getAttribute("font"),D=O.getAttribute("foreground"),B=O.getAttribute("size");E!=null&&(w=E),D!=null&&(D=te.HD(D),k=[1,D.U/255,D.S/255,D.i/255]),B!=null&&(T=""+parseFloat(B)/245)}S=O.textContent}s.add.lnsr="rend",s.add.TySh=lt.T_(0,0),s.add.TySh.xa=new et(0,0,100,100),s.add.TySh.O=new Et(1,0,0,1,s.rect.x,s.rect.y);var I=s.add.TySh.MF;lt.v$(I,0,S);var N=lt.lW(I,0,0),V=M.justify,j=M["line-spacing"];if(k&&(N.dS.FillColor={Type:1,Values:[1,parseFloat(k[1]),parseFloat(k[2]),parseFloat(k[3])]}),T&&(T=Math.round(parseFloat(T)),N.dS.FontSize=T,s.add.TySh.O.ye+=Math.min(17,T*.17)),j&&(j=Math.round(parseFloat(j)+N.dS.FontSize*1.2),N.dS.Leading=j,N.dS.AutoLeading=!1),V&&(N.eS.Justification=["left","right","center","fill"].indexOf(V)),w&&w!="Sans-serif"){for(var R=w.toLowerCase(),G="bold italic semi extra regular condensed light".split(" "),Z=R.length,_=0;_<G.length;_++){var U=R.indexOf(G[_]);U!=-1&&U<Z&&R[U-1]==" "&&(Z=U)}Z!=R.length&&(w=w.slice(0,Z-1).split(" ").join("")+"-"+w.slice(Z).split(" ").join("")),lt.oi(N,w)}lt.Ji(I,0,S.length,N);var Y=M["box-width"],$=M["box-height"],P=Y?parseFloat(Y):s.rect.Z,tt=$?parseFloat($):s.rect.h;lt.E5(I,1),lt.Z1(I,[0,0,Math.ceil(P),Math.ceil(tt)])}else console.log("Unknown property "+m)}}for(;e.GX>h;)e.r.push(e.Px()),e.GX--;e.GX=h,(s.add.lsct==Ci.lw||s.add.lsct==Ci.kE)&&e.GX++;var X=n==4?A.l:A.k0;if(s.Mq()){s.buffer=v.R(s.rect.M()*4);var ht=new v._B(s.rect.M()),F=X(t,i);i+=n;var J=X(t,i);i+=n,ae.hv(t,F,ht,r,n,a),v.sA(ht,s.buffer),J!=0&&(s.g=new H.vm,s.g.color=0,s.g.rect=s.rect.clone(),s.g.channel=ae.r6(t,J,r,n,a).AH,p[Xe.i_]&&(s.g.isEnabled=A.l(p[Xe.i_],0)==1))}e.r.push(s)},ae.a92=function(t){var i="("+A.bc(t,0,t.length-1)+")",e=[],r={};return ae.n3(i,1,e),ae.ahO(e,r),r},ae.ahO=function(t,i){for(var e=0;e<t.length;e++){var r=t[e],n=r[0];r.length==2?i[n]=r[1]:i[n]=r.slice(1)}},ae.n3=function(t,i,e){for(;;){if(i>=t.length)throw"e";var r=t.charAt(i);if(i++,r=="("){var n=[];i=ae.n3(t,i,n),e.push(n)}else if(!(r==" "||r==`
`||r=="\r")){if(r==")")return i;if(r=='"'){for(var a=i;;){var s=t[i];if(i++,s=='"')break;s=="\\"&&i++}e.push(JSON.parse(t.slice(a-1,i)))}else{for(var a=i-1;t[i]!=" "&&t[i]!=")";)i++;e.push(t.slice(a,i))}}}},ae.r6=function(t,i,e,r,n){var a=A.l(t,i);i+=4;var s=A.l(t,i);i+=4;var l=A.NQ(t,i);i+=l.lr;var h={};i=ae.g6(t,i,h);var o=new v._B(a*s),f=r==4?A.l:A.k0,u=f(t,i);return i+=r,ae.hv(t,u,o,e,r,n),{AH:o.U,lg:h}},ae.hv=function(t,i,e,r,n,a){var s=A.l(t,i);i+=4;var l=A.l(t,i);i+=4;var h=A.l(t,i);i+=4;var o=n==4?A.l:A.k0,f=o(t,i);i+=n,ae.a10(t,f,e,r,h,n,a)},ae.a10=function(t,i,e,r,n,a,s){var l=A.l(t,i),h=0,o=0;i+=4;var f=A.l(t,i);i+=4;var u=new et(0,0,l,f);s==100||s==150?h=1:s==600?h=4:alert("unsupported bit depth "+s);var p=n/h,h=Math.round(n/p),c=[];i=ae.vL(t,i,c,a);var d=new v._B(64*64*h),g=new et,b=r[Xe.adr][0],m=[d.U,d.S,d.i,d.m];p==3&&v.set(d.m,255);for(var x=Date.now(),M=0;M<f;M+=64)for(var S=0;S<l;S+=64){var w=Math.min(l-S,64),k=Math.min(f-M,64),T=w*k;if(g.Oh(S,M,w,k),ae.ama(t,c[o++],T*h,b,p,m),s==600)for(var L=ae.a19(),O=new Uint32Array(1),E=new Float32Array(O.buffer),D=0;D<p;D++)for(var B=m[D],I=0;I<T;I++){O[0]=B[I]<<24|B[T+I]<<16|B[(T<<1)+I]<<8|B[(T<<1)+T+I]<<0;var N=E[0];N<0?N=0:N>1&&(N=1),B[I]=L[~~(.5+N*1e3)]}v.X6(d,g,e,u)}},ae.a19=function(){var t=ae.a0_;if(t!=null)return t;t=ae.a0_=new Uint8Array(1001);for(var i=0;i<1001;i++)t[i]=~~(.49+255*v.SU(i*.001));return t},ae.ama=function(t,i,e,r,n,a){if(r==1)for(var s=0;s<n;s++)for(var l=a[s],h=0;h<e;){var o=t[i];if(i++,o<127){var f=t[i];i++,o++;for(var u=0;u<o;u++)l[h+u]=f}else if(o==127){var p=t[i];i++;var c=t[i];i++;var f=t[i];i++,o=p<<8|c;for(var u=0;u<o;u++)l[h+u]=f}else if(o==128){var p=t[i];i++;var c=t[i];i++,o=p<<8|c;for(var u=0;u<o;u++)l[h+u]=t[i+u];i+=o}else{o=256-o;for(var u=0;u<o;u++)l[h+u]=t[i+u];i+=o}h+=o}else if(r==2)for(var d=pako.inflate(t.slice(i)),g=Math.round(d.length/e),u=0;u<e;u++){var b=u*g;a[0][u]=d[b],a[1][u]=d[b+1],a[2][u]=d[b+2],a[3][u]=g==3?255:d[b+3]}else alert("Unknown compression "+r)},ae.vL=function(t,i,e,r){for(var n=r==4?A.l:A.k0;;){var a=n(t,i);if(i+=r,a==0)break;e.push(a)}return i},ae.g6=function(t,i,e){for(;;){var r=A.l(t,i);i+=4;var n=A.l(t,i);if(i+=4,r==Xe.aad)break;r==Xe.KR?e[r]=ae.aaN(t,i,i+n):e[r]=A.JN(t,i,n),i+=n}return i},ae.aaN=function(t,i,e){for(var r={};i<e;){var n=A.NQ(t,i);i+=n.lr;var a=A.l(t,i);i+=4,a!=1&&console.log("unknown flags",a);var s=A.l(t,i);i+=4,r[n.Pg]=A.JN(t,i,s),i+=s}return r};var Xe={aad:0,ad3:1,a1u:2,amH:3,a88:4,aa0:5,hf:6,Po:7,Y4:8,a48:9,akN:10,i_:11,a6M:12,afY:13,abz:14,mh:15,a7H:16,adr:17,a8c:18,a9f:19,a2U:20,KR:21,a6s:22,akc:23,ab6:24,ad5:25,a9Z:26,acX:27,abK:28,a34:29,Ko:30,Ee:31,a6e:32,acl:33,agO:34,acQ:35,aaR:36,afz:37,a7I:38,a9O:0,aaO:1,a90:2,a5Z:3,a3w:1,age:2,a57:0,adO:1,ahu:1};Xe.a6n="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");function Ei(){}Ei.ee=function(t,i){var e=Ei,r=Me.parse(t),n=0;r.pages.length>1&&console.log(r.pages.length,"pages");for(var a=[],s=new et,l=0;l<r.pages.length;l++){var h=r.pages[l],o=h.layers,f=e.nP(o,l),u=!1;if(f.M()>8e3*8e3||f.Z>3e4||f.h>3e4){e.K0(o,!0);var p=e.nP(o,l);p.M()>=f.M()&&e.K0(o,!1)}f=e.nP(o,l);for(var c=0;c<o.length;c++){var d=o[c];e.xd(d)=="artboard"&&(u=!0)}if(!u){console.log("no artboard");var g={};for(var b in h)g[b]=h[b];g._class="group",h.layers=[g]}a.push(f.clone()),!f.qr()&&(f.x=0,f.y=n,n+=f.h+200,s=s.s7(f))}var m={};if(r.foreignSymbols)for(var x=0;x<r.foreignSymbols.length;x++){var M=r.foreignSymbols[x].symbolMaster;m[M.symbolID]={z7:M}}e.$r(r.pages,m,i);for(var S in m)var d=m[S].z7,w=e.OV(d.layers);var k=Ei.B$(s,8192*8192);i.Lt=!0,i.Z=Math.round(s.Z/k),i.h=Math.round(s.h/k),i.buffer=v.R(i.Z*i.h*4),i.f$(r.pages[0].layers.length),i.o0={},i.bL=[],n=0;for(var l=0;l<r.pages.length;l++){var T=r.pages[l],f=a[l],L=new Et(k,0,0,k,f.x,f.y-n);e.cS(T.layers,i,L,r,m,{},[]),n+=f.h+200}delete i.o0,delete i.bL,k!=1&&alert("File scaled down "+k+"x"),i.a7T()},Ei.a6S=0,Ei.xd=function(t){return t._class?t._class:t.$class},Ei.B$=function(t,i){for(var e=1;Math.round(t.Z/e)*Math.round(t.h/e)>i||Math.max(Math.round(t.Z/e),Math.round(t.h/e))>3e4;)e++;return e!=1&&!window.confirm("Your image is quite large ("+t.Z+" x "+t.h+` px).
Press OK to scale it down `+e+"x, or Cancel to keep the size.")&&(e=1),e},Ei.nP=function(t,i){for(var e=[],r=Ei,n=0;n<t.length;n++){var a=t[n],s=r.g$(a.frame);(i==0||r.xd(a)=="artboard")&&e.push(s)}return v.rect.Nl(e)},Ei.K0=function(t,i){for(var e=[],r=Ei,n=0;n<t.length;n++){var a=t[n],s=r.g$(a.frame);s.Z+=150,s.h+=150,e.push(s)}var l=v.rect.Nl(e);v.rect.aiw(e,i);var h=v.rect.Nl(e);if(h.M()*1.5<l.M()||l.Z>3e4&&h.Z<=3e4||l.h>3e4&&h.h<=3e4){alert("Re-arranging artboards");for(var n=0;n<t.length;n++){var o=e[n],a=t[n],f=a.frame;f.x=o.x,f.y=o.y}}},Ei.$r=function(t,i,e){for(var r=Ei,n=0;n<t.length;n++){var a=t[n],s=r.xd(a);["page","artboard","group"].indexOf(s)!=-1?r.$r(a.layers,i,e):s=="symbolMaster"&&(i[a.symbolID]={z7:a})}},Ei.OV=function(t){for(var i=Ei,e=0;e<t.length;e++){var r=t[e],n=i.xd(r),a=null;if(["page","artboard","group"].indexOf(n)!=-1&&(a=i.OV(r.layers)),(n=="symbolMaster"||n=="symbolInstance")&&(a=r),a!=null)return a}return null},Ei.cS=function(t,i,e,r,n,a,s){for(var l=Ei,h=[],o=0;o<t.length;o++){var f=t[o],u=f.frame?l.g$(f.frame):null,p=f.style,c="",d=null,g=!1;p==null&&console.log("no styles");var b=l.a6(f,e),m=l.xd(f),x=m=="shapeGroup"||m=="shapePath"||m=="rectangle"||m=="oval"||m=="triangle",M=["page","artboard","group"].indexOf(m)!=-1;if(m=="shapeGroup")for(var S=0;S<f.layers.length;S++)l.xd(f.layers[S])=="shapeGroup"&&(M=!0);var w=f.exportOptions;if(w){var k=w.exportFormats;if(k==null&&(k=w.sizes),m!="artboard"&&k&&k.length!=0)var T=k[0].scale}var L=i.an();L.vR(f.isVisible);var O=f.name;if(typeof O!="string"&&(O=m),L.uf(c+O.slice(0,250)),p!=null&&(d=l.ah9(r,i,p,u,b,L.getName(),x||m=="artboard"||M)),m=="rectangle"&&p&&p.fills&&p.fills[0]){var E=p.fills[0];E.fillType==4&&E.patternFillType>1&&E.image!=null&&(g=!0)}if(f.shouldBreakMaskChain)for(;h.length!=0;)l.KS(h.pop(),i);if(M){if(L.add.lsct=f.layerListExpandedType==2?Ci.lw:Ci.kE,L.sW="pass",L.ix=24,L.vR(f.isVisible),i.r.push(i.Px()),m=="artboard"){var D=u.clone(),B=b.d3();D.x=-Math.floor(b.PV/B),D.y=-Math.floor(b.ye/B),D.Z=Math.floor(D.Z/B),D.h=Math.floor(D.h/B),L.BE(D);var I=f.backgroundColor;L.add.artb.Clr={t:"Objc",v:v.j.$H({U:255*I.red,S:255*I.green,i:255*I.blue})},L.add.artb.artboardBackgroundType={t:"long",v:4}}l.cS(f.layers,i,b,r,n,a,s)}else if(x&&!g){L.add.vmsk=new H.iO,L.add.vstk=JSON.parse(JSON.stringify(at.bW.default)),L.add.vstk.strokeEnabled.v=!1,L.add.vogk=[];var N=d!=null&&d.frameFXMulti.v.length==1,V=p?p.fills:null,j=p?l.uo(r,V,u,b,L.getName(),i,l.fn(s,f.do_objectID+"_image")):[];if(j.length==0)N?L.add.vstk.fillEnabled.v=!1:L.add.iOpa=0,L.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.j.$H({U:0,S:0,i:0})}};else{var R=j[0],G=null,Z=null;if(R.type=="SoFi"&&(G="SoCo",Z=at.QB),R.type=="GrFl"&&(G="GdFl",Z=at.Zt),R.type=="patternFill"&&(G="PtFl",Z=at.QZ),G!=null){L.add[G]={classID:"null"};for(var S=0;S<Z.length;S++){var _=Z[S];L.add[G][_]=R.C.v[_]}var U=R.C.v.Opct.v.val;N&&U==0?L.add.vstk.fillEnabled.v=!1:L.add.iOpa=Math.round(255*U/100)}}L.ix|=16,L.add.vmsk.b=l.Hy(f.layers?f.layers:[f],f.layers?b:e,L.add.vogk);var Y=p?p.blur:null;if(Y&&Y.isEnabled&&Y.type<=1&&(L.add.vmsk.bM=Y.radius),L.add.vmsk.b.length==2&&console.log("shape with no content:",L.getName()),N){var $=d.frameFXMulti.v[0].v,P=L.add.vstk,tt=p.borders[0];d.frameFXMulti.v=[],St.sa($,P);var X=p.borderOptions,ht=p.miterLimit;if(X){var F=X.dashPattern;P.strokeStyleLineCapType.v.strokeStyleLineCapType=at.bW.Bb[X.lineCapStyle],P.strokeStyleLineJoinType.v.strokeStyleLineJoinType=at.bW.join[X.lineJoinStyle],F&&(P.strokeStyleLineDashSet.v=St.oB(F,1/$.Sz.v.val)),ht!=null&&(P.strokeStyleMiterLimit.v=ht)}}L._V(i)}else if(m=="bitmap"||g){var J=g?p.fills[0]:null,Q=g?J.image.bdata:f.image.bdata,rt=i.f6(Q,L.getName(),0,0);rt.ix=L.ix,L=rt;var Y=p.blur,it=p.colorControls;if(Y||it){L.add.SoLd.filterFX=Zt.U$(),i.Bq({id:L.add.SoLd.placed.v,rect:new et,buffer:v.R(1),g:new H.vm});var V=L.add.SoLd.filterFX.v.filterFXList.v;if(Y){var nt=Zt.Sb("GsnB",{});nt.v.enab.v=Y.isEnabled,nt.v.Fltr.v.Rds.v.val=Y.radius,V.push(nt)}if(it){var ot=it.brightness,pt=it.contrast,yt=it.hue,ct=it.saturation;if(yt!=0||ct!=1){var nt=Zt.Sb("hue2",{});nt.v.enab.v=it.isEnabled,rr._j(nt.v.Fltr.v,0,[Math.round(yt*180/Math.PI),Math.round((ct-1)*100),0]),V.push(nt)}if(ot!=0||pt!=1){var nt=Zt.Sb("brit",{});nt.v.enab.v=it.isEnabled,pt=pt-1,pt>0&&(pt/=2);var vt=nt.v.Fltr.v;vt.Brgh.v=Math.round(ot*255),vt.Cntr.v=Math.round(pt*255),vt.useLegacy.v=!0,V.push(nt)}}}if(g){var wt=J.patternFillType;if(wt==3){var Mt=L.rect.Z/L.rect.h,Ct=u.Z/u.h;Mt<Ct?(b.translate(-(u.Z*(1-Mt/Ct))/2,0),b.scale(Ct/Mt,1)):(b.translate(0,-(u.h*(1-Ct/Mt))/2),b.scale(1,Mt/Ct))}}u.x=u.y=0;var gt=v.D.z0(u).d;b.nJ(),v.D.O(gt,b,gt),L.add.SoLd.Trnf=C.X.uE(gt),L.add.SoLd.nonAffineTransform=C.X.uE(gt),L.Gy(i,!1)}else if(m=="text"){if(f.attributedString==null)continue;var bt=b.clone(),xt,Dt,Ot=0;bt.nJ(),bt.m=bt.xA=Math.min(bt.m,bt.xA),L.add.lnsr="rend",L.add.TySh=lt.T_(0,0),L.add.TySh.xa=new et(0,0,u.Z,u.h),L.add.TySh.O=bt;var kt=f.attributedString;kt.archivedAttributedString&&(kt=kt.archivedAttributedString);var mt=kt.NSString;mt==null&&(mt=kt.string),mt==null&&(mt=""),mt["NS.string"]&&(mt=mt["NS.string"]),a[f.do_objectID]!=null&&(mt=a[f.do_objectID]);var It=l.fn(s,f.do_objectID+"_stringValue");if(It&&(mt=It.value),kt.attributes!=null){xt=[],Dt=[];for(var Bt=kt.attributes,S=0;S<Bt.length;S++)xt.push(Bt[S].length,S),Dt.push(Bt[S].attributes)}else kt.NSAttributeInfo==null?(xt=[mt.length,0],Dt=[kt.NSAttributes]):(xt=kt.NSAttributeInfo["NS.data"],Dt=kt.NSAttributes,xt=Ei.a5$(xt,Dt));for(var S=0;S<xt.length;S+=2)Ot+=xt[S];if(Ot!=mt.length){for(;Ot>mt.length;)xt[xt.length-2]--,Ot--,xt[xt.length-2]==0&&(xt.pop(),xt.pop());xt[xt.length-2]+=mt.length-Ot}mt=mt.replace(/\u2028/g,`
`),mt=mt.replace(/\u2029/g,`
`),mt=mt.replace(/\r/g,`
`);var Ut=L.add.TySh.MF;if(lt.v$(Ut,0,mt),mt!=""){var qt=f.textBehaviour,Gt=p.textStyle,zt=Gt?Gt.verticalAlignment:0,Nt=l.a7s(Ut,xt,Dt,mt),B=bt.d3(),Kt=lt.lW(Ut,0,1),ai=0;if(Kt.dS.Font){var fi=Kt.Dm[Kt.dS.Font].Name;(fi=="FontAwesome"||fi=="Ionicons")&&(Nt*=.87)}var di=Kt.dS.AutoLeading?0:Kt.dS.Leading*.6,$t=Math.max(Nt,di)*B,si=u.Z,li=u.h;if(qt==0){lt.E5(Ut,0);var Li=lt.Wk(Kt.eS);Li==1&&(ai=si*B),Li==2&&(ai=si*B*.5),zt==0?$t*=1:$t*=.9}else lt.E5(Ut,1),lt.Z1(Ut,[0,0,Math.round(si),Math.round(li)]),qt==2&&zt==0?$t=$t*.2:qt==2&&zt==1?$t=B*.5*(li-Kt.dS.FontSize):qt==1&&zt==0?$t=$t*.2:$t=$t*.35;L.add.TySh.O.translate(ai,$t)}}else if(m=="symbolInstance"||m=="symbolMaster"){var vi=f.symbolID;a[f.do_objectID]&&(vi=a[f.do_objectID].symbolID);var yi=l.fn(s,f.do_objectID+"_symbolID");if(yi&&(vi=yi.value),vi=="")continue;var _t={};for(var _ in a)_t[_]=a[_];if(f.overrides)for(var _ in f.overrides)_t[_]=f.overrides[_];var wi=s.slice(0);f.overrideValues&&(wi=wi.concat(f.overrideValues));var Zi=n[vi];if(Zi==null){console.log("Unknown master master",f.symbolID);continue}var Vi=Ei.g$(Zi.z7.frame),Mi=Vi.Z/u.Z,ce=Vi.h/u.h,Ri=b.clone();Ri.scale(Mi,ce),L.add.lsct=Ci.kE,L.sW="pass",L.ix=24,L.vR(f.isVisible),i.r.push(i.Px());var zi=Zi.z7;i.bL.indexOf(zi)==-1&&(i.bL.push(zi),l.cS(zi.layers,i,Ri,r,n,_t,wi),i.bL.pop())}else if(m=="slice"){console.log("slice layers are ignored by now");continue}else{console.log("unknown layer type: "+m,f);continue}if(p&&p.contextSettings){var ee=p.contextSettings,Be=ee.blendMode;Be<l.HF.length&&(L.sW=ti.YA[ti.zn.indexOf(l.HF[Be])],M&&L.sW=="norm"&&(L.sW="pass")),L.opacity=Math.round(L.opacity*ee.opacity)}d!=null&&(L.add.lmfx=d),i.r.push(L),f.hasClippingMask&&t.length>1&&(h.push(L),i.r.push(i.Px()))}for(;h.length!=0;)l.KS(h.pop(),i)},Ei.fn=function(t,i){for(var e=0;e<t.length;e++)if(t[e].overrideName.startsWith(i))return t[e]},Ei.a5$=function(t,i){for(var e=0,r=[];e+1<t.length;){var n=t[e];e++,n>127&&(n+=128*(t[e]-1),e++,t[e-1]>127&&(n+=128*(t[e]-1),e++));var a=t[e];e++,r.push(n,a)}return r},Ei.a7s=function(t,i,e,r){for(var n=Ei,a=0,s=0,l=0,h=0;h<r.length;h++){var o=r.charCodeAt(h),f=1473<=o&&o<=1479||1488<=o&&o<=1514||1520<=o&&o<=1524,u=1569<=o&&o<=1594||1600<=o&&o<=1749;(f||u)&&a++}for(var p=a>r.length/2,h=0;h<i.length;h+=2){var c=i[h],d=14,g="AlibabaPuHuiTi-Regular";if(c!=0){var b=i[h+1],m=e[b],x=lt.lW(t,s,s+c-1),M=m.NSColor;if(M==null){var M=m.MSAttributedStringColorDictionaryAttribute;M==null&&(M=m.MSAttributedStringColorAttribute),M==null?M="0 0 0":M=[M.red,M.green,M.blue].join(" ")}else if(n.xd(M)=="MSArchivedColor")M=M.dr+" "+M.dg+" "+M.db;else if(M.NSRGB)M=M.NSRGB,M=A.$o(M,0,M.length-1);else if(M.NSCMYK){M=M.NSCMYK,M=A.$o(M,0,M.length-1),M=M.split(" ").map(parseFloat);var S=1-M[0],w=1-M[1],k=1-M[2],T=1-M[3];M=S*T+" "+w*T+" "+k*T}else M.NSWhite&&(M="1 1 1");M=M.split(" "),x.dS.FillColor={Type:1,Values:[1,parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2])]};var L=m.MSAttributedStringFontAttribute;if(m.NSFont)d=m.NSFont.NSSize,g=m.NSFont.NSName;else if(L){if(L.attributes)L=L.attributes,d=L.size,g=L.name;else{var O=L.NSFontDescriptorAttributes;O==null&&(O=L.UIFontDescriptorAttributes),L=O,d=L.NSFontSizeAttribute,g=L.NSFontNameAttribute}g==null&&(g="AlibabaPuHuiTi-Regular")}var l=Math.max(l,d);x.dS.FontSize=Math.round(d),lt.oi(x,g);var E=m.NSKern;E==null&&(E=m.kerning),E!=null&&(x.dS.Tracking=Math.round(1e3*E/d)),m.NSUnderline!=null&&(x.dS.Underline=m.NSUnderline>0),m.NSStrikethrough!=null&&(x.dS.Strikethrough=m.NSStrikethrough>0),m.MSAttributedStringTextTransformAttribute==1&&(x.dS.FontCaps=2);var D=m.NSParagraphStyle;if(D==null&&(D=m.paragraphStyle),D){var B=D.paragraphSpacing;B!=null&&(x.eS.SpaceAfter=B);var I=D.NSAlignment;if(I==null&&(I=D.alignment),I!=null){var N=0;I==1?N=1:I==2?N=2:I==4?N=0:(N=I,console.log("unknown align",I)),p&&N<2&&(N=1-N),x.eS.Justification=N}var V=D.NSMinLineHeight;V==null&&(V=D.minimumLineHeight),V!=null&&(x.dS.AutoLeading=!1,x.dS.Leading=V)}x.eS._Direction=p?1:0,lt.Ji(t,s,s+c,x),s+=c}}return l},Ei.ah9=function(t,i,e,r,n,a,s){for(var l=Ei,h=JSON.parse(at.default),o=!1,f=0;f<at.order.length;f++)h[at.og[f]]={t:"VlLs",v:[]};for(var u=e.fills,p=l.uo(t,u,r,n,a,i),c=0;c<2;c++){var d=e[["shadows","innerShadows"][c]];if(d!=null)for(var g=["DrSh","IrSh"][c],b=at.og[at.order.indexOf(g)],f=0;f<d.length;f++){var m=d[f];if(!!m.isEnabled&&!(m.contextSettings.opacity==0||m.color.alpha==0)){var x=JSON.parse(at.IW[at.order.indexOf(g)]);h[b].v.unshift({t:"Objc",v:x}),o=!0,x.Clr.v=l.HD(m.color),x.blur.v.val=Math.round(m.blurRadius/n.d3());var M=n.clone();M.PV=M.ye=0,M.nJ();var S=M.aT(new st(m.offsetX,m.offsetY)),w=Math.sqrt(S.x*S.x+S.y*S.y);x.Dstn.v.val=Math.round(w),x.lagl.v.val=Math.round(Math.atan2(S.y,-S.x)*(180/Math.PI)),x.layerConceals&&(x.layerConceals.v=p.length!=0),l.gt(m,x)}}}var k=e.borders;if(k!=null&&(p.length==0||e.blur==null||!e.blur.isEnabled))for(var f=0;f<k.length;f++){var T=k[f];if(!!T.isEnabled){var x=JSON.parse(at.IW[at.order.indexOf("FrFX")]),b=at.og[at.order.indexOf("FrFX")];if(h[b].v.unshift({t:"Objc",v:x}),o=!0,x.Clr.v=l.HD(T.color),T.fillType!=0&&T.gradient){for(var L=l.Qd(T.gradient,r,n,a),O=["Type","Angl","Ofst","Scl"],f=0;f<O.length;f++)x[O[f]]=L[O[f]];x.Grad.v=L.Grad.v,x.PntT.v.FrFl="GrFl"}x.Sz.v.val=T.thickness/n.d3(),x.Styl.v.FStl=["CtrF","InsF","OutF"][T.position],l.gt(T,x)}}for(var f=s?1:0;f<p.length;f++){var E=p[f],b=at.og[at.order.indexOf(E.type)];h[b].v.unshift(E.C),o=!0}return o?h:null},Ei.uo=function(t,i,e,r,n,a,s){if(i==null)return[];for(var l=Ei,h=[],o=0;o<i.length;o++)i[o].isEnabled&&h.push(i[o]);i=h;for(var f=[],o=0;o<i.length;o++){var u=i[o],p=null,c=null;if(u.fillType==0){p="SoFi";var d=JSON.parse(at.IW[at.order.indexOf("SoFi")]);c={t:"Objc",v:d},c.v.Clr.v=l.HD(u.color)}else if(u.fillType==1)p="GrFl",c={t:"Objc",v:l.Qd(u.gradient,e,r,n)};else if(u.fillType==4&&u.image!=null){var g=u.image;s&&(g=s.value);var b=ft.Xh(g.bdata.buffer);if(b!=null&&b!="pdf"&&b!="eps"){var m,x=0,M=0,S=0;if(a.o0[g.key])m=a.o0[g.key];else{var w=ft.$I(b).xo(g.bdata)[0],k=w.ym.clone();m={},m.id=Pt.vs()+"-d71c-11e5-b1ae-a548a96e5f9f",m.name="someImage",m.Jx=[new Uint8Array(w.data),k],a.e6(m),a.o0[g.key]=m}var T=m.Jx[1],d=JSON.parse(at.IW[at.order.indexOf("patternFill")]);p="patternFill",c={t:"Objc",v:d};var L=u.patternFillType,O=u.patternTileScale;d.Algn.v=!0,d.Ptrn.v.Idnt.v=m.id,L==0?(x=O*T.Z/Math.min(T.Z,T.h),M=-r.PV,S=-r.ye):(x=Math.max(e.Z/T.Z,e.h/T.h),M=-r.PV-(T.Z*x-e.Z)/2,S=-r.ye-(T.h*x-e.h)/2),d.Scl.v.val=100*x*(1/r.d3()),d.phase.v.Hrzn.v=Math.round(M/r.d3()),d.phase.v.Vrtc.v=Math.round(S/r.d3())}}else u.fillType==5?console.log("fill type Noise not supported yet"):console.log("unknown fill type",u.fillType);p!=null&&(l.gt(u,c.v),f.push({type:p,C:c}))}return f},Ei.ah8=function(t){var i=Ei,e=new et(0,0,1,1);for(t=t.slice(0);;){for(var r=!1,n=0;n<t.length-1;n++){var a=t[n],s=t[n+1],l=null,h=a.contextSettings;if(a.fillType==0&&(h==null||h.opacity==1&&h.blendMode==0)&&a.color.alpha==1){var o="norm",f=1,h=s.contextSettings;if(h&&(f=h.opacity,o=ti.pT(i.HF[h.blendMode])),s.fillType==0&&(l=JSON.parse(JSON.stringify(s)),i.Y6(l.color,a.color,l.color,e,o,f)),s.fillType==1){l=JSON.parse(JSON.stringify(s));for(var u=l.gradient.stops,p=0;p<u.length;p++)i.Y6(u[p].color,a.color,u[p].color,e,o,f)}if(l!=null&&l.contextSettings){var h=l.contextSettings;h.opacity=1,h.blendMode=0}}if(l!=null){t.splice(n,0,l),r=!0;break}}if(!r||t.length<2)break}return t},Ei.Y6=function(t,i,e,r,n,a){var s=Ei,l=v.R(4);s.dH(t,l);var h=v.R(4);s.dH(i,h),v.N.DO(n,l,r,h,r,r,a),s.aci(h,e)},Ei.dH=function(t,i){i[0]=255*t.red,i[1]=255*t.green,i[2]=255*t.blue,i[3]=255*t.alpha},Ei.aci=function(t,i){i.red=t[0]/255,i.green=t[1]/255,i.blue=t[2]/255,i.alpha=t[3]/255},Ei.KS=function(t,i){t=t.clone(),t.ix=24,t.uf("Mask by "+t.getName()),i.r.push(t),t.add.lsct=Ci.lw,t.add.lyid=i.kV(),delete t.add.lmfx,delete t.add.SoCo,delete t.add.GdFl,delete t.add.PtFl,delete t.add.iOpa,t.add.vmsk&&(t.add.vmsk.G2=!0),t._V(i),(t.ix&16)==16&&(t.ix-=16),(t.ix&2)==2&&(t.ix-=2),t.sW="pass",t.opacity=255},Ei.HF="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" "),Ei.Qd=function(t,i,e,r){e=e.clone(),e.nJ(),e.PV=e.ye=0;var n=e.d3(),a=0,s=0;e.scale(1/n,1/n);var l=Ei,h=JSON.parse(at.IW[at.order.indexOf("GrFl")]),o=h.Grad.v;if(o.Intr.v=0,t==null)return h;var f=t.gradientType,u=l.M5(t.from),p=l.M5(t.to);u.offset(-.5,-.5),p.offset(-.5,-.5),u=e.aT(u),p=e.aT(p);var c=Math.atan2(-(p.y-u.y),p.x-u.x);h.Type.v.GrdT=["Lnr","Rdl","Angl"][f],h.Scl.v.val=100*st.Yj(u,p),f==0&&(h.Angl.v.val=180/Math.PI*c,h.Scl.v.val=100*st.Yj(u,p),a=(u.x+p.x)/2,s=(u.y+p.y)/2),f==1&&(h.Scl.v.val=200*st.Yj(u,p),a=u.x,s=u.y),f==2&&(h.Angl.v.val=180/Math.PI*(c-Math.PI/2));var d=h.Ofst.v;d.Hrzn.v.val=a*100,d.Vrtc.v.val=s*100;for(var g=[],b=0;b<t.stops.length;b++){var m=t.stops[b],x=m.color;g.push([m.position,x?[x.red,x.green,x.blue]:[0,0,0],x.alpha])}return v.j.nO(g,o),h},Ei.gt=function(t,i){var e=Ei,r=1,n=t.contextSettings;n!=null?(i.Md.v.BlnM=e.HF[n.blendMode],r*=n.opacity):i.Md.v.BlnM=e.HF[0],i.enab.v=t.isEnabled,i.uglg!=null&&(i.uglg.v=!1),t.color!=null&&(r*=t.color.alpha),i.Opct.v.val=Math.round(r*100)},Ei.HD=function(t){return v.j.$H(t?{U:t.red*255,S:t.green*255,i:t.blue*255}:{U:0,S:0,i:0})},Ei.Hy=function(t,i,e){for(var r=Ei,n=[{type:6},{type:8,all:0}],a=0;a<t.length;a++){var s=t[a],l=s.booleanOperation,h=0,o=s._class,f=!1;if(o=="group"||o=="text"||o=="symbolInstance"||o=="slice"){console.log(o+" inside ShapeGroup");continue}l==-1?h=0:l==0?h=1:l==1?h=2:l==2?h=3:l==3&&(h=0),a==0&&(h=1);for(var u=Ei.g$(s.frame),p=r.a6(s,i),c=s.path?s.path:s,d=[{type:0,length:0,IO:h,yU:2,Oj:0,UB:0}],g=c.points,b=0;b<g.length;b++){var m=g[b],x=r.M5(m.curveTo),M=r.M5(m.point),S=r.M5(m.curveFrom);f=f||m.hasCurveFrom&&!S.Qn(M)||m.hasCurveTo&&!x.Qn(M)}var w=[];if(f){var O=g.length;d[0].length=O;for(var b=0;b<O;b++){var m=g[b],E=m.curveMode,D=r.M5(m.point);d[1+b]={type:E==2||E==4?1:2,wU:m.hasCurveTo?r.M5(m.curveTo):D.clone(),_:D,dv:m.hasCurveFrom?r.M5(m.curveFrom):D.clone()}}p.scale(1/u.Z,1/u.h),p.nJ(),v.V.G5(d,p);for(var w=[],b=0;b<O;b++){var m=g[b],E=m.curveMode,B=m.cornerRadius;E==1&&B!=0?w.push(B):w.push(0)}}else{var k=[],T=g.length;if(T==0)continue;for(var b=0;b<T;b++){w[b]=g[b].cornerRadius;var m=r.M5(g[b].point);k.push(m.x,m.y)}p.scale(1/u.Z,1/u.h),p.nJ(),v.D.O(k,p,k);var L=v.V.a9(k,w);d=d.concat(L),d[0].length=d.length-1}if(!c.isClosed)for(var b=0;b<d.length;b++)d[b].type+=3;n=n.concat(d);var I=v.P$.Zm(),N=r.xd(s);if(p.i==0&&p.p$==0){var V=p.PV,j=p.ye,R=V+p.m,G=j+p.xA,Z=[V,j,R,G];N=="rectangle"&&w.length==4&&(I=v.P$.Rr(2,Z,w)),N=="oval"&&(I=v.P$.Rr(5,Z))}e.push(I)}return n},Ei.a6=function(t,i){var e=i.clone(),r=t.frame?Ei.g$(t.frame):null;return r&&e.translate(-r.x-r.Z/2,-r.y-r.h/2),t.isFlippedHorizontal&&e.scale(-1,1),t.isFlippedVertical&&e.scale(1,-1),e.rotate(-t.rotation*(Math.PI/180)),r&&e.translate(r.Z/2,r.h/2),e},Ei.M5=function(t){return t=t.slice(1,t.length-1).split(","),new st(parseFloat(t[0]),parseFloat(t[1]))},Ei.g$=function(t){return new et(t.x,t.y,t.width,t.height)},Ei.iE=function(t){return{_class:"rect",constrainProportions:!1,x:t.x,y:t.y,width:t.Z,height:t.h}};function Bn(){}Bn.ee=function(t,i){for(var e=Date.now(),r=Bn,n=UZIP.parse(t),a=JSON.parse(A.bc(n.manifest)),s=JSON.parse(A.bc(n["resources/graphics/graphicContent.agc"])).resources,l=[],h=a.children,o=0;o<h.length;o++){var f=h[o];if(f.name=="artwork"){for(var u=f.children,p=0;p<u.length;p++)if(u[p]["uxdesign#bounds"]){var c=u[p],d=JSON.parse(A.bc(n["artwork/"+c.path+"/graphics/graphicContent.agc"]));if(d.children.length!=1)throw"e";c._node=d.children[0],l.push(c)}}}for(var g=[],b=new et,o=0;o<l.length;o++){var c=l[o],m=Ei.g$(c["uxdesign#bounds"]);g.push(m),b=b.s7(m)}var x=Ei.B$(b,8192*8192);i.Lt=!0,i.Z=Math.round(b.Z/x),i.h=Math.round(b.h/x),i.buffer=v.R(i.Z*i.h*4),i.f$(l.length);var M=new Et(x,0,0,x,b.x,b.y);i.o0={};for(var o=0;o<l.length;o++){var c=l[o],m=Ei.g$(c["uxdesign#bounds"]),S=c._node,w=M.clone(),k=m.clone(),T=w.d3();w.translate(-m.x,-m.y),k.x=-Math.floor(w.PV/T),k.y=-Math.floor(w.ye/T),k.Z=Math.floor(k.Z/T),k.h=Math.floor(k.h/T),w.translate(m.x,m.y),Bn.xf(S,i,w,s,n,k);var L=i.r[i.r.length-1];L.uf(c.name),L.BE(k),o!=l.length-1&&(L.add.lsct=Ci.kE)}delete i.o0},Bn.FB=function(t){return t==null?new Et:new Et(t.a,t.b,t.c,t.d,t.tx,t.ty)},Bn.xf=function(t,i,e,r,n,a){var s=Bn,l=t.type,h=t[l],o=t.style,f=s.FB(t.transform),u,p="none",c,d="none",g,b;f.nJ();var m=e.clone();m.concat(f);var x=i.an(),M=t.name;if(x.uf(M?M.slice(0,250):"Layer"),t.visible!=null&&x.vR(t.visible),o){if(u=o.stroke,p=u?u.type:"none",c=o.fill,d=c?c.type:"none",g=o.filters,b=o.clipPath,b&&r.clipPaths[b.ref]?b=r.clipPaths[b.ref].children:b=null,o.opacity&&(x.opacity=Math.round(255*o.opacity)),d=="solid"&&c.color.alpha&&(x.opacity=Math.round(x.opacity*c.color.alpha)),g){x.add.lmfx=s.acZ(g);for(var S=0;S<g.length;S++)if(g[S].type=="uxdesign#blur"){var w=g[S],k=w.params,T=k.brightnessAmount;T==null&&(T=0),T=Math.abs(T/100),(w.visible==null||w.visible==!0)&&k.backgroundEffect&&(x.opacity=Math.round(x.opacity*(T+(1-T)*k.fillOpacity)))}}d=="pattern"&&c.pattern.meta.ux.uid==""&&(d="none")}if(b==null&&t.meta&&t.meta.ux&&t.meta.ux.clipPathResources&&(b=t.meta.ux.clipPathResources.children),l=="artboard"||l=="group"){if(b){var L=b[0],O=L.shape,E=O!=null&&O.type=="rect"&&O.width*O.height>1e6;if(L.type!="text"&&!E){var f=s.FB(L.transform);f.nJ();var D=m.clone();D.concat(f),x.add.vmsk=new H.iO,x.add.vmsk.b=s.Hy(O),D=D.clone(),D.nJ(),v.V.G5(x.add.vmsk.b,D),x._V(i)}else E||alert("Clipping by text has been ignored")}x.add.lsct=Ci.lw,x.sW="pass",x.ix=24,t.visible!=null&&x.vR(t.visible),i.r.push(i.Px());var B=h.children,I=c;if(I&&(I=I.color),I&&(I=I.value),c)if(l=="artboard"&&d=="solid")x.BE(new et(0,0,10,10)),x.add.artb.Clr={t:"Objc",v:v.j.$H({U:I.r,S:I.g,i:I.b})},x.add.artb.artboardBackgroundType={t:"long",v:4};else{var N=i.an();N.uf("BACKGROUND"),N.ix|=16,N.add.vstk=JSON.parse(JSON.stringify(at.bW.default)),N.add.vmsk=new H.iO,N.add.vmsk.b=s.Hy({type:"rect",x:a.x,y:a.y,width:a.Z,height:a.h}),s.ku(c,d,m,a,a,N,i,r,n),N._V(i),i.r.push(N)}for(var S=0;S<B.length;S++)Bn.xf(B[S],i,m,r,n,a)}else if(l=="shape"&&t.shape.type=="rect"&&(t.shape.r==null||t.shape.r==0)&&d=="pattern"&&Math.abs(t.shape.width/t.shape.height-c.pattern.width/c.pattern.height)<.01){var V=c.pattern,j=V.meta.ux,R=j.uid,G=n["resources/"+R];if(G==null){console.log(V);return}var Z=i.f6(G,x.getName(),0,0);Z.ix=x.ix,Z.opacity=x.opacity,x=Z;var _=v.D.z0(new et(0,0,V.width,V.height)).d,U=new Et;U.scale(V.width/t.shape.width,V.height/t.shape.height),j.offsetX&&U.translate(-j.offsetX*V.width,0),j.offsetY&&U.translate(0,-j.offsetY*V.height),m.concat(U),m.nJ(),v.D.O(_,m,_),x.add.SoLd.Trnf=C.X.uE(_),x.add.SoLd.nonAffineTransform=C.X.uE(_),x.Gy(i,!1)}else if(l=="shape"){x.ix|=16,x.add.vstk=JSON.parse(JSON.stringify(at.bW.default)),x.add.vmsk=new H.iO,x.add.vmsk.b=s.Hy(h);var Y=v.V.ue(x.add.vmsk.b,null),D=m.clone();D.nJ(),v.V.G5(x.add.vmsk.b,D);var $=v.V.ue(x.add.vmsk.b,null);if(p!="none"){var P=u.color.value,tt,X;tt="SoFi";var ht=JSON.parse(at.IW[at.order.indexOf("SoFi")]);X={t:"Objc",v:ht},X.v.Clr.v=v.j.$H({U:P.r,S:P.g,i:P.b});var F=u.align,J=u.cap;F==null&&(F="center");var Q=x.add.vstk;Q.strokeEnabled.v=!0,Q.strokeStyleLineWidth.v.val=u.width,F&&(Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=at.bW.Ph[["inside","center","outside"].indexOf(F)]),J&&(Q.strokeStyleLineCapType.v.strokeStyleLineCapType=at.bW.Bb[["butt","round","square"].indexOf(J)]);var rt=["SoFi","GrFl","patternFill"].indexOf(tt),it=[at.QB,at.Zt,at.QZ][rt];Q.strokeStyleContent.v={classID:at.bW.bl[0]};for(var nt=Q.strokeStyleContent.v={classID:at.bW.bl[rt]},S=0;S<it.length;S++)nt[it[S]]=X.v[it[S]]}if(g){for(var S=0;S<g.length;S++)if(g[S].type=="uxdesign#blur"&&g[S].visible){var ot=g[S];x.add.vmsk.bM=ot.params.blurAmount}}s.ku(c,d,m,Y,$,x,i,r,n),x._V(i)}else if(l=="text"&&t.text){var pt=t.text,yt=pt.frame,ct=o.font,vt=o.textAttributes,f=m.clone(),wt=0;f.nJ(),x.add.lnsr="rend",x.add.TySh=lt.T_(0,0),x.add.TySh.xa=new et(0,0,100,100),x.add.TySh.O=f;var Mt=x.add.TySh.MF,Ct=pt.rawText.replace(/\r/g,`
`).replace(/\u000b/g,`
`);if(lt.v$(Mt,0,Ct),Ct!=""){var gt=lt.lW(Mt,0,1),bt=ct.postscriptName;if(bt==null&&(bt=ct.family),lt.oi(gt,bt),gt.dS.FontSize=Math.round(ct.size),c){var P=c.color.value;gt.dS.FillColor={Type:1,Values:[1,P.r/255,P.g/255,P.b/255]}}vt&&(vt.paragraphAlign&&(gt.eS.Justification=["left","right","center"].indexOf(vt.paragraphAlign)),vt.letterSpacing&&(gt.dS.Tracking=Math.round(vt.letterSpacing)),vt.lineHeight&&(gt.dS.AutoLeading=!1,gt.dS.Leading=Math.round(vt.lineHeight))),lt.Ji(Mt,0,Ct.length,gt)}var xt=t.meta.ux.rangedStyles;if(xt)for(var S=0;S<xt.length;S++){var h=xt[S],Dt=Math.min(h.length,Ct.length-wt),gt=lt.lW(Mt,wt,wt+Dt),bt=h.postscriptName;bt==null&&(bt=h.family),bt!=null&&lt.oi(gt,bt);var Ot=h.textScript,kt=h.underline,mt=h.fontSize,w=h.fill,It=h.textTransform;if(Ot&&Ot!="none"&&(gt.dS.FontBaseline=Ot=="superscript"?1:2),kt!=null&&(gt.dS.Underline=kt),mt!=null&&(gt.dS.FontSize=Math.round(mt)),It!=null&&(gt.dS.FontCaps=It=="uppercase"?2:0),w!=null){var Bt=w.value;gt.dS.FillColor={Type:1,Values:[1,(Bt>>>16&255)/255,(Bt>>>8&255)/255,(Bt>>>0&255)/255]}}lt.Ji(Mt,wt,wt+Dt,gt),wt+=Dt}yt.type=="area"&&(lt.E5(Mt,1),lt.Z1(Mt,[0,0,yt.width,yt.height]))}else console.log(l,t);i.r.push(x)},Bn.Hy=function(t){var i=t.type,e=[{type:6},{type:8,all:0}];if(i=="rect"){var r=t.r,n=t.x,a=t.y,s=t.width,l=t.height;r==null?e=v.V.Ny.Rect(n,a,s,l,0):e=e.concat([{type:0,IO:1,length:8,Oj:0,UB:0,yU:1}]).concat(v.V.a9([n,a,n+s,a,n+s,a+l,n,a+l],r,!1))}else if(i=="circle"){var r=t.r;e=v.V.Ny.VO(t.cx-r,t.cy-r,2*r,2*r)}else if(i=="ellipse"){var h=t.rx,o=t.ry;e=v.V.Ny.VO(t.cx-h,t.cy-o,2*h,2*o)}else if(i=="path"||i=="compound"){var f=Typr.U.SVGToPath(t.path);e=v.D.sb({W:f.cmds,d:f.crds},!1)}else if(i=="line"){var u=t.x1,p=t.x2,c=t.y1,d=t.y2;e=e.concat([{type:0,IO:1,length:2,Oj:0,UB:0,yU:1}]).concat(v.V.a9([u,c,p,d],0,!0))}else if(i=="polygon"){for(var g=t.points,b=[],m=0;m<g.length;m++)b.push(g[m].x,g[m].y);e=e.concat(v.V.Ny.JF(b,0,!1).slice(2))}else console.log(i,t);return e},Bn.acZ=function(t){for(var i=JSON.parse(at.default),e=0;e<at.order.length;e++)i[at.og[e]]={t:"VlLs",v:[]};for(var e=0;e<t.length;e++){var r=t[e],n=r.type,a=r.params,s=r.visible;if(n=="dropShadow"){var l=at.og[at.order.indexOf("DrSh")],h=JSON.parse(at.IW[at.order.indexOf("DrSh")]);i[l].v.unshift({t:"Objc",v:h});var o=a.dropShadows;if(o.length!=1)throw"e";var f=o[e],u=f.color,p=u.value,c=f.dx,d=f.dy;h.Clr.v=v.j.$H({U:p.r,S:p.g,i:p.b}),h.Opct.v.val=Math.round((u.alpha!=null?u.alpha:1)*100),h.uglg.v=!1,h.enab.v=s!=null?s:!0,h.lagl.v.val=Math.round(180/Math.PI*Math.atan2(d,-c)),h.Dstn.v.val=Math.round(Math.sqrt(c*c+d*d)),h.blur.v.val=Math.round(f.r*2.3)}}return i},Bn.ku=function(t,i,e,r,n,a,s,l,h){var o=Bn;if(i=="none")a.add.vstk.fillEnabled.v=!1,a.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.j.$H({U:0,S:0,i:0})}};else{var f,u,p;if(i=="solid"){var c=t.color.value;f="SoCo",u=at.QB;var d=JSON.parse(at.IW[at.order.indexOf("SoFi")]);p={t:"Objc",v:d},p.v.Clr.v=v.j.$H({U:c.r,S:c.g,i:c.b})}else if(i=="gradient"){f="GdFl",u=at.Zt;var d=JSON.parse(at.IW[at.order.indexOf("GrFl")]),g=d.Grad.v,b,m,x;g.Intr.v=0;var M=t[i],S=M.ref?l.gradients[M.ref]:M.meta.ux.gradientResources,w=["linear","radial"].indexOf(S.type),k=S.stops;if(d.Type.v.GrdT=["Lnr","Rdl","Angl"][w],w==0){var b=new st(M.x1,M.y1),m=new st(M.x2,M.y2);b.x=m.x+.5*(b.x-m.x),b.y=m.y+.5*(b.y-m.y)}else var b=new st(M.cx,M.cy),m=new st(M.cx+M.r,M.cy);if(x=n,M.units=="objectBoundingBox"){var T=new Et(r.Z,0,0,r.h,r.x,r.y);b=T.aT(b),m=T.aT(m)}var T=o.FB(M.transform);b=T.aT(b),m=T.aT(m),T=e.clone(),T.nJ(),b=T.aT(b),m=T.aT(m),v.j.VB(b,m,x,d);for(var L=[],O=0;O<k.length;O++){var E=k[O],D=E.color,c=D.value,B=D.alpha;B==null&&(B=1),L.push([E.offset,[c.r/255,c.g/255,c.b/255],B])}v.j.nO(L,g),p={t:"Objc",v:d}}else if(i=="pattern"){f="PtFl",u=at.QZ;var d=JSON.parse(at.IW[at.order.indexOf("patternFill")]),I,N=1,V=0,j=0,R=1;p={t:"Objc",v:d};var G=t[i],Z=G.meta.ux,_=Z.uid,U=h["resources/"+_].buffer,Y=ft.Xh(U);if(s.o0[_])I=s.o0[_];else{var X=new et(0,0,G.width,G.height),$;if(X.qr())X=new et(0,0,1,1),$=new ArrayBuffer(4);else{var P=ft.$I(Y);if(P.Vi){var tt=new Pt;P.xo(U,tt),$=tt.lD().buffer}else $=P.xo(U)[0].data}I={},I.id=Pt.vs()+"-d71c-11e5-b1ae-a548a96e5f9f",I.name="someImage",I.Jx=[new Uint8Array($),X],s.e6(I),s.o0[_]=I}var X=I.Jx[1];if(d.Algn.v=!0,d.Ptrn.v.Idnt.v=I.id,Z.scaleBehavior=="cover"){N=R*Math.max(n.Z/X.Z,n.h/X.h);var ht=N;Z.scale!=null&&(N*=Z.scale),V=n.x-(X.Z*N-n.Z)/2,j=n.y-(X.h*N-n.h)/2,Z.offsetX!=null&&(V+=Z.offsetX*X.Z*ht),Z.offsetY!=null&&(j+=Z.offsetY*X.h*ht)}else if(Z.scaleBehavior=="fill")N=R*Math.min(n.Z,n.h)/Math.max(X.Z,X.h),V=n.x-(X.Z*N-n.Z)/2,j=n.y-(X.h*N-n.h)/2;else throw"Unknown scale behaviour";d.Scl.v.val=100*N,d.phase.v.Hrzn.v=Math.round(V),d.phase.v.Vrtc.v=Math.round(j)}else console.log(i);if(f!=null){a.add[f]={classID:"null"};for(var O=0;O<u.length;O++){var F=u[O];a.add[f][F]=p.v[F]}}}};function ii(){}ii.ee=function(t,i,e){t=new Uint8Array(t);var r=A.bc(t,0,t.length),n=new DOMParser,a=n.parseFromString(r,"image/svg+xml"),s=a.getElementsByTagName("style")[0],l=1;s?s=Typr.U.SVG.cssMap(s.textContent):s={};for(var h=a.firstChild;h.tagName!="svg";)h=h.nextSibling;var o=new et(0,0,100,100),f=h.getAttribute("viewBox"),u=h.getAttribute("width"),p=h.getAttribute("height");if(f){var c=ii.js(f);o.x=c[0],o.y=c[1],o.Z=c[2],o.h=c[3]}else(u!=null||p!=null)&&(o.Z=u!=null?parseFloat(u):parseFloat(p),o.h=p!=null?parseFloat(p):parseFloat(u));for(o=v.D.pd(o);e&&Math.max(o.Z*l,o.h*l)<Math.max(e[0],e[1]);)l++;i.Lt=!0,i.Z=o.Z*l,i.h=o.h*l,i.buffer=v.R(o.M()*4*l*l);var d=new Et(l,0,0,l,-o.x,-o.y),g={rB:ii.YX(h),ms:s};if(ii.aX(a,h.children,i,d,g,new Et,0),i.r.length==0){var b=i.an();b.uf("Layer"),i.r.push(b)}},ii.js=function(t){var i=" ";return t.indexOf(",")!=-1&&(i=","),t.split(i).map(parseFloat)},ii.aX=function(t,i,e,r,n,a,s){for(var l=ii,h=["display","opacity","fill-opacity"],o=0;o<i.length;o++){var f=i[o],u=f.tagName,p=f.getAttribute("id"),c=l.YX(f,n.ms),d=13,g=1,b="clip-path",m=null;for(var x in n.rB)h.indexOf(x)==-1&&c[x]==null&&(c[x]=n.rB[x]);c["font-size"]&&(d=l.os(c["font-size"],d)),f.getAttribute("dx")&&(r.PV+=l.os(f.getAttribute("dx"),d)),f.getAttribute("dy")&&(r.ye+=l.os(f.getAttribute("dy"),d));var M=l.Ep(f);M.concat(r);var S=f.getAttribute("visibility"),w=c.display,k=e.an();if((S=="hidden"||w=="none")&&k.vR(!1),k.uf(p!=null?p.split(":::")[0]:"Layer"),c.opacity&&(g*=parseFloat(c.opacity)),c["fill-opacity"]){var T=parseFloat(c["fill-opacity"]);T!=0&&(g*=T)}if(k.opacity=Math.round(255*g),c["mix-blend-mode"]){var L=ti.Xf.indexOf(c["mix-blend-mode"]);L!=-1&&(k.sW=ti.YA[L])}if(f.getAttribute(b)==null&&(b="mask"),f.getAttribute(b)!=null){var O=f.getAttribute(b);O=O.slice(4,O.length-1);var E=t.getElementById(O.slice(1));if(E){var D=E.children;m=e.an(),m.uf("Clip-Path"+(p?": "+p:"")),m.add.lsct=s<2?Ci.lw:Ci.kE,m.sW="pass",m.ix=24;var B=m.add.vmsk=new H.iO;e.r.push(e.Px());var I=[];if(E.getAttribute(b)){var O=E.getAttribute(b);O=O.slice(4,O.length-1),I=t.getElementById(O.slice(1)).children}for(var N=0;N<D.length;N++){var V=l.Ep(D[N]);V.concat(M);var j=l.Hy(t,D[N],!1).slice(2);v.V.G5(j,V),B.b=B.b.concat(j)}for(var N=0;N<I.length;N++){var V=l.Ep(D[N]);V.concat(M);for(var j=l.Hy(t,I[N],!1).slice(2),R=0;R<j.length;R++)j[N].IO!=null&&(j[N].IO=3);v.V.G5(j,V),B.b=B.b.concat(j)}m.h7(),m._V(),s++}}if(u=="g"||u=="a"||u=="svg"||u=="switch"||(u=="text"||u=="textPath")&&f.children.length>0){u=="text"&&(a=l.Tj(f,a));var G=f.getAttribute("viewBox"),Z=f.getAttribute("width"),_=f.getAttribute("height");if(G&&Z&&_){var U=ii.js(G),Y=l.Tj(f),$=new Et;$.translate(-U[0],-U[1]),$.scale(parseFloat(Z)/U[2],parseFloat(_)/U[3]),$.translate(Y.PV,Y.ye),$.concat(M),M=$}var P=f.children.length,tt=n.rB;n.rB=c;var X=u!="text"&&u!="textPath"||P>1;if(X){var ht=k.UQ();k.add.lsct=s<2&&ht&&(p==null||!p.endsWith(":::"))?Ci.lw:Ci.kE,k.sW="pass",k.ix=24,k.vR(ht),e.r.push(e.Px())}l.aX(t,f.children,e,M,n,a,s+1),X&&e.r.push(k),n.rB=tt}else if(u=="use"){var $=l.Tj(f);$.concat(M);var F=l.W5(f),J=t.getElementById(F.slice(1)),tt=n.rB;n.rB=c,l.aX(t,[J],e,$,n,a,s+1),n.rB=tt}else if(u=="path"||u=="rect"||u=="circle"||u=="ellipse"||u=="polygon"||u=="polyline"||u=="line"){k.ix|=16,k.add.vmsk=new H.iO,k.add.vstk=JSON.parse(JSON.stringify(at.bW.default)),k.add.vstk.strokeEnabled.v=!1;var Q=k.add.vstk,B=k.add.vmsk;B.b=l.Hy(t,f,c["fill-rule"]=="evenodd"),v.V.G5(B.b,M);var rt=v.V.ue(B.b),it=c.stroke,nt=c["stroke-width"],ot=c["stroke-dasharray"],pt=c.fill,yt=c["stroke-linejoin"],ct=c["stroke-linecap"],vt=c["paint-order"];if(!(it==null||it=="none"||it=="null")){var wt=l.zu(t,it,M,rt),Mt=["SoFi","GrFl","patternFill"].indexOf(wt.type),Ct=wt.C.v.Opct.v,gt=1;Ct.val!=100&&(k.opacity=Math.round(k.opacity*Ct.val/100),Ct.val=100);for(var bt=[at.QB,at.Zt,at.QZ][Mt],xt=Q.strokeStyleContent.v={classID:at.bW.bl[Mt]},N=0;N<bt.length;N++)xt[bt[N]]=wt.C.v[bt[N]];nt=nt?parseFloat(nt):1,vt&&vt.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"&&(gt=2,nt/=2),Q.strokeEnabled.v=!0,yt&&(Q.strokeStyleLineJoinType.v.strokeStyleLineJoinType=at.bW.join[["miter","round","bevel"].indexOf(yt)]),ct&&(Q.strokeStyleLineCapType.v.strokeStyleLineCapType=at.bW.Bb[["butt","round","square"].indexOf(ct)]),Q.strokeStyleLineWidth.v.val=nt*C.X.d3(M),Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=at.bW.Ph[gt],Q.strokeStyleOpacity.v.val=100*(c["stroke-opacity"]?parseFloat(c["stroke-opacity"]):1),ot!=null&&ot!="none"&&(Q.strokeStyleLineDashSet.v=St.oB(ot.split(",").map(parseFloat),1/nt))}if(pt=="none"||c["fill-opacity"]&&parseFloat(c["fill-opacity"])==0)k.add.vstk.fillEnabled.v=!1,k.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.j.$H({U:0,S:0,i:0})}};else{var wt=l.zu(t,pt,M,rt),Dt=null,Ot=null;if(wt.type=="SoFi"&&(Dt="SoCo",Ot=at.QB),wt.type=="GrFl"&&(Dt="GdFl",Ot=at.Zt),wt.type=="patternFill"&&(Dt="PtFl",Ot=at.QZ),Dt!=null){k.add[Dt]={classID:"null"};for(var N=0;N<Ot.length;N++){var x=Ot[N];k.add[Dt][x]=wt.C.v[x]}}}if(c.filter&&c.filter!="none"){var kt=c.filter;if(kt=kt.slice(5,kt.length-1),t.getElementById(kt)){var mt=t.getElementById(kt).children[0];mt.tagName=="feGaussianBlur"&&(k.add.vmsk.bM=parseFloat(mt.getAttribute("stdDeviation"))*C.X.d3(M))}}k.h7(),k._V(e),e.r.push(k)}else if((u=="text"||u=="tspan")&&f.textContent!=""){a=l.Tj(f,a);var $=a.clone(),It=0;if($.concat(M),f.children.length>0){var Bt=l.YX(f.children[0],n.ms);for(var x in Bt)h.indexOf(x)==-1&&(c[x]=Bt[x])}var Ut=c["xml:space"],qt=f.textContent;Ut=="preserve"&&(qt=qt.replace(/\t/g," ").replace(/\n/g," ")),p==null&&k.uf(qt),k.add.lnsr="rend",k.add.TySh=lt.T_(0,0),k.add.TySh.xa=new et(0,0,100,100),k.add.TySh.O=$.clone();var Gt=k.add.TySh.MF;lt.v$(Gt,0,qt);var pt=c.fill,zt=c["font-weight"],Nt=c["font-family"],Kt=c["text-decoration"],it=c.stroke,nt=c["stroke-width"],ai=c["dominant-baseline"];ai=="text-before-edge"?It=d:ai=="middle"?It=d/2:ai=="hanging"&&(It=d),It!=0&&k.add.TySh.O.translate(0,It);var fi=lt.lW(Gt,0,1);if(pt&&pt!="none"){var di=te.HD(pt);fi.dS.FillColor={Type:1,Values:[1,di.U/255,di.S/255,di.i/255]}}if(Kt=="underline"&&(fi.dS.Underline=!0),fi.dS.FontSize=Math.round(d),lt.oi(fi,"LiberationSans"),zt=="bold"&&lt.oi(fi,"LiberationSans-Bold"),Nt){Nt=Nt.split(",")[0].trim(),Nt[0]=='"'&&(Nt=Nt.slice(1)),Nt[Nt.length-1]=='"'&&(Nt=Nt.slice(0,Nt.length-1));var $t=Nt+":"+(zt||"normal"),si={"'DejaVu Sans':normal":"AlibabaPuHuiTi-Regular","'DejaVu Sans':bold":"AlibabaPuHuiTi-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};si[$t]?lt.oi(fi,si[$t]):lt.oi(fi,Nt)}if(c["text-anchor"]&&(fi.eS.Justification=["start","end","middle"].indexOf(c["text-anchor"])),lt.Ji(Gt,0,qt.length,fi),!(it==null||it=="none")){var li=JSON.parse(at.IW[at.order.indexOf("FrFX")]);li.Clr.v=v.j.$H(te.HD(it)),li.Sz.v.val=Math.round(parseFloat(nt)*C.X.d3($));for(var Li=JSON.parse(at.default),N=0;N<at.order.length;N++)Li[at.og[N]]={t:"VlLs",v:[]};Li.frameFXMulti.v.push({t:"Objc",v:li}),k.add.lmfx=Li}e.r.push(k)}else if(u=="image"){var F=l.W5(f);if(F.slice(0,4)=="data"){var vi=ft.ri(F),yi=vi,_t=e.f6(yi,k.getName(),0,0);_t.ix=k.ix,k=_t;var wi=k.rect.clone();wi.x=wi.y=0;var Zi=f.getAttribute("width"),Vi=f.getAttribute("height");Zi&&(wi.Z=parseFloat(Zi)),Vi&&(wi.h=parseFloat(Vi));var Mi=l.Tj(f);Mi.concat(M);var ce=v.D.z0(wi).d;v.D.O(ce,Mi,ce),k.add.SoLd.Trnf=C.X.uE(ce),k.add.SoLd.nonAffineTransform=C.X.uE(ce),k.Gy(e,!1),e.r.push(k)}}else console.log("unknown tag: "+u,f.children.length,f.textContent.length);m!=null&&(e.r.push(m),s--)}},ii.Hy=function(t,i,e){var r=ii,n=[{type:6},{type:8,all:0}],a=i.tagName;if(a=="use"){var s=r.W5(i),l=t.getElementById(s.slice(1)),h=new Et;l.tagName!="rect"&&(h=r.Tj(l)),h.concat(r.Ep(l)),n=r.Hy(t,l,e),v.V.G5(n,h)}else if(a=="path"){var o=i.getAttribute("d");if(o==null)return n;var f=Typr.U.SVGToPath(o);n=v.D.sb({d:f.crds,W:f.cmds},e)}else if(a=="rect"){var u=i.getAttribute("rx"),p=r.Tj(i);n=v.V.Ny.Rect(p.PV,p.ye,parseFloat(i.getAttribute("width")),parseFloat(i.getAttribute("height")),u?parseFloat(u):0)}else if(a=="circle"||a=="ellipse"){for(var c=[0,0,0,0],d=["cx","cy","rx","ry","r"],g=0;g<5;g++){var b=i.getAttribute(d[g]);b&&(b=parseFloat(b),g<4?c[g]=b:c[2]=c[3]=b)}n=v.V.Ny.VO(c[0]-c[2],c[1]-c[3],2*c[2],2*c[3])}else if(a=="polygon"||a=="polyline"||a=="line"){var m;a=="line"?m=[i.getAttribute("x1"),i.getAttribute("y1"),i.getAttribute("x2"),i.getAttribute("y2")].map(parseFloat):m=i.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat),n=v.V.Ny.JF(m,0,a!="polygon")}return n},ii.os=function(t,i){return t.charAt(t.length-1)=="m"?i*parseFloat(t.slice(0,t.length-2)):parseFloat(t)},ii.zu=function(t,i,e,r){var n,a,s=ii,l=JSON.parse(at.IW[at.order.indexOf("SoFi")]),h=i!=null?i.indexOf("("):-1;if(h!=-1){var o=i.indexOf(")"),f=i.slice(0,h).trim(),u=i.slice(h+1,o).trim();if(u.charAt(0)=="'"&&(u=u.slice(1,u.length-1)),f=="url")if(u.charAt(0)=="#"){var p=t.getElementById(u.slice(1));if(p&&p.tagName.toLowerCase().endsWith("gradient")){var c=s.Qd(t,p,e,r);n="GrFl",a={t:"Objc",v:c}}else n="SoFi",a={t:"Objc",v:l}}else console.log("unknown url",u);else f=="rgb"||f=="rgba"?(n="SoFi",a={t:"Objc",v:l},a.v.Clr.v=v.j.$H(te.HD(i)),f=="rgba"&&(a.v.Opct.v.val=Math.round(100*parseFloat(i.split(",").pop())))):console.log("unknown fill",i)}else n="SoFi",a={t:"Objc",v:l},a.v.Clr.v=v.j.$H(te.HD(i));return{type:n,C:a}},ii.Ep=function(t){var i=new Et,e=t.getAttribute("transform");e&&(i=ii.IX(e));var r=t.getAttribute("style");if(r!=null){var n={};ii.WA(n,r,["transform"]),r=n.transform,r&&i.concat(ii.IX(r))}return i},ii.Tj=function(t,i){var e=new Et,r=t.getAttribute("x"),n=t.getAttribute("y");return r?e.PV=parseFloat(r):i&&(e.PV=i.PV),n?e.ye=parseFloat(n):i&&(e.ye=i.ye),e},ii.IX=function(t){var i=Typr.U.SVG.readTrnf(t);return new Et(i[0],i[1],i[2],i[3],i[4],i[5])},ii.YX=function(t,i){for(var e={},r="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" "),n=0;n<r.length;n++){var a=t.getAttribute(r[n]);a!=null&&a!="inherit"&&(e[r[n]]=a)}var s=t.getAttribute("class");i!=null&&s!=null&&i["."+s]!=null&&ii.WA(e,i["."+s],r);var l=t.getAttribute("id");i!=null&&l!=null&&i["#"+l]!=null&&ii.WA(e,i["#"+l],r);var h=t.getAttribute("style");return h!=null&&ii.WA(e,h,r),e},ii.WA=function(t,i,e){i=i.trim().split(";");for(var r=0;r<i.length;r++)for(var n=i[r].split(":"),a=n[0]?n[0].trim():"",s=n[1]?n[1].trim():"",l=0;l<e.length;l++)a==e[l]&&s!="inherit"&&(t[e[l]]=s)},ii.W5=function(t){var i=t.getAttribute("xlink:href");return i==null&&(i=t.getAttribute("href")),i},ii.Qd=function(t,i,e,r){var n=ii,a=new Et,s=i.getAttribute("gradientTransform");s&&(a=n.IX(s)),a.concat(e);var l=JSON.parse(at.IW[at.order.indexOf("GrFl")]),h=l.Grad.v;h.Intr.v=0;var o=i.tagName,f=new st(0,0),u=new st(r.Z,0);o=="linearGradient"&&(l.Type.v.GrdT="Lnr",i.getAttribute("x1")&&(f.x=parseFloat(i.getAttribute("x1"))),i.getAttribute("y1")&&(f.y=parseFloat(i.getAttribute("y1"))),i.getAttribute("x2")&&(u.x=parseFloat(i.getAttribute("x2"))),i.getAttribute("y2")&&(u.y=parseFloat(i.getAttribute("y2"))),f.x=u.x+.5*(f.x-u.x),f.y=u.y+.5*(f.y-u.y)),o=="radialGradient"&&(l.Type.v.GrdT="Rdl",i.getAttribute("cx")&&(f.x=parseFloat(i.getAttribute("cx"))),i.getAttribute("cy")&&(f.y=parseFloat(i.getAttribute("cy"))),u.Oh(f.x,f.y),i.getAttribute("r")&&(u.x+=parseFloat(i.getAttribute("r")))),i.getAttribute("gradientUnits")=="userSpaceOnUse"?(f=a.aT(f),u=a.aT(u)):(f.x=r.x+f.x*r.Z,f.y=r.y+f.y*r.h,u.x=r.x+u.x*r.Z,u.y=r.y+u.y*r.h),v.j.VB(f,u,r,l);var p=i.children;if(p.length==0){var c=n.W5(i);if(c==null)throw"gradient has no stops";var d=t.getElementById(c.slice(1));if(d==null)throw console.log(c.slice(1)),"e";var g=n.Qd(t,d,a,r);l.Grad=g.Grad}else{for(var b=[],m=0;m<p.length;m++){var x=p[m],M=n.YX(x),S=M["stop-color"],w=M["stop-opacity"],k=x.getAttribute("offset");S==null&&(S="#000000"),w==null&&(w="1");var T=k?parseFloat(k):0;S=te.HD(S),b.push([T,[S.U/255,S.S/255,S.i/255],parseFloat(w)])}v.j.nO(b,h)}return l},ii.qx=function(t,i,e){var r=[],n=ii;n.kA=i.pu?"	":"";var a=i.ag3,s=i.aaW;r.push('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+t.Z+" "+t.h+'" width="'+a+'" height="'+s+'">');var l={Ns:[],xX:[],YO:0,PR:0,Mk:0,BB:{},pG:{},S5:0,hI:{},iR:{},gw:0,SN:[]};ii.Vb(t,l,t.root.children,1,i,e),l.Ns.length!=0&&(r.push(n.RC(1)+"<defs>"),r=r.concat(l.Ns),r.push(n.RC(1)+"</defs>")),r.push(n.RC(1)+"<style>"),r.push(n.RC(2)+"tspan { white-space:pre }");for(var h in l.hI)r.push(n.RC(2)+"."+h+" { "+l.hI[h]+" } ");r.push(n.RC(1)+"</style>"),r=r.concat(l.xX),r.push("</svg>"),r=r.join(i.pu?`
`:"");var o=v.R(Math.round(r.length*1.5)),f=A.vr(r,o,0);if(n.Wc){console.log(n.Wc);for(var u=`SVGParser.gen.db = [
`,p=0;p<n.Wc.length;p++){var c=n.Wc[p];u+=`{
	nam: "`+c.st+`",
	pts: [
`;for(var d=0;d<c.A2.length;d++){var g=c.A2[d];u+='		["'+g[0]+'", { cmds: '+JSON.stringify(g[1].W)+", crds:"+JSON.stringify(g[1].d)+" } ]"+(d==c.A2.length-1?"":",")+`
`}u+=`	]
}`+(p==n.Wc.length-1?"":",")+`
`}u+=`]
`,console.log(u)}return o.buffer.slice(0,f)},ii.kA="",ii.RC=function(t){for(var i="",e=0;e<t;e++)i+=ii.kA;return i},ii.EE=function(t){return""+parseFloat(t.toFixed(3))},ii.Vb=function(t,i,e,r,n,a){for(var s=ii,l=0;l<e.length;l++){var h=e[l].n,o=h.add.lsct,f=h.add.vmsk,u=h.add.vstk,p=h.add.TySh,c=[];if(!(!n.hidden&&!h.UQ())){var d=h.opacity/255,g=h.add.iOpa?h.add.iOpa/255:1;if(d!=1&&c.push("opacity: "+s.EE(d)),g!=1&&c.push("fill-opacity: "+s.EE(g)),h.sW!="norm"){var b=ti.Xf[ti.YA.indexOf(h.sW)];b!=null&&c.push("mix-blend-mode: "+b)}h.UQ()||c.push("display: none");var m=[],x=[],M=h.getName(),S=M.indexOf(" .");S!=-1&&(x.push(M.slice(S+2)),M=M.slice(0,S)),n.names&&m.push('id="'+s.dC(M)+'"');var w=h.add.lmfx;if(w&&(w=w.solidFillMulti.v[0]),w&&(w=w.v),w&&!w.enab.v&&(w=null),h.fO()){if(s.Wc&&h.getName().split("-").length==3&&s.Wc.push({st:h.getName(),lv:0,A2:[]}),f||h.add.artb){var k;if(f)k=v.V.j3(f.b).Q7;else{var T=h.sc(),L=v.D.z0(T);k=Typr.U.pathToSVG({crds:L.d,cmds:L.W},2)}i.Mk++,m.push('clip-path="url(#cp'+i.Mk+')"'),i.Ns.push(s.RC(2)+'<clipPath clipPathUnits="userSpaceOnUse" id="cp'+i.Mk+'">'),i.Ns.push(s.RC(3)+'<path d="'+k+'" />'),i.Ns.push(s.RC(2)+"</clipPath>")}c.length!=0&&m.push('style="'+c.join(";")+'"'),i.xX.push(s.RC(r)+"<g "+s.lN(m,x)+">"),s.Vb(t,i,e[l].children,r+1,n,a),i.xX.push(s.RC(r)+"</g>")}else if(h.ws()&&f==null){var O=new et(0,0,t.Z,t.h);s.kz(c,h.add,i,O),c.length!=0&&m.push('style="'+c.join(";")+'"'),i.xX.push(s.RC(r)+'<rect width="'+t.Z+'" height="'+t.h+'" '+s.lN(m,x)+" />")}else if(f){var O=v.V.ue(f.b),k=v.V.j3(f.b);k.RL!=0&&m.push('fill-rule="evenodd"');var E=k.Q7;if(s.kz(c,h.add,i,O),c.length!=0){var D=c.join(";"),B=i.iR[D];B==null&&(B="shp"+i.gw,i.gw++,i.iR[D]=B,i.hI[B]=D),x.push(B)}if(i.xX.push(s.RC(r)+"<path "+s.lN(m,x)+' d="'+E+'" />'),s.Wc&&s.Wc[s.Wc.length-1]){var I=v.D.xJ(f.b);I.d=I.d.map(Math.round);var N=s.Wc[s.Wc.length-1];N.lv+=JSON.stringify(I).length,N.A2.push([c[0].split("#").pop(),I])}}else if(p&&n.am4){var V=p.MF,j=new Si(V,a);w&&m.push('fill="'+te.O4(w.Clr.v)+'"');var R=Ee.Dz(j,p),G=v.D.X5(R);for(var Z in G){w==null&&m.push('fill="'+Z+'"');var L=G[Z],E=Typr.U.pathToSVG({crds:L.d,cmds:L.W},2);i.xX.push(s.RC(r)+"<path "+s.lN(m,x)+' d="'+E+'" />'),w==null&&m.pop()}}else if(p&&!n.a8L){var V=p.MF,_=p.O.clone(),U=0,Y=0;if(lt.AW(V)==1){var $=lt.lW(V,0,0).eS.Justification,P=0,tt=lt.dd(V)[2];$==2&&(P=tt/2),$==1&&(P=tt),_.translate(P,0)}c.push("transform: "+s.kO(_));var X=lt.jn(V),ht=V.EngineDict.ParagraphRun,F=ht.RunArray,J=ht.RunLengthArray;c.length!=0&&m.push('style="'+c.join(";")+'"'),i.xX.push(s.RC(r)+"<text "+s.lN(m,x)+" >");var Q=h.add.lmfx;Q&&(Q=Q.frameFXMulti.v[0]),Q&&(Q=Q.v);for(var rt=w?te.O4(w.Clr.v):null,it=0;it<F.length;it++){var nt=[],ot=J[it],pt=X.slice(U,U+ot-1),yt=lt.lW(V,U,U),ct=yt.Dm[yt.dS.Font].Name;i.SN.indexOf(ct)==-1&&i.SN.push(ct),te.yS(nt,yt,p.O,!0,!0,rt),Q&&(c.push("stroke: "+te.O4(Q.Clr.v)),c.push("stroke-width: "+Q.Sz.v.val));var vt=yt.dS.FontSize*1.12;if(it==0&&(vt=lt.AW(V)==0?0:yt.dS.FontSize),Y+=vt,pt!=""){var D=nt.join(";"),B=i.iR[D],wt="";B==null&&(B="txt"+i.gw,i.gw++,i.iR[D]=B,i.hI[B]=D);var Mt=yt.dS.Tracking;if(Mt!=null&&Mt!=0){Mt=Math.round(Mt*yt.dS.FontSize/1e3),wt=' dx="0';for(var Ct=1;Ct<pt.length;Ct++)wt+=" "+Mt;wt+='" '}i.xX.push(s.RC(r+1)+'<tspan x="0" y="'+s.EE(Y)+'" class="'+B+'"'+wt+">"+s.dC(pt)+"</tspan>")}U+=ot}i.xX.push(s.RC(r)+"</text>")}else if(h.add.SoLd){var gt=h.add.SoLd,bt=gt.Idnt.v,xt=0,Dt=gt.Crop?gt.Crop.v:null;if(i.pG[bt]!=null)xt=i.pG[bt];else{i.S5++,xt=i.S5,i.pG[bt]=i.S5;var Ot=t._p(bt,Dt),kt="";if(Ot==null)return;var mt=Ot.DW,It=ft.Xh(Ot.raw.buffer);if(It=="pdf"){var Bt=new Pt("h");ft.$I("PDF").xo(Ot.raw.buffer,Bt),Bt.dr(),Bt.LU(),Bt.A(),Bt.tf(),gt.Crop&&gt.Crop.v==1&&C.$K.zy(Bt,Bt.root.o7(Bt,!0));var Ut=ft.$I("SVG").bb(Bt,Bt.Z,Bt.h,null,{SN:a});kt="data:image/svg+xml;base64,"+ft.gN(Ut)}else if(It=="jpg"||It=="png"||It=="gif"||It=="svg"){var qt={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};kt="data:"+qt[It]+";base64,"+ft.gN(Ot.raw.buffer)}else kt=ft.vd(mt[0].buffer,mt[1].Z,mt[1].h);i.Ns.push(s.RC(2)+'<image width="'+mt[1].Z+'" height="'+mt[1].h+'" id="img'+xt+'" href="'+kt+'"/>')}var Gt=v.P.br(gt);c.length!=0&&m.push('style="'+c.join(";")+'"');var zt=s.lN(m,x);i.xX.push(s.RC(r)+"<use "+zt+' href="#img'+xt+'" transform="'+s.kO(Gt)+'"/>')}else if(!h.rect.qr()&&(n.amv||p)){c.length!=0&&m.push('style="'+c.join(";")+'"');var zt=s.lN(m,x),Nt=h.buffer;w&&(Nt=St.BM(Nt,w,h.rect));var Kt=h.rect;i.S5++;var kt=ft.vd(Nt.buffer,Kt.Z,Kt.h,"png",null,!0);i.Ns.push(s.RC(2)+'<image width="'+h.rect.Z+'" height="'+h.rect.h+'" id="img'+i.S5+'" href="'+kt+'"/>'),i.xX.push(s.RC(r)+"<use "+zt+' href="#img'+i.S5+'" x="'+Kt.x+'" y="'+Kt.y+'" />')}}}},ii.lN=function(t,i){return i.length!=0&&t.push('class="'+i.join(" ")+'"'),t.join(" ")},ii.dC=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")},ii.kO=function(t){var i=[t.m,t.i,t.p$,t.xA,t.PV,t.ye].map(ii.EE);return"matrix("+i.join(",")+")"},ii.kz=function(t,i,e,r){var n=ii,a=i.vstk,s=i.vmsk,l=i.lmfx;if(s&&s.bM!=0){var h=n.EE(s.bM);e.BB[h]==null&&(e.PR++,e.BB[h]=e.PR,e.Ns.push(n.RC(2)+'<filter x="-50%" y="-50%" width="200%" height="200%" id="flt'+e.PR+'"> <feGaussianBlur stdDeviation="'+h+'" /> </filter>')),t.push("filter: url(#flt"+e.BB[h]+")")}var o=St.h4(l,i),f=o[0],u=o[1];if(a&&!a.fillEnabled.v)t.push("fill: none");else if(f){var p=te.O4(f.Clr.v);t.push("fill: "+p)}else u&&(n.Eu(u,e,r),t.push("fill: url(#grd"+e.YO+")"));if((a==null||!a.strokeEnabled.v)&&(a=St.ig(l)),a&&a.strokeEnabled.v){var c=a.strokeStyleContent.v,d=c.classID;d=="solidColorLayer"?t.push("stroke: "+te.O4(c.Clr.v)):(n.Eu(c,e,r),t.push("stroke: url(#grd"+e.YO+")"));var g=at.bW.Bb.indexOf(a.strokeStyleLineCapType.v.strokeStyleLineCapType),b=at.bW.join.indexOf(a.strokeStyleLineJoinType.v.strokeStyleLineJoinType),m=a.strokeStyleOpacity.v.val/100,x=a.strokeStyleLineWidth.v.val,M=at.bW.Ph.indexOf(a.strokeStyleLineAlignment.v.strokeStyleLineAlignment);M==2&&(x*=2,t.push("paint-order:stroke fill markers"));for(var S=a.strokeStyleLineDashSet.v,w=[],k=0;k<S.length;k++)w.push(Math.round(S[k].v.val*x));g!=0&&t.push("stroke-linecap:"+["butt","round","square"][g]),b!=0&&t.push("stroke-linejoin:"+["miter","round","bevel"][b]),m!=1&&t.push("stroke-opacity:"+n.EE(m)),x!=1&&t.push("stroke-width: "+n.EE(x)),w.length!=0&&t.push("stroke-dasharray: "+w.join(","))}},ii.Eu=function(t,i,e){i.YO++;var r=ii,n=t.Grad.v,a=n.Clrs.v.slice(0),s=n.Trns.v.slice(0),l=t.Ofst.v,h=t.Type.v.GrdT=="Rdl"?1:0,o=(h==1?"radial":"linear")+"Gradient",f=v.j.yB(t,e);h==0&&(f[0].x=f[1].x+2*(f[0].x-f[1].x),f[0].y=f[1].y+2*(f[0].y-f[1].y));var u=r.RC(2)+"<"+o+' id="grd'+i.YO+'" gradientUnits="userSpaceOnUse" ';h==0&&i.Ns.push(u+' x1="'+r.EE(f[0].x)+'" y1="'+r.EE(f[0].y)+'" x2="'+r.EE(f[1].x)+'" y2="'+r.EE(f[1].y)+'">'),h==1&&i.Ns.push(u+' cx="'+r.EE(f[0].x)+'" cy="'+r.EE(f[0].y)+'" r="'+r.EE(st.Yj(f[0],f[1]))+'">');var p=t.Rvrs.v;p&&(a.reverse(),s.reverse());for(var c=0;c<a.length;c++){var d=a[c].v,g=c<s.length?s[c].v.Opct.v.val/100:1,g=g==1?"":'stop-opacity="'+r.EE(g)+'"',b=d.Lctn.v/4096;p&&(b=1-b),i.Ns.push(r.RC(3)+'<stop offset="'+r.EE(b)+'" stop-color="'+te.O4(d.Clr.v)+'" '+g+" />")}i.Ns.push(r.RC(2)+"</"+o+">")},ii.Ny=function(t,i,e,r,n){var a=[],s=ii.Ny,l=!1,h={YY:t,mi:i,_r:[!0,!0,!0],mU:!1,Og:e,PA:0};if(h.eO=Math.round(Math.max(t,i)*(.02+s.Jv(h)*.03)),h.iB=s.akQ(h),h.DR=s.ame(h.iB,(s.Jv(h)<.5?-1:1)*(.2+s.Jv(h)*.3)),s.Jv(h)<.5){var o=h.iB;h.iB=h.DR,h.DR=o}h.a33=s.Jv(h)<.4&&s.ajF(h.DR,{U:1,S:1,i:1})>.3,h.agJ=s.Jv(h)<.5?0:1,a.push('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+t+" "+i+'" width="'+t+'" height="'+i+'">'),h.OA=r[Math.floor(s.D5(h)*r.length)],h.m6=r[Math.floor(s.D5(h)*r.length)],a.push("<style>"),a.push("@font-face {  font-family: "+h.OA[2]+";  src: url("+h.OA[5]+");  }"),a.push("@font-face {  font-family: "+h.m6[2]+";  src: url("+h.m6[5]+");  }"),a.push("</style>");var f=[0,0,t,i],u=f;if(n==null?a.push('<path style="fill: '+s.ai(h.iB)+'" d="'+s.Rect(f[0],f[1],f[2]-f[0],f[3]-f[1])+'" id="Background" />'):(h.mU=!0,s.mF(h,f,a,n)),s.Jv(h)<.25&&!h.mU)h._r[0]=h._r[2]=!1,s.aa5(f,h,a),u=f;else if(s.Jv(h)<.25||h.mU)u=f;else{var p=.52+s.Jv(h)*.2;s.Jv(h)<.5&&(p=1-p);var c=f.slice(0),d=f.slice(0);if(s.Jv(h)<.5?c[2]=d[0]=Math.round(p*t):c[3]=d[1]=Math.round(p*i),s.Jv(h)<.5){var o=c;c=d,d=o}u=c,s.a8T(h,d,a,n)}s.a3q(h,u,a),a.push("</svg>"),a=a.join(`
`);var g=v.R(Math.round(a.length*1.5)),b=A.vr(a,g,0);return[g.buffer.slice(0,b),h.jX]},ii.Ny.aa5=function(t,i,e){var r=ii.Ny,n=t[2]-t[0],a=t[3]-t[1];if(r.Jv(i)<.5)e.push('<path id="Border" style="fill: '+r.ai(i.DR)+'" d="'+r.a00(t[0],t[1],t[2]-t[0],t[3]-t[1],i.eO)+'" />');else if(r.Jv(i)<-.4)r.a6b(i,t,e);else var s=r.Jv(i)<.5?0:1,l=(s==0?a:n)/4,h=r.UM(i,s,t,e,l,!0),h=r.UM(i,s+2,t,e,l,!0,h)},ii.Ny.a3q=function(t,i,e){var r=ii.Ny,n="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),a=2*Math.floor(r.Jv(t)*n.length/2),s=i[2]-i[0],l=i[3]-i[1],h=0,o=0;t.EH=(t.YY+s)*.5*(.04+r.Jv(t)*.05),t.EH=Math.min(t.EH,l*.4,s*.12),t.EH=Math.round(t.EH);var f=Math.min(t.EH*n[a].length*(.35+.3*r.Jv(t)),s*.9),u=(i[1]+i[3])/2,p=v.ec(t.iB)<.85?{U:1,S:1,i:1}:{U:.1,S:.1,i:.1};r.Jv(t)<.25&&t._r[0]?(o=0,h=i[0]+t.eO):r.Jv(t)<.33&&t._r[2]?(o=2,h=i[2]-t.eO):(o=1,h=(i[0]+i[2])/2);var c=p.U==1?"0,0,0":"255,255,255",d=t.mU&&r.Jv(t)<1;if(d){var g=i[0],b=s,m=u-t.EH*1.1,x=t.EH*2.2,M=.7;o==1&&r.Jv(t)<.5?(g=m=.2*Math.min(s,l),b=s-2*m,x=l-m-m):r.Jv(t)<.7&&(g=m=0,b=s,x=l,M=.25),e.push('<path id="Strip" style="fill: rgb('+c+"); opacity: "+M+'" d="'+r.Rect(g,m,b,x)+'" />')}if(r.Jv(t)<.4){var S=t.EH*.07;S*=1.5+r.Jv(t)*1,o==-1&&s/l<3&&!d&&(e.push('<path id="Bar-bottom" style="fill: '+r.ai(p)+'" d="'+r.Rect(h-f/2,u+t.EH*1.1-S/2,f,S)+'" />'),e.push('<path id="Bar-top"    style="fill: '+r.ai(p)+'" d="'+r.Rect(h-f/2,u-t.EH*1.1-S/2,f,S)+'" />')),o!=1&&(e.push('<path id="Bar" style="fill: '+r.ai(p)+'" d="'+r.Rect(h-S/2,u-t.EH*.8,S,t.EH*.8*2)+'" />'),h+=(o==0?1:-1)*t.EH/3)}var w=t.EH*.4;e.push(r.fK(n[a+1],h,u+w*1.6,w,p,o,t.m6)),e.push(r.fK(n[a],h,u+t.EH*.04,t.EH,p,o,t.OA))},ii.Ny.a8T=function(t,i,e,r){var n=i[2]-i[0],a=i[3]-i[1],s=Math.max(n,a),l=Math.min(n,a),h=ii.Ny;if(s/l<5&&t.mU,h.Jv(t)<0)e.push('<path style="fill: '+h.ai(t.DR)+'" d="'+h.Rect(i[0],i[1],n,a)+'" />');else{var o=0;i[3]!=t.mi&&(o=0),i[2]!=t.YY&&(o=3),i[0]!=0&&(o=1),i[1]!=0&&(o=2);var f=o+2&3;if(s/l<3){var u=h.a62(f),p=u[Math.round(h.Jv(t)*(u.length-1))],c=p.st.slice(0,4),d=c.indexOf(1);p=JSON.parse(JSON.stringify(p));var g=-1;if(c!="0000"){var b=new Et;if(p.st[5]=="0")d==3&&o==1?(g=1,b.scale(-1,1)):g=d;else{for(var m=f;m==f;)m=Math.floor(h.Jv(t)*4)&3;b.rotate((-d+m)*Math.PI/2)}h.O(p,b)}var x=h.nP(p),M=n-2*t.eO,S=a-2*t.eO;g!=-1&&((g&1)==0?S-=t.eO:M-=t.eO);var w=Math.min(M/x.Z,S/x.h),k=new Et;k.translate(-x.x,-x.y),k.scale(w,w);var T=(n-x.Z*w)/2,L=(a-x.h*w)/2;g!=-1&&(g==3&&(T=0),g==0&&(L=0),g==1&&(T=n-x.Z*w),g==2&&(L=a-x.h*w)),k.translate(i[0]+T,i[1]+L),h.sp(t,p,k,t.DR,e)}else h.UM(t,o,i,e,1e9)}},ii.Ny.mF=function(t,i,e,r){var n=i[2]-i[0],a=i[3]-i[1],s=Math.max(n,a),l=Math.min(n,a),h=ii.Ny,o=h.D5(t),f,u,p,c=r[0]instanceof ArrayBuffer;if(c)f="data:image/jpg;base64,"+ui.ga(r[0]),u=r[1],p=r[2];else{var d=Math.floor(o*r.length),g=r[d];t.jX=g,f=g.webformatURL,u=g.webformatWidth,p=g.webformatHeight}var b=i[0],m=i[1],x=n,M=a;if(n/a>u/p?(M=x*p/u,m=m-(M-a)/2):(x=M*u/p,b=b-(x-n)/2),c){e.push("<defs>"),e.push('<image width="'+u+'" height="'+p+'" id="Background" href="'+f+'" />'),e.push("</defs>");var S=x/u;e.push('<use href="#Background" transform="'+ii.kO(new Et(S,0,0,S,b,m))+'" />')}else{var w="cp"+Math.random();e.push('<clipPath id="'+w+'">'),e.push('<path style="fill: '+h.ai(t.DR)+'" d="'+h.Rect(i[0],i[1],n,a)+'" />'),e.push("</clipPath>"),e.push('<image  clip-path="url(#'+w+')" xlink:href="'+f+'" x="'+b+'" y="'+m+'" width="'+x+'" height="'+M+'" />')}},ii.Ny.fK=function(t,i,e,r,n,a,s){var l=ii.Ny;return'<text x="'+i+'" y="'+e+'" style="fill:'+l.ai(n)+"; font-size:"+r+"px; text-anchor:"+["start","middle","end"][a]+"; font-family:"+s[2]+';"><tspan>'+t+"</tspan></text>"},ii.Ny.sp=function(t,i,e,r,n){for(var a=ii.Ny,s=[],l=0;l<i.A2.length;l++)s.push(r),t.a33&&(r=(l&1)==t.agJ?{U:1,S:1,i:1}:s[0]);n.push('<g id="'+i.st.split("-")[2]+':::" style="transform: '+ii.kO(e)+';" >');for(var l=0;l<i.A2.length;l++){var h=i.A2[l];r=s.pop(),n.push('<path style="fill: '+(r?a.ai(r):"#"+h[0])+'" d="'+Typr.U.pathToSVG({crds:h[1].d,cmds:h[1].W})+'" />')}n.push("</g>")},ii.Ny.a6b=function(t,i,e){for(var r=ii.Ny,n=ii.Ny.rQ,a=[],s=0;s<n.length;s++){var h=n[s],l=h.st.slice(0,4);l=="1001"&&a.push(h)}var h=a[Math.floor(r.Jv(t)*a.length)];r.Jv(t)<.5&&r.O(h,new Et(0,1,1,0,0,0));var o=i[3]-i[1],f=i[2]-i[0],u=r.nP(h),p=.7*Math.min(f,o,.5*Math.max(f,o))/Math.max(u.Z,u.h),c=new Et;c.scale(p,p),r.Jv(t)<.5&&(c.scale(1,-1),c.translate(0,o)),r.sp(t,h,c,t.DR,e),c.rotate(Math.PI),c.translate(f,o),r.sp(t,h,c,t.DR,e)},ii.Ny.a62=function(t){for(var i=ii.Ny.rQ,e=[],r=0;r<i.length;r++){var n=i[r],a=n.st.slice(0,4);if(a=="0000"){e.push(n);continue}if(["1000","0100","0010","0001"].indexOf(a)!=-1){var s=a.indexOf("1");n.st[5]=="0"&&t==s&&s!=3||e.push(n)}}return e},ii.Ny.UM=function(t,i,e,r,n,a,s){for(var l=ii.Ny.rQ,h=ii.Ny,o=[],f,u,p=0;p<l.length;p++){var d=l[p],g=d.st.slice(0,4);if(["1110","1101","1011","0111"].indexOf(g)!=-1){var b=g.indexOf("0")+2&3;d.st[5]=="0"&&(a==!0||i!=b&&!(i==1&&b==3))||o.push(d)}}var c=s!=null?s:Math.floor(h.Jv(t)*o.length),d=o[c],d=JSON.parse(JSON.stringify(d)),g=d.st.slice(0,4),b=g.indexOf("0")+2&3;b==3&&i==1&&v.O(d,new Et(1,0,0,-1,0,1e3));var m=new Et;m.translate(-500,-500),m.rotate(-b*Math.PI/2),m.translate(500,500),h.O(d,m);var x=e[3]-e[1],M=e[2]-e[0],S=h.nP(d);S.y<0&&(S.h+=S.y,S.y=0),S.y>0&&(S.h+=S.y,S.y=0),(i&1)==0?(u=x,f=M):(f=x,u=M);var w=Math.min(Math.min(.5+.5*h.Jv(t))*Math.min(M,x),n)/S.h,k=Math.ceil(f/(1e3*w)),T=new Et,L=new Et;L.scale(w,w),i==0||i==2?(L.translate(-(M/2),-(x/2)),L.rotate(-i*Math.PI/2),L.translate(M/2+e[0],x/2+e[1])):(L.rotate(Math.PI/2),L.scale(1,-1),L.translate(e[0],e[1]),i==1&&(L.scale(-1,1),L.translate(M,0))),r.push('<g id="Border-'+["top","right","bottom","left"][i]+':::">');for(var p=0;p<k;p++){var O=T.clone();O.concat(L),h.sp(t,d,O,t.DR,r),T.translate(1e3-2,0)}return r.push("</g>"),c},ii.Ny.Rect=function(t,i,e,r){return Typr.U.pathToSVG({crds:[t,i,t+e,i,t+e,i+r,t,i+r],cmds:["M","L","L","L","Z"]})},ii.Ny.a00=function(t,i,e,r,n){var a=[t,i,t+e,i,t+e,i+r,t,i+r];return t+=n,i+=n,e-=2*n,r-=2*n,a.push(t,i,t,i+r,t+e,i+r,t+e,i),Typr.U.pathToSVG({crds:a,cmds:"M L L L Z M L L L Z".split(" ")})},ii.Ny.ame=function(t,i){var e=v.T4(t.U,t.S,t.i);return e.lr=Math.max(.1,Math.min(.9,e.lr+i)),v.Uq(e.mi,e.Pg,e.lr)},ii.Ny.a3l=function(t,i){var e=v.T4(t.U,t.S,t.i);return e.mi+=i,v.Uq(e.mi,e.Pg,e.lr)},ii.Ny.al8=function(t){var i=v.T4(t.U,t.S,t.i);return i.lr=1-i.lr,v.Uq(i.mi,i.Pg,i.lr)},ii.Ny.ajF=function(t,i){var e=t.U-i.U,r=t.S-i.S,n=t.i-i.i;return Math.sqrt(e*e+r*r+n*n)},ii.Ny.akQ=function(t){var i=ii.Ny;return{U:i.Jv(t),S:i.Jv(t),i:i.Jv(t)}},ii.Ny.ai=function(t){return te.PO({U:t.U*255,S:t.S*255,i:t.i*255})},ii.Ny.nP=function(t){for(var i=t.A2,e=new et,r=0;r<i.length;r++)e=e.s7(v.D.nP(i[r][1].d));return e},ii.Ny.O=function(t,i){for(var e=t.A2,r=0;r<e.length;r++)v.D.O(e[r][1].d,i,e[r][1].d)},ii.Ny.Jv=function(t){t.PA++;var i=t.PA&3;i==0&&(t.Og=ii.Ny.eT(t.Og));var e=t.Og>>>8*i&255;return e*(.99999999/255)},ii.Ny.D5=function(t){var i=ii.Ny.eT(t.Og);return t.Og=ii.Ny.eT(i),i*(1/4294967295)},ii.Ny.eT=function(t){return t=(t^61^t>>>16)>>>0,t=t+(t<<3)>>>0,t=(t^t>>>4)>>>0,t=t*668265261>>>0,t=(t^t>>>15)>>>0,t},ii.Ny.rQ=[{st:"0001-0-bird",A2:[["4b3c34",{W:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),d:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{W:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),d:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{W:"M C C C C C C C C C C C C L Z".split(" "),d:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{st:"0001-0-bird2",A2:[["ff7f2a",{W:"M L L L Z M L L L Z".split(" "),d:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{W:"M C C C C C C C C C C C L Z".split(" "),d:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{W:"M C C C C C C L Z M C C Z".split(" "),d:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{W:"M L L L Z M L L L Z".split(" "),d:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{W:"M L C C C C C C C C L Z".split(" "),d:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{W:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),d:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{st:"0000-1-flower",A2:[["7a59a2",{W:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),d:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{st:"0000-1-flower",A2:[["d13777",{W:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),d:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{st:"0000-1-flower",A2:[["ffac42",{W:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),d:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{st:"0000-1-flower",A2:[["d04040",{W:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),d:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{st:"0000-1-flower",A2:[["ec7272",{W:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),d:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{W:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),d:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{st:"0000-0-hearts",A2:[["d17070",{W:"M C C C C C C C C C L Z".split(" "),d:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{W:"M C C C C C C C C C L Z".split(" "),d:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{W:"M C C C C C C C C C L Z".split(" "),d:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{st:"0000-0-anchor",A2:[["2a3b66",{W:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),d:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{st:"0000-1-leaf",A2:[["fbb600",{W:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),d:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{st:"0000-1-acorn",A2:[["a05a2c",{W:"M C C C C C C C L Z".split(" "),d:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{W:"M C C C C C C C C C C C Z".split(" "),d:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{st:"0000-0-skull",A2:[["808080",{W:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),d:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{st:"0000-0-ghost",A2:[["e6e6e6",{W:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),d:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{W:"M C C C C Z M C C C C Z".split(" "),d:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{st:"1001-1-rose",A2:[["9e1460",{W:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),d:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{W:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),d:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{st:"1001-1-curls",A2:[["53a7ab",{W:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),d:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{W:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),d:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{st:"0111-0-pines",A2:[["e9e9e9",{W:"M C C C C C C C C L L L Z".split(" "),d:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{W:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),d:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{st:"0111-0-flowers",A2:[["8cae40",{W:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),d:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{W:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),d:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{st:"1101-1-confetti",A2:[["e789ff",{W:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),d:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{W:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),d:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{st:"1101-1-branch",A2:[["7f500b",{W:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),d:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{W:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),d:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{st:"1101-1-sticks",A2:[["ec7272",{W:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),d:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{W:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),d:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{st:"1101-1-dots",A2:[["ec7272",{W:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),d:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{W:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),d:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{W:["M","C","C","Z"],d:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{st:"1101-1-strips",A2:[["ffc88c",{W:"M L L L L Z M L L L L Z M L L L L Z".split(" "),d:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{W:"M L L L L Z M L L L L Z M L L L L Z".split(" "),d:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{W:["M","C","C","Z"],d:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{st:"1101-1-circs",A2:[["ec7272",{W:"M C C C C Z M C C C C Z".split(" "),d:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{W:"M C C C C Z M C C C C Z".split(" "),d:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{W:["M","C","C","Z"],d:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{st:"1101-1-squares",A2:[["014ea7",{W:"M L L L L Z M L L L L Z".split(" "),d:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{W:"M L L L L Z M L L L L Z".split(" "),d:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{W:["M","C","C","Z"],d:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{st:"1101-0-christmas",A2:[["014ea7",{W:"M C C C C Z M C C C C Z M L L L L Z".split(" "),d:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{W:"M C C C C Z M C C C C Z M L L L L Z".split(" "),d:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];var Me={};Me.parse=function(t){var i=new Uint8Array(t),e=null;if(i[0]==80&&i[1]==75){var r=Date.now(),n=UZIP.parse(i.buffer),e=n["document.json"];e=JSON.parse(A.bc(e,0,e.length)),Me.z8(e,n)}else{var a=mi.parse(t);e=Me.v_(a[2][0][1])}return e},Me.z8=function(t,i){var e=typeof t;if(e=="string"||e=="number"||e=="boolean")return t;if(t instanceof Array){for(var r=0;r<t.length;r++)t[r]=Me.z8(t[r],i);return t}var n=t._class;if(n==null)return t;if(n=="MSJSONFileReference"){var a=t._ref;if(i[a+".json"]!=null){for(var s=i[a+".json"],l=s.length,r=0;r<l;r++)(s[r]==11||s[r]==3)&&(s[r]=32);var h=A.bc(s,0,l);t=JSON.parse(h)}else{if(i[a+".png"]!=null)return{key:a.split("/").pop(),bdata:i[a+".png"]};if(i[a+".jpg"]!=null)return{key:a.split("/").pop(),bdata:i[a+".jpg"]};if(i[a+".pdf"]!=null)return{key:a.split("/").pop(),bdata:i[a+".pdf"]};if(i[a]!=null)return{key:a.split("/").pop(),bdata:i[a]};console.log(t,i);return}}else if(n=="MSAttributedString"){for(var h=atob(t.archivedAttributedString._archive),o=h.length-1,f=new Uint8Array(o),r=0;r<o;r++)f[r]=h.charCodeAt(r);t.archivedAttributedString=Me.v_(f)}for(var u in t)t[u]=Me.z8(t[u],i);return t},Me.AJ=function(t,i,e,r){if(t instanceof Uint8Array||r.indexOf(t)!=-1)return null;if(r.push(t),t==i)return e;for(var n in t){e.push(n);var a=Me.AJ(t[n],i,e,r);if(a)throw console.log(t,a),"e";e.pop()}},Me.v_=function(t){for(var i=ya.parse(t,0),e=i.$objects,r=new Uint8Array(e.length),n=Me.cD(e,r,i.$top.root),a=0;a<e.length;a++)r[a]==0&&a!=0&&(console.log(a,e[a]),Me.AJ(n,a,[],[]));for(var a=0;a<e.length;a++){var s=e[a];if(s._class&&(s._class=="bitmap"||s._class=="fill"&&s.fillType==4&&(s.image||s.imageSHA))){var l=s.image,h=s.imageSHA,o=null,f=null;if(l=="$null"&&(l=null),h=="$null"&&(h=null),l&&l.data)f=l.sha1["NS.bytes"],f=btoa(A.$o(f,0,f.length)),o=l.data instanceof Uint8Array?l.data:l.data["NS.bytes"];else if(l==null&&h==null){var u=ft.$I("PNG").bb([[v.R(4).buffer]],1,1);o=new Uint8Array(u)}else{var p=(n.assets?n.assets.imageCollection:n.images).images;h?f=h instanceof Uint8Array?h:h["NS.bytes"]:f=l.sha1["NS.bytes"],f=btoa(A.$o(f,0,f.length));var o=p[f].data;o["NS.bytes"]&&(o=o["NS.bytes"])}o=new Uint8Array(o.buffer.slice(o.byteOffset,o.byteOffset+o.length)),delete s.imageSHA,s.image={key:f,bdata:o}}}return n},Me.a7o=function(t){return t.slice(0,11)=="MSImmutable"?"MS"+t.slice(11):t},Me.cD=function(t,i,e){var r=t[e];if(i[e]==1||(i[e]=1,typeof r=="string")||typeof r=="number"||typeof r=="boolean"||r instanceof Array||r instanceof Uint8Array)return r;if(t[r.$class]==null){if(r.$class==null&&r["NS.data"]!=null)return r;throw console.log(e,r),"e"}var n=t[r.$class],a=Me.a7o(n.$classname);i[r.$class]=1,r.$class=a,Me.po[a]&&(delete r.$class,r._class=Me.po[a]);var s=Me.cD;if(a=="NSMutableArray"||a=="NSArray"){var l=[];if(r["NS.objects"]!=null)for(var h=0;h<r["NS.objects"].length;h++)l.push(s(t,i,r["NS.objects"][h]));else for(var h=0;r["NS.object."+h]!=null;h++)l.push(s(t,i,r["NS.object."+h]));return t[e]=l,l}if(a=="NSDictionary"||a=="NSMutableDictionary"){var o={$class:a};if(r["NS.keys"]!=null)for(var h=0;h<r["NS.keys"].length;h++){var f=s(t,i,r["NS.keys"][h]);f instanceof Uint8Array?f=btoa(Me.gu.$o(f,0,f.length)):typeof f!="string"&&typeof f!="number"&&(f=btoa(Me.gu.$o(f["NS.bytes"],0,f["NS.bytes"].length))),o[f]=s(t,i,r["NS.objects"][h])}else for(var h=0;r["NS.key."+h]!=null;h++){var f=s(t,i,r["NS.key."+h]);f instanceof Uint8Array?f=btoa(Me.gu.$o(f,0,f.length)):typeof f!="string"&&typeof f!="number"&&(f=btoa(Me.gu.$o(f["NS.bytes"],0,f["NS.bytes"].length))),o[f]=s(t,i,r["NS.object."+h])}for(var u in r)delete r[u];for(var u in o)r[u]=o[u];return r}if(a=="NSURL")return{$class:a,base:s(t,i,r["NS.base"]),relative:s(t,i,r["NS.relative"])};if(Me.akY.indexOf(a)!=-1)return t[e]=s(t,i,r.array_do),t[e];if(r.do_objectID!=null&&(r.do_objectID=s(t,i,r.do_objectID)),Me.agX.indexOf(a)!=-1)return r;var p=Me.ab3[a];if(p==null)throw console.log(t,r),"unknown class "+a;for(var h=0;h<p.length;h++)r[p[h]]!=null&&(r[p[h]]=s(t,i,r[p[h]]));if(a=="MSTextLayer"){var c=r,d,g,b,m;if(c.attributedString?d=c.attributedString.archivedAttributedString:d=c.storage,m=d.NSString,typeof m!="string"&&(m=A.bc(m["NS.bytes"],0,m["NS.bytes"].length)),d.NSAttributeInfo)g=d.NSAttributeInfo["NS.bytes"];else{for(var x=m.length,M=[];x>0;){var S=Math.min(100,x);M.push(S,0),x-=S}g=new Uint8Array(M)}b=d.NSAttributes instanceof Array?d.NSAttributes:[d.NSAttributes];var w={$class:"NSAttributedString",NSString:m,NSAttributes:b};c.attributedString={_class:"MSAttributedString",archivedAttributedString:w},w.NSAttributeInfo={$class:"NSMutableData","NS.data":g},delete c.storage}return r},Me.gu={lU:function(t,i){return t[i+1]<<8|t[i]},l:function(t,i){return t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i]},$o:function(t,i,e){for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[i+n]);return r}},Me.po={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"},Me.akY=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"],Me.agX="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" "),Me.ab3={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};var ya={};ya.parse=function(t,i){var e=A.$o(t,i,8);i+=8;var r=ya.parse.abp(t,t.length-31),n=[];if(r.J3==1)for(var i=t.length-31-r.J3*r.Gj,a=0;a<r.Gj;a++)n.push(t[i+a]);else if(r.J3==2)for(var i=t.length-31-r.J3*r.Gj,a=0;a<r.Gj;a++)n.push(A.lU(t,i+a*2));else if(r.J3==4)for(var i=t.length-31-r.J3*r.Gj,a=0;a<r.Gj;a++)n.push(A.l(t,i+a*4));else throw"e";var s=ya.parse.cD(t,n,r.root,r);return s},ya.parse.cD=function(t,i,e,r){var n=ya.gu,a=r.akG,s=a==4?n.l:a==2?n.lU:n.adN,l=ya.parse,h=i[e],o=t[h],f=o>>4,u=o&15,p=null;if(h+=1,[4,5,6,10,12,13].indexOf(f)!=-1&&u==15){var c=l.tF(t,h);h+=c.lv,u=c.C}if(f==0)p=u==8?!1:u==9?!0:null;else if(f==1)p=l.tF(t,h-1).C;else if(f==2)p=1<<u==4?A.C2(t,h):A.VZ(t,h);else if(f==3)p=A.VZ(t,h);else if(f==4)p=new Uint8Array(t.buffer,h,u);else if(f==5)p=A.$o(t,h,u);else if(f==6)p=A.Hp(t,h,u);else if(f==8){p=0;for(var d=0;d<u+1;d++)p=p<<8|t[h+d]}else if(f==10){p=[];for(var d=0;d<u;d++)p.push(l.cD(t,i,s(t,h+a*d),r))}else if(f==12){p=[];for(var d=0;d<u;d++)p.push(l.cD(t,i,s(t,h+a*d),r))}else if(f==13){p={};for(var d=0;d<u;d++){var g=l.cD(t,i,s(t,h+a*d),r),b=l.cD(t,i,s(t,h+a*(u+d)),r);p[g]=b}}else throw"unknown mask "+f;return p},ya.parse.tF=function(t,i){for(var e=1<<(t[i]&15),r=0,n=0;n<e;n++)r=r<<8|t[i+1+n];return{C:r,lv:e+1}},ya.parse.abp=function(t,i){var e={};return i+=6,e.J3=t[i],i++,e.akG=t[i],i++,i+=4,e.Gj=A.l(t,i),i+=4,i+=4,e.root=A.l(t,i),i+=4,i+=4,e.a22=A.l(t,i),i+=4,e},ya.gu={adN:function(t,i){return t[i]},lU:function(t,i){return t[i]<<8|t[i+1]},l:function(t,i){return t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]},$o:function(t,i,e){for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[i+n]);return r}};var mi={parse:function(t){var i=new Uint8Array(t),e=mi.o1(i),r=[],n=new Uint8Array(i.length),a=[];r.push(a),mi.Ba(i,e,1,n,a);for(var s=0;s<a.length;s++){var l=[];r.push(l),mi.Ba(i,e,a[s][3],n,l),a[s][3]=s+1}return r},Ba:function(t,i,e,r,n){e--;var a=e*i.pr+(e==0?100:0),s=t[a],l=mi.lU(t,a+1);if(l!=0)throw"free block in a page";var h=mi.lU(t,a+3),o=mi.lU(t,a+5);o==0&&(o=65536);var f=t[a+7],u=mi.lU(t,a+8);s==2||s==5?a+=4:u=0;for(var p=0;p<h;p++){var c=e*i.pr+mi.lU(t,a+8+2*p),d=-1,g=0,b=0,m=0;if((s==2||s==5)&&(d=mi.l(t,c),c+=4),(s==2||s==10||s==13)&&(g=mi.Rj(t,c),c+=g.lv),(s==5||s==13)&&(b=mi.Rj(t,c),c+=b.lv),s==5){mi.Ba(t,i,d,r,n);continue}var x=i.pr-(e==0?100:0),M=g.pl,S=s==13?x-35:Math.floor((x-12)*64/255)-23,w=Math.floor((x-12)*32/255)-23,k=w+(M-w)%(x-4);if(M<=S)mi.Hk(t,c,r,0,M);else{var T=k<=S?k:w,L=0;for(mi.Hk(t,c,r,0,T),L+=T,m=mi.l(t,c+T);m!=0;){var O=(m-1)*i.pr;m=mi.l(t,O);var E=Math.min(i.pr-4,M-L);mi.Hk(t,O+4,r,L,E),L+=E}}n.push(mi.aeL(r,M))}},aeL:function(t,i){var e=0,r=mi.Rj(t,e);e+=r.lv;for(var n=[],a=[];e<r.pl;){var s=mi.Rj(t,e);e+=s.lv,n.push(s.pl)}if(e!=r.pl)throw"e";for(var l=0;l<n.length;l++){var s=n[l];if(s==0)a.push(null);else if(s==1)a.push(mi.afr(t,e)),e+=1;else if(s==2)a.push(mi.dx(t,e)),e+=2;else if(s==3)a.push(mi.agh(t,e)),e+=3;else if(s==4)a.push(mi.tF(t,e)),e+=4;else if(s==7)a.push(mi.a2n(t,e)),e+=16;else if(s==8)a.push(0);else if(s==9)a.push(1);else if(s>=12&&(s&1)==0){var h=s-13>>1,o=new Uint8Array(h);mi.Hk(t,e,o,0,h),a.push(o),e+=h}else if(s>=13&&(s&1)==1){var h=s-12>>1;a.push(mi.bc(t,e,h)),e+=h}else throw"unknonw type "+s}return a},o1:function(t){if(!(t[18]==1&&t[19]==1&&t[20]==0&&t[21]==64&&t[22]==32&&t[23]==32))throw"unexpected SQL3 header";var i={mV:mi.$o(t,0,15),pr:mi.lU(t,16),ahg:mi.l(t,24),size:mi.l(t,28),ahY:mi.l(t,32),a7F:mi.l(t,36),agD:mi.l(t,40),a2O:mi.l(t,44),aa7:mi.l(t,48),afU:mi.l(t,52),mA:mi.l(t,56),ade:mi.l(t,60),akt:mi.l(t,64)!=0,a3S:mi.l(t,68),aeg:mi.l(t,92),amI:mi.l(t,96)};if(i.pr==1&&(i.pr=65536),i.mA!=1)throw"unsupported text encoding "+i.mA;return i},acy:function(t,i){return t[i]<<16|t[i+1]<<8|t[i+2]},agh:function(t,i){var e=mi.acy(t,i),r=e&8388608;return r?-(16777215-e+1):e},afr:function(t,i){return mi.It[0]=t[i],mi.a4t[0]},tF:function(t,i){for(var e=mi.It,r=0;r<4;r++)e[r]=t[i+3-r];return mi.akC[0]},dx:function(t,i){var e=mi.It;return e[0]=t[i+1],e[1]=t[i],mi.akE[0]},lU:function(t,i){return t[i]<<8|t[i+1]},l:function(t,i){return t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]},a2n:function(t,i){for(var e=mi.It,r=0;r<8;r++)e[r]=t[i+7-r];return mi.agk[0]},Rj:function(t,i){for(var e=i,r=0;;){var n=t[i];if(i++,r=r*128+(n&127),n<128)break}return{pl:r,lv:i-e}},$o:function(t,i,e){for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[i+n]);return r},bc:function(t,i,e){for(var r="",n=0;n<e;n++)r+="%"+mi.a9V(t[i+n].toString(16));return decodeURIComponent(r)},Hk:function(t,i,e,r,n){if(t[i+n-1]==null||e[r+n-1]==null)throw console.log(i,r,n),"e";for(var a=0;a<n;a++)e[r+a]=t[i+a]},a9V:function(t){return t.length<2?"0"+t:t}};mi.It=new Uint8Array(8),mi.a4t=new Int8Array(mi.It.buffer),mi.akE=new Int16Array(mi.It.buffer),mi.akC=new Int32Array(mi.It.buffer),mi.agk=new Float64Array(mi.It.buffer);function Ii(t,i,e){this.mY=t,this.Ug=i,this.a5T=e,this.oT=new st(0,0),this.dT=-1,this.Zg=0,this.wO=0,this.lp=new et,this.lP=[],this.Iy=null,this.Vn=null,this.$w=null,this.i0=null,this.Hz=null,this.wC=null}Ii.prototype.StartPage=function(t,i,e,r){for(var n=this.Ug,a=n.d3(),s=1;(e-t)*(r-i)*a*a/(s*s)>8e3*8e3;)s++;n.scale(1/s,1/s),this.Vn=[t,i,e,r];var s=n.d3();t=Math.round(t*s),i=Math.round(i*s),e=Math.round(e*s),r=Math.round(r*s);var l=this.mY,h=this.$w;if(h==null)n.PV=-t;else{var o=h[2]-h[0]+30,f=Math.round(e-t)+30;this.oT.x+o+f>8192?(n.PV=-t,this.oT.x=0,this.oT.y+=this.wO+120,this.wO=0):(n.PV+=o,this.oT.x+=o)}n.ye=this.oT.y+(this.a5T?r:-i),this.wO=Math.max(this.wO,Math.round(r-i)),this.$w=[t,i,e,r],l.r.push(l.Px())},Ii.prototype.tQ=function(){var t=this.mY,i=t.r[t.r.length-1];return i},Ii.prototype.Xz=function(){var t=JSON.parse(JSON.stringify(at.bW.default));return t.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter",t.strokeEnabled.v=!1,t.fillEnabled.v=!1,t},Ii.prototype.vT=function(){var t=this.mY,i=t.an();return i.uf("Path "+t.r.length),this.mY.r.push(i),i.ix|=16,i.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.j.$H({U:0,S:0,i:0})}},i.add.vmsk=new H.iO,i.add.vstk=this.Xz(),i},Ii.prototype.Kv=function(t){var i={d:t.crds,W:t.cmds},e=v.D.sb(i,!1);return v.V.G5(e,this.Ug),e},Ii._A=function(t,i){for(var e=0;e<t.length;e++)t[e].IO!=null&&(t[e].IO=i)},Ii.abX=function(t){return Math.sqrt(Math.abs(t[0]*t[3]-t[1]*t[2]))},Ii.yj=function(t){return v.j.$H({U:t[0]*255,S:t[1]*255,i:t[2]*255})},Ii.GO=function(t){return new Et(t[0],t[1],t[2],t[3],t[4],t[5])},Ii.prototype.Stroke=function(t){if(!(this.dT!=-1&&this.dT!=this.Zg)&&!(t.pth.cmds.length<=1)){var i=this.Kv(t.pth);if(!(i.length<=2)){this.CO(t),Ii._A(i,-1),i[2].IO=1;var e=Ii.yj(t.COLR),r=this.tQ(),n=this.Xz();n.strokeEnabled.v=!0,n.strokeStyleMiterLimit.v=t.mlimit,n.strokeStyleLineDashSet.v=St.oB(t.dash,1/t.lwidth),n.strokeStyleLineDashOffset.v.val=t.doff,n.strokeStyleLineJoinType.v.strokeStyleLineJoinType=at.bW.join[t.ljoin],n.strokeStyleLineCapType.v.strokeStyleLineCapType=at.bW.Bb[t.lcap],n.strokeStyleLineWidth.v.val=Math.max(.4,t.lwidth*Ii.abX(t.ctm)*this.Ug.d3()),n.strokeStyleContent.v.Clr.v=e;var a=r!=null&&r.add.vmsk!=null&&!r.fO(),s=a&&!r.add.vstk.strokeEnabled.v&&H.iO.ajg(r.add.vmsk.b,i,!0),l=a&&!r.add.vstk.fillEnabled.v&&JSON.stringify(n)==JSON.stringify(r.add.vstk);l?(Ii._A(i,-1),r.add.vmsk.b=r.add.vmsk.b.concat(i.slice(2))):s?(r.add.vstk=n,n.fillEnabled.v=!0):(r=this.vT(),r.add.vmsk.b=i,r.add.vstk=n)}}},Ii.prototype.Fill=function(t,i){if(!(this.dT!=-1&&this.dT!=this.Zg)&&t.ca!=0){var e=t.pth.cmds;if(e.length!=0&&!(e.length==2&&JSON.stringify(e)=='["M","L"]')){var r=v.D.nP(t.cpth.crds),n=v.D.nP(t.pth.crds);if(!n.$X(r).qr()){var a=t.pth;this.i0==null&&UDOC.G.isBox(a,[n.x,n.y,n.x+n.Z,n.y+n.h])&&n.Qh(r)?a=t.cpth:this.CO(t);var s=this.Kv(a),l=v.D.z0(n);v.D.O(l.d,this.Ug,l.d),n=v.D.nP(l.d);var h=Ii.hm(t.colr,this.Ug,n),o=this.tQ(),f=o!=null&&o.opacity==Math.round(255*t.ca)&&o.add.vstk!=null&&!o.add.vstk.strokeEnabled.v&&o.add.SoCo&&h.type=="SoFi"&&JSON.stringify(o.add.SoCo.Clr.v)==JSON.stringify(h.C.v.Clr.v);if(f){for(var u=!1,p=0;p<s.length;p++)(s[p].IO==0||s[p].IO==2)&&(u=!0);if(u){var c=v.D.nP(v.V.dq(o.add.vmsk.b)),d=v.D.nP(v.V.dq(s));f=c.$X(d).qr()}}if(f)for(var g=o.add.vmsk.b,p=2;p<s.length;p++)g.push(s[p]);else o=this.vT(),delete o.add.SoCo,o.add.vmsk.b=H.iO.Cm(s),Ii.ku(t.colr,o,this.Ug,n),Ii.NM(t,o)}}}},Ii.ku=function(t,i,e,r){var n=Ii.hm(t,e,r),a=null,s=null;if(i.add.vstk.fillEnabled.v=!0,n.type=="SoFi"&&(a="SoCo",s=at.QB),n.type=="GrFl"&&(a="GdFl",s=at.Zt),n.type=="patternFill"&&(a="PtFl",s=at.QZ),a!=null){i.add[a]={classID:"null"};for(var l=0;l<s.length;l++){var h=s[l];i.add[a][h]=n.C.v[h]}}},Ii.prototype.CO=function(t){var i=this.mY,e=t.cpth,r=e.cmds.join(""),n=e.crds,a=r+" "+n.join(","),s=UDOC.G.isBox(e,this.Vn);if(!(s&&this.i0==null)&&a!=this.i0&&(this.mX(),!s)){this.i0=a,i.r.push(i.Px());var l=i.an();l.uf("Mask"),l.add.lsct=Ci.kE,l.sW="pass",l.ix=24;var h=l.add.vmsk=new H.iO;h.b=this.Kv(t.cpth),UDOC.G.isBox(e)?(this.Hz=v.V.ue(h.b),this.Hz.PK(3,3)):this.Hz=null,this.wC=l}},Ii.prototype.mX=function(){var t=this.mY;if(this.i0!=null){for(var i=t.r.length-1,e=i,r=!1;e>=0&&t.r[e].add.lsct!=Ci.Qi;)e--;var n=this.Hz;if(n){for(var a=new et,s=i;s>e;)a=t.r[s].G_(this.mY,!1,!0),s--;r=n.Qh(a)}r?(this.lP.splice(e,1),t.r.splice(e,1)):t.r.push(this.wC),this.i0=null}},Ii.hm=function(t,i,e){var r,n;if(t.length!=null){r="SoFi";var a=JSON.parse(at.IW[at.order.indexOf("SoFi")]);n={t:"Objc",v:a},n.v.Clr.v=Ii.yj(t)}else{var s=Ii.a8Z(t,i,e);r="GrFl",n={t:"Objc",v:s}}return{type:r,C:n}},Ii.a8Z=function(t,i,e){var r=JSON.parse(at.IW[at.order.indexOf("GrFl")]),n=r.Grad.v;n.Intr.v=0;var a=Ii.GO(t.mat);a.concat(i);var s=new st(0,0),l=new st(e.Z,0),h=t.crds;if(t.typ=="rad"){r.Type.v.GrdT="Rdl";var o=.7;s.x=(1-o)*h[0]+o*h[3],s.y=(1-o)*h[1]+o*h[4],l.x=s.x,l.y=s.y,l.x+=Math.max(h[2],h[5])}else r.Type.v.GrdT="Lnr",s.x=h[0],s.y=h[1],l.x=h[2],l.y=h[3],s.x=l.x+.5*(s.x-l.x),s.y=l.y+.5*(s.y-l.y);s=a.aT(s),l=a.aT(l),v.j.VB(s,l,e,r);var f=t.grad;return v.j.nO(f,n),r},Ii.prototype.PutText=function(t,i,e,r){var n=i.charCodeAt(0),a=null;if(!(this.dT!=-1&&this.dT!=this.Zg)&&!(i.length==0||i.length==1&&(n==0||n==8203))){this.CO(t);var s=this.mY,l=t.font,h=Ii.GO(t.ctm);h.concat(this.Ug);var o=Ii.GO(l.Tm);o.concat(h);var f=C.X.d3(o),u=new Et(1/f,0,0,-1/f,0,0);u.concat(o);var p=l.Tfs*f;(l.Th!=100||l.Trise!=0)&&console.log(l);for(var c=s.r.length-1;c>=0&&s.r[c].add.TySh==null;)c--;if(u.i*u.i+u.p$*u.p$<.001&&r==null&&c>=0&&s.r[c].add.TySh&&s.r[c].opacity==Math.round(255*t.ca)){var d=s.r[c],k=this.lP[c],g=d.add.TySh.O,b=(g.PV+k.fj-u.PV)/p,m=Math.abs(b),x=i.indexOf(" ")==-1,M=g.m==u.m&&g.i==u.i&&g.p$==u.p$&&g.xA==u.xA,S=M&&Math.abs(k.YL-u.ye)<1e-5&&m<.6,w=u.ye-k.YL;S?(a=d,k.fj=u.PV-g.PV,b>.2&&x&&[".",",","?",":","!"].indexOf(i)==-1&&(i=" "+i)):M&&Math.abs(u.PV-g.PV)<1e-5&&0<w&&w<p*1.7&&k.BD==p&&(a=d,this.S7(k),k.YL=u.ye,i=`
`+i)}a==null&&(c=s.r.length,this.lP[c]={Qg:[],fj:0,YL:u.ye,g_:"",BD:p},a=s.an(),s.r.push(a),a.add.lnsr="rend",a.add.TySh=lt.T_(0,0),a.add.TySh.O=u);var k=this.lP[c];k.fj+=e*p,k.g_+=i;var T=a.add.TySh.MF,L=lt.jn(T);if(r){lt.E5(T,1);var O=[0,0,Math.ceil(r[0]*f),Math.ceil(r[1]*f)];lt.Z1(T,O)}var E=L.length-1,D=E+i.length;lt.v$(T,E,i),this.Iy==null&&(this.Iy=lt.lW(T,E,E));var B=this.Iy;B.dS.FontSize=Math.round(p),B.dS.Tracking=Math.round(l.Tc*100),B.dS.Underline=l.Tun==1,B.dS.FillColor={Type:1,Values:[1,t.colr[0],t.colr[1],t.colr[2]]},l.Tal!=null&&(B.eS.Justification=l.Tal),k.Qg.length!=0&&(B.dS.AutoLeading=!1,B.dS.Leading=k.YL-k.Qg[k.Qg.length-1].y);var I=l.Tf;I=I.replace(/#2B/g,"+"),I=I.replace(/#2C/g,"-"),I=I.split("+").pop();var N={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};N[I]&&(I=N[I]),lt.oi(B,I),lt.Ji(T,E,D-1,B),a.cg(),a.opacity=Math.round(255*t.ca)}},Ii.prototype.S7=function(t){t.Qg.push({YY:t.fj,wV:t.g_.slice(t.Qg.length==0?0:1)+`
`,y:t.YL,Pg:t.BD}),t.fj=0,t.g_=""},Ii.prototype.PutImage=function(t,i,e,r,n,a,s){if(!(this.dT!=-1&&this.dT!=this.Zg)){var l=this.mY,h=t.font.Tmode;if(!(h==7&&l.r[l.r.length-1].add.TySh)){this.CO(t);var o=Ii.GO(t.ctm);o.concat(this.Ug);var f=new Et(1/e,0,0,-1/r,0,1);if(f.concat(o),o=f,i=Ii.NR(i,e,r),n&&(n=Ii.NR(n,e,r)),n==null)i.length==e*r*4&&(i=new Uint8Array(ft.$I("PNG").bb([[i.buffer,0]],e,r)));else{i=this.mL(i,e,r,a,!1),n=this.mL(n,e,r,s,!0);var u=v.R(e*r);v.E4(n,u,0),v.Oy(u,i,3),i=new Uint8Array(ft.$I("PNG").bb([[i.buffer,0]],e,r))}var p=l.f6(i,"Bitmap",0,0),c=p.rect.clone();c.x=c.y=0;var d=v.D.z0(c).d;v.D.O(d,o,d),p.add.SoLd.Trnf=C.X.uE(d),p.add.SoLd.nonAffineTransform=C.X.uE(d),p.Gy(l,!1),Ii.NM(t,p),l.r.push(p)}}},Ii.NM=function(t,i){i.opacity=Math.round(255*t.ca);var e=Ii.zD[t.bmode];e==null?console.log("Unknown blend mode",e):i.sW=e},Ii.zD={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "},Ii.NR=function(t,i,e){var r=ft.Xh(t.buffer);if(r=="jpg")try{t=new Uint8Array(ft.$I("JPG").a9b(t.buffer))}catch(o){t=new Uint8Array(i*e*4)}else if(t.length!=i*e*4){var n=new Uint8Array(i*e*4),a=new Uint8Array(Math.ceil(i*e/8));UTIF.decode._decodeG4(t,0,t.length,a,0,i,1);for(var s=0;s<i*e;s++){var l=s*4,h=(a[s>>3]>>7-(s&7)&1)*255;n[l]=h,n[l+1]=h,n[l+2]=h,n[l+3]=255}t=n}return t},Ii.prototype.mL=function(t,i,e,r,n){if(t.length!=i*e*4){var a=ft.Xh(t.buffer),s=ft.$I(a);(s==null||a=="tga")&&(s=ft.$I("jpg")),t=new Uint8Array(s.xo(t,r,n)[0].data)}return t},Ii.prototype.ShowPage=function(){var t=this.mY;this.Zg++;var i=this.$w;this.mX();var e=t.an();t.r.push(e);var r=new et(Math.round(this.oT.x),Math.round(this.oT.y),Math.round(i[2]-i[0]),Math.round(i[3]-i[1]));this.lp=this.lp.s7(r),e.BE(r),e.uf("Page "+this.Zg),e.add.lsct=Ci.kE,e.sW="pass",e.ix=24},Ii.prototype.Print=function(t){console.log("Print:",t)},Ii.prototype.Done=function(){var t=this.mY;this.Zg==1&&(t.r[t.r.length-1].add.lsct=Ci.lw),t.f$(this.Zg);for(var i=0;i<t.r.length;i++){var e=t.r[i],r=e.add.vmsk,n=e.add.TySh,a=this.lP[i];if(e.h7(),e._V(t),n&&a.Qg.length!=0){this.S7(a);for(var s=n.MF,l=a.Qg.length,h=a.Qg[0],o=0,f=0,u=0;u<l;u++)o=Math.max(o,a.Qg[u].YY);lt.E5(s,1),n.O.ye-=h.Pg*.7,lt.Z1(s,[0,0,Math.ceil(o*1.1),Math.ceil(a.Qg[l-1].y-h.y+h.Pg*2)])}if(n){var s=n.MF;lt.ach(s);for(var p=lt.jn(s).split(`
`),u=0;u<p.length-1;u++){for(var c=p[u],d=0,g=0;g<c.length;g++){var b=c.charCodeAt(g);1473<=b&&b<=1524&&d++}if(d>c.length/2){p[u]=c.split("").reverse().join("");var m=s.EngineDict.ParagraphRun.RunArray[u].ParagraphSheet.Properties;m._Direction=1,m.Justification=lt.Wk(m)}}lt.jD(s,p.join(`
`))}}t.Lt=!0,t.Z=this.lp.Z,t.h=this.lp.h,t.buffer=v.R(this.lp.M()*4)};var hn={};hn.qx=function(t,i,e,r){var n=!1,a=[t.root],s=t.root.children;if(t.add.artd){n=!0;for(var l=0;l<s.length;l++)s[l].n.add.artb==null&&(n=!1);n&&(a=s)}var h=new et(0,0,t.Z,t.h),o=i[0];o=o.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim(),o=o.split(" ");for(var f=[],l=0;l<o.length;l++){var u=o[l];if(u=="-")for(var p=f.pop(),c=parseInt(o[l+1]);p<c;)f.push(p),p++;else f.push(parseInt(u))}o=f;for(var l=0;l<o.length;l++)(isNaN(o[l])||o[l]<1||o[l]>a.length)&&(o.splice(l,1),l--);for(var d=72/t.NB,l=0;l<a.length;l++)if(!(o.length!=0&&o.indexOf(l+1)==-1)){var g=a[l],b=n?g.n.sc():h,m=Math.round(b.Z*d),x=Math.round(b.h*d);e.StartPage(0,0,m,x);var M=UDOC.getState([[0,0,m,x]]),S=new Et;if(S.translate(-b.x,-b.y-b.h),S.scale(d,-d),i[2]){var w=t.lD();if(h.Qn(b)||(w=v.R(b.M()*4),v.BP(t.lD(),h,w,b)),i[1]!=100){var k=ft.$I("JPG").bb([[w.buffer]],b.Z,b.h,[i[1]]);w=new Uint8Array(k)}var T=new Et;T.translate(b.x,b.y),hn.CK(M,e,w,b,T,S)}else hn.Py(t,g,M,e,S,i,r);e.ShowPage()}e.Done()},hn.r0=function(t){return t=v.j.T6(t),[t.U/255,t.S/255,t.i/255]},hn.Py=function(t,i,e,r,n,a,s){var l=i.n,h=l.add.lsct,o=l.add.lmfx,f=l.add.vmsk,u=l.add.vstk,p=l.add.TySh;if(!!l.UQ()){var c=l.opacity/255,d=l.add.iOpa?l.add.iOpa/255:1;for(var g in Ii.zD)Ii.zD[g]==l.sW&&(e.bmode=g);e.ca=e.CA=c*d;var b=o;if(b&&(b=b.solidFillMulti.v[0]),b&&(b=b.v),b&&!b.enab.v&&(b=null),l.fO())for(var m=0;m<i.children.length;m++)hn.Py(t,i.children[m],e,r,n,a,s);else if(f){var x=f.b,M=v.V.ue(x),S=v.D.xJ(x),w=!1,k=!1,T=!1;if(v.D.O(S.d,n,S.d),e.pth={cmds:S.W,crds:S.d},u.fillEnabled.v){var L=St.h4(o,l.add),O=L[0],E=L[1];if(O)e.colr=hn.r0(O.Clr.v);else if(E){var D=E,B=[],I,N=D.Type.v.GrdT=="Rdl"?"rad":"lin",V=v.j.yB(D,M),j=n.aT(V[0]),R=n.aT(V[1]);N=="rad"?I=[j.x,j.y,0,j.x,j.y,st.Yj(j,R)]:(j.Oh(R.x+(j.x-R.x)*2,R.y+(j.y-R.y)*2),I=[j.x,j.y,R.x,R.y]);for(var G=D.Grad.v.Clrs.v,m=0;m<G.length;m++){var Z=G[m].v;B.push([Z.Lctn.v/4096,hn.r0(Z.Clr.v)])}e.colr={typ:N,mat:[1,0,0,1,0,0],grad:B,crds:I}}w=!0}var _=St.ig(o);if(!u.strokeEnabled.v&&_&&(u=_),u.strokeEnabled.v){var U=u.strokeStyleContent.v,Y=u.strokeStyleLineDashSet.v,$=at.bW.Ph.indexOf(u.strokeStyleLineAlignment.v.strokeStyleLineAlignment);if(U.Clr==null)return;var P=v.j.T6(U.Clr.v);e.COLR=[P.U/255,P.S/255,P.i/255],e.lwidth=u.strokeStyleLineWidth.v.val*($==2?2:1)*n.d3(),e.mlimit=u.strokeStyleMiterLimit.v,e.doff=u.strokeStyleLineDashOffset.v.val,e.ljoin=at.bW.join.indexOf(u.strokeStyleLineJoinType.v.strokeStyleLineJoinType),e.lcap=at.bW.Bb.indexOf(u.strokeStyleLineCapType.v.strokeStyleLineCapType),e.dash=[];for(var m=0;m<Y.length;m++)e.dash.push(Y[m].v.val*e.lwidth);e.dash.length==1&&e.dash[0]==0&&(e.dash=[]),k=!0,$==2&&(T=!0)}w&&!T&&r.Fill(e),k&&r.Stroke(e),w&&T&&r.Fill(e)}else if(p&&a[4]){var tt=p.MF,X=new Si(tt,s),S=Ee.Dz(X,p),ht=v.D.X5(S);for(var P in ht){var F=parseInt(P.slice(1),16);e.colr=b?hn.r0(b.Clr.v):[(F>>>16&255)/255,(F>>>8&255)/255,(F&255)/255];var J=ht[P];v.D.O(J.d,n,J.d),J=v.D.akr(J),e.pth={cmds:J.W,crds:J.d},r.Fill(e)}}else if(p&&a[3]==!1){var tt=p.MF,Q=p.O.clone(),rt=new Et(1,0,0,-1,0,0);rt.concat(Q),rt.concat(n);for(var it=lt.jn(tt),X=new Si(tt,s),m=0;m<X.eS.length;m++){var nt=X.eS[m];if(!(nt.Vz.length==1&&nt.Vz[0].nz))for(var ot=0;ot<nt.V8.length;ot++)for(var pt=nt.V8[ot],yt=nt.tZ.y+pt.tZ.y,ct=nt.Vz[pt.start].start,vt=nt.Vz[pt.end-1].end,wt=lt.af$(tt,ct,vt),Mt=0;Mt<wt.length;Mt++){var Ct=X.Fj(ct),gt=wt[Mt],bt=lt.lW(tt,ct,ct),xt=bt.Dm[bt.dS.Font].Name;e.font.Tf=xt;var P=lt.T6(bt.dS);e.colr=b?hn.r0(b.Clr.v):[P.U/255,P.S/255,P.i/255],e.font.Tfs=Math.round(bt.dS.FontSize);var Dt=it.slice(ct,ct+gt);bt.dS.FontCaps==2&&(Dt=Dt.toUpperCase());var Ot=new Et;Ot.translate(Ct.T.x,-yt),Ot.concat(rt),e.ctm=[Ot.m,Ot.i,Ot.p$,Ot.xA,Ot.PV,Ot.ye],r.PutText(e,Dt,0),e.ctm=[1,0,0,1,0,0],ct+=gt}}}else if(!l.rect.qr()){var kt,mt,It=!1,Bt=new Et;if(l.add.SoLd){var Ut=l.add.SoLd,qt=Ut.Idnt.v,Gt=t._p(qt,Ut.Crop?Ut.Crop.v:null),zt="";if(Gt==null)return;var Nt=Gt.DW,Kt=ft.Xh(Gt.raw.buffer);a[5].indexOf(Kt)!=-1?(kt=Gt.raw,It=!0):kt=Nt[0],mt=Nt[1],Bt=v.P.br(Ut)}else kt=l.buffer,mt=l.rect,Bt.translate(mt.x,mt.y);if(b&&!It&&(kt=St.BM(kt,b,mt)),hn.CK(e,r,kt,mt,Bt,n),b&&It){var I=[0,0,mt.Z,0,mt.Z,mt.h,0,mt.h];v.D.O(I,Bt,I),v.D.O(I,n,I);var ai=JSON.parse(JSON.stringify(e));ai.ca=b.Opct.v.val/100,ai.pth={cmds:["M","L","L","L","Z"],crds:I},ai.colr=hn.r0(b.Clr.v),r.Fill(ai)}}}},hn.CK=function(t,i,e,r,n,a){var s=new Et;s.scale(r.Z,-r.h),s.translate(0,r.h),s.concat(n),s.concat(a),t.ctm=[s.m,s.i,s.p$,s.xA,s.PV,s.ye],i.PutImage(t,e,r.Z,r.h),t.ctm=[1,0,0,1,0,0]};var Qn={};Qn.ee=function(t){var i=new Uint8Array(t);return Qn.fr(i,0)},Qn.fr=function(t,i){var e=A.l,r=A.$o,n={Za:r(t,i,4),c:i+8,size:e(t,i+4)},a=n.Za=="FORM"||n.Za=="LIST"||n.Za=="CAT ";if(a&&(n.bl=r(t,i+8,4)),n.size<0||n.c+n.size>t.length)throw"e";if(a){n.sub=[],i+=12;for(var s=n.c+n.size;i<s;){var l=Qn.fr(t,i);n.sub.push(l),i+=8+l.size+(l.size&1)}}return n};var Ga={};Ga.ee=function(t,i){var e=new Uint8Array(t);return Ga.fr(e,0,i)},Ga.fr=function(t,i,e){var r=A.L6,n=A.$o,a={Za:n(t,i,4),c:i+8,size:r(t,i+4)};if(e&&e[a.size]!=null&&(a.size=e[a.size]),(a.Za=="RIFF"||a.Za=="LIST")&&(a.bl=n(t,i+8,4)),a.size<0||a.c+a.size>t.length)throw"e";if(a.Za=="RIFF"||a.Za=="LIST"&&a.bl!="cmpr"&&a.bl!="stlt"){a.sub=[],i+=12;for(var s=a.c+a.size;i<s;){var l=Ga.fr(t,i,e);a.sub.push(l),i+=8+l.size+(l.size&1)}}return a};var Qn={};Qn.ee=function(t){var i=new Uint8Array(t);return Qn.fr(i,0)},Qn.fr=function(t,i){var e=A.l,r=A.$o,n={Za:r(t,i,4),c:i+8,size:e(t,i+4)},a=n.Za=="FORM"||n.Za=="LIST"||n.Za=="CAT ";if(a&&(n.bl=r(t,i+8,4)),n.size<0||n.c+n.size>t.length)throw"e";if(a){n.sub=[],i+=12;for(var s=n.c+n.size;i<s;){var l=Qn.fr(t,i);n.sub.push(l),i+=8+l.size+(l.size&1)}}return n};function ci(){}ci.ee=function(t,i){var e=new Uint8Array(t);i.Lt=!0;var r=A.$o(e,0,2);if(r=="WL")alert("Unsupported CDR version");else{var n=ci.bV,a=Ga.ee(e.buffer),s={data:e,c:0,A7:ci.alO(e[11])},l=300;s.eF=s.A7<600?16:32,ci.gW(s,a.sub,i,0);var h=n(a,"cmpr").sub,o=h[0],f=h.slice(1),u=n(o,"mcfg").C,p=u.abH;l/=Ei.B$(new et(0,0,Math.round(p.x*l),Math.round(p.y*l)),8192*8192);var c=Math.round(p.x*l),d=Math.round(p.y*l);i.Z=c,i.h=d,i.buffer=v.R(i.Z*i.h*4);var g=n(o,"filt").sub,b=n(o,"otlt").sub;o.P6={};for(var m=0;m<g.length;m++)o.P6[g[m].sub[0].C.id]=g[m].sub[0].C;o.ma={};for(var m=0;m<b.length;m++)o.ma[b[m].C.id]=b[m].C;var x=new Et(l,0,0,-l,p.x*l/2,p.y*l/2),M=f[1];ci.xf(M,o,i,x),i.f$(1),i.r[i.r.length-1].BE(new et(0,0,c,d))}},ci.bV=function(t,i){for(var e=null,r=0;r<t.sub.length;r++){var n=t.sub[r];(n.Za==i||n.bl==i)&&(e=n)}return e},ci.xf=function(t,i,e,r){var n=ci.bV,a=t.bl?t.bl:t.Za,s=n(t,"lgob"),l=n(t,"txsm"),h,o;s&&(h=n(s,"trfl"),o=n(s,"loda"));var f=h?h.sub[0].Aw.clone():new Et;f.concat(r);var u=e.an();if(a=="page"||a=="layr"||a=="grp "){u.uf((a=="page"?"Page":"Group")+" "+e.r.length),u.add.lsct=Ci.lw,u.sW="pass",u.ix=24;var p=[];if(a=="page"&&(p=n(t,"gobj").sub),a=="layr"&&(p=t.sub.slice(2)),a=="grp "&&(p=t.sub.slice(4)),p.length==0)return;e.r.push(e.Px());for(var c=p.length-1;c>=0;c--)ci.xf(p[c],i,e,r)}else if(a=="obj "&&o.C&&o.C.path){u.uf("Object "+e.r.length);var d=i.P6[o.C.aiK],g=i.ma[o.C.a2A],b=u.getName(),m=d&&d.type!=0,x=m&&d.C!=null?d.C:[0,0,0];u.ix|=16,u.add.vstk=JSON.parse(JSON.stringify(at.bW.default));var M=u.add.vstk;if(M.strokeEnabled.v=!1,u.add.vmsk=new H.iO,g&&g.a1f!=1){M.strokeEnabled.v=!0,M.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter",M.strokeStyleLineWidth.v.val=g.lineWidth*r.d3();var S=g.color;M.strokeStyleContent.v.Clr.v=v.j.$H({U:S[0]*255,S:S[1]*255,i:S[2]*255})}var w=o.C.path;u.add.vmsk.b=v.D.sb(w,!1),v.V.G5(u.add.vmsk.b,f),Ii.ku(x,u,f,v.V.ue(u.add.vmsk.b)),M.fillEnabled.v=m,u.h7(),u._V(e)}else if(a=="obj "&&l){var k=o.C.a6P,T=o.C.ajI,L="";u.add.TySh=lt.T_(0,0);var O=f.d3();u.add.TySh.O.translate(f.PV,f.ye);for(var E=u.add.TySh.MF,D=l.C.qR,c=0;c<D.length;c++){var B=D[c],I=L.length;L+=B.text+`
`,lt.v$(E,I,B.text+`
`);var N=ci.a29(B.aei,i),V=lt.lW(E,I,L.length);N.align==3?V.eS.Justification=1:V.eS.Justification=0;var j=N.fill.C;V.dS.FillColor={Type:1,Values:[1,j[0],j[1],j[2]]},V.dS.FontSize=Math.round(N.a0B.fontSize*f.d3()),lt.Ji(E,I,L.length-1,V)}T?lt.E5(E,0):(lt.E5(E,1),lt.Z1(E,[0,0,Math.round(k.x*f.m),Math.round(-k.y*f.xA)])),u.uf(L.slice(0,10))}else u=null;u&&e.r.push(u)},ci.a29=function(t,i){var e=ci.bV(i,"stlt").C,r=JSON.parse(JSON.stringify(e.gg[t]));if(r.MB!=0){var n=e.gg[r.MB];for(var a in n)(r[a]==null||r[a]==0)&&(r[a]=n[a]);delete r.MB}return r.align=e.a8k[r.ab1],r.fill=i.P6[e.aiq[r.Kf]],r.a1q=i.ma[e.a6R[r.O7]],r.a0B=e.qb[r.a1t],r},ci.afD=function(t){var i=t.data[t.c];return t.c+=1,i},ci.ZQ=function(t){var i=A.wP(t.data,t.c);return t.c+=2,i},ci.RM=function(t){var i=A.L6(t.data,t.c);return t.c+=4,i},ci.abJ=function(t){var i=A.L6(t.data,t.c);return t.c+=8,i},ci.bp=function(t){var i=A.XS(t.data,t.c);return t.c+=2,i},ci.cP=function(t){var i=A.K8(t.data,t.c);return t.c+=4,i},ci.VZ=function(t){var i=A.a8o(t.data,t.c);return t.c+=8,i},ci.aB=function(t){if(t.c>=t.data.length)throw"e";for(var i=0;t.data[t.c+i]!=0;)i++;var e=A.$o(t.data,t.c,i);return t.c+=i+1,e},ci.a65=function(t){return t.A7<600?Math.PI*ci.bp(t)/1800:Math.PI*ci.cP(t)/18e7},ci.a5r=function(t){return t.A7<1500?ci.L4(t):ci.VZ(t)/254e3},ci.L4=function(t){return t.A7<600?ci.bp(t)/1e3:ci.cP(t)/254e3},ci.a2a=function(t){return t.A7<600?CRDParser.ZQ(t):ci.RM(t)},ci.ahv=function(t){return t.A7<600?CRDParser.bp(t):ci.cP(t)},ci.gW=function(t,i,e,r){for(var n=ci,a=n.afD,s=n.ZQ,l=n.RM,h=n.abJ,o=n.bp,f=n.cP,u=n.VZ,p=n.L4,c=n.a5r,d=n.a65,g=n.a2a,b=n.ahv,m=0;m<i.length;m++){var x=t.A7,M=i[m];if(t.c=M.c+(M.Za=="LIST"?4:0),M.Za=="vrsn"){var S=s(t);t.A7=S,console.log("Version",S),t.eF=S<600?16:32}else if(M.Za!="DISP"){if(M.Za=="LIST"&&M.bl=="cmpr"){var w=l(t),k=l(t),T=l(t),L=l(t),O=new Uint8Array(t.data.buffer,t.c+8+2,w-6-8),E=pako.inflateRaw(O),D=0;t.c+=w,O=new Uint8Array(t.data.buffer,t.c+8+2);for(var B=pako.inflateRaw(O),I=[],N=0;N<B.length;N+=4)I.push(A.L6(B,N));for(M.sub=[];D<E.length;){var V=Ga.fr(E,D,I);D=V.c+V.size,M.sub.push(V)}var j={data:E,c:0,A7:x,eF:t.eF};ci.gW(j,M.sub,e,r+1)}else if(M.Za=="LIST"&&M.bl=="stlt"){var R=t.c,G=32;M.C={};var Z=l(t);if(Z==0)return;M.C.aiq=ci.TQ(t,x>=1300),M.C.a6R=ci.TQ(t),M.C.qb={};for(var _=l(t),U=0;U<_;U++){var Y=l(t);t.c+=x<1e3?12:20;var $=s(t),P=s(t);t.c+=8;var tt=p(t);t.c+=x<1e3?12:20,M.C.qb[Y]={a0e:$,acm:P,fontSize:tt}}M.C.a8k=ci.TQ(t);var X=l(t);t.c+=52*X;var ht=l(t);t.c+=152*ht;var F=l(t);t.c+=784*F;for(var J=l(t),U=0;U<J;U++)t.c+=40,x>1300&&(t.c+=4),x>=1300?l(t)?t.c+=68:t.c+=12:(t.c+=20,x>=1e3&&(t.c+=8),l(t)&&(t.c+=8),t.c+=8);var Q=l(t);M.C.ag4={};for(var U=0;U<Q;U++){var rt=l(t),it={};t.c+=12,it.right=p(t),it.abn=p(t),it.left=p(t),M.C.ag4[rt]=it}var nt=l(t);x>=1300&&(G+=4),t.c+=G*nt;var ot=l(t);if(t.c+=28*ot,x>800){var pt=l(t);t.c+=12*pt}M.C.gg={};for(var U=0;U<Z;U++){var yt=l(t),ct=l(t),vt={};vt.MB=l(t),t.c+=8;var wt=l(t);x>=1200&&(wt*=2),t.c+=wt,vt.Kf=l(t),vt.O7=l(t),yt>1&&(vt.a1t=l(t),vt.ab1=l(t),vt.akJ=l(t),vt.a47=l(t),x>800&&(vt.ah_=l(t))),yt>2&&(vt.agm=l(t),vt.a9T=l(t),vt.aas=l(t),vt.ad6=l(t),vt.a9d=l(t)),M.C.gg[ct]=vt}}else if(M.Za=="LIST")ci.gW(t,M.sub,e,r+1);else if(M.Za=="txsm"){if(M.C={},x<600||x<700||x>=1600)throw"e";x>=1500?t.c+=37:t.c+=36,l(t)&&x<800&&(t.c+=32),x<800&&(t.c+=4),M.C.a7D=l(t),M.C.qR=[],t.c+=48,x>=800&&l(t)&&(t.c+=32,x>=1300&&(t.c+=8)),x>=1500&&(t.c+=12);var yt=l(t),Mt=1,Ct=!1;yt||(x>=800&&(t.c+=4),x>800&&(t.c+=2),x>=1400&&(t.c+=2),t.c+=24,x<800&&(t.c+=8),Mt=l(t));for(var N=0;N<Mt;N++){var gt=l(t),U=0;x>=1300&&yt&&t.c++,t.c++;var Z=l(t),bt=[];for(U=0;U<Z;U++){var xt=a(t),Dt=0;a(t);var Ot=a(t);x>=800&&(Dt=a(t));var vt={};if(Ot&1){vt.a0e=s(t);var kt=s(t);kt&&(vt.agv=kt)}if(Ot&2&&(t.c+=4),Ot&4&&(vt.a7i=p(t)),Ot&8&&(t.c+=4),Ot&16&&(t.c+=4),Ot&32&&(t.c+=4),Ot&64&&(vt.Kf=l(t),x>=1500&&(t.c+=48)),Ot&128&&(vt.O7=l(t)),Dt&8)if(x>=1300){var mt=l(t);if(t.c+mt*2>=t.data.length){Ct=!0;break}t.c+=mt*2}else t.c+=4;if(Dt&32){var It=a(t);It&&(t.c+=52)}xt==2&&x>=1300&&(t.c+=48),bt.push(vt)}if(Ct)break;var Bt=l(t);if(t.c+Bt*4>t.data.length)break;var Ut=[];for(U=0;U<Bt;U++){var qt=0;x>=1200?qt=h(t)&4294967295:qt=l(t),Ut[U]=qt>>16|qt&1}var Gt=Bt;x>=1200&&(Gt=l(t));var zt=ci.aB(t);M.C.qR.push({aei:gt,text:zt,gg:bt})}}else if(M.Za=="font"){var Nt=s(t),Kt=s(t);t.c+=14;var ai=ci.aB(t);M.C={id:Nt,ai2:Kt,name:ai}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(M.Za)==-1){if(M.Za=="flgs")M.C=l(t);else if(M.Za=="bbox"){var fi=p(t),di=p(t),$t=p(t),si=p(t);M.C=new et(fi,di,$t-fi,si-di)}else if(M.Za=="fild"){var li=l(t),Li=0,vi;x>=1300&&(t.c+=4,Li=s(t),t.c+=2);var yi=s(t);if(yi!=0)if(yi==1)t.c+=x>=1300?13:2,vi=ci.HD(t);else if(yi==2){t.c+=x>=1300?8:2;var _t=a(t),wi=0;x>=1300?(t.c+=17,wi=o(t)):x>=600?(t.c+=19,wi=f(t)):(t.c+=11,wi=o(t));var Zi=d(t),Vi=.5+b(t),Mi=.5+b(t)-.5;x>=600&&(t.c+=2);var ce=g(t)&255,Ri=a(t)/100;t.c++;var zi=g(t)&65535;x>=1300&&(t.c+=3);for(var ee=[],U=0;U<zi;U++){var Be=ci.HD(t);x>=1300&&(Li==158||x>=1600&&Li==150?t.c+=26:t.c+=5);var Yi=g(t)/100;x>=1300&&(t.c+=3),ee.push([Yi,Be])}vi={typ:_t==1?"lin":"rad",crds:[Vi-Math.cos(Zi)/2,Mi-Math.sin(Zi)/2,Vi,Mi],grad:ee,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",yi);M.C={id:li,type:yi,C:vi}}else if(M.Za=="outl"){var Xi=l(t);if(x>=1300)for(var Xt=0,ri=0;Xt!=1;)t.c+=ri,Xt=l(t),ri=l(t);var Hi=s(t),re=s(t),gi=s(t);x<1300&&x>=600&&(t.c+=2);var Bi=p(t),be=s(t)/100;x>=600&&(t.c+=2);var Te=d(t);x>=1300?t.c+=46:x>=600&&(t.c+=52);var vi=ci.HD(t,Xi==270963208||Xi==276198e3,Xi);M.C={id:Xi,a1f:Hi,ak0:re,ae1:gi,lineWidth:Bi,color:vi}}else if(M.Za=="mcfg"){1300<=x?t.c+=12:900<=x?t.c+=4:600<=x&&x<700&&(t.c+=28);var Gi=0,Sr=0;if(x<400)throw"e";Gi=p(t),Sr=p(t),M.C={abH:new st(Gi,Sr)}}else if(M.Za=="loda"){var R=t.c,Qr=g(t),fr=g(t),Je=g(t),br=g(t),Ai=g(t),We=[],Qi=[];t.c=R+Je;for(var U=0;U<fr;U++)We[U]=g(t);t.c=R+br;for(var U=fr-1;U>=0;U--)Qi[U]=g(t);M.C={};for(var U=0;U<fr;U++){t.c=R+We[U];var qi=Qi[U];if(qi==10)M.C.a2A=l(t);else if(qi==20)M.C.aiK=l(t);else if(qi==200)M.C.alG=g(t);else if(qi==30)if(x<400&&Ai--,Ai==1){var fi=c(t),di=c(t),Re=0,pi=0,Pi=0,xr=0;if(x<1500)xr=c(t),Pi=x<900?xr:c(t),pi=x<900?xr:c(t),Re=x<900?xr:c(t);else throw"e";M.C.path=v.D.xJ(v.V.Ny.Rect(0,0,fi,di,Re))}else if(Ai==2){var wr=p(t),Cr=p(t),Qe=d(t),pe=d(t),Er=Math.abs(wr),bn=Math.abs(Cr);M.C.path=v.D.xJ(v.V.Ny.VO(0,0,Er,-bn))}else Ai==3?M.C.path=ci.alc(t):Ai==4?M.C.ajI=ci.a1x(t):Ai==6?M.C.a6P=ci.a3O(t):Ai==37?M.C.path=ci.SK(t):console.log(Ai)}}else if(M.Za=="trfd"){var R=t.c,Qr=g(t),fr=g(t),Je=g(t);t.c=R+Je;for(var We=[],U=0;U<fr;U++)We[U]=g(t);for(var U=0;U<fr;U++){t.c=R+We[U],x>=1300&&(t.c+=8);var Ti=s(t);if(Ti==8){var lr,qe,fi,ir,de,di;if(x>=600&&(t.c+=6),x>=500)lr=u(t),qe=u(t),fi=u(t)/(x<600?1e3:254e3),ir=u(t),de=u(t),di=u(t)/(x<600?1e3:254e3);else throw"e";M.Aw=new Et(lr,ir,qe,de,fi,di)}else console.log(Ti)}}else if(!1)var Dr}}}},ci.TQ=function(t,i){for(var e=ci.RM,r={},n=e(t),a=0;a<n;a++){var s=e(t);t.c+=4;var l=e(t);r[s]=l,i&&(t.c+=48)}return r},ci.a1x=function(t){var i=ci,e=i.L4,r=e(t),n=e(t);return new st(r,n)},ci.a3O=function(t){var i=ci,e=i.L4;t.c+=4;var r=e(t),n=e(t);return new st(r,n)},ci.SK=function(t){var i=ci,e=i.RM,r=i.ZQ,n=i.L4;t.c+=4;var a=r(t)+r(t);t.c+=16;var s=ci.FS(t,a);return s},ci.alc=function(t){var i=ci.ZQ(t);return t.c+=2,ci.FS(t,i)},ci.FS=function(t,i){for(var e=ci,r=e.L4,n=t.A7<600?2:4,a=t.c,s={d:[],W:[]},l=0,h=0,o=0,f=0;f<i;f++){var l=r(t),h=r(t),u=t.data[a+i*n*2+f];!(u&64)&&!(u&128)?(s.d.push(l,h),s.W.push("M"),o+=2):u&64&&!(u&128)?(s.d.push(l,h),s.W.push("L"),o+=2):!(u&64)&&u&128?(s.d.push(l,h),s.W.push("C"),o+=6):u&64&&u&128&&s.d.push(l,h)}if(o!=s.d.length)throw"e";return s},ci.a4W=function(t,i){var e=A.L6;i+=8;var r=e(t,i);i+=4;var n=e(t,i);i+=4,i+=4*7;var a=i,s=v.R(r*n*4);i+=1024;for(var l=0;l<n;l++)for(var h=0;h<r;h++){var o=l*r+h,f=(n-l-1)*r+h,u=t[i+o]<<2,p=f<<2;s[p+0]=t[a+u+2],s[p+1]=t[a+u+1],s[p+2]=t[a+u+0],s[p+3]=255}return{Ww:s,rect:new et(0,0,r,n)}},ci.alO=function(t){return t==32?300:t<49?0:t<58?100*(t-48):t<65?0:100*(t-55)},ci.HD=function(t,i,e){var r=ci.ZQ,n=ci.RM,a=t.A7,s=0,l=0;if(a>=500)if(s=r(t),s==1&&a>=1300&&(s=25),s==25||s==30){var h=0;s==30?(s=25,h=30):(h=r(t),t.c+=4);var o=r(t),f=r(t)}else{if(s==14)throw"e";t.c+=6,l=n(t)}else throw"e";var u=[];if(s==2||s==9||s==17){var p=[l>>>0&255,l>>>8&255,l>>>16&255,l>>>24&255];if(s==2)for(var c=0;c<4;c++)p[c]=Math.round(255*p[c]/100);for(var c=0;c<4;c++)p[c]/=255;u=UDOC.C.cmykToRgb(p)}else if(s==1||s==5){u=[l>>>0&255,l>>>8&255,l>>>16&255];for(var c=0;c<3;c++)u[c]=u[c]/255}else console.log("Unknown color model "+s,l,l.toString(16));return u};var $n={};$n.rX=function(){var t=new ArrayBuffer(4);return[new Uint8Array(t),new Uint32Array(t),new Float32Array(t)]}(),$n.ur=function(t,i,e,r,n){function a(V,j){for(var R=0;R<V.length;R++)if(V[R][0]==j)return V[R]}function s(){var V=0,j=0,R=0;do R=t[i++],V|=(R&127)<<j,j+=7;while(R&128&&j<35);return V>>>0}for(var l=$n.rX,h=l[0],o=l[1],f=l[2],u="",p=1,c=0;c<n;c++)u+="    ";for(var d=r[0]=="mesg",g=r[2],b={},m=d?1e9:g.length;p<=m;){var x=p;if(d){if(x=t[i++],x>127){if(t[i]!=1)throw"e";i++}if(x==0)break}var M=a(g,x),S=M[2],w=M[1]==1,k=w?s():1,T=new Array(k);if(S==3){if(!w)throw"e";T=t.slice(i,i+k),i+=k}else for(var c=0;c<k;c++){var L;if((S&1)==1)if(S==1)L=t[i++]==1;else if(S==3)L=t[i++];else if(S==5){var O=s();L=O&1?~(O>>>1):O>>>1}else if(S==7)L=s();else if(S==9)if(t[i]==0)L=0,i++;else{h[0]=t[i],h[1]=t[i+1],h[2]=t[i+2],h[3]=t[i+3];var E=o[0];o[0]=E<<23|E>>>9,L=f[0],i+=4}else if(S==11){var D=$n.ah0(t,i);L=D[0],i+=D[1]+1}else throw S;else{var B=e[S>>>1];if(B[0]=="enum"){var I=t[i++];if(I>127)throw"e";L=B[2][I]}else{var N=$n.ur(t,i,e,B,n+1);L=N[0],i=N[1]}}T[c]=L}b[M[3]]=w?T:T[0],p++}return[b,i]},$n.ah0=function(t,i){for(var e=i;t[e]!=0;)e++;return[A.bc(t,i,e-i),e-i]},$n.a1n=function(t,i){for(var e=i;t[e]!=0;)e++;for(var r=i;r<e;r++)if(t[r]>127)throw"e";return A.$o(t,i,e-i)},$n.aj2=function(t,i){for(var e=$n.a1n,r=1,n=[];r<t.length;){var a=r,s=n.length,l=e(t,r);r+=l.length+1;var h=t[r++];if(h==0){var o=t[r++];o>127&&r++;for(var f=[],u=0;u<o;u++){var p=e(t,r);r+=p.length+1;var c=t[r++];if(c!=0)throw c;var d=t[r++];if(d!=0)throw d;var g=t[r++];if(g>127){if(t[r]!=1)throw"e";r++}if(g!=u)throw g;f.push(p)}n.push(["enum",l,f])}else if(h==1){for(var o=t[r++],f=[],u=0;u<o;u++){var p=e(t,r);r+=p.length+1;var c=t[r++];if(c>127){if(t[r]!=1)throw"e";r++}var d=t[r++];if(d>127){if(t[r]!=1)throw"e";r++}var g=t[r++];if(g>127){if(t[r]!=1)throw"e";r++}f.push([g,d,c,p])}n.push(["strc",l,f])}else if(h==2){var o=t[r++];o>127&&r++;for(var f=[],u=0;u<o;u++){var p=e(t,r);r+=p.length+1;var c=t[r++];if(c>127){if(t[r]!=1)throw"e";r++}var d=t[r++];if(d>127){if(t[r]!=1)throw"e";r++}var g=t[r++];if(g>127){if(t[r]!=1)throw"e";r++}f.push([g,d,c,p])}n.push(["mesg",l,f])}else throw h}return n};function Pe(){}Pe.ee=function(t,i){var e=new Uint8Array(t),r=8,n=A.L6(e,r),a=0;r+=4;for(var s=[];r<e.length;){var l=A.L6(e,r);r+=4;var h=e.slice(r,r+l);e[r]==137&&e[r+1]==80||(h=UZIP.inflateRaw(h)),s.push(h),r+=l}for(var o=$n.aj2(s[0]),f=$n.ur(s[1],0,o,o[o.length-1],0)[0],u={_2:{},Mo:{},u6:{}},p=f.nodeChanges,c=0;c<p.length;c++){var d=p[c],g=d.guid;u.Mo[g.sessionID+","+g.localID]=d}for(var c=0;c<p.length;c++){var d=p[c],g=d.parentIndex;if(g){var b=Pe.Ye(u.Mo,g.guid);b.children==null&&(b.children=[]),b.children.push(d)}}for(var m=p[0],x=m.children,M=new et,S=[],w=[],g=0;g<x.length;g++){var k=x[g],T=k.children;if(!(k.name=="Internal Only Canvas"||T==null)){for(var L=new et,O=0;O<T.length;O++){var E=T[O],D=E.transform,B=E.size;if(D.m00==1&&D.m10==0&&D.m01==0&&D.m11==1){var I=new et(D.m02,D.m12,B.x,B.y);L=L.s7(I)}}var N=M.h==0?0:M.h+100,V=L.clone();V.x=0,V.y=N,M=M.s7(V),S[g]=L,w[g]=N}}var j=Ei.B$(new et(0,0,M.Z,M.h),8192*8192);i.Z=Math.round(M.Z/j),i.h=Math.round(M.h/j),i.buffer=v.R(i.Z*i.h*4);for(var g=0;g<x.length;g++){var k=x[g],T=k.children;if(!(k.name=="Internal Only Canvas"||T==null)){T.sort(Pe.Xw);var R=new Et(1,0,0,1,-S[g].x,w[g]-S[g].y);R.scale(1/j,1/j);for(var O=0;O<T.length;O++){var E=T[O];Pe.xf(E,[],R,f.blobs,i,0,u),a++}}}i.f$(a),i.Lt=!0,j!=1&&alert("File scaled down "+j+"x")},Pe.xf=function(t,i,e,r,n,a,s){for(var l=Pe,h=!1,o,f,u,p,c,d=0;d<i.length;d++){var g=i[d],b=g.guidPath.guids[0];if(l.agC(b,t.guid)){var m={};for(var x in t)m[x]=g[x]!=null?g[x]:t[x];t=m}}var M=t.type,S=t.children,w=t.size,k=t.effects,T=n.an();T.uf(t.name),T.vR(t.visible),T.opacity=Math.round(t.opacity*255);var L=l.FB(t.transform),O=L.clone();O.concat(e);var E=new et(Math.round(O.PV),Math.round(O.ye),Math.round(w.x*O.d3()),Math.round(w.y*O.d3())),D=t.fillPaints,B=t.inheritFillStyleID;if(B){var m=l.Ye(s.Mo,B);m&&(D=m.fillPaints)}D==null&&(D=[]);var D=l.bH(D),I=D[0],N=t.strokePaints,B=t.inheritFillStyleIDForStroke;if(B){var m=l.Ye(s.Mo,B);m&&(N=m.fillPaints)}N==null&&(N=[]);var N=l.bH(N),V="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(M)!=-1;if((V||M=="FRAME")&&(o=new H.iO,f=[],l.uW(t,r,o,f),h=v.V.wY(o.b),v.V.G5(o.b,O),E=v.V.ue(o.b),s._2.PS&&I)){for(var j=H.iO.Cm(s._2.PS.b),d=2;d<j.length;d++)j[d].IO!=null&&(j[d].IO=3);o.b=o.b.concat(j.slice(2)),f=f.concat(JSON.parse(JSON.stringify(s._2.P$)))}if(I&&I.type=="IMAGE"){c=I.imageScaleMode,u=l.lD(r,I.image.dataBlob);var R=u.ym.Z/u.ym.h,G=w.x/w.y;p=Math.abs(R-G)}if(M!="FRAME"){if(V&&h&&u&&(c=="FIT"||c=="FILL"&&p<=.05)){var Z=r[I.image.dataBlob].bytes,_=n.f6(Z,T.getName(),0,0);_.ix=T.ix,_.opacity=T.opacity,T=_;var U=new et(0,0,w.x,w.y);if(c=="FIT"){var Y=u.ym.Z,$=u.ym.h,P=Math.min(w.x/Y,w.y/$),tt=Y*P,X=$*P;U=new et(U.x+(U.Z-tt)/2,U.y+(U.h-X)/2,tt,X)}var ht=v.D.z0(U).d;v.D.O(ht,O,ht),T.add.SoLd.Trnf=C.X.uE(ht),T.add.SoLd.nonAffineTransform=C.X.uE(ht);var F=[],k=t.effects,J=I.paintFilter;if(k){for(var d=0;d<k.length;d++)if(k[d].type=="FOREGROUND_BLUR"){var Q=k[d],rt=Zt.Sb("GsnB",{});F.push(rt),rt.v.enab.v=Q.visible,rt.v.Fltr.v.Rds.v.val=Q.radius/2.4}}if(J&&J.exposure!=0){var rt=Zt.Sb("brit",{});F.push(rt),rt.v.Fltr.v.Brgh.v=Math.round(J.exposure*160),rt.v.Fltr.v.useLegacy.v=!0}F.length!=0&&(T.add.SoLd.filterFX=Zt.U$(),n.Bq({id:T.add.SoLd.placed.v,rect:new et,buffer:v.R(1),g:new H.vm}),T.add.SoLd.filterFX.v.filterFXList.v=F),T.Gy(n,!1),l.WS(s,T,n)}else if(V){T.ix|=16,T.add.vogk=f,T.add.vmsk=o;var it=T.add.vstk=JSON.parse(JSON.stringify(at.bW.default)),nt=l.Zx(t,I,O,E,r,n,s);if(nt[0]=="None")it.fillEnabled.v=!1,T.add.SoCo=nt[1];else{var ot=nt[1].Opct.v.val;ot!=100&&(T.opacity=Math.round(T.opacity/255*(ot/100)*255)),T.add[nt[0]]=nt[1]}var nt=l.Zx(t,N[0],O,E,r,n,s);if(nt[0]!="None"){it.strokeEnabled.v=!0,it.strokeStyleLineWidth.v.val=t.strokeWeight*O.d3(),it.strokeStyleLineAlignment.v.strokeStyleLineAlignment=at.bW.Ph[["INSIDE","CENTER","OUTSIDE"].indexOf(t.strokeAlign)];var pt={SoCo:"SoFi",GdFl:"GrFl"}[nt[0]],yt=["SoFi","GrFl","patternFill"].indexOf(pt),ct=[at.QB,at.Zt,at.QZ][yt];it.strokeStyleContent.v={classID:at.bW.bl[0]},it.strokeStyleLineDashSet.v=St.oB(t.dashPattern,1/t.strokeWeight);for(var vt=it.strokeStyleContent.v={classID:at.bW.bl[yt]},d=0;d<ct.length;d++)vt[ct[d]]=nt[1][ct[d]]}if(k)for(var d=0;d<k.length;d++){var Q=k[d];Q.type=="FOREGROUND_BLUR"&&(o.bM=Q.radius/2.4)}T._V(n)}else if(M=="TEXT"){var wt=t.textData,Mt=wt.layoutSize,Ct=["LEFT","RIGHT","CENTER"].indexOf(t.textAlignHorizontal);T.add.lnsr="rend",T.add.TySh=lt.T_(0,0),T.add.TySh.xa=new et(0,0,100,100);var gt=O.clone();T.add.TySh.O=gt;var bt=T.add.TySh.MF,xt=wt.characters;if(t.textCase=="TITLE"){for(var d=0;d<xt.length;d++)if(d==0||xt[d-1]==" "){var Dt=xt.slice(0,d),Ot=xt.slice(d+1);xt=Dt+xt[d].toUpperCase()+Ot}}xt=xt.replace(/\u2028/g,`
`),xt=xt.replace(/\u2029/g,`
`),xt=xt.replace(/\r/g,`
`),lt.v$(bt,0,xt);var kt=t.textAutoResize,mt=wt.baselines;if(kt=="WIDTH_AND_HEIGHT"){var It=Ct==0?0:Ct==1?Mt.x:Mt.x/2,Bt=mt?mt[0].position.y:0;gt.translate(It*O.d3(),Bt*O.d3()),lt.E5(bt,0)}else if(kt=="HEIGHT"||kt=="NONE"||kt==null){var Bt=mt?mt[0].position.y-t.fontSize*.7:0;gt.translate(0,Bt*O.d3()),lt.E5(bt,1),lt.Z1(bt,[0,0,Math.round(Mt.x),Math.round(1.2*Mt.y)])}else throw kt;if(xt!=""){var Ut=lt.lW(bt,0,1);l.In(t,O,w,Ut,T,r,n,s),lt.Ji(bt,0,xt.length,Ut);var qt=wt.characterStyleIDs,Gt=wt.styleOverrideTable;if(qt)for(var d=0;d<qt.length;d++){var zt=qt[d];if(xt[d]!=`
`&&zt!=0){for(var Nt,Kt=0;Kt<Gt.length;Kt++)Gt[Kt].styleID==zt&&(Nt=Gt[Kt]);var Ut=lt.lW(bt,d,d+1);l.In(Nt,O,w,Ut,T,r,n,s),lt.Ji(bt,d,d+1,Ut)}}}}else if(M!="SYMBOL")if(M=="INSTANCE"){var ai=t.symbolData,fi=ai.symbolOverrides,m=l.Ye(s.Mo,ai.symbolID);m?S=m.children:console.log(t.name,"symbol not found",ai.symbolID),i=i.slice(0);for(var d=0;d<fi.length;d++)i.push(fi[d])}else console.log(M)}if(S&&!V){if(S.sort(l.Xw),a==0&&M!="SYMBOL"&&M!="INSTANCE"){T.BE(E);var di=D?D[0]:null;if(di&&di.type=="SOLID"){var $t=di.color;T.add.artb.artboardBackgroundType.v=4,T.add.artb.Clr=l.HD($t)}}n.r.push(n.Px());var si=s._2;s._2={};for(var li=0;li<S.length;li++)l.xf(S[li],i,O,r,n,a+1,s);s._2=si,T.add.lsct=Ci.kE,T.sW="pass";var Li=T.UQ();T.ix=24,T.vR(Li);var vi=a!=0&&D.length!=0&&!t.frameMaskDisabled&&t.containerSupportsFillStrokeAndCorners;vi&&o?(T.add.vmsk=o,T.add.vogk=f,T._V(n)):l.WS(s,T,n),n.r.push(T)}else if(t.mask)o&&(s._2.PS=o,s._2.P$=f);else{var yi=[],_t=1;if(k)for(var wi=0;wi<k.length;wi++){var Q=k[wi],Zi=Q.color,Vi=Q.type,Mi=["DROP_SHADOW","INNER_SHADOW"].indexOf(Vi);if(Mi!=-1){var ce=["DrSh","IrSh"][Mi],Ri=JSON.parse(at.IW[at.order.indexOf(ce)]);yi.push([ce,Ri]),Ri.enab.v=Q.visible,Ri.Md.v.BlnM=ti.Kl(l.aja(Q.blendMode)),Ri.Opct.v.val=Math.round(100*Zi.a),Ri.blur.v.val=Math.round(Q.radius*O.d3()),Ri.Clr=l.HD(Zi);var It=Q.offset.x,Bt=Q.offset.y;Ri.uglg.v=!1,Ri.lagl.v.val=Math.round(180/Math.PI*Math.atan2(Bt,-It)),Ri.Dstn.v.val=Math.round(Math.sqrt(It*It+Bt*Bt)*O.d3())}}M=="TEXT"&&D[0]&&D[0].type!="SOLID"&&(_t=0);for(var d=_t;d<D.length;d++){var zi=D[d],ee=l.Zx(t,zi,O,E,r,n,s);if(ee[0]=="GdFl")yi.push(["GrFl",ee[1]]);else if(ee[0]=="SoCo")yi.push(["SoFi",ee[1]]);else if(ee[0]=="PtFl")yi.push(["patternFill",ee[1]]);else throw ee}if(yi.length!=0){for(var Be=JSON.parse(at.default),d=0;d<at.order.length;d++)Be[at.og[d]]={t:"VlLs",v:[]};for(var d=0;d<yi.length;d++){var Yi=yi[d],ce=at.og[at.order.indexOf(Yi[0])];Be[ce].v.unshift({t:"Objc",v:Yi[1]})}S==null&&(T.add.lmfx=Be)}n.r.push(T)}},Pe.Xw=function(t,i){var e=t.parentIndex.position,r=i.parentIndex.position;return e>r?1:-1},Pe.bH=function(t){for(var i=1;i<t.length;i++){var e=t[i];if(e.type=="IMAGE"&&e.opacity==1){t=t.slice(i);break}}for(var i=0;i<t.length;i++){var e=t[i],r=e.imageThumbnail;e.type=="IMAGE"&&e.image.dataBlob==null&&r&&r.dataBlob&&(e.image=r),(!e.visible||e.type=="IMAGE"&&e.image.dataBlob==null)&&(t.splice(i,1),i--)}return t},Pe.WS=function(t,i,e){t._2.PS&&(i.add.vmsk=t._2.PS.clone(),i.add.vogk=JSON.parse(JSON.stringify(t._2.P$)),i._V(e))},Pe.In=function(t,i,e,r,n,a,s,l){var h=t.fontSize,o=t.lineHeight,f=t.fontName,u=t.textAlignHorizontal,p=t.textTracking,c=t.textCase;if(h==null&&(h=r.dS.FontSize),f&&lt.oi(r,f.postscript),h!=null&&(r.dS.FontSize=Math.round(h)),p&&(r.dS.Tracking=Math.round(p*1e3)),c&&(r.dS.FontCaps=c=="UPPER"?2:0),o&&(o.units!="PERCENT"||o.value!=100)){var d=o.value;o.units=="PERCENT"&&(d=1*h*d/100),o.units=="RAW"&&(d=1*h*d),r.dS.AutoLeading=!1,r.dS.Leading=Math.round(d)}u&&(r.eS.Justification=["LEFT","RIGHT","CENTER"].indexOf(u));var g=t.fillPaints,b=t.inheritFillStyleID;if(b){var m=Pe.Ye(l.Mo,b);m&&(g=m.fillPaints)}if(g&&g[0]){var x=Pe.Zx(t,g[0],i,e,a,s,l);if(x[0]=="SoCo"){var M=v.j.T6(x[1].Clr.v);r.dS.FillColor={Type:1,Values:[1,M.U/255,M.S/255,M.i/255]},n.opacity=Math.round(n.opacity/255*(x[1].Opct.v.val/100)*255)}}},Pe.Zx=function(t,i,e,r,n,a,s){var l=Pe,h,o,f=t.size;if(i){var u=i.type,p=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(u);if(u=="SOLID"){h="SoCo";var c=i.color;o=JSON.parse(at.IW[at.order.indexOf("SoFi")]),o.Clr=l.HD(c)}else if(p!=-1){var d=JSON.parse(at.IW[at.order.indexOf("GrFl")]),g=d.Grad.v;g.Intr.v=0,d.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][p];for(var b=[],m=i.stops,x=0;x<m.length;x++){var M=m[x],S=M.color;b.push([M.position,[S.r,S.g,S.b],S.a])}v.j.nO(b,g);var w=l.FB(i.transform);w.nJ();var k=w.clone();k.scale(f.x,f.y),k.concat(e);var T=new st(0,.5),L=new st(1,.5);T=k.aT(T),L=k.aT(L),T.x=L.x+.5*(T.x-L.x),T.y=L.y+.5*(T.y-L.y),v.j.VB(T,L,r,d),p==3&&k.m*k.xA-k.i*k.p$<0&&(d.Rvrs.v=!d.Rvrs.v),h="GdFl",o=d}else if(u=="IMAGE"){var d=JSON.parse(at.IW[at.order.indexOf("patternFill")]),O=d.phase.v,E=i.image.dataBlob,D=s.u6[E],B=1;if(D==null){var I=l.lD(n,E);D=s.u6[E]={},D.id=Pt.vs()+"-d71c-11e5-b1ae-a548a96e5f9f",D.Jx=[new Uint8Array(I.data),I.ym],D.name="someImage",a.e6(D)}d.Algn.v=!0,d.Ptrn.v.Idnt.v=D.id;var N=e.PV,V=e.ye,j=i.imageScaleMode,w=l.FB(i.transform);w.nJ();var R=r.Z,G=r.h,Z=D.Jx[1].Z,_=D.Jx[1].h;if(j=="FILL")B=Math.max(R/Z,G/_),B=Math.round(B*100)/100;else if(j=="FIT")B=Math.min(R/Z,G/_),B=Math.round(B*100)/100;else if(j=="STRETCH"){var U=R*w.m,Y=G*w.xA;B=.5*(U/Z+Y/_),B=Math.round(B*100)/100,N+=(U-R)/2+w.PV*R,V+=(Y-G)/2+w.ye*G}else j=="TILE"&&(B=i.scale,B=Math.round(B*100)/100,N+=(U-R)/2,V+=(Y-G)/2);var $=B*Z,P=B*_;N+=-($-R)/2,V+=-(P-G)/2,d.Scl.v.val=Math.round(100*B),O.Hrzn.v=Math.round(N),O.Vrtc.v=Math.round(V),h="PtFl",o=d}else throw u;o&&(o.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(i.opacity*100)}})}else h="None",o={classID:"null",Clr:{t:"Objc",v:v.j.$H({U:0,S:0,i:0})}};return[h,o]},Pe.lD=function(t,i){var e=t[i];if(e.rslt)return e.rslt;var r=e.bytes.buffer,n=ft.Xh(r),a=ft.$I(n);try{e.rslt=a.xo(r)[0]}catch(s){e.rslt={data:v.R(4),ym:new et(0,0,1,1)}}return e.rslt},Pe.uW=function(t,i,e,r){var n=t.type,a=t.size,s=t.cornerRadius,l;s==null&&(s=0);for(var h=v.P$.Zm(),o=a.x,f=a.y,u=[s,s,s,s],p=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"],c=0;c<4;c++)t[p[c]]!=null&&(u[c]=t[p[c]]);if(n=="RECTANGLE"||n=="ROUNDED_RECTANGLE"||n=="FRAME")l=v.V.Ny.Rect(0,0,o,f,u);else if(n=="ELLIPSE"){var d=t.arcData,g=d?d.startingAngle:0,b=d?d.endingAngle:2*Math.PI,m=d?d.innerRadius:0;if(g==0&&b>1.999*Math.PI?l=v.V.Ny.VO(0,0,o,f,0):l=v.V.Ny.a8Y(o/2,f/2,f/2,g,b),m!=0&&m!=1){var x=H.iO.Cm(l).slice(3);x.reverse();for(var c=0;c<x.length;c++){var M=x[c],S=M.wU;M.wU=M.dv,M.dv=S}var w=new Et;w.translate(-o/2,-f/2),w.scale(m,m),w.translate(o/2,f/2),v.V.G5(x,w),l=l.concat(x),l[2].length*=2}}else if(n=="LINE")l=v.V.Ny.Rect(0,0,o,f,0),l.pop(),l.pop(),l[2].length=2;else if(n=="REGULAR_POLYGON"){l=v.V.Ny.qF(.5,.5,.5,Math.PI/2,t.count,0);var k=new Et;k.scale(o,f),v.V.G5(l,k)}else if(n=="BOOLEAN_OPERATION"){l=[{type:6},{type:8,all:0}];var T=t.children,L=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(t.booleanOperation);if(L==-1)throw t;T==null&&(T=[]);for(var c=0;c<T.length;c++){var O=T[c],E=new H.iO,D=[],B=Pe.uW(O,i,E,D);if(E.b!=null){v.V.G5(E.b,Pe.FB(O.transform)),l=l.concat(E.b.slice(2));for(var I=0;I<D.length;I++)r.push(D[I])}}for(var c=3;c<l.length;c++)l[c].IO!=null&&(l[c].IO=L);h=null}else if(n=="VECTOR"){var N,V,j=t.vectorData;N=j.normalizedSize,V=j.vectorNetworkBlob;for(var R=i[V].bytes,G=new Uint32Array(R.buffer),Z=new Float32Array(R.buffer),_=G[0],U=G[1],Y=[],c=0;c<_;c++){var $=3+c*3,P=new st(Z[$+1],Z[$+2]);Y.push(P)}for(var tt=[],X=3+_*3,c=0;c<U;c++){var ht=X+c*7,F=G[ht+1],J=G[ht+4];tt.push([F,J,Z[ht+2],Z[ht+3],Z[ht+5],Z[ht+6]])}for(var Q=-1,c=0;c<U;c++){if(Q!=-1){for(var rt=-1,I=c;I<U;I++)tt[I][1]==Q&&(rt=I);for(var I=c;I<U;I++)tt[I][0]==Q&&(rt=I);if(rt!=-1){var it=0,S=tt[rt];tt[rt]=tt[c],tt[c]=S,S[0]!=Q&&(it=S[0],S[0]=S[1],S[1]=it,it=S[2],S[2]=S[4],S[4]=it,it=S[3],S[3]=S[5],S[5]=it)}}Q=tt[c][1]}var nt=[],ot=[],pt=-1;Q=-1;for(var c=0;c<U;c++){var yt=tt[c],F=yt[0],J=yt[1],ct=Y[F],vt=Y[J];Q!=F&&(ot.push("M"),nt.push(ct.x,ct.y),pt=F),nt.push(ct.x+yt[2],ct.y+yt[3]),nt.push(vt.x+yt[4],vt.y+yt[5]),ot.push("C"),nt.push(vt.x,vt.y),Q=J,pt==J&&(ot.push("Z"),pt=Q=-1)}if(l=v.D.sb({d:nt,W:ot},!0),s!=0){for(var u=[],wt=l[2].length,c=0;c<wt;c++)u.push(s);v.V.BG(l)&&v.V.FN(l,2,u)}var Mt=new Et;Mt.scale(N.x==0?1:a.x/N.x,N.y==0?1:a.y/N.y),v.V.G5(l,Mt)}e.b=l,h&&r.push(h)},Pe.Ye=function(t,i){return t[i.sessionID+","+i.localID]},Pe.agC=function(t,i){return t.sessionID==i.sessionID&&t.localID==i.localID},Pe.aja=function(t){var i={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn"}[t];if(i==null)throw t;return i},Pe.HD=function(t){return{t:"Objc",v:v.j.$H({U:t.r*255,S:t.g*255,i:t.b*255})}},Pe.FB=function(t){for(var i=[t.m00,t.m10,t.m01,t.m11,t.m02,t.m12],e=0;e<6;e++)Math.abs(i[e])<1e-20&&(i[e]=0);return new Et(i[0],i[1],i[2],i[3],i[4],i[5])};var C={};C.An=function(t,i,e){this.name=t,this.id=i,this.JW=null,e!=null&&(this.CE=e)},C.An.prototype.XZ=function(t,i,e,r,n){},C.An.prototype.enable=function(t,i,e,r,n,a){var s=new z(y.E.L,!0);s.data={e:y.B.Ik,rr:"default"},i.w(s)},C.An.prototype.disable=function(t,i,e,r,n){},C.An.prototype.SV=function(t,i,e,r,n){return!1},C.An.prototype.R$=function(t,i,e,r,n){},C.An.prototype.xg=function(t,i,e,r,n){},C.An.prototype.$E=function(t,i,e,r,n){},C.An.prototype.NL=function(t,i,e,r,n){},C.An.prototype.FT=function(t,i,e,r,n){},C.An.prototype.gU=function(t,i,e,r){},C.An.prototype.RR=function(t,i,e,r){},C.An.prototype.oF=function(t,i){},C.An.prototype.tO=function(t,i){},C.An.prototype.zT=function(t,i,e,r,n){},C.An.prototype.AK=function(t,i){},C.An.prototype.aU=function(t,i){return!1},C.An.prototype.Vc=function(t,i){return!1},C.An.prototype.go=function(){return!1},C.An.prototype.QA=function(t,i){return!0},C.An.prototype.Nn=function(){return null},C.An.prototype.O0=function(t,i,e){},C.An.prototype.zX=function(){return!1},C.An.prototype.Ip=function(t,i,e,r){},C.An.prototype.track=function(t){var i=new z(y.E.QJ,!0);i.data=t,t.Ke=!0,this.JW.w(i)},C.An.Wf=function(t,i,e,r,n){C.An.fo(t,i,[Lt.get([12,41]).charAt(0)+": "+v.t$.Rq(e.Z,r.NB,n,r.Z,!0),Lt.get([12,42]).charAt(0)+": "+v.t$.Rq(e.h,r.NB,n,r.h,!0)],r)},C.An.fo=function(t,i,e,r){var n=14,a=130,s=e.length*17+8,l=new et(t,i-s,a,s),h=C.An.Sj;h==null&&(h=C.An.Sj=document.createElement("canvas")),h.width=a,h.height=s;var o=h.getContext("2d");o.fillStyle="rgba(0,0,1,1)",o.fillRect(0,0,a,s),o.font=n+"px monospace",o.fillStyle="rgba(255,255,255,1)";for(var f=0;f<e.length;f++)o.fillText(e[f],6,(f+1)*17);r.v.Tw=[[o.getImageData(0,0,a,s).data,l.clone()]]},C.An.Sj=null,C.fb="0",C.j1="1",C.akK="2",C.aeq="3",C.IV="5",C.a6q="6",C.a9j="7",C.eK="8",C.a2Z="9",C.Uj="10",C.Hd="11",C.Xy="12",C.tB="13",C.V5="14",C.a4g="16",C.re="18",C.af="19",C.cs="20",C.N0="22",C.Sm="23",C.o9="24",C.pJ="25",C.MS="27",C.um="31",C.a0R="32",C.a2F="34",C.a82="35",C.oZ="36",C.hW="37",C.nD="38",C.oR="39",C.uh="40",C.oo="41",C.wu="42",C.Rw="43",C.OX="47",C.lL="51",C.C1="52",C.wg="54",C.nA="55",C.S3="56",C.rG="57",C.SM="58",C.Al="59",C.a7J="60",C.QS="61",C.DV="100",C.SH="101",C.UK="120",C.Vd="230",C.afs="231",C.Kb="232",C.xC="233",C.FA="234",C._q="235",C.Jc="236",C.iH=function(t){var i=C.er,e=null;for(var r in i)i[r][1].indexOf(t[1].classID)!=-1&&(e=r);return e},C.er={},C.er[C.Sm]=["tools/brush",["PbTl"]],C.er[C.o9]=["tools/pencil",["PcTl"]],C.er[C.um]=["tools/eraser",["ErTl"]],C.gn=function(t,i,e){C.An.call(this,t,i,e),this.fT={brush:t?ye.Jl():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0},this.yH=null,this.A4=null,this.KO=null,this.Mi=null,this.P_=null,this.w6=null,this.MD=null,this.lC=null,this.R6=null,this.Pv=null,this.zd=null,this.b6=null,this.la=null,this.gT=1,this.oN=!1,this.mo=null,this.caller=null},C.gn.prototype=new C.An,C.gn.prototype.Vc=function(t,i){return t.Ku&&i.s(W.cm)},C.gn.prototype.xg=function(t,i,e,r,n){if(r.s(W.ze)){this.w6=new st(n.x,n.y);var a=this.fT.brush.Brsh.v,s=a.Dmtr.v.val,l=a.Hrdn!=null?a.Hrdn.v.val:-1;this.MD=[s,l,!0,JSON.parse(JSON.stringify(this.fT.brush)),n],this.b9(e)}},C.gn.prototype.rg=function(t,i,e){var r=this.MD,n=t.a.F,a=e.x-r[4].x,s=e.y-r[4].y,l=r[0],h=r[1],o=Math.abs(a)>Math.abs(s);if(o&&r[2]){var f=Math.round(2*a/n);l+=f,e.x-=a-.5*f*n}if(!o&&!r[2]&&h!=-1){var f=Math.round(.25*s);h+=f,e.y-=s-4*f}l=Math.max(1,l),h=r[1]==-1?-1:Math.max(0,Math.min(100,h));var u=r[3];u.Brsh.v.Dmtr.v.val=l,h!=-1&&(u.Brsh.v.Hrdn.v.val=h),this.MD=[l,h,o,u,e];var p=Qt.ug(u,i.aF.Xu,n),c=p[1];c.x=Math.round(this.w6.x-c.Z/2),c.y=Math.round(this.w6.y-c.h/2),t.v.bU=[p];var d=t.a.PY(this.w6.x,this.w6.y);t.v.bX={od:[],K3:[d.x-l/2,d.y,d.x+l/2,d.y]},h!=-1&&t.v.bX.K3.push(d.x+50/n,d.y-h/2,d.x+50/n,d.y+h/2),t.Vg=!0},C.gn.prototype.FT=function(t,i,e,r,n){if(this.id!=C.cs){if(this.w6){this.w6=null,this.Rk(JSON.parse(JSON.stringify(this.MD[3]))),t.v.bU=[],t.v.bX=null,t.Vg=!0;return}var a=new z(y.E.L,!0);a.data={e:y.B.Zo,Q:this.id,aeE:"showBrushOpts",cQ:new st(n.Bx+4,n.yG)},i.w(a)}},C.gn.prototype.Rk=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.Sl,S9:ut.SO,S1:t},this.caller.w(i)},C.gn.XL=function(t,i,e,r){t==null&&(t="FrgC"),i==null&&(i="norm"),e==null&&(e=1);var n={classID:"Fl",Usng:{t:"enum",v:{FlCn:t}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(e*100)}},Md:{t:"enum",v:{BlnM:ti.Kl(i)}}};return t=="Clr"&&(n.Clr={t:"Objc",v:r}),t=="contentAware"&&(n.contentAwareColorAdaptationFill={t:"bool",v:!0}),{Bm:"fill",w1:n}},C.gn.prototype.XZ=function(t,i,e,r,n){this.JW=i;var a=e.oD.length;if(!(a==0&&!e.FD())){var s=a!=0?-1-e.oD[0]:e.p[0],l=e.r[s];if(t.e=="fromAction"){var h=t.WR,o=h.w1;if(h.Bm=="fill"){var f=(o.Opct?o.Opct.v.val:100)/100,u=o.Md?ti.pT(o.Md.v.BlnM):"norm",p=o.Usng.v.FlCn,c;if(p=="contentAware"){if(e.K==null){alert("Select an area to heal first.");return}if(!e.FD())return;this.qO(e);var d=e.K,g=v.R(d.rect.M()*4);v.Oy(d.channel,g,3),this.vM(e,"sheal",g,d.rect,d.rect),this.A(e,d.rect),this.finish(e,d.rect)}else{if(p=="FrgC")c=n.GY;else if(p=="BckC")c=n.Ty;else if(p=="Blck")c=0;else if(p=="Wht")c=16777215;else if(p=="Gry")c=8421504;else if(p=="Clr"){var b=v.j.T6(o.Clr.v);c=b.U<<16|b.S<<8|b.i}var m=c>>16&255,x=c>>8&255,M=c>>0&255;this.Fb(e,l,e.K,m,x,M,Math.round(255*f),u,[2,3])}}else if(h.Bm=="delete"){var S=s<0?1:l.kB,d=e.K,w;if(d==null)return;var k=s<0?e.Yq[-s-1]:S<=0?null:S==1?l.jk():l.yg(e).g,T=S<=0?l.rect:k.rect,L=S<=0?d.rect.$X(T):d.rect.clone();if(L.qr())return;var O=L.M();if(S<=0?(w=v.R(O*4),v.BP(l.buffer,l.rect,w,L)):(w=v.R(O),k.extend(L),v.Lj(k.channel,k.rect,w,L)),0<=s&&l.Je(e,d))S<=0?(v.XB(w,0),v.BP(l.rD.gx,l.rD.OJ,w,L)):(v.set(w,255),v.Lj(l.rD.gx,l.rD.OJ,w,L));else if(S<=0){var E=v.R(w.length>>2);v.E4(w,E,3),v.N.fG(v.Zm(d.rect.M()),d.rect,E,L,d.channel,L,1),v.Oy(E,w,3)}else{var D=v.R(d.rect.M()),m=n.Ty>>16&255,x=n.Ty>>8&255,M=n.Ty>>0&255;v.set(D,Math.round(v.ou(m,x,M))),v.N.fG(D,d.rect,w,L,d.channel,L,1)}this.Nr(e,!0,[2,2],s,S,L,w)}}if(t.e=="stroke"){var B=t.a3I,d=e.K;d==null&&(d={rect:l.rect.clone(),channel:v.R(l.rect.M())},v.E4(l.buffer,d.channel,3));var I=St.Uo(B),N=C.hl.dt(d,Math.ceil(I[0]),Math.ceil(I[1])),c=v.j.T6(B.Clr.v),m=Math.round(c.U),x=Math.round(c.S),M=Math.round(c.i);this.Fb(e,l,N,m,x,M,Math.round(255*B.Opct.v.val/100),ti.pT(B.Md.v.BlnM),[14,9])}if(t.e=="fillBMP"&&this.c8(e,l,e.K,t.mu,t.Si,t.tP),t.e=="draw"){var V=t.pL,j=V.rect;this.qO(e);var R=e.r[e.p[0]];if(t.wd&&R&&R.kB<=0)j=dt.T8.I3(V,e),R.buffer=V.buffer.slice(0),R.rect=j.clone();else{var G=this.fT.bmode;this.fT.bmode="norm",this.vM(e,"draw",V.buffer,j,j.$X(new et(0,0,e.Z,e.h))),this.fT.bmode=G}this.A(e,j),e.Vf=!0,this.finish(e,j,t.tP,t.wd)}}},C.gn.prototype.Fb=function(t,i,e,r,n,a,s,l,h){var o=e==null?new et(0,0,t.Z,t.h):e.rect,f=s<<24|a<<16|n<<8|r<<0,u=v.R(o.M()*4);v.XB(u,f),this.c8(t,i,e,u,l,h)},C.gn.prototype.c8=function(t,i,e,r,n,a){var s=t.oD.length!=0?-1-t.oD[0]:t.p[0],l=s<0?1:i.kB,h=s<0?t.Yq[-1-s]:l<=0?null:l==1?i.jk():i.yg(t).g,o=l<=0?i.rect:h.rect,f=e==null?new et(0,0,t.Z,t.h):e.rect,u=e==null?v.AA(t.Z*t.h):e.channel,p=f.M(),c,d=null;if(l<=0?(c=v.R(p*4),v.BP(i.buffer,i.rect,c,f)):(c=v.R(p),h.extend(f),v.Lj(h.channel,h.rect,c,f)),e!=null&&v.v0(u,r),l>0&&(d=v.R(p),v.np(r,d)),0<=s&&e&&i.Je(t,e)){var g=i.rD.zU,b=v.clone(i.rD.zU);l<=0?v.Hk(r,b):v.Hk(d,b);var m=new ni([2,3],this);m.data={e:"drawtemp",n:t.p[0],qf:l,a3u:g,abZ:b},t.TX(m),this.oF(m.data,t)}else{if(l<=0){var x;i.k6(0)&&(x=v.R(f.M()),v.E4(c,x,3)),v.N.DO(n,r,f,c,f,f,1),i.k6(0)&&v.Oy(x,c,3)}else v.N.fG(d,f,c,f,u,f,1);this.Nr(t,!0,a,s,l,f,c)}},C.gn.prototype.aU=function(t){return W.Ed.indexOf(t)!=-1},C.gn.prototype.gU=function(t,i,e,r){var n=this.fT.brush,a=r.s(W.ze),s=a!=this.oN,l=C.gn.gp(n,r);if(l!=null&&this.Rk(l),!r.s(W.Bl)&&r.gL()!=-1){var h=y.Wd(Math.round(this.fT.opacity*100),r.gL())/100;this.SC({opacity:h},i)}if(this.id==C.eK&&s&&t!=null){var o=this.fT.qsmode;o==2?o=t.K==null?0:1:o=2,this.SC({qsmode:o},i)}this.oN=a,s&&(t&&(this.gT=t.a.F),this.b9(e,r))},C.gn.gp=function(t,i){var e=t.Brsh.v.Dmtr.v.val,r=t.Brsh.v.Hrdn!=null?t.Brsh.v.Hrdn.v.val:-1,n=e,a=r,s=i.s(W.cm);if(i.s(W.VR)&&(s?r=25*Math.floor((r-1)/25):e<=10?e--:e<=50?e=5*Math.floor((e-1)/5):e<=100?e=10*Math.floor((e-1)/10):e<=200?e=25*Math.floor((e-1)/25):e<=400?e=50*Math.floor((e-1)/50):e=100*Math.floor((e-1)/100)),i.s(W.nH)&&(s?r=25*Math.ceil((r+1)/25):e<10?e++:e<50?e=5*Math.ceil((e+1)/5):e<100?e=10*Math.ceil((e+1)/10):e<200?e=25*Math.ceil((e+1)/25):e<400?e=50*Math.ceil((e+1)/50):e=100*Math.ceil((e+1)/100)),e=Math.max(1,e),r=Math.max(0,Math.min(100,r)),a==-1&&(r=-1),e!=n||r!=a){var l=JSON.parse(JSON.stringify(t));return l.Brsh.v.Dmtr.v.val=e,a!=-1&&(l.Brsh.v.Hrdn.v.val=r),l}return null},C.gn.prototype.b9=function(t,i,e,r){if(t.aF.list.length!=0){var n=this.id,a;if((n==C.MS||n==C.af||n==C.Sm||n==C.o9)&&(i!=null&&i.s(W.ze)||this.fT.alt[0]))a="crosshair";else{var s=this.gT,l=this.fT.brush,h;if(e&&e.p.length!=0&&(h=e.r[e.p[0]]),(n==C.MS||n==C.af)&&h!=null&&h.kB<=0&&this.b6){var o=e.a.PY(r.x,r.y),f=this.zN(o),u=this.b6,p=this.zd,c=new et(p.x+f.x,p.y+f.y,p.Z,p.h),d=Qt.ug(l,t.aF.Xu,s),g=d[0],b=d[1],m=Math.ceil(b.Z/s),x=new et(Math.round(o.x-m/2),Math.round(o.y-m/2),m,m),M=v.R(x.M()*4),S,w;if(v.BP(u,c,M,x),s==1)S=M,w=x;else if(s<1){var k=v.NP(M,x,s);S=k.Ww,w=k.rect,w.M()!=b.M()&&(w=b.clone(),w.x=k.rect.x,w.y=k.rect.y,S=v.R(w.M()*4),v.BP(k.Ww,k.rect,S,w))}else S=g.slice(0),w=b,v.scale.sI(M,x.Z,x.h,S,w.Z,w.h,s);for(var T=this.fT.opacity/255,L=0;L<S.length;L+=4)S[L+3]=T*(g[L+3]*S[L+3]);a={jX:S,T:w,bP:new st(w.Z/2,w.h/2)}}else a=Qt.b_(l,t.aF.Xu,s,n==C.pJ)}var O=new z(y.E.L,!0);O.data={e:y.B.Ik,rr:a},this.caller&&this.caller.w(O)}},C.gn.prototype.enable=function(t,i,e,r){this.yH=e,this.caller=i,this.Rk(JSON.parse(JSON.stringify(this.fT.brush))),t&&t.a.F!=0&&(this.gT=t.a.F),this.b9(e,r)},C.gn.prototype.AK=function(t,i){i==ut.SO&&(this.fT.brush=t.aF.Y5,this.b9(t))},C.gn.prototype.zT=function(t,i,e,r,n){for(var a in t)this.fT[a]=t[a];this.fT.alt[0]&&this.b9(n,r,e)},C.gn.prototype.O1=function(t){var i=t.oD.length!=0?-1-t.oD[0]:t.p[0],e=t.r[i],r=i<0?1:e.kB,n=i<0?t.Yq[-i-1]:r<=0?null:r==1?e.jk():e.yg(t).g,a=n?n.channel:e.buffer,s=(n?n.rect:e.rect).clone();return[e,r,n,a,s]},C.gn.prototype.qO=function(t,i){this.la=t.K==null?null:{rect:t.K.rect.clone(),channel:v.clone(t.K.channel)};var e=this.O1(t),r=e[0],n=e[1],a=e[2];this.Pv=e[3],this.R6=e[4];var s=new et(0,0,t.Z,t.h),l=s.s7(this.R6);(this.cC()&&n<=0||l.Qn(this.R6))&&i!=!0?this.Pv=this.Pv.slice(0):a?a.extend(l):r.extend(l)},C.gn.prototype.Rc=function(t){var i=this.O1(t),e=i[1],r=i[3],n=i[4],a=[r,n],s=this.fT.sfrom;e<=0&&s!=0&&(a[1]=new et(0,0,t.Z,t.h),a[0]=v.clone(t.lD(s==1&&t.p[0]!=t.r.length-1?t.p[0]:null))),this.b6=a[0].slice(0),this.zd=a[1].clone()},C.gn.prototype.Z4=function(t,i,e){if(t.s(W.ze)){var r=new z(y.E.H,!0);return r.Q=C.V5,r.data={e:"pickhere",a4y:e},i.w(r),!0}return!1},C.gn.prototype.yC=function(t,i,e,r,n,a){if(!t.FD(this.caller)){this.A4=null;return}this.qO(t);var s=new et(0,0,t.Z,t.h),l=null;if(a!=null){var h=t.oD.length!=0?-1-t.oD[0]:t.p[0],o=t.r[h],f=h<0?t.Yq[-h-1]:o.kB<=0?null:o.kB==1?o.jk():o.yg(t).g;l=v.R(s.M()*4),f?C.gn.Jy(this.Pv,this.R6,f.color,l,s):v.BP(this.Pv,this.R6,l,s)}var u=this.fT;if(!(this.A4&&this.id==C.eK&&u.qsmode!=0&&t.K!=null)){var p=i.GY,c=i.Ty;if(this.mo=="erase"){var d=p;p=c,c=d}var g=this.id==C.eK?this.R6:s;this.A4=new Qt(u.brush,i.aF.Xu,i.aF.A6,{Jf:n,p9:a,a2k:u.smth*50*y.J()/t.a.F,mc:this.id==C.o9||u.emode==1,lx:u.prsr},p,c,g,l)}this.id==C.eK&&this.A4.ST(u.brush,u.qsmode==2?0:16777215);var b=t.a.PY(r.x,r.y);b=C.qT.aE(t,b,i),e.s(W.cm)&&this.KO?(this.A4.moveTo(this.KO.x,this.KO.y,r.kH),this.A4.lineTo(b.x,b.y,r.kH)):this.A4.moveTo(b.x,b.y,r.kH),this.KO=b,this.Mi=b.clone(),this.P_=new ml(b)},C.gn.prototype.yP=function(t,i,e){t&&t.a.F!=0&&t.a.F!=this.gT&&(this.gT=t.a.F,this.b9(e))},C.gn.prototype.Td=function(t,i,e,r){if(this.A4!=null){var n=t.r[t.p[0]],a=t.a.PY(r.x,r.y);a=C.qT.aE(t,a,i);var s=this.P_.ki(a,e);if(s.Qn(this.KO))return 1;if(this.A4.lineTo(s.x,s.y,r.kH),this.KO=s,this.id==C.MS||this.id==C.af){var l=this.vh(),h=11;l=t.a._R(a.x-l.x,a.y-l.y);var o=h>>>1,f=new et(Math.round(l.x)-o,Math.round(l.y)-o,h,h),u=v.R(f.M()*4);v.XB(16777215);for(var p=0;p<h;p++)u[(p*h+o)*4+3]=u[(h*o+p)*4+3]=255;t.v.Tw=[[u,f]],t.Vg=!0}}},C.gn.prototype.RR=function(t,i,e,r){e.Mp==this.id&&(this.id!=C.eK||t==null||(t.K==null||t.p[0]!=this.a0D)&&(this.a0D=t.p[0],this.SC({qsmode:0},i)))},C.gn.prototype.A=function(t,i){if(t.oD.length!=0){t.Vg=!0;return}var e=t.r[t.p[0]];i==null&&(i=this.A4.Oo(),this.cC()&&e.kB<=0&&(i=i.$X(this.R6))),!i.qr()&&(e.kB<=0&&e.A(i),e.kB==1&&(e.jk().G2=!0,e._V(t)),e.kB==3&&e.A(),t.A(t.root.Ch(i,t,t.p[0],!0)))},C.gn.prototype.NL=function(t,i,e,r,n){if(this.A4!=null){if(this.A4.finish(),this.id!=C.re&&this.id!=C.af&&this.id!=C.eK&&this.km(t),(this.id==C.MS||this.id==C.af)&&(t.v.Tw=[],t.Vg=!0),this.id==C.eK){var a=t.K;t.K=this.la;var s=new z(y.E.H,!0);s.data={e:"setsel",tP:this.name,K:a},s.Q=C.j1,i.w(s),this.fT.qsmode==0&&this.SC({qsmode:1},i)}else this.finish(t,this.A4.J0()),this.A4=null,this.lC=null;this.dir=0}},C.gn.prototype.SC=function(t,i){for(var e in t)this.fT[e]=t[e];var r=new z(y.E.L,!0);r.data={e:y.B.Zo,Q:this.id,KK:t},i.w(r)},C.gn.prototype.cC=function(){var t=this.id;return t==C.eK||t==C.um||t==C.oR||t==C.uh||t==C.oo||t==C.N0},C.gn.prototype.finish=function(t,i,e,r){var n=t.oD.length!=0?-1-t.oD[0]:t.p[0],a=t.r[n],s=n<0?1:a.kB,l=n<0?t.Yq[-n-1]:s<=0?null:s==1?a.jk():a.yg(t).g,h=l?l.rect:a.rect,o;if(this.cC()||!h.Qn(this.R6)){if(l==null)if(this.cC())a.HZ();else{var f=i.s7(this.R6),u=v.R(f.M()*4);v.BP(a.buffer,a.rect,u,f),a.buffer=u,a.rect=f}else l.HZ();this.A(t,h)}s<=0?(o=v.R(i.M()*4),v.BP(this.Pv,this.R6,o,i)):(o=v.R(i.M()),v.set(o,l.color),v.Lj(this.Pv,this.R6,o,i)),this.Nr(t,!1,e||this.name,n,s,i,o,r)},C.gn.prototype.Nr=function(t,i,e,r,n,a,s,l){var h=s;n>0&&(h=v.R(a.M()*4),C.gn.Jy(s,a,0,h,a));var o=new ni(e,this);o.data=[{n:r,qf:n,T:a,Tr:h}],l&&(o.data.zY=[t.K,null]),t.TX(o),i?this.oF(o.data,t):l&&(t.K=null),dt.Dt.Gh(t,o.data)},C.gn.prototype.tO=function(t,i){this.qg(t,i,!1)},C.gn.prototype.oF=function(t,i){this.qg(t,i,!0)},C.gn.prototype.qg=function(t,i,e){if(t.e=="drawtemp"){var r=e?t.abZ:t.a3u,n=i.r[t.n];n.rD.zU=r,n.CH(i,0,0,i.K),n.A(),i.Vf=!0}else dt.Dt.Cb(i,t),t.zY&&(i.K=t.zY[e?1:0],i.Es=!0);i.A()},C.gn.prototype.km=function(t){this.vM(t,this.mo,this.A4.qq(),this.A4.o7(),this.A4.Oo()),this.A(t)},C.gn.prototype.vM=function(t,i,e,r,n){var a=this.fT,s=t.r[t.p[0]],l=t.oD.length!=0?t.Yq[t.oD[0]]:s.kB<=0?null:s.kB==1?s.jk():s.yg(t).g,h=v.R(n.M()*4),o,f=s.k6(0);if(l==null?(v.BP(this.Pv,this.R6,h,n),f&&(o=v.R(n.M()),v.E4(h,o,3))):C.gn.Jy(this.Pv,this.R6,l.color,h,n),t.K&&i!="qselect"){var u=n.$X(t.K.rect),p=v.R(u.M()*4);if(i=="copy"){var c=v.R(u.M());v.Lj(t.K.channel,t.K.rect,c,u),v.BP(h,n,p,u),v.N.$e(e,r,p,u,c,u,0,u,1,!1)}else v.BP(e,r,p,u),v.pa(t.K.channel,t.K.rect,p,u);e=p,r=u}if(i=="idraw"||i=="ierase"){this.lC==null&&(this.lC=v.R(this.R6.M()));var d=this.fT.samp,g=this.yH.Ty,b=d==0?this.KO:this.Mi,m=b.x,x=b.y,M=C.C6.$i(this.Pv,this.R6,[b,new st(m-2,x),new st(m+2,x),new st(m,x-2),new st(m,x+2)]);d==2&&(M=[[g>>>16&255,g>>>8&255,g>>>0&255,255]]);var S=C.C6.XF(h,n,this.KO,M,this.fT.wconf),w=v.R(n.M());v.Lj(this.lC,this.R6,w,n),v.pv.s7(S,w,w),v.Lj(w,n,this.lC,this.R6),v.pa(w,n,e,r),i=i.slice(1)}if(i=="erase"&&(dt.Dt.Uv(t)!=16777215||l)&&(i="draw"),i=="draw")v.N.DO(a.bmode,e,r,h,n,n,a.opacity);else if(i=="erase"){var k=v.R(n.M()*4);if(v.BP(e,r,k,n),l==null){var T=v.R(n.M());v.E4(k,T,3),v.WI(T,a.opacity),v.nJ(T),v.pa(T,n,h,n)}else v.XB(k,0,4278190080),v.N.DO("norm",k,n,h,n,n,a.opacity)}else if(i=="clone"||i=="heal"){var L=this.vh(),O=this.zd.clone();O.offset(L.x,L.y);var E=n.clone();E.PK(1,1);var D=v.R(E.M()*4),B=v.R(E.M());if(v.BP(e,r,D,E),v.E4(D,B,3),v.XB(D,0),l==null){v.BP(this.b6,O,D,E);var I=v.R(E.M());v.E4(D,I,3),v.vB(I,B)}else C.gn.Jy(this.Pv,O,l.color,D,E);if(i=="clone"&&(v.Oy(B,D,3),v.N.DO(a.bmode,D,E,h,n,n,a.opacity)),i=="heal"){var N=v.clone(B);v.round(N,20);var V=v.R(E.M()*4);v.BP(this.Pv,this.R6,V,E),v.N.$e(D,E,V,E,N,E,0,E,1,!1),v.w9.I4(V,N,E),v.N.$e(V,E,h,n,B,E,0,n,1,!1)}}else if(i=="dodge"||i=="burn"){var D=v.R(n.M()*4),j=1,R=0,G=0,Z=0;v.BP(e,r,D,n);var _=n.M()*4,U=C.gn.ff;this.oN&&(i=="dodge"?i="burn":i="dodge");var Y=a.rng;i=="dodge"&&(R=[1-j/2,1,1+j][Y],G=[1,1/(1+j),1][Y],Z=[j/2,0,0][Y]),i=="burn"&&(R=[1/(1-j/2),1,1-j/2][Y],G=[1,1+j,1][Y],Z=[-(j/2)/(1-j/2),0,0][Y]);for(var $=0;$<_;$+=4){var P=D[$+3];h[$+0]=U(h[$+0],R,G,Z,P),h[$+1]=U(h[$+1],R,G,Z,P),h[$+2]=U(h[$+2],R,G,Z,P)}}else if(i=="sponge"||i=="redeye"){var D=v.R(n.M()*4),B=v.R(n.M());v.BP(e,r,D,n),v.E4(D,B,3),v.Hk(h,D);var tt=a.smode;this.oN&&(tt=1-tt);var X=Zt.tt("hue2");i=="sponge"?rr._j(X,0,[0,[-50,46][tt],[6,5][tt]]):rr._j(X,1,{Ej:[265,305,25,55],qh:[0,-90,-70]});var ht=Vt.VM("hue2",X);Vt.t5(ht,D,D,n),v.N.$e(D,n,h,n,B,n,0,n,1,!1)}else if(i=="copy")v.BP(e,r,h,n);else if(i=="sheal"){var D=v.R(n.M()*4),B=v.R(n.M());v.BP(e,r,D,n),v.E4(D,B,3),v.mC.I4(this.Pv,this.R6,B,h,n)}else if(i=="qselect"){var F=this.R6,J=F.Z,Q=F.h,rt=J*Q,it=this.A4.qq(),M=this.Pv,nt=C.hl.Et,B=nt.px;B.fill(128);for(var $=0;$<rt;$++){var ot=it[$<<2],pt=it[($<<2)+3];pt==255&&(ot==0||ot==255)&&(B[$]=ot)}B[0]=B[J-1]=0,B[(Q>>>1)*J]=B[(Q>>>1)*J+J-1]=0,C.J4.DM(nt,!0),t.K={rect:F,channel:nt.K.slice(0)},t.Es=!0}l==null?(f&&v.Oy(o,h,3),v.BP(h,n,s.buffer,s.rect)):C.gn.uF(h,n,l)},C.gn.vh=function(){return null},C.gn.ff=function(t,i,e,r,n){var a=t*(1/255),s=r+i*Math.pow(a,e),l=Math.round(s*n+a*(255-n));return Math.max(0,Math.min(255,l))},C.gn.Jy=function(t,i,e,r,n){var a=v.R(n.M());v.set(a,e),v.Lj(t,i,a,n),v.XB(r,4278190080),v.Sv(a,r)},C.gn.uF=function(t,i,e){var r=v.R(i.M());v.np(t,r),v.Lj(r,i,e.channel,e.rect)},C.hl=function(t,i,e){C.An.call(this,t,i,e),this.fT={hw:"front",bM:0,H7:{wV:0,x:3,y:2},dU:[10,!0,!0]},this.k7=new st(-1,-1),this.H9=new st(-1,-1),this.qy="default",this.JW=null,this.e3=!1,this.qw=!1,this.oN=!1,this.LX=0,this.y0=0,this.vi=!1,this.Zp=null,this.ot=null,this.sY=!1},C.hl.prototype=new C.An,C.hl.Et={key:""},C.hl.L8=function(t,i){var e={Bm:t,w1:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};return i&&(e.w1.T=i),e},C.hl.FL=function(t,i){return C.hl.L8("set",{t:"Objc",v:{classID:t,Top:{t:"UntF",v:{type:"#Pxl",val:i.y}},Left:{t:"UntF",v:{type:"#Pxl",val:i.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:i.y+i.h}},Rght:{t:"UntF",v:{type:"#Pxl",val:i.x+i.Z}}}})},C.hl.mT=function(t,i){for(var e=[],r=[],n="set",a=0;a<t.length;a+=2)e.push(t[a]),r.push(t[a+1]);var s={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:e},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:r}]}}}};return i&&(n={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[i]),C.hl.L8(n,s)},C.hl.aaY=function(t,i){var e={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:t.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:t.y}}}},r=C.hl.L8("set",e);return r.w1.Tlrn={t:"long",v:i[0]},r.w1.AntA={t:"bool",v:i[1]},r.w1.Cntg={t:"bool",v:i[2]},r},C.hl.cA=function(t){return C.hl.L8("set",{t:"enum",v:{Ordn:t?"Al":"None"}})},C.hl.abI=function(t,i,e){var r={classID:"null"};t!="border"&&(r.selectionModifyEffectAtCanvasBounds={t:"bool",v:e});var n={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[t[0]];return r[n]={t:"UntF",v:{type:"#Pxl",val:i}},{Bm:t,w1:r}},C.hl.amp=function(t,i,e){var r={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},n={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][e]}},{t:"name",v:{classID:"Lyr",val:t}}]},a=[{classID:"null",null:r,T:n},{classID:"null",null:n,T:r},{classID:"null",null:n,From:r},{classID:"null",null:n,With:r}],s=["set","add","subtract","interfaceIconFrameDimmed"];return{Bm:s[i],w1:a[i]}},C.hl.RE=function(t,i){var e=new z(y.E.L,!0);e.data={e:y.B.Sl,S9:ut.Kw},i.IT||t.w(e),e.data={e:y.B.Sl,S9:ut.KZ},i.Np.X0||t.w(e)},C.hl.prototype.XZ=function(t,i,e,r,n){C.hl.RE(i,n),this.JW=i;var a=t.e,s,l,h=new et(0,0,e.Z,e.h),o=!1,f,u,p,c;if(a=="fromAction"){var d=t.WR,g=d.Bm,b=d.w1,m=b?b.selectionModifyEffectAtCanvasBounds:null,x=m&&m.v;if(g=="inverse"){if(e.K==null){alert("No selection!");return}s={channel:v.R(h.M()),rect:h},v.Lj(e.K.channel,e.K.rect,s.channel,s.rect),v.nJ(s.channel),l=[7,2]}else if(g=="expand"){var M=b.By.v.val,S=e.K.rect.clone();S.PK(M,M);var w=v.R(S.M()),k=v.R(S.M());v.Lj(e.K.channel,e.K.rect,k,S),v.style.stroke(k,w,S,M),s={channel:w,rect:S},l=[7,4]}else if(g=="contract"){var M=b.By.v.val,T=e.K.rect.clone();T.PK(1,1),x||(T=T.$X(h));var k=v.R(T.M()),L=v.R(k.length);v.Lj(e.K.channel,e.K.rect,k,T),v.nJ(k),v.style.stroke(k,L,T,M),v.nJ(L),s={channel:L,rect:T},v.HZ(s),l=[7,5]}else if(g=="border"){var M=b.Wdth.v.val;s=C.hl.dt(e.K,M/2,M/2),l=[7,9]}else if(g=="feather"||g=="smoothness"){var M=b.Rds.v.val;s=C.hl.nj(e.K,M,g=="smoothness",h,x),l=g=="feather"?[7,6]:[19,3,0]}else{let fi=function($t){var si=$t.Top.v.val,li=$t.Left.v.val;return new et(li,si,$t.Rght.v.val-li,$t.Btom.v.val-si)},di=function($t){for(var si=$t[0].arr,li=$t[1].arr,Li={d:[],W:[]},vi=0;vi<si.length;vi++)Li.W.push(vi==0?"M":"L"),Li.d.push(si[vi],li[vi]);return Li.W.push("Z"),Li};var Kt=fi,ai=di,O=b.null.v,E=["set","addTo","subtractFrom","interfaceWhite"].indexOf(g),D=b.T?b.T.v:null;if(D&&D.classID=="Elps")s=this.Q2(C.Ou.P2(fi(D))),l=[10,4];else if(D&&D.classID=="Rctn"){var B=fi(D);s={channel:v.R(B.M()),rect:B.clone()},v.set(s.channel,255),l=[10,15]}else if(D&&D.classID=="ObSl"){var B=fi(D),I=C.hl.Et,N=I.rect,V=I.px,j=N.Z,R=N.h,G=B.x-N.x,Z=G+B.Z-1,_=Math.max(G,Math.min(Z,G+Z>>>1)),U=B.y-N.y,Y=U+B.h-1,$=Math.max(U,Math.min(Y,U+Y>>>1)),P=Math.max(G,0),tt=Math.min(Z,j),X=Math.max(U,0),ht=Math.min(Y,R);if(V.fill(128),0<=U)for(var F=P;F<tt;F++)V[U*j+F]=0;if(Y<R)for(var F=P;F<tt;F++)V[Y*j+F]=0;if(0<=G)for(var J=X;J<ht;J++)V[J*j+G]=0;if(Z<j)for(var J=X;J<ht;J++)V[J*j+Z]=0;for(var Q=C._u.l0,rt=Math.round(B.Z*Q),it=Math.round(B.h*Q),F=Math.max(0,_-rt);F<Math.min(j,_+rt);F++)V[$*j+F]=255;for(var J=Math.max(0,$-it);J<Math.min(R,$+it);J++)V[J*j+_]=255;C.J4.DM(I,!0),s={channel:I.K.slice(0),rect:N.clone()},l=[10,44]}else if(D&&D.classID=="Plgn")s=this.Q2(di(D.Pts.v.arr)),l=[10,9];else if(D&&D.classID=="Pnt")s=C.C6.tU(e,new st(D.Hrzn.v.val,D.Vrtc.v.val),[b.Tlrn.v,b.AntA==null||b.AntA.v,b.Cntg==null||b.Cntg.v]),l=[10,12];else if(D&&D.Ordn=="None")s=null,l=[7,1];else if(D&&D.Ordn=="Al")s={channel:v.R(h.M()),rect:h},v.set(s.channel,255),l=[7,0];else{var nt=e.p[0],ot;O.length==2?nt=Di.iv(e,O[1]):D.length==2&&(nt=Di.iv(e,D[1]));var pt=(D||O)[0].v.enum,yt=["Trsp","Msk","vectorMask"].indexOf(pt);console.log(yt);var ct=E!=-1?E:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(g);if(D&&D[0].t=="name"){for(var vt=0;vt<e.Yq.length;vt++)e.Yq[vt].name==D[0].v.val&&(nt=vt);ot={e:"fromchannel",oI:[-5-nt,0,ct]}}else pt=="RGB"?ot={e:"fromchannel",oI:[-1,0,ct]}:ot={e:"fromlayer",oI:[nt,yt,ct]};this.XZ(ot,i,e,r,n);return}b.Fthr&&(s=C.hl.nj(s,b.Fthr.v.val,!1)),g!="set"&&e.K!=null&&(s=v.pv.f7(s,e.K,["","union","difference","intersection"][E]))}if((g=="expand"||g=="contract")&&!x&&!h.contains(s.rect)){var wt=s.rect.$X(h),Mt=v.R(wt.M());v.Lj(s.channel,s.rect,Mt,wt),s.channel=Mt,s.rect=wt}}if(a=="qmask"){o=!0;var Ct=e.ET(),gt=new et(0,0,e.Z,e.h);Ct?(s=Ct.rect.Qn(gt)&&v.wq(Ct.channel,255)?null:{rect:Ct.rect.clone(),channel:Ct.channel.slice(0)},f=Ct):(s=null,u=new H.vm,u.color=0,u.name="Quick Mask",u.gG=!0,e.K?(u.rect=e.K.rect.clone(),u.channel=e.K.channel.slice(0)):(u.rect=gt,u.channel=v.R(u.rect.M()),v.set(u.channel,255))),l=[6,6,1]}if(a=="setsel"&&(s=t.K,l=t.tP),a=="crange"){var bt=t.c7,xt=t.Aa;s=C.hl.sv(e,bt,xt,t.aI),l=[7,8],bt={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:bt.Ov},A:{t:"doub",v:bt.m},B:{t:"doub",v:bt.i}}},xt={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:xt.Ov},A:{t:"doub",v:xt.m},B:{t:"doub",v:xt.i}}},this.track({Bm:"colorRange",w1:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(t.aI*200)},Mnm:bt,Mxm:xt,colorModel:{t:"long",v:0}}})}if(a=="fromlayer"||a=="fromchannel"||a=="frompath"){var Dt=t.oI[0],yt=t.oI[1],E=t.oI[2];if(a=="fromlayer"){Dt==null&&(Dt=e.p[0]);var Ot=e.r[Dt];if(yt==0){var kt=Ot.rect,mt=Ot.buffer;if(kt.qr())return;var It=v.R(mt.length>>>2);v.E4(mt,It,3),s={channel:It,rect:kt.clone()}}else{Ot.g==null&&Ot._V(e);var Bt=yt==1?Ot.jk():Ot.g;s=C.hl.Jk(Bt,h)}this.track(C.hl.amp(Ot.getName(),E,yt))}else if(a=="frompath"){var Ut=e.Cj(),qt=Ut[1],Ut=Ut[0];if(Ut.length==0||qt.length==0)return;var Gt=Ut[qt[0]];if(Dt!=null)for(var vt=0;vt<Ut.length;vt++)Ut[vt].XN==Dt&&(Gt=Ut[vt]);var Bt=Gt.add.vmsk.jk(),zt=Bt.o7();if(zt.M()==0)return;var It=Bt.yX();p=[JSON.stringify(e.QP),JSON.stringify(e.mb)],c=["[]","[]"],e.QP=[],e.mb=[],s={channel:It,rect:zt}}else Dt==null&&(Dt=C.hl.E0(e)),s=C.hl.nh(e,Dt);E!=0&&e.K&&(s=v.pv.f7(s,e.K,["","union","difference","intersection"][E])),l=[14,11]}s!=null&&v.wq(s.channel,0)&&(s=null,l=[7,1]),s&&v.HZ(s);var Nt=new ni(l,this);Nt.data={e:"changesel",la:e.K,Od:s,ET:o,K2:f,i$:u,Gt:p,O6:c},e.TX(Nt),this.oF(Nt.data,e)},C.hl.E0=function(t){var i=0;return t.oD.length!=0?i=-5-t.oD[0]:JSON.stringify(t.a.qa)=="[1,1,1]"?i=-1:i=-2-t.a.qa.indexOf(1),i},C.hl.nh=function(t,i){var e,r=new et(0,0,t.Z,t.h);if(-5<i&i<0){var n=-i-1,a=t.lD(),s=v.R(r.M());n==0?v.np(a,s):v.E4(a,s,n-1),e={channel:s,rect:r.clone()}}return i<-4&&(e=C.hl.Jk(t.Yq[-i-5],r)),e},C.hl.Jk=function(t,i){var e,r;if(t.T6()==0){if(r=t.o7(),r.M()==0)return;e=t.yX()}else r=i,e=v.R(r.M()),t.kx(r,e);return{channel:e,rect:r}},C.hl.prototype.Vc=function(t){return this.vi||t.Ku&&this.id!=C.IV},C.hl.prototype.fF=function(t,i,e){var r=new z(i,!0);r.data=e,t.w(r)},C.hl.prototype.Ie=function(t,i){var e=new z(y.E.L,!0);e.data={e:y.B.Ik,rr:i},t.w(e)},C.hl.prototype.o7=function(t,i,e){i=t.K==null||this.LX>1||this.y0>1?i:null;var r=this.k7,n=this.H9;e&&(r.x=Math.max(0,Math.min(t.Z,r.x)),r.y=Math.max(0,Math.min(t.h,r.y)),n.x=Math.max(0,Math.min(t.Z,n.x)),n.y=Math.max(0,Math.min(t.h,n.y)));var a=C.sp.en(r,n,i,!0,this.fT.H7),s=a[0].x,l=a[0].y;return new et(s,l,a[1].x-s,a[1].y-l)},C.hl.prototype.R$=function(t,i,e,r,n){if(!this.II()){if(this.JW=i,this.e3=!1,this.qw=r.s(W.cm),this.oN=r.s(W.ze),this.LX=this.qw?0:1,this.y0=this.oN?0:1,this.k7=t.a.PY(n.x,n.y),this.k7=C.qT.aE(t,this.k7,e),this.hU(t,this.k7,r)){this.vi=!0,this.Zp=t.K.rect.clone();return}this.Qf(t,e,r,n),t.a.GW=new et}},C.hl.prototype.hU=function(t,i,e){var r=e.s(W.cm),n=e.s(W.ze);return t.K&&!r&&!n&&this.fT.hw=="front"?v.cp(i,t.K.channel,t.K.rect):!1},C.hl.prototype.$E=function(t,i,e,r,n){if(this.JW=i,!this.sY){var a=t.a.PY(n.x,n.y);if(st.Yj(this.k7,a)*t.a.F>5&&(this.e3=!0),r.s(W.fd)?(this.ot==null&&(this.ot=new st(a.x-this.k7.x,a.y-this.k7.y)),this.k7.x=a.x-this.ot.x,this.k7.y=a.y-this.ot.y):this.ot=null,this.H9=a,this.vi||(this.H9=C.qT.aE(t,this.H9,e)),this.hU(t,this.H9,r)?this.Ie(i,"move"):this.Ie(i,this.qy),this.vi){var s=this.Zp.clone();s.x+=this.H9.x-this.k7.x,s.y+=this.H9.y-this.k7.y;var l=C.qT.hx(t,s,e);t.K.rect.x=Math.round(this.H9.x-this.k7.x+this.Zp.x+l[0]),t.K.rect.y=Math.round(this.H9.y-this.k7.y+this.Zp.y+l[1]),t.Es=!0,C.qT.rz(t,s,l);return}this.Ap(t,e,r,n),t.a.GW&&(t.a.GW=this.o7(t,r))}},C.hl.prototype.II=function(){return!1},C.hl.prototype.NL=function(t,i,e,r,n){if(t.a.GW=null,this.H9=t.a.PY(n.x,n.y),this.H9=C.qT.aE(t,this.H9,e),this.vi){if(this.vi=!1,this.H9.Qn(this.k7)&&this.Xs()=="front"){this.fF(i,y.E.QJ,C.hl.cA());return}this.Uy(t,this.Zp,t.K.rect.clone()),t!=null&&t.v.zK&&(t.v.zK=null,t.Vg=!0);return}this.sj(t,e,r,n),C.hl.RE(i,e)},C.hl.prototype.Uy=function(t,i,e){var r=t.a1();r!=null&&r.Q==this&&r.data.e=="movesel"||(r=new ni([7,7],this),r.data={e:"movesel",f_:i},t.TX(r)),r.data.Lb=e,this.oF(r.data,t)},C.hl.prototype.xg=function(t,i,e,r,n){this.sY=!0},C.hl.prototype.FT=function(t,i,e,r,n){var a=new z(y.E.L,!0);a.data={e:y.B.Zo,Q:this.id,jE:n,mY:t,s0:e},i.w(a),this.sY=!1},C.hl.prototype.gU=function(t,i,e,r){var n=r.s(W.cm),a=r.s(W.ze);if(this.e3&&(this.LX==0&&!n&&this.LX++,this.LX==1&&n&&this.LX++,this.y0==0&&!a&&this.y0++,this.y0==1&&a&&this.y0++),t!=null&&t.K!=null){var s=r.Ef();if(s.x!=0||s.y!=0){var l=t.K.rect.clone();l.x+=s.x,l.y+=s.y,this.Uy(t,t.K.rect.clone(),l)}}var h=C.hl.Le(this.fT.hw,n,a),o=new z(y.E.L,!0);o.data={e:y.B.Zo,Q:this.id,hw:h},i.w(o)},C.hl.prototype.finish=function(t,i,e,r){var n=t.K,a=this.getSelection(t,i,e,r);if(a==null)a=C.hl.cA();else{var s=this.fT.bM,l=this.Xs();s!=0&&(a.w1.Fthr={t:"UntF",v:{type:"#Pxl",val:s}}),l!="front"&&l!="xor"&&(a.Bm={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[l])}this.fF(this.JW,y.E.QJ,a),this.k7.Oh(-1,-1),this.H9.Oh(-1,-1)},C.hl.prototype.Xs=function(){return C.hl.Le(this.fT.hw,this.qw,this.oN)},C.hl.Le=function(t,i,e){return i&&(t="union"),e&&(t="difference"),i&&e&&(t="intersection"),t},C.hl.prototype.getSelection=function(t,i,e,r){return null},C.hl.prototype.Qf=function(t,i,e,r){},C.hl.prototype.Ap=function(t,i,e,r){},C.hl.prototype.sj=function(t,i,e,r){},C.hl.prototype.tO=function(t,i){var e=t.e;e=="changesel"&&(i.K=t.la),e=="movesel"&&(i.K.rect=t.f_),t.ET&&(t.K2?(i.oD=[i.Yq.length],i.Yq.push(t.K2)):(i.Yq.pop(),i.oD=[])),t.Gt&&(i.QP=JSON.parse(t.Gt[0]),i.mb=JSON.parse(t.Gt[1])),i.Es=!0},C.hl.prototype.oF=function(t,i){var e=t.e;e=="changesel"&&(i.K=t.Od),e=="movesel"&&(i.K.rect=t.Lb),t.ET&&(t.i$?(i.oD=[i.Yq.length],i.Yq.push(t.i$)):(i.Yq.pop(),i.oD=[])),t.Gt&&(i.QP=JSON.parse(t.O6[0]),i.mb=JSON.parse(t.O6[1])),i.Es=!0},C.hl.prototype.zT=function(t){this.fT=t},C.hl.prototype.Q2=function(t){var i=v.D.YI(t.d);if(i.qr())return null;var e=y.z("canvas","");e.width=i.Z,e.height=i.h;var r=e.getContext("2d");r.beginPath(),r.translate(-i.x,-i.y),Typr.U.pathToContext({cmds:t.W,crds:t.d},r),r.closePath(),r.fill();var n=v.R(i.M()),a=r.getImageData(0,0,e.width,e.height);return v.E4(a.data,n,3),{rect:i,channel:n}},C.hl.nj=function(t,i,e,r,n){e&&(i=Math.round(i*.7));var a=Math.ceil(2.6*i),s=t.rect.clone();s.PK(a,a),r&&!n&&(s=s.$X(r));var l=v.R(s.M()),h=v.R(l.length);if(v.Lj(t.channel,t.rect,h,s),v.ni.et(h,l,s,i),e)for(var o=l.length,f=0;f<o;f++){var u=(l[f]-128)*i*2.5;l[f]=Math.max(0,Math.min(255,Math.round(128+u)))}return{channel:l,rect:s}},C.hl.dt=function(t,i,e){var r=Math.max(1,Math.ceil(e)),n=t.rect.clone();n.PK(r,r);var a=n.M(),s={channel:v.R(a),rect:n},l=v.R(a);v.Lj(t.channel,t.rect,l,s.rect),e!=0?v.style.stroke(l,s.channel,s.rect,e):v.Hk(l,s.channel);var h=v.R(a);return v.nJ(l),i!=0?v.style.stroke(l,h,s.rect,i):v.Hk(l,h),v.pv.$X(s.channel,h,s.channel),s},C.hl.sv=function(t,i,e,r){var n=new et(0,0,t.Z,t.h),a=t.lD();if(t.K){var s=t.K.rect.$X(n),l=v.R(s.M()*4);v.BP(a,n,l,s),n=s,a=l}for(var h=n.M(),o=v.R(h),f=1/r,u=0;u<h;u++){var p=u<<2,c=v.tm(a[p],a[p+1],a[p+2]),d=v.LZ(c,i,e,r,f);o[u]=255*d}return{rect:n,channel:o}},C.Iu=function(){C.gn.call(this,[10,18],C.oZ,"tools/blur"),this.mo="copy"},C.Iu.prototype=new C.gn,C.Iu.prototype.R$=function(t,i,e,r,n){var a=r.s(W.ze)?Qt.jB:Qt.oZ;this.yC(t,e,r,n,this.fT.strn,a),this.A4!=null&&this.km(t)},C.Iu.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.lu=function(){C.gn.call(this,[10,0],C.Sm,"tools/brush"),this.mo="draw"},C.lu.prototype=new C.gn,C.lu.prototype.R$=function(t,i,e,r,n){this.Z4(r,i,n)||(this.yC(t,e,r,n,this.fT.flow),this.A4!=null&&this.km(t))},C.lu.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.Yn=function(){C.gn.call(this,[10,42],C.pJ,"tools/crepl"),this.mo="idraw",this.fT.bmode="hue "},C.Yn.prototype=new C.gn,C.Yn.prototype.R$=function(t,i,e,r,n){this.Z4(r,i,n)||(this.yC(t,e,r,n,this.fT.flow),this.A4!=null&&this.km(t))},C.Yn.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.k_=function(){C.gn.call(this,[10,43],C.N0,"tools/redeye"),this.fT.smode=0,this.mo="redeye"},C.k_.prototype=new C.gn,C.k_.prototype.R$=function(t,i,e,r,n){this.yC(t,e,r,n,this.fT.flow),this.A4!=null&&this.km(t)},C.k_.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.jZ=function(){C.gn.call(this,[10,38],C.o9,"tools/pencil"),this.mo="draw"},C.jZ.prototype=new C.gn,C.jZ.prototype.R$=function(t,i,e,r,n){this.Z4(r,i,n)||(this.yC(t,e,r,n,this.fT.flow),this.A4!=null&&this.km(t))},C.jZ.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.o4=function(){C.gn.call(this,[10,22],C.uh,"tools/burn"),this.mo="burn"},C.o4.prototype=new C.gn,C.o4.prototype.R$=function(t,i,e,r,n){this.yC(t,e,r,n,this.fT.expo/Math.E),this.A4!=null&&this.km(t)},C.o4.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.FH=function(t,i,e){C.gn.call(this,t==""?null:t||[10,1],i||C.MS,e||"tools/clone"),this.mo="clone",this.Ld=null,this.c=null},C.FH.prototype=new C.gn,C.FH.prototype.R$=function(t,i,e,r,n){var a=this.fT,s=a.alt[0];if(r.s(W.ze)||r.s(W.zo)||s){this.Ld=t.a.PY(n.x,n.y),this.c=null,s&&this.SC({alt:[!1]},i),this.Rc(t),this.b9(e,r,t,n);return}if(this.Ld==null){alert(Lt.get([15,7,0]));return}this.b9(e,r),this.yC(t,e,r,n,this.fT.flow),this.A4!=null&&(this.c=this.zN(t.a.PY(n.x,n.y)),this.km(t))},C.FH.prototype.zN=function(t){var i=this.c;return(i==null||!this.fT.algnd)&&(i=new st(Math.round(t.x-this.Ld.x),Math.round(t.y-this.Ld.y))),i},C.FH.prototype.$E=function(t,i,e,r,n){if(this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4==null){this.Ld!=null&&this.b9(e,r,t,n);return}!n.Ku||this.Ld==null||(this.Td(t,e,r,n),this.km(t))},C.FH.prototype.vh=function(){return this.c},C.$K=function(t,i,e){C.An.call(this,t,i,e),this.yx={TG:{wV:0,x:0,y:0}},this.JE=null,this.cursor=null,this.wc=0,this.NW=null,this.k7=null,this.DQ=null},C.$K.prototype=new C.An,C.$K.prototype.go=function(){return this.JE!=null},C.$K.prototype.Vc=function(t){return this.JE&&this.JE.mN()},C.$K.prototype.R$=function(t,i,e,r,n){this.NW=n;var a=t.a.PY(n.x,n.y);a.x=Math.round(a.x),a.y=Math.round(a.y);var s=this.yx.TG,l=s.wV!=0?s.x/s.y:null;this.JE?this.JE.R$(t,e,r,a,l,!1):this.k7=C.qT.aE(t,a,e)},C.$K.prototype.Kj=function(t,i){var e=[t.x,t.y,t.x+t.Z,t.y,t.x+t.Z,t.y+t.h,t.x,t.y+t.h];return new le(e,!0,!1,this.id==C.Hd,!0,i,this.id==C.Hd?2:0,this.id==C.Hd)},C.$K.prototype.b9=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.Ik,rr:this.cursor},t.w(i)},C.$K.prototype.enable=function(t,i,e,r){if(this.cursor="crosshair",this.b9(i),t!=null&&t.K){var n=this.yx.TG={wV:0,x:0,y:0};this.fF(i,y.E.L,{e:y.B.Zo,Q:this.id,hk:!1,H7:n}),this.zT({He:"cropby",Z3:3},i,t,r,e)}},C.$K.prototype.$E=function(t,i,e,r,n){this.NW=n;var a=t.a.PY(n.x,n.y);if(!n.Ku){var s="crosshair";if(this.JE){var l=this.JE.Eb(a,t.a.F);l?s=l:s="default"}s!=this.cursor&&(this.cursor=s,this.b9(i))}if(this.JE)this.JE.$E(t,e,r,a);else if(this.k7){var h=C.sp.en(this.k7,C.qT.aE(t,a,e),r,!0,this.yx.TG),o=h[0].x,f=h[0].y,u=this.DQ=new et(o,f,h[1].x-o,h[1].y-f);t.v.hK=v.D.z0(u),t.Vg=!0,C.An.Wf(n.x+10,n.y-10,u,t,e)}},C.$K.prototype.NL=function(t,i,e,r,n){if(this.NW=n,this.JE==null){if(this.k7){var a=this.DQ;if(a){var s=this.yx.TG;this.JE=this.Kj(a,s.wV!=0),this.JE.b4(t,e),this.DQ=null,this.fF(i,y.E.L,{e:y.B.Zo,Q:this.id,hk:!0})}this.k7=null,t.v.Tw=[],t.Vg=!0}return}var l=t.a.PY(n.x,n.y);this.JE.NL(t,e,r,l),this.fF(i,y.E.L,{e:y.B.Zo,Q:this.id,hk:!0});var h=this.JE._4();if(Math.abs(h[0]-h[4])<2||Math.abs(h[1]-h[5])<2){this.disable(t,i,null,r);return}if(Date.now()-this.wc<200&&this.JE.kl(l)){this.cU(t,e),this.disable(t,i,e,r);return}this.wc=Date.now()},C.$K.prototype.gU=function(t,i,e,r){var n=this.JE;n==null||this.NW&&this.NW.Ku||(r.s(W.Xr)?(this.cU(t,e),this.disable(t,i,e,r)):r.s(W.yc)?this.disable(t,i,e,r):n.gU(t,e,r))},C.$K.W$=function(t,i){i==null&&(i=[!0,!0,!0,!0]);for(var e={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][t]}}},r=["Top","Left","Btom","Rght"],n=0;n<4;n++)e[r[n]]={t:"bool",v:i[n]};return{Bm:"trim",w1:e}},C.$K.cn=function(t,i,e,r){var n={classID:"null"};return r!=null&&(n.Wdth={t:"UntF",v:{type:"#Pxl",val:t}},n.Hght={t:"UntF",v:{type:"#Pxl",val:i}},n.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][r]}}),e!=null&&(n.Rslt={t:"UntF",v:{type:"#Rsl",val:e}}),{Bm:"imageSize",w1:n}},C.$K.$W=function(t,i,e){e==null&&(e=4);var r=Math.floor(e/3),n=e%3;return{Bm:"canvasSize",w1:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:t}},Hght:{t:"UntF",v:{type:"#Pxl",val:i}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][n]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][r]}}}}},C.$K.prototype.XZ=function(t,i,e,r,n){var a=new et(0,0,e.Z,e.h),s=[11,3],l=e.NB,h=e.Z/2,o=e.h/2,f=1,u,p;if(t.e=="fromAction"){var c=t.WR,d=c.Bm,g=c.w1,b=e.Z/e.h,m=g.Wdth?g.Wdth.v.val:-1,x=g.Hght?g.Hght.v.val:-1,l=g.Rslt?g.Rslt.v.val:null,M=g.Wdth?g.Wdth.v.type:g.Hght?g.Hght.v.type:-1,S=1,w;if(d=="imageSize"){if(g.Intr){if(g.Intr.v.Intp=="Nrst"&&(S=0),g.Intr.v.Intp=="bicubicSharper"&&(S=2),m==-1&&x==-1){var k=l/e.NB;m=Math.round(e.Z*k),x=Math.round(e.h*k)}else M=="#Prc"&&(m!=-1&&(m=Math.round(e.Z*m/100)),x!=-1&&(x=Math.round(e.h*x/100)));g.CnsP&&g.CnsP.v&&(m==-1&&(m=Math.round(x*b)),x==-1&&(x=Math.round(m/b)))}else{if(M=="#Prc")l=Math.round(e.NB/((m!=-1?m:x)/100));else if(M==-1)l=Math.round(l);else throw"e";m=e.Z,x=e.h}w={e:"imgsize",Mt:m,dK:x,zI:l,_o:S}}else if(d=="canvasSize"){m==-1&&(m=e.Z),x==-1&&(x=e.h),g.Rltv&&g.Rltv.v==!0&&(g.Wdth&&(m+=e.Z),g.Hght&&(x+=e.h));var T=g.Vrtc?g.Vrtc.v.VrtL:"Cntr",L=g.Hrzn?g.Hrzn.v.HrzL:"Cntr";w={e:"canvsize",Mt:m,dK:x,cX:3*["Top","Cntr","Btom"].indexOf(T)+["Left","Cntr","Rght"].indexOf(L)}}else if(d=="revealAll")w={e:"revealAll"};else if(d=="trim"){var O={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[g.trimBasedOn.v.trimBasedOn];if(O==null)throw"e";for(var E=["Top","Left","Btom","Rght"],D=[!0,!0,!0,!0],B=0;B<4;B++)g[E[B]]&&(D[B]=g[E[B]].v);w={e:"trim",no:O,H7:D}}w&&this.XZ(w,i,e,r,n);return}else if(t.e=="imgsize")a=new et(0,0,t.Mt,t.dK),t.zI&&(l=t.zI),f=t._o;else if(t.e=="canvsize"){var I=t.cX!=null?t.cX:0;a=new et(0,0,t.Mt,t.dK);var N=e.Z-t.Mt,V=e.h-t.dK,j=Math.round(N/2),R=Math.round(V/2);(I==1||I==4||I==7)&&(a.x=j),(I==2||I==5||I==8)&&(a.x=N),(I==3||I==4||I==5)&&(a.y=R),(I==6||I==7||I==8)&&(a.y=V),t.c&&(a.x=t.c.x,a.y=t.c.y)}else if(t.e=="rot"&&(t.C+2*Math.PI)%(Math.PI/2)!=0){var G=v.D.z0(a).d,Z=new Et;Z.translate(-h,-o),Z.rotate(t.C),Z.translate(h,o),v.D.O(G,Z,G),a=v.D.YI(G)}else if(t.e=="rot"&&t.C!=Math.PI&&t.C!=-Math.PI)a=new et(h-e.h/2,o-e.Z/2,e.h,e.Z),(e.Z+e.h&1)==1&&(h=Math.floor(h),o=Math.floor(o),a=new et(h-Math.floor(e.h/2),o-Math.floor(e.Z/2),e.h,e.Z),(e.Z&1)==1&&t.C!=-Math.PI/2&&a.y--,(e.h&1)==1&&t.C==-Math.PI/2&&a.x--);else if(t.e=="trim"){s=[11,12,0];var _=e.lD(),U=new et(0,0,e.Z,e.h);a=v.cR(_,U,t.no,t.H7),a.qr()&&(a=U)}else t.e=="cropbysel"?(s=[11,12,1],a=e.K.rect.clone()):t.e=="revealAll"&&(s=[11,12,2],a=e.root.o7(e,!0));if(t.e=="imgsize"||t.e=="rot"||t.e=="scl"){var Y=new Et;t.e=="imgsize"?(s=[11,10],Y.scale(t.Mt/e.Z,t.dK/e.h)):(Y.translate(-h,-o),t.e=="rot"&&Y.rotate(t.C),t.e=="scl"&&Y.scale(t.C.x,t.C.y),Y.translate(h,o),s=t.tP),p=v.P.Jb(Y),u=this.LY(e,n,!0,p,f)}else if(t.e=="auto-align"){if(e.p.length<2){alert("Select two or more layers.");return}for(var $=[],B=0;B<e.p.length;B++){var P=e.r[e.p[B]];if(!P.Mq()&&P.add.SoLd==null){alert("Unsupported layer selected.");return}if(P.rect.qr()){alert("Empty layer selected.");return}$.push([P.buffer,P.rect])}var tt=v.Hn.q1($,0);if(tt==null){alert("No similarity found.");return}p=tt[1];var X=e.p;e.p=e.p.slice(1),u=this.LY(e,n,!1,tt.slice(1),f),e.p=X,a=e.root.o7(e,!0),s=[2,10,1]}var ht=new et(0,0,e.Z,e.h);if(!a.qr()&&(!a.Qn(ht)||u!=null)){var F=new ni(s,this);F.data={f_:ht,Lb:a,YF:e.NB,zI:l,A3:u,rV:p,c1:C.$K.Or(e,a,ht,u!=null)},e.TX(F),this.oF(F.data,e)}},C.$K.Or=function(t,i,e,r){if(t.P0.length==0)return null;var n=JSON.stringify(t.P0),a=JSON.parse(n);return C.e9.abx(a,i,e,r),a=JSON.stringify(a),[n,a]},C.$K.prototype.LY=function(t,i,e,r,n,a){var s={r:[],s6:null,EB:null};if(e){for(var l=0;l<t.r.length;l++)s.r.push(l);for(var l=0;l<t.VW.length;l++)s.r.push(-1-l);for(var l=0;l<t.Yq.length;l++)s.r.push(-1e3-l)}else s.r=t.p.slice(0);return s.s6=C.X.HS(t,s.r,!0),C.X.Br(t,i,s.r,s.s6,n,r,null,!0,a),s.EB=C.X.HS(t,s.r,!0),s},C.$K.prototype.oF=function(t,i){t.zI&&(i.NB=t.zI),t.c1&&(i.P0=JSON.parse(t.c1[1])),t.A3&&(C.$K.MM(i,v.P.z5(t.rV)),C.X.Pi(i,t.A3.r,t.A3.EB)),C.$K.zy(i,t.Lb)},C.$K.prototype.tO=function(t,i){t.YF&&(i.NB=t.YF),t.c1&&(i.P0=JSON.parse(t.c1[0]));var e=t.f_.clone();if(e.offset(-t.Lb.x,-t.Lb.y),C.$K.zy(i,e),t.lf&&i.a.c.fa(t.lf),i.tT(),t.A3){var r=v.P.z5(t.rV).clone();r.nJ(),C.$K.MM(i,r),C.X.Pi(i,t.A3.r,t.A3.s6)}},C.$K.MM=function(t,i){for(var e=0;e<t.r.length;e++){var r=t.r[e];if(r.add.artb!=null){var n=v.D.z0(r.sc()).d;v.D.O(n,i,n);var a=v.D.YI(n);r.BE(a)}}},C.$K.zy=function(t,i){t.Z=i.Z,t.h=i.h;for(var e=[],r=0;r<t.r.length;r++)e.push(r);C.qT.IR(t,e,null,-i.x,-i.y);for(var r=0;r<t.r.length;r++)t.r[r]._V(t);t.tT(),t.a.c.Oh(0,0),t.K&&t.K.rect.offset(-i.x,-i.y);for(var r=0;r<t.Yq.length;r++)t.Yq[r].rect.offset(-i.x,-i.y)},C.$K.prototype.zT=function(t,i,e,r,n){t.He=="commit"?(this.cU(e,n),this.disable(e,i,null,r)):t.He=="cancel"&&this.disable(e,i,null,r);var a=null,s=this.yx.TG;if(t.He=="config"){if(this.yx=t.yx,s=this.yx.TG,e==null)return;if(a=new et(0,0,e.Z,e.h),s.wV==1){var l=s.x/s.y;a.h=Math.round(a.Z/l)}s.wV==2&&(a.Z=s.x,a.h=s.y),a.x=Math.round((e.Z-a.Z)/2),a.y=Math.round((e.h-a.h)/2)}if(t.He=="cropby"){if(e==null)return;var h=t.Z3,a;if(h==0&&(a=e.root.o7(e,!0)),h==1)if(e.p.length==0)alert("No layer is selected.");else{var o=e.root.V$(e.p[0]);a=o.o7(e,!0)}if(h==2)if(e.p.length==0)alert("No layer is selected.");else{var f=e.r[e.p[0]];a=v.cR(f.buffer,f.rect,0),a.qr()&&(a=f.rect.clone())}h==3&&(e.K!=null?a=e.K.rect:alert("There is no selection."))}a&&a.qr()&&(a=null),a!=null&&(this.JE=this.Kj(a,s.wV!=0),this.JE.b4(e,n),this.fF(i,y.E.L,{e:y.B.Zo,Q:this.id,hk:!0}))},C.$K.prototype.cU=function(t,i){var e=this.JE._4(),r=v.D.YI(e),n=this.a5P(t,e),a=!1,s=this.yx.TG,l=s.x,h=s.y,o;this.id==C.Uj&&s.wV==2&&n.M()!=l*h&&(n=new et(n.x,n.y,l,h),a=!0);var f=v.P.bg(e,n);f=v.P.nJ(f);var u=v.P.LS(f),p=Math.atan2(f[3],f[0]);(Math.abs(p)>1e-9||!u||a)&&(o=this.LY(t,i,!0,f,1,r));var c=new ni(this.name,this),d=new et(0,0,t.Z,t.h);c.data={f_:d,Lb:n,A3:o,rV:f,lf:t.a.c.clone(),c1:C.$K.Or(t,n,d,!1)},t.TX(c),this.oF(c.data,t)},C.$K.prototype.a5P=function(t,i){var e=v.P.bg(i),r=v.P.LS(e),n=v.P.z5(e),a=n.PV,s=n.ye,l=Math.atan2(n.i,n.m);n.rotate(l);var h=new et(a,s,n.m,n.xA);if(!r){let M=function(S,w,k){var T=S[w]-S[k],L=S[w+1]-S[k+1];return Math.sqrt(T*T+L*L)};var x=M,o=M(i,0,2),f=M(i,4,6),u=Math.max(o,f),p=M(i,2,4),c=M(i,6,0),d=Math.max(p,c),g=C.$K.a2f(i,t.Z/2,t.h/2),b,m;(isNaN(g)||g==Infinity||g==-Infinity||Math.min(g,1/g)<.1)&&(g=(o+f)/(p+c)),u/d>g?(b=u*1,m=b/g):(m=d*1,b=m*g),h.Z=b,h.h=m}return h.x=Math.round(h.x),h.y=Math.round(h.y),h.Z=Math.round(h.Z),h.h=Math.round(h.h),h},C.$K.a2f=function(t,i,e){var r=t[0]-i,n=t[1]-e,a=t[2]-i,s=t[3]-e,l=t[6]-i,h=t[7]-e,o=t[4]-i,f=t[5]-e,u=((n-f)*l-(r-o)*h+r*f-n*o)/((s-f)*l-(a-o)*h+a*f-s*o),p=((n-f)*a-(r-o)*s+r*f-n*o)/((h-f)*a-(l-o)*s+l*f-h*o),c=-((p*h-n)*(u*s-n)+(p*l-r)*(u*a-r))/((p-1)*(u-1));function d(b){return b*b}var g=Math.sqrt((d(u-1)+d(u*s-n)/c+d(u*a-r)/c)/(d(p-1)+d(p*h-n)/c+d(p*l-r)/c));return u==1&&p==1&&(g=Math.sqrt((d(s-n)+d(a-r))/(d(h-n)+d(l-r)))),g},C.$K.prototype.disable=function(t,i,e,r){t!=null&&(this.JE&&this.JE.clear(t),this.JE=null,this.fF(i,y.E.L,{e:y.B.Zo,Q:this.id,hk:!1}))},C.$K.prototype.fF=function(t,i,e,r){var n=new z(i,!0);n.data=e,r&&(n.Q=r),t.w(n)},C.nT=function(){C.$K.call(this,[10,2],C.Uj,"tools/rcrop")},C.nT.prototype=new C.$K,C.m$=function(){C.$K.call(this,[10,39],C.Hd,"tools/pcrop")},C.m$.prototype=new C.$K,C.ZW=function(){C.gn.call(this,[10,21],C.oR,"tools/dodge"),this.mo="dodge"},C.ZW.prototype=new C.gn,C.ZW.prototype.R$=function(t,i,e,r,n){this.yC(t,e,r,n,this.fT.expo/Math.PI),this.A4!=null&&this.km(t)},C.ZW.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.uC=function(){C.gn.call(this,[10,3],C.um,"tools/eraser"),this.mo="erase"},C.uC.prototype=new C.gn,C.uC.prototype.R$=function(t,i,e,r,n){this.yC(t,e,r,n,this.fT.flow),this.A4!=null&&this.km(t)},C.uC.prototype.$E=function(t,i,e,r,n){if(this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&!!n.Ku){var a=this.Td(t,e,r,n);this.km(t)}},C.rl=function(){C.gn.call(this,[10,45],C.a0R,"tools/beraser"),this.mo="ierase"},C.rl.prototype=new C.gn,C.rl.prototype.R$=function(t,i,e,r,n){this.Z4(r,i,n)||(this.yC(t,e,r,n,this.fT.flow),this.A4!=null&&this.km(t))},C.rl.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.kZ=function(){C.hl.call(this,[10,15],C.j1,"tools/rselect"),this.qy="crosshair"},C.kZ.prototype=new C.hl,C.kZ.prototype.Ap=function(t,i,e,r){if(!(!r.Ku||!this.e3)){var n=this.o7(t,e,!0);t.v.hK=v.D.z0(n),t.Vg=!0,C.An.Wf(r.x+10,r.y-10,n,t,i)}},C.kZ.prototype.sj=function(t,i,e,r){t.v.hK=null,t.v.Tw=[],t.Vg=!0,this.finish(t,i,e,r)},C.kZ.prototype.getSelection=function(t,i,e,r){if(this.k7.Qn(this.H9)||!this.e3)return null;var n=this.o7(t,e,!0);return n.qr()?null:C.hl.FL("Rctn",n)},C.Ou=function(){C.hl.call(this,[10,4],C.akK,"tools/eselect"),this.qy="crosshair"},C.Ou.prototype=new C.hl,C.Ou.prototype.Ap=function(t,i,e,r){if(!(!r.Ku||!this.e3)){var n=this.o7(t,e);t.v.hK=C.Ou.P2(n),t.Vg=!0,C.An.Wf(r.x+10,r.y-10,n,t,i)}},C.Ou.prototype.sj=function(t,i,e,r){t.v.hK=null,t.v.Tw=[],t.Vg=!0,this.finish(t,i,e,r)},C.Ou.prototype.getSelection=function(t,i,e,r){if(this.k7.Qn(this.H9)||!this.e3)return null;var n=this.o7(t,e);return n.dg(new et(0,0,t.Z,t.h))?C.hl.FL("Elps",n):null},C.Ou.P2=function(t){var i=t.x,e=t.y,r=t.x+t.Z,n=t.y+t.h,a=(i+r)/2,s=(e+n)/2,l=(i-r)/2,h=(e-n)/2,o=.5522848,f={d:[a,s-h],W:["M","C","C","C","C"]};return f.d.push(a+o*l,s-h,a+l,s-o*h,a+l,s),f.d.push(a+l,s+o*h,a+o*l,s+h,a,s+h),f.d.push(a-o*l,s+h,a-l,s+o*h,a-l,s),f.d.push(a-l,s-o*h,a-o*l,s-h,a,s-h),f},C.yY=function(){C.An.call(this,[10,5],C.V5,"tools/eyedropper"),this.AX=!1,this.Ky=1},C.yY.prototype=new C.An,C.yY.prototype.Vc=function(t){return t.Ku},C.yY.prototype.XZ=function(t,i,e,r,n){t.e=="pickhere"&&this.r$(e,i,n,r,t.a4y)},C.yY.prototype.R$=function(t,i,e,r,n){this.AX=!0,this.r$(t,i,e,r,n)},C.yY.prototype.$E=function(t,i,e,r,n){this.AX&&this.r$(t,i,e,r,n)},C.yY.prototype.NL=function(t,i,e,r,n){this.AX=!1},C.yY.prototype.r$=function(t,i,e,r,n){var a=C.yY.Js(t,n,this.Ky),s=new z(y.E.L);s.data={e:y.B.Sl,S9:ut.Io,mQ:0,C:a},i.w(s)},C.yY.Js=function(t,i,e){for(var r=t.a.PY(i.x,i.y),n=Math.floor(r.x),a=Math.floor(r.y),s=(e-1)/2,l=Math.max(0,n-s),h=Math.max(0,a-s),o=Math.min(t.Z,n+s+1),f=Math.min(t.h,a+s+1),u=(o-l)*(f-h),p=t.lD(),c=0,d=0,g=0,n=l;n<o;n++)for(var a=h;a<f;a++){var b=4*(a*t.Z+n);c+=p[b],d+=p[b+1],g+=p[b+2]}return c=Math.round(c/u),d=Math.round(d/u),g=Math.round(g/u),c<<16|d<<8|g},C.yY.prototype.zT=function(t){this.Ky=t.Ky},C.T7=function(){C.An.call(this,[10,6],C.a2F,"tools/gradient"),this.fT={j:JSON.parse(at.Bf.mR).v,rB:"Lnr",mt:!1,AN:!1,xQ:"norm",Jf:1},this.h6=!1,this.KE=null},C.T7.prototype=new C.An,C.T7.prototype.enable=function(t,i,e,r){var n=new z(y.E.L,!0);n.data={e:y.B.Ik,rr:"default"},i.w(n)},C.T7.prototype.zT=function(t){this.fT=t.S9},C.T7.prototype.R$=function(t,i,e,r,n){!t.FD()||(this.KE=t.a.PY(n.x,n.y),this.KE=C.qT.aE(t,this.KE,e),this.h6=!0)},C.T7.prototype.$E=function(t,i,e,r,n){if(!!this.h6){var a=t.a.PY(n.x,n.y);a=C.qT.aE(t,a,e),r.s(W.cm)&&(a=C.T7.M$(this.KE,a)),t.v.hK={d:[this.KE.x,this.KE.y,a.x,a.y],W:["M","L"]},t.v.CL=[this.KE.x,this.KE.y,a.x,a.y],t.Vg=!0}},C.T7.prototype.NL=function(t,i,e,r,n){if(!!this.h6){var a=t.r[t.p[0]],s=t.a.PY(n.x,n.y);s=C.qT.aE(t,s,e),r.s(W.cm)&&(s=C.T7.M$(this.KE,s));var l=s.gI(this.KE),h=st.bu(this.KE,s,.5),o=Math.atan2(l.y,l.x),f=st.Yj(this.KE,s),u=Math.sin(o),p=Math.cos(o);if(f>2){var c;t.K?c=t.K.rect:c=new et(0,0,t.Z,t.h);var d=v.R(c.M()*4),g=this.fT,b=g.rB;b!="Lnr"&&(f*=2,h=this.KE),v.j.ao(g.j,d,c,[p*1/f,u*1/f,-u*1/f,p*1/f],h.x,h.y,g.mt,at.j.types.indexOf(b),e.GY,e.Ty,null,g.AN);var m=Math.round(g.Jf*256),x=d.length;if(m!=256)for(var M=0;M<x;M+=4)d[M+3]=d[M+3]*m>>>8;var S=new z(y.E.H);S.Q=C.um,S.data={e:"fillBMP",mu:d,Si:g.xQ,tP:this.name},i.w(S)}t.v.hK=null,t.v.CL=[],t.Vg=!0,this.h6=!1}},C.T7.M$=function(t,i){if(t.Qn(i))return t;var e=i.x-t.x,r=i.y-t.y,n=Math.abs(e),a=Math.abs(r);n>a&&(a=n/2>a?0:n),a>n&&(n=a/2>n?0:a),n=e>0?n:-n,a=r>0?a:-a;var s=Math.sqrt(e*e+r*r)/Math.sqrt(n*n+a*a);return new st(t.x+n*s,t.y+a*s)},C.T7.m2=function(t,i,e,r,n,a,s){s==null&&(s=y.z("canvas",""));var l=s.getContext("2d");s.width=i,s.height=e;var h=new et(0,0,i,e),o=v.R(i*e*4);v.RK(o,i,e,4,0,0);var f=Math.sin(r),u=Math.cos(r),p=v.R(i*e*4);v.j.ao(t,p,h,[u*1/i,f*1/i,-f*1/e,u*1/e],i/2,e/2,!1,0,n,a),v.N.DO("norm",p,h,o,h,h,1);var c=l.getImageData(0,0,i,e);return v.Hk(o,c.data),l.putImageData(c,0,0),s.toDataURL()},C.T7.aa8=function(t,i,e){for(var r=JSON.parse(JSON.stringify(t)),n=0;n<r.Clrs.v.length;n++){var a=r.Clrs.v[n].v,s=a.Type.v.Clry;if(s!="UsrS"){var l=s=="FrgC"?i:e;a.Type.v.Clry="UsrS",a.Clr={t:"Objc",v:v.j.$H({U:l>>16&255,S:l>>8&255,i:l&255})}}}return r},C.DB=function(){C.An.call(this,[10,7],C.Al,"tools/hand"),this.C0=new st(0,0),this.Mf=null},C.DB.prototype=new C.An,C.DB.prototype.XZ=function(t,i,e,r,n){var a=t.e;a=="setcls"&&(e.a.qa=t.qa,e.Vg=!0,e.Ob=!0),a=="scroll"&&!r.s(W.ze)&&(r.s(W.Bl)?C.DB.Qq(e,e.a.c.x-t.Dk.y,e.a.c.y-t.Dk.x):C.DB.Qq(e,e.a.c.x-t.Dk.x,e.a.c.y-t.Dk.y))},C.DB.prototype.enable=function(t,i,e,r){this.Mf=null;var n=new z(y.E.L,!0);n.data={e:y.B.Ik,rr:"grab"},i.w(n)},C.DB.prototype.R$=function(t,i,e,r,n){this.Mf=t.a.c.clone(),this.C0.Oh(n.x,n.y)},C.DB.prototype.$E=function(t,i,e,r,n){!n.Ku||(this.Mf==null&&this.R$(t,i,e,r,n),C.DB.Qq(t,this.Mf.x+(n.x-this.C0.x),this.Mf.y+(n.y-this.C0.y)))},C.DB.prototype.NL=function(t,i,e,r,n){this.Mf=null},C.DB.Qq=function(t,i,e){var r=t.a.F;t.Z*r<t.a.xX.Z&&t.h*r<t.a.xX.h?t.a.c.Oh(0,0):(t.a.c.x=i,t.a.c.y=e),t.Ob=!0},C.I0=function(){C.An.call(this,[10,47],C.a7J,"tools/rview"),this.C0=new st(0,0),this.KO=null,this.JY=null},C.I0.prototype=new C.An,C.I0.prototype.enable=function(t,i,e,r){this.Mf=null;var n=new z(y.E.L,!0);n.data={e:y.B.Ik,rr:"grab"},i.w(n),t&&this.r4(t,i)},C.I0.prototype.disable=function(t,i,e,r,n){t&&this.r4(t,i)},C.I0.prototype.Ip=function(t,i,e,r){t&&this.r4(t,i)},C.I0.prototype.R$=function(t,i,e,r,n){this.C0.Oh(n.x,n.y);var a=t.a;this.KO=a.PY(a.xX.Z/2,a.xX.h/2),this.JY=a.c5()},C.I0.prototype.$E=function(t,i,e,r,n){if(!!n.Ku){var a=t.a,s=this.KO,l=this.C0,h=new st(a.xX.Z/2,a.xX.h/2),o=Math.atan2(n.y-h.y,n.x-h.x),f=Math.atan2(l.y-h.y,l.x-h.x);this.xb(t,i,this.JY.clone(),s,o-f)}},C.I0.prototype.zT=function(t,i,e,r){this.xb(e,i,null,null,t.Fu-e.a.D8),e.a.D8=t.Fu},C.I0.prototype.xb=function(t,i,e,r,n){var a=t.a;e==null&&(e=a.c5()),r==null&&(r=a.PY(a.xX.Z/2,a.xX.h/2)),e.translate(-r.x,-r.y),e.rotate(n),e.translate(r.x,r.y),a.rE(e),t.Z*a.F<a.xX.Z&&t.h*a.F<a.xX.h&&a.c.Oh(0,0),t.Vg=!0,this.r4(t,i)},C.I0.prototype.r4=function(t,i){var e=new z(y.E.L,!0);e.data={e:y.B.Zo,Q:this.id,Fu:t.a.D8},i.w(e)},C.K_=function(){C.FH.call(this,[10,25],C.af,"tools/hbrush")},C.K_.prototype=new C.FH(""),C.K_.prototype.NL=function(t,i,e,r,n){this.A4!=null&&(this.vM(t,"heal",this.A4.qq(),this.A4.o7(),this.A4.J0()),this.A(t,this.A4.J0()),C.gn.prototype.NL.call(this,t,i,e,r,n),this.fT.algnd||(this.c=null))},C.aq=function(){C.An.call(this,[10,8],C.OX,"tools/htype"),this.Ic=[],this.EA=null,this.s0=null,this.caller=null,this.RG=1,this.sl=null,this.Bd=0,this.hN=0,this.hO=null,this.kD=null,this._1=null,this.U7=null,this.AS=null,this.RN=null,this.Ir=null,this.s1=null,this.JE=null,this.YW=null,this.LM=null,this.eC=!1,this.NK=!1,this.EO=!1,this.Kq=null,this.HG=null,this.oM=null,this.DH=!1,this.rk=!1,this.J$=-1,this.MI=-1,this.YK=document.createElement("textarea"),this.YK.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:200px; height:150px;"),this.YK.addEventListener("input",this.jo.bind(this),!1),this.YK.addEventListener("keydown",this.a7q.bind(this),!1)},C.aq.prototype=new C.An,C.aq.prototype.Vc=function(t){return t.Ku},C.aq.prototype.RR=function(t,i,e,r){if(this._1==null){this.caller=i,this.EA=t;var n=this.FZ(t);if(n.length!=0){for(var a=null,s=[],l=[],h=0;h<n.length;h++){var o=t.r[n[h]],f=o.add.TySh,u=0,p=lt.jn(f.MF).length-2,c=lt.lW(f.MF,u,p);lt.eQ(c,C.X.d3(f.O)),c.dS.Font!=null&&(c.dS.Font=c.Dm[c.dS.Font].Name),a=c.Dm,s.push(c.dS),l.push(c.eS)}var c={Dm:a,dS:lt.$T(s),eS:lt.$T(l)};c.dS.Font&&lt.oi(c,c.dS.Font),this.xk(i,c,f)}}},C.aq.prototype.FZ=function(t){for(var i=[],e=0;e<t.p.length;e++)t.r[t.p[e]].add.TySh&&i.push(t.p[e]);return i},C.aq.prototype.XZ=function(t,i,e,r,n){if(t.e=="insertText"&&this._1){var a=this.YK,s=a.value,l=a.selectionStart,h=a.selectionEnd;a.value=s.slice(0,l)+t.C+s.slice(h),a.selectionStart=a.selectionEnd=l+t.C.length,this.jo(null),a.focus()}if(t.e=="updateStyles"){if(this._1==null){var o=this.FZ(e),f=!1;if(o.length!=0){this.oy(e,i,n,o);for(var u=0;u<o.length;u++){var p=e.r[o[u]],c=p.add.TySh;lt.LE(c,this.RG),this._1=p;var d=lt.jn(c.MF);this.J$=0,this.MI=d.length-1,lt.Ji(c.MF,this.J$,this.MI,this.RQ(n,c));var g=this.vU(e,n);g==!1&&(f=!0)}if(f){this.DH=!0;return}this.BU(e,i)}return}this.X_(n)}if(t.e.startsWith("warp")){var b=this.rk;if(t.e=="warp"||t.e=="warpCancel"){t.e=="warp"?this._1.add.TySh.VU=t.mD:this._1.add.TySh.VU=this.Ir;var e=this.EA;this.vU(e,n),b||this.K$(e)}t.e!="warp"&&this.YK.focus(),(t.e=="warpConfirm"||t.e=="warpCancel")&&b&&(this.rk=!1,t.e=="warpConfirm"?this.BU(e,i):this.OZ(e,i))}if(t.e=="editCurr"){if(n.Mp!=C.OX){this.sl=n.Mp;var m=new z(y.E.L,!0);m.data={e:y.B.MR,Q:C.OX},i.w(m)}this._1!=null&&this.disable(e,i,n,r),this.EA=e,this.s0=n,this.caller=i,this.oy(e,i,n,[t.z3]);var d=lt.jn(this._1.add.TySh.MF);this.J$=0,this.MI=d.length-1,this.K$(e),this.zx(),this.YK.focus()}if(t.e=="switchPntPrgr"){var p=e.r[e.p[0]],c=p.add.TySh,x=c.O.d3(),M=JSON.parse(JSON.stringify(c.MF)),S=lt.AW(M),w=S==1?lt.dd(M):[0,0,Math.round(p.rect.Z*1.05/x),Math.round(p.rect.h*1.25/x)],k=lt.lW(M,0,0),T=k.Dm[k.dS.Font].Name,L=n.SN.VV(T),O=[0,w[2],w[2]/2][k.eS.Justification%3],E=L?Si.hq(L,T)*(1/L.head.unitsPerEm)*k.dS.FontSize:k.dS.FontSize*.8;lt.E5(M,1-S),S==0&&(O=-O,E=-E,lt.Z1(M,[0,0,w[2],w[3]]));var D=new Et(1,0,0,1,O,E);D.concat(c.O),this.XZ({vS:e.p[0],e:"newED",e1:M,O:D},i,e,r,n)}if(t.e=="newED"){var p=e.r[t.vS],c=p.add.TySh,B=this.Fn(e,[t.vS]);c.MF=t.e1,t.O&&(c.O=t.O);var I=new Si(c.MF,n.SN),N=Ee.ti(I,c);p.rect=N.T,p.buffer=N.Ww,p.A(),e.A();var V=new ni(this.name,this);V.data={hC:B,B2:this.Fn(e,[t.vS])},e.TX(V)}if(t.e=="fromAction"){for(var j=t.WR.w1.Usng.v,R=j.TxtC.v,G=[],u=0;u<2;u++){var Z=R[u==0?"Hrzn":"Vrtc"].v,_=Z.val;Z.type=="#Prc"&&(_=(u==0?e.Z:e.h)*(_/100)),G[u]=_}this.m5(e,i,n,r,e.a._R(G[0],G[1]));var p=e.r[e.p[0]],c=p.add.TySh,U=c.MF,s=lt.jn(U);lt.Iw(U,0,s.length-1),lt.v$(U,0,j.Txt.v.replace(/\r/g,`
`));for(var S=0;S<2;S++)for(var Y=j[S==0?"Txtt":"paragraphStyleRange"].v,u=0;u<Y.length;u++){var $=Y[u].v,l=$.From.v,h=$.T.v-1;$=$[S==0?"TxtS":"paragraphStyle"].v;var P=lt.lW(U,l,h),tt=S==0?P.dS:P.eS;for(var X in $){var ht=$[X].v;X=="Sz"&&(tt.FontSize=Math.round(ht.val)),X=="fontPostScriptName"&&lt.oi(P,ht),X=="Algn"&&(tt.Justification={Cntr:2}[ht.Alg])}lt.Ji(U,l,h,P)}var I=new Si(c.MF,n.SN),N=Ee.ti(I,c);p.rect=N.T,p.buffer=N.Ww,p.A(),e.A(),this.BU(e,i)}},C.aq.prototype.X_=function(t){var i=Math.min(this.J$,this.MI),e=Math.max(this.J$,this.MI),r=this._1.add.TySh;lt.LE(r,this.RG),lt.Ji(r.MF,i,e-1,this.RQ(t,r));var n=this.EA,a=this.vU(n,t);a&&this.K$(n),document.activeElement.tagName.toLowerCase()!="input"&&this.YK.focus()},C.aq.prototype.aU=function(t){return this.Ic.indexOf(t)!=-1},C.aq.prototype.enable=function(t,i,e,r){var n=this.YK;y.WW(n)||i.u.appendChild(n),this.s1="default",this.b9(i)},C.aq.prototype.go=function(){return this._1!=null},C.aq.aj=function(t,i){for(var e=t.r.length-1;e>=0;e--){var r=t.r[e];if(r.add.TySh&&r.rect.oz(i)&&t.i7(e)){var n=r.k6(2)||r.k6(31);return n?-2:e}}return-1},C.aq.prototype.R$=function(t,i,e,r,n){this.EA=t,this.s0=e,this.caller=i;var a=t.a.PY(n.x,n.y),s=this._1==null;if(s){var l=C.aq.aj(t,a);if(l==-2){alert(Lt.get([6,57,0]));return}if(l>=0){if(!Ee.SR(t.r[l].add.TySh,e.SN)){alert("Fonts not loaded yet");return}this.oy(t,i,e,[l])}else{this.EO=!0,this.Kq=n;return}}var h=s?-1:lt.AW(this._1.add.TySh.MF),o=this.YW?this.YW:this.JE;if(o&&o.R$(t,e,r,a)&&v.mD.O8(this._1.add.TySh.VU)||!s&&v.D.QX(a,this._1.rect)>20/t.a.F&&(h==0||h==1))this.eC=!0,this.HG=a,this.oM=this._1.add.TySh.O.clone(),this.J$==-1&&this.MI==-1&&(this.J$=this.MI=this.QG(a));else{if(this.AS==null){alert("Fonts not loaded yet");return}this.NK=!0,this.J$=this.MI=this.QG(a);var f=Date.now();f-this.Bd>300&&(this.hN=0),this.hN++,this.Bd=f,this.hN==2&&this.a7f(),this.hN==3&&this.a73(),this.hN>1&&(this.NK=!1)}this.zx(),this.K$(t)},C.aq.prototype.oy=function(t,i,e,r){var n=t.r[r[0]];this._1=n,this.fF(i,y.E.L,{e:y.B.Zo,Q:this.id,He:"showactive"}),this.U7=r,t.p=r.slice(0),t.HP(),t.Mv=!0,this.RN=this.Fn(t,r),this.yz(n.add.TySh),this.vU(t,e)},C.aq.prototype.yz=function(t){if(lt.AW(t.MF)==1){var i=lt.dd(t.MF);i=new et(0,0,i[2]-i[0],i[3]-i[1]);var e=[i.x,i.y,i.x+i.Z,i.y,i.x+i.Z,i.y+i.h,i.x,i.y+i.h];v.D.O(e,t.O,e),this.JE=new le(e,!1,!1,!1,!0)}},C.aq.prototype.a7f=function(){var t=lt.jn(this._1.add.TySh.MF);this.J$=this.e_(t,this.J$),this.MI=this.Nt(t,this.J$)},C.aq.prototype.e_=function(t,i){for(var e=` 	
,.?!_-+=@#$%^&*'"(){}[]\\/<>:;|`,r=[],n=0;n<e.length;n++)r.push(e.charAt(n));for(var a=r.indexOf(t[i])==-1,n=i-1;n>=0;n--)if(r.indexOf(t.charAt(n))!=-1==a)return n+1;return 0},C.aq.prototype.Nt=function(t,i){for(var e=` 	
,.?!_-+=@#$%^&*'"(){}[]\\/<>:;|`,r=[],n=0;n<e.length;n++)r.push(e.charAt(n));for(var a=r.indexOf(t[i])==-1,n=i+1;n<t.length;n++)if(r.indexOf(t.charAt(n))!=-1==a)return n;return t.length-1},C.aq.prototype.a73=function(){var t=this.AS.agM(this.J$);this.J$=t[0],this.MI=t[1]},C.aq.prototype.b9=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.Ik,rr:this.s1},t.w(i)},C.aq.prototype.$E=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y),s=this._1;if(!n.Ku){var l="default",h=this.JE,o=this.YW?this.YW:h;if(o&&v.mD.O8(s.add.TySh.VU)){var f=o.Eb(a,t.a.F);f?l=f:o==h&&h.kl(a)&&(l="text")}else s&&v.D.QX(a,s.rect)>20/t.a.F?l="move":C.aq.aj(t,a)>=0&&(l="text");l!=this.s1&&(this.s1=l,this.b9(i))}var u=this.Kq;if(this.EO&&Math.min(n.x-u.x,n.y-u.y)>4/t.a.F){this.EO=!1,this.m5(t,i,e,r,n),s=this._1,this.eC=!0,this.JE=new le(null,!1,!1,!1,!0);var p=t.a.PY(this.Kq.x,this.Kq.y);p.x=Math.round(p.x),p.y=Math.round(p.y),this.JE.R$(t,e,r,p)}if(this.eC){var c=s.add.TySh;if(this.YW){this.YW.$E(t,e,r,a);var d=v.P.z5(v.P.bg(this.YW._4(),this.LM));c.O=d,this.vU(t,e),lt.SK(c)}else if(this.JE){this.JE.$E(t,e,r,a);var g=c.O.clone(),b=Math.atan2(g.i,g.m);g.rotate(b);var d=v.P.z5(v.P.bg(this.JE._4())),m=Math.atan2(d.i,d.m);if(d.rotate(m),!isNaN(d.m)&&d.m*d.xA-d.i*d.p$!=0){var x=new et(0,0,d.m/g.m,d.xA/g.xA),M=Math.round(x.Z),S=Math.round(x.h),w=c.MF.Curve;if(w){var k=lt.dd(c.MF),T=new Et(M/k[2],0,0,S/k[3],0,0);v.D.O(w.Points,T,w.Points),lt.SK(c)}lt.Z1(c.MF,[0,0,M,S]),c.O=v.P.z5(v.P.bg(this.JE._4(),x)),this.vU(t,e),lt.SK(c)}}else{var L=a.x-this.HG.x,O=a.y-this.HG.y;c.O=this.oM.clone();var E=new st(c.O.PV+L,c.O.ye+O);E=C.qT.aE(t,E,e),c.O.PV=E.x,c.O.ye=E.y,this.vU(t,e)}}this.NK&&(this.MI=this.QG(a)),(this.eC||this.NK)&&this.K$(t)},C.aq.prototype.m5=function(t,i,e,r,n){var a=t.Cj(),s=a[0],l=a[1],h=t.an();h.add.lnsr="rend";var o=t.r.slice(0);h.uf("Text layer "+o.length),this._1=h;var f=t.p.length==0?t.r.length-1:t.p[t.p.length-1],u=f+1;o[f].add.lsct==Ci.lw&&u--,this.RN={Q1:o.slice(0),la:t.p.slice(0)},o.splice(u,0,h),t.p=[u],this.J$=this.MI=0,t.wG(o),this.RN.L_=o.slice(0),this.RN.Od=t.p.slice(0),this.fF(i,y.E.L,{e:y.B.Zo,Q:this.id,He:"showactive"});var p=t.a.PY(n.x,n.y);h.add.TySh=lt.T_(p.x,p.y,e.T2);var c=h.add.TySh,d=c.MF;if(lt.LE(c,this.RG),n.Ku)lt.E5(d,1);else{lt.E5(d,0);var g=s[l.pop()],b=g?g.add.vmsk:null;if(b){b=b.clone();for(var m=b.b,x,M,S=0;S<m.length;S++)m[S].IO!=null&&(m[S].IO=0);var w=4*y.J()/t.a.F;if(x=v.V.cp(b.b,p,!0,w),x.XN==-1&&(x=v.V.cp(b.b,p)),x.XN!=-1){lt.E5(d,1);var k=v.V.cx(m,x.XN),T=v.V.SD(m,x.XN)-1;if(m=b.b=m.slice(0,2).concat(m.slice(k,k+T+1)),b.p=[],c.add={vmsk:b,vogk:H.h7(m)},d.Curve={},lt.jj(c),x._2!=null){var L=Si.Pr(d.Curve);v.D.O(L[0],c.O,L[0]);var O=v.D.n0(L[0],p.x,p.y),E=e.T2.eS.Justification;if(E==2||E==5){var D=(L[2][O]+L[3]*.5)%L[3];O=Si.Ec(D,L[2])}var B=L[1][O];B=B%T,b.A2=[B,B],lt.jj(c)}else this.yz(c)}}}return h},C.aq.prototype.NL=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y),s=this.EO;this.EO&&(this.EO=!1,this.m5(t,i,e,r,n),this.NK=!0),(this.eC||this.NK)&&(this.K$(t),this.zx(),s&&this.X_(e)),this.eC&&this.JE&&this.JE.NL(t,e,r,a),this.eC=this.NK=!1,this.UD(t,e,r),this.YK.focus()},C.aq.prototype.zx=function(){var t=this._1.add.TySh,i=Math.min(this.J$,this.MI),e=Math.max(this.J$,this.MI),r,n;if(i==e){var a=lt.jn(t.MF);i==0||a.charAt(i-1)==`
`?r=n=i:r=n=i-1}else r=i,n=e-1;var s=lt.lW(t.MF,r,n);lt.eQ(s,C.X.d3(t.O)),this.xk(this.caller,s,t)},C.aq.prototype.xk=function(t,i,e){this.fF(t,y.E.L,{e:y.B.Sl,S9:ut.Ol,T2:i});var r=this.RG=lt.oQ(e);this.fF(this.caller,y.E.L,{e:y.B.Zo,Q:this.id,He:"changeAA",uB:r})},C.aq.prototype.gU=function(t,i,e,r){r.s(W.yc)&&this.OZ(t,i);var n=this._1;if(n)if(this.YW==null&&r.s(W.Bl)){var a=n.add.TySh,s=lt.AW(a.MF),l;s==1?(l=lt.dd(a.MF),l=new et(0,0,l[2]-l[0],l[3]-l[1])):l=this.AS.yD();var h=[l.x,l.y,l.x+l.Z,l.y,l.x+l.Z,l.y+l.h,l.x,l.y+l.h];v.D.O(h,a.O,h),this.YW=new le(h,!0,!0,!1,!1),this.LM=l,this.K$(this.EA)}else this.UD(t,e,r)},C.aq.prototype.UD=function(t,i,e){var r=this._1;r&&!this.eC&&this.YW!=null&&!e.s(W.Bl)&&(this.YW.NL(t,i,e,null),this.YW=null,this.yz(r.add.TySh),this.K$(this.EA))},C.aq.prototype.disable=function(t,i,e,r){var n=this._1;this.BU(t,i)},C.aq.prototype.zT=function(t,i,e,r,n){if(!this.rk&&(t.He=="commit"&&this.BU(e,i),t.He=="cancel"&&this.OZ(e,i),t.He=="changeAA"&&(this.RG=t.uB,e!=null&&this.XZ({e:"updateStyles"},i,e,r,n)),t.He=="showwarp")){if(e==null)return;if(this._1==null){var a=e.r[e.p[0]],s=a.add.TySh;if(s==null)return;this.oy(e,i,n,[e.p[0]]),this.YK.focus(),this.rk=!0}this.Ir=this._1.add.TySh.VU;var l=new z(y.E.L,!0);l.data={e:y.B.uH,W2:"textwarp"},i.w(l)}},C.aq.prototype.AK=function(t,i){if(i==ut.Du){if(this.DH){this.DH=!1;for(var e=this.EA,r=this.U7,n=0;n<r.length;n++)this._1=e.r[r[n]],this.vU(e,t);this.BU(e,this.caller);return}this._1&&this.X_(t)}},C.aq.prototype.RQ=function(t,i){var e=JSON.parse(JSON.stringify(t.T2));return lt.eQ(e,1/C.X.d3(i.O)),e},C.aq.prototype.oF=function(t,i){t.hC!=null?this.rw(i,t.B2):this.Xg(i,t.L_,t.Od)},C.aq.prototype.tO=function(t,i){t.hC!=null?this.rw(i,t.hC):this.Xg(i,t.Q1,t.la)},C.aq.prototype.rw=function(t,i){for(var e=0;e<i.length;e++){var r=i[e],n=r.vS,a=t.r[n];a.buffer=r.Tr,a.rect=r.T.clone(),a.A();var s=a.add.TySh;s.VU=r.mD,s.xa=r.xa.clone(),s.O=r.O.clone(),s.MF=JSON.parse(JSON.stringify(r.MF)),a.cg()}t.A()},C.aq.prototype.Fn=function(t,i){for(var e=[],r=0;r<i.length;r++){var n=i[r],a=t.r[n],s=a.add.TySh;e.push({vS:n,O:s.O.clone(),mD:JSON.parse(JSON.stringify(s.VU)),xa:s.xa.clone(),MF:JSON.parse(JSON.stringify(s.MF)),Tr:v.clone(a.buffer),T:a.rect.clone()})}return e},C.aq.prototype.Xg=function(t,i,e){t.p=e,t.wG(i),t.A(),t.Vf=!0},C.aq.prototype.vU=function(t,i,e){e==null&&(e=!1);var r=this._1.add.TySh;if(!Ee.SR(r,i.SN))return!1;if(this.AS=new Si(r.MF,i.SN),!e){var n=lt.jn(r.MF);this.YK.value=n.slice(0,n.length-1)}var a=Ee.ti(this.AS,r);if(v.mD.O8(r.VU))r.xa=new et;else if(lt.AW(r.MF)==1){var s=lt.dd(r.MF),l=a.xa.y;r.xa=new et(0,l,s[2]-s[0],s[3]-s[1]-l)}else r.xa=a.xa;var h=this._1.rect;return this._1.rect=a.T,this._1.buffer=a.Ww,this._1.A(),t.dr(),t.A(t.root.Ch(a.T.s7(h),t,t.r.indexOf(this._1))),!0},C.aq.prototype.jo=function(t){if(!(this._1==null||this.rk)){var i=this.YK.selectionStart,e=this._1.add.TySh,r=lt.jn(e.MF),n=this.YK.value+`
`,a=Math.min(this.J$,this.MI),s=Math.max(this.J$,this.MI),l=!1;if(this.J$=Math.min(i,a),n.length-i<r.length-this.MI&&(this.MI=r.length-n.length+i),r!=n)for(;this.J$>0&&r.charAt(this.J$-1)!=n.charAt(this.J$-1);)this.J$--;var h=r.substring(0,this.J$),o=r.substring(this.MI,r.length),f=n.substring(this.J$,n.length-o.length);lt.Iw(e.MF,this.J$,this.MI),lt.v$(e.MF,this.J$,f);for(var u=this.RQ(this.s0,e),p=-1,c=Array.from(f),d=0;d<c.length;d++)p=Math.max(p,c[d].codePointAt(0));if(p!=-1&&p>128&&u.dS.Font!=null){var g=u.Dm[u.dS.Font].Name,b=this.s0.SN.Jd(p,g,u.Dm);g!=b&&(lt.oi(u,b),l=!0)}if(this.kD!=null&&f==this.kD){var m=JSON.parse(this.hO);u.dS=m.dS,u.Dm=m.Dm,l=!0}lt.Ji(e.MF,this.J$,this.J$+f.length-1,u),this.J$=this.MI=h.length+f.length;var x=this.EA,M=this.vU(x,this.s0,!0);M&&this.K$(x,!0),l&&this.zx()}},C.aq.prototype.a7q=function(t){if(!(this._1==null||this.rk)&&this._1!=null){var i=W,e=0,r=0,n=!1;i.be(t.code,i.rc)&&(e=1),i.be(t.code,i.Nf)&&(e=-1),i.be(t.code,i.DY)&&(r=-1),i.be(t.code,i.yF)&&(r=1);var a=t.ctrlKey||t.metaKey,s=i.be(t.code,W.adv),l=i.be(t.code,W.agd);if(i.be(t.code,W.Xr)&&a){this.BU(this.EA,this.caller);return}if(i.be(t.code,W.gP)){t.preventDefault();var h=this.YK,o=h.value,f=h.selectionStart,u=h.selectionEnd;h.value=o.substring(0,f)+"	"+o.substring(u),h.selectionStart=h.selectionEnd=f+1,this.jo(null);return}if((i.be(t.code,i.qS)||i.be(t.code,i.ej))&&a){var p=this.J$,c=this.MI;if(p>c){var d=p;p=c,c=d}var g=this._1.add.TySh,b=lt.jn(g.MF);p!=c&&(this.kD=b.slice(p,c),this.hO=JSON.stringify(this.s0.T2))}var m=lt.jn(this._1.add.TySh.MF);if(e!=0||r!=0||s||l){t.preventDefault();var x=this.J$;if(e!=0)if(a&&e==-1)x=this.e_(m,this.J$-1);else if(a&&e==1)x=this.Nt(m,this.J$);else{var h=this.YK,o=h.value;x=this.J$+e,x!=0&&o.codePointAt(x-1)>65535&&(x+=e)}else if(r!=0){var M=this.AS.Fj(this.J$);r==-1&&M.Kc==0?x=0:r==1&&M.Kc==this.AS.aaP()-1?x=99999999999:x=this.AS.iT(new st(M.T.x+M.T.Z/2,0),M.Kc+r)}else if(s){for(var S=this.J$-1;S>0&&m.charCodeAt(S)!=10;)S--;x=S==0?0:S+1}else if(l){for(var S=this.J$;S<m.length-1&&m.charCodeAt(S)!=10;)S++;x=S}x=Math.max(0,Math.min(m.length-1,x)),t.shiftKey?this.J$=x:this.J$=this.MI=x,n=!0}i.be(t.code,W.B)&&a&&(this.J$=0,this.MI=m.length-1,n=!0),n&&(this.zx(),this.K$(this.EA))}},C.aq.ae$=function(t,i){var e=t.length;if(e!=i.length)return!1;for(var r=0;r<e;r++)if(t[r].vS!=i[r].vS)return!1;return!0},C.aq.prototype.BU=function(t,i){if(this._1!=null){this._1.cg();var e=this.RN;if(e instanceof Array){var r=this.Fn(t,this.U7),n=t.a1();if(n!=null&&n.Q==this&&n.data.hC&&C.aq.ae$(n.data.hC,e))n.data.B2=r;else{var a=new ni(this.name,this);a.data={hC:e,B2:r},t.TX(a)}}else{var a=new ni(this.name,this);a.data={Q1:e.Q1,L_:e.L_,la:e.la,Od:e.Od},t.TX(a)}this.escape(t,i)}},C.aq.prototype.OZ=function(t,i){this._1!=null&&(this.RN instanceof Array?(this.rw(t,this.RN),this._1&&lt.SK(this._1.add.TySh)):(t.p=this.RN.la,t.wG(this.RN.Q1)),t.A(),this.escape(t,i))},C.aq.prototype.escape=function(t,i){if(this._1=null,this.U7=null,this.AS=null,this.JE=null,this.YK.blur(),t.v.hK=null,t.v.Kp=null,t.v.CL=[],t.Vg=!0,this.eC=!1,this.NK=!1,this.J$=this.MI=-1,this.fF(i,y.E.L,{e:y.B.Zo,Q:this.id,He:"hideactive"}),this.sl){var e=new z(y.E.L,!0);e.data={e:y.B.MR,Q:this.sl},i.w(e),this.sl=null}},C.aq.prototype.fF=function(t,i,e,r){var n=new z(i,!0);n.data=e,r&&(n.Q=r),t.w(n)},C.aq.prototype.QG=function(t){var i=this._1.add.TySh,e=this.AS,r=i.O.clone();r.nJ();var n=r.aT(t),a=lt.o7(i,e),s=v.mD.ij(i.VU,a),l=v.ea.G.LJ(s,0,1,0,1),h=new Uint32Array(30),o=v.ea.G.a0i(l.IC,l.$x,n.x,n.y,h),f=v.ea.cp(s,n.x,n.y,l.IC,h,o,!1),u=v.ea.EZ;u==null&&(u=new Float64Array(2)),n=new st(a.x+u[0]*a.Z,a.y+u[1]*a.h);var p=e.iT(n);return p},C.aq.prototype.K$=function(t,i){i==null&&(i=!1);var e=this._1.add.TySh,r=lt.AW(e.MF),n=this.AS,a=n?lt.o7(e,n):null;t.v.CL=[],t.v.hK=null,t.v.Kp=null;var s=this.YW?this.YW:this.JE;if(s){s.b4(t,this.s0,!v.mD.O8(e.VU));var l=e.O.clone();if(l.nJ(),v.D.O(t.v.CL,l,t.v.CL),v.D.O(t.v.hK.d,l,t.v.hK.d),n&&n.a7j()){var h=a.Z-20,o=a.h+8;t.v.hK.d.push(h,o,h+10,o,h+5,o-5,h+5,o+5),t.v.hK.W.push("M","L","M","L")}}else r==0?this.afl(t,e,n):t.v.hK={d:[],W:[]};var f=Math.min(this.J$,this.MI),u=Math.max(this.J$,this.MI);if(i||(this.YK.selectionStart=f,this.YK.selectionEnd=u),n!=null){var p=function(k,T){var L=k.x,O=k.y+k.h,E=new Et;E.translate(-L,-O),E.rotate(-T),E.translate(L,O),k.y+=k.h*.27;var D=v.D.z0(k);return v.D.O(D.d,E,D.d),D};if(f==u){f=Math.max(f,0);var c=n.Fj(f);if(c){var d=c.T,g=this.s0.T2.dS.FontSize;g!=null&&g!=0&&(g/=e.O.d3(),d.y+=d.h-g,d.h=g);var b=n.a71(f);b!=null&&b.kU==1&&(d.x+=d.Z);var m=p(d,c.D8).d;t.v.hK.W.push("M","L"),t.v.hK.d.push(m[0],m[1],m[6],m[7])}}else{t.v.Kp={d:[],W:[]};for(var x=f;x<u;x++){var c=n.Fj(x),M=p(c.T,c.D8);v.D.concat(t.v.Kp,M)}}}if(n!=null&&!a.qr()){var S=v.mD.ij(e.VU,a),w=Math.min(a.Z,a.h)/10;t.v.hK&&(t.v.hK=v.D.pP(t.v.hK),t.v.hK=v.D.Tm(t.v.hK,w),v.ea.apply(S,t.v.hK.d,a)),t.v.Kp&&(t.v.Kp=v.D.pP(t.v.Kp),t.v.Kp=v.D.Tm(t.v.Kp,w),v.ea.apply(S,t.v.Kp.d,a)),v.ea.apply(S,t.v.CL,a)}t.v.hK&&v.D.O(t.v.hK.d,e.O,t.v.hK.d),t.v.Kp&&v.D.O(t.v.Kp.d,e.O,t.v.Kp.d),v.D.O(t.v.CL,e.O,t.v.CL),t.Vg=!0},C.aq.prototype.afl=function(t,i,e){if(e!=null){t.v.CL.push(0,0),t.v.hK==null&&(t.v.hK={W:[],d:[]});for(var r=0;r<e.eS.length;r++)for(var n=e.eS[r],a=0;a<n.V8.length;a++){var s=n.V8[a],l=n.tZ.x+s.tZ.x+s.T.x,h=n.tZ.y+s.tZ.y+s.T.y+s.T.h;t.v.hK.W.push("M","L"),t.v.hK.d.push(l,h,l+s.T.Z,h)}t.Vg=!0}},C.Cw=function(){C.hl.call(this,[10,9],C.IV,"tools/lasso"),this.qy="crosshair",this.BV=null,this.ic=null,this.HG=null},C.Cw.prototype=new C.hl,C.Cw.prototype.Qf=function(t,i,e,r){this.BV=this.k7,this.ic={d:[this.BV.x,this.BV.y],W:["M"]}},C.Cw.prototype.Ap=function(t,i,e,r){this.HG=r;var n=this.ic;if(n!=null){if(!r.Ku){this.ic!=null&&this.y0>1&&e.s(W.ze)&&(n.d.pop(),n.d.pop(),n.d.push(this.H9.x,this.H9.y),t.v.hK=n,t.Vg=!0);return}n.W.push("L"),n.d.push(this.H9.x,this.H9.y),this.BV=this.H9,this.e3&&(t.v.hK=n,t.Vg=!0)}},C.Cw.prototype.go=function(){return this.ic!=null},C.Cw.prototype.II=function(){return this.ic!=null},C.Cw.prototype.gU=function(t,i,e,r){C.hl.prototype.gU.call(this,t,i,e,r),this.ic&&this.y0>1&&this.HG&&!this.HG.Ku&&!r.s(W.ze)&&this.o6(t,e,r)},C.Cw.prototype.sj=function(t,i,e,r){this.HG=r;var n=this.ic;if(n!=null){if(this.y0>1&&e.s(W.ze)){n.W.push("L"),n.d.push(this.H9.x,this.H9.y);return}this.o6(t,i,e)}},C.Cw.prototype.o6=function(t,i,e){this.finish(t,i,e,this.HG),this.ic=null,t.v.hK=null,t.Vg=!0},C.Cw.prototype.getSelection=function(t,i,e,r){return this.k7.Qn(this.H9)||!this.e3?null:C.hl.mT(this.ic.d)},C.qT=function(){C.An.call(this,[10,11],C.fb,"tools/move"),this.LV=new st(0,0),this.mM=new st(0,0),this.yZ=null,this.P_=null,this.ZI=new st(0,0),this.PJ=null,this.yH=null,this.JW=null,this.Gn=0,this.Hs=null,this.zF=[],this.Qx=null,this.h6=!1,this.e=0,this.I2=null,this.r2=null,this.M8=null,this.qJ=!1,this.fT={qc:!1,Vo:!1,bX:!1},this.nB=!1,this.hD=!1,this.JE=null,this.E1=null,this.ge=null;for(var t=[],i=0;i<v.t$.bs.length;i++)t.push({name:v.t$.bs[i],Y:function(e,r,n){return{Rb:r.Np.Md==n}}});this.X7=new he(t),this.X7.$("select",this._m,this)},C.qT.prototype=new C.An,C.An.prototype.Vc=function(t){return this.h6&&this.e!=2},C.qT.prototype.zX=function(){return this.h6&&this.e==0},C.qT.prototype.Ip=function(t,i,e,r){this.ht(t,-this.ZI.x,-this.ZI.y),this.ZI.Oh(0,0),this.vE(t,null,e),this.IG(t)},C.qT.prototype.Nn=function(){var t=this.fT;return[t.qc?1:0,t.Vo?1:0,t.bX?1:0]},C.qT.prototype.O0=function(t,i,e){var r=this.fT;t&&t[0]!=null&&(r.qc=t[0]==1),t&&t[1]!=null&&(r.Vo=t[1]==1),t&&t[2]!=null&&(r.bX=t[2]==1);var n=new z(y.E.L,!0);n.data={e:y.B.Zo,Q:this.id,iF:r,ajh:i},e.w(n)},C.qT.$C=function(t,i,e,r,n,a,s){s==null&&(s=[!1,!0]);var l=new et(0,0,t.Z,t.h),h=t.JU(null,n,!0),o=t.zr(h,s[0]?l:null,s[1]?null:l)[0];if(e!=1){var f=new et(0,0,Math.round(o.Z*e),Math.round(o.h*e));C.$K.zy(o,f);for(var u=[],p=0;p<o.r.length;p++)u.push(p);var c=C.X.HS(o,u,!0);C.X.Br(o,r,u,c,1,v.P.Jb(new Et(e,0,0,e,0,0)),null,!0),o.tf()}for(var d=[],p=0;p<i.length;p++)d.push(ft.eX(o,i[p].toUpperCase(),null,null,a?a[p]:null,r));return d},C.qT.prototype.tK=function(t,i,e,r,n){if(!(t==null||t.p.length==0)){var a=C.qT.$C(t,[i],e,r,null)[0],s=new z(y.E.L,!0);s.data={e:y.B.QL,data:a,name:t.r[t.p[0]].getName()+(e==1?"":"@"+e+"x")+"."+i},n.w(s)}},C.qT.prototype.zT=function(t,i,e,r,n){t.mQ=="getPNG"?this.tK(e,"png",t.I6,n,i):t.mQ=="getSVG"&&this.tK(e,"svg",t.I6,n,i),t.mQ=="prms"&&(this.fT=t,this.IG(e))},C.qT.a6A=function(t){var i=t.length,e=0;t.sort(function(l,h){return l[0]+l[1]/2-(h[0]+h[1]/2)});for(var r=t[i-1][0]+t[i-1][1]-t[0][0],n=0;n<i;n++)e+=t[n][1];for(var a=Math.round((r-e)/(i-1)),s=t[0][0],n=0;n<i;n++)t[n][0]=s,s+=t[n][1]+a},C.qT.prototype.XZ=function(t,i,e,r,n){var a=t.e;if(a=="trsl"){var s=Math.round(t.a8t),l=Math.round(t.a24);this.ZI.Oh(s,l),this.wz(e,i,r,n,!1,t.n),this.ht(e,s,l),this.vE(e,null,n)}else if(a=="gids"||a=="gidsFromLayer"){var h=t.r2,o,f;if(h==null&&(h=JSON.parse(JSON.stringify(e.ei))),a=="gids"){o=t.lZ;var u=h[0].length+h[1].length,p=o[0].length+o[1].length;f=u==p?[23,2]:u>p?[23,3]:[23,4],p==0&&(f=[11,15,0])}else if(a=="gidsFromLayer"){for(var c=[[],[]],d=0;d<e.p.length;d++){var g=e.r[e.p[d]].rect;g.qr()||(c[0].push(g.x,g.x+g.Z),c[1].push(g.y,g.y+g.h))}f=[11,15,1],o=JSON.parse(JSON.stringify(e.ei)),C.qT.Zk(o,c)}if(JSON.stringify(h)==JSON.stringify(o))return;var a=new ni(f,this);a.data={e:2,r2:h,lZ:o},e.TX(a),this.oF(a.data,e)}else if(a=="algn"){var b=t.C;if(e==null)return;if(e.p.length<2&&!(e.K!=null&&b!=3&&b!=7)){alert(Lt.get([15,7,5]));return}var m=e.K;e.K=null;var g=m?m.rect:C.X.o7(e);if(this.wz(e,i,r,n,!1),!this.h6)return;for(var x=this.Hs,M={},S=[],w=[],k=[],d=0;d<x.length;d++){for(var T=x[d];e.r[T].getName()=="</Layer group>";)T++;for(var L=e.root.V$(T),O=L;L.parent!=null;)L=L.parent,x.indexOf(L.index)!=-1&&(O=L);var E=w.indexOf(O.index);E==-1&&(E=w.length,w.push(O.index)),S[d]=E}for(var D=[],B=[],I=[],d=0;d<w.length;d++){var N=C.X.o7(e,e.JU(!0,w[d]));I.push(N);var V=b==3?[N.y,N.h]:[N.x,N.Z];D[d]=V,B.push(V)}C.qT.a6A(B);for(var d=0;d<w.length;d++){var N=I[d],j=N.x,R=N.y;b==0&&(j=g.x),b==1&&(j=g.x+(g.Z-N.Z)/2),b==2&&(j=g.x+(g.Z-N.Z)),b==3&&(R=D[d][0]),b==4&&(R=g.y),b==5&&(R=g.y+(g.h-N.h)/2),b==6&&(R=g.y+(g.h-N.h)),b==7&&(j=D[d][0]),k.push(Math.round(j-N.x),Math.round(R-N.y))}for(var G=[],d=0;d<x.length;d++){var Z=S[d];G[2*d]=k[2*Z],G[2*d+1]=k[2*Z+1]}this.ht(e,0,0,null,G);var _=b==3||b==7?[20,4,6]:[20,4,b<3?b:b-1];this.vE(e,null,n,G,_),e.K=m}},C.qT.Zk=function(t,i){for(var e=0;e<i.length;e++)for(var r=0;r<i[e].length;r++)t[e].indexOf(i[e][r])==-1&&t[e].push(i[e][r])},C.qT.prototype.enable=function(t,i,e,r,n){this.yH=e,this.JW=i,this.qJ=!!n,this.IG(t),this.b9("default",i)},C.qT.prototype.disable=function(t,i,e,r){this.UF(t)},C.qT.prototype.UF=function(t){t!=null&&(this.JE&&(this.JE.clear(t),this.JE=null),t.v.bX&&(t.v.bX=null,t.Vg=!0),t.v.zK&&(t.v.zK=null,t.Vg=!0),t.v.wR[this.id]&&(delete t.v.wR[this.id],t.Vg=!0),t.v.Tw.length!=0&&(t.v.Tw=[],t.Vg=!0))},C.qT.prototype.RR=function(t,i,e,r){e.Mp==this.id&&this.IG(t)},C.qT.prototype.IG=function(t,i){if(t!=null){var e=this.fT;if(this.UF(t),!this.qJ){var r;if((e.Vo||e.bX)&&(r=v.D.pd(C.X.o7(t))),e.Vo&&!r.qr()&&(this.JE=new le([r.x,r.y,r.x+r.Z,r.y,r.x+r.Z,r.y+r.h,r.x,r.y+r.h],!0),this.JE.b4(t,this.yH)),e.bX){var n=t.Xb(t.p[0]),a=null,s=!1;n==null&&(n=new et(0,0,t.Z,t.h)),t.v.bX={od:[r],K3:[]};var l=t.v.bX.K3,h=r.x+r.Z,o=r.y+r.h,f=r.x+Math.floor(r.Z/2),u=r.y+Math.floor(r.h/2);if(i){var p=t.root.cp(new st(Math.floor(i.x),Math.floor(i.y)));p&&(a=v.D.pd(p.n.G_(t)),a.dg(r)&&(s=(a.Qh(r)||r.Qh(a))&&!r.Qn(a),s||(a=null)))}if(this.Xq(r,l),a!=null){t.v.bX.od.push(a);var c=a.x+a.Z,d=a.y+a.h,g=a.x+Math.floor(a.Z/2),b=a.y+Math.floor(a.h/2);if(s){var m=f,x=u;r.Qh(a)&&(m=g,x=b),l.push(r.x,x,a.x,x),l.push(h,x,c,x),l.push(m,r.y,m,a.y),l.push(m,o,m,d)}else{this.Xq(a,l);var M=o<a.y||d<r.y,S=h<a.x||c<r.x;h<a.x&&l.push(h,u,a.x,u),c<r.x&&l.push(c,u,r.x,u),o<a.y&&l.push(f,o,f,a.y),d<r.y&&l.push(f,d,f,r.y),M&&!S&&(r.x<a.x&&l.push(r.x,b,a.x,b),a.x<r.x&&l.push(a.x,u,r.x,u))}}else r.y>n.y&&l.push(f,n.y,f,r.y),o<n.y+n.h&&l.push(f,o,f,n.y+n.h),r.x>n.x&&l.push(n.x,u,r.x,u),h<n.x+n.Z&&l.push(h,u,n.x+n.Z,u);t.Vg=!0}}if(this.e==2&&this.h6){var w=this.Hs,k=w[0],T=(k==0?"X":"Y")+": "+v.t$.Rq(t.ei[k][w[1]],t.NB,this.yH,k==0?t.Z:t.h,!0);C.An.fo(Math.round(this.yZ.x)+10,Math.round(this.yZ.y)-10,[T],t),t.Vg=!0}if(this.e==3&&this.h6){var L=v.D.z0(this.I2);t.v.wR[this.id]={hK:L},t.Vg=!0}}},C.qT.prototype.Xq=function(t,i){var e=t.Z,r=t.h,n=t.x+Math.floor(e*.2),a=t.y+Math.floor(r*.2);i.push(n,t.y,n,t.y+r),i.push(t.x,a,t.x+e,a)},C.qT.prototype.b9=function(t,i){var e={e:y.B.Ik,rr:t},r=new z(y.E.L,!0);r.data=e,i.w(r)},C.qT.prototype.zf=function(t){var i=this.E1.oe()[0],e=this.PJ,r=this.ge[i];this.BY(e,r)},C.qT.prototype._m=function(t){var i=JSON.parse(JSON.stringify(this.yH.Np));i.Md=this.X7.oe()[0];var e=new z(y.E.L,!0);e.data={e:y.B.Sl,S9:ut.HI,uB:i},this.JW.w(e)},C.qT.prototype.FT=function(t,i,e,r,n){this.h6&&this.NL(t,i,e,r,n),this.PJ=t,this.yH=e,this.JW=i;var a=t.a.PY(n.x,n.y),s;if(C.qT.l1(e,n))s=this.X7;else{this.E1&&this.E1.removeEventListener("select",this.zf);var l=[];if(t.root.cp(a,l),l.length==0)return;var h=[];this.ge=l;for(var o=0;o<l.length;o++)h.push({name:t.r[l[o]].getName()});s=this.E1=new he(h),s.$("select",this.zf,this)}s.parent=i,s.t(),s.update(t,e);var f=new z(y.E.L,!0);f.data={e:y.B.VX,Nc:s,x:n.Bx+2,y:n.yG+1},i.w(f)},C.qT.prototype.SV=function(t,i,e,r,n){return C.qT.l1(e,n)},C.qT.prototype.R$=function(t,i,e,r,n){this.yZ=n,this.LV.Oh(n.x,n.y),this.mM=t.a.PY(n.x,n.y),this.P_=new ml(this.mM),this.wz(t,i,r,e,!0)},C.qT.l1=function(t,i){return t.bt&&(0<i.x&&i.x<v.t$.Tn||0<i.y&&i.y<v.t$.Tn)},C.qT.prototype.wz=function(t,i,e,r,n,a){var s,l=this.mM,h=!1;if(n){var o=r.IT&&r.Np.ei;if(C.qT.l1(r,this.LV)&&(s=JSON.parse(JSON.stringify(t.ei)),this.LV.x<v.t$.Tn&&t.ei[0].push(l.x),this.LV.y<v.t$.Tn&&t.ei[1].push(l.y),!o)){var f=new z(y.E.L);r.Np.ei||(f.data={e:y.B.Sl,S9:ut.gb},i.w(f)),r.IT||(f.data={e:y.B.Sl,S9:ut.Kw},i.w(f)),o=!0}var u=this.X3(t,l);if(o&&u){this.e=2,this.r2=s||JSON.parse(JSON.stringify(t.ei)),this.Hs=u,this.h6=!0,this.Qx=C.X.o7(t);return}if(t.oD.length!=0){this.e=4,this.Qx=t.Yq[t.oD[0]].rect.clone(),this.h6=!0;return}if(this.JE&&this.JE.Eb(l,t.a.F,!0)!=null){var f=new z(y.E.L);f.data={e:y.B.MR,Q:C.DV},i.w(f);var p=new z(y.E.H);p.Q=C.DV,p.data={e:"doMouseDown",yZ:this.LV},i.w(p);return}if(t.K&&t.K.rect.oz(l)){var c=Math.round(l.x),d=Math.round(l.y),g=t.K.rect;h=t.K.channel[(d-g.y)*g.Z+c-g.x]>128}if(!h&&(!this.qJ&&this.fT.qc||this.qJ&&this.fT.qc&&(e.s(W.cm)||t.p.length<2))){var b=this.a49(t,l,e);if(!b){t.p=[],t.mb=null,t.Vf=t.mO=!0,this.e=3,this.I2=new et,this.h6=!0;return}}if(e.s(W.ze)&&!h){var p=new z(y.E.H);p.Q=C.xC,p.data={e:H.xm,akZ:!0},i.w(p)}}if(t.oD.length!=0){this.e=4,this.Qx=t.Yq[t.oD[0]].rect.clone(),this.h6=!0;return}this.Hs=t.JU(a==null,a,null,!0);for(var m=0;m<this.Hs.length;m++){var x=t.r[this.Hs[m]];if(x.k6(2)||x.k6(31)){alert(Lt.get([6,57,0]));return}}if(this.zF=C.qT.a9C(t,this.Hs),this.e=0,t.K&&(!n||h)&&t.p.length==1&&t.FD(!1)){if(!t.mx()){this.h6=!1;return}var M=t.r[t.p[0]],S=e.s(W.ze);this.e=1;var w=t.history[t.xG];if(w.Q==this&&w.data.e==1&&w.data.n==t.p[0]&&M.kB==M.rD.kB&&!S)this.M8=w;else{var k=M.rD,T=!1,L;(!M.Je(t,t.K)||S)&&(T=!0,M.WC(t,t.K,S)),M.rD.kB<=0?(L=v.R(M.rD.zU.length>>2),v.E4(M.rD.zU,L,3)):L=v.clone(t.K.channel);var O={rect:M.rD.RL.clone(),channel:L};this.M8=new ni(S?[12,53]:[12,54],this),this.M8.data={e:1,n:t.p[0],rD:M.rD,vg:k,o3:T,la:t.K,Od:O,xA:new st(0,0)},t.TX(this.M8),t.K=O,t.Es=!0}}this.h6=!0,this.Qx=C.X.o7(t)},C.qT.prototype.a49=function(t,i,e){var r=t.root.cp(new st(Math.floor(i.x),Math.floor(i.y)));if(r){r.n.add.vmsk&&(t.Vg=!0);var n=t.r.indexOf(r.n);if(e.s(W.cm)){var a=t.p.indexOf(n);a==-1?t.p.push(n):t.p.length>1&&t.p.splice(a,1)}else t.p.indexOf(n)==-1&&this.BY(t,n)}return r!=null},C.qT.prototype.BY=function(t,i){t.r[i].kB=0,t.p=[i],t.mb=null,t.HP(),t.Mv=!0,t.Vf=!0},C.qT.prototype.$E=function(t,i,e,r,n){this.yZ=n;var a=t.a.PY(n.x,n.y),s,l;if(this.P_&&this.e<2&&(a=this.P_.ki(a,r)),!this.h6){if(e.IT&&e.Np.ei){var h=this.X3(t,a),o="default";if(h)o=["col-resize","row-resize"][h[0]];else if(this.JE){var f=this.JE.Eb(a,t.a.F);f&&(o=f)}this.b9(o,i)}this.IG(t,a);return}var u=this.mM,p=Math.round(a.x-u.x)-this.ZI.x,c=Math.round(a.y-u.y)-this.ZI.y;this.Qx&&(this.e==2?a=C.qT.aE(t,a,e,[!1,t.K?t.K.rect:this.Qx,!0]):(l=this.Qx.clone(),l.offset(this.ZI.x+p,this.ZI.y+c),s=C.qT.hx(t,l,e),p+=Math.round(s[0]),c+=Math.round(s[1]))),this.ZI.x+=p,this.ZI.y+=c,this.ht(t,p,c,a,null,r.s(W.cm)),this.IG(t,a),s&&C.qT.rz(t,l,s)},C.qT.prototype.X3=function(t,i){i=[i.x,i.y];for(var e=0;e<2;e++)for(var r=0;r<t.ei[e].length;r++)if(Math.abs(t.ei[e][r]-i[e])*t.a.F<4)return[e,r];return null},C.qT.prototype.ht=function(t,i,e,r,n,a){if(this.e==0)n?C.qT.g2(t,this.Hs,this.zF,n):C.qT.IR(t,this.Hs,this.zF,i,e);else if(this.e==1){var s=this.M8.data;s.xA.offset(i,e),C.qT.EL(t,s.n,i,e)}else if(this.e==2){var l=1e-5;a?l=t.a.F<=1?10:1:t.a.F<=1&&(l=1);var h=l*Math.round(r.x/l),o=l*Math.round(r.y/l),f=[h,o],u=this.Hs;t.ei[u[0]][u[1]]=f[u[0]]}else if(this.e==3){var p=this.mM,c=v.D.YI([p.x,p.y,r.x,r.y]);this.I2=c;var d=[];t.root.k$(c,d),JSON.stringify(t.p)!=JSON.stringify(d)&&(t.p=d,t.Vf=t.mO=!0)}else if(this.e==4){for(var g=0;g<t.oD.length;g++)t.Yq[t.oD[g]].rect.offset(i,e);t.Vg=!0}},C.qT.EL=function(t,i,e,r){var n=t.r[i];t.K.rect.offset(e,r),n.CH(t,e,r,t.K),t.Es=!0,t.A()},C.qT.prototype.NL=function(t,i,e,r,n){if(this.vE(t,n,e),this.IG(t),Date.now()-this.Gn<300){var a=C.aq.aj(t,t.a.PY(n.x,n.y));if(a!=-1){var s=new z(y.E.H,!0);s.Q=C.OX,s.data={e:"editCurr",z3:a},i.w(s)}}this.Gn=Date.now()},C.qT.prototype.vE=function(t,i,e,r,n){if(!!this.h6){if(this.h6=!1,this.e==0){if(r)this.MT(t,null,r,n);else{if(this.ZI.x==0&&this.ZI.y==0)return;this.MT(t,this.ZI.clone())}t.Ob=!0}else if(this.e==2){var a=0;i=[i.x,i.y];var s=this.Hs,l=this.r2[0].length+this.r2[1].length,h=t.ei[0].length+t.ei[1].length;if(e.bt&&i[s[0]]<v.t$.Tn&&(t.ei[s[0]].splice(s[1],1),a=1,l==h-1))return;l<h&&(a=2);var o=new ni([[23,2],[23,3],[23,4]][a],this);o.data={e:2,r2:this.r2,lZ:JSON.parse(JSON.stringify(t.ei))},t.TX(o)}else if(this.e==4){var o=new ni([12,54],this);o.data={e:4,p:t.oD.slice(0),c:this.ZI.clone()},t.TX(o)}this.ZI.Oh(0,0)}},C.qT.prototype.gU=function(t,i,e,r){var n=r.Ef();if(t!=null&&(n.x!=0||n.y!=0)){if(this.ZI.Oh(n.x,n.y),this.wz(t,i,r,e,!1),!this.h6)return;this.ht(t,n.x,n.y),this.vE(t,null,e),this.IG(t)}var a=r.s(W.Bl);if(!this.qJ&&this.hD!=a){a?(this.nB=this.fT.qc,this.fT.qc=!0):this.fT.qc=this.nB,this.hD=a;var s=new z(y.E.L,!0);s.data={e:y.B.Zo,Q:this.id,iF:this.fT},i.w(s)}},C.qT.prototype.tO=function(t,i){if(t.e==0)C.qT.g2(i,t.p,t.kq,t.WU,!0);else if(t.e==2)i.ei=JSON.parse(JSON.stringify(t.r2)),i.Vg=!0;else if(t.e==4){for(var e=0;e<t.p.length;e++)i.Yq[t.p[e]].rect.offset(-t.c.x,-t.c.y);i.Vg=!0}else{var r=i.r[t.n];t.o3?(r.Z9(i,t.vg),i.K=t.la,i.Es=!0,i.A(),r.A()):C.qT.EL(i,t.n,-t.xA.x,-t.xA.y)}},C.qT.prototype.oF=function(t,i){if(t.e==0)C.qT.g2(i,t.p,t.kq,t.WU);else if(t.e==2)i.ei=JSON.parse(JSON.stringify(t.lZ)),i.Vg=!0;else if(t.e==4){for(var e=0;e<t.p.length;e++)i.Yq[t.p[e]].rect.offset(t.c.x,t.c.y);i.Vg=!0}else{var r=i.r[t.n];t.o3?(r.rD=t.rD,i.K=t.Od,C.qT.EL(i,t.n,0,0),r.A()):C.qT.EL(i,t.n,t.xA.x,t.xA.y)}},C.qT.prototype.MT=function(t,i,e,r){if(e){for(var n=!0,a=0;a<e.length;a++)e[a]!=0&&(n=!1);if(n)return}var s=t.history[t.xG];if(s.data&&s.Q==this&&s.data.e==0&&e==null&&JSON.stringify(s.data.p)==JSON.stringify(this.Hs)&&JSON.stringify(s.data.kq)==JSON.stringify(this.zF)){var l=s.data.WU,h=s.data.afL.w1.T.v;h.Hrzn.v.val+=i.x,h.Vrtc.v.val+=i.y;for(var a=0;a<l.length;a+=2)l[a]+=i.x,l[a+1]+=i.y}else{i==null&&(i=new st(e[0],e[1]));var o={Bm:"move",w1:{classID:"null",null:Di.Pe("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:i.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:i.y}}}}}},f=new ni(r||[12,54],this);e?f.data={e:0,p:this.Hs,kq:this.zF,WU:e}:f.data={e:0,p:this.Hs,kq:this.zF,WU:C.qT.wb(this.Hs,i.x,i.y)},f.data.afL=o,t.TX(f),this.track(o)}},C.qT.wb=function(t,i,e){for(var r=[],n=0;n<t.length;n++)r.push(i,e);return r},C.qT.IR=function(t,i,e,r,n){C.qT.g2(t,i,e,C.qT.wb(i,r,n))},C.qT.g2=function(t,i,e,r,n){if(i.length!=0){if(e==null){e=[];for(var a=0;a<i.length;a++)e.push(t.r[i[a]].Ys(t,!0))}for(var s=new et,l=new et(0,0,t.Z,t.h),a=0;a<i.length;a++){var h=r[2*a],o=r[2*a+1];n&&(h=-h,o=-o);var f=t.r[i[a]],u=e[a];f.add.fxrp&&(u.indexOf(0)!=-1||f.ws())&&f.add.fxrp.offset(h,o);for(var p=0;p<u.length;p++){var c=u[p];if(c==0){if(f.rect.offset(h,o),f.gO()&&f.yg(t)&&f.yg(t).rect.offset(h,o),f.add.artb){var d=f.sc();d.offset(h,o),f.BE(d)}if(f.add.TySh&&(f.add.TySh.O.translate(h,o),f.add.TySh.add&&f.add.TySh.add.vmsk.offset(h,o)),f.add.SoLd){var g=new Et(1,0,0,1,h,o),b=f.add.SoLd,m=C.X.AC(b.Trnf),x=C.X.AC(b.nonAffineTransform);v.D.O(m,g,m),v.D.O(x,g,x),b.Trnf=C.X.uE(m),b.nonAffineTransform=C.X.uE(x)}}c==1&&f.jk().rect.offset(h,o),c==2&&(f.add.vmsk.offset(h,o),f.add.vogk&&v.P$.O(f.add.vogk,[1,0,h,0,1,o,0,0],[])),c==3&&(f.yg(t).g.rect.offset(h,o),u.length==1&&f.A())}if(u.length>0){var M=f.add.GdFl;M==null&&(M=f.add.PtFl),f.ws()&&!f.UW()&&f.add.vmsk!=null&&v.V.vq(f.add.vmsk.b)&&f.add.vmsk.au==255&&(M==null||M.Algn&&M.Algn.v)?f.rect.offset(h,o):f._V(t);var S=t.root.Ch(f.G_(t),t,i[a]);s=s.s7(S),S.offset(-h,-o),s=s.s7(S),(f.add.SoCo||f.add.GdFl||f.add.PtFl||Vt.get(f.add)!=null)&&(s=s.s7(l)),f.pc()}}t.A(s)}},C.qT.a9C=function(t,i){for(var e=[],r=0;r<i.length;r++){var n=t.r[i[r]];e.push(n.Ys(t))}return e},C.qT.rz=function(t,i,e){var r=t.v.zK={d:[],W:[]},n=i.x+e[0],a=i.y+e[1];e[2]!=1e9&&(r.W.push("M","L"),r.d.push(e[2],a,e[2],a+i.h)),e[3]!=1e9&&(r.W.push("M","L"),r.d.push(n,e[3],n+i.Z,e[3])),t.Vg=!0},C.qT.aE=function(t,i,e,r){var n=C.qT.zk(t,[[i.x],[i.y]],e,r);return new st(i.x+n[0],i.y+n[1])},C.qT.hx=function(t,i,e,r,n){var a=n==!0?0:1,s=C.qT.zk(t,[[i.x,i.x+(i.Z>>>a),i.x+i.Z],[i.y,i.y+(i.h>>>a),i.y+i.h]],e,r);return s},C.qT.zk=function(t,i,e,r){r==null&&(r=[!0,null,!0]);var n=[0,0,1e9,1e9];if(!e.dl)return n;for(var a=JSON.parse(JSON.stringify(i)),s=0;s<2;s++){for(var l=1e9,h=i[s],o=0,f=0;f<h.length;f++){var u=C.qT.a6E(t,h[f],a[1-s][f],s,e,r);u!=1e9&&(a[s][f]=u),u!=1e9&&Math.abs(u-h[f])<Math.abs(l)&&(l=u-h[f],o=u)}l!=1e9&&(n[s]=l,n[s+2]=o)}return n},C.qT.a6E=function(t,i,e,r,n,a){var s=1e9,l=n.a4,h=n.Np;if(a[0]&&l[0]&&h.ei&&n.IT)for(var o=t.ei[r],f=0;f<o.length;f++)Math.abs(o[f]-i)<Math.abs(s-i)&&(s=o[f]);if(l[1]&&h.aG&&n.IT){var u=Math.round(v.t$.Cc(h.vZ,t,h.pO));if(r==1&&h.QI==1){var p=e*.5*Math.sqrt(4/3),c;u*=Math.sqrt(4/3),c=Math.round((i-p)/u)*u+p,Math.abs(c-i)<Math.abs(s-i)&&(s=c),c=Math.round((i+p)/u)*u-p,Math.abs(c-i)<Math.abs(s-i)&&(s=c)}else{var c=Math.round(i/u)*u;Math.abs(c-i)<Math.abs(s-i)&&(s=c)}}var d=t.P0;if(l[3]&&h.P0&&n.IT&&d.length!=0){for(var f=0;f<d.length;f++)if(!(!a[2]&&t.xR.indexOf(f)!=-1))for(var g=C.e9.rF(d,f),b=0;b<3;b+=2)g[b+r]!=i&&Math.abs(g[b+r]-i)<Math.abs(s-i)&&(s=g[b+r])}if(a[1])for(var m=a[1],x=m.Z,M=m.h,S=[m.x,m.y,m.x+(x>>>1),m.y+(M>>>1),m.x+x,m.y+M],f=0;f<6;f+=2)Math.abs(S[f+r]-i)<Math.abs(s-i)&&(s=S[f+r]);if(l[4])for(var x=t.Z,M=t.h,S=[0,0,x>>>1,M>>>1,x,M],f=0;f<6;f+=2)Math.abs(S[f+r]-i)<Math.abs(s-i)&&(s=S[f+r]);var w=Math.abs(s-i)<=4*y.J()/t.a.F?s:1e9;return w},C.C6=function(){C.hl.call(this,[10,12],C.a2Z,"tools/mwand")},C.C6.prototype=new C.hl,C.C6.prototype.Qf=function(t,i,e,r){this.finish(t,i,e,r)},C.C6.prototype.getSelection=function(t,i,e,r){var n=this.H9,a=C.hl.aaY(new st(Math.floor(n.x),Math.floor(n.y)),this.fT.dU);return a},C.C6.tU=function(t,i,e){if(t.p.length!=1)return alert("More than one layer selected."),null;var r=t.r[t.p[0]],n;if(r.add.lsct!=null&&r.add.lsct!=Ci.eZ)return alert("No layer selected."),null;if(i.x<0||i.x>t.Z||i.y<0||i.y>t.h)return null;var a=new et(0,0,t.Z,t.h),s=r.kB<=0?null:r.kB==1?r.jk():r.yg(t).g;s==null&&a.Qn(r.rect)?n=r.buffer:(n=v.R(a.M()*4),s==null?v.BP(r.buffer,r.rect,n,a):C.gn.Jy(s.channel,s.rect,s.color,n,a));var l=C.C6.XF(n,a,i,null,e),h=v.xw(l,a),o=v.R(h.M());return v.Lj(l,a,o,h),{rect:h,channel:o}},C.C6.$i=function(t,i,e){var r=i.Z,n=0,a=0,s=0,l=0;t=new Uint32Array(t.buffer);for(var h=[],o=e.length,f=0;f<o;f++){var u=e[f],p=Math.round(u.x-.5-i.x),c=Math.round(u.y-.5-i.y);i.oz(u)||(p=c=0);var d=c*r+p,g=t[d];h.push([g&255,g>>8&255,g>>16&255,g>>>24])}return h},C.C6.XF=function(t,i,e,r,n){t=new Uint32Array(t.buffer);var a=i.Z,s=i.h,l=a*s;r==null&&(r=C.C6.$i(t,i,[e]));var h=Math.round(e.x-.5-i.x),o=Math.round(e.y-.5-i.y),f=o*a+h,u=Date.now(),p=v.R(a*s),c=n[0],d=1/c,g=n[1]&&c>0?255:0;if(n[2]){var b=v.R(p.length),m=new Uint32Array(l),x=1;for(m[0]=h<<16|o,b[f]=1;x>0;){var M=m[x-1];x--;var S=M>>>16,w=M&65535,k=w*a+S,T=C.C6.uD(t[k],r);if(T>c){var L=g*(1-Math.max(0,Math.min(1,(T-c)*d)));p[k]=~~L}else p[k]=255,w!=s-1&&b[k+a]==0&&(m[x++]=S<<16|w+1,b[k+a]=1),w!=0&&b[k-a]==0&&(m[x++]=S<<16|w-1,b[k-a]=1),S!=a-1&&b[k+1]==0&&(m[x++]=S+1<<16|w,b[k+1]=1),S!=0&&b[k-1]==0&&(m[x++]=S-1<<16|w,b[k-1]=1)}}else{for(var k=0;k<l;k++){var T=C.C6.uD(t[k],r);T<=c&&(p[k]=255)}for(var w=0;w<s;w++)for(var S=0;S<a;S++){var k=w*a+S;if(p[k]==0&&(S>0&&(p[k-1]==255||w>0&&p[k-a-1]==255||w<s-1&&p[k+a-1]==255)||S<a-1&&(p[k+1]==255||w>0&&p[k-a+1]==255||w<s-1&&p[k+a+1]==255)||w>0&&p[k-a]==255||w<s-1&&p[k+a]==255)){var T=C.C6.uD(t[k],r),L=g*(1-Math.max(0,Math.min(1,(T-c)*d)));p[k]=~~L}}}return p},C.C6.uD=function(t,i){for(var e=i.length,r=C.C6.Sh(t,i[0]),n=1;n!=e;)r=Math.min(r,C.C6.Sh(t,i[n])),n++;return r},C.C6.Sh=function(t,i){var e=t&255,r=t>>>8&255,n=t>>>16&255,a=t>>>24&255;if(i[3]==0)return a<5?0:255;var s=Math.max(Math.abs(e-i[0]),Math.max(Math.abs(r-i[1]),Math.abs(n-i[2])));return a==0?255:s},C.Eq=function(){C.gn.call(this,[10,26],C.cs,"tools/patch"),this.BV=null,this.ic=null,this.c=null,this.tZ=null,this._U=new st,this.Dd=null},C.Eq.prototype=new C.gn,C.Eq.prototype.R$=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y);if(t.K&&v.cp(a,t.K.channel,t.K.rect)){var s=new et(0,0,t.Z,t.h),l=s.$X(t.K.rect);if(!t.FD()||l.qr())return;if(!l.Qn(t.K.rect)){var h=v.R(l.M());v.Lj(t.K.channel,t.K.rect,h,l),t.K={channel:h,rect:l}}if(this.qO(t),this.Rc(t),this.tZ=a,this._U=new st(a.x-t.K.rect.x,a.y-t.K.rect.y),this.Dd=v.R(t.K.rect.M()*4),v.set(this.Dd,4294967295),this.fT.patch==1){var o=t.r[t.p[0]];o.WC(t,t.K,!0),o.rD==null&&(this.tZ=null)}}else this.ic={d:[a.x,a.y],W:["M"]},this.BV=a},C.Eq.prototype.$E=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y);if(this.tZ)if(this.fT.patch==1){var s=t.r[t.p[0]].rD,l=a.x-this._U.x,h=a.y-this._U.y;C.qT.EL(t,t.p[0],Math.round(l-s.RL.x),Math.round(h-s.RL.y))}else this.W7(t,a,"clone");this.BV&&(this.ic.W.push("L"),this.ic.d.push(a.x,a.y),this.BV=a,t.v.hK=this.ic,t.Vg=!0)},C.Eq.prototype.NL=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y);if(this.tZ&&(this.W7(t,a,"heal"),this.finish(t,t.K.rect),this.tZ=null),this.BV){var s=C.hl.Le(this.fT.setop,r.s(W.cm),r.s(W.ze)),l=new z(y.E.QJ,!0);this.ic.d.length<=4?l.data=C.hl.cA():l.data=C.hl.mT(this.ic.d,s),i.w(l),this.BV=null,t.v.hK=null,t.Vg=!0}},C.Eq.prototype.vh=function(){return this.c},C.Eq.prototype.zT=function(t,i,e,r,n){C.gn.prototype.zT.call(this,t,i,e,r,n),this.b9(n,r)},C.Eq.prototype.b9=function(t,i){var e="auto;";(i!=null&&i.s(W.cm)&&!i.s(W.ze)||this.fT.setop=="union")&&(e="copy");var r=new z(y.E.L,!0);r.data={e:y.B.Ik,rr:e},this.caller&&this.caller.w(r)},C.Eq.prototype.W7=function(t,i,e){var r=new st(Math.round(this.tZ.x-i.x),Math.round(this.tZ.y-i.y));this.fT.patch==1&&r.Oh(-r.x,-r.y),this.c=r,this.vM(t,e,this.Dd,t.K.rect,t.K.rect),this.A(t,t.K.rect)},C.Qb=function(){C.gn.call(this,[10,13],C.a82,"tools/pbucket")},C.Qb.prototype=new C.gn,C.Qb.prototype.enable=function(t,i,e,r){var n=new z(y.E.L,!0);n.data={e:y.B.Ik,rr:"default"},i.w(n)},C.Qb.prototype.AK=function(t,i){},C.Qb.prototype.NL=function(t,i,e,r,n){if(!!t.FD()){var a=t.a.PY(n.x,n.y),s=C.C6.tU(t,a,this.fT.wconf);if(s!=null){var l=v.R(s.rect.M()*4);v.XB(l,(e.GY&255)<<16|(e.GY>>8&255)<<8|(e.GY>>16&255)<<0),v.Oy(s.channel,l,3),this.qO(t),this.vM(t,"draw",l,s.rect,s.rect),this.A(t,s.rect),this.finish(t,s.rect)}}},C.BK=function(){C.hl.call(this,[10,14],C.a6q,"tools/plasso"),this.qy="crosshair",this.Ic=[],this._M=null,this.ic=null,this.ak2=0},C.BK.prototype=new C.hl,C.BK.prototype.disable=function(t,i,e,r){this.bJ(t)},C.BK.prototype.Qf=function(t,i,e,r){this.Ic=[W.Yk,W.Yp]},C.BK.prototype.aU=function(t){return this.Ic.indexOf(t)!=-1},C.BK.prototype.Vc=function(t){return this.ic!=null},C.BK.prototype.II=function(){return this.ic!=null},C.BK.prototype.go=function(){return this.ic!=null},C.BK.prototype.Ap=function(t,i,e,r){if(this.ic!=null){var n=this.ic,a=n.d,s=a.length-2,l=this.H9;this.y0>1&&e.s(W.ze)&&r.Ku?(a.push(0,0),n.W.push("L"),s+=2):e.s(W.cm)&&(l=C.T7.M$(new st(a[s-2],a[s-1]),l)),a[s]=l.x,a[s+1]=l.y,t.v.hK=n,t.Vg=!0}},C.BK.prototype.sj=function(t,i,e,r){var n=Date.now();if(this.ic==null)this.ic={d:[this.H9.x,this.H9.y,this.H9.x,this.H9.y],W:["M","L"]};else{if(this.Ap(t,i,e,r),n-this.ak2<250||st.Yj(this.H9,new st(this.ic.d[0],this.ic.d[1]))<5*y.J()/t.a.F){this._M=this.ic,this.finish(t,i,e,r),this.bJ(t);return}this.ic.W.push("L"),this.ic.d.push(this.H9.x,this.H9.y)}this.ak2=n,t.v.hK=this.ic},C.BK.prototype.bJ=function(t){this.ic=null,this.Ic=[],t!=null&&(t.v.hK=null,t.Vg=!0)},C.BK.prototype.gU=function(t,i,e,r){if(C.hl.prototype.gU.call(this,t,i,e,r),r.s(W.yc)&&this.ic==null&&this._M&&t.K!=null){var n=new z(y.E.H);n.Q=C.Kb,n.data={e:"h_stepbck"},i.w(n),this.Qf(t,e,r,null),this.ic=this._M;return}this.ic!=null&&((r.s(W.Yk)||r.s(W.Yp))&&(this.ic.d.pop(),this.ic.d.pop(),this.ic.W.pop(),this.Ap(t,e,r)),r.s(W.Xr)&&(this.ic.d.length>4&&(this._M=this.ic,this.finish(t,e,r)),this.ic=null),r.s(W.yc)&&(this.ic=null),t.v.hK=this.ic,t.Vg=!0)},C.BK.prototype.getSelection=function(t,i,e,r){return C.hl.mT(this.ic.d)},C.zZ=function(){C.hl.call(this,[10,10],C.a9j,"tools/mlasso"),this.qy="crosshair",this.Ic=[],this.b=[],this.LT=[],this.V8=[],this.Ue=null,this.i1=null,this.I$=null,this.Gn=0,this.y9=0},C.zZ.prototype=new C.hl,C.zZ.prototype.disable=function(t,i,e,r){this.clear(t)},C.zZ.prototype.Vc=function(t){return this.b.length!=0},C.zZ.prototype.go=function(){return this.b.length!=0},C.zZ.prototype.aU=function(t){return this.Ic.indexOf(t)!=-1},C.zZ.prototype.Qf=function(t,i,e,r){this.Ic=[W.Yk,W.Yp];var n=this.h2(this.k7,t);if(this.b.length!=0&&(st.Yj(n,this.b[0])<4*y.J()/t.a.F||Date.now()-this.Gn<300)){this.uy(t,this.b[0]),this.finish(t,i,e),this.clear(t);return}if(this.Gn=Date.now(),this.b.length!=0)n=this.ra(n,t);else{for(var a=t.Z,s=t.h,l=v.R(a*s),h=t.lD(),o=a*s*4,f=0;f<o;f+=4)l[f>>>2]=~~(.5+v.ou(h[f],h[f+1],h[f+2])*(h[f+3]*(1/255)));this.Ue=v.Pn.akw(l,a,s),this.I$=new Uint16Array(l.length)}this.uy(t,n),this.y9=e.s(W.ze)?1:0,this.U5(t)},C.zZ.prototype.uy=function(t,i){var e=this.b;if(this.LT[e.length]=this.V8.length,e.length!=0){v.Pn.T9(this.i1,i.y*t.Z+i.x);var r=this.bO(t,i);r.reverse();var n=C.zZ.Ew(t,r);this.V8=this.V8.concat(n)}e.push(i),this.n7(t)},C.zZ.prototype.n7=function(t){var i=this.b[this.b.length-1],e=i.y*t.Z+i.x;this.i1=v.Pn.ajf(this.Ue.g8,this.Ue.lr,e),this.I$.fill(0)},C.zZ.prototype.h2=function(t,i){return new st(Math.floor(Math.max(0,Math.min(i.Z-1,t.x))),Math.floor(Math.max(0,Math.min(i.h-1,t.y))))},C.zZ.prototype.clear=function(t){this.V8=[],this.b=[],this.LT=[],this.Ue=null,this.i1=null,this.I$=null,t!=null&&(t.v.hK=null,t.v.CL=[],t.Vg=!0),this.Ic=[]},C.zZ.prototype.Ap=function(t,i,e,r){var n=this.b,a=n.length;if(a!=0){for(var s=this.ra(this.h2(this.H9,t),t),l=this.bO(t,s),h=0;h<l.length;h++){var o=l[h],f=new st(o%t.Z,Math.floor(o/t.Z));if(this.I$[o]>30&&st.Yj(f,n[a-1])>20){this.uy(t,f);return}this.I$[o]++}this.y9==1&&r.Ku&&this.uy(t,s),this.U5(t)}},C.zZ.prototype.U5=function(t){var i=this.b;if(i.length!=0){var e=this.ra(this.h2(this.H9,t),t),r=this.bO(t,e);r.reverse();for(var n=C.zZ.Ew(t,r),a=this.V8.concat(n),s=t.v.hK={d:a,W:["M"]},l=2;l<a.length;l+=2)s.W.push("L")}t.v.CL=[];for(var l=0;l<i.length;l++)t.v.CL.push(i[l].x+.5,i[l].y+.5);t.Vg=!0},C.zZ.prototype.sj=function(t,i,e,r){},C.zZ.prototype.gU=function(t,i,e,r){if(this.b.length!=0){if((r.s(W.Yk)||r.s(W.Yp))&&(this.b.pop(),this.V8=this.V8.slice(0,this.LT[this.b.length]),this.LT.pop(),this.b.length==0?this.clear(t):this.n7(t),this.U5(t)),r.s(W.Xr)){var n=this.h2(this.H9,t);this.uy(t,n),this.finish(t,e,r),this.clear(t)}r.s(W.yc)&&this.clear(t)}},C.zZ.prototype.getSelection=function(t,i,e,r){return C.hl.mT(this.V8)},C.zZ.prototype.bO=function(t,i){var e=this.b[this.b.length-1],r=e.y*t.Z+e.x,n=i.y*t.Z+i.x;if(this.y9==1)return[n,r];for(var a=[n];n!=r;)if(n=this.i1.fP[n],a.push(n),a.length>5e3)throw console.log(a),"e";return a},C.zZ.Ew=function(t,i){for(var e=[],r=t.Z,n=0;n<i.length;n++){var a=i[n];e.push(a%r+.5,Math.floor(a/r)+.5)}return e},C.zZ.prototype.ra=function(t,i){var e=i.Z,r=i.h,n=t.clone(),a=3;v.Pn.T9(this.i1,t.y*e+t.x);for(var s=this.i1.xy[t.y*e+t.x],l=-a+1;l<a;l++)for(var h=-a+1;h<a;h++){var o=t.x+h,f=t.y+l;o<0||o>=e||f<0||f>=r||(v.Pn.T9(this.i1,f*e+o),this.i1.xy[f*e+o]<s&&n.Oh(o,f))}return n},C.X2=function(){C.An.call(this,[10,36],C.a4g,"tools/ruler"),this.A2=null,this.zV=null,this.C3=null,this.oh=null},C.X2.prototype=new C.An,C.X2.prototype.Vc=function(t){return t.Ku},C.X2.prototype.disable=function(t,i,e,r){this.A2=this.zV=null,t&&this.IG(t)},C.X2.prototype.R$=function(t,i,e,r,n){var a=t.a.F/y.J(),s=t.a.PY(n.x,n.y);s.x=Math.round(s.x),s.y=Math.round(s.y);var l=this.A2;l&&st.Yj(s,l[0])*a<6?this.zV=[0]:l&&st.Yj(s,l[1])*a<6?this.zV=[1]:l&&C.X2.ajr(l[0],l[1],s)*a<6&&Math.min(l[0].x,l[1].x)-5<=s.x&&s.x<=Math.max(l[0].x,l[1].x)+5&&Math.min(l[0].y,l[1].y)-5<=s.y&&s.y<=Math.max(l[0].y,l[1].y)+5?(this.zV=[0,1],this.oh=[l[0].clone(),l[1].clone()],this.C3=s):(this.A2=[s.clone(),s.clone()],this.zV=[1])},C.X2.prototype.$E=function(t,i,e,r,n){if(this.zV!=null){var a=this.A2,s=this.zV,l=t.a.PY(n.x,n.y);if(l.x=Math.round(l.x),l.y=Math.round(l.y),s.length==2){var h=l.x-this.C3.x,o=l.y-this.C3.y;a[0]=this.oh[0].clone(),a[0].offset(h,o),a[1]=this.oh[1].clone(),a[1].offset(h,o)}else a[s[0]].Oh(l.x,l.y),r.s(W.cm)&&(a[s[0]]=C.T7.M$(a[1-s[0]],a[s[0]]));this.IG(t),this.fF(i,y.E.L,{e:y.B.Zo,Q:this.id,aa3:a[0],sk:a[1]})}},C.X2.prototype.NL=function(t,i,e,r,n){this.zV=null},C.X2.prototype.fF=function(t,i,e){var r=new z(i,!0);r.data=e,t.w(r)},C.X2.prototype.IG=function(t){var i=this.A2;if(i==null)t.v.hK=null,t.v.CL=[];else{var e=[i[0].x,i[0].y,i[1].x,i[1].y];t.v.hK={W:["M","L"],d:e},t.v.CL=e}t.Vg=!0},C.X2.ajr=function(t,i,e){var r=i.x-t.x,n=i.y-t.y,a=Math.abs(n*e.x-r*e.y+i.x*t.y-i.y*t.x),s=Math.sqrt(r*r+n*n);return a/s},C.Vl=function(){C.gn.call(this,[10,19],C.hW,"tools/sharpen"),this.mo="copy"},C.Vl.prototype=new C.gn,C.Vl.prototype.R$=function(t,i,e,r,n){var a=this.fT.pdetail?Qt.jB:Qt.hW;r.s(W.ze)&&(a=Qt.oZ),this.yC(t,e,r,n,this.fT.strn,a),this.A4!=null&&this.km(t)},C.Vl.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.Ll=function(){C.gn.call(this,[10,24],C.re,"tools/shbrush"),this.mo="draw",this.fT.opacity=.5},C.Ll.prototype=new C.gn,C.Ll.prototype.R$=function(t,i,e,r,n){this.yC(t,e,r,n,1),this.A4!=null&&this.km(t)},C.Ll.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.Ll.prototype.NL=function(t,i,e,r,n){this.A4!=null&&(this.vM(t,"sheal",this.A4.qq(),this.A4.o7(),this.A4.J0(),null),this.A(t,this.A4.J0()),C.gn.prototype.NL.call(this,t,i,e,r,n))},C.Tg=function(){C.gn.call(this,[10,20],C.nD,"tools/smudge"),this.mo="copy"},C.Tg.prototype=new C.gn,C.Tg.prototype.R$=function(t,i,e,r,n){this.yC(t,e,r,n,this.fT.strn,Qt.nD),this.A4!=null&&this.km(t)},C.Tg.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.FU=function(){C.gn.call(this,[10,23],C.oo,"tools/sponge"),this.mo="sponge"},C.FU.prototype=new C.gn,C.FU.prototype.R$=function(t,i,e,r,n){this.yC(t,e,r,n,this.fT.flow),this.A4!=null&&this.km(t)},C.FU.prototype.$E=function(t,i,e,r,n){this.yP(t,i,e),this.w6&&this.rg(t,e,n),this.A4!=null&&(!n.Ku||(this.Td(t,e,r,n),this.km(t)))},C.$h=function(){C.An.call(this,[10,17],C.QS,"tools/zoom"),this.nJ=!1,this.Wu=!0,this._7=0,this.wf=null,this.KE=null,this.Ju=0,this.lf=null,this.i6=0,this.X7=new he([{name:[8,0],n8:"Ctrl + +"},{name:[8,1],n8:"Ctrl + -",aD:!0},{name:[20,3],n8:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],n8:"Ctrl + 1"}],[{f:y.E.H,Q:C.QS,o:{e:"zoom",Wu:!0}},{f:y.E.H,Q:C.QS,o:{e:"zoom",Wu:!1}},{f:y.E.H,Q:C.QS,o:{e:"adapt",C:"fitscr"}},{f:y.E.H,Q:C.QS,o:{e:"adapt",C:"pixel"}}])},C.$h.prototype=new C.An,C.$h.prototype.FT=function(t,i,e,r,n){var a=this.X7;a.t(),a.parent=i,a.update(t,e);var s=new z(y.E.L,!0);s.data={e:y.B.VX,Nc:a,x:n.Bx+2,y:n.yG+1},i.w(s)},C.$h.prototype.enable=function(t,i,e,r){this.k4(i,r),t&&Date.now()-this._7<300&&this.XZ({e:"adapt",C:"pixel"},i,t,r,e),this._7=Date.now()},C.$h.prototype.R$=function(t,i,e,r,n){this.KE=new st(n.x,n.y),this.Ju=t.a.F,this.lf=t.a.c.clone()},C.$h.prototype.$E=function(t,i,e,r,n){if(this.KE!=null){var a=Math.round((n.x-this.KE.x)/16);if(a!=0){var s=C.$h.gd(this.Ju),l=C.$h.dc[Math.max(0,Math.min(C.$h.dc.length-1,s-a))];t.a.F=this.Ju,t.a.c=this.lf.clone(),this.XZ({e:"zoom",F:l,yZ:this.KE},i,t,r,e)}}},C.$h.prototype.NL=function(t,i,e,r,n){if(st.Yj(this.KE,n)<4){var a=this.ys(r);this.XZ({e:"zoom",Wu:a,yZ:n},i,t,r,e)}this.KE=null},C.$h.dc=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64],C.$h.P9=function(t,i,e,r){for(var n=1;t*n*1/2>e||i*n*1/2>r;)n*=1/2;return t*n*2/3>e||i*n*2/3>r?n*=1/2:(t*n>e||i*n>r)&&(n*=2/3),n},C.$h.ajR=function(t,i){var e=C.$h.gd(t);return i&&e==0||!i&&e==C.$h.dc.length-1?t:C.$h.dc[i?e-1:e+1]},C.$h.gd=function(t){for(var i=0;C.$h.dc[i]>t;)i++;return i},C.$h.dX=function(t,i,e,r){var n=t.EA;if(!((r==0||r==null)&&(r=C.$h.ajR(t.F,e),r==t.F))){var a=t.PY(i.x,i.y);if(n.Z*r<=t.xX.Z&&n.h*r<=t.xX.h)t.c.Oh(0,0),t.F=r;else{var s=t.c5(),l=t.F/r;s.translate(-a.x,-a.y),s.scale(l,l),s.translate(a.x,a.y),t.rE(s)}}},C.$h.prototype.XZ=function(t,i,e,r,n){var a=0,s=!1,l=null;if(t.e=="adapt"){var h=0;if(t.C=="pixel"&&(h=1),t.C=="fitscr"){var h=0,o=e.a.xX.Z,f=e.a.xX.h;if(e.Z<=o&&e.h<=f){for(var u=1;e.Z*(u+1)<=o&&e.h*(u+1)<=f;)u++;h=u}else h=C.$h.P9(e.Z,e.h,o,f)}l=new st(Math.round(e.a.xX.Z/2),Math.round(e.a.xX.h/2)),a=h,C.$h.dX(e.a,l,s,a),e.Ob=!0}if(t.e.startsWith("multi")){let D=function(I){var N=I[0].x-I[1].x,V=I[0].y-I[1].y;return Math.sqrt(N*N+V*V)},B=function(I){return new st((I[0].x+I[1].x)/2,(I[0].y+I[1].y)/2)};var O=D,E=B,p=t.vD,c=B(p);if(t.e=="multidown")this.wf=[p,e.a.F,e.a.PY(c.x,c.y)];else{if(a=this.wf[1]*D(p)/D(this.wf[0]),a>=1)a=Math.min(32,Math.round(a));else{for(var d=0,g=1e9,b=C.$h.dc,m=0;m<b.length;m++){var x=Math.abs(1-a/b[m]);x<g&&(g=x,d=m)}a=b[d]}a!=e.a.F&&C.$h.dX(e.a,c,s,a);var M=this.wf[2],S=e.a._R(M.x,M.y),w=e.a.c;w.x=Math.round(w.x+c.x-S.x),w.y=Math.round(w.y+c.y-S.y),e.Ob=!0}}if(t.e=="scroll"){l=t.yZ,this.i6+=t.Dk.y;var k=14;if(this.i6<-k)s=!0,this.i6=Math.max(this.i6+k,-(k-1));else if(this.i6>k)s=!1,this.i6=Math.min(this.i6-k,k-1);else return;C.$h.dX(e.a,l,s,a),e.Ob=!0}if(t.e=="zoom"&&(l=t.yZ?t.yZ:new st(Math.round(e.a.xX.Z/2),Math.round(e.a.xX.h/2)),t.F!=null?a=t.F:s=t.Wu,C.$h.dX(e.a,l,s,a),e.Ob=!0),t.e=="mskView"){var T=e.r[e.p[0]],L=T.kB==3?T.yg(e).g:T.jk();t.C==0&&(e.a.qa=[1,1,1],L.gG=!1),t.C==1&&(e.a.qa=[1,1,1],L.gG=!0),t.C==2&&(e.a.qa=[0,0,0],L.gG=!0);for(var m=0;m<e.Yq.length;m++)e.Yq[m].gG=!1;e.oD=[],e.Vg=!0}},C.$h.prototype.gU=function(t,i,e,r){if(this.nJ!=r.s(W.ze)){this.nJ=r.s(W.ze);var n={e:y.B.Zo,Q:this.id,nJ:this.nJ},a=new z(y.E.L,!0);a.data=n,i.w(a),this.k4(i,r)}},C.$h.prototype.k4=function(t,i){var e=new z(y.E.L,!0),r=this.ys(i);e.data={e:y.B.Ik,rr:r?"zoom-in":"zoom-out"},t.w(e)},C.$h.prototype.zT=function(t,i,e,r){this.Wu=t.Wu,this.k4(i,r)},C.$h.prototype.ys=function(t){var i=this.Wu;return t.s(W.fd)&&t.s(W.Bl)&&(i=!0),this.nJ&&(i=!i),i},C.Y2=function(t,i,e){C.An.call(this,t,i,e),this.cz=null,this.yH=null,this.JW=null,this.a6t=0},C.Y2.prototype=new C.An,C.Y2.prototype.enable=function(t,i,e,r,n){this.yH=e;var a=new z(y.E.L,!0);a.data={e:y.B.Ik,rr:"default"},i.w(a)},C.Y2.prototype.FT=function(t,i,e,r,n){if(t.Cj()[0].length!=0){var a=new z(y.E.L,!0);a.data={e:y.B.Zo,Q:this.id,jE:n,mY:t,s0:e},i.w(a)}},C.Y2.prototype.v4=function(t,i){var e=new z(y.E.L,!0);e.data={e:y.B.Sl,S9:ut.Kw},i.IT||t.w(e),e.data={e:y.B.Sl,S9:ut.t4},i.Np.VW||t.w(e)},C.Y2.prototype.RR=function(t,i,e,r){if(e.Mp==this.id&&t.p.length!=0){var n=t.r[t.p[0]],a=n.add.vmsk,s=n.add.vstk,l=C.Y2.Un(t,t.p[0]);if(this.cz=t,this.JW=i,n.ws()&&a!=null&&(JSON.stringify(s)!=JSON.stringify(e.n2)||JSON.stringify(l)!=JSON.stringify(e.wI))){this.a6t=Date.now();var h=new z(y.E.L,!0);h.data={e:y.B.Sl,S9:ut.l2,C:l},i.w(h),h.data={e:y.B.Sl,S9:ut.Bh,C:s},i.w(h)}}},C.Y2.prototype.AK=function(t,i){if(this.cz!=null&&(i==ut.oc||i==ut.l2||i==ut.Bh)){if(Date.now()-this.a6t<50)return;for(var e=i==ut.l2,r=this.cz,n=e?t.wI:t.n2,a=[],s=0;s<r.p.length;s++){var l=r.p[s],h=r.r[l];!h.ws()||h.add.vmsk==null||a.push(l)}var o=new z(y.E.H,!0);o.Q=C.xC,o.data={e:H.WF,Ev:a,jK:e,C:n},a.length!=0&&this.JW.w(o)}},C.Y2.prototype.aj$=function(t){if(typeof t=="number"){var i=new z(y.E.QJ,!0);i.data=C.sp.XL(0),i.data.w1.Usng.v.Type.v.Clr.v=v.j.$H({U:t>>>16&255,S:t>>>8&255,i:t>>>0&255}),this.JW.w(i)}},C.Y2.prototype.XZ=function(t,i,e,r,n){if(this.JW=i,t.e=="newfill"){if(t.iy==0){var a=new z(y.E.L,!0);a.data={e:y.B.uH,W2:"colorpicker",u9:n.GY,jz:this.aj$.bind(this)},i.w(a)}}else if(t.e=="pathedit"){var s=t.mQ,l="",h=e.VW.slice(0),o=e.QP.slice(0),f=e.VW.slice(0),u=e.QP.slice(0);if(s=="rnm"){var p=-1-t.XN,c=h[p],d=Pt.GG(t.name,c.add);f[p]=d,l="Rename"}else if(s=="new")f.push(Pt.GG("Path "+h.length)),u=[f.length-1],l="New";else if(s=="del"){if(u.length==0)return;u.sort(function(G,Z){return G-Z}),u[0]==0&&(f[0]=Pt.GG(h[0].name),u=u.slice(1));for(var g=0;u.length!=0;)f.splice(u[0]-g,1),u=u.slice(1),g++;l="Delete"}else if(s=="fromsel"){var b=f[0]=Pt.GG("Work Path");if(u=[0],e.K==null)return;for(var m=e.K.channel.slice(0),x=0;x<m.length;x++)m[x]=m[x]>128?2:1;var M=e.K.rect.clone();M.PK(1,1);var S=v.R(M.M());v.Lj(m,e.K.rect,S,M);for(var w=ln.ih(S,M.Z,M.h,Math.round(M.M()*5e-4)),k=ln.Cj(w),T=new Et(1,0,0,1,-1+e.K.rect.x,-1+e.K.rect.y),x=0;x<k.length;x++)v.D.O(k[x].path.d,T,k[x].path.d);for(var x=0;x<k.length;x++){var L=k[x];if(!(L.color==1&&L.parent==-1)){var O=v.D.sb(k[x].path,!1);b.add.vmsk.b=b.add.vmsk.b.concat(O.slice(2))}}b.add.vogk=H.h7(b.add.vmsk.b),l="Selection to"}var E=new ni(l+" Path",this);E.data={wT:h,jt:o,abR:f,JA:u},s=="fromsel"&&(E.data.la=e.K,E.data.Od=null),e.TX(E),this.oF(E.data,e)}else{var D=e.Cj(t.e=="append"),k=D[0],B=D[1],b=k[B[0]],I=b.add.vmsk,N=b.add.vogk,V=I.clone(),j=I.clone(),R=JSON.stringify(N);if(t.e=="remove"){if(j.p.length==0)return;for(var g=0,x=0;x<j.p.length;x++)N.splice(j.p[x]+g,1),g--;j.b=v.V.acI(j.b,j.p),j.p=[],j.s_=[]}t.e=="append"&&C.Y2.j6(t.abP,j,N),this.YC(e,b.XN,j,N),this.ww(e,t.tP,b.XN,V,j.clone(),null,R,JSON.stringify(N))}},C.Y2.G8=function(t,i){for(var e=v.V.aa4(t.b,t.p),r=[],n=0;n<t.p.length;n++)r.push(JSON.parse(JSON.stringify(i[t.p[n]])));return[e,r]},C.Y2.j6=function(t,i,e){var r=v.V.k3(i.b),n=v.V.k3(t[0]);i.b=i.b.concat(t[0].slice(2)),i.p=[];for(var a=0;a<n;a++)i.p.push(r+a);for(var a=0;a<n;a++)e.push(JSON.parse(JSON.stringify(t[1][a])))},C.Y2.prototype.aU=function(t,i){if(i==null)return!1;var e=i.Cj(),r=e[0],n=e[1];if(n.length==0)return!1;var a=r[n[0]],s=a.add.vmsk;if(s&&s.p.length+s.s_.length!=0)return[W.Yk,W.Yp].indexOf(t)!=-1},C.Y2.prototype.gU=function(t,i,e,r){if(t!=null){var n=t.Cj(),a=n[0],s=n[1];if(s.length!=0){var l=a[s[0]],h=l.add.vmsk;if((r.s(W.yc)||r.s(W.Xr))&&(h.s_=[],t.Vg=!0),h.p.length!=0){var o=r.Ef();if(o.x!=0||o.y!=0){var f=h.clone(),u=h.clone(),p=new Et(1,0,0,1,o.x,o.y),c=l.add.vogk,d=JSON.stringify(c);v.V.G5(u.b,p,u.p),v.P$.O(c,v.P.Jb(p),u.p),this.YC(t,l.XN,u,c),this.ww(t,"Move Paths",l.XN,f,u.clone(),!0,d,JSON.stringify(c))}(r.s(W.Yk)||r.s(W.Yp))&&this.XZ({e:"remove",tP:"Delete Paths"},i,t,r,e)}}}},C.Y2.prototype.ww=function(t,i,e,r,n,a,s,l){var h=new ni(i,this);h.data={XY:e,jL:r,Bj:n,aaE:a,abt:s,TC:l},t.TX(h)},C.Y2.prototype.oF=function(t,i){t.XY!=null?this.YC(i,t.XY,t.Bj.clone(),JSON.parse(t.TC)):(i.VW=t.abR.slice(0),i.QP=t.JA.slice(0),i.Vg=i.Vf=!0),(t.la||t.Od)&&(i.K=t.Od,i.Es=!0)},C.Y2.prototype.tO=function(t,i){t.XY!=null?this.YC(i,t.XY,t.jL.clone(),JSON.parse(t.abt)):(i.VW=t.wT.slice(0),i.QP=t.jt.slice(0),i.Vg=i.Vf=!0),(t.la||t.Od)&&(i.K=t.la,i.Es=!0)},C.Y2.prototype.YC=function(t,i,e,r){var n=i<0?t.VW[-1-i]:i<1e6?t.r[i]:t.r[i-1e6].add.TySh;if(n.add.vmsk=e,n.add.vogk=r,1e6<=i){lt.jj(n);var a=t.r[i-1e6],s=n,l=this.yH,h=new Si(s.MF,l.SN),o=Ee.ti(h,s);a.rect=o.T,a.buffer=o.Ww,a.A(),t.A()}else 0<=i&&(e.G2=!0,n._V(t),t.A());t.Vg=t.Vf=!0},C.Y2.Un=function(t,i){var e=t.r[i],r=e.add.vstk,n=null;return r&&!r.fillEnabled.v?n={d1:0}:e.add.SoCo?n={d1:1,qA:e.add.SoCo}:e.add.GdFl?n={d1:2,qA:e.add.GdFl}:e.add.PtFl&&(n={d1:3,qA:e.add.PtFl}),n},C.Y2.ov=function(t,i){var e=t.add.vmsk,r=t.add.vstk,n=i.d1;if(r&&(r.fillEnabled.v=n!=0),n>0){for(var a=["SoCo","GdFl","PtFl"][n-1],s=0;s<3;s++)delete t.add[["SoCo","GdFl","PtFl"][s]];t.add[a]=i.qA}},C.sp=function(t,i,e,r){C.Y2.call(this,t,i,e),this.fT={tmode:1,shape:qr.tt(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{wV:0}},this.ad8=r,this.Y0=null,this.JL=null,this.a0=null},C.sp.prototype=new C.Y2,C.sp.prototype.Vc=function(t){return t.Ku&&this.id!=C.Rw},C.sp.prototype.enable=function(t,i,e,r,n){this.yH=e;var a=new z(y.E.L,!0);a.data={e:y.B.Ik,rr:"crosshair"},i.w(a)},C.sp.prototype.Rr=function(t,i,e,r){},C.sp.prototype.R$=function(t,i,e,r,n){this.v4(i,e);var a=this.fT.tmode;if(!(a==2&&!t.FD())){var s=t.a.PY(n.x,n.y);s=C.qT.aE(t,s,e),this.a0=[s.x,s.y],this.Y0=s,this.JL=new st(0,0)}},C.sp.prototype.tR=function(t,i,e){var r=[this.Y0.clone(),i.clone()];return this.ad8&&(r=C.sp.en(r[0],r[1],e,!0,this.fT.cstr)),t&&(t.a.GW=new et(r[0].x,r[0].y,r[1].x-r[0].x,r[1].y-r[0].y)),this.Rr(r[0],r[1],e.s(W.cm),this.a0)},C.sp.prototype.xF=function(t,i,e){var r=t.a.PY(i.x,i.y),n=this.fT.cstr;if(n.wV==2){var a=new et(r.x-n.x,r.y-n.y,n.x,n.y),s=C.qT.hx(t,a,e);r.x+=s[0],r.y+=s[1],C.qT.rz(t,a,s)}else r=C.qT.aE(t,r,e);return r},C.sp.prototype.$E=function(t,i,e,r,n){if(this.Y0!=null){var a=this.xF(t,n,e);r.s(W.fd)?this.Y0=a.gI(this.JL):this.JL=a.gI(this.Y0),this.a0.push(a.x,a.y),this.fT.shape==null&&(this.fT.shape=e.KQ[0]);var s=this.tR(t,a,r)[0],l=v.D.xJ(s);t.v.hK=l,this.id!=C.Rw&&this.id!=C.S3&&this.id!=C.rG&&C.An.Wf(n.x+10,n.y-10,t.a.GW,t,e),t.Vg=!0}},C.sp.prototype.afM=function(t,i,e,r){var n=t[4].clone();r&&(n.x-=i/2,n.y-=e/2);var a=this.Rr(n,new st(n.x+i,n.y+e),!1,this.a0);this.Kd(t[0],t[1],t[2],a)},C.sp.prototype.Kd=function(t,i,e,r){var n=new z(y.E.QJ,!0);if(n.data=C.sp.HV(r[1],e),i.w(n),r[1].v.classID=="customShape"&&r[1].v.Nm.v.startsWith("--")){var a=t.Cj(),s=a[0],l=a[1],h=s[l.pop()],o=h.add.vmsk,f=h.add.vogk,u=o.clone();u.b=r[0],this.YC(t,h.XN,u,f)}},C.sp.prototype.NL=function(t,i,e,r,n){if(this.Y0!=null){var a=this.xF(t,n,e),s=this.fT.binop,l=this.fT.tmode,h=this.a0,o=h.length;if(!(this.id==C.Rw&&o<=4)){if(o<=4){a.x=Math.round(a.x),a.y=Math.round(a.y);var f=new z(y.E.L);f.data={e:y.B.uH,W2:"createshape",a25:this.afM.bind(this),a9p:this.name,a9i:[t,i,e,r,a]},i.w(f)}else if(o!=2){var u=this.tR(t,a,r),p=u[0];if(l==0&&p.length>2){p[2].IO=[1,2,3,0][s];var c=t.Cj(!0),d=c[0],g=c[1],b=d[g.pop()],m=b.add.vmsk,x=b.add.vogk,M=m.clone(),S=m.clone(),w=JSON.stringify(x);S.b=S.b.concat(p.slice(2)),S.p=[v.V.k3(S.b)-1];var k=v.P$.ND(u[1]);x.push(k||v.P$.Zm()),this.YC(t,b.XN,S,x),this.ww(t,this.name,b.XN,M,S,null,w,JSON.stringify(x))}else if(l==1)this.Kd(t,i,e,u);else if(l==2){var S=new H.iO;S.b=S.b.concat(p.slice(2));var T=S.jk(),L=v.R(T.rect.M()*4);v.XB(L,(e.GY&255)<<16|(e.GY>>8&255)<<8|(e.GY>>16&255)<<0),v.Oy(T.channel,L,3);var O=new z(y.E.H,!0);O.Q=C.Sm,O.data={e:"draw",pL:{buffer:L,rect:T.rect.clone()},tP:this.name},i.w(O)}}}this.Y0=null,t.v.hK=null,t.v.zK=null,t.v.Tw=[],t.a.GW=null,t.Vg=!0}},C.sp.prototype.zT=function(t,i,e,r,n){for(var e in t)this.fT[e]=t[e]},C.sp.en=function(t,i,e,r,n){var a=t.x,s=t.y,l=i.x,h=i.y;if(n&&n.wV==2)r&&(l=Math.round(l),h=Math.round(h)),a=l-n.x,s=h-n.y;else{var o=0;if(n&&n.wV==1?o=n.y/n.x:e&&e.s(W.cm)&&(o=1),o!=0){r&&(a<l?a=Math.floor(a):a=Math.ceil(a),s<h?s=Math.floor(s):s=Math.ceil(s));var f=Math.abs(l-a),u=Math.abs(h-s),p=f;u/f<o&&(p*=u/f/o),l=l>a?a+p:a-p,h=h>s?s+p*o:s-p*o}e&&e.s(W.ze)&&(a-=l-a,s-=h-s)}var t=new st(a,s),i=new st(l,h);return r&&C.sp.am8(t,i),[t,i]},C.sp.am8=function(t,i){if(t.x>i.x){var e=t.x;t.x=i.x,i.x=e}if(t.y>i.y){var e=t.y;t.y=i.y,i.y=e}t.x=Math.floor(t.x),t.y=Math.floor(t.y),i.x=Math.ceil(i.x),i.y=Math.ceil(i.y)},C.sp.a4A=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}},C.sp.XL=function(t,i){var e=C.sp.a4A();return i==null&&(i=JSON.parse(JSON.stringify(at._G[t]))),dt.T8.CR(i,e.Usng.v.Type.v,t),{Bm:"make",w1:e}},C.sp.HV=function(t,i){var e=i.wI,r=JSON.parse(JSON.stringify(i.n2));e.d1==0&&(r.fillEnabled.v=!1);var n=C.sp.XL(Math.max(0,e.d1-1),e.qA);return n.w1.Usng.v.Shp=t,n.w1.Usng.v.strokeStyle={t:"Objc",v:r},n},C.bz=function(){C.Y2.call(this,[10,29],C.wu,"tools/pen"),this.Q9=null,this.D1=null,this.SW=1,this.a1B=0,this.hX=null,this.VK=!1},C.bz.prototype=new C.Y2,C.bz.prototype.Vc=function(t){return this.Q9!=null},C.bz.prototype.R$=function(t,i,e,r,n){this.v4(i,e);var a=t.a.PY(n.x,n.y),s,l;a.x=Math.round(a.x),a.y=Math.round(a.y);var h=C.qT.aE(t,a,e),o=t.Cj(this.SW==0),f=o[0],u=o[1],p=f[u.pop()],c=p?p.add.vmsk:null,d=4*y.J()/t.a.F;if(c&&(s=v.V.cp(c.b,a,!0,d)),this.SW==1&&(c==null||(c.s_.length==0||c.s_[0]!=c.b.length-1)&&s.XN==-1)){var g=new z(y.E.QJ,!0),b=v.P$.Sn("customShape",[0,0,1,1],null,null,null,"--");g.data=C.sp.HV(b,e),i.w(g),o=t.Cj(!0),f=o[0],u=o[1],p=f[u.pop()],c=p.add.vmsk,c.b=c.b.slice(0,2)}var m=p.add.vogk;this.Q9=c.clone(),this.D1=JSON.stringify(m);var x=c.b,M=v.V.k3(x);if(l=v.V.Wh(c.b,new et(a.x-d,a.y-d,d*2,d*2)),s=v.V.cp(c.b,a,!0,d),s.XN!=-1&&l[0].length==0){for(var S=v.V.cx(x,s.XN);x[S].length<=s._2;)s._2-=x[S].length,S+=x[S].length+1;x[S].length++,x.splice(S+2+s._2,0,{type:4,wU:h.clone(),_:h.clone(),dv:h.clone()}),c.s_=[S+2+s._2]}else if(l[0].length==1&&r.s(W.ze)){var w=l[0],k=c.b.length-1,T=c.b[w];T.dv=T._.clone(),w!=k&&(T.wU=T._.clone())}else{var L=0;if(c.s_.length!=1)c.p=[M],x.push({type:3,length:1,IO:[1,2,3,0][this.a1B],yU:0,Oj:0,UB:0}),L=x.length,m.push(v.P$.Zm());else{var O=c.s_[0],E=v.V.o_(x,O),S=v.V.cx(x,E);if(O==S+x[S].length&&st.Yj(a,x[S+1]._)<d){x[S].type=0,c.s_=[S+1],this.hX=h,this.VK=!0,this.YC(t,p.XN,c,m),t.Vg=!0;return}x[S].length++,L=O+1}r.s(W.cm)&&x[L-1]&&x[L-1]._&&(h=C.T7.M$(x[L-1]._,h)),x.splice(L,0,{type:4,wU:h.clone(),_:h.clone(),dv:h.clone()}),c.s_=[L],this.hX=h}this.YC(t,p.XN,c,m),t.Vg=!0},C.bz.prototype.$E=function(t,i,e,r,n){if(this.Q9!=null){var a=t.a.PY(n.x,n.y),s=C.qT.aE(t,a,e),l=t.Cj(this.SW==0),h=l[0],o=l[1],f=h[o.pop()],u=f.add.vmsk,p=u.b,c=p[u.s_[0]];if(r.s(W.fd)){r.s(W.cm)&&(s=C.T7.M$(this.hX,s));var d=c._.gI(c.dv),g=c.wU.gI(c._);c.dv=s,c._=s.add(d),c.wU=c._.add(g)}else{if(r.s(W.cm)&&(s=C.T7.M$(c._,s)),this.VK){var b=st.Yj(c._,s),m=b==0?0:st.Yj(c._,c.dv)/b;c.dv.x=c._.x+m*(s.x-c._.x),c.dv.y=c._.y+m*(s.y-c._.y)}else c.dv=s;r.s(W.ze)?c.type=5:(c.type=4,c.wU=c._.add(c._.gI(s))),this.hX=s}this.YC(t,f.XN,u,f.add.vogk),t.Vg=!0}},C.bz.prototype.NL=function(t,i,e,r,n){if(this.Q9!=null){var a=t.Cj(this.SW==0),s=a[0],l=a[1],h=s[l.pop()],o=h.add.vmsk,f=h.add.vogk;this.ww(t,this.VK?"Close Path":"Add Anchor Point",h.XN,this.Q9,o.clone(),null,this.D1,JSON.stringify(f)),this.VK=!1,this.Q9=null}},C.bz.prototype.zT=function(t,i,e,r,n){this.SW=t.tmode,this.a1B=t.binop},C.O2=function(){C.sp.call(this,[10,30],C.Rw,"tools/fpen",!1)},C.O2.prototype=new C.sp,C.O2.prototype.Rr=function(t,i,e,r){return[v.V.bY(r,this.fT.tolr),v.P$.Sn("customShape",[0,0,1,1],null,null,null,"--")]},C.YR=function(){C.Y2.call(this,[10,27],C.lL,"tools/pselect"),this.Qv=null,this.UU=!1,this.ic=null,this.Q9=null,this.dR=null,this.D1=null,this.Vr=null,this.Qx=null,this.c9=null,this.P_=null},C.YR.prototype=new C.Y2,C.YR.prototype.Vc=function(t){return t.Ku},C.YR.prototype.R$=function(t,i,e,r,n){for(var a=t.a.PY(n.x,n.y),s=t.Cj(),l=s[0],h=s[1],o,f,u=0;u<h.length;u++){var p=l[h[u]],c=p.add.vmsk,d=v.V.cp(c.b,a).XN;d!=-1&&(this.ic=o=p,f=d);for(var g=0;g<c.A2.length;g++){var b=v.V.rJ(c.b,c.A2[g]);if(b!=null){var m=st.Yj(b,a);if(m<4*y.J()/t.a.F){var x=t.r[p.XN-1e6].add.TySh,M=x.MF.Curve,S=x.O,w=M.Reversed;M.Reversed=!1;var M=Si.Pr(x.MF.Curve);M.Reversed=w,v.D.O(M[0],S,M[0]),this.c9=[M,g,S.m*S.xA-S.i*S.p$],this.ic=o=p,f=0}}}if(this.c9)break}if(o!=null){var c=o.add.vmsk;c.s_=[];var k=c.p.indexOf(f);r.s(W.cm)?k==-1?(c.p.push(f),this.UU=!0):c.p.splice(k,1):(k==-1&&(c.p=[f]),this.UU=!0),this.Qx=v.V.ue(c.b,c.p)}this.Qv=a,this.P_=new ml(a),t.Vf=!0,t.Vg=!0},C.YR.prototype.$E=function(t,i,e,r,n){if(this.Qv!=null){var a=t.a.PY(n.x,n.y);if(this.UU){a=this.P_.ki(a,r);var s=this.ic;if(this.Q9==null&&(this.Q9=this.dR=s.add.vmsk.clone(),this.D1=this.Vr=JSON.stringify(s.add.vogk),r.s(W.ze))){var h=this.Q9.clone(),o=JSON.parse(this.D1),l=C.Y2.G8(h,o);C.Y2.j6(l,h,o),this.dR=h,this.Vr=JSON.stringify(o)}var h=this.dR.clone(),o=JSON.parse(this.Vr);if(this.c9){var f=this.c9,u=f[0][0],p=v.D.n0(u,a.x,a.y);h.A2[f[1]]=f[0][1][p];var c=u[p*2],d=u[p*2+1],g=(u[p*2+2]-c)*(a.y-d)-(u[p*2+3]-d)*(a.x-c);f[2]<0&&(g=-g),h.mt=g>0}else{var b=this.Qx.clone(),m=b.x,x=b.y;b.offset(a.x-this.Qv.x,a.y-this.Qv.y),b.x=Math.round(b.x),b.y=Math.round(b.y);var M=C.qT.hx(t,b,e),S=new Et(1,0,0,1,b.x-m+M[0],b.y-x+M[1]);v.V.G5(h.b,S,h.p),v.P$.O(o,v.P.Jb(S),h.p),C.qT.rz(t,b,M)}this.YC(t,s.XN,h,o)}else{var w=this.Qv;t.v.hK=v.D.z0(new et(w.x,w.y,a.x-w.x,a.y-w.y)),t.Vg=!0}}},C.YR.prototype.NL=function(t,i,e,r,n){if(this.Qv!=null){var a=t.a.PY(n.x,n.y),s=this.ic,l=s?s.add.vmsk:null;if(this.UU){var h=JSON.stringify(s.add.vogk);this.Qv.Qn(a)||this.ww(t,"Move Paths",s.XN,this.Q9,l,null,this.D1,h),t!=null&&t.v.zK&&(t.v.zK=null,t.Vg=!0)}else{if(l){var o=this.Qv,f=new et(o.x,o.y,a.x-o.x,a.y-o.y),u=v.V.aiz(l.b,f);if(r.s(W.cm))for(var p=0;p<u.length;p++)l.p.indexOf(u[p])==-1&&l.p.push(u[p]);else l.p=u}t.v.hK=null,t.Vg=!0}this.Qv=null,this.Q9=null,this.c9=null,this.UU=!1,this.P_=null}},C.YR.prototype.RR=function(t,i,e,r){if(C.Y2.prototype.RR.call(this,t,i,e,r),e.Mp==this.id&&t.p.length!=0){var n=t.Cj(),a=n[0],s=n[1];if(s.length!=0){var l=a[s[0]],h=l.add.vmsk,o=l.add.vstk,f=l.add.vogk,u=new z(y.E.L,!0);u.data={e:y.B.Zo,Q:this.id,He:"main",PS:h||null,P$:f},i.w(u)}}},C.YR.prototype.zT=function(t,i,e,r,n){var a=t.oI;if(a.PS){var s=e.Cj(),l=s[0],h=s[1],o=l[h[0]],f=o.add.vmsk.clone(),u=JSON.stringify(o.add.vogk),p=a.PS;this.YC(e,o.XN,p,a.P$);var c=[18,5];f.b.length==p.b.length&&(c=f.p[0]==p.p[0]?"Fill Rule":"Path Order"),this.ww(e,c,o.XN,f,p,null,u,JSON.stringify(a.P$))}},C.HA=function(){C.Y2.call(this,[10,28],C.C1,"tools/dselect"),this.ZZ=-1,this.d0=-1,this.xi=null,this.Qv=null,this.ic=null,this.Q9=null,this.D1=null,this.cz=null,this.Gn=0,this.a28={psnap:!1},this.P_=null},C.HA.prototype=new C.Y2,C.HA.prototype.Vc=function(t){return t.Ku},C.HA.prototype.zT=function(t){this.a28=t},C.HA.prototype.XZ=function(t,i,e,r,n){if(t.e=="crnr"){if(e==null)return;var a=e.Cj(),s=a[0],l=a[1];if(l.length==0){alert("No paths selected");return}var h=s[l[0]],o=h.add.vmsk;if(o.s_.length==0){alert("No corners selected");return}for(var f=0;f<o.s_.length;f++){var u=o.b[o.s_[f]];if(!u._.Qn(u.dv)||!u._.Qn(u.wU)){alert("Only sharp corners can be rounded");return}}this.Q9==null&&(this.Q9=h.add.vmsk.clone(),this.D1=JSON.stringify(h.add.vogk),this.ic=h,this.cz=e);var p=new z(y.E.L,!0);p.data={e:y.B.uH,W2:"cornerradius",Ub:5,j4:this.ahU.bind(this)},i.w(p)}else C.Y2.prototype.XZ.call(this,t,i,e,r,n)},C.HA.prototype.ahU=function(t){if(t=="confirm"){var i=this.cz,e=this.ic,r=e.add.vmsk,n=e.add.vogk;this.ww(i,[12,94,0],e.XN,this.Q9,r,null,this.D1,JSON.stringify(n)),this.bJ();return}var r=this.Q9.clone(),n=JSON.parse(this.D1),a=r.s_;if(t!="cancel"){for(var s=[],l=0;l<a.length;l++){var h=a[l],o=v.V.o_(r.b,h,!0),f=0;if(s.indexOf(o)==-1){s.push(o);for(var u=v.V.cx(r.b,o,!0),p=r.b[u].length,c=[],d=0;d<p;d++){var g=r.s_.indexOf(u+d+1)==-1?0:t;c.push(g),g!=0&&f++}v.V.FN(r.b,u,c);for(var d=0;d<a.length;d++)a[d]>u+p&&(a[d]+=f)}}this.V_(r,n),r.s_=[]}this.YC(this.cz,this.ic.XN,r,n),t=="cancel"&&this.bJ()},C.HA.prototype.disable=function(t,i,e,r){this.Fa(t)},C.HA.prototype.R$=function(t,i,e,r,n){this.Fa(t);var a=t.a.PY(n.x,n.y),s,l,h;this.xi=a.clone();var o=t.Cj(),f=o[0],u=o[1];if(u.length!=0){for(var p=4*y.J()/t.a.F,c=new et(a.x-p,a.y-p,p*2,p*2),d=0;d<u.length&&(s=this.ic=f[u[d]],l=s.add.vmsk,h=v.V.Wh(l.b,c),h[0].length+h[1].length+h[2].length==0);d++);for(var g=[!1,!1,!1],b=0;b<3;b++)for(var m=0;m<h[b].length;m++)if(l.s_.indexOf(h[b][m])!=-1){h[b]=[h[b][m]],g[b]=!0;break}if(h[0].length!=0&&(g[0]||!g[1]&&!g[2])){var x=h[0][0],M=l.s_.indexOf(x);if(r.s(W.cm))if(M==-1)l.s_.push(x);else{l.s_.splice(M,1),t.Vg=!0;return}else M==-1&&(l.s_=[x]);this.ZZ=x,this.d0=0}else if(h[1].length!=0&&(g[1]||!g[2]))this.ZZ=h[1][0],this.d0=1;else if(h[2].length!=0)this.ZZ=h[2][0],this.d0=2;else{var S=v.V.cp(l.b,a,!0,p);S.XN==-1?this.Qv=a:(l.p=[S.XN],l.s_=[])}this.Q9==null&&(this.Q9=s.add.vmsk.clone(),this.D1=JSON.stringify(s.add.vogk)),this.P_=new ml(a),t.Vg=!0}},C.HA.prototype.$E=function(t,i,e,r,n){if(t!=null){var a=t.a.PY(n.x,n.y),s=this.ic;if(this.ZZ!=-1){var l=this.Q9.clone(),h=s.add.vogk,o=l.b[this.ZZ];if(o=[o._,o.wU,o.dv][this.d0],r.s(W.cm)?(a=this.P_.ki(a,r),a.x+=o.x-this.xi.x,a.y+=o.y-this.xi.y):(this.a28.psnap&&(a.x=Math.round(a.x),a.y=Math.round(a.y)),a=C.qT.aE(t,a,e)),this.d0==0){var f=new Et(1,0,0,1,a.x-o.x,a.y-o.y);v.V.G5(l.b,f,null,l.s_)}else{var u=l.b[this.ZZ],p=u.wU,c=u.dv;if(this.d0==2&&(p=u.dv,c=u.wU),p.Oh(a.x,a.y),u.type==1||u.type==4){var d=st.Yj(p,u._),g=st.Yj(c,u._);g!=0&&(c.x=u._.x-(p.x-u._.x)*(g/d),c.y=u._.y-(p.y-u._.y)*(g/d))}}this.V_(l,h),this.YC(t,s.XN,l,h)}else if(this.Qv!=null){var b=this.Qv;t.v.hK=v.D.z0(new et(b.x,b.y,a.x-b.x,a.y-b.y)),t.Vg=!0}else{var m=t.Cj(),x=m[0],M=m[1],s,l,S;if(M.length==0)return;for(var w=4*y.J()/t.a.F,k=new et(a.x-w,a.y-w,w*2,w*2),T=0;T<M.length&&(s=x[M[T]],l=s.add.vmsk,S=v.V.Wh(l.b,k),S[0].length+S[1].length+S[2].length==0);T++);this.Fa(t);for(var L=0;L<3;L++)for(var O=0;O<S[L].length;O++){var E=S[L][O],D=l.b[E];D=L==0?D._:L==1?D.wU:D.dv,t.v.Cs.push(t.v.z6.length>>>1),t.v.z6.push(D.x,D.y),t.Vg=!0}}}},C.HA.prototype.Fa=function(t){t&&t.v.z6.length!=0&&(t.v.z6=[],t.v.Cs=[],t.Vg=!0)},C.HA.prototype.NL=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y),s=this.ic,l=s?s.add.vmsk:null,h=s?s.add.vogk:null;if(this.ZZ!=-1){if(Date.now()-this.Gn<300){var o=l.b[this.ZZ],f=this.d0,u=null;if(f==0){var p=o.wU.Qn(o._),c=o.dv.Qn(o._);!p&&!c?(u="Anchor Type",o.type==1||o.type==4?o.type++:(o.type--,o.dv=o._.add(o._.gI(o.wU)))):(u="Add Handles",p&&c?(o.wU.x-=30,o.dv.x+=30):p?o.wU=o._.add(o._.gI(o.dv)):c&&(o.dv=o._.add(o._.gI(o.wU))))}else u="Remove Handle",f==1?o.wU.fa(o._):o.dv.fa(o._);this.V_(l,h),this.YC(t,s.XN,l,h),this.ww(t,u,s.XN,this.Q9,l,null,this.D1,JSON.stringify(h))}else this.xi.Qn(a)||this.ww(t,"Drag Anchors",s.XN,this.Q9,l,null,this.D1,JSON.stringify(h));this.Gn=Date.now()}else if(this.Qv!=null){var d=this.Qv,g=new et(d.x,d.y,a.x-d.x,a.y-d.y);g.Z<0&&(g.x+=g.Z),g.h<0&&(g.y+=g.h),g.Z=Math.abs(g.Z),g.h=Math.abs(g.h);var b=v.V.Wh(l.b,g);l.s_=b[0],t.v.hK=null}this.bJ(),t.Vg=!0},C.HA.prototype.bJ=function(){this.ic=null,this.Q9=null,this.Qv=null,this.ZZ=this.d0=-1,this.P_=null},C.HA.prototype.V_=function(t,i){for(var e=0;e<t.s_.length;e++){var r=v.V.o_(t.b,t.s_[e]);v.P$.tq(i,r)}},C.HA.prototype.gU=function(t,i,e,r){if(t!=null){var n=t.Cj(),a=n[0],s=n[1];if(s.length!=0){var l=a[s[0]],h=l.add.vmsk;if(!(h==null||h.s_.length==0)){var o=l.add.vogk,f=JSON.stringify(o),u=r.Ef();if(u.x!=0||u.y!=0){var p=h.clone(),c=h.clone(),d=new Et(1,0,0,1,u.x,u.y);v.V.G5(c.b,d,null,c.s_),this.V_(c,o),this.YC(t,l.XN,c,o),this.ww(t,"Move Anchors",t.p[0],p,c.clone(),!0,f,JSON.stringify(o))}if(r.s(W.Yk)||r.s(W.Yp)){var p=h.clone(),c=h.clone();c.b=v.V.a2x(c.b,c.s_,o),c.s_=[],this.YC(t,l.XN,c,o),this.ww(t,"Delete Anchors",l.XN,p,c.clone(),!0,f,JSON.stringify(o))}}}}},C.HA.prototype.ww=function(t,i,e,r,n,a,s,l){var h=t.a1();if(a&&h!=null&&h.Q==this&&h.data.aaE&&h.data.XY==e&&JSON.stringify(h.data.jL.s_)==JSON.stringify(r.s_))h.data.Bj=n,h.data.TC=l;else{var h=new ni(i,this);h.data={XY:e,jL:r,Bj:n,aaE:a,abt:s,TC:l},t.TX(h)}},C.Rect=function(){C.sp.call(this,[10,32],C.wg,"tools/rect",!0)},C.Rect.prototype=new C.sp,C.Rect.prototype.Rr=function(t,i,e){var r=this.fT.crad,n=i.x-t.x,a=i.y-t.y;return[v.V.Ny.Rect(t.x,t.y,n,a,r),v.P$.Sn("Rctn",[t.x,t.y,i.x,i.y],[r,r,r,r])]},C.VO=function(){C.sp.call(this,[10,33],C.nA,"tools/ellipse",!0)},C.VO.prototype=new C.sp,C.VO.prototype.Rr=function(t,i,e){var r=i.x-t.x,n=i.y-t.y;return[v.V.Ny.VO(t.x,t.y,r,n),v.P$.Sn("Elps",[t.x,t.y,i.x,i.y])]},C.x_=function(){C.sp.call(this,[10,34],C.S3,"tools/pshape",!1)},C.x_.prototype=new C.sp,C.x_.prototype.Rr=function(t,i,e){var r=this.fT.pshape,n=this.fT.crad,a=this.fT.irad/100,s=this.fT.sides,l=this.fT.width,h=this.fT.tsiz,o=this.fT.length,f;i=i.clone(),e&&(Math.abs(i.x-t.x)<Math.abs(i.y-t.y)?i.x=t.x:i.y=t.y);var u=t.x,p=t.y,c=i.x,d=i.y,g=Math.sqrt((c-u)*(c-u)+(d-p)*(d-p)),b=Math.atan2(-d+p,c-u);return r==0&&(f=v.V.Ny.qF(u,p,g,b,s,n)),r==1&&(f=v.V.Ny.alV(u,p,g,b,s,n,a)),r==2&&(f=v.V.Ny.ago(t.x,t.y,i.x,i.y,l,h/100)),r==3&&(f=v.V.Ny.a79(u,p,g,b,o)),[f,v.P$.Sn("customShape",[t.x,t.y,i.x,i.y],null,null,null,"--")]},C.Qe=function(){C.sp.call(this,[10,35],C.rG,"tools/line",!1)},C.Qe.prototype=new C.sp,C.Qe.prototype.Rr=function(t,i,e){var r=this.fT.width;return i=i.clone(),e&&(i=C.T7.M$(t,i)),[v.V.Ny.Qe(t.x,t.y,i.x,i.y,r),v.P$.Sn("Ln",null,null,[t.x,t.y,i.x,i.y],r)]},C.a3=function(){C.sp.call(this,[10,31],C.SM,"tools/cshape",!0)},C.a3.prototype=new C.sp,C.a3.prototype.Rr=function(t,i,e){var r=this.fT.shape,n=r.gx.Z/r.gx.h,a=H.iO.Cm(r.b);i=i.clone(),e&&(i.y=t.y+(i.x-t.x)/n);var s=i.x-t.x,l=i.y-t.y;return v.V.G5(a,new Et(s,0,0,l,t.x,t.y)),[a,v.P$.Sn("customShape",[t.x,t.y,i.x,i.y],null,null,null,r.s3)]},C.X=function(t,i,e){C.An.call(this,t,i,e),this.oU=0,this.r=null,this.zB=null,this.s0=null,this._o=1,this.WE=!1,this.cursor=null,this.vg=null,this.la=null,this.o3=!1,this.s6=null,this.ahJ=0,this.el=null,this.y9=0,this.f_=null,this.JE=null,this.gr=null,this.d4=null,this.al9=null},C.X.prototype=new C.An,C.X.JZ=function(t,i){var e={classID:"null",null:Di.Pe("Dcmn",!0)};return t?e.Angl={t:"UntF",v:{type:"#Ang",val:i}}:e.Axis={t:"enum",v:{Ornt:i}},{Bm:t?"rotateEventEnum":"flip",w1:e}},C.X.prototype.FT=function(t,i,e,r,n){var a=new z(y.E.L,!0);a.data={e:y.B.Zo,Q:this.id,jE:n,mY:t,s0:e},i.w(a),this.sY=!1},C.X.prototype.Vc=function(t){return this.JE&&this.JE.mN()},C.X.prototype.XZ=function(t,i,e,r,n){if(this.s0=n,!(t.e=="again"&&this.el==null)){if(t.e=="doMouseDown"){if(this.JE==null)return;this.R$(e,i,n,r,t.yZ);return}if(!!this.QA(e,n)){if(this.JE){this.uT(t,this.JE.B3()),this.TT(e,n,0,!0),this.se(e);return}this.uu(e,t.n==null,t.n),this.c3(e),this.uT(t),this.BU(e,i,t.tP,!1)}}},C.X.prototype.uT=function(t,i){var e=this.f_;if(i==null){var r=t.cX!=null?t.cX:4;i=this.JE.ac1()[r]}var n=i.x,a=i.y;t.e=="rot"&&t.C!=Math.PI&&(e.Z+e.h&1)==1&&(n=Math.floor(n),a=Math.floor(a));var s=new Et;s.translate(-n,-a),t.e=="rot"&&s.rotate(t.C),t.e=="scl"&&s.scale(t.C.x,t.C.y),t.e=="mat"&&s.concat(t.C),s.translate(n,a),t.e=="again"&&(s=this.el);var l=this.JE._4();v.D.O(l,s,l),this.JE.ZD(l)},C.X.prototype.go=function(){return!0},C.X.prototype.QA=function(t,i){if(t==null)return!1;if(this.id==C.SH)return t.K!=null;for(var e=t.JU(!0,null,null,!0),r=0;r<e.length;r++){var n=t.r[e[r]];if(n.k6(2)||n.k6(31))return alert(Lt.get([6,57,0])),!1;if(n.add.artb)return alert("You can not transform the whole artboard"),!1;if(n.add.TySh&&!Ee.SR(n.add.TySh,i.SN))return!1;if(n.add.SoLd){if(e.length==1&&!v.mD.O8(n.add.SoLd.warp.v)&&(n.jk()&&n.jk().AU||n.add.vmsk&&n.add.vmsk.AU))return alert("Unlink masks before transforming Smart Object"),!1;if(!t.a8e(n.add.SoLd.Idnt.v))return alert("Unsupported format of the smart object ("+t.AB(n.add.SoLd.Idnt.v).Z5+")"),!1}}return t.K==null?!0:t.FD()?t.mx():!1},C.X.prototype.R$=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y);if(this.y9==1){var s=v.P.nJ(v.P.bg(this.JE._4(),this.f_));a=v.P.GL(s,a)}var l=this.y9==0?this.JE:this.gr;this.WE=l.R$(t,e,r,a),this.WE&&l.kl(a)&&(Date.now()-this.ahJ<250&&this.BU(t,i,null,!0),this.ahJ=Date.now())},C.X.prototype.b9=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.Ik,rr:this.cursor},t.w(i)},C.X.prototype.$E=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y);if(this.y9==1){var s=v.P.nJ(v.P.bg(this.JE._4(),this.f_));a=v.P.GL(s,a)}var l=this.y9==0?this.JE:this.gr;if(!n.Ku){var h="default";if(l){var o=l.Eb(a,t.a.F);o&&(h=o)}h!=this.cursor&&(this.cursor=h,this.b9(i))}!this.WE||(l.$E(t,e,r,a),this.TT(t,e,0,!0),this.se(t),this.oj(i))},C.X.prototype.NL=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y);this.JE.NL(t,e,r,a),this.WE=!1},C.X.prototype.gU=function(t,i,e,r){if(r.s(W.Xr))this.BU(t,i,null,!0);else if(r.s(W.yc))this.OZ(t,i);else{var n=this.JE.gU(t,e,r);n&&(this.TT(t,e,0,!0),this.oj(i))}},C.X.prototype.zT=function(t,i,e,r){if(t.He=="commit")this.BU(e,i,null,!0);else if(t.He=="cancel")this.OZ(e,i);else if(t.He=="switchWarp")this.y9=1-this.y9,this.a4P(),this.se(e),this.oj(i);else if(t.He=="wrp")this.gr.E$(t.H4),this.se(e),this.TT(e,this.s0,0,!0);else if(t.He=="ctyp")this.JE.acB(t.d8),this.se(e),this.oj(i);else if(t.He=="cen")this.JE.ab8(t.bP),this.se(e),this.TT(e,this.s0,0,!0),this.oj(i);else if(t.He=="trn"){var n=v.P.Jb(t.Zu),a=this.f_,s=v.P.bg(this.JE._4(),this.f_);n[6]=s[6],n[7]=s[7];var l=[a.x,a.y,a.x+a.Z,a.y,a.x+a.Z,a.y+a.h,a.x,a.y+a.h];v.P.apply(n,l),this._o=t._o,this.JE.ZD(l),this.se(e),this.TT(e,this.s0,0,!0)}},C.X.prototype.se=function(t){if(this.y9==0)this.JE.b4(t,this.s0);else{this.gr.b4(t);var i=v.P.bg(this.JE._4(),this.f_);v.P.apply(i,t.v.hK.d),v.P.apply(i,t.v.CL)}},C.X.prototype.BU=function(t,i,e,r){this.TT(t,this.s0,this._o);var n=new ni(e||this.name,this);if(this.oU==0)n.data={type:this.oU,r:this.r,s6:this.zB,EB:C.X.HS(t,this.r)};else if(this.oU==1){var a=t.r[this.r[0]],s;a.rD.kB<=0?(s=v.R(a.rD.RL.M()),v.E4(a.rD.zU,s,3)):s=t.K.channel;var l={rect:a.rD.RL.clone(),channel:s};n.data={type:this.oU,n:this.r[0],la:this.la,Od:l,vg:this.vg,o3:this.o3,rD:a.rD,s6:this.s6,EB:{T:a.rD.RL,Tr:a.rD.zU}}}else this.oU==2&&(n.data={type:this.oU,la:this.la,Od:{rect:t.K.rect.clone(),channel:v.clone(t.K.channel)}});t.TX(n);var h=this.f_,o=new st(h.x+h.Z/2,h.y+h.h/2),f=v.P.bg(this.JE._4(),h),u=v.P.z5(f),p=new Et;p.translate(o.x,o.y),p.concat(u),p.translate(-o.x,-o.y),u=p.clone();var c=-Math.atan2(-u.i,u.m),d=new Et;d.rotate(c),u.concat(d);function g(m,x){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][x],val:m}}}var b={classID:"null",null:Di.Pe("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:g(p.PV,0),Vrtc:g(p.ye,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:g(Math.atan(u.p$)*180/Math.PI,2),Vrtc:g(0,2)}},Wdth:g(u.m*100,1),Hght:g(u.xA*100,1),Angl:g(c*180/Math.PI,2)};this.JW=i,this.track({Bm:"transform",w1:b}),this.escape(t,i,r)},C.X.prototype.OZ=function(t,i){if(this.oU==0)C.X.Pi(t,this.r,this.zB);else if(this.oU==1){var e=t.r[this.r[0]];t.K=this.la,this.o3?e.Z9(t,this.vg):(e.rD.RL=this.s6.T,e.rD.zU=this.s6.Tr,e.CH(t,0,0,t.K)),t.A(),t.Es=!0}else this.oU==2&&(t.K=this.la,t.Es=!0);this.escape(t,i,!0)},C.X.prototype.escape=function(t,i,e){this.JE.clear(t),this.JE=null,this.gr=null,this.y9=0,e&&this.fF(i,y.E.L,{e:y.B._g})},C.X.prototype.oF=function(t,i){if(t.type==0)C.X.Pi(i,t.r,t.EB);else{if(t.type==1){var e=i.r[t.n];t.o3?e.rD=t.rD:(e.rD.RL=t.EB.T,e.rD.zU=t.EB.Tr),e.CH(i,0,0,i.K),i.A()}i.K={rect:t.Od.rect.clone(),channel:v.clone(t.Od.channel)},i.Es=!0}},C.X.prototype.tO=function(t,i){if(t.type==0)C.X.Pi(i,t.r,t.s6);else{if(t.type==1){var e=i.r[t.n];t.o3?e.Z9(i,t.vg):(e.rD.RL=t.s6.T,e.rD.zU=t.s6.Tr,e.CH(i,0,0,i.K)),i.A()}i.K=t.la,i.Es=!0}},C.X.prototype.uu=function(t,i,e){t.Cj();var r=[];if(e==null)for(var n=0;n<t.QP.length;n++)t.VW[t.QP[n]].add.vmsk.b.length>2&&r.push(-1-t.QP[n]);var a=[],s=t.a.qa;s[0]+s[1]+s[2]==3&&(e!=null||r.length==0||t.mb!=null&&t.mb.length!=0)&&(a=t.JU(i,e,null,!0)),a=a.concat(r);for(var n=0;n<t.oD.length;n++)a.push(-1e3-t.oD[n]);this.r=a},C.X.prototype.enable=function(t,i,e,r,n,a,s){this.cursor==null&&(this.cursor="default"),this.b9(i),!this.JE&&(this.s0=e,this.uu(t,!0),this.c3(t,a&&a.wi!=null&&a.wi!=-1?a.wi:null,s),this.oj(i),this.se(t),a&&a.wi==-1&&this.zT({He:"switchWarp"},i,t,r))},C.X.prototype.oj=function(t){var i={e:y.B.Zo,Q:this.id};if(this.y9==0){var e=v.P.bg(this.JE._4(),this.f_),r=v.P.z5(e);i.Zu={Aw:r,d8:this.JE.abo(),bP:this.JE.B3(),T:this.f_.clone()}}else i.H4=this.gr.qN();i.a5E=this.gr!=null,this.fF(t,y.E.L,i)},C.X.prototype.c3=function(t,i,e){var r=this.id==C.SH,n=!0,a=this.r[0],s=t.r[a],l=null;if(r)this.oU=2,this.la=t.K;else if(t.K&&this.r.length==1&&a>=0&&!s.rect.qr())this.oU=1,this.la=t.K,this.vg=s.rD,this.o3=!1,s.Je(t,t.K)||(this.o3=!0,s.WC(t,t.K,!1)),this.s6={Tr:s.rD.zU,T:s.rD.RL};else{this.oU=0,this.zB=C.X.HS(t,this.r,null,e);for(var h=0;h<this.zB.length;h++)this.zB[h][3]!=null&&(n=!1)}var o=this.oU==1;if(this.zB&&this.zB.length==1){var f=this.zB[0];f[3]==null&&(o=!0),f[4]!=null&&(l=t.r[this.r[0]].add.SoLd,(f[1]||f[2])&&(o=!1))}var u=r?t.K.rect.clone():C.X.o7(t,this.r,e);if(this.f_=u,!r&&l){var p=C.X.AC(l.nonAffineTransform);this.f_=v.D.nP(v.mD.ij(l.warp.v)),o&&(this.gr=new gn(l.warp.v)),this.d4=v.P.bg(p,this.f_),this.JE=new le(p,!0,!0,n,!1,!1,i)}else(o||r)&&(this.gr=new gn(v.mD.R(this.f_))),this.d4=[1,0,0,0,1,0,0,0],this.JE=new le([u.x,u.y,u.x+u.Z,u.y,u.x+u.Z,u.y+u.h,u.x,u.y+u.h],!0,!0,n,!1,!1,i);this.al9=[1,0,0,0,1,0,0,0]},C.X.o7=function(t,i,e){i==null&&(i=t.JU(!0,null,null,!0));var r=new et;if(t.K&&i.length==1&&i[0]>=0)r=t.K.rect.clone();else for(var n=0;n<i.length;n++){var a=i[n],s=0<=a?t.r[a]:-1e3<a?t.VW[-1-a]:t.Yq[-1e3-a],l=s.add?s.add.vmsk:null,h=0<=a?s.G_(t,i.length==1,!1,e):-1e3<a?v.V.ue(l.b,i.length==1&&l.p.length!=0?l.p:null):s.rect.clone();r=r.s7(h)}return r},C.X.prototype.fF=function(t,i,e,r){var n=new z(i,!0);n.data=e,r&&(n.Q=r),t.w(n)},C.X.HS=function(t,i,e,r){for(var n=[],a=0;a<i.length;a++){var s=i[a],l,h;if(s>=0)l=t.r[s],h=l.Ys(t,e,r);else if(s>-1e3)l=t.VW[-1-s],h=[2];else{n.push([null,null,null,null,null,null,null,t.Yq[-1e3-s].clone()]);continue}var o=[];if(h.indexOf(0)!=-1){var f={ia:[v.clone(l.buffer),l.rect.clone()]};if(o.push(f),l.gO()){var u=l.yg(t);f.a8i=v.clone(u.buffer),f.aae=u.rect.clone()}}else o.push(null);h.indexOf(1)!=-1?o.push(l.jk().clone()):o.push(null),h.indexOf(2)!=-1?o.push({PS:l.add.vmsk.clone(),bW:l.add.vstk?JSON.parse(JSON.stringify(l.add.vstk)):null,qA:l.add.vstk?C.Y2.Un(t,s):null,P$:l.add.vogk?JSON.parse(JSON.stringify(l.add.vogk)):null}):o.push(null),l.add.TySh&&o[0]?(lt.jj(l.add.TySh),o.push(l.add.TySh.O.clone())):o.push(null),l.add.SoLd&&o[0]?o.push(JSON.parse(JSON.stringify(l.add.SoLd))):o.push(null),h.indexOf(3)!=-1?o.push(l.yg(t).g.clone()):o.push(null),l.add.lmfx?o.push(JSON.stringify(l.add.lmfx)):o.push(null),n.push(o)}return n},C.X.Pi=function(t,i,e){for(var r=0;r<i.length;r++){var n=i[r],a=0<=n?t.r[n]:-1e3<n?t.VW[-1-n]:t.Yq[-1e3-n],s=e[r];if(s[0]&&(a.rect=s[0].ia[1].clone(),a.buffer=v.clone(s[0].ia[0]),a.gO())){var l=a.yg(t);l.buffer=v.clone(s[0].a8i),l.rect=s[0].aae.clone()}if(s[1]&&(a.jk().channel=v.clone(s[1].channel),a.jk().rect=s[1].rect.clone(),a.jk().G2=!0),s[2]&&(a.add.vmsk=s[2].PS.clone(),s[2].qA&&C.Y2.ov(a,s[2].qA),s[2].bW&&(a.add.vstk=JSON.parse(JSON.stringify(s[2].bW))),s[2].P$&&(a.add.vogk=JSON.parse(JSON.stringify(s[2].P$)))),s[3]&&(a.add.TySh.O=s[3].clone(),lt.SK(a.add.TySh)),s[4]&&(a.add.SoLd=JSON.parse(JSON.stringify(s[4]))),s[5]){var h=a.yg(t).g;h.channel=v.clone(s[5].channel),h.rect=s[5].rect.clone()}s[6]&&(a.add.lmfx=JSON.parse(s[6])),s[7]&&(a.channel=v.clone(s[7].channel),a.rect=s[7].rect.clone(),a.G2=!0),0<=n&&(a._V(t),a.A())}t.A()},C.X.d3=function(t){var i=t.clone(),e=Math.atan2(-i.i,i.m),r=new Et;return r.rotate(-e),i.concat(r),(Math.abs(i.m)+Math.abs(i.xA))/2},C.X.Br=function(t,i,e,r,n,a,s,l,h,o){if(typeof a[0]=="number"){for(var f=[],u=0;u<e.length;u++)f[u]=a;a=f}for(var u=0;u<e.length;u++){var p=a[u],c=v.P.z5(p),d=C.X.d3(c),g=e[u],b=0<=g?t.r[g]:-1e3<g?t.VW[-1-g]:t.Yq[-1e3-g],m=r[u];if(m[0]&&b.add.lmfx&&l&&St.QE(b.add.lmfx,d),m[0]&&!m[3]&&!m[4]&&!m[5]){var x=m[0].ia;if(h){var M=h.clone(),S=v.R(M.M()*4);v.BP(x[0],x[1],S,M),x=[S,M]}var w=C.X.rx(x,n,p,s,n==0?b.buffer.buffer:null,null,null,o);w&&(b.rect=w.rect,b.buffer=w.buffer)}if(m[1]&&C.X.W8(t,m[1],b.jk(),n,p,s),m[2]){var k=s&&!v.mD.O8(s),T=m[2].PS.clone(),L=e.length==1&&T.p.length!=0,O=e.length==1&&T.s_.length>1;O&&(L=!1);var E=L?T.p:null,D=O?T.s_:null;if(k){var B=v.mD.ij(s);v.P.apply(p,B),v.V.af3(T.b,B,E,D)}else v.V.ajB(T.b,p,E,D);if(b.add.vstk&&l){b.add.vstk.strokeStyleLineWidth.v.val=m[2].bW.strokeStyleLineWidth.v.val*d;var I=m[2].qA;if(I.d1==3){I=JSON.parse(JSON.stringify(I));var N=I.qA.phase.v;I.qA.Scl.v.val=Math.round(I.qA.Scl.v.val*d),N.Hrzn.v=Math.round(N.Hrzn.v*d),N.Vrtc.v=Math.round(N.Vrtc.v*d),C.Y2.ov(b,I)}}b.add.vogk&&(b.add.vogk=JSON.parse(JSON.stringify(m[2].P$)),k||O?v.P$.acG(b.add.vogk):v.P$.O(b.add.vogk,p,e.length>1?[]:T.p,l)),T.bM*=d,b.add.vmsk=T,b.add.vogk&&v.P$.xc(b.add.vogk,b.add.vmsk)}if(m[3]){var V=m[3].clone();V.concat(c),b.add.TySh.O=V,lt.SK(b.add.TySh);var j=new Si(b.add.TySh.MF,i.SN),R=Ee.ti(j,b.add.TySh);b.rect=R.T,b.buffer=R.Ww}if(m[4]){var G=b.add.SoLd,Z=C.X.AC(m[4].nonAffineTransform);v.P.apply(p,Z);var _=v.D.YI(Z);if(le.le(Z)){if(s){var U=v.D.nP(v.mD.ij(m[4].warp.v)),Y=v.P.bg(Z,U),$=v.D.nP(v.mD.ij(s));Z=[$.x,$.y,$.x+$.Z,$.y,$.x+$.Z,$.y+$.h,$.x,$.y+$.h],v.P.apply(Y,Z),G.warp.v=s}var P=v.P.bg(Z),tt=Z;v.P.LS(P)||(P[6]=P[7]=0,tt=[0,0,1,0,1,1,0,1],v.P.apply(P,tt)),G.Trnf=C.X.uE(tt),G.nonAffineTransform=C.X.uE(Z),b.Gy(t,n==0)}}m[5]&&C.X.W8(t,m[5],b.yg(t).g,n,p,s),m[7]&&C.X.W8(t,m[7],b,n,p,s),0<=g&&(n!=0&&b.HZ(),b._V(t),b.A())}t.A()},C.X.Z6=function(t,i,e,r,n,a){return e==null&&(e=!1),C.X.rx(t,e?0:1,v.P.Jb(i),null,r,n,a,e)},C.X.rx=function(t,i,e,r,n,a,s,l){if(l==null&&(l=!1),l&&s)throw"e";var h={},o=0,f=.3;if(r&&!v.mD.O8(r)){var u=v.mD.ij(r);return v.P.apply(e,u),h.rect=v.D.YI(u),h.buffer=v.R(h.rect.M()*4),v.ea.drawImage(u,t[0],t[1].Z,t[1].h,h.buffer,h.rect,i==0),h}v.hE(t);var p=t[0],c=t[1],d=c.M()*C.X.d3(v.P.z5(e));for(l&&d>4e6&&(f=d>8e6?2.2:1.2);o+3<t.length&&t[o+3].M()>16&&v.P.LS(e)&&C.X.d3(v.P.z5(e))<f;){o+=2;var g=t[o],b=t[o+1],m=c.Z/b.Z,x=c.h/b.h;e=v.P.$T(e,[1,0,c.x,0,1,c.y,0,0]),e=v.P.$T(e,[m,0,0,0,x,0,0,0]),e=v.P.$T(e,[1,0,-c.x,0,1,-c.y,0,0]),c=b,p=g}var M=v.P.$T(e,v.P.Jb(new Et(c.Z,0,0,c.h,c.x,c.y))),S=[0,0,1,0,1,1,0,1];if(v.P.apply(M,S),h.rect=v.D.YI(S),s&&(h.rect=h.rect.$X(s)),l){for(;(h.rect.Z&3)!=0;)h.rect.Z++;for(;(h.rect.h&3)!=0;)h.rect.h++}if(!le.le(S)||h.rect.Z>1e5||h.rect.h>1e5||h.rect.M()>3e4*3e4)return null;var w=h.rect.M()*4;if(n&&n.byteLength>=w&&w>=n.byteLength>>2?h.buffer=new Uint8Array(n):h.buffer=v.R(w),v.P.drawImage(M,p,c.Z,c.h,h.buffer,h.rect,i==0,a,l),i==2&&h.buffer){var k=h.rect.Z,T=h.rect.h,L;L=[0,-1,0,-1,16,-1,0,-1,0],L=v.Ai.h5(L);var O=h.buffer.slice(0);v.l7(O),v.Ai.or(O,h.buffer,k,T,L,0),v.hc(h.buffer),v.gl(h.buffer)}if(h.buffer)return h},C.X.W8=function(t,i,e,r,n,a){i.color==255&&v.nJ(i.channel);var s=i.rect,l=v.R(s.M()*4);v.Oy(i.channel,l,3);var h=C.X.rx([l,s],r,n,a);h&&(e.rect=h.rect,e.channel=v.R(h.rect.M()),v.E4(h.buffer,e.channel,3),e.G2=!0),i.color==255&&(v.nJ(i.channel),h&&v.nJ(e.channel))},C.X.AC=function(t){for(var i=[],e=t.v.length,r=0;r<e;r++)i.push(t.v[r].v);return i},C.X.uE=function(t){for(var i={t:"VlLs",v:[]},e=t.length,r=0;r<e;r++)i.v.push({t:"doub",v:t[r]});return i},C.X.prototype.a4P=function(){var t=v.D.nP(v.mD.ij(this.gr.qN())),i=v.P.bg(this.JE._4(),this.f_),e=[t.x,t.y,t.x+t.Z,t.y,t.x+t.Z,t.y+t.h,t.x,t.y+t.h];v.P.apply(i,e),this.JE.ZD(e),this.f_=t},C.X.prototype.TT=function(t,i,e,r){var n=v.P.bg(this.JE._4(),this.f_);n=v.P.$T(n,v.P.nJ(this.d4));var a=this.gr?this.gr.qN():null;if(this.oU==0)this.el=v.P.z5(n),C.X.Br(t,i,this.r,this.zB,e,n,a,null,null,r);else if(this.oU==1){var s=t.r[this.r[0]],l=this.s6.T;if(s.kB<=0){var h=this.s6.Tr,o=this.la;if(a&&!v.mD.O8(a)&&!o.rect.Qn(l)){var f=v.R(o.rect.M()*4);v.BP(h,l,f,o.rect),h=f,l=o.rect}var u=C.X.rx([h,l],e,n,a);if(u){s.rD.zU=u.buffer,s.rD.RL=u.rect;var p=v.R(u.rect.M());v.E4(s.rD.zU,p,3),t.K={channel:p,rect:s.rD.RL.clone()}}}else{var c=v.R(l.M()*4);v.Oy(this.s6.Tr,c,3);var u=C.X.rx([c,l],e,n,a);u&&(s.rD.zU=v.R(u.rect.M()),v.E4(u.buffer,s.rD.zU,3),s.rD.RL=u.rect),this.ci(t,e,n,a)}s.CH(t,0,0,t.K),e!=0&&(s.HZ(),v.HZ(t.K)),t.Es=!0,t.A()}else this.oU==2&&this.ci(t,e,n,a)},C.X.prototype.ci=function(t,i,e,r){var n=this.la.rect,a=v.R(n.M()*4);v.Oy(this.la.channel,a,3);var s=C.X.rx([a,n],i,e,r),l=v.R(s.rect.M());v.E4(s.buffer,l,3),t.K={channel:l,rect:s.rect},t.Es=!0},C.X.prototype.disable=function(t,i,e,r){this.JE&&this.BU(t,i,null,!0)},C.RW=function(){C.X.call(this,[10,16],C.DV,"tools/transform")},C.RW.prototype=new C.X,C.r7=function(){C.X.call(this,[7,10],C.SH,"tools/transform")},C.r7.prototype=new C.X,C.LW=function(t,i,e){C.An.call(this,[10,46],C.UK,"tools/transform"),this.Of=[1,1,2,!0],this.k9="rigidTransform",this.nI=null,this.alY=null,this.hH=null,this.rX=null,this.HG=null,this.Xi=null,this.R4=[]},C.LW.prototype=new C.An,C.LW.prototype.go=function(){return!0},C.LW.wM=function(t){if(t==null||t.p.length!=1)return!1;var i=t.r[t.p[0]];return i.add.SoLd||t.FD(!1)},C.LW.prototype.QA=function(t,i){return C.LW.wM(t)},C.LW.prototype.enable=function(t,i,e,r,n,a,s){this.alY=a.mE;var l=a.mE,h,o=null;if(l){var p=t.r[l.n];if(p.add.SoLd.filterFX!=null){var f=p.add.SoLd.filterFX.v.filterFXList.v;f[l.index]&&(h=JSON.parse(JSON.stringify(f[l.index].v.Fltr.v)))}}var u=h==null,p=t.r[t.p[0]],c=p.buffer,d=p.rect,g=p.add.SoLd;if(g){var b=g.nonAffineTransform.v;o=[];for(var m=0;m<4;m++)o.push(b[m*2].v,b[m*2+1].v);u&&this.jS("edit",i);var x=p.yg(t);c=x.buffer,d=x.rect}this.nI={buffer:c.slice(0),rect:d.clone(),alX:o},u&&(h=C.LW.Tf(this.nI,this.Of)),this.hH=h,this.rX=C.LW.iV(this.hH,this.Of),this.GQ(),this.IG(t),u&&this.qK(i);var M=new z(y.E.L,!0);M.data={e:y.B.Zo,Q:this.id,S9:this.Of},i.w(M),M.data={e:y.B.Ik,rr:"default"},i.w(M)},C.LW.prototype.disable=function(t,i,e,r){this.rX&&this.BU(t,i,!0)},C.LW.prototype.GQ=function(t){var i=this.rX;this.R4=[];for(var e=0;e<i.length;e++){for(var r=i[e],n=0;n<r.p.length;n++)this.R4.push([e,r.p[e]]);r.n$=v.s8.DN(r),t&&v.s8.xI(r)}},C.LW.prototype.zT=function(t,i,e,r){if(t.He=="commit")this.BU(e,i,!0);else if(t.He=="cancel")this.OZ(e,i,!0);else if(t.He=="prm"){for(var n=!1,a=0;a<3;a++)this.Of[a]!=t.S9[a]&&(n=!0);this.Of=t.S9,n&&(this.hH=C.LW.Tf(this.nI,this.Of,this.hH),this.rX=C.LW.iV(this.hH,this.Of),this.GQ(!0),this.qK(i)),this.IG(e)}else if(t.He=="moveDepth"){for(var s=this.rX,l=0;l<s.length;l++)for(var h=s[l],a=0;a<h.p.length;a++){var o=h.p[a];h.CJ[o]+=t.alu?1:-1}this.qK(i)}},C.LW.prototype.aU=function(t,i){return t==W.Yk||t==W.Yp},C.LW.prototype.gU=function(t,i,e,r){var n=r.Ef();if(r.s(W.Xr))this.BU(t,i,!0);else if(r.s(W.yc))this.OZ(t,i,!0);else if(r.s(W.Yk)||r.s(W.Yp)){for(var a=this.rX,s=0;s<a.length;s++){var l=a[s];l.p.sort(function(u,p){return p-u});for(var h=0;h<l.p.length;h++){var o=l.p[h],f=o*2;l.CJ.splice(o,1),l.UI.splice(o,1),l.X$.splice(o,1),l.Q6.splice(o,1),l.us.splice(f,2),l.VE.splice(f,2)}l.p=[],l.Q6.length==0&&(l.qH=l.Zc.slice(0),l.fU=l.Zc.slice(0))}this.GQ(!0),this.qK(i),this.IG(t)}else(n.x!=0||n.y!=0)&&(this.xt(t,n.x,n.y,i),this.j2=null)},C.LW.prototype.BU=function(t,i,e){this.jS("confirm",i),this.escape(t,i,e)},C.LW.prototype.OZ=function(t,i,e){this.jS("cancel",i),this.escape(t,i,e)},C.LW.prototype.escape=function(t,i,e){t.v.hK=null,t.v.z6=[],t.Vg=!0,this.rX=null;var r=new z(y.E.L,!0);r.data={e:y.B._g},e&&i.w(r)},C.LW.prototype.R$=function(t,i,e,r,n){for(var a=t.a.PY(n.x,n.y),s=a.x,l=a.y,h=this.rX,o=null,f=[0,2,4,1.2,1.2,1.2],u=-1,p=y.J()*5/t.a.F,c=0;c<h.length;c++){var d=h[c],g=v.D.n0(d.VE,s,l,p);g!=-1&&(o=[c,g]),u==-1&&v.s8.Is.a7N(d.fU,d.zM,s,l)&&(u=c)}if(o==null&&u!=-1){var d=h[u];C.LW.xV(d,s,l,s,l,0),o=[u,d.Q6.length-1],d.n$=v.s8.DN(d)}if(this.HG=a,o){var b=h[o[0]].p.indexOf(o[1])!=-1;r.s(W.cm)&&!b?(h[o[0]].p.push(o[1]),this.R4.push(o)):b||(h[o[0]].p=[o[1]],this.R4=[o])}this.IG(t)},C.LW.xV=function(t,i,e,r,n,a){var s=v.D.n0(t.fU,i,e);t.Q6.push(s),t.VE.push(r,n),t.us.push(t.fU[s*2]-i,t.fU[s*2+1]-e),t.X$.push(0),t.UI.push(!1),t.CJ.push(a)},C.LW.prototype.$E=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y),s=this.HG;s&&this.xt(t,a.x-s.x,a.y-s.y,i)},C.LW.prototype.xt=function(t,i,e,r){var n={},a=this.R4,s=this.rX;if(this.j2==null){this.j2=[];for(var l=0;l<s.length;l++)this.j2.push(s[l].VE.slice(0))}for(var l=0;l<a.length;l++){var h=this.R4[l],o=h[0],f=s[h[0]],u=h[1]*2;f.VE[u+0]=this.j2[o][u+0]+i,f.VE[u+1]=this.j2[o][u+1]+e,n[o]=o}for(var o in n)v.s8.xI(this.rX[n[o]]);this.IG(t),this.qK(r)},C.LW.prototype.jS=function(t,i){var e=new z(y.E.H,!0);e.Q=C._q,e.data={e:t,mE:this.alY,k9:this.k9,pl:this.hH},i.w(e)},C.LW.prototype.NL=function(t,i,e,r,n){this.HG=null,this.j2=null},C.LW.prototype.qK=function(t){C.LW.Ya(this.rX,this.Of,this.hH),this.jS("edit",t)},C.LW.prototype.IG=function(t){var i=this.rX,e=this.hH;t.v.hK={d:[],W:[]},t.v.z6=[],t.v.Cs=[];for(var r=0;r<i.length;r++){for(var n=i[r],a=0;a<n.p.length;a++)t.v.Cs.push((t.v.z6.length>>>1)+n.p[a]);t.v.z6=t.v.z6.concat(n.VE),this.Of[3]&&v.D.concat(t.v.hK,v.D.ae7(n.fU,n.zM))}t.Vg=!0},C.LW.Tf=function(t,i,e){var r=t.buffer,n=t.rect,a=t.alX,s=Zt.tt("rigidTransform");if(a)for(var l=0;l<4;l++)s["PuX"+l].v=a[l*2],s["PuY"+l].v=a[l*2+1];for(var h=s.puppetShapeList.v,o=v.s8.acF(r,n.Z,n.h,i[1],i[2]),f=[],u=0;u<o.length;u++){var p={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};p.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};var c=o[u];h.push({t:"Objc",v:p});var d=c.Zc.slice(0);v.D.O(d,new Et(1,0,0,1,n.x,n.y),d);for(var g=c.zM,l=0;l<g.length;l+=3){var b=g[l+1];g[l+1]=g[l+2],g[l+2]=b}f.push({zM:g,Zc:d,qH:d,fU:d,Q6:[],us:[],VE:[],n$:null,p:[],X$:[],UI:[],CJ:[]})}if(e)for(var m=C.LW.iV(e,[]),x=f[0],l=0;l<m.length;l++){for(var M=m[l],S=0;S<M.p.length;S++)x.p.push((x.VE.length>>>1)+M.p[S]);for(var S=0;S<M.Q6.length;S++){var w=M.Q6[S]*2,k=M.Zc[w]-M.us[S*2],T=M.Zc[w+1]-M.us[S*2+1];C.LW.xV(x,k,T,M.VE[S*2],M.VE[S*2+1],M.CJ[S])}}return C.LW.Ya(f,i,s),s},C.LW.iV=function(t,i){function e(T){for(var L=[],O=0;O<T.length;O++)L.push(T[O].v);return L}for(var r=t.puppetShapeList.v,n=[],a=0;a<r.length;a++){var s=r[a].v;i[0]=s.meshRigidity.v-1,i[1]=s.meshQuality.v-1,i[2]=s.meshExpansion.v;var l=s.pinVertexIndices.v.length,h=s.meshBoundaryPath.v.pathComponents.v[0].v.SbpL.v[0].v.Pts;h.v=[];for(var o=new Uint32Array(new Uint8Array(s.indexArray.v).buffer),f=new Float32Array(new Uint8Array(s.originalVertexArray.v).buffer),u=new Float32Array(new Uint8Array(s.deformedVertexArray.v).buffer),p=[],c=[],d=[],g=0;g<o.length;g++)p.push(o[g]);for(var g=0;g<f.length;g++)c.push(f[g]),d.push(u[g]);var b=e(s.pinVertexIndices.v),m=e(s.pinOffsets.v),x=e(s.posFinalPins.v),M=e(s.PnRt.v),S=e(s.PnOv.v),w=e(s.PnDp.v),k=e(s.selectedPin.v);n.push({zM:p,Zc:c,qH:d.slice(0),fU:d,Q6:b,us:m,VE:x,n$:null,X$:M,UI:S,CJ:w,p:k})}return n},C.LW.Ya=function(t,i,e){function r(c,d){for(var g=[],b=0;b<c.length;b++)g.push({t:d,v:c[b]});return g}function n(c,d,g){for(var b=new(g?Uint32Array:Float32Array)(c),m=new Uint8Array(b.buffer),x=0;x<m.length;x++)d[x]=m[x]}for(var a=e.puppetShapeList.v,s=0;s<a.length;s++){var l=t[s],h=a[s].v;h.meshRigidity.v=i[0]+1,h.meshQuality.v=i[1]+1,h.meshExpansion.v=i[2],n(l.zM,h.indexArray.v,!0),n(l.Zc,h.originalVertexArray.v),n(l.fU,h.deformedVertexArray.v);for(var o=[],f=0;f<l.Q6.length;f++){var u=l.Q6[f]*2,p=f*2;o[p]=l.Zc[u]-l.us[p],o[p+1]=l.Zc[u+1]-l.us[p+1]}h.PinP.v=r(o,"doub"),h.pinVertexIndices.v=r(l.Q6,"long"),h.pinOffsets.v=r(l.us,"doub"),h.posFinalPins.v=r(l.VE,"doub"),h.PnRt.v=r(l.X$,"long"),h.PnOv.v=r(l.UI,"bool"),h.PnDp.v=r(l.CJ,"doub"),h.selectedPin.v=r(l.p,"long")}},C.e9=function(t,i,e){C.An.call(this,t||[10,40],i||C.Xy,e||"tools/slice"),this.nc=null,this.JW=null,this.Pd=null,this.a18=null,this.E3=null,this.X7=null},C.e9.prototype=new C.An,C.e9.cp=function(t,i){for(var e=-1,r=0;r<t.length;r++){var n=C.e9.rF(t,r);if(n[0]<=i.x&&i.x<=n[2]&&n[1]<=i.y&&i.y<=n[3]){e=r;break}}return e},C.e9.prototype.XZ=function(t,i,e,r,n){this.vn(e),e.P0[e.xR[0]].v=t,e.Vg=!0,this.Ry(e)},C.e9.prototype.enable=function(t,i,e,r,n,a){if(C.An.prototype.enable.call(this,t,i,e,r,n,a),!e.Np.P0){var s=new z(y.E.L,!0);s.data={e:y.B.Sl,S9:ut.qk},i.w(s)}},C.e9.prototype.disable=function(){this.nc=null,this.JW=null},C.e9.prototype.FT=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y),s=C.e9.cp(t.P0,a);if(s!=-1){this.nc=t,this.JW=i,t.xR=[s],t.Vg=!0,this.X7==null&&(this.X7=new he([{name:[5,4]},{name:[8,11,1],sD:!0}]),this.X7.$("select",this._m,this));var l=this.X7;l.parent=i,l.t(),l.update(t,e);var h=new z(y.E.L,!0);h.data={e:y.B.VX,Nc:l,x:n.Bx+2,y:n.yG+1},i.w(h)}},C.e9.prototype._m=function(t){var i=this.X7.oe()[0],e=this.nc;if(i==0&&(this.vn(e),e.P0.splice(e.xR[0],1),e.xR=[],e.Vg=!0,this.Ry(e)),i==1){var r=new z(y.E.L,!0);r.data={e:y.B.uH,W2:"soptions",C:e.P0[e.xR[0]].v},this.JW.w(r)}},C.e9.prototype.R$=function(t,i,e,r,n){if(t!=null){this.vn(t);var a=t.a.PY(n.x,n.y);a=C.qT.aE(t,a,e,[!0,null,!1]),a.x=Math.round(a.x),a.y=Math.round(a.y),this.E3=a,t.P0.unshift(C.e9.Mm()),t.xR=[0],C.e9.EG(t.P0,0,[a.x,a.y,a.x+20,a.y+20]),t.Vg=!0}},C.e9.prototype.$E=function(t,i,e,r,n){if(this.Pd!=null){var a=t.a.PY(n.x,n.y),s=this.E3;a=C.qT.aE(t,a,e,[!0,null,!1]),a.x=Math.round(a.x),a.y=Math.round(a.y);var l=[s.x,s.y,a.x,a.y];C.e9.IA(l),C.e9.EG(t.P0,0,l),t.Vg=!0}},C.e9.prototype.NL=function(t,i,e,r,n){this.Ry(t),this.E3=null},C.e9.prototype.vn=function(t){this.Pd=JSON.stringify(t.P0),this.a18=JSON.stringify(t.xR)},C.e9.prototype.Ry=function(t){var i=JSON.stringify(t.P0);if(i!=this.Pd){var e=new ni(this.name,this);e.data={s6:this.Pd,EB:i,aeH:this.a18,afJ:JSON.stringify(t.xR)},t.TX(e)}this.Pd=null},C.e9.prototype.tO=function(t,i){i.P0=JSON.parse(t.s6),i.xR=JSON.parse(t.aeH),i.Vg=!0},C.e9.prototype.oF=function(t,i){i.P0=JSON.parse(t.EB),i.xR=JSON.parse(t.afJ),i.Vg=!0},C.e9.prototype.aU=function(t,i){return i!=null&&i.xR.length!=0&&(t==W.Yk||t==W.Yp)},C.e9.prototype.gU=function(t,i,e,r){if(t!=null){this.vn(t);var n=r.Ef();if((n.x!=0||n.y!=0)&&C.e9.NK(t,n),r.s(W.Yk)||r.s(W.Yp)){for(var a=t.P0.slice(0),s=0;s<t.xR.length;s++)t.P0.splice(t.P0.indexOf(a[t.xR[s]]),1);t.xR=[]}this.Ry(t)}},C.e9.prototype.zT=function(t,i,e,r,n){if(!(e==null||e.xR.length==0)){this.vn(e);var a=e.P0,s=e.xR;s.sort(function(d,g){return d-g}),console.log(s);for(var l=a.slice(0),h=[],o=[],f=0;f<s.length;f++){var u=s[f],p=a[u];o.push(p),l.splice(l.indexOf(p),1)}for(var c=Math.max(0,Math.min(l.length,s[0]-t.dir)),f=0;f<o.length;f++)l.splice(c+f,0,o[f]),h.push(c+f);e.P0=l,e.xR=h,this.Ry(e)}},C.e9.abx=function(t,i,e,r){for(var n=new st(-i.x,-i.y),a=i.Z/e.Z,s=i.h/e.h,l=[0,0,i.Z,i.h],h=0;h<t.length;h++){var o=C.e9.rF(t,h);if(r?(o[0]=Math.round(o[0]*a),o[1]=Math.round(o[1]*s),o[2]=Math.round(o[2]*a),o[3]=Math.round(o[3]*s)):(C.e9.OQ(o,n),C.e9.ajw(o,l)),o[0]>=o[2]||o[1]>=o[3]){t.splice(h,1),h--;continue}C.e9.EG(t,h,o)}},C.e9.NK=function(t,i){for(var e=t.P0,r=0;r<t.xR.length;r++){var n=C.e9.rF(e,t.xR[r]);C.e9.OQ(n,i),C.e9.EG(e,t.xR[r],n)}},C.e9.ajw=function(t,i){t[0]<i[0]&&(t[0]=i[0]),t[1]<i[1]&&(t[1]=i[1]),i[2]<t[2]&&(t[2]=i[2]),i[3]<t[3]&&(t[3]=i[3])},C.e9.OQ=function(t,i){t[0]=Math.round(t[0]+i.x),t[2]=Math.round(t[2]+i.x),t[1]=Math.round(t[1]+i.y),t[3]=Math.round(t[3]+i.y)},C.e9.EG=function(t,i,e){var r=t[i].v.bounds.v;r.Left.v=e[0],r.Top.v=e[1],r.Rght.v=e[2],r.Btom.v=e[3]},C.e9.rF=function(t,i){var e=t[i].v.bounds.v;return[e.Left.v,e.Top.v,e.Rght.v,e.Btom.v,i]},C.e9.IA=function(t){if(t[2]<t[0]){var i=t[0];t[0]=t[2],t[2]=i}if(t[2]==t[0]&&t[2]++,t[3]<t[1]){var i=t[1];t[1]=t[3],t[3]=i}t[3]==t[1]&&t[3]++},C.e9.nP=function(t,i){for(var e=1e9,r=-1e9,n=1e9,a=-1e9,s=0;s<i.length;s++){var l=C.e9.rF(t,i[s]);e=Math.min(e,l[0]),n=Math.min(n,l[1]),r=Math.max(r,l[2]),a=Math.max(a,l[3])}return[e,n,r,a]},C.e9.Mm=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}},C.Kt=function(){C.e9.call(this,[10,41],C.tB,"tools/sselect"),this.E3=null,this.S8=null,this.sm=null,this.Xi=null,this.$q=!1},C.Kt.prototype=new C.e9,C.Kt.prototype.R$=function(t,i,e,r,n){if(t!=null){var a=t.a.PY(n.x,n.y),s=C.Kt.nU(a,4/t.a.F,t.P0,t.xR);if(s.pop(),s.length!=0){this.E3=a,this.sm=s,this.vn(t);return}var l=t.P0,h=C.e9.cp(l,a);if(h==-1)t.xR=[];else{var o=t.xR.indexOf(h);if(r.s(W.cm))o==-1?t.xR.push(h):t.xR.splice(o,1);else{t.xR.sort(function(b,m){return b-m}),o==-1&&(t.xR=[h]),this.E3=a,this.vn(t),this.S8=C.e9.nP(l,t.xR),this.Xi=[];for(var f=0;f<t.xR.length;f++)this.Xi.push(C.e9.rF(l,t.xR[f]));if(r.s(W.ze)){for(var u=l.slice(0),p=t.xR,c=[],f=0;f<p.length;f++){var h=p[f],d=u[h],g=l.indexOf(d);c.push(g),l.splice(g,0,JSON.parse(JSON.stringify(d)))}t.xR=c}}}t.Vg=!0}},C.Kt.prototype.$E=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y);if(this.E3==null){var f=C.Kt.nU(a,4/t.a.F,t.P0,t.xR),s=f.pop(),l=f.length==0?"default":["ew","nwse","ns","nesw"][s]+"-resize",h=new z(y.E.L,!0);h.data={e:y.B.Ik,rr:l},i.w(h);return}if(!(!this.$q&&a.Qn(this.E3))){this.$q=!0;var o=t.P0,f=this.sm;if(f){a=C.qT.aE(t,a,e,[!0,null,!1]);for(var u=Math.round(a.x),p=Math.round(a.y),c=0;c<f.length;c+=2){var d=C.e9.rF(o,f[c]),g=f[c+1];d[g]=(g&1)==0?u:p,C.e9.IA(d),C.e9.EG(o,f[c],d)}}else{var b=a.gI(this.E3),m=this.S8.slice(0);C.e9.OQ(m,b);var x=new et(m[0],m[1],m[2]-m[0],m[3]-m[1]),M=C.qT.hx(t,x,e,[!0,null,!1],!0);C.qT.rz(t,x,M),b.x+=M[0],b.y+=M[1];for(var c=0;c<t.xR.length;c++)C.e9.EG(o,t.xR[c],this.Xi[c]);C.e9.NK(t,b)}t.Vg=!0}},C.Kt.prototype.NL=function(t,i,e,r,n){this.E3!=null&&(this.Ry(t),t.v.zK=null,t.Vg=!0,this.E3=null,this.sm=null,this.Xi=null,this.$q=!1)},C.Kt.nU=function(t,i,e,r){for(var n=t.x,a=t.y,s=[],l=-1,h=[],o=0;o<r.length;o++){var f=r[o],u=C.e9.rF(e,f),p=u[0],c=u[1],d=u[2],g=u[3];if(!(n<p-i||d+i<n||a<c-i||g+i<a)){for(var b=[n<p+i,a<c+i,d-i<n,g-i<a],m=-1,x=0;x<4;x++)b[x]&&b[x+1&3]&&(m=1+2*(x&1)),b[x]&&s.push(f,x);m==-1&&((b[0]||b[2])&&(m=0),(b[1]||b[3])&&(m=2)),m!=-1&&(l=m,h.push(f))}}for(var M=s.length,o=0;o<M;o+=2)for(var f=s[o],S=s[o+1],w=C.e9.rF(e,f)[S],x=0;x<r.length;x++){var k=r[x];if(h.indexOf(k)==-1){var u=C.e9.rF(e,k);u[S&1]==w&&s.push(k,S&1),u[2+(S&1)]==w&&s.push(k,2+(S&1))}}return s.push(l),s},C._u=function(){C.hl.call(this,[10,44],C.aeq,"tools/oselect"),this.qy="crosshair",this.aaL=0},C._u.prototype=new C.hl,C._u.prototype.Qf=function(t,i,e,r){Math.random()<1/(1+this.aaL)&&(alert("The cross should be fully inside the object.",3500),this.aaL++)},C._u.prototype.Ap=function(t,i,e,r){if(C.J4.bE(t,C.hl.Et,this.JW),!(!r.Ku||!this.e3)){var n=this.o7(t,e,!1),a=n.Z,s=n.h,l=n.x,h=n.y,o=n.x+a,f=n.y+s,u=l+a/2,p=h+s/2,c=C._u.l0;t.v.hK={d:[l,h,o,h,o,f,l,f,u-a*c,p,u+a*c,p,u,p-s*c,u,p+s*c],W:"M L L L Z M L M L".split(" ")},t.Vg=!0}},C._u.l0=.12,C._u.prototype.sj=function(t,i,e,r){t.v.hK=null,t.Vg=!0,this.finish(t,i,e,r)},C._u.prototype.getSelection=function(t,i,e,r){if(this.k7.Qn(this.H9)||!this.e3)return null;var n=this.o7(t,e,!1),a=t.r[t.p[0]];return n.qr()||!n.dg(a.rect)?null:C.hl.FL("ObSl",n)},C.J4=function(){C.gn.call(this,[10,37],C.eK,"tools/qselect"),this.mo="qselect"},C.J4.prototype=new C.gn,C.J4.prototype.R$=function(t,i,e,r,n){this.yC(t,e,r,n,1),this.A4!=null&&this.km(t)},C.J4.prototype.$E=function(t,i,e,r,n){if(this.yP(t,i,e),C.J4.bE(t,C.hl.Et,i),this.w6&&this.rg(t,e,n),this.A4!=null&&!!n.Ku){var a=this.Td(t,e,r,n);a!=1&&this.km(t)}},C.J4.bE=function(t,i,e){if(t&&i.key!=C.J4.KA(t)){i.key=C.J4.KA(t);var r=t.r[t.p[0]].rect.M(),n="Image Analysis ...";if(r==0)return;var a=r>1e6,s=new z(y.E.L,!0);s.data={e:y.B.Uw,kr:n},a&&e.w(s),setTimeout(function(){var l=C.J4.t2(t);for(var h in l)i[h]=l[h];var o=new z(y.E.L,!0);o.data={e:y.B.p7,kr:n},a&&e.w(o)},30)}},C.J4.KA=function(t){var i=t.p[0],e=t.r[i],r=e.rect,n=r.Z,a=r.h,s=n*a,l=e.buffer;return[i,r.x,r.y,n,a,l[0],l[1],l[2],l[3]].join(",")},C.J4.t2=function(t){var i=t.p[0],e=t.r[i],r=e.rect,n=r.Z,a=r.h,s=n*a,l=e.buffer,h=Date.now(),o=v.R(s);o.fill(128);var f=v.Hr.xH(l,n,a);console.log(Date.now()-h);var u={key:C.J4.KA(t),ap:l,rect:r.clone(),YY:n,mi:a,aI:12,aea:!1,px:o,As:f,K:v.R(s),a2:null,HX:null,LA:null};return C.J4.DM(u),u},C.J4.DM=function(t,i){var e=t.YY,r=t.mi,n=0,a=0,s=Date.now(),l=t.a2!=null&&v.Hr.tW(t.As.zM,t.a2.zM,t.a2.zo,t.px);n=Date.now()-s,s=Date.now(),!l&&!t.aea&&(t.a2=v.Hr.bY(t.As,e,r,t.px,t.aI),v.Hr.tW(t.As.zM,t.a2.zM,t.a2.zo,t.px)||(t.aea=!0,console.log("conflict")),t.HX=v.Hr.a1o(t.ap,e,r,t.a2.zM,t.a2.zo),t.LA=[t.HX[0].slice(0),[]],a=Date.now()-s,s=Date.now());var s=Date.now();if(i){t.LA[0].set(t.HX[0]);for(var h=t.HX[1],o=t.LA[1],f=0;f<h.length;f++)o[f]=h[f].slice(0);v.Hr.a7$(t.a2.zM,e,r,t.a2.zo,t.px,t.K,t.LA)}};function le(t,i,e,r,n,a,s,l){this.wT=null,this.A2=t?t.slice(0):null,this.nC=4,this.H9=null,this.rO=null,this.fz=null,this.Y1=-1,this.AF=null,this.agy=!1,this.a6$=[];for(var h=0;h<8;h++)this.a6$.push(ft.a04(0,PIMG.rotate,-.5,-.5,-45-h*45));this.a23=i,this.ag5=e,this.aeG=r,this.a0g=n,this.a5s=a,this.wi=s,this.a7Q=l}le.prototype.mN=function(){return this.Y1!=-1},le.prototype._4=function(){return this.A2.slice(0)},le.prototype.ZD=function(t){this.A2=t},le.prototype.ac1=function(){return this.b2(this.A2)},le.prototype.abo=function(){return this.nC},le.prototype.acB=function(t){this.nC=t},le.prototype.B3=function(t){return t==null&&(t=this.A2),this.nC==9?this.H9:this.b2(t)[this.nC]},le.prototype.ab8=function(t){if(this.nC==9)this.H9=t.clone();else{var i=this.B3(),e=new Et(1,0,0,1,t.x-i.x,t.y-i.y);v.D.O(this.A2,e,this.A2)}},le.prototype.Eb=function(t,i,e){var r=this.aA(t,i),n;if(r==9)return"default";if(r==10)return e||this.a23?null:"move";if(r==-1||r==4)return null;if(r==11){var a=this.B3().gI(t);n=90-Math.atan2(a.y,a.x)*180/Math.PI;var s=Math.round(8*(n/360));return s=(s+8)%8,this.a6$[s]}else{var l=this.DS(t,this.A2);n=[135,90,45,180,0,0,225,270,315][r];var h=v.P.bg(this.A2);n+=Math.atan2(-h[3],h[0])*180/Math.PI;var o="ew nesw ns nwse ew nesw ns nwse".split(" "),s=Math.round(8*(n/360));return s=(s+8)%8,o[s]+"-resize"}},le.prototype.DS=function(t,i){var e=v.P.nJ(v.P.bg(i)),r=new Float64Array(2);return v.P.MC(t.x,t.y,e,r),new st(r[0],r[1])},le.prototype.kl=function(t){var i=this.DS(t,this.A2);return 0<=i.x&&i.x<=1&&0<=i.y&&i.y<=1},le.prototype.R$=function(t,i,e,r,n,a){this.agy=a,this.AF=r;var s=t.a.F,l;if(this.A2==null&&(r=C.qT.aE(t,r,i)),this.fz=r.clone(),this.A2==null){this.fz.offset(1,1);var h=n==null?1:1/n;this.A2=[r.x,r.y,r.x+1,r.y,r.x+1,r.y+h,r.x,r.y+h],l=8}else l=this.aA(r,s),0<=l&&l<=8&&(this.fz=this.b2(this.A2)[l]);return this.wT=this.A2.slice(0),this.Y1=l,this.b4(t,i),this.rO=this.B3(),l!=-1},le.prototype.aA=function(t,i){var e=-1,r=this.b2(),n=6*y.J()/i;if(e==-1&&st.Yj(this.B3(),t)<n&&(e=9),e==-1)for(var a=0;a<r.length;a++)a!=4&&st.Yj(r[a],t)<n&&(e=a);if(e==-1||this.wi==4)if(this.kl(t))this.a23&&(e=10);else{var s=this.DS(t,this.A2),l=new et(0,0,1,1);l.PK(.2,.2),e=l.oz(s)&&this.wi!=3?11:10}return e},le.prototype.$E=function(t,i,e,r){if(this.Y1!=-1){this.AF=r;var n=e.s(W.cm),a=e.s(W.ze),s=e.s(W.Bl),l=t.a.F,h=this.fz,o=this.Y1,f=this.b2(),u=C.qT.aE(t,h,i),p=C.qT.aE(t,r,i),c,d;if(o==9){for(var f=this.b2(),g=-1,b=0;b<f.length;b++)st.Yj(f[b],p)*l<10&&(g=b);this.nC=g==-1?9:g,this.H9=n?C.T7.M$(u,p):p.clone()}else if(o==10){d=v.D.nP(this.wT);var m=d.x,x=d.y;d.offset(r.x-h.x,r.y-h.y),this.nw()&&(d.x=Math.round(d.x),d.y=Math.round(d.y)),c=C.qT.hx(t,d,i);var M=new Et(1,0,0,1,d.x-m+c[0],d.y-x+c[1]);v.D.O(this.wT,M,this.A2)}else if(o==11){var S=this.B3(this.wT),w=S.gI(r),k=S.gI(h),T=Math.atan2(w.y,w.x),L=Math.atan2(k.y,k.x),M=new Et(1,0,0,1,-S.x,-S.y),O=Math.PI/12;n?M.rotate(Math.round((L-T)/O)*O):M.rotate(L-T),M.translate(S.x,S.y),v.D.O(this.wT,M,this.A2)}else{var E,D=this.wT,B=o==0||o==2||o==6||o==8;if(this.wi==1?B&&(n=a=s=!0):this.wi==2&&B&&this.agy!=!0&&(s=!0),this.wi==3&&(s=!1),this.aeG&&B&&s){var b=[0,0,2,0,0,0,6,0,4,0][o],I=-1,N=p.x,V=p.y;if(n){var j=b+6&7,R=b+10&7,G=le.qV(D[b],D[b+1],D[j],D[j+1],p.x,p.y),Z=le.qV(D[b],D[b+1],D[R],D[R+1],p.x,p.y),_=G[2]<Z[2]?G:Z;N=_[0],V=_[1],a&&(I=G[2]<Z[2]?j:R)}else a&&(I=b+4&7);if(E=D.slice(0),I!=-1){var U=D[I],Y=D[I+1],$=(D[b]+U)/2,P=(D[b+1]+Y)/2;E[I]=$-(N-$),E[I+1]=P-(V-P)}E[b]=N,E[b+1]=V}else if(B&&a){var S=this.rO,tt=S.x,X=S.y,ht=u.x-tt,F=u.y-X,J=1,Q=1;Math.abs(ht)>=1&&(J=(p.x-tt)/ht),Math.abs(F)>=1&&(Q=(p.y-X)/F),n&&(J=Q=(J+Q)/2);var rt=new Et;rt.translate(-tt,-X),rt.scale(J,Q),rt.translate(tt,X),E=D.slice(0),v.D.O(E,rt,E)}else{this.nw()&&(p.x=Math.round(p.x),p.y=Math.round(p.y));for(var it=[0,1,2,5,8,7,6,3],nt=it[(it.indexOf(o)+4)%8],ot=[],b=0;b<3;b++)for(var I=0;I<3;I++)ot.push(new st(I/2,b/2));var S=this.rO,pt=this.DS(p,D),yt=this.DS(h,D),ct=a&&(this.nC==4||this.nC==9)?this.DS(S,D):ot[nt],vt=new Et,wt=new Et,J=(pt.x-ct.x)/(yt.x-ct.x);J==0&&(J=1e-4);var Q=(pt.y-ct.y)/(yt.y-ct.y);if(Q==0&&(Q=1e-4),this.a0g&&(J=Math.max(J,0),Q=Math.max(Q,0)),(o==0||o==2||o==6||o==8)&&(n||this.a5s?vt.scale(J,J):vt.scale(J,Q)),o==1||o==3||o==5||o==7){var Mt=this.a5s;o==1||o==7?vt.scale(Mt?Q:1,Q):vt.scale(J,Mt?J:1),this.ag5&&s&&(o==1||o==7?wt.p$=(pt.x-ct.x)/(pt.y-ct.y):wt.i=(pt.y-ct.y)/(pt.x-ct.x))}var rt=new Et;rt.translate(-ct.x,-ct.y),rt.concat(vt),rt.concat(wt),rt.translate(ct.x,ct.y),E=[0,0,1,0,1,1,0,1],v.D.O(E,rt,E);var _=v.P.bg(D);v.P.apply(_,E)}le.le(E)&&(this.A2=E)}this.b4(t,i),c&&C.qT.rz(t,d,c)}},le.qV=function(t,i,e,r,n,a){var s=e-t,l=r-i,h=n-t,o=a-i,f=s*s+l*l,u=h*s+o*l,p=u/f,c=t+p*s,d=i+p*l,g=n-c,b=a-d;return[c,d,Math.sqrt(g*g+b*b)]},le.prototype.nw=function(){var t=this.A2;return Math.abs(t[1]-t[3])<1e-6&&Math.abs(t[2]-t[4])<1e-6||Math.abs(t[0]-t[2])<1e-6&&Math.abs(t[3]-t[5])<1e-6},le.le=function(t){return v.D.xu(t)||v.D.xu([t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]])},le.prototype.NL=function(t,i,e,r){this.Y1=-1,this.AF=null,t.v.zK=null,t.v.Tw=[],t.Vg=!0},le.prototype.gU=function(t,i,e){var r=e.Ef();if(r.x||r.y){var n=new Et(1,0,0,1,r.x,r.y);return v.D.O(this.A2,n,this.A2),this.b4(t,i),!0}return!1},le.prototype.b2=function(t){t==null&&(t=this.A2);for(var i=t[6]-t[0],e=t[7]-t[1],r=t[4]-t[2],n=t[5]-t[3],a=[t[0],t[1],t[2],t[3],t[0]+i/2,t[1]+e/2,t[2]+r/2,t[3]+n/2,t[6],t[7],t[4],t[5]],s=[],l=0;l<3;l++){var h=l*4,o=a[h+0],f=a[h+1],u=a[h+2],p=a[h+3];s.push(new st(o,f)),s.push(new st(o+(u-o)/2,f+(p-f)/2)),s.push(new st(u,p))}return s},le.prototype.b4=function(t,i,e){e==null&&(e=!1);var r=this.b2(),n=r[0],a=r[2],s=r[6],l=r[8];if(t.v.hK={W:[],d:[]},t.v.hK.W.push("M","L","L","L","Z"),t.v.hK.d.push(n.x,n.y,a.x,a.y,l.x,l.y,s.x,s.y),this.a7Q)for(var h=a.gI(n),o=s.gI(n),f=l.gI(a),u=l.gI(s),p=0;p<3;p++){t.v.hK.W.push("M","L","M","L");var c=(p+1)*.25;t.v.hK.d.push(n.x+h.x*c,n.y+h.y*c,s.x+u.x*c,s.y+u.y*c),t.v.hK.d.push(n.x+o.x*c,n.y+o.y*c,a.x+f.x*c,a.y+f.y*c)}if(t.a.GW=new et(0,0,st.Yj(r[0],r[2]),st.Yj(r[0],r[6])),this.Y1!=-1&&this.Y1<9&&this.AF){var d=t.a._R(this.AF.x,this.AF.y);C.An.Wf(d.x+10,d.y-10,t.a.GW,t,i)}if(!e){t.v.CL=[];for(var p=0;p<r.length;p++)p!=4&&t.v.CL.push(r[p].x,r[p].y);var g=this.B3();t.v.CL.push(g.x,g.y)}t.Vg=!0},le.prototype.clear=function(t){t.a.GW=null,t.v.zK=null,t.v.hK=null,t.v.CL=[],t.Vg=!0};function gn(t,i){this.mD=null,this.Y1=-1,this.E$(t)}gn.prototype.qN=function(){return JSON.parse(JSON.stringify(this.mD))},gn.prototype.E$=function(t){this.mD=JSON.parse(JSON.stringify(t))},gn.prototype.kl=function(t){return!0},gn.prototype.Eb=function(t,i){var e=this.aA(t,i);return e==-1?"default":"pointer"},gn.prototype.R$=function(t,i,e,r){return this.Y1=this.aA(r,t.a.F),this.Y1!=-1},gn.prototype.aA=function(t,i){for(var e=-1,r=20*y.J(),n=this.$F(),a=0;a<n.length;a++)st.Yj(n[a],t)*i<r&&(e=a);return e},gn.prototype.$E=function(t,i,e,r){if(this.Y1!=-1){var n=t.a.F,a=this.Y1,s=v.mD.ij(this.mD);s[a*2]=r.x,s[a*2+1]=r.y,v.mD.SL(s,this.mD)}},gn.prototype.NL=function(t,i,e,r){this.Y1=-1,t.Vg=!0},gn.prototype.gU=function(t,i,e){var r=e.Ef();if(r.x||r.y){var n=new Et(1,0,0,1,r.x,r.y);v.D.O(this.A2,n,this.A2),this.b4(t)}},gn.prototype.$F=function(t){for(var i=v.mD.ij(this.mD),e=[],r=0;r<i.length;r+=2)e.push(new st(i[r],i[r+1]));return e},gn.prototype.b4=function(t){var i=this.$F();t.v.hK={W:[],d:[]},t.v.hK.W.push("M","C","C","C","C");for(var e=[0,1,2,3,7,11,15,14,13,12,8,4,0],r=0;r<e.length;r++)t.v.hK.d.push(i[e[r]].x,i[e[r]].y);t.v.hK.W.push("M","L","L","M","L","L","M","L","L","M","L","L"),e=[4,0,1,2,3,7,11,15,14,13,12,8];for(var r=0;r<e.length;r++)t.v.hK.d.push(i[e[r]].x,i[e[r]].y);t.v.CL=[];for(var r=0;r<i.length;r++)t.v.CL.push(i[r].x,i[r].y);t.Vg=!0},gn.prototype.clear=function(t){t.v.hK=null,t.v.CL=[],t.Vg=!0};var dt={};dt.Dg=function(t){this.id=t,this.JW=null},dt.Dg.prototype.XZ=function(t,i,e,r,n){},dt.Dg.prototype.oF=function(t,i){},dt.Dg.prototype.tO=function(t,i){},dt.Dg.prototype.track=function(t){var i=new z(y.E.QJ,!0);i.data=t,t.Ke=!0,this.JW.w(i)},dt.History=function(){dt.Dg.call(this,C.Kb),this.Q$=!0,this.afd=0},dt.History.prototype=new dt.Dg,dt.History.prototype.XZ=function(t,i,e,r){if(e.Ob=!0,t.e=="h_itemchange"){if(t.index<e.xG)for(var n=e.xG;n>t.index;n--)this.ip(e);if(t.index>e.xG)for(var n=e.xG;n<t.index;n++)this.Bw(e)}if(t.e=="h_stepfwd"&&this.Bw(e),t.e=="h_stepbck"&&this.ip(e),t.e=="h_undoredo"){var a=this.Q$||this.afd!=e.xG;a?(this.ip(e),a=!1):(this.Bw(e),a=!0),this.Q$=a,this.afd=e.xG}else this.Q$=!0},dt.History.prototype.ip=function(t){if(t.xG!=0){var i=t.history[t.xG];i.Q.tO(i.data,t),t.xG--}},dt.History.prototype.Bw=function(t){if(t.xG!=t.history.length-1){var i=t.history[t.xG+1];i.Q.oF(i.data,t),t.xG++}},dt.T8=function(){dt.Dg.call(this,C.xC),this.JW=null},dt.T8.prototype=new dt.Dg,dt.T8.prototype.XZ=function(t,i,e,r,n){this.JW=i;var a=t.e,s=t.n!=null?t.n:e.p.length!=0?e.p[0]:e.r.length-1,l=e.r[s];if(e.Vf=!0,a==H.qZ&&e.K==null&&(a=H.xm),a==H.N1){for(var h=new ni([6,33],this),o=l.fO()?["pass"].concat(ti.YA):ti.YA,f=t.n!=null?[t.n]:e.p,u=JSON.stringify(f),p=[],c=0;c<f.length;c++)p.push(e.r[f[c]].sW);h.data={e:a,Ev:u,AR:p,uB:o[t.uB]},e.TX(h),this.oF(h.data,e),this.track(Di.JK("Md",{t:"enum",v:{BlnM:ti.zn[t.uB]}}))}if(a==H.Ot){var h,d=e.a1(),f=t.n!=null?[t.n]:e.p,u=JSON.stringify(f);if(d&&d.data&&d.data.e==a&&d.data.Ev==u)h=d;else{var g=Di.JK("Opct",{t:"UntF",v:{type:"#Prc",val:0}});this.track(g);for(var p=[],c=0;c<f.length;c++)p.push(e.r[f[c]].opacity);h=new ni([6,32],this),h.data={e:a,Ev:u,AR:p,uB:t.uB,ay:g.w1},e.TX(h)}h.data.uB=t.uB,h.data.ay.T.v.Opct.v.val=Math.round(t.uB*100/255),this.oF(h.data,e)}if(a==H.Ib){l.add.iOpa==null&&(l.add.iOpa=255);var h,d=e.a1();d&&d.data&&d.data.e==a&&d.data.n==s?h=d:(h=new ni("Fill Opacity Change",this),h.data={e:a,n:s,AR:l.add.iOpa,uB:t.uB},e.TX(h)),h.data.uB=t.uB,this.oF(h.data,e)}if(a==H.Lm){for(var b=t.uB,m=t.n!=null?[t.n]:e.p.slice(0),x=[],M=[],h,S=0;S<m.length;S++){var w=e.r[m[S]];w.add.lspf==null&&(w.add.lspf=0);for(var p=w.add.lspf,k=p,c=0;c<b[0].length;c++){var T=b[1][c],L=1<<T;((k&L)==0&&b[0][c]||(k&L)!=0&&!b[0][c])&&(k^=L)}x.push(p),M.push(k)}var d=e.a1(),f=JSON.stringify(m);if(d&&d.data&&d.data.e==a&&JSON.stringify(d.data.Ev)==f)h=d,h.data.uB=M;else{var h=new ni([6,57,1],this);h.data={e:a,Ev:f,AR:x,uB:M},e.TX(h)}this.oF(h.data,e)}if(a==H.t_){for(var O="----",E=t.x9,k=null,c=0;c<Jt.Tz.m_.length;c++)l.add[Jt.Tz.m_[c]]&&(O=Jt.Tz.m_[c]);var D=l.add[O];E=="TySh"&&(k=lt.T_(50,50,n.T2));var h=new ni("Layer Type",this);h.data={e:a,n:s,a6z:[O,D],x9:[E,k]},e.TX(h),this.oF(h.data,e)}if(a==H.K7){var m=[];if(r.s(W.ze)){var B=e.a1(),I=B?B.data:null;if(B!=null&&B.Q==this&&I.e==H.K7&&I.Ev.length!=1){var N=new z(y.E.H);if(N.Q=C.Kb,N.data={e:"h_stepbck"},i.w(N),I.n==s)return}for(var V=e.root.V$(s),j=e.JU(null,s);V.parent!=e.root;)j.push(V.parent.index),V=V.parent;for(var c=0;c<e.r.length;c++){var R=e.r[c],G=R.UQ(),Z=j.indexOf(c)!=-1;!Z&&G&&m.push(c),c==s&&!G&&m.push(c)}}else{m.push(s);var G=e.r[s].UQ(),g={Bm:G?"hide":"show",w1:{classID:G?"Hd":"Shw",null:{t:"VlLs",v:[Di.Pe("Lyr",!0)]}}};this.track(g)}var h=new ni("Layer visibility",this,!0);h.data={e:a,Ev:m,n:s},e.TX(h),this.oF(h.data,e)}if(a==H.Tq){var g={Bm:"select",w1:{classID:"null",MkVs:{t:"bool",v:!1}}},_,U=!1;if(e.a.qa.join("")!="111"&&(e.a.qa=[1,1,1],e.Vg=!0),r.s(W.Bl)||t.akM==0){var Y=e.p.indexOf(s);Y==-1?e.p.push(s):e.p.length>1&&e.p.splice(Y,1),e.p.sort(function(ol,Jl){return ol-Jl}),g.w1.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}},_=s}else if(r.s(W.cm)&&!r.s(W.ze)&&t.wH>0)a=t.wH==1?H.kX:t.wH==2?H.OT:H.yV,U=!0;else if((r.s(W.cm)||t.akM==1)&&e.p.length>0){var $=Math.min(s,e.p[0]),P=Math.max(s,e.p[e.p.length-1]);e.p=[];for(var c=$;c<=P;c++)e.r[c].add.lsct!=Ci.Qi&&e.p.push(c);g.w1.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}},_=s}else{_=s;var R=e.r[s];if(R.fO()&&t.a6x)R.add.lsct=Ci.lw;else if(e.p.length==1&&e.p[0]==s&&t.wH==R.kB)return;e.p=[s],e.HP()}if(_!=null&&(g.w1.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:e.r[_].getName()}}]},this.track(g)),!U){if(e.p.length==1){for(var tt=e.p[0],c=0;c<e.r.length;c++)if(c!=tt){var w=e.r[c];w.kB=0,w.yb=!1}var l=e.r[tt];if(t.wH==2)l.yb=!l.yb,e.QP=[];else if(l.kB=t.wH<=0?0:t.wH,t.wH==1||t.wH==3){var X=t.wH==3?l.yg(e).g:l.jk();X.gG=!1}}else for(var c=0;c<e.r.length;c++){var w=e.r[c];w.kB=0,w.yb=!1}e.mb=null,e.Ob=!0}}if(a==H.kX||a==H.yV){var ht=a==H.kX,X=ht?l.jk():l.yg(e).g;if(X==null)return;var h=new ni(X.isEnabled?ht?[6,15]:[6,42]:ht?[6,14]:[6,41],this);h.data={e:a,n:s},e.TX(h),this.oF(h.data,e)}if(a==H.OT){var X=l.add.vmsk;if(X==null)return;var h=new ni(X.isEnabled?[6,17]:[6,16],this);h.data={e:a,n:s},e.TX(h),this.oF(h.data,e)}if(a==H.cJ&&(l.add.lsct==Ci.lw?l.add.lsct=Ci.kE:l.add.lsct=Ci.lw,e.Ob=!0),a==H.zO){if(!e.Uu(s))return;var h=new ni(l.rd?[6,19]:[6,18],this);h.data={e:a,n:s},e.TX(h),(t.uB==null||t.uB!=l.rd)&&this.oF(h.data,e),this.track({Bm:"groupEvent",w1:{classID:"GrpL",null:{t:"obj ",v:[Di.Pe("Lyr",!0)]}}})}if(a==H.yf&&(l.dL()?l.ix-=32:l.ix+=32,e.Ob=!0),a==H.r5||a==H.Hl){var h;a==H.r5&&(h=new ni(l.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this)),a==H.Hl&&(h=new ni(l.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this)),h.data={e:a,n:s},e.TX(h),this.oF(h.data,e)}if(a==H.Dv||a==H.y6){var tt=t.index,h;a==H.Dv&&(h=new ni(l.add.lmfx[at.og[tt[0]]].v[tt[1]].v.enab.v?[6,30]:[6,29],this)),a==H.y6&&(h=new ni(l.add.SoLd.filterFX.v.filterFXList.v[tt].v.enab.v?[6,44]:[6,43],this)),h.data={e:a,n:s,index:t.index},e.TX(h),this.oF(h.data,e)}if(a==H.Fv){if(t.src==t.Fi)return;var F=e.r[t.src],J=e.r[t.Fi],Q=F.add.lmfx?JSON.stringify(F.add.lmfx):"",rt=J.add.lmfx?JSON.stringify(J.add.lmfx):"";if(J.add.lmfx==null){J.add.lmfx=JSON.parse(at.default);for(var c=0;c<at.order.length;c++)J.add.lmfx[at.og[c]]={t:"VlLs",v:[]}}if(t.sG==null)J.add.lmfx=JSON.parse(Q),t.HO||delete F.add.lmfx;else{var it=t.sG[0],nt=at.og[it];at.eB.indexOf(at.order[it])==-1&&(J.add.lmfx[nt].v=[]),J.add.lmfx[nt].v.push(F.add.lmfx[nt].v[t.sG[1]]),t.HO||F.add.lmfx[nt].v.splice(t.sG[1],1)}var ot=F.add.lmfx?JSON.stringify(F.add.lmfx):"",pt=J.add.lmfx?JSON.stringify(J.add.lmfx):"";J.dL()||(J.ix+=32);var h=new ni("Move Layer Styles",this);h.data={e:a,ae9:t.src,a5o:t.Fi,agF:Q,aj7:rt,ahh:ot,a74:pt},e.TX(h),this.oF(h.data,e)}if(a==H.kF){var w=e.r[t.src],yt=JSON.stringify(w.add.SoLd),ct=JSON.parse(yt),vt=ct.filterFX.v.filterFXList.v;vt.splice(t.sG,1);var h=new ni([6,53],this);h.data={e:H.bj,kq:[{XY:t.src,rZ:[yt,JSON.stringify(ct)]}]},e.TX(h),this.oF(h.data,e)}if(a==H.Op){var F=e.r[t.src],J=e.r[t.Fi],wt=[];if(F!=J&&J.add.SoLd==null){alert("Target layer is not a smart object!");return}if(F==J&&!t.HO&&(t.sG==t.ON||t.sG==-1))return;var Mt=F.yg(e),yt=JSON.stringify(F.add.SoLd),ct=JSON.parse(yt),vt=ct.filterFX.v.filterFXList.v;if(F==J)vt.splice(t.ON,0,vt[t.sG]),t.HO||vt.splice(t.sG+(t.sG<t.ON?0:1),1),wt.push({XY:t.src,rZ:[yt,JSON.stringify(ct)]});else if(t.sG==-1){var Ct=ct.filterFX;t.HO||(delete ct.filterFX,wt.push({XY:t.src,rZ:[yt,JSON.stringify(ct)],DD:[Mt,null]}));var gt=J.gO()?J.yg(e):null,bt=Pt.HU(Mt),xt=JSON.stringify(J.add.SoLd),Dt=JSON.parse(xt);Dt.placed.v=bt.id,Dt.filterFX=Ct,wt.push({XY:t.Fi,rZ:[xt,JSON.stringify(Dt)],DD:[gt,bt]})}else{var Ot=vt[t.sG];t.HO||(vt.splice(t.sG,1),wt.push({XY:t.src,rZ:[yt,JSON.stringify(ct)]}));var xt=JSON.stringify(J.add.SoLd),Dt=JSON.parse(xt);Dt.filterFX==null&&(Dt.filterFX=Zt.U$());var kt=Dt.filterFX.v.filterFXList.v;kt.splice(t.ON,0,Ot);var mt={XY:t.Fi,rZ:[xt,JSON.stringify(Dt)]};if(!J.gO()){var bt=Pt.eg(J.add.SoLd.placed.v);mt.DD=[null,bt]}wt.push(mt)}var h=new ni([6,52],this);h.data={e:H.bj,kq:wt},e.TX(h),this.oF(h.data,e)}if(a==H.dh){var X=l.jk(),h=new ni(X.AU?[6,26]:[6,25],this);h.data={e:a,n:s},e.TX(h),this.oF(h.data,e),this.track({Bm:"set",w1:{classID:"setd",null:{t:"obj ",v:[Di.Pe("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:X.AU}}}}})}if(a==H.t7){var X=l.add.vmsk,h=new ni(X.AU?[6,28]:[6,27],this);h.data={e:a,n:s},e.TX(h),this.oF(h.data,e)}if(a==H.I8){for(var It=[],h,c=0;c<e.p.length;c++){var S=e.p[c],R=e.r[S];R.add.vogk&&It.push(S,JSON.stringify(R.add.vogk))}for(var c=0;c<e.QP.length;c++){var S=e.QP[c],R=e.VW[S];R.add.vogk&&It.push(-1-S,JSON.stringify(R.add.vogk))}v.P$.a5g(e,t.gx,t.ahs);for(var Bt=[],c=0;c<e.p.length;c++){var S=e.p[c],R=e.r[S];R.add.vogk&&Bt.push(S,JSON.stringify(R.add.vogk))}for(var c=0;c<e.QP.length;c++){var S=e.QP[c],R=e.VW[S];R.add.vogk&&Bt.push(-1-S,JSON.stringify(R.add.vogk))}var d=e.a1();if(d&&d.data&&d.data.e==a){for(var Ut=!0,c=0;c<It.length;c+=2)It[c]!=d.data.HL[c]&&(Ut=!1);Ut&&(h=d,h.data.KK=Bt)}if(h==null){var h=new ni([12,91,1],this);h.data={e:a,HL:It,KK:Bt},e.TX(h)}this.oF(h.data,e)}if(a==H.K6){var h,d=e.a1();if(d&&d.data&&d.data.e==a&&d.data.n==s&&(h=d,h.data.eR=JSON.stringify(t.eR)),h==null){var h=new ni("Editing Artboard",this);h.data={e:a,n:s,ah$:JSON.stringify(l.add.artb),eR:JSON.stringify(t.eR)},e.TX(h)}this.oF(h.data,e)}if(a==H.IB){var Bt=e.Yq.slice(0),qt=e.oD.slice(0),Gt=e.K,zt=e.K;if(t.mQ=="fromAction"){var Nt=t.C.Bm,Kt=t.C.w1;if(Nt=="make"||Nt=="duplicate"){var ai=Bt.length,fi=!1,di=!1;e.ET()&&ai--;var $t=new H.vm;if($t.name="Alpha "+(ai+1),Nt=="make"){var si=Kt.Nw.v;$t.color=255,qt=[ai],$t.gG=!0,$t.oE=si.Opct.v,si.Nm&&($t.name=si.Nm.v),si.classID=="SCch"&&(fi=!0,zt=null,$t.iy=1)}else{var li=Kt.null.v[0].v;if(li.keyID=="fsel")fi=!0;else{var Li=C.hl.E0(e);zt=C.hl.nh(e,Li),$t.color=0,$t.rect=zt.rect,$t.channel=zt.channel}}fi&&($t.color=0,e.K&&($t.rect=e.K.rect.clone(),$t.channel=e.K.channel.slice(0)),di&&($t.color=255-$t.color,v.nJ($t.channel))),Bt.splice(ai,0,$t)}else if(Nt=="delete"){var j=e.oD;if(j.sort(function(vh,fl){return fl-vh}),j.length==0)return;for(var c=0;c<j.length;c++)Bt.splice(j[c],1);qt=[]}else Nt=="hide"&&(Bt[qt[0]]=Bt[qt[0]].clone(),Bt[qt[0]].gG=!1)}t.mQ=="rnm"&&(Bt[t.XN]=Bt[t.XN].clone(),Bt[t.XN].name=t.name);var h=new ni("Channel Edit",this);h.data={e:a,HL:e.Yq.slice(0),jt:e.oD.slice(0),KK:Bt,JA:qt,la:Gt,Od:zt},this.oF(h.data,e),e.TX(h)}if(a==H.Pj){var h=new ni(t.tP,this);h.data={e:H.Pj,Q1:e.r.slice(0),L_:t.L_,NA:e.p.slice(0),Vk:t.Od},e.TX(h),this.oF(h.data,e)}if(a==H.R0){var vi=e.JU(null,t.n),yi=1e10;if(vi.length==0)return;if(e.r.length==vi.length){alert("Project must have at least 1 layer");return}for(var _t=[],c=0;c<e.r.length;c++)vi.indexOf(c)==-1&&_t.push(e.r[c]);for(var c=0;c<vi.length;c++)yi=Math.min(yi,vi[c]);for(yi=Math.max(yi-1,0);_t[yi].name=="</Layer group>";)yi++;this.track({Bm:"delete",w1:{classID:"Dlt",null:Di.Pe("Lyr",!0)}});var h=new ni([6,31],this);h.data={e:H.Pj,Q1:e.r.slice(0),L_:_t,NA:e.p.slice(0),Vk:[yi]},e.TX(h),this.oF(h.data,e)}if(a==H.IQ){var j=t.agl?t.agl:e.p,wi=0,Zi=!1;if(j.length==0)return;if(j.length==1&&e.r[j[0]].Qk==0){alert(Lt.get([15,7,5]));return}for(var Vi=[],c=0;c<e.r.length;c++){var Mi=e.r[c].Qk;Vi.push(Mi),wi=Math.max(wi,Mi)}for(var ce=-1,Ri=-1,c=0;c<j.length;c++){var Mi=e.r[j[c]].Qk;Mi==0?Zi=!0:ce==-1||ce==Mi?ce=Mi:Ri=Mi}if(Zi)if(ce!=-1&&Ri==-1)for(var c=0;c<j.length;c++)e.r[j[c]].Qk=ce;else for(var c=0;c<j.length;c++)e.r[j[c]].Qk=wi+1;else for(var c=0;c<j.length;c++)e.r[j[c]].Qk=0;for(var zi=[],c=0;c<e.r.length;c++){var Mi=e.r[c].Qk;zi[Mi]==null&&(zi[Mi]=0),zi[Mi]++}for(var c=0;c<e.r.length;c++){var Mi=e.r[c].Qk;zi[Mi]==1&&(e.r[c].Qk=0)}var ee=Vi;Vi=[];for(var c=0;c<e.r.length;c++){var Mi=e.r[c].Qk;Vi.push(Mi),wi=Math.max(wi,Mi)}var h=new ni(Zi?[6,54,0]:[6,54,1],this);h.data={e:H.IQ,afv:ee,acc:Vi},e.TX(h),this.oF(h.data,e)}if(a==H.xm&&(t.n!=null||e.p.length!=0)||a==H.RO){var Be=e.FQ(a==H.xm?t.n:s,null,t.akZ);if(a==H.RO){var w=Be[0],Nt=w.add.SoLd.Idnt.v,Yi=e.AB(Nt).clone();w.add.SoLd.Idnt.v=Yi.Za=Pt.vs()+Nt.slice(8),e.add.lnk2.push(Yi)}if(a==H.xm){var Xi={Bm:"duplicate",w1:{classID:"null",null:Di.Pe("Lyr",!0)}};t.gA&&(Be[0].uf(t.gA),Xi.Nm={t:"TEXT",v:t.gA}),this.track(Xi),t.aga=t.n}a=H.uP,t.r=Be,t.kM=e,t.qW=e}if(a==H.uP){var Xt,ri,Hi=t.kM,re=t.qW;if(Hi!=re){console.log("ADDLAYERS different projs");for(var Xt=new et(0,0,Hi.Z,Hi.h),ri=new et(0,0,re.Z,re.h),gi=[],Bi=[],c=0;c<t.r.length;c++){var w=t.r[c];if(w.add.SoLd!=null){var Nt=w.add.SoLd.Idnt.v;gi.indexOf(Nt)==-1&&(gi.push(Nt),Bi.push(Pt.vs()+Nt.slice(8))),w.add.SoLd.Idnt.v=Bi[gi.indexOf(Nt)];var Mt=w.yg(Hi);Mt&&(Hi.OW(Mt),re.Bq(Mt))}}if(gi.length>0){re.add.lnk2==null&&(re.add.lnk2=[]);for(var c=0;c<gi.length;c++){var be=Hi.AB(gi[c]),Yi=be.clone();Yi.Za=Bi[c],re.add.lnk2.push(Yi)}}}var Gt=re.p.slice(0);Gt.sort(function(fl,ql){return fl-ql});for(var _t=re.r.slice(0),zt=[],Te=-1,c=0;c<Gt.length;c++)Te=Math.max(Te,Gt[c]);t.aga!=null&&(Te=t.aga),Te++;for(var c=0;c<t.r.length;c++){var R=t.r[c];_t.splice(Te,0,R),zt.push(Te),Te++}t.r[t.r.length-1].fO()&&(zt=[Te-1]);var h=new ni([6,0],this);h.data={e:H.Pj,Q1:re.r.slice(0),L_:_t,NA:Gt,Vk:zt},re.TX(h),this.oF(h.data,re)}if(a==H.Bo){for(var Gi=t.n!=null?[t.n]:e.JU(),_t=e.r.slice(0),c=0;c<Gi.length;c++){var R=e.r[Gi[c]].clone();R.Um(e),_t.splice(Gi[c],1,R)}var h=new ni([6,8],this);h.data={e:H.Pj,Q1:e.r.slice(0),L_:_t,NA:e.p.slice(0),Vk:e.p.slice(0)},e.TX(h),this.oF(h.data,e)}if(a==H.eH){var _t=e.r.slice(0),R=_t[e.p[0]]=_t[e.p[0]].clone(),Sr=R.add.lmfx,Qr=0;delete R.add.lmfx;var fr=v.R(R.rect.M());v.E4(R.buffer,fr,3);for(var Je=St.n6(Sr,null,fr,R.rect,e,R.rect).type,c=0;c<at.order.length;c++)for(var br=at.order[c],Ai=Je[br],We=c>7,Qi=0;Qi<Ai.length;Qi++){var qi=Ai[Qi],f=e.an();f.sW=qi.Si,f.opacity=Math.round(255*qi.hw),f.rd=!We,f.buffer=qi.Ww,f.rect=qi.Xc,f.rect.offset(R.rect.x,R.rect.y),f.uf(R.getName()+"'s "+Lt.get(at.names[c])),_t.splice(e.p[0]+(We?0:1),0,f),We&&Qr++}var h=new ni("Styles to Layers",this);h.data={e:H.Pj,Q1:e.r.slice(0),L_:_t,NA:e.p.slice(0),Vk:[e.p[0]+Qr]},e.TX(h),this.oF(h.data,e)}if(a==H.cl){for(var Gi=e.JU(),_t=e.r.slice(0),Re=new et(0,0,e.Z,e.h),c=0;c<Gi.length;c++){var pi=e.r[Gi[c]],Pi=pi.UQ();pi.vR(!0);var xr=e.root.V$(Gi[c]);if(!pi.fO()&&xr!=null){var R=pi.clone();R.Um(e);var wr=xr.o7(e,!0),Cr=e.r;e.wG([pi]),e.A(),e.tf(),R.buffer=v.R(wr.M()*4),v.BP(e.lD(),Re,R.buffer,wr),R.rect=wr,R.opacity=255,R.add.iOpa=255,R.sW="norm",R.A(),R.G.Zf=!0,e.wG(Cr),R.add.lmfx&&delete R.add.lmfx,R.g=R.NY=null,_t.splice(Gi[c],1,R),R.vR(Pi),pi.vR(Pi)}}var h=new ni([6,34],this);h.data={e:H.Pj,Q1:e.r.slice(0),L_:_t,NA:e.p.slice(0),Vk:e.p.slice(0)},e.TX(h),this.oF(h.data,e)}if(a==H.M_){for(var Gi=e.JU(),_t=e.r.slice(0),c=0;c<Gi.length;c++){var R=e.r[Gi[c]],Qe=R.add.TySh;if(Qe!=null){var w=new Si(Qe.MF,n.SN),pe=v.D.X5(Ee.Dz(w,Qe));for(var Er in pe){var bn=pe[Er],Ti=R.clone();delete Ti.add.TySh,Ti.ix=Ti.ix|1<<4,Ti.add.SoCo=JSON.parse(JSON.stringify(at._G[0]));var lr=Ti.add.SoCo.Clr.v;lr.Rd.v=parseInt(Er.slice(1,3),16),lr.Grn.v=parseInt(Er.slice(3,5),16),lr.Bl.v=parseInt(Er.slice(5,7),16);var qe=new H.iO;qe.b=v.D.sb(bn,!1),Ti.add.vmsk!=null&&(Ti.add.vmsk.ahk(),qe.concat(Ti.add.vmsk)),Ti.add.vmsk=qe,Ti.add.vstk=JSON.parse(JSON.stringify(at.bW.default)),Ti.h7(),Ti._V(e),_t.splice(_t.indexOf(R),0,Ti)}_t.splice(_t.indexOf(R),1)}}for(var zt=e.p.slice(0),c=zt.length-1;c>=0;c--)zt[c]>=_t.length&&zt.splice(c,1);var h=new ni([6,40],this);h.data={e:H.Pj,Q1:e.r.slice(0),L_:_t,NA:e.p.slice(0),Vk:zt},e.TX(h),this.oF(h.data,e)}if(a==H.$Z){var ir=e.p.length;if(ir<2){alert("Select two or more layers.");return}if(!e.vx())return;for(var Ti=e.r[e.p[0]].clone(),_t=[],c=0;c<e.r.length;c++)e.p.indexOf(c)==-1&&_t.push(e.r[c]);_t.splice(e.p[0],0,Ti);for(var c=1;c<ir;c++)if(e.r[e.p[c]].rect.M()>2e6){alert("Blended areas are too large.");return}for(var c=1;c<ir;c++){var R=e.r[e.p[c]],de=R.rect.clone();de.PK(1,1);var Dr=v.R(de.M()*4);v.BP(R.buffer,R.rect,Dr,de),Ti.extend(de);var Ue=v.R(de.M()*4);v.BP(Ti.buffer,Ti.rect,Ue,de);var h=v.R(de.M());v.E4(Dr,h,3),v.round(h,200),v.Oy(h,Dr,3),v.N.DO("norm",Dr,de,Ue,de,de,1),v.w9.I4(Ue,h,de),v.BP(Ue,de,Ti.buffer,Ti.rect)}var h=new ni([2,10,0],this);h.data={e:H.Pj,Q1:e.r.slice(0),L_:_t,NA:e.p.slice(0),Vk:[e.p[0]]},e.TX(h),this.oF(h.data,e)}if(a==H._S){for(var _t=e.r.slice(0),qt=e.p.slice(0),c=0;c<_t.length;c++){var R=_t[c],$e=R.add.vmsk;if(R.ws()&&$e&&R.add.vstk.strokeEnabled.v&&!R.add.vstk.fillEnabled.v){for(var He=$e.b,na=0,kr=-1,Qi=0;Qi<He.length;Qi++)(He[Qi].type==0||He[Qi].type==3)&&He[Qi].IO!=-1&&(na++,He[Qi].type==3&&kr==-1&&(He[Qi].yU=He[Qi].IO=1,kr=Qi));if(na>1&&kr!=-1){console.log("separating an open path into a new layer"),R=R.clone(),$e=R.add.vmsk,He=$e.b;var f=He[kr].length,Wi=R.clone();Wi.add.lyid=e.kV(),$e.b=He.slice(0,2).concat(He.slice(kr,kr+f+1)),$e.p=[],R._V(e),R.A();var vn=Wi.add.vmsk.b;Wi.add.vmsk.b=vn.slice(0,kr).concat(vn.slice(kr+f+1,vn.length)),Wi.add.vmsk.p=[],Wi._V(e),_t[c]=R,_t.splice(c+1,0,Wi);for(var Qi=0;Qi<qt.length;Qi++)qt[Qi]>c&&qt[Qi]++;var Ta=qt.indexOf(c);Ta!=-1&&qt.splice(Ta+1,0,c+1)}}}if(_t.length!=e.r.length){var h=new ni("Splitting open paths",this);h.data={e:H.Pj,Q1:e.r.slice(0),L_:_t,NA:e.p.slice(0),Vk:qt},e.TX(h),this.oF(h.data,e)}}if(a==H.eV){this.XZ({e:H._S},i,e,r,n);var Gt=e.p.slice(0),Cr=e.r.slice(0),Gi=e.JU();if(Gi.length==0)return;e.fM(Gi);var h=new ni([6,36,0],this);h.data={e:H.Pj,Q1:Cr,L_:e.r.slice(),NA:Gt,Vk:e.p.slice(0)},e.TX(h),this.oF(h.data,e)}if(a==H.ps){var be=t.EA.AB(t.id),Yi=be.clone();Yi.raw=t.data,Yi.EC="8BIM",Yi.d1="8BPB",Yi.Z5=Yi.Z5+".psd",Yi.lD(!1),be.lD(!1);var h=new ni([6,36,1],this);h.data={e:H.ps,id:t.id,GJ:be,XT:Yi},t.EA.TX(h),this.oF(h.data,t.EA)}if(a==H.Eg){var h=new ni([6,36,4],this);h.data={e:a,n:s,Ub:l.add.SoLd.Impr.v.classID,uB:t.uB},e.TX(h),this.oF(h.data,e)}if(a==H.Ml){var Oa,Ea;if(t.lO?(Oa=t.EA,Ea=t.lO):(t.EA.dr(),t.EA.LU(),t.EA.A(),t.EA.tf(),t.EA.lD(),Oa=ft.$I("PSD").bb(t.EA,0,0,[!0,!0]),Ea=t.EA.name),!(Oa instanceof ArrayBuffer))throw"e";Oa=new Uint8Array(Oa);var Y=t.z3!=null?t.z3:e.p[e.p.length-1]+1,ze=e.f6(Oa,Ea,0,0,!0),_t=e.r.slice(0);_t.splice(Y,0,ze);var h=new ni([6,36,2],this);h.data={e:H.Pj,Q1:e.r.slice(),L_:_t,NA:e.p.slice(0),Vk:[_t.indexOf(ze)]},e.TX(h),this.oF(h.data,e)}if(a==H.Hj){let ql=function(Cn,Kn){for(var Js=0,Cs=0;Cs+Cn[Js]<=Kn;)Cs+=Cn[Js],Js++;return Js};for(var Ha=ql,Br=[],tl=e.root.children,aa=0,c=0;c<tl.length;c++){var V=tl[c],R=V.n,Hs=V.children,nh=!0;if(!(!R.fO()||Hs.length==0)){for(var Qi=0;Qi<Hs.length;Qi++)if(!Hs[Qi].n.getName().startsWith("_a_")){nh=!1;break}nh&&Br.push(e.r.indexOf(R))}}for(var Tl=[],c=0;c<Br.length;c++)e.p.indexOf(Br[c])!=-1&&Tl.push(Br[c]);if(Tl.length>=2&&(Br=Tl),Br.length<2){alert('At least two animation folders needed (whose layers start with "_a_").',3500);return}for(var il=[],c=0;c<Br.length;c++)il.push(e.r[Br[c]].getName());for(var Ai=[],Da=0;Da<Br.length;Da++){var V=e.root.V$(Br[Da]),mt=[[],[],0,Da];Ai.push(mt);for(var c=0;c<V.children.length;c++){var S=V.children[c].index,R=V.children[c].n,$t=R.getName(),ur=20,Gn=$t.split(",");if(Gn.length>1){var $r=parseInt(Gn.pop());!isNaN($r)&&$r!=0&&(ur=$r)}mt[0].push(R),mt[1].push(ur),mt[2]+=ur}}Ai.sort(function(Cn,Kn){return Kn[2]-Cn[2]});for(var cn=Ai[0],Ol=cn[2],el=1;el<Ai.length;el++){for(var mt=Ai[el],_n=1,Ae=mt[1].slice(0),xe=0;(_n+1)*mt[2]<=cn[2];)_n++,Ae=Ae.concat(mt[1]);mt[1]=Ae,mt[2]*=_n;for(var kh=cn[2]/mt[2],c=0;c<mt[1].length;c++){var er=Math.floor(mt[1][c]*kh);mt[1][c]=er,xe+=er}for(;xe<Ol;)xe++,mt[1][mt[1].length-1]++;mt[2]=xe}for(var rl=[],sa=[],er=[],c=0;c<Ai.length;c++)rl.push(0),sa.push(0);for(;aa<Ol;){for(var Zn=1e9,ai=-1,c=0;c<Ai.length;c++){var El=Ai[c][1],js=rl[c];js!=El.length&&sa[c]+El[js]<aa+Zn&&(ai=c,Zn=sa[c]+El[js]-aa)}sa[ai]+=Ai[ai][1][rl[ai]],rl[ai]++,Zn!=0&&(er.push(Zn),aa+=Zn)}for(var c=0;c<er.length;c++){var pn=er[c],Dl=pn>>>1;if(pn<17){var S=er.length-1;c==0?er[1]+=pn:c==er.length-1?er[S-1]+=pn:(er[c-1]+=Dl,er[c+1]+=pn-Dl),er.splice(c,1),c--}}for(var Pi=[],Re=new et(0,0,e.Z,e.h),c=0;c<e.r.length;c++)Pi[c]=e.r[c].UQ(),e.r[c].vR(!1);var Vs=e.p.slice(0);e.p=Br;var vi=e.JU();vi.sort(function(Cn,Kn){return Cn-Kn});for(var _t=[],c=0;c<e.r.length;c++)vi.indexOf(c)==-1&&_t.push(e.r[c]);Ai.sort(function(Cn,Kn){return Cn[3]-Kn[3]}),aa=0,_t.splice(vi[0],0,e.Px());for(var Xa=0;Xa<er.length;Xa++){for(var m=[],c=0;c<Ai.length;c++){var js=ql(Ai[c][1],aa)%Ai[c][0].length,R=Ai[c][0][js];m.push(R)}for(var R=e.an(),c=0;c<Ai.length;c++){var Bl=m[c],ki=e.r[Br[c]];Bl.vR(!0),ki.vR(!0)}e.A(),e.tf();var la=e.lD();R.rect=v.cR(la,Re),R.buffer=v.R(R.rect.M()*4),v.BP(la,Re,R.buffer,R.rect);for(var c=0;c<Ai.length;c++){var Bl=m[c],ki=e.r[Br[c]];Bl.vR(!1),ki.vR(!1)}R.vR(Xa==0),R.uf("_a_frm"+Xa+","+er[Xa]),_t.splice(vi[0]+1+Xa,0,R),aa+=er[Xa]}var R=e.an();R.uf(il.join(" + ")),R.sW="pass",R.add.lsct=Ci.kE,R.ix=24,_t.splice(vi[0]+1+er.length,0,R);for(var c=0;c<e.r.length;c++)e.r[c].vR(Pi[c]);var h=new ni([6,12,0],this);h.data={e:H.Pj,Q1:e.r,L_:_t,NA:Vs,Vk:[vi[0]+1+er.length]},e.TX(h),this.oF(h.data,e)}if(a==H.SG||a==H.FI||a==H.iQ){var Cr=e.r.slice(0),Gt=e.p.slice(0),ps=!0,ze,zt;if(a==H.SG&&(e.p=[s,s-1]),a==H.iQ){e.p=[];for(var c=0;c<e.r.length;c++)e.r[c].UQ()&&e.p.push(c)}var Gi=e.JU();Gi.sort(function(Cn,Kn){return Cn-Kn});for(var xn=new et,Re=new et(0,0,e.Z,e.h),c=0;c<Gi.length;c++){var S=Gi[c],R=e.r[S];ps=ps&&R.ws()&&R.add.vmsk!=null,xn=xn.s7(e.root.V$(S).o7(e,!0))}if(ps){ze=e.r[Gi[0]].clone();for(var $e=ze.add.vmsk,c=1;c<Gi.length;c++){var f=e.r[Gi[c]],vn=H.iO.Cm(f.add.vmsk.b);$e.b=$e.b.concat(vn.slice(2)),ze.add.vogk=ze.add.vogk.concat(JSON.parse(JSON.stringify(f.add.vogk)))}ze.add.vmsk.G2=!0,ze._V(e)}else if(Re.Qh(xn)){ze=e.an(),ze.uf(e.r[Gi[Gi.length-1]].getName()),ze.rect=xn,ze.buffer=v.R(xn.M()*4);var Ah=e.lD(Gi);v.BP(Ah,Re,ze.buffer,xn),ze.A()}else{e.fM(Gi,!0),ze=e.r[e.p[0]],e.r.splice(e.p[0],1);var Pa=e.AB(ze.add.SoLd.Idnt.v);e.add.lnk2.splice(e.add.lnk2.indexOf(Pa),1),delete ze.add.SoLd}var Fa=r.s(W.ze),ts=-1;t.w1&&t.w1.Dplc&&t.w1.Dplc.v&&(Fa=!0),Fa&&a==H.iQ&&e.r[Gt[0]].Mq()&&e.r[Gt[0]].rect.qr()&&(ts=Gt[0],ze.uf(e.r[ts].getName()));for(var _t=[],c=0;c<e.r.length;c++)(Fa||Gi.indexOf(c)==-1)&&c!=ts&&_t.push(e.r[c]);var Il=Gi[Gi.length-1],is=Il==e.r.length-1?null:e.r[Il+1],Us=is?_t.indexOf(is):_t.length;_t.splice(Us,0,ze),zt=[Us];var h=new ni([6,12,0],this);h.data={e:H.Pj,Q1:Cr,L_:_t,NA:Gt,Vk:zt},e.TX(h),this.oF(h.data,e)}if(a==H.ck){var Ti=e.an();Ti.rect=new et(0,0,e.Z,e.h),Ti.buffer=v.R(Ti.rect.M()*4),v.XB(Ti.buffer,4294967295),v.N.DO("norm",e.lD(),Ti.rect,Ti.buffer,Ti.rect,Ti.rect,1),Ti.uf("Background"),Ti.add.lspf=1<<2;var h=new ni([6,12,1],this);h.data={e:H.Pj,Q1:e.r.slice(),L_:[Ti],NA:e.p.slice(0),Vk:[0]},e.TX(h),this.oF(h.data,e)}if(a==H.Nm||a==H.uv||a==H.F0||a==H.yn||a==H.qZ){var R=a==H.qZ?e.r[e.p[0]].clone():e.an(),ds=Lt.get([0,3]),Tn=t.gA,nl=!1,Ge,Nl;if(a==H.F0&&(ds=Lt.get([12,76,1])),a==H.qZ){var pi=e.r[e.p[0]],Rl=pi.zp(e,e.K);if(Rl==null){alert("Copied area is empty");return}R.rect=Rl.rect,R.buffer=Rl.Tr}if(a==H.yn&&(R.rect=dt.T8.I3(t.pL,e),R.buffer=v.clone(t.pL.buffer)),a==H.Nm&&this.track({Bm:"make",w1:{classID:"Mk",null:Di.Pe("Lyr")}}),a==H.uv){R.ix|=16;var Yr=t.w1.Usng.v,al=Yr.Type.v,On=Vt.om[al.classID];ds=Lt.get(Vt.names[On]),Yr.Nm&&(Tn=Yr.Nm.v),R.add[On]=Zt.tt(On),R.add[On]==null&&(R.add[On]={});for(var Hl in al)R.add[On][Hl]=JSON.parse(JSON.stringify(al[Hl]));R.g=dt.T8.Ne(e)}if(a==H.F0){R.ix|=16;var Kt=t.w1,Yr=Kt.Usng.v,Ba=Yr.Type.v,vr=Yr.Shp;if(vr==null){var sl=e.Cj(),pe=sl[0],jl=sl[1];if(jl.length!=0){var En=pe[jl[0]].add;R.add.vmsk=En.vmsk.clone(),R.add.vstk=JSON.parse(JSON.stringify(at.bW.default)),R.add.vogk=JSON.parse(JSON.stringify(En.vogk)),e.QP=[]}else R.g=dt.T8.Ne(e)}else if(console.log(Yr),R.add.vmsk=new H.iO,R.add.vstk=JSON.parse(JSON.stringify(Yr.strokeStyle?Yr.strokeStyle.v:at.bW.default)),R.add.vogk=[],vr){var Ar=v.P$.ND(vr);if(Ar)R.add.vogk=[Ar],R.add.vmsk.b.push({type:0,IO:1,length:0}),v.P$.xc(R.add.vogk,R.add.vmsk);else{vr=vr.v;var an=vr.classID;if(an=="Plgn"){var Gs=vr.Cntr.v,Ir=vr.corner.v;Gs=new st(Gs.Hrzn.v.val,Gs.Vrtc.v.val),Ir=new st(Ir.Hrzn.v.val,Ir.Vrtc.v.val),R.add.vmsk.b=v.V.Ny.qF(Gs.x,Gs.y,Math.sqrt(Ir.x*Ir.x+Ir.y*Ir.y),Math.atan2(Ir.y,Ir.x),vr.sides.v,0)}else if(an=="customShape"){for(var Gr=v.P$.QO(vr),Jn=Gr[2]-Gr[0],Vl=Gr[3]-Gr[1],Ul=n.KQ,ll,es,c=0;c<Ul.length;c++)Ul[c].s3==vr.Nm.v&&(ll=Ul[c]);ll?(es=H.iO.Cm(ll.b),v.V.G5(es,new Et(Jn,0,0,Vl,Gr[0],Gr[1]))):es=v.V.Ny.Rect(Gr[0],Gr[1],Jn,Vl,0),R.add.vmsk.b=es}R.h7()}}var qn={solidColorLayer:0,gradientLayer:1,patternLayer:2}[Ba.classID],ha=["SoCo","GdFl","PtFl"][qn];R.add[ha]=JSON.parse(JSON.stringify(at._G[qn])),dt.T8.CR(Ba,R.add[ha],qn),vr==null&&(ds=Lt.get([6,48,0,qn])),ha=="PtFl"&&e.e6(St.tc(R.add[ha].Ptrn.v,n.WB)),R._V(e)}var ir=dt.T8.yR(e,ds+" ");R.uf(ds+" "+(ir+1)),Tn&&R.uf(Tn);var oa=e.p.length==0?e.r.length-1:e.p[e.p.length-1],hl=e.r[oa];a==H.F0&&hl.Mq()&&hl.rect.qr()?(nl=!0,R.uf(hl.getName()),Ge=oa):(Ge=oa+1,hl.add.lsct==Ci.lw&&Ge--);var _t=e.r.slice(0);_t.splice(Ge,nl?1:0,R);var dn=[5,2];if(a==H.Nm&&(dn=[6,13]),a==H.uv&&(dn=[6,1]),a==H.F0){dn=[6,48,1];var vr=t.w1.Usng.v.Shp;if(vr){var zn={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[vr.v.classID];zn&&(dn=zn)}}a==H.qZ&&(dn=[6,49]),(a==H.qZ||a==H.F0||a==H.yn)&&e.K&&(Nl=[e.K,null]);var h=new ni(dn,this);if(h.data={e:H.Pj,Q1:e.r.slice(0),L_:_t,NA:e.p.slice(0),Vk:[Ge],tp:Nl},e.TX(h),this.oF(h.data,e),a==H.F0&&vr==null&&qn!=0||a==H.uv){var _s=new z(y.E.L);_s.data={e:y.B.xS,W2:Wt.YP.Qm},i.w(_s)}}if(a==H.QR){var R=e.an();R.uf(Lt.get([0,4])+" "+e.r.length),R.sW="pass",R.add.lsct=Ci.lw,R.ix=24;var Xr=e.Px(),oa=s,Ge=oa+1,_t=e.r.slice(0);_t.splice(Ge,0,Xr,R);var h=new ni([6,20],this);h.data={e:H.Pj,Q1:e.r.slice(0),L_:_t,NA:e.p.slice(0),Vk:[Ge+1]},e.TX(h),this.oF(h.data,e)}if(a==H.iN||a==H.Aj){var Zs=a==H.iN?t.source:e.p[0],Mr,fa,rs=e.p.indexOf(Zs)!=-1,ua=r.s(W.ze)|t.a2e,cr;if(rs?cr=e.JU():cr=e.Co(Zs),cr.sort(function(vh,fl){return vh-fl}),a==H.iN)Mr=t.target,fa=t.Pf>.5;else if(t.target!=null)Mr=t.target,fa=!0,e.Mv=!0;else{var ys=t.mQ;if(fa=ys>1,ys==0&&(Mr=e.r.length-1),ys==1){Mr=cr[cr.length-1]+1;var f=e.Co(Mr);f.indexOf(Zs)==-1&&(Mr+=f.length-1)}if(ys==2){Mr=cr[0]-1;var f=e.Co(Mr);f.indexOf(Zs)==-1&&(Mr-=f.length-1)}if(ys==3&&(Mr=0),Mr<0||Mr>e.r.length-1)return;e.Mv=!0}if(cr.indexOf(Mr)!=-1)return;var Ia=e.r[Mr],_t=[];if(ua)_t=e.r.slice(0);else for(var c=0;c<e.r.length;c++)cr.indexOf(c)==-1&&_t.push(e.r[c]);var Na=_t.indexOf(Ia);a==H.iN&&Ia.fO()&&Ia.add.lsct==Ci.kE&&t.Pf>.8&&(Na-=e.Co(Mr).length-1);for(var ah=[],Lh=ua?e.FQ(rs?null:Zs):null,c=0;c<cr.length;c++){var sh=Na+(fa?0:1)+c,w=ua?Lh[c]:e.r[cr[c]];_t.splice(sh,0,w),ah.push(sh)}var h=new ni(ua?[6,0]:[6,35],this);h.data={e:H.Pj,Q1:e.r.slice(0),L_:_t,NA:e.p.slice(0),Vk:ah},e.TX(h),this.oF(h.data,e);var Kt={classID:"move",null:Di.Pe("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:Na+(fa?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:ua}};this.track({Bm:"move",w1:Kt})}if(a==H.$t){var R=e.an(),ns=Lt.get([0,4])+" ";R.uf(ns+(dt.T8.yR(e,ns)+1)),R.sW="pass",t.gA&&R.uf(t.gA),R.add.lsct=e.p.length==1?Ci.lw:Ci.kE,R.ix=24;var Xr=e.Px(),cr=e.JU();if(cr.length==0)return;cr.sort(function(zl,Cn){return zl-Cn});for(var _t=[],c=0;c<e.r.length;c++)cr.indexOf(c)==-1&&_t.push(e.r[c]);var oa=e.p[e.p.length-1]-cr.length;_t.splice(oa+1,0,Xr);for(var c=0;c<cr.length;c++)_t.splice(oa+2+c,0,e.r[cr[c]]);_t.splice(oa+2+cr.length,0,R);var h=new ni([6,9],this);h.data={e:H.Pj,Q1:e.r.slice(0),L_:_t,NA:e.p.slice(0),Vk:[_t.indexOf(R)]},e.TX(h),this.oF(h.data,e);var g={Bm:"make",Ke:!0};g.w1={classID:"Mk",null:Di.Pe("layerSection"),From:Di.Pe("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:R.getName()}}}},this.track(g)}if(a==H.Ax){if(e.p.length!=1)return;var Y=e.p[0],Gl=r.s(W.ze);e.r[Y].jk()==null?(a=H.cN,t.wi=e.K?Gl?"HdSl":"RvlS":Gl?"HdAl":"RvlA"):a=H.yN}if(a==H.cN){if(e.p.length!=1)return;var Y=e.p[0],R=e.r[Y];R.add.vmsk&&R.g==null&&R._V(e);var _l=R.jk();if(_l==null||t.aaF){var h=new ni([6,21],this),Lr=new H.vm,va=t.wi,Zl=va=="RvlS"||va=="HdSl";(va=="RvlS"||va=="HdAl"||va=="Trns")&&(Lr.color=0),Zl&&(Lr.channel=v.clone(e.K.channel),Lr.rect=e.K.rect.clone(),va=="HdSl"&&v.nJ(Lr.channel)),va=="Trns"&&(Lr.rect=R.rect.clone(),Lr.channel=v.R(R.rect.M()),v.E4(R.buffer,Lr.channel,3)),h.data={e:a,n:Y,g:Lr,h3:_l,tp:Zl?[e.K,null]:null},e.TX(h),this.oF(h.data,e),e.r[Y].kB=1,this.track({Bm:"make",w1:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:va}}}})}}else if(a==H.gk){var F=e.r[t.src],J=e.r[t.Fi];if(J.jk())return;var h=new ni([6,21],this),Lr=F.jk();t.HO?h.data={e:H.cN,n:t.Fi,g:Lr.clone()}:h.data={e:a,src:t.src,Fi:t.Fi,g:Lr},e.TX(h),this.oF(h.data,e)}if(a==H.tN){if(e.p.length!=1)return;var Y=s;if(e.r[Y].jk()!=null){var h=new ni([6,22],this);h.data={e:a,n:Y,g:e.r[Y].jk()},e.TX(h),this.oF(h.data,e)}}if(a==H.rb){var Cr=e.r.slice(0),Ti=l.clone(),lh=Ti.jk();v.pa(lh.kx(Ti.rect),Ti.rect,Ti.buffer,Ti.rect),dt.T8.oW(e,Ti),e.r[e.p[0]]=Ti;var h=new ni([5,8],this);h.data={e:H.Pj,Q1:Cr,L_:e.r.slice(),NA:e.p.slice(0),Vk:e.p.slice(0)},e.TX(h),this.oF(h.data,e)}if(a==H.s4){if(e.p.length!=1)return;var Y=e.p[0];if(e.r[Y].yg(e).g==null){var h=new ni([6,45],this);h.data={e:a,n:Y,g:new H.vm},e.TX(h),this.oF(h.data,e)}}if(a==H.BI){if(e.p.length!=1)return;var Y=e.p[0];if(e.r[Y].yg(e).g!=null){var h=new ni([6,46],this);h.data={e:a,n:Y,g:e.r[Y].yg(e).g},e.TX(h),this.oF(h.data,e)}}if(a==H.cB){if(t.n==null&&e.p.length!=1)return;if(e.r[s].gO()){var h=new ni([6,47],this),yt=JSON.stringify(e.r[s].add.SoLd),ct=JSON.parse(yt);delete ct.filterFX,h.data={e:H.bj,kq:[{XY:s,rZ:[yt,JSON.stringify(ct)],DD:[e.r[s].yg(e),null]}]},e.TX(h),this.oF(h.data,e)}}if(a==H.yN){if(e.p.length!=1)return;if(l.add.vmsk==null){var h=new ni([6,23],this),He=e.Cj(),j=He[1],He=He[0],Lr,Ar;if(t.agW&&j.length!=0){var En=He[j[0]].add;Lr=En.vmsk.clone(),Ar=En.vogk}else Lr=new H.iO,Ar=[],Lr.b[1].all=t.afe?0:1;h.data={e:a,n:s,pK:!0,g:Lr,P$:JSON.stringify(Ar),bW:null},l.ws()&&(h.data.bW=JSON.stringify(at.bW.default)),e.TX(h),this.oF(h.data,e)}}if(a==H.aY){var F=e.r[t.src],J=e.r[t.Fi];if(J.add.vmsk)return;var h=new ni([6,23],this),$e=F.add.vmsk;h.data={n:t.Fi,pK:F.yb,g:$e.clone(),P$:JSON.stringify(F.add.vogk),bW:F.add.vstk?JSON.stringify(F.add.vstk):null},t.HO?h.data.e=H.yN:(h.data.e=a,h.data.src=t.src,h.data.Fi=t.Fi),e.TX(h),this.oF(h.data,e)}if(a==H.hy){if(e.p.length!=1)return;var R=e.r[s],$e=R.add.vmsk;if($e!=null){var h=new ni([6,24],this);h.data={e:a,n:s,pK:R.yb,g:$e,P$:JSON.stringify(R.add.vogk),bW:R.add.vstk?JSON.stringify(R.add.vstk):null},e.TX(h),this.oF(h.data,e)}}if(a==H.Sc){var h=new ni("Metadata",this);h.data={e:a,s6:JSON.stringify(e.ZT),EB:JSON.stringify(t.EB)},e.TX(h),this.oF(h.data,e)}if(a==H.FW){var gs=t.Fi?t.Fi:e,ms=gs.name,Tn=t.C+".psd";if(ms==Tn)return;var h=new ni([6,37],this);h.data={e:a,wS:ms,gA:Tn},t.ad2!=!0&&gs.TX(h),this.oF(h.data,gs)}if(a==H.u$){var ms=l.getName(),Tn=t.name.substring(0,255);if(ms==Tn)return;var h=new ni([6,37],this);h.data={e:a,n:s,wS:ms,gA:Tn,a6X:l.add.lnsr,ahG:null},e.TX(h),this.oF(h.data,e),this.track(Di.JK("Nm",{t:"TEXT",v:Tn}))}if(a==H.FO){for(var Ra=e.JU(),hh=[],oh=[],c=0;c<Ra.length;c++)hh.push(e.r[Ra[c]].add.lclr),oh.push(t.ait);var h=new ni([6,38],this);h.data={e:a,r:Ra,alr:hh,abr:oh},e.TX(h),this.oF(h.data,e)}if(a==H.IM){var h=e.history[e.xG];h!=null&&h.Q==this&&h.data.e==a&&h.data.n==t.Sa&&h.data.uB.SA==t.j$.SA?h.data.uB=t.j$:(h=new ni("Mask Density / Feather",this),h.data={e:a,n:t.Sa,Ub:e.r[t.Sa].rq(t.j$.SA),uB:t.j$},e.TX(h)),this.oF(h.data,e)}if(a==H.WF){var ca=JSON.stringify(t.C),sn=JSON.parse(ca),h=e.history[e.xG];if(h!=null&&h.Q==this&&h.data.e==a&&h.data.jK==t.jK&&h.data.Ev.join(",")==t.Ev.join(",")){for(var c=0;c<t.Ev.length;c++)h.data.nd[c]=sn;h.data.w1&&sn.d1!=0&&dt.T8.CR(sn.qA,h.data.w1.T.v,sn.d1-1)}else{h=new ni([11,6],this),h.data={e:a,Ev:t.Ev,jK:t.jK,a1Y:[],nd:[]};for(var fh=!1,c=0;c<t.Ev.length;c++){var S=t.Ev[c],R=e.r[S],bs=t.jK?C.Y2.Un(e,S):JSON.parse(JSON.stringify(R.add.vstk));h.data.a1Y.push(bs),h.data.nd.push(sn),JSON.stringify(bs)!=ca&&(fh=!0)}if(!fh)return;if(e.TX(h),t.jK&&sn.d1>0){var Kt=h.data.w1={classID:"setd",null:Di.Pe("contentLayer",!0),T:{t:"Objc",v:{}}},ha=["SoCo","GdFl","PtFl"][sn.d1-1];dt.T8.CR(sn.qA,Kt.T.v,sn.d1-1),this.track({Bm:"set",w1:Kt})}}if(t.jK&&sn.d1==3&&e.e6(St.tc(sn.qA.Ptrn.v,n.WB)),!t.jK){var xs=sn.strokeStyleContent.v;xs.classID==at.bW.bl[2]&&e.e6(St.tc(xs.Ptrn.v,n.WB))}this.oF(h.data,e)}},dt.T8.CR=function(t,i,e){var r=[at.QB,at.Zt,at.QZ][e];i.classID==null&&(i.classID=["solidColorLayer","gradientLayer","patternLayer"][e]);for(var n=0;n<r.length;n++)t[r[n]]&&(i[r[n]]=JSON.parse(JSON.stringify(t[r[n]])))},dt.T8.Ne=function(t){var i=new H.vm;return t.K!=null&&(i.color=0,i.channel=v.clone(t.K.channel),i.rect=t.K.rect.clone()),i},dt.T8.Fk=function(t,i,e,r){for(var n=r.Z/e.Z,a=r.h/e.h,s=r.Z/2,l=r.h/2,h=v.D.z0(r).d,o=0;o<t.r.length;o++){var f=t.r[o],u=f.add.SoLd;if(!(u==null||u.Idnt.v!=i)){if(n!=1||a!=1){var p=C.X.AC(u.nonAffineTransform),c=v.P.bg(p,r),d=new Et;d.translate(-s,-l),d.scale(n,a),d.translate(s,l);var g=v.P.$T(c,v.P.Jb(d)),b=h.slice(0);v.P.apply(g,b),u.Trnf=C.X.uE(b),u.nonAffineTransform=C.X.uE(b)}f.Gy(t)}}t.A()},dt.T8.ai0=function(t,i,e){i.color=255-i.color,v.nJ(i.channel),i.G2=!0,t._V(e),e.A()},dt.T8.prototype.tO=function(t,i){var e=t.e,r=i.r[t.n];if(i.Vf=!0,e==H.ps&&(i.add.lnk2.splice(i.add.lnk2.indexOf(t.XT),1,t.GJ),dt.T8.Fk(i,t.id,t.XT.DW[1],t.GJ.DW[1])),e==H.Eg&&(r.add.SoLd.Impr.v.classID=t.Ub,r.Gy(i)),e==H.N1){for(var n=JSON.parse(t.Ev),a=0;a<n.length;a++)i.r[n[a]].sW=t.AR[a];i.A()}if(e==H.Ot){for(var n=JSON.parse(t.Ev),a=0;a<n.length;a++)i.r[n[a]].opacity=t.AR[a];i.A()}if(e==H.Lm)for(var n=JSON.parse(t.Ev),a=0;a<n.length;a++)i.r[n[a]].add.lspf=t.AR[a];if(e==H.t_){var s=t.x9,l=t.a6z;delete r.add[s[0]],l[0]!="----"&&(r.add[l[0]]=l[1])}if(e==H.Ib&&(r.add.iOpa=t.AR,i.A()),e==H.K7){for(var a=0;a<t.Ev.length;a++){var h=i.r[t.Ev[a]];h.vR(!h.UQ())}i.A()}if(e==H.kX){var o=r.jk();o.isEnabled=!o.isEnabled,r._V(i),i.A()}if(e==H.yV){var o=r.yg(i).g;o.isEnabled=!o.isEnabled,r.A(),i.A()}if(e==H.OT){var o=r.add.vmsk;o.isEnabled=!o.isEnabled,o.isEnabled?r.g&&(r.NY=r.g,r.g=null):r.NY?(r.g=r.NY,r.NY=null):r.g=null,r._V(i),i.A()}if(e==H.zO&&(r.rd=!r.rd,i.A()),e==H.r5&&(r.add.lmfx.masterFXSwitch.v=!r.add.lmfx.masterFXSwitch.v,r.G.Zf=!0,i.A()),e==H.Hl&&(r.add.SoLd.filterFX.v.enab.v=!r.add.SoLd.filterFX.v.enab.v,r.jc(i),i.A()),e==H.Dv){var f=t.index,u=r.add.lmfx[at.og[f[0]]].v[f[1]].v;u.enab.v=!u.enab.v,r.G.Zf=!0,i.A()}if(e==H.Fv){var p=i.r[t.ae9],c=i.r[t.a5o],d=t.agF,g=t.aj7;d==""?delete p.add.lmfx:p.add.lmfx=JSON.parse(d),g==""?delete c.add.lmfx:c.add.lmfx=JSON.parse(g),p.G.Zf=!0,c.G.Zf=!0,i.A()}if(e==H.y6){var b=r.add.SoLd.filterFX.v.filterFXList.v[t.index].v;b.enab.v=!b.enab.v,r.jc(i),i.A()}if(e==H.k2&&(r.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(t.a3a)),r.jc(i),i.A()),e==H.dh){var o=r.jk();o.AU=!o.AU}if(e==H.t7){var o=r.add.vmsk;o.AU=!o.AU}if(e==H.I8){for(var m=t.HL,a=0;a<m.length;a+=2){var x=m[a],h=x>=0?i.r[x]:i.VW[-1-x];h.add.vogk=JSON.parse(m[a+1]),v.P$.xc(h.add.vogk,h.add.vmsk),x>=0&&h._V(i)}i.A()}if(e==H.K6&&(r.add.artb=JSON.parse(t.ah$),i.A()),e==H.IB&&(i.K=t.la,i.Yq=t.HL.slice(0),i.oD=t.jt.slice(0),i.Vg=i.Ob=!0),e==H.IQ)for(var M=t.afv,a=0;a<M.length;a++)i.r[a].Qk=M[a];if(e==H.Pj&&(t.NA&&(i.p=t.NA),t.tp&&(i.K=t.tp[0]),i.mb=null,i.A(),i.wG(t.Q1)),e==H.cN&&(dt.T8.oW(i,r),t.h3&&dt.T8.je(i,r,t.h3),t.tp)){var S=t.tp[0];S==null?delete i.K:i.K=S}if(e==H.gk&&(dt.T8.oW(i,i.r[t.Fi]),dt.T8.je(i,i.r[t.src],t.g)),e==H.tN&&dt.T8.je(i,r,t.g),e==H.s4&&(r.yg(i).g=null,r.A(),i.A()),e==H.BI&&(r.yg(i).g=t.g,r.A(),i.A()),e==H.bj&&dt.T8.tg(i,t.kq,0),e==H.yN&&dt.T8.py(i,r,!0),e==H.aY&&(dt.T8.py(i,i.r[t.Fi],t.g.isEnabled),dt.T8.fA(i,i.r[t.src],t)),e==H.hy&&dt.T8.fA(i,r,t),e==H.Sc&&(i.ZT=JSON.parse(t.s6)),e==H.FW&&(i.name=t.wS),e==H.u$&&(r.uf(t.wS),t.a6X?r.add.lnsr=t.a6X:delete r.add.lnsr),e==H.FO)for(var a=0;a<t.r.length;a++)i.r[t.r[a]].add.lclr=t.alr[a];if(e==H.WF){for(var w=t.a1Y,a=0;a<t.Ev.length;a++){var h=i.r[t.Ev[a]],k=w[a];t.jK?C.Y2.ov(h,JSON.parse(JSON.stringify(k))):h.add.vstk=JSON.parse(JSON.stringify(k)),h.fe(i)}i.A()}e==H.IM&&(r.tC(t.Ub),r._V(i),i.A()),i.Ob=!0},dt.T8.prototype.oF=function(t,i){var e=t.e,r=i.r[t.n];if(i.Vf=!0,e==H.ps&&(i.add.lnk2.splice(i.add.lnk2.indexOf(t.GJ),1,t.XT),dt.T8.Fk(i,t.id,t.GJ.DW[1],t.XT.DW[1])),e==H.Eg&&(r.add.SoLd.Impr.v.classID=t.uB,r.Gy(i)),e==H.N1){for(var n=JSON.parse(t.Ev),a=0;a<n.length;a++)i.r[n[a]].sW=t.uB;i.A()}if(e==H.Ot){for(var n=JSON.parse(t.Ev),a=0;a<n.length;a++)i.r[n[a]].opacity=t.uB;i.A()}if(e==H.Lm)for(var n=JSON.parse(t.Ev),a=0;a<n.length;a++)i.r[n[a]].add.lspf=t.uB[a];if(e==H.t_){var s=t.a6z,l=t.x9;delete r.add[s[0]],l[0]!="----"&&(r.add[l[0]]=l[1])}if(e==H.Ib&&(r.add.iOpa=t.uB,i.A()),e==H.K7){for(var a=0;a<t.Ev.length;a++){var h=i.r[t.Ev[a]];h.vR(!h.UQ())}i.A()}if(e==H.kX){var o=r.jk();o.isEnabled=!o.isEnabled,r._V(i),i.A()}if(e==H.yV){var o=r.yg(i).g;o.isEnabled=!o.isEnabled,r.A(),i.A()}if(e==H.OT){var o=r.add.vmsk;o.isEnabled=!o.isEnabled,o.isEnabled?r.g&&(r.NY=r.g,r.g=null):r.NY?(r.g=r.NY,r.NY=null):r.g=null,r._V(i),i.A()}if(e==H.zO&&(r.rd=!r.rd,i.A()),e==H.r5&&(r.add.lmfx.masterFXSwitch.v=!r.add.lmfx.masterFXSwitch.v,r.G.Zf=!0,i.A()),e==H.Hl&&(r.add.SoLd.filterFX.v.enab.v=!r.add.SoLd.filterFX.v.enab.v,r.jc(i),i.A()),e==H.Dv){var f=t.index,u=r.add.lmfx[at.og[f[0]]].v[f[1]].v;u.enab.v=!u.enab.v,r.G.Zf=!0,i.A()}if(e==H.Fv){var p=i.r[t.ae9],c=i.r[t.a5o],d=t.ahh,g=t.a74;d==""?delete p.add.lmfx:p.add.lmfx=JSON.parse(d),g==""?delete c.add.lmfx:c.add.lmfx=JSON.parse(g),p.G.Zf=!0,c.G.Zf=!0,i.A()}if(e==H.y6){var b=r.add.SoLd.filterFX.v.filterFXList.v[t.index].v;b.enab.v=!b.enab.v,r.jc(i),i.A()}if(e==H.k2&&(r.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(t.a4Y)),r.jc(i),i.A()),e==H.dh){var o=r.jk();o.AU=!o.AU}if(e==H.t7){var o=r.add.vmsk;o.AU=!o.AU}if(e==H.I8){for(var m=t.KK,a=0;a<m.length;a+=2){var x=m[a],h=x>=0?i.r[x]:i.VW[-1-x];h.add.vogk=JSON.parse(m[a+1]),v.P$.xc(h.add.vogk,h.add.vmsk),x>=0&&h._V(i)}i.A()}if(e==H.K6&&(r.add.artb=JSON.parse(t.eR),i.A()),e==H.IB&&(i.K=t.Od,i.Yq=t.KK.slice(0),i.oD=t.JA.slice(0),i.Vg=i.Ob=!0),e==H.IQ)for(var M=t.acc,a=0;a<M.length;a++)i.r[a].Qk=M[a];if(e==H.Pj){for(var S=t.L_,w=0,k,a=0;a<S.length;a++){var h=S[a],T=h.add.lsct;T==Ci.Qi?w++:(T==Ci.lw||T==Ci.kE)&&w--,h.add.artb&&w!=0&&(k="Artboards can not be inside folders.")}if(k){i.history.pop(),i.xG--,alert(k);return}t.Vk&&(i.p=t.Vk),t.tp&&(i.K=t.tp[1]),i.mb=null,i.A(),i.wG(t.L_)}if(e==H.cN&&(t.h3&&dt.T8.oW(i,r),dt.T8.je(i,r,t.g),t.tp)){var L=t.tp[1];L==null?delete i.K:i.K=L}if(e==H.gk&&(dt.T8.oW(i,i.r[t.src]),dt.T8.je(i,i.r[t.Fi],t.g)),e==H.tN&&dt.T8.oW(i,r),e==H.s4&&(r.yg(i).g=t.g,r.kB=0,r.A(),i.A()),e==H.BI&&(r.yg(i).g=null,r.kB=0,r.A(),i.A()),e==H.bj&&dt.T8.tg(i,t.kq,1),e==H.yN&&dt.T8.fA(i,r,t),e==H.aY&&(dt.T8.py(i,i.r[t.src],t.g.isEnabled),dt.T8.fA(i,i.r[t.Fi],t)),e==H.hy&&dt.T8.py(i,r,t.g.isEnabled),e==H.Sc&&(i.ZT=JSON.parse(t.EB)),e==H.FW&&(i.name=t.gA),e==H.u$&&(r.uf(t.gA),t.ahG?r.add.lnsr=t.ahG:delete r.add.lnsr),e==H.FO)for(var a=0;a<t.r.length;a++)i.r[t.r[a]].add.lclr=t.abr[a];if(e==H.WF){for(var O=t.nd,a=0;a<t.Ev.length;a++){var h=i.r[t.Ev[a]],E=O[a];t.jK?C.Y2.ov(h,JSON.parse(JSON.stringify(E))):h.add.vstk=JSON.parse(JSON.stringify(E)),h.fe(i)}i.A()}e==H.IM&&(r.tC(t.uB),r._V(i),i.A()),i.Ob=!0},dt.T8.yR=function(t,i){for(var e=0,r=0;r<t.r.length;r++){var n=t.r[r].getName();if(n.startsWith(i)){var a=n.slice(i.length).trim(),s=parseInt(a);!isNaN(s)&&s+""==a&&(e=s)}}return e},dt.T8.tg=function(t,i,e){for(var r=0;r<i.length;r++){var n=i[r],a=t.r[n.XY];n.rZ&&(a.add.SoLd=JSON.parse(n.rZ[e])),n.DD&&(n.DD[1-e]!=null&&t.OW(n.DD[1-e]),n.DD[e]!=null?t.Bq(n.DD[e]):a.kB=0),a.Gy(t)}},dt.T8.I3=function(t,i){var e=t.R6,r=t.rect.clone();return e!=null&&(e.x!=i.Z||e.y!=i.h)&&(r.x=Math.floor((i.Z-r.Z)/2),r.y=Math.floor((i.h-r.h)/2)),r},dt.T8.oW=function(t,i){i.NY?i.NY=null:i.g=null,i._V(t),t.A(),i.kB=0},dt.T8.je=function(t,i,e){i.g?i.NY=e:i.g=e,i._V(t),t.A()},dt.T8.py=function(t,i,e){i.NY&&e?(i.g=i.NY,i.NY=null):i.g&&e&&(i.g=null),delete i.add.vogk,delete i.add.vstk,delete i.add.vmsk,i._V(t),i.yb=!1,t.mb=[],t.A()},dt.T8.fA=function(t,i,e){i.add.vogk=JSON.parse(e.P$),e.bW?i.add.vstk=JSON.parse(e.bW):delete i.add.vstk,i.add.vmsk=e.g.clone(),i.g&&i.add.vmsk.isEnabled&&(i.NY=i.g),i._V(t),i.yb=e.pK,t.mb=[t.r.indexOf(i)],t.QP=[],t.A()},dt.NO=function(){dt.Dg.call(this,C.FA),this.VA=null,this.OE=null,this.Tc=null,this.IW=[],this.Vj=null},dt.NO.prototype=new dt.Dg,dt.NO.prototype.XZ=function(t,i,e,r,n){var a=t.n;a==null&&(a=e.p[0]);var s=e.r[a],l=t.XN;if(this.VA==null&&(this.Tc=dt.NO.CX(e,s),this.VA=JSON.stringify(this.Tc),s.add.lmfx&&(this.OE=JSON.stringify(s.add.lmfx))),s.add.lmfx==null){s.add.lmfx=JSON.parse(at.default);for(var h=0;h<at.order.length;h++)s.add.lmfx[at.og[h]]={t:"VlLs",v:[]}}if(t.e=="scaleeffects"){if(t.C=="confirm"||t.C=="cancel"){this.XZ({e:t.C},i,e,r,n);return}s.add.lmfx=JSON.parse(this.OE),St.QE(s.add.lmfx,t.C/100)}else if(t.e=="changeprop"){var o=null;if(l!=0){var f=this.IW[l[0]];f==null&&(f=at.IW[l[0]]),f=JSON.parse(f);var u=s.add.lmfx[at.og[l[0]]].v;u[l[1]]==null&&(u[l[1]]={t:"Objc",v:f}),o=u[l[1]].v;for(var p in f)o[p]==null&&(o[p]=f[p])}t.e=="changeprop"&&(l==0?(this.Tc[t.lg].v=t.C,dt.NO.Jh(e,s,this.Tc)):t.lg=="lagl"?o.uglg&&o.uglg.v?(e.U9(t.C.val),this.Tc.a4i=e.Rp()):o[t.lg].v=t.C:t.lg=="Lald"?o.uglg.v?(e.Q3(t.C.val),this.Tc.aek=e.$p()):o[t.lg].v=t.C:(l[0]==3||l[0]==8)&&(t.lg=="Clr"||t.lg=="Grad")?(t.lg=="Clr"&&(o.Clr={t:"Objc",v:t.C},delete o.Grad),t.lg=="Grad"&&(o.Grad={t:"Objc",v:t.C},delete o.Clr)):o[t.lg].v=t.C,l!=0&&(this.IW[l[0]]=JSON.stringify(o))),l!=0&&o.Ptrn&&e.e6(St.tc(o.Ptrn.v,n.WB))}else if(t.e=="setstl"){var c=t.C.Lefx;c&&St.PB(c,e,n.WB),St.a5(t.C,s),this.Tc=dt.NO.CX(e,s)}else if(t.e=="st_dupsingle"){var d=s.add.lmfx[at.og[t.q_[0]]].v;if(d[t.q_[1]]==null)return;var g=JSON.parse(JSON.stringify(d[t.q_[1]]));d.splice(t.q_[1],0,g)}else if(t.e=="st_movsingle"){var b=t.q_[1],d=s.add.lmfx[at.og[t.q_[0]]].v;if(d[t.q_[1]]==null)return;var m=Math.max(0,Math.min(d.length-1,b+t.agj)),x=d[m];d[m]=d[b],d[b]=x}else if(t.e=="cancel")this.OE==null?delete s.add.lmfx:s.add.lmfx=JSON.parse(this.OE),dt.NO.Jh(e,s,JSON.parse(this.VA)),this.VA=null,this.OE=null;else if(t.e=="confirm"){var M=new ni([11,6],this);M.data={r:[a],eW:[this.OE],XH:[JSON.stringify(s.add.lmfx)],Qz:[this.VA],SP:[JSON.stringify(this.Tc)]},e.TX(M),this.VA=null,this.OE=null}else if(t.e=="st_copy")this.Vj=[this.VA,this.OE],this.VA=null,this.OE=null;else if(t.e=="st_paste"||t.e=="st_clear"){if(t.e=="st_paste"&&this.Vj==null)return;for(var S=t.n!=null?[t.n]:e.p.slice(0),w=[],k=[],T=[],L=[],h=0;h<S.length;h++){var s=e.r[S[h]],O=dt.NO.CX(e,s);if(w.push(s.add.lmfx?JSON.stringify(s.add.lmfx):null),T.push(JSON.stringify(O)),t.e=="st_paste")k.push(this.Vj[1]),L.push(this.Vj[0]);else{k.push(null),O.lrMd.v=0,O.Opct.v.val=100,O.iOpa.v.val=100,O.blIf={v:[]};for(var E=0;E<10;E++)O.blIf.v.push(0,0,255,255);L.push(JSON.stringify(O))}}var M=new ni([11,6],this);M.data={r:S,eW:w,XH:k,Qz:T,SP:L},this.oF(M.data,e),e.TX(M),this.VA=null,this.OE=null}else{var D=this.Tc,B=null;t.e=="st_delsingle"&&(B=JSON.parse(this.OE),B[at.og[t.q_[0]]].v.splice(t.q_[1],1),B=JSON.stringify(B)),B==null?delete s.add.lmfx:s.add.lmfx=JSON.parse(B),D!=null&&dt.NO.Jh(e,s,D);var M=new ni([11,6],this);M.data={r:[t.n],eW:[this.OE],XH:[B],Qz:[this.VA],SP:[JSON.stringify(D)]},e.TX(M),this.VA=null,this.OE=null}s.G.Zf=!0,e.Vf=!0,e.A()},dt.NO.CX=function(t,i){i.add.iOpa==null&&(i.add.iOpa=255),i.add.brst==null&&(i.add.brst=[1,1,1]);var e=i.fO()?["pass"].concat(ti.YA):ti.YA;return{lrMd:{v:e.indexOf(i.sW)},Opct:{v:{type:"#Prc",val:Math.round(i.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(i.add.iOpa*100/255)},t:"UntF"},blIf:{v:i.LL.slice(0)},brst:{v:i.add.brst},a4i:t.Rp(),aek:t.$p(),fO:i.fO()}},dt.NO.Jh=function(t,i,e){var r=i.fO()?["pass"].concat(ti.YA):ti.YA;i.sW=r[e.lrMd.v],i.opacity=Math.round(e.Opct.v.val*255/100),i.add.iOpa=Math.round(e.iOpa.v.val*255/100),i.LL=e.blIf.v.slice(0),i.add.brst=e.brst.v.slice(0),t.U9(e.a4i),t.Q3(e.aek)},dt.NO.prototype.tO=function(t,i){for(var e=0;e<t.r.length;e++){var r=i.r[t.r[e]],n=t.eW[e];n==null?delete r.add.lmfx:r.add.lmfx=JSON.parse(n),dt.NO.Jh(i,r,JSON.parse(t.Qz[e])),r.G.Zf=!0}i.Vf=!0,i.A()},dt.NO.prototype.oF=function(t,i){for(var e=0;e<t.r.length;e++){var r=i.r[t.r[e]],n=t.XH[e];n==null?delete r.add.lmfx:r.add.lmfx=JSON.parse(n),dt.NO.Jh(i,r,JSON.parse(t.SP[e])),r.G.Zf=!0}i.Vf=!0,i.A()},dt.ln=function(){dt.Dg.call(this,C.Jc)},dt.ln.prototype=new dt.Dg,dt.ln.prototype.XZ=function(t,i,e,r){var n=JSON.parse(JSON.stringify(e.e5)),a=JSON.parse(JSON.stringify(e.e5)),s=null,l=null,h=null,o=-1,f=!1;if(t.e=="delLC"){var u=dt.ln.vF(e.e5,t.XN),p=e.e5.lastAppliedComp?e.e5.lastAppliedComp.v:0;a.list.v.splice(u,1),p==t.XN&&delete a.lastAppliedComp,s="Delete Layer Comp"}if(t.e=="editLC"){var u=dt.ln.vF(e.e5,t.XN),c=a.list.v[u].v;if(t.gA!=null&&(c.Nm.v=t.gA),t.ahW!=null){var d=t.ahW,g=c.capturedInfo.v,b=g&(1<<d)-1;g=g>>d,(g&1)==1?g--:g++,c.capturedInfo.v=(g<<d)+b}s="Layer Comp properties"}if(t.e=="setLC"&&(dt.ln.VL(e),t.XN==0?delete a.lastAppliedComp:a.lastAppliedComp={t:"long",v:t.XN},s="Switch Layer Comp",f=!0),t.e=="updLC"&&(dt.ln.VL(e),l=dt.ln.akf(e,t.XN),h=dt.ln.H$(e,t.XN),a.lastAppliedComp={t:"long",v:t.XN},s="Update Layer Comp",o=t.XN,f=!0),t.e=="addLC"){dt.ln.VL(e);for(var m=1,x=0;x<a.list.v.length;x++)m=Math.max(m,a.list.v[x].v.compID.v)+1;m+=Math.floor(Math.random()*1e4);var M={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(a.list.v.length+1)},compID:{t:"long",v:m},capturedInfo:{t:"long",v:7}}};a.list.v.push(M),a.lastAppliedComp={t:"long",v:m},s="New Layer Comp";var S=dt.ln.H$(e,m);dt.ln.W6(e,S,m)}var w=new ni(s,this);w.data={abD:n,ajb:a,aln:l,alE:h,XN:o,U5:f},this.oF(w.data,e),e.TX(w)},dt.ln.prototype.oF=function(t,i){if(i.e5=t.ajb,i.Vf=!0,t.alE&&dt.ln.W6(i,t.alE,t.XN),t.U5){var e=i.e5.lastAppliedComp?i.e5.lastAppliedComp.v:0,r=dt.ln.vF(i.e5,e),n=r==-1?null:i.e5.list.v[r].v,a=n?n.capturedInfo.v:7;dt.ln.YB(i,e,a),i.A()}},dt.ln.prototype.tO=function(t,i){if(i.e5=t.abD,i.Vf=!0,t.aln&&dt.ln.W6(i,t.aln,t.XN),t.U5){var e=i.e5.lastAppliedComp?i.e5.lastAppliedComp.v:0,r=dt.ln.vF(i.e5,e),n=r==-1?null:i.e5.list.v[r].v,a=n?n.capturedInfo.v:7;dt.ln.YB(i,e,a),i.A()}},dt.ln.VL=function(t){if(!(t.e5.lastAppliedComp!=null||!t.Kg)){var i=dt.ln.H$(t,0);dt.ln.W6(t,i,0),t.Kg=!1}},dt.ln.SF=function(t,i,e){t.v.Hrzn.v+=i,t.v.Vrtc.v+=e},dt.ln.vF=function(t,i){for(var e=t.list.v,r=0;r<e.length;r++)if(e[r].v.compID.v==i)return r;return-1},dt.ln.a3i=function(t){var i=t.layerSettings.v,e=null;if(i.length!=0){var r="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),n=i[0].v;n.enab==null&&(n.enab={t:"bool",v:!0}),n.Ofst==null&&(n.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}});for(var a=0;a<i.length;a++){var s=i[a].v;if(e==null)e=JSON.parse(JSON.stringify(s));else for(var l=0;l<r.length;l++){var h=r[l];s[h]&&(e[h]=JSON.parse(JSON.stringify(s[h])))}i[a].v=JSON.parse(JSON.stringify(e))}}},dt.ln.Fz=function(t,i){for(var e=t.add.shmd.cmls,r=e.layerSettings.v,n=0;n<r.length;n++){var a=r[n].v,s=a.compList.v[0].v;if(s==i)return n}return-1},dt.ln.S0=function(t,i){var e=dt.ln.Fz(t,i);return e==-1?null:t.add.shmd.cmls.layerSettings.v[e].v},dt.ln.YB=function(t,i,e){for(var r=0;r<t.r.length;r++){var n=t.r[r],a=n.add.shmd.cmls;if(a!=null){var s=a.layerSettings.v,l=dt.ln.S0(n,i);if(l==null){n.vR(!1);continue}if((e&1)!=0&&(l.enab?n.vR(l.enab.v):n.vR(!0)),(e&2)!=0&&l.Ofst){var h=l.Ofst.v,o=n.G_(t),f=Math.round(h.Hrzn.v-o.x),u=Math.round(h.Vrtc.v-o.y);(f!=0||u!=0)&&C.qT.IR(t,[r],null,f,u)}if((e&4)!=0){if(l.Lefx){var p=JSON.parse(JSON.stringify(l.Lefx.v));pr.lm(p),JSON.stringify(p)!=JSON.stringify(n.add.lmfx)&&(n.add.lmfx=p,n.G.Zf=!0)}else delete n.add.lmfx;if(l.blendOptions){var c=l.blendOptions.v;c.Opct&&(n.opacity=Math.round(255*c.Opct.v.val/100)),c.Md&&(n.sW=n.add.lsct==Ci.Qi?"norm":ti.pT(c.Md.v.BlnM))}else n.opacity=255,n.sW=n.fO()?"pass":"norm"}}}},dt.ln.akf=function(t,i){for(var e={},r=0;r<t.r.length;r++){var n=t.r[r];n.add.shmd==null||n.add.shmd.cmls==null||(e["l"+n.add.lyid]=JSON.parse(JSON.stringify(dt.ln.S0(n,i))))}return e},dt.ln.H$=function(t,i){for(var e={},r=0;r<t.r.length;r++){var n=t.r[r],a=n.add.lyid;e["l"+a]=dt.ln.Ve(t,n,i)}return e},dt.ln.Ve=function(t,i,e){var r=i.add.shmd?i.add.shmd.cmls:null,n={classID:"null"},a=i.G_(t),s={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:a.x},Vrtc:{t:"long",v:a.y}}};return n.compList={t:"VlLs",v:[{t:"long",v:e}]},n.enab={t:"bool",v:i.UQ()},n.Ofst=JSON.parse(JSON.stringify(s)),n.FXRefPoint=JSON.parse(JSON.stringify(r&&r.origFXRefPoint?r.origFXRefPoint:s)),n.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:ti.Kl(i.sW)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*i.opacity/255}}}},i.add.vmsk&&(n.vectorMask={t:"Objc",v:{classID:"null"}},n.vectorMask.v.Ofst=JSON.parse(JSON.stringify(s))),i.add.lmfx&&(n.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(i.add.lmfx))},pr._k(n.Lefx.v)),n},dt.ln.agV=function(t,i){var e=i.add.lyid;i.add.shmd==null&&(i.add.shmd={}),i.add.shmd.cmls==null&&(i.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:e},layerSettings:{t:"VlLs",v:[{t:"Objc",v:dt.ln.Ve(t,i,0)}]}})},dt.ln.W6=function(t,i,e){for(var r=0;r<t.r.length;r++){var n=t.r[r],a=n.add.lyid;dt.ln.agV(t,n);var s=n.add.shmd.cmls,l=s.layerSettings.v,h=i["l"+a];h!=null&&(h={t:"Objc",v:JSON.parse(JSON.stringify(h))});var o=dt.ln.Fz(n,e);if(o==-1){if(h==null)continue;l.push(h)}else h==null?l.splice(o,1):l[o]=h}},dt.ln.vc=function(t,i){for(var e=0;e<t.r.length;e++){var r=t.r[e],n=r.add.lyid;if(!(r.add.shmd==null||r.add.shmd.cmls==null)){var a=r.G_(t),s=Math.round(a.x),l=Math.round(a.y);i||(s=-s,l=-l);var h=r.add.shmd.cmls,o=h.layerSettings.v;h.origFXRefPoint&&dt.ln.SF(h.origFXRefPoint,-s,-l);for(var f=0;f<o.length;f++){var u=o[f].v;dt.ln.SF(u.Ofst,s,l);var p=u.imageMask,c=u.vectorMask;p&&p.v.Ofst&&dt.ln.SF(p.v.Ofst,s,l),c&&c.v.Ofst&&dt.ln.SF(c.v.Ofst,s,l)}}}},dt.Dt=function(){dt.Dg.call(this,C.Vd),this.EB=null,this.G9=null},dt.Dt.prototype=new dt.Dg,dt.Dt.t8=function(t,i,e,r){r&&(i/=4);for(var n=0,a=0,s=255,l=0,h=0,o=255;a+t[n]<i;)a+=t[n],n++;for(;l+t[s]<i;)l+=t[s],s--;return r&&(n-=Math.round(t[n]/(e/32)),s+=Math.round(t[s]/(e/32)),n<0&&(h=Math.round(-n*255/(s-n))),s>255&&(o=255-Math.round((s-255)*255/(s-n)))),[Math.max(n,0),Math.min(s,255),h,o,100]},dt.Dt.prototype.XZ=function(t,i,e,r,n){var a=t.e;if(a=="auto"){for(var s=t.fN,l=dt.Dt.getData(e),h=0;h<l.length;h++){var o=l[h],f;if(!(s<3)){var u=Zt.tt("hue2");rr._j(u,0,[0,-100,0]),f=Vt.VM("hue2",u)}Vt.t5(f,o.Tr,o.BF,o.T)}dt.Dt.N_(e,l),dt.Dt.$Q(e,l,s<3?[4,16,s]:[19,7,0],this),e.A()}if(a=="edit_layer"&&this.abj(t,i,e,r),(a=="edit"||a=="confirm"||a=="cancel")&&this.pN(t,i,e,n,!0),a=="start"){if(e.p.length==0)return;var p=e.r[e.p[0]];if(p.add.SoLd&&p.kB<=0){var c=new z(y.E.H,!0);c.Q=C._q,c.data={e:"start",k9:t.MY},i.w(c);return}if(!e.vx(i,null,!0))return;if(K[t.MY]&&t.pl==null){e.p.length!=1&&alert("Will be applied to "+e.p.length+" layers.");var c=new z(y.E.L,!0);c.data={e:y.B.uH,W2:"afw_"+t.MY},i.w(c)}else this.pN({e:"edit",pl:t.pl,k9:t.MY},i,e,n),this.pN({e:"confirm",k9:t.MY},i,e,n)}},dt.Dt.prototype.abj=function(t,i,e,r){var n=t.e,a=e.p[0],s=e.r[a],l=Vt.get(s.add),h=JSON.parse(JSON.stringify(t.C)),o;for(var f in Vt.om)Vt.om[f]==l&&(h.classID=f);var u=e.history[e.xG];if(u&&u.Q==this&&u.data.Ub!=null&&u.data.n==a)o=u;else{var p=new z(y.E.QJ,!0),c={classID:"setd",null:Di.Pe("AdjL",!0),T:{t:"Objc",v:h}};p.data={Ke:!0,Bm:"set",w1:c},i.w(p);var o=new ni([6,39],this);o.data={n:a,Ub:s.add[l],uB:t.C,ay:c},e.TX(o)}o.data.uB=t.C,o.data.ay.T.v=h,this.oF(o.data,e)},dt.Dt.getData=function(t,i,e){for(var r=[],n=new et(0,0,t.Z,t.h),a=t.oD.length!=0?[-1-t.oD[0]]:t.p,s=0;s<a.length;s++){var l=a[s],h=l<0?null:t.r[l],o={n:l,qf:l<0?1:h.kB};r.push(o);var f=t.Yq[-1-l];0<=l&&(f=h.kB<=0?null:h.kB==1?h.jk():h.yg(t).g);var u=f?f.rect:h.rect;t.K?o.T=f!=null?t.K.rect.$X(n):t.K.rect.$X(u):o.T=i||f!=null?u.s7(n):u.clone(),e&&(o.T=e[s].T.clone());var p=o.T.M();o.Tr=v.R(p*4),f?C.gn.Jy(f.channel,f.rect,f.color,o.Tr,o.T):v.BP(h.buffer,u,o.Tr,o.T),o.BF=o.Tr.slice(0),t.K&&(o._b=v.R(p),v.Lj(t.K.channel,t.K.rect,o._b,o.T))}return r},dt.Dt.ab2=function(t,i,e){if(i==null)return i;var r=Vt.hA(t,i),n;if(r==-1)return i;var a=e.length>>>2,s=v.NC(e),l=.001*a;(r==0||r==2)&&(n=[[0,255,0,255,100],dt.Dt.t8(s[1],l,a,r==2),dt.Dt.t8(s[2],l,a,r==2),dt.Dt.t8(s[3],l,a,r==2)]),r==1&&(n=[dt.Dt.t8(s[0],l*.33,a,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]]);for(var h=Zt.tt("levl"),o=0;o<4;o++)Ke._j(h,o,n[o]);return h},dt.Dt.prototype.pN=function(t,i,e,r){if(this.EB==null&&(this.EB=dt.Dt.getData(e,null,t.k9=="fade"?e.a1().data:null)),t.e=="edit"){this.G9=[t.k9,t.pl];var n=this.EB[0],a=dt.Dt.ab2(t.k9,t.pl,n.Tr),s=Vt.VM(t.k9,a);if(t.k9=="fade"&&(s=t.pl),s!=null){for(var l=0;l<this.EB.length;l++){var h=this.EB[l];if(t.mw)v.Hk(h.Tr,h.BF);else if(t.k9=="fade"){var o=ti.pT(t.pl.Md.v.BlnM),f=t.pl.Opct.v.val/100,u=e.a1().data[l];if(v.Hk(u.Tr,h.BF),o=="norm")v.N.$e(h.Tr,h.T,h.BF,h.T,null,null,null,h.T,f);else{var p=St.jx();p.YU=!0;for(var l=0;l<u.Tr.length;l+=4)if(u.Tr[l+3]!=h.Tr[l+3]){p=null;break}v.N.DO(o,h.Tr,h.T,h.BF,h.T,h.T,f,p)}}else Vt.t5(s,h.Tr,h.BF,h.T)}dt.Dt.N_(e,this.EB)}}if(t.e=="cancel"&&(dt.Dt.SQ(e,this.EB),this.EB=null),t.e=="confirm"){var c=t.k9=="fade"?[2,11]:Vt.names[t.k9],d=Vt.hA(t.k9,this.G9[1]);d!=-1&&(c=[4,16,d]),dt.Dt.$Q(e,this.EB,c,this),this.EB=null,d==-1&&dt.Dt.s9(i,this.G9)}e.A()},dt.Dt.s9=function(t,i){var e=i[0],r=i[1],n,a;if(Vt.l6[e]&&(n=Vt.l6[e],K[e]&&(a=r)),Zt.l6[e]&&(n=Zt.l6[e],K[e]&&(a=r)),n!=null){var s=new z(y.E.QJ,!0);s.data={Ke:!0,Bm:n},a&&(a=JSON.parse(JSON.stringify(a)),a.classID="null",delete a.__name,s.data.w1=a),t.w(s)}},dt.Dt.SQ=function(t,i){dt.Dt.Cb(t,i)},dt.Dt.$Q=function(t,i,e,r){for(var n=0;n<i.length;n++){var a=i[n],s=t.r[a.n],l=a.n<0?t.Yq[-1-a.n]:a.qf<=0?null:a.qf==1?s.jk():s.yg(t).g;l?(l.HZ(),l.G2=!0,s&&s._V(t)):(s.HZ(),s.A()),delete a.BF,delete a._b}var h=new ni(e,r);h.data=i,t.TX(h),t.Vf=!0},dt.Dt.N_=function(t,i,e){for(var r=0;r<i.length;r++){var n=i[r],a=t.r[n.n],s=e?n.Tr:n.BF,l=n.T;if(n.qf==0)a.extend(l),n._b?(v.BP(n.Tr,l,a.buffer,a.rect),v.N.$e(s,l,a.buffer,a.rect,n._b,l,0,l,1)):v.BP(s,l,a.buffer,a.rect);else{var h=n.n<0?t.Yq[-1-n.n]:n.qf==1?a.jk():a.yg(t).g;if(h.extend(l),n._b){var o=v.R(l.M()*4);v.Hk(n.Tr,o),v.N.$e(s,l,o,l,n._b,l,0,l,1),C.gn.uF(o,l,h)}else C.gn.uF(s,l,h);h.G2=!0,a&&a._V(t)}a&&a.A()}e||dt.Dt.Gh(t,i)},dt.Dt.Cb=function(t,i){for(var e=0;e<i.length;e++){var r=i[e],n=t.r[r.n],a=r.T,s=v.R(a.M()*4);if(r.qf==0)v.BP(n.buffer,n.rect,s,a),n.extend(a),v.BP(r.Tr,a,n.buffer,n.rect),n.HZ();else{var l=r.n<0?t.Yq[-1-r.n]:r.qf==1?n.jk():n.yg(t).g;C.gn.Jy(l.channel,l.rect,l.color,s,a),l.extend(a),C.gn.uF(r.Tr,a,l),l.HZ(),l.G2=!0,n&&n._V(t)}r.Tr=s,n&&n.A()}t.Vf=!0},dt.Dt.Gh=function(t,i){var e=dt.Dt.Uv(t),r=~e;if(e!=16777215){for(var n=0;n<i.length;n++){var a=i[n],s=t.r[a.n],l=a.T;if(a.qf==0){s.extend(l);for(var h=l.x-s.rect.x,o=l.y-s.rect.y,f=s.rect.Z,u=new Uint32Array(a.Tr.buffer),p=new Uint32Array(s.buffer.buffer),c=0;c<l.h;c++)for(var d=0;d<l.Z;d++){var g=c*l.Z+d,b=(c+o)*f+(d+h);p[b]=p[b]&e|u[g]&r}s.HZ(),s.A()}}t.A()}},dt.Dt.Uv=function(t){var i=t.a.qa;return i[2]*16711680|i[1]*65280|i[0]*255},dt.Dt.prototype.tO=function(t,i){var e=i.r[t.n];t.Ub!=null?e.add[Vt.get(e.add)]=t.Ub:dt.Dt.Cb(i,t),i.A()},dt.Dt.prototype.oF=function(t,i){var e=i.r[t.n];t.Ub!=null?e.add[Vt.get(e.add)]=t.uB:dt.Dt.Cb(i,t),i.A()},dt.Fr=function(){dt.Dg.call(this,C._q),this.EB=null,this.S$=null,this.e=null,this.G9=null},dt.Fr.prototype=new dt.Dg,dt.Fr.prototype.XZ=function(t,i,e,r,n){if(t.e=="start"){if(e.p.length==0)return;var a=e.r[e.p[0]];if(!(a.add.SoLd&&a.kB<=0)){if(!e.vx(i,null,!0))return}var s=t.k9;if((K[s]||Zt.lt[s])&&t.pl==null){e.p.length!=1&&alert("Will be applied to "+e.p.length+" layers.");var l=new z(y.E.L,!0);l.data=dt.Fr.Dl(s,this.CN(e,s)),i.w(l)}else{var h={e:"edit",k9:s,pl:t.pl,mE:this.CN(e)};this.XZ(h,i,e,r,n),h.e="confirm",delete h.pl,this.XZ(h,i,e,r,n)}}if((t.e=="edit"||t.e=="cancel"||t.e=="confirm")&&(t.e=="edit"&&(this.G9=[t.k9,t.pl]),t.mE?this.a2r(t,e,n):this.ac6(t,i,e,n)),t.e=="applylast"&&this.G9!=null){var h={e:"edit",k9:this.G9[0],pl:this.G9[1],mE:this.CN(e)};this.XZ(h,i,e,r,n),h.e="confirm",delete h.pl,this.XZ(h,i,e,r,n)}},dt.Fr.Dl=function(t,i){var e=Zt.lt[t];return e?{e:y.B.MR,Q:e,iF:{mE:i}}:{e:y.B.uH,W2:"afw_"+t,mE:i}},dt.Fr.prototype.CN=function(t,i){var e=t.r[t.p[0]],r;if(e.add.SoLd&&e.kB<=0&&(r={n:t.p[0],index:0},e.add.SoLd.filterFX!=null)){var n=e.add.SoLd.filterFX.v.filterFXList.v;r.index=n.length;for(var a=0;a<n.length;a++)Zt.l$(n[a].v)==i&&Zt.lt[i]&&(r.index=a)}return r},dt.Fr.prototype.a2r=function(t,i,e){var r=i.r[t.mE.n],n=t.k9;if(t.e=="edit"){if(this.e==null){var a=Zt.names[n];a==null&&(a=Vt.names[n]),this.e=new ni(a,this),this.e.data={mE:t.mE,a0h:JSON.parse(JSON.stringify(r.add.SoLd))}}r.gO()||(r.add.SoLd.filterFX=Zt.U$(),this.e.data.DD=Pt.eg(r.add.SoLd.placed.v),i.Bq(this.e.data.DD),r.Gy(i));var s=r.add.SoLd.filterFX.v.filterFXList.v;s[t.mE.index]==null&&s.push(Zt.Sb(n,e)),t.pl&&(s[t.mE.index].v.enab.v=t.mw!=!0,s[t.mE.index].v.Fltr.v=t.pl),this.e.data.agB=JSON.parse(JSON.stringify(r.add.SoLd)),this.oF(this.e.data,i)}t.e=="cancel"&&(this.e&&this.tO(this.e.data,i),this.e=null),t.e=="confirm"&&(this.e&&i.TX(this.e),this.e=null)},dt.Fr.prototype.qS=function(t){return{U:t>>>16,S:t>>>8&255,i:t&255}},dt.Fr.prototype.ac6=function(t,i,e,r){if(this.EB==null){var n=Zt.Oe(t.k9,t.pl);this.EB=dt.Dt.getData(e,n.x!=0||n.y!=0)}if(t.e=="edit"){var a=JSON.stringify(t.pl);if((t.pl==null||a!=this.S$)&&t.mw!=!0)for(var s=0;s<this.EB.length;s++){var l=this.EB[s],h={rect:l.T,buffer:l.Tr},o={rect:l.T,buffer:l.BF};Zt.t5(t.k9,h,t.pl,this.qS(r.GY),this.qS(r.Ty),o,[e.add.lnk2?e.add.lnk2:[],e.r[e.p[0]].jk(),e.Yq]),this.S$=a}dt.Dt.N_(e,this.EB,t.mw)}t.e=="cancel"&&(dt.Dt.SQ(e,this.EB),this.EB=null,this.S$=null),t.e=="confirm"&&(dt.Dt.$Q(e,this.EB,Zt.names[t.k9],this),this.EB=null,this.S$=null,dt.Dt.s9(i,this.G9)),e.A(),e.Vf=!0},dt.Fr.prototype.tO=function(t,i){if(t.mE){var e=i.r[t.mE.n];t.DD&&i.OW(t.DD),e.add.SoLd=JSON.parse(JSON.stringify(t.a0h)),e.gO()?e.jc(i):(e.Gy(i),e.kB=0)}else dt.Dt.Cb(i,t);i.A(),i.Vf=!0},dt.Fr.prototype.oF=function(t,i){if(t.mE){var e=i.r[t.mE.n];t.DD&&i.Bq(t.DD),e.add.SoLd=JSON.parse(JSON.stringify(t.agB)),e.gO()?e.jc(i):e.Gy(i),e.dL()||(e.ix+=32)}else dt.Dt.Cb(i,t);i.A(),i.Vf=!0};var ut={oc:"0",Sm:"1",uw:"2",wj:"3",Ym:"4",AT:"5",jq:"6",Mg:"7",H:"8",o8:"8.5",rn:"8.8",yE:"9",Du:"10",Ol:"11",l2:"12",Bh:"13",SO:"14",mj:"15",Io:"21",td:"22",Kw:"23",HI:"23.0",gb:"23.1",tr:"23.2",t4:"23.3",nn:"23.4",qk:"23.5",KZ:"23.6",$b:"30",GV:"31",Mu:"40",z_:"41",gq:"42"};ut.Vv={},ut.Vv[ut.Sm]=["abr","brushes",Dn,[9,3]],ut.Vv[ut.uw]=["grd","gradients",Ua,[12,37]],ut.Vv[ut.wj]=["shc","contours",Yl,[12,21]],ut.Vv[ut.Ym]=["asl","styles",yl,[12,22]],ut.Vv[ut.AT]=["pat","patterns",Ye,[12,62]],ut.Vv[ut.jq]=["csh","shapes",qr,[12,77]],ut.Vv[ut.Mg]=["aco","swatches",yn,[9,8]],ut.Vv[ut.H]=["atn","actions",da,[9,9]],ut.Vv[ut.o8]=["tpl","tpresets",gl,[9,12]],ut.Vv[ut.rn]=["icc","profiles",Mn,"ICCs"];function ni(t,i,e){e==null&&(e=!1),this.name=t,this.Q=i,this.vb=e,this.data=null}var Di={};Di.Pe=function(t,i){var e={t:"Clss",v:{classID:t}};return i&&(e={t:"Enmr",v:{classID:t,typeID:"Ordn",enum:"Trgt"}}),{t:"obj ",v:[e]}},Di.JK=function(t,i){var e={classID:"Lyr"};return e[t]=i,{Bm:"set",w1:{classID:"null",null:Di.Pe("Lyr",!0),T:{t:"Objc",v:e}}}},Di.a2H=function(t,i,e,r,n){for(var a=new z(y.E.QJ,!0),s=[],l=0,h=Di.Mj(i,e,r,s);s.length!=0;){var o=s.pop();if(l++,!!o.Y)if(o.Bm=="conditional"){var f=t.r[t.p[0]],u=o.w1.null.v.Cndt,p=!1;u=="Bckg"?p=!1:(u=="Pxel"&&t.FD(!1)||u=="Adjs"&&Vt.get(f.add)||u=="Shp"&&f.add.vogk||u=="Grup"&&f.fO())&&(p=!0);var c=o.w1.then.v;p&&Di.Mj(i,c[0].v.val,c[1].v.val,s)}else if(o.Bm=="stop")if(o.w1.Cntn&&o.w1.Cntn.v==!0)window.confirm(o.w1.Msge.v);else{alert(o.w1.Msge.v);break}else a.data={Bm:o.Bm,w1:o.w1},n.w(a)}},Di.Mj=function(t,i,e,r){for(var n,a=0;a<t.length;a++)if(t[a].tP==e)for(var s=t[a].xX,l=0;l<s.length;l++)s[l].tP==i&&(n=s[l].xX);for(var h=n.length,a=0;a<h;a++)r.push(n[h-1-a])},Di.adU=function(t){var i=t.Bm,e=t.w1,r,n,a,s,l,h;e&&e.null&&(r=e.null.v[0]),e&&r==null&&e.At&&(r=e.At.v[0]),r&&r.t=="obj "&&(r=r.v[0]);var o=r?r.v.classID:null,f=["purge"];if(f.indexOf(i)!=-1)return i[0].toUpperCase()+i.slice(1);h=Vt.l6;for(n in h)h[n]==i&&(a=n);h=Zt.l6;for(n in h)h[n]==i&&(s=n);h=$i.l6;for(n in h)h[n]==i&&(l=n);if(a){var u=Vt.hA(a,e);return u!=-1?[4,16,u]:Vt.names[a]}if(s)return Zt.names[s];if(l)return $i.names[l];var p=Di.tY;if(i=="make"){if(r){if(o=="AdjL")return[6,1];if(o=="layerSection")return[6,9];if(o=="Lyr")return[6,13];if(o=="Chnl"&&r.v.enum=="Msk")return[6,2];if(o=="contentLayer")return[6,48,1];if(o=="BckL")return"Make Background Layer";if(o=="Path")return"Make Path";if(o=="TxLr")return"Make Text Layer"}if(e.Nw){if(o=e.Nw.v.classID,o=="Dcmn")return[11,7];if(o=="Chnl"||o=="SCch")return"New Channel"}}else if(i=="select"){if(o=="Chnl")return"Select "+(r.v.enum=="Msk"?"Mask ":"")+"Channel";if(o=="Mn")return'Select Panel "'+r.v.enum+'"';if(o=="Lyr")return'Select Layer "'+r.v.val+'"'}else if(p[i]&&o=="Chnl"){var c=r.v.keyID=="fsel";return p[i]+" "+(c?"Selection":"Channel")}else if(i=="set"){if(o=="Lyr")return"Set Current Layer";if(o=="AdjL")return[6,39];if(o=="contentLayer")return[6,48,2];if(o=="Prpr")return[11,6];if(o=="Clr")return"Set "+(r.v.keyID=="FrgC"?"Foreground":"Background")+" color";console.log(o)}else if(i=="move"){if(o=="Lyr")return"Move Layer"}else if(i=="show"||i=="hide"){var d="";return o=="Lyr"&&+"Layer",o=="Chnl"&&+"Channel",(i=="show"?"Show":"Hide")+" "+d}else if(i=="reset"){if(o=="Clr")return"Reset Colors"}else if(i=="exchange"){if(o=="Clr")return[22,7,0]}else{if(i=="rotateEventEnum")return[2,5];if(i=="flip"){var g=e.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,g?2:3]]}}if(o=="Chnl"){if(i=="duplicate")return r.v.keyID=="fsel"?"Selection to Channel":"Duplicate Channel";if(i=="delete")return"Delete Channel"}var b={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],transform:[10,16],delete:e?[6,31]:[2,2],align:[20,4,0],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},m=b[i];return m==null&&(m=Di.qE[i]),m||i},Di.qE={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]},Di.tY={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"},Di.af4=function(t,i,e,r){var n=t.Bm,a=t.w1,s=new z(y.E.H,!0),l,h,o,f,u,p;s.Q=C.xC;var c=new z(y.E.L,!0),d=["purge","updatePlacedLayer"];if(d.indexOf(n)==-1){u=Vt.l6;for(l in u)u[l]==n&&(h=l);u=Zt.l6;for(l in u)u[l]==n&&(o=l);u=$i.l6;for(l in u)u[l]==n&&(f=l);if(h)s.Q=C.Vd,s.data={e:"start",MY:h,pl:a};else if(o)s.Q=C._q,s.data={e:"start",k9:o,pl:a};else if(f)s.Q=C._q,s.data={e:"start",k9:"GEfc",pl:a};else if(n=="imageSize"||n=="canvasSize"||n=="revealAll"||n=="trim")s.Q=C.Uj,s.data={e:"fromAction",WR:t};else if(n=="fill"||n=="delete"&&a==null)s.Q=C.Sm,s.data={e:"fromAction",WR:t};else if(n=="colorRange"){var g=a.Mnm.v,b=a.Mxm.v;s.Q=C.j1,s.data={e:"crange",c7:{Ov:g.Lmnc.v,m:g.A.v,i:g.B.v},Aa:{Ov:b.Lmnc.v,m:b.A.v,i:b.B.v},aI:a.Fzns.v/200}}else(Di.qE[n]||Di.tY[n]&&(a.With&&a.With.v[0].v.keyID=="fsel"||a.From&&a.From.v[0].v.keyID=="fsel"||a.null&&a.null.v[0].v.keyID=="fsel"||a.T.v[0]&&a.T.v[0].v.keyID=="fsel"))&&(s.Q=C.j1,s.data={e:"fromAction",WR:t});var m={copyToLayer:H.qZ,mergeLayersNew:r&&r.p.length==1?H.SG:H.FI,rasterizeLayer:H.Bo,mergeVisible:H.iQ,flattenImage:H.ck,newPlacedLayer:H.eV};if(m[n]&&(s.data={e:m[n],w1:a}),s.data){i.w(s);return}if(n=="desaturate"){s.Q=C.Vd,s.data={e:"auto",fN:3},r&&r.r[r.p[0]].add.SoLd==null&&i.w(s);return}if(n=="close"){a.Svng.v.YsN=="Ys"&&(c.data={e:y.B.tG},i.w(c)),c.data={e:y.B.vz,Fe:r},i.w(c);return}var m={placedLayerEditContents:y.B.At,copyEvent:y.B.c_,paste:y.B.bx};if(m[n]&&(c.data={e:m[n]}),c.data){i.w(c);return}if(a.null||a.At?p=(a.null?a.null:a.At).v:p=[{t:"----",v:a}],p[0].t=="obj "){if(p.length!=1)throw"e";p=p[0].v}for(var x=0;x<p.length;x++){var M=p[x],S=M.v.classID;if(s.data=null,n=="make")if(a.null==null&&a.Nw&&(S=a.Nw.v.classID),S=="AdjL")s.data={e:H.uv,w1:a};else if(S=="layerSection")s.data={e:H.$t},a.Usng&&(s.data.gA=a.Usng.v.Nm.v);else if(S=="Lyr")a.Usng&&a.Usng.v.length==2?s.data={e:H.eH}:(s.data={e:H.Nm},a.Usng&&(s.data.gA=a.Usng.v.Nm.v));else if(S=="Chnl"&&M.v.enum=="Msk")s.data={e:H.cN,wi:a.Usng.v.UsrM};else if(S=="Chnl"||S=="SCch")s.data={e:H.IB,mQ:"fromAction",C:t};else if(S=="contentLayer")s.data={e:H.F0,w1:a};else if(S=="BckL"){r.r[r.p[0]].a5u();continue}else if(S=="Dcmn"){var w=a.Nw.v;c.data={e:y.B.qD,EA:Pt.akv(w,e)}}else if(S=="Ptrn")c.data={e:y.B.kj,S9:0};else if(S=="Path")s.Q=C.lL,s.data={e:"pathedit",mQ:"fromsel"};else if(S=="TxLr")s.Q=C.OX,s.data={e:"fromAction",WR:t};else throw console.log(n,S,a),"e";else if(n=="select")if(S=="Lyr"){var k=a.selectionModifier,T=k?k.v.selectionModifierType:null,L=Di.iv(r,M);s.data={e:H.Tq,n:L,akM:T?["addToSelection","addToSelectionContinuous"].indexOf(T):null,wH:0,a6x:!0}}else S=="Chnl"&&(s.data={e:H.Tq,n:L,wH:1});else if((n=="set"||n=="reset"||n=="exchange")&&S=="Clr"){if(c.data={e:y.B.Sl,S9:ut.Io,mQ:n=="reset"?3:2},n=="set"){c.data.mQ=M.v.keyID=="FrgC"?0:1;var O=v.j.T6(a.T.v);c.data.C=O.U<<16|O.S<<8|O.i}}else if(n=="set")if(S=="AdjL"){var E=a.T.v.classID;E=Vt.om[E],s.Q=C.Vd,E&&(s.data={e:"edit_layer",C:a.T.v})}else if(S=="Lyr"){var D=a.T.v,L=Di.iv(r,M);if(D.Nm)s.data={e:H.u$,name:D.Nm.v};else if(D.Opct)s.data={e:H.Ot,uB:Math.round(D.Opct.v.val*255/100)};else if(D.fillOpacity)s.data={e:H.Ib,uB:Math.round(D.fillOpacity.v.val*255/100)};else if(D.Md)s.data={e:H.N1,uB:ti.zn.indexOf(D.Md.v.BlnM)};else if(D.Usrs)s.data={e:H.dh,n:L};else if(D.Blnd)s.Q=C.FA,s.data={e:"setstl",n:L,C:{blendOptions:{t:"objc",v:D}}},i.w(s),s.data={e:"confirm",n:L};else if(D.Clr){var B={Ylw:3}[D.Clr.v.Clr];if(B==null)throw"e";s.data={e:H.FO,ait:B}}else{if(p[0].t=="prop")continue;throw console.log(a),"e"}var I=r.r[L];I.a4z()}else if(S=="Prpr"){var D=JSON.parse(JSON.stringify(a.T.v));if(M.v.keyID=="TxtS"){var L=Di.iv(r,a.null.v[1]),I=r.r[L],N=I.add.TySh,V=JSON.parse(JSON.stringify(N.MF)),j=lt.jn(V),R=lt.lW(V,0,j.length-2);D.Undl&&D.Undl.v.Undl=="underlineOnLeftInVertical"&&(R.dS.Underline=!0),lt.Ji(V,0,j.length-1,R),s.Q=C.OX,s.data={e:"newED",vS:L,e1:V},x=1e9}else{for(var G in D)D[G].v&&(G=="Scl"&&(D[G].v.val=100),D[G].v.TrnS&&D[G].v.TrnS.v.Crv==null&&(D[G].v.TrnS=JSON.parse(at.IW[9]).TrnS));pr.lm(D),D.masterFXSwitch==null&&(D.masterFXSwitch={t:"bool",v:!0});var L=Di.iv(r,a.null.v[1]);s.Q=C.FA,s.data={e:"setstl",n:L,C:{Lefx:{t:"objc",v:D}}},i.w(s),s.data={e:"confirm",n:L}}}else if(S=="contentLayer"){var L=Di.iv(r,M),D=a.T.v;D.classID=="shapeStyle"&&(D=D.FlCn.v);var Z={solidColorLayer:0,gradientLayer:1,patternLayer:2}[D.classID],o=JSON.parse(JSON.stringify(at._G[Z]));dt.T8.CR(D,o,Z),s.data={e:H.WF,Ev:[L],jK:!0,C:{d1:Z+1,qA:o}}}else throw console.log(M,a),S;else if(n=="move"){if(S=="Lyr"){var D=a.T.v;if(D.classID=="Ofst")s.data={e:"trsl",a8t:D.Hrzn.v.val,a24:D.Vrtc.v.val},s.Q=C.fb;else{var _,U;if(D[0].t=="Enmr")if(D[0].v.enum=="Frnt")U=0;else if(D[0].v.enum=="Prvs")U=2;else if(D[0].v.enum=="Back")U=3;else throw"e";else _=D[0].v.val;s.data={e:H.Aj,target:_,mQ:U,a2e:a.Dplc?a.Dplc.v:!1}}}}else if(n=="groupEvent")s.data={e:H.zO};else if(n=="show"||n=="hide")if(S=="Lyr"){var L=Di.iv(r,M);if(L==-1)continue;var Y=r.r[L].UQ();if(n=="show"&&Y||n=="hide"&&!Y)continue;s.data={e:H.K7,n:L}}else S=="Chnl"&&(s.data={e:H.IB,mQ:"fromAction",C:t});else if(n=="rotateEventEnum"){s.Q=C.Uj;var $=a.Angl.v.val;s.data={e:"rot",tP:[2,5],C:-$*Math.PI/180}}else if(n=="flip"){s.Q=C.Uj;var P=a.Axis.v.Ornt=="Hrzn",tt=P?new st(-1,1):new st(1,-1);s.data={e:"scl",tP:[[2,6],[22,4,P?2:3]],C:tt}}else if(n=="transform"){var X=1,ht=1,F=0,J=0,Q=0,rt=0,it=0;if(a.Wdth&&(X=a.Wdth.v.val/100),a.Hght&&(ht=a.Hght.v.val/100),a.Skew){var nt=a.Skew.v;F=nt.Hrzn.v.val,J=nt.Vrtc.v.val}if(a.Ofst){var ot=a.Ofst.v;rt=ot.Hrzn.v.val,it=ot.Vrtc.v.val}a.Angl&&(Q=a.Angl.v.val);var pt=new Et;pt.concat(new Et(X,X*Math.tan(J*Math.PI/180),ht*Math.tan(F*Math.PI/180),ht,0,0)),pt.rotate(-Q*Math.PI/180),pt.translate(rt,it);var yt={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[a.FTcs.v.QCSt];if(yt==null)throw a.FTcs.v.QCSt;var L=a.null?Di.iv(r,M):null;s.Q=C.DV,s.data={e:"mat",cX:yt,C:pt,n:L}}else if(S=="Chnl")s.data={e:H.IB,mQ:"fromAction",C:t};else if(n=="duplicate")s.data={e:H.xm,gA:a.Nm?a.Nm.v:null};else if(n=="delete")s.data={e:H.R0};else if(n=="align")if(a.Aply&&a.Aply.v.projection=="Auto")s.Q=C.Uj,s.data={e:"auto-align"};else{s.Q=C.fb;var h={AdLf:0}[a.Usng.v.ADSt];if(h==null)throw"e";s.data={e:"algn",C:h}}if(s.data)i.w(s);else if(c.data)i.w(c);else throw console.log(t),alert('Unknown action "'+n+'"'),"e"}}},Di.iv=function(t,i){var e=i.t,r=-1;if(e=="name"){for(var n=i.v.val,r=-1,a=0;a<t.r.length;a++)if(t.r[a].getName()==n){r=a;break}}return e=="Enmr"&&t.p.length!=0&&(r=t.p[0]),e=="Enmr"&&i.v.enum=="Frwr"&&(r=t.p[0]-1),e=="prop"&&i.v.keyID=="Bckg"&&(r=0),r};var Vt={};Vt.get=function(t){for(var i in Vt.names)if(t[i]!=null)return i;return null},Vt.VM=function(t,i){var e=Vt.vo,r;if(t=="brit"){var n=i.Brgh?i.Brgh.v:0,a=i.Cntr?i.Cntr.v:0,s=i.useLegacy?i.useLegacy.v:!1;if(s){var l=n/255,h=1+a/100;h>1&&(h=1+Math.tan(Math.PI/2*a/101));for(var o=(1-h)/2,f=v.t1.$_(l,l,l),u=[h,0,0,o,0,h,0,o,0,0,h,o,0,0,0,1],p=v.t1.multiply(f,u),c=new v._B(256),d=0;d<256;d++)c.U[d]=d;v.t1.transform(c,c,p),r={type:e.u1,KW:c.U,mf:c.U,Si:c.U,Ak:!1,qi:!1}}else{let bn=function(Ti,lr){for(var qe=[],ir=3,de=0;de<ir+1;de++)qe.push(v.JH.Rn(de/ir*255,de/ir*255,!0));return qe[1].v.Hrzn.v=130-Ti*26,qe[1].v.Vrtc.v=130+Ti*51,qe[2].v.Hrzn.v=233-Ti*48,qe[2].v.Vrtc.v=233+Ti*10,v.JH.QV(qe,lr)};for(var Er=bn,g=1024,b=-30+60*(a+100)/200,m=[],d=0;d<4;d++)m.push(v.JH.Rn(d/3*255,d/3*255,!0));m[1].v.Hrzn.v=64,m[1].v.Vrtc.v=64-b,m[2].v.Hrzn.v=128+64,m[2].v.Vrtc.v=128+64+b,m.sort(function(Ti,lr){return Ti.v.Hrzn.v-lr.v.Hrzn.v});var x=v.JH.QV(m,g),M=bn(Math.abs(n)/100,g);if(n<0){for(var S=[],w=1/g,d=0;d<g;d++){for(var k=d*w,T=d;M[T]>k&&T>1;)T--;S[d]=T*w}M=S}for(var L=new Uint8Array(g),d=0;d<g;d++){var O=Math.round((g-1)*M[d]);L[d]=Math.round(255*x[O])}r={type:e.u1,KW:L,mf:L,Si:L,Ak:!1,qi:!1}}}if(t=="levl"){for(var E=[],D,B,f,I,N,V,d=0;d<4;d++)E.push(Ke.Yl(i,d));D=-E[0][0]/255,B=1/(E[0][1]/255-E[0][0]/255),f=v.t1.multiply(v.t1.$O(B,B,B),v.t1.$_(D,D,D)),I=v.t1.$O(1/(E[1][1]/255-E[1][0]/255),1/(E[2][1]/255-E[2][0]/255),1/(E[3][1]/255-E[3][0]/255)),N=v.t1.$_(-E[1][0]/255,-E[2][0]/255,-E[3][0]/255),V=v.t1.multiply(I,N);for(var L=new v._B(256),d=0;d<256;d++)L.U[d]=L.S[d]=L.i[d]=d;var j=1/(E[0][4]/100),R=1/(E[1][4]/100),G=1/(E[2][4]/100),Z=1/(E[3][4]/100);v.t1.transform(L,L,V);for(var d=0;d<256;d++)L.U[d]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.U[d]/255,R)))),L.S[d]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.S[d]/255,G)))),L.i[d]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.i[d]/255,Z))));v.t1.transform(L,L,f);for(var d=0;d<256;d++)L.U[d]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.U[d]/255,j)))),L.S[d]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.S[d]/255,j)))),L.i[d]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.i[d]/255,j))));D=E[0][2]/255,B=E[0][3]/255-E[0][2]/255,f=v.t1.multiply(v.t1.$_(D,D,D),v.t1.$O(B,B,B)),I=v.t1.$O(E[1][3]/255-E[1][2]/255,E[2][3]/255-E[2][2]/255,E[3][3]/255-E[3][2]/255),N=v.t1.$_(E[1][2]/255,E[2][2]/255,E[3][2]/255),V=v.t1.multiply(N,I),v.t1.transform(L,L,v.t1.multiply(f,V)),r={type:e.u1,KW:L.U,mf:L.S,Si:L.i,Ak:!1,qi:!1}}if(t=="curv"){var _=Ce.Yl(i,0).length==256?1:0,U=[];if(_==0)for(var Y=v.JH.AQ(Ce.Yl(i,0),256),d=1;d<4;d++){var $=v.JH.AQ(Ce.Yl(i,d),256);U.push(v.JH.OY($,Y))}else{for(var P=[],d=0;d<4;d++){var tt=new Uint8Array(256);P.push(tt);for(var X=Ce.Yl(i,d),T=0;T<256;T++)tt[T]=X[T]}for(var d=1;d<4;d++)U.push(v.JH.OY(P[d],P[0]))}r={type:e.u1,KW:U[0],mf:U[1],Si:U[2],Ak:!1,qi:!1}}if(t=="expA"){for(var ht=i.Exps.v,F=i.Ofst.v,J=i.gammaCorrection.v,L=new Uint8Array(256),d=0;d<256;d++){var i=d/255,Q=Math.pow(Math.abs(F),1/(Math.PI/2));F>0?(i=Math.max(F/Math.E,i),i=i*Math.exp(F/1.75+ht/Math.PI),i=(1-Q)*i+Q*1):(i=i*Math.exp(-F*1.75+ht/Math.PI),i=i+-Q*1.14),i=Math.pow(i,1/J),i=Math.max(0,Math.min(1,i)),L[d]=Math.round(i*255)}r={type:e.u1,KW:L,mf:L,Si:L,Ak:!1,qi:!1}}if(t=="vibA"&&(r={type:e.tn,S9:[i.vibrance?i.vibrance.v:0,i.Strt?i.Strt.v:0]}),t=="hue2"){for(var rt=[],it=[],nt=[],ot=i.Clrz?i.Clrz.v:!1,d=0;d<256;d++)rt[d]=d/255,it[d]=0,nt[d]=0;var pt=rr.Yl(i,0),yt=Vt.GM(pt[1]/100);if(ot)for(var ct=pt[0]/360,d=0;d<256;d++)rt[d]=ct,it[d]=yt;else{for(var d=0;d<256;d++){var vt=rt[d],wt=it[d];rt[d]+=pt[0]/360;for(var T=0;T<6;T++){for(var Mt=rr.Yl(i,T+1),Ct=Mt.qh,gt=Mt.Ej,Q=0,bt=1;bt<4;bt++)gt[bt]<gt[0]&&(gt[bt]+=360);var xt=gt[0],Dt=gt[1],Ot=gt[2],kt=gt[3],mt=vt*360;mt<gt[0]&&(mt+=360);var It=(mt-xt)/(Dt-xt),Bt=(mt-Ot)/(kt-Ot);It<0?Q=0:It<1?Q=It:Bt<0?Q=1:Bt<1?Q=1-Bt:Q=0;var h=Vt.GM(Ct[1]/100);rt[d]+=Q*Ct[0]/360,it[d]+=Q*h,nt[d]+=Q*Ct[2]/100}}for(var d=0;d<256;d++)it[d]=(1+it[d])*(1+yt)-1,nt[d]=Math.max(-1,Math.min(1,nt[d]))}for(var Ut=new Uint8Array(256),qt=new Uint8Array(256),Gt=new Uint8Array(256),d=0;d<256;d++){var zt=rt[d],Nt=it[d],Kt=nt[d];zt>1&&zt--,zt<0&&zt++,Nt=Vt.acb(Nt),Nt=(1+Nt)*.5,Kt=(1+Kt)*.5,Ut[d]=Math.round(255*zt),qt[d]=Math.round(255*Nt),Gt[d]=Math.round(255*Kt)}var ai=pt[2]/100,fi=ai<0?-ai:ai,di=ai<0?0:1;r={type:e.xj,Fp:Ut,fQ:qt,J7:Gt,L3:fi*di,Ds:1-fi,amz:pt[2]/100,vY:ot?1:0}}if(t=="nvrt"){for(var L=new Uint8Array(256),d=0;d<256;d++)L[d]=255-d;r={type:e.u1,KW:L,mf:L,Si:L,Ak:!1,qi:!1}}if(t=="post"){for(var $t=i.Lvls.v,L=new Uint8Array(256),Q=$t/255.001,si=255/($t-1),d=0;d<256;d++)L[d]=Math.floor(d*Q)*si;r={type:e.u1,KW:L,mf:L,Si:L,Ak:!1,qi:!1}}if(t=="grdm"){var li=i.Grad.v,Li=i.Rvrs,vi=v.j.j0(li.Clrs.v,0,0),g=1024,yi=v.j.qP(li,vi,g,Li?Li.v:!1),_t=v.R(g),wi=v.R(g),Zi=v.R(g);v.E4(yi,_t,0),v.E4(yi,wi,1),v.E4(yi,Zi,2),r={type:e.u1,KW:_t,mf:wi,Si:Zi,Ak:!0,qi:!1}}if(t=="selc"){for(var Vi=new Float32Array(9*3*2),Mi=i.ju,ce=i.Mthd?i.Mthd.v.CrcM=="Absl":!1,T=0;T<9;T++){var Ri=T*6,zi=Nr.Yl(i,T),ee=zi[0]/100,Be=zi[1]/100,Yi=zi[2]/100,Xi=zi[3]/100;ce?(Vi[Ri]=Vi[Ri+1]=Vi[Ri+2]=1,Vi[Ri+3]=ee*(1+Xi)+Xi,Vi[Ri+4]=Be*(1+Xi)+Xi,Vi[Ri+5]=Yi*(1+Xi)+Xi):(Vi[Ri+0]=(1+ee)*(1+Xi),Vi[Ri+1]=(1+Be)*(1+Xi),Vi[Ri+2]=(1+Yi)*(1+Xi))}r={type:e.Lr,e$:Vi}}if(t=="blwh"){for(var Xt="Rd Yllw Grn Cyn Bl Mgnt".split(" "),r=[],ri=0,Hi=0,d=0;d<6;d++)r.push(i[Xt[d]].v);r.push(i.useTint.v,i.tintColor.v);for(var re=[],d=0;d<6;d++)re.push((r[d]-50)/50);var gi=v.j.T6(r[7]);gi.U/=255,gi.S/=255,gi.i/=255;var Bi=v.eE(gi.U,gi.S,gi.i),Kt=v.ec(v.Uq(Bi.mi,1,.5)),be=Bi.Pg*Bi.pl;Kt==.5?ri=Hi=.5:(ri=be*(.5-Kt)/(.5/Kt-1),Hi=1-be*(.5-Kt)-1/(2*(1-Kt)),Hi/=1-1/(2*(1-Kt))),r={type:e.ta,_5:re,Ro:r[6]?1:0,uI:Bi.mi,ec:Kt,ZJ:be,sw:ri,pm:Hi}}if(t=="blnc"){for(var E=[],Te=["ShdL","MdtL","HghL"],d=0;d<3;d++){var $t=i[Te[d]].v,Gi=$t[0].v/100,Sr=$t[1].v/100,Qr=$t[2].v/100,fr=i.PrsL.v?fr=(Math.min(Gi,Sr,Qr)+Math.max(Gi,Sr,Qr))/2:0;E[d]=[Gi-fr,Sr-fr,Qr-fr]}for(var U=[v.R(256),v.R(256),v.R(256)],T=0;T<3;T++)for(var d=0;d<256;d++){var k=d*(1/255),Je=0,b=0,br=0;b=E[2][T],br=Math.abs(b),b<0?Je=Math.pow(k,Math.SQRT2):Je=1.63*(Math.pow(k+.04,.5)-.2),k=br*Je+(1-br)*k,b=E[1][T],br=Math.abs(b),b<0?Je=Math.pow(k,2):Je=Math.min(2.35*(Math.pow(k+.09,.5)-.3),Math.pow(k,1/2)),k=br*Je+(1-br)*k,b=E[0][T],br=Math.abs(b),b<0?Je=k<.4?0:Math.pow((k-.4)/.6,Math.SQRT2):Je=Math.pow(k,Math.SQRT2/2),k=br*Je+(1-br)*k,k=Math.max(0,Math.min(1,k)),U[T][d]=Math.round(k*255)}r={type:e.u1,KW:U[0],mf:U[1],Si:U[2],Ak:!1,qi:!1}}if(t=="phfl"){for(var Ai=v.j.T6(i.Clr.v),We=[Ai.U/255,Ai.S/255,Ai.i/255],Qi=i.Dnst.v/100,U=[v.R(256),v.R(256),v.R(256)],T=0;T<3;T++)for(var d=0;d<256;d++){var k=d*(1/255),qi=k*We[T];qi=Math.max(0,Math.min(1,qi)),k=Qi*qi+(1-Qi)*k,U[T][d]=Math.round(k*255)}r={type:e.u1,KW:U[0],mf:U[1],Si:U[2],Ak:!1,qi:i.PrsL.v}}if(t=="thrs"){for(var L=v.R(256),d=i.Lvl.v;d<256;d++)L[d]=255;r={type:e.u1,KW:L,mf:L,Si:L,Ak:!0,qi:!1}}if(t=="mixr"){for(var Re=Vt.FX(i),p=[],d=0;d<Re.C.length;d++)d%5!=3&&p.push(Re.C[d]/100);if(Re._W)for(var pi=1;pi<3;pi++)for(var k=0;k<4;k++)p[pi*4+k]=p[k];r={type:e.I9,Aw:p}}if(t=="rplc"){var Pi=i.Mnm.v,xr=i.Mxm.v;r={type:e.Ki,c7:[Pi.Lmnc.v,Pi.A.v,Pi.B.v],Aa:[xr.Lmnc.v,xr.A.v,xr.B.v],shift:[i.H.v/360,i.Strt.v/100,i.Lght.v/100],aI:i.Fzns.v/200}}if(t=="clrL"&&i.profile){var wr=new Uint8Array(i.profile.v),Cr=ICC.R(wr.buffer),Qe=[],pe=17,Qe=ICC.U.sampleLUT(Cr,pe);r={type:e.$g,Tr:ICC.U.rgba8LUT(Qe,pe),a0r:Qe,g8:pe}}return r},Vt.hA=function(t,i){var e=-1;return t!="levl"||i==null?e=-1:i.Auto?e=0:i.AuCo?e=1:i.autoBlackWhite&&(e=2),e},Vt.vo={u1:0,xj:1,tn:2,Lr:3,ta:4,I9:5,Ki:6,$g:7},Vt.GM=function(t){return t<0?t:Math.pow(Math.tan(Math.PI/2*t),1.3)},Vt.acb=function(t){return t<0?t:(t=Math.pow(t,1/1.3),Math.atan2(t,1)/(Math.PI/2))},Vt.t5=function(t,i,e,r){var n=Vt.vo,a=Date.now();if(q.pQ&&r.M()>300*300&&t.type!=n.u1&&t.type!=n.$g){r=r.clone(),r.x=r.y=0;var s=q.Wb(0,r.Z,r.h);s.set(i),q.k1(s,r),s.ke(r),Vt.WD(t,s.z2,r),s.get(e);return}if(t.type==n.$g){var l=t.a0r,h=t.g8;ICC.U.applyLUT(l,h,i,e)}if(t.type==n.I9&&v.t1.at(i,e,t.Aw),t.type==n.ta)for(var o=t.ZJ,f=t.ec,u=t.sw,p=t.pm,c=i.length,d=0;d<c;d+=4){for(var r=i[d]*(1/255),g=i[d+1]*(1/255),b=i[d+2]*(1/255),m=v.T4(r,g,b),x=0,M=0;M<6;M++)x+=Math.min(1,1.7*(1-m.lr))*m.Pg*t._5[M]*Vt.KB(m.mi,M*(1/6));var S=Math.max(0,Math.min(1,m.lr*(1+x)));if(t.Ro==1){var w=0;S<u?w=S*(.5/f):S<p?w=S+o*(.5-f):w=1-(1-S)*.5/(1-f),m.mi=t.uI,m.Pg=Math.min(1,o+3*o*Math.abs(S-.5*(u+p))),m.lr=w}else m.mi=0,m.Pg=0,m.lr=S;var k=v.Uq(m.mi,m.Pg,m.lr);e[d]=Math.round(k.U*255),e[d+1]=Math.round(k.S*255),e[d+2]=Math.round(k.i*255)}if(t.type==n.Lr)for(var T=t.e$,c=i.length,L=1/255,d=0;d<c;d+=4){for(var r=i[d]*L,g=i[d+1]*L,b=i[d+2]*L,m=v.T4(r,g,b),O=Math.max(r,Math.max(g,b)),E=Math.min(r,Math.min(g,b)),D=1-r,B=1-g,I=1-b,N=0,V=0,j=0,M=0;M<9;M++){var R=M*6,G=0;if(!(T[R]==1&&T[R+1]==1&&T[R+2]==1&&T[R+3]==0&&T[R+4]==0&&T[R+5]==0)){var Z=D*T[R]+T[R+3],_=B*T[R+1]+T[R+4],U=I*T[R+2]+T[R+5];M<6?G=Vt.KB(m.mi,M*(1/6))*m.Pg*2*Math.min(m.lr,1-m.lr):M==6?G=Math.max(0,E-.5)*2:M==7?G=1-(Math.abs(O-.5)+Math.abs(E-.5)):G=Math.max(0,.5-O)*2,N+=(Math.max(0,Math.min(1,Z))-D)*G,V+=(Math.max(0,Math.min(1,_))-B)*G,j+=(Math.max(0,Math.min(1,U))-I)*G}}D=Math.max(0,Math.min(1,D+N)),B=Math.max(0,Math.min(1,B+V)),I=Math.max(0,Math.min(1,I+j)),r=1-D,g=1-B,b=1-I,e[d]=Math.round(r*255),e[d+1]=Math.round(g*255),e[d+2]=Math.round(b*255)}if(t.type==n.u1&&v.amA(i,e,t.KW,t.mf,t.Si,t.Ak,t.qi),t.type==n.xj){var Y=new Uint32Array(i.buffer),$=new Uint32Array(e.buffer),c=Y.length;if(Vt.r3==null){Vt.r3=new Float64Array(256);for(var d=0;d<256;d++)Vt.r3[d]=Vt.GM(-1+2*d/255)}for(var P=Vt.r3,d=0;d<c;d++){var tt=Y[d],r=(tt&255)*(1/255),g=(tt>>>8&255)*(1/255),b=(tt>>>16&255)*(1/255),X=tt>>>24,ht=Math.min(r,g,b),F=Math.max(r,g,b),J=0,Q=0,rt=0;if(F!=ht){var it=F-ht;switch(F){case r:J=(g-b)/it+(g<b?6:0);break;case g:J=(b-r)/it+2;break;case b:J=(r-g)/it+4;break}J=J*(1/6)}var nt=~~(J*255+.5),ot=t.Fp[nt]*(1/255),pt=t.fQ[nt]*(1/255)*2-1,yt=t.J7[nt]*(1/255)*2-1,x=-yt,ct=ht;0<yt&&(x=yt,ct=F);var vt=t.L3+t.Ds*x*ct,wt=t.Ds*(1-x);if(r=vt+wt*r,g=vt+wt*g,b=vt+wt*b,F=Math.max(r,g,b),ht=Math.min(r,g,b),rt=(F+ht)*.5,F!=ht){var it=F-ht;Q=rt>.5?it/(2-(F+ht)):it/(F+ht)}var Mt=pt;if(t.vY==0&&(pt=P[Math.floor((1+pt)*127.5)],Mt=Math.min(Q*(1+pt),1)),J=ot,Q=Mt,Q==0)r=g=b=rt;else{var Ct=rt<.5?rt*(1+Q):rt+Q-rt*Q,gt=2*rt-Ct;r=v.C7(gt,Ct,J+1/3),g=v.C7(gt,Ct,J),b=v.C7(gt,Ct,J-1/3)}$[d]=X<<24|b*255<<16|g*255<<8|r*255}}if(t.type==n.Ki){v.Hk(i,e);for(var Y=new Uint32Array(i.buffer),$=new Uint32Array(e.buffer),c=Y.length,bt=t.aI,xt=1/bt,Dt={Ov:t.c7[0],m:t.c7[1],i:t.c7[2]},Ot={Ov:t.Aa[0],m:t.Aa[1],i:t.Aa[2]},d=0;d<c;d++){var tt=Y[d],kt=tt&255,mt=tt>>>8&255,It=tt>>>16&255,r=kt*(1/255),g=mt*(1/255),b=It*(1/255),X=tt>>>24,Bt=v.tm(kt,mt,It),Ut=v.LZ(Bt,Dt,Ot,bt,xt);if(Ut!=0){var m=v.T4(r,g,b),ot=2+m.mi+Ut*t.shift[0];m.mi=ot-~~ot,m.Pg=Math.max(0,Math.min(1,m.Pg+Ut*t.shift[1])),m.lr=Math.max(0,Math.min(1,m.lr+Ut*t.shift[2]));var k=v.Uq(m.mi,m.Pg,m.lr);r=k.U,g=k.S,b=k.i,$[d]=X<<24|b*255<<16|g*255<<8|r*255}}}if(t.type==n.tn)for(var Y=new Uint32Array(i.buffer),$=new Uint32Array(e.buffer),c=Y.length,qt=t.S9[0]/100,Gt=t.S9[1]/100,d=0;d<c;d++){var tt=Y[d],r=(tt&255)*(1/255),g=(tt>>>8&255)*(1/255),b=(tt>>>16&255)*(1/255),X=tt>>>24,m=v.eE(r,g,b),J=m.mi,Q=m.Pg,rt=m.pl,zt=0,Nt=45/360,Kt=J<Nt?Math.cos(Math.PI/2*(J-Nt/2)/(Nt/2)):0;Q=Q+.2*(1-.4*Kt)*qt*Math.max(0,Math.sin(Q*Math.PI)),Q=Q*(1+Gt),Q=Math.max(0,Math.min(1,Q));var k=v.ul(J,Q,rt);r=k.U,g=k.S,b=k.i,$[d]=X<<24|b*255<<16|g*255<<8|r*255}},Vt.WD=function(t,i,e){q.MY.WD(t,i)},Vt.KB=function(t,i){var e=v.iP(i,t)*6;return Math.max(0,Math.min(1,e<0?1+e:1-e))},Vt.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]},Vt.wZ=["expA","clrL","selc"],Vt.OD=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]],Vt.a1j=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]],Vt.Nx=[[13,1,1],[13,1,4],[13,1,5]],Vt.NS={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"},Vt.om=function(){var t=JSON.parse(JSON.stringify(Vt.NS));return delete t.GrMp,t.GdMp="grdm",t}(),Vt.l6={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"},Vt.keys={levl:[W.Bl,W.Ov],curv:[W.Bl,W.eO],hue2:[W.Bl,W.B6],nvrt:[W.Bl,W.vu],blnc:[W.Bl,W.ZA]},Vt.Dn=function(t){var i=Zt.tt("mixr");i.Mnch={t:"bool",v:t._W};function e(r,n){var a={classID:"ChMx"},s={Rd:0,Grn:1,Bl:2,Cnst:4};for(var l in s)a[l]={t:"UntF",v:{type:"#Prc",val:r[n+s[l]]}};return{t:"Objc",v:a}}return t._W?i.Gry=e(t.C,0):(i.Rd=e(t.C,0),i.Grn=e(t.C,5),i.Bl=e(t.C,10)),i},Vt.FX=function(t){function i(r,n,a){var s={Rd:0,Grn:1,Bl:2,Cnst:4};for(var l in s)r[l]&&(n[a+s[l]]=r[l].v.val)}var e={_W:!1,C:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};return t.Mnch&&t.Mnch.v&&(e._W=!0),e._W?i(t.Gry.v,e.C,0):(i(t.Rd.v,e.C,0),i(t.Grn.v,e.C,5),i(t.Bl.v,e.C,10)),e};var Zt={};Zt.l$=function(t){var i=t.filterID.v;return i>16777215?A.a2S(i):t.Fltr.v.classID},Zt.Gw=[{qA:"GEfc"},{qA:"LnCr"},{qA:"LqFy",aD:!0},{ah:"3D",iJ:["lightFilterGradient"]},{ah:[24,2],iJ:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{ah:[24,4],iJ:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{ah:[24,6],iJ:["AdNs","DstS","Mdn "]},{ah:[24,8],iJ:["ClrH","Crst","Mztn","Msc ","Pntl"]},{ah:[24,10],iJ:["Clds","DfrC","LnsF"]},{ah:[24,12],iJ:["Shrp","ShrM","smartSharpen","UnsM"]},{ah:[24,14],iJ:["FndE","oilPaint"]},{ah:[24,16],iJ:"HghP,Mxm ,Mnm ,Ofst,Rept,Ctoa".split(",")},{ah:"Fourier",iJ:["dDFT","iDFT"]}],Zt.l6={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"},Zt.Cf={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"},Zt.lt={rigidTransform:C.UK},Zt.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],oilPaint:[24,15,4],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:"Color to Alpha",dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]},Zt.tt=function(t){var i=null;if(t=="GEfc"&&(i={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:$i.tt("GlwE")}]}}),t=="LqFy"){for(var e={YY:50,mi:50,map:new Float32Array(50*50*2)},r=new Uint8Array(Ks.HC(e)),n=[],a=0;a<r.length;a++)n.push(r[a]);i={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:n}}}return t=="rigidTransform"&&(i={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}),t=="LnCr"&&(i={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}}),t=="adaptCorrect"&&(i={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}}),t=="oilPaint"&&(i={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}}),t=="lightFilterGradient"&&(i={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}}),t=="boxblur"&&(i={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}}),t=="GsnB"&&(i={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}}),t=="Bokh"&&(i={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}}),t=="MtnB"&&(i={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}}),t=="RdlB"&&(i={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}}),t=="surfaceBlur"&&(i={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}}),t=="Dspl"&&(i={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}}),t=="Pnch"&&(i={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}}),t=="Plr "&&(i={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}}),t=="Rple"&&(i={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}}),t=="Shr "&&(i={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}}),t=="Sphr"&&(i={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}}),t=="Twrl"&&(i={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}}),t=="Wave"&&(i={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}}),t=="AdNs"&&(i={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}}),t=="DstS"&&(i={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}}),t=="Mdn "&&(i={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}}),t=="ClrH"&&(i={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}}),t=="Crst"&&(i={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}}),t=="Mztn"&&(i={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}}),t=="Msc "&&(i={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}}),t=="Pntl"&&(i={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}}),t=="LnsF"&&(i={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}}),t=="smartSharpen"&&(i={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}}),t=="UnsM"&&(i={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}}),t=="HghP"&&(i={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}}),t=="Mxm "&&(i={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}}),t=="Mnm "&&(i={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}}),t=="Ofst"&&(i={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}}),t=="Rept"&&(i={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}}),t=="Ctoa"&&(i={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}}),t=="brit"&&(i={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}}),t=="levl"&&(i={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}}),t=="curv"&&(i={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}}),t=="expA"&&(i={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}}),t=="vibA"&&(i={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}}),t=="hue2"&&(i={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}}),t=="blnc"&&(i={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}}),t=="blwh"&&(i={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}}),t=="phfl"&&(i={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}}),t=="grdm"&&(i={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(at.IW[6]).Grad}),t=="selc"&&(i={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}}),t=="thrs"&&(i={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}}),t=="mixr"&&(i={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}}),t=="clrL"&&(i={__name:"Color Lookup",classID:"colorLookup"}),t=="post"&&(i={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}}),t=="rplc"&&(i={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}}),t=="fade"&&(i={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}}),i},Zt.jf={sAdNs:function(t,i){i[0]=t.Nose.v.val,i[1]=["Gsn","Unfr"].indexOf(t.Dstr.v.Dstr),i[2]=t.Mnch.v},gAdNs:function(t,i){t.Nose.v.val=i[0],t.Dstr.v.Dstr=["Gsn","Unfr"][i[1]],t.Mnch.v=i[2]},sDstS:function(t,i){i[0]=t.Rds.v,i[1]=t.Thsh.v},gDstS:function(t,i){t.Rds.v=i[0],t.Thsh.v=i[1]},sGsnB:function(t,i){i[0]=t.Rds.v.val},gGsnB:function(t,i){t.Rds.v.val=i[0]},sHghP:function(t,i){i[0]=t.Rds.v.val},gHghP:function(t,i){t.Rds.v.val=i[0]},"sMxm ":function(t,i){i[0]=t.Rds.v.val},"gMxm ":function(t,i){t.Rds.v.val=i[0]},"sMnm ":function(t,i){i[0]=t.Rds.v.val},"gMnm ":function(t,i){t.Rds.v.val=i[0]},sMtnB:function(t,i){i[0]=t.Angl.v,i[1]=t.Dstn.v.val},gMtnB:function(t,i){t.Angl.v=typeof i[0]=="number"?i[0]:i[0].Fu,t.Dstn.v.val=i[1]},sOfst:function(t,i){i[0]=t.Hrzn.v,i[1]=t.Vrtc.v,i[2]=["Rpt","Bckg","Wrp"].indexOf(t.Fl.v.FlMd)},gOfst:function(t,i){t.Hrzn.v=i[0],t.Vrtc.v=i[1],t.Fl.v.FlMd=["Rpt","Bckg","Wrp"][i[2]]},sPnch:function(t,i){i[0]=t.Amnt.v},gPnch:function(t,i){t.Amnt.v=i[0]},"sPlr ":function(t,i){i[0]=["RctP","PlrR"].indexOf(t.Cnvr.v.Cnvr)},"gPlr ":function(t,i){t.Cnvr.v.Cnvr=["RctP","PlrR"][i[0]]},sRple:function(t,i){i[0]=t.Amnt.v,i[1]=["Sml","Mdm","Lrg"].indexOf(t.RplS.v.RplS)},gRple:function(t,i){t.Amnt.v=i[0],t.RplS.v.RplS=["Sml","Mdm","Lrg"][i[1]]},sTwrl:function(t,i){i[0]=t.Angl.v},gTwrl:function(t,i){t.Angl.v=i[0]},sUnsM:function(t,i){i[0]=t.Amnt.v.val,i[1]=t.Rds.v.val,i[2]=t.Thsh.v},gUnsM:function(t,i){t.Amnt.v.val=i[0],t.Rds.v.val=i[1],t.Thsh.v=i[2]}},Zt.a31=function(t){var i=new st(0,0);if(t.enab.v==!1)return i;for(var e=t.filterFXList.v,r=0;r<e.length;r++){var n=e[r].v;if(n.enab.v!=!1){var a=Zt.l$(n),s=Zt.Oe(a,n.Fltr?n.Fltr.v:null);s.x>i.x&&(i.x=s.x),s.y>i.y&&(i.y=s.y)}}return i},Zt.Oe=function(t,i){var e=0,r=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(t)!=-1){var n=i.Rds.v.val;e=r=n*2.57}return t=="MtnB"&&(e=r=i.Dstn.v.val),"Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Clds,DfrC,Plr ,LnCr,lightFilterGradient,rigidTransform".split(",").indexOf(t)!=-1&&(e=r=1e4),t=="GEfc"&&(e=r=1e4),new st(Math.ceil(e),Math.ceil(r))},Zt.U$=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}},Zt.Sb=function(t,i){var e={U:i.GY>>16,S:i.GY>>8&255,i:i.GY&255},r={U:i.Ty>>16,S:i.Ty>>8&255,i:i.Ty&255},n=Zt.names[t];n==null&&(n=Vt.names[t]);var a=t;for(var s in Vt.NS)Vt.NS[s]==t&&(a=s);var l={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:Lt.get(n)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:v.j.$H(e)},BckC:{t:"Objc",v:v.j.$H(r)},filterID:{t:"long",v:a.length==4?A.acH(a):777}}},h=Zt.tt(t);return h&&(l.v.Fltr={t:"Objc",v:h}),l},Zt.MG=function(t,i,e,r){var n=v.R(t.length);v.Ai.or(t,i,e,r,[-1,0,1,-2,0,2,-1,0,1],0,!0),v.Ai.or(t,n,e,r,[1,2,1,0,0,0,-1,-2,-1],0,!0);for(var a=0;a<n.length;a+=4){var s=i[a],l=i[a+1],h=i[a+2],o=i[a+3],f=n[a],u=n[a+1],p=n[a+2],c=n[a+3];i[a]=255-Math.max(0,Math.min(255,Math.sqrt(s*s+f*f))),i[a+1]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+u*u))),i[a+2]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+p*p)))}},Zt.$z=function(t,i,e,r,n,a,s,l){var h=e*r*4;v.Ai.a9E(t,i,e,r,n,a,s)},Zt.ep=function(t,i,e,r){if(v.l7(e),t<1){var n=Math.round(t*5),a=[1,2,1,2,[40,26,13,6,4,2][n],2,1,2,1];a=v.Ai.h5(a);var s=e.slice(0);v.Ai.or(s,e,r.Z,r.h,a,255)}else i(e,r,t);v.gl(e)},Zt.a0y=function(t,i,e,r){for(var n=0;n<t.length;n++)e[n]=t[n]*(1/255),r[n]=0;FFT.fft2d(e,r);for(var a=i>>>1,s=16384,l=128,h=100;l<i;)l<<=1,s<<=2;for(var o=255/Math.log(s),f=-100,u=0;u<i;u++)for(var p=0;p<a;p++){var c=i+a+u&i-1,d=e[c*i+p],g=r[c*i+p],b=Math.sqrt(d*d+g*g),m=Math.atan2(g,d);t[u*i+p]=Math.round(o*Math.log(b+1)),t[u*i+a+p]=Math.round((Math.PI+m)*(255*.5/Math.PI))}},Zt.a5C=function(t,i,e,r){e.fill(0),r.fill(0);for(var n=i>>>1,a=16384,s=128;s<i;)s<<=1,a<<=2;for(var l=255/Math.log(a),h=[],o=[],f=[],u=0;u<256;u++){h[u]=Math.exp(u/l)-1;var p=u*(2*Math.PI/255)-Math.PI;o[u]=Math.sin(p),f[u]=Math.cos(p)}for(var c=0;c<i;c++)for(var d=0;d<n;d++){var g=i+n+c&i-1,b=h[t[c*i+d]],p=t[c*i+n+d],m=b*f[p],x=b*o[p];if(e[g*i+d]=m,r[g*i+d]=x,d!=0){var M=g==0?g*i+i-d:(i-g)*i+(i-d);e[M]=m,r[M]=-x}}FFT.ifft2d(e,r);for(var u=0;u<t.length;u++)t[u]=Math.max(0,Math.min(255,~~(.5+255*e[u])))},Zt.y3=new ArrayBuffer(512),Zt.a20=function(t){var i=Zt.y3,e=t.length;i.byteLength<e&&(Zt.y3=i=new ArrayBuffer(e));for(var r=new Uint8Array(i),n=0;n<e;n+=4)r[n]=t[n],r[n+1]=t[n+1],r[n+2]=t[n+2],r[n+3]=t[n+3];return i},Zt.t5=function(t,i,e,r,n,a,s){if(a==null&&(a={buffer:v.R(i.buffer.length),rect:i.rect.clone()}),v.Hk(i.buffer,a.buffer),t=="GEfc"){var l=[];if(e.GEfs)for(var h=e.GEfs.v,o=0;o<h.length;o++){var f=h[o].v;f.GELv&&f.GELv.v==!1||l.push(f)}else l=[e];for(var o=0;o<l.length;o++){var u;o==0?$i.t5(t,i,l[o],r,n,a,s):(u==null&&(u={buffer:v.R(i.buffer.length),rect:i.rect.clone()}),v.Hk(a.buffer,u.buffer),$i.t5(t,u,l[o],r,n,a,s))}}if(t=="adaptCorrect"){var p=i.rect,c=p.Z,d=p.h,g=c*d,b=g*4,m=e.sdwM.v,x=m.Amnt.v.val/100,M=m.Wdth.v.val/100,S=m.Rds.v,w=e.hglM.v,k=w.Amnt.v.val/100,T=w.Wdth.v.val/100,L=w.Rds.v;v.Nw.a6Y(i.buffer,a.buffer,c,d,x,M,S,k,T,L,e.ClrC.v/100,e.Cntr.v/100)}if(t=="Bokh"){var p=i.rect,c=p.Z,d=p.h,g=c*d,b=g*4,O=i.buffer.slice(0),E=e.BkDi.v.BtDi,D=e.BkDc,B=e.BkDp.v/255;E=="BeIn"&&(B=0);for(var I=57*(.3+.7*((c+d)/2)/1750)*(e.BkIb.v/100)*(1+.2*Math.pow(B,.1)),N=parseInt(e.BkIs.v.BtIs.slice(3)),V=-e.BkIr.v*Math.PI/180,j=[],o=0;o<8;o++){var R=V+o*(Math.PI*2/N),G=V+(o+1)*(Math.PI*2/N),Z=Math.cos(R),_=Math.sin(R),U=Math.cos(G),Y=Math.sin(G),$=[0,0,0];v.Aw.mm([[Z,_,1,0],[U,Y,1,0],[1,1,1,1]],$),$[2]>0&&($[0]*=-1,$[1]*=-1,$[2]*=-1),j.push($[0],$[1],$[2],0)}if(E=="BeIn")v.XB(O,0,16777215),B=1;else if(!(E=="BeIt"&&D.v.BtDc=="BeCt")){var P;if(E=="BeIt"&&D.v.BtDc=="BeCm"?P=s[1]:E=="BeIa"&&(P=s[2][D.v]),P==null)v.XB(O,0,16777215);else{var tt;P.rect.Qn(p)?tt=P.channel:tt=P.kx(p),v.Oy(tt,O,3)}}if(q.pQ){var X=O,ht=c,F=d,J=1,Q=(e.BkSb.v==0||e.BkSt.v==255)&&E=="BeIn";if(!Q){for(var rt=0,o=0;o<b;o+=4)rt+=Math.abs(B-O[o+3]*(1/255));rt=rt/g*I;var it=3.14*rt*rt*c*d/3e6;if(it>2e3){alert("too large radius");return}}for(;Q&&3*(I/J)*(I/J)*c*d>500*2e3*2e3;){var nt=v.p0(O,new et(0,0,ht,F));O=nt.Ww,ht=nt.rect.Z,F=nt.rect.h,J*=2}var ot=Date.now(),pt=q.Wb(0,ht,F);pt.set(O);var yt=q.Wb(1,c,d);q.k1(yt),q.filter.WD({type:q.filter.Nj,I1:new Float32Array([1/ht,1/F]),aly:B,a2M:I/J,a8y:new Float32Array([e.BkSb.v/100,e.BkSt.v/255]),a3H:new Float32Array([e.BkNa.v/100,e.BkNt.v.BtNt=="BeNu"?0:1,e.BkNm.v?1:0]),a8J:new Float32Array(j.slice(0,16)),abg:new Float32Array(j.slice(16))},pt.g3),yt.get(a.buffer);for(var ct=a.buffer,o=0;o<b;o+=4)ct[o+3]=i.buffer[o+3]}}if(t=="rigidTransform"){var ot=Date.now(),vt=Zt.a20,pt=i.buffer.slice(0),wt=0,Mt=0;v.l7(pt),v.XB(a.buffer,0);for(var c=i.rect.Z,d=i.rect.h,Ct=e.puppetShapeList.v,gt=[],bt=[],xt=[],Dt=[],Ot=0;Ot<Ct.length;Ot++){for(var kt=Ct[Ot].v,mt=wt*2,It=Mt*3,Bt=kt.originalVertexArray.v.length>>>2,Ut=kt.indexArray.v.length>>>2,qt=new Float32Array(vt(kt.originalVertexArray.v)),o=0;o<Bt;o++)gt[mt+o]=qt[o];for(var Gt=new Float32Array(vt(kt.deformedVertexArray.v)),o=0;o<Bt;o++)bt[mt+o]=Gt[o];for(var zt=new Uint32Array(vt(kt.indexArray.v)),o=0;o<Ut;o++)xt[It+o]=wt+zt[o];for(var Nt=[],Kt=[],ai=kt.PnDp.v,o=0;o<ai.length;o++)Nt.push(kt.pinVertexIndices.v[o].v),Kt.push(ai[o].v);for(var fi=v.s8.a4$(qt,zt,Nt,Kt),o=0;o<fi.length;o++)Dt[wt+o]=fi[o];wt+=Bt>>>1,Mt+=~~(Ut/3)}v.s8.ti(pt,a.buffer,i.rect,gt,bt,Dt,xt),v.gl(a.buffer)}if(t=="lightFilterGradient"){let pl=function(pa){var Wl=1/Math.sqrt(pa[0]*pa[0]+pa[1]*pa[1]+pa[2]*pa[2]);pa[0]*=Wl,pa[1]*=Wl,pa[2]*=Wl};var s0=pl,c=i.rect.Z,d=i.rect.h,g=c*d,ot=Date.now(),di=v.R(g),$t=.3,si=.7;v.np(a.buffer,di);var li=v.R(g);v.ni.et(di,li,a.rect,16);var Li=v.R(g);v.ni.et(di,Li,a.rect,8);var vi=di,yi=new Float32Array(g),_t=e.Dtl.v,wi=_t[2].v,Zi=_t[1].v,Vi=_t[0].v,Mi=e.Scl.v*40*e.textureScale.v/(wi+Zi+Vi);wi*=Mi,Zi*=Mi,Vi*=Mi;for(var o=0;o<g;o++){var ce=li[o]*(1/255),Ri=Li[o]*(1/255),zi=vi[o]*(1/255);zi=zi*zi,yi[o]=wi*ce+Zi*Ri+Vi*zi}var ee=e.blur.v;if(ee!=0){var Be=yi.slice(0);v.ni.d$(Be,yi,a.rect,ee)}for(var Yi=c-1,Xi=d-1,Xt=1;Xt<Xi;Xt++)for(var ri=1;ri<Yi;ri++){var o=Xt*c+ri,Hi=o*4,re=yi[o],gi=$t*(yi[o+1]-re)+si*(re-yi[o-1]),Bi=$t*(yi[o+c]-re)+si*(re-yi[o-c]),be=[1,0,gi],Te=[0,1,Bi];pl(be),pl(Te);var G=be[0],Gi=be[2],Sr=Te[1],Qr=Te[2],fr=-Gi*Sr,Je=-G*Qr,br=G*Sr;a.buffer[Hi]=~~(127.5+fr*127.5),a.buffer[Hi+1]=~~(127.5+Je*127.5),a.buffer[Hi+2]=~~(127.5+br*127.5)}}if(t=="dDFT"||t=="iDFT"){let pl=function(_e){return _e==0?1:(_e--,_e|=_e>>1,_e|=_e>>2,_e|=_e>>4,_e|=_e>>8,_e|=_e>>16,_e+1)};var l0=pl,c=i.rect.Z,d=i.rect.h,Ai=pl(Math.max(c,d)),We=Ai>>>1,Qi=new et(0,0,Ai,Ai),qi=new et(0,0,c,d);qi.y=Ai-d>>>1;var Re=c>>>1,pi=new et(0,qi.y,Re,d),Pi=new v._B(c*d);v.Ae(i.buffer,Pi);var xr=new Float64Array(Ai*Ai),wr=new Float64Array(Ai*Ai),tt=v.R(Ai*Ai);FFT.init(Ai);for(var Cr=[Pi.U,Pi.S,Pi.i],o=0;o<3;o++){var Qe=Cr[o];tt.fill(0),t=="dDFT"?(v.Lj(Qe,qi,tt,Qi),Zt.a0y(tt,Ai,xr,wr),v.Lj(tt,Qi,Qe,qi,pi),pi.x+=Re,Qi.x-=We-Re,v.Lj(tt,Qi,Qe,qi,pi),pi.x-=Re,Qi.x+=We-Re):(v.Lj(Qe,qi,tt,Qi,pi),pi.x+=We,qi.x+=We-Re,v.Lj(Qe,qi,tt,Qi,pi),pi.x-=We,qi.x-=We-Re,Zt.a5C(tt,Ai,xr,wr),v.Lj(tt,Qi,Qe,qi))}v.sA(Pi,a.buffer)}if(t=="Avrg"){for(var pe=0,Er=0,bn=0,Ti=0,lr=1,o=0;o<i.buffer.length;o+=4){var qe=i.buffer[o+3];bn+=i.buffer[o]*qe,Er+=i.buffer[o+1]*qe,pe+=i.buffer[o+2]*qe,Ti+=qe}var ir=1/Ti;pe=Math.round(lr*(pe*ir)+(1-lr)*255),Er=Math.round(lr*(Er*ir)+(1-lr)*255),bn=Math.round(lr*(bn*ir)+(1-lr)*255),v.XB(a.buffer,pe<<16|Er<<8|bn,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(t)!=-1){var de=e.Rds.v.val,Dr=t=="boxblur"?v.ni.$f:v.ni.aah;if(Zt.ep(de,Dr,a.buffer,a.rect),t=="UnsM"||t=="smartSharpen"){var Ue=e.Amnt.v.val/100,$e=0;t=="UnsM"?$e=e.Thsh.v:Ue*=.75;for(var o=0;o<i.buffer.length;o++){if((o&3)==3){a.buffer[o]=i.buffer[o];continue}var He=i.buffer[o],na=a.buffer[o],kr=Ue*(He-na);kr>0?kr=Math.max(0,kr-$e):kr=Math.min(0,kr+$e),a.buffer[o]=Math.max(0,Math.min(255,He+kr))}}if(t=="HghP")for(var o=0;o<i.buffer.length;o++){if((o&3)==3){a.buffer[o]=i.buffer[o];continue}var He=i.buffer[o],na=a.buffer[o];a.buffer[o]=Math.max(0,Math.min(255,128+He-na))}}if(t=="surfaceBlur"){var Wi=e.Rds.v.val,vn=e.Thsh.v,c=i.rect.Z,d=i.rect.h;Zt.$z(i.buffer,a.buffer,c,d,Wi,v.Ai.Nz,[vn],2)}if(t=="AdNs"){var Ta=new Uint8ClampedArray(a.buffer.buffer),Oa=255*e.Nose.v.val/100,Ea;e.Dstr.v.Dstr=="Gsn"?Ea=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2}:Ea=function(){return Math.random()*2-1};for(var o=0;o<Ta.length;o+=4){var Wi=Ta[o],ze=Ta[o+1],Br=Ta[o+2],tl,aa,Hs;e.Mnch.v?tl=aa=Hs=Ea():(tl=Ea(),aa=Ea(),Hs=Ea()),Wi+=Oa*tl,ze+=Oa*aa,Br+=Oa*Hs,Ta[o]=Wi,Ta[o+1]=ze,Ta[o+2]=Br}}if(t=="Mdn "||t=="DstS"||t=="Mxm "||t=="Mnm "){var Wi=0;(t=="Mdn "||t=="Mxm "||t=="Mnm ")&&(Wi=e.Rds.v.val),t=="DstS"&&(Wi=e.Rds.v),v.Ai.Rx=.5;var Dr=v.Ai.lI;t=="Mxm "&&(Dr=v.Ai.Rl),t=="Mnm "&&(Dr=v.Ai.sH);var c=i.rect.Z,d=i.rect.h,nh={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[t];if(Zt.$z(i.buffer,a.buffer,c,d,Wi,Dr,[],nh),t=="DstS")for(var vn=e.Thsh.v,o=0;o<c*d*4;o++){var Tl=Math.abs(i.buffer[o]-a.buffer[o]);Tl<=vn&&(a.buffer[o]=i.buffer[o])}}if(t=="ClrH"){var pi=i.rect.clone();pi.x=pi.y=0;var Wi=e.Rds.v;Wi=Math.round(Wi*Math.sqrt(2));var c=pi.Z,d=pi.h,Pi=new v._B(c*d);v.Ae(i.buffer,Pi),v.nJ(Pi.U),v.nJ(Pi.S),v.nJ(Pi.i);var il=y.z("canvas","");il.width=c,il.height=d;for(var Da=il.getContext("2d"),ct=v.R(c*d*4),ur=0;ur<3;ur++){var tt=ur==0?Pi.U:ur==1?Pi.S:Pi.i,Gn=Math.PI*e["Ang"+(ur+1)].v/180,$r=new Et(1/Wi,0,0,1/Wi,0,0);$r.rotate(Gn),v.Oy(tt,ct,3);var cn=C.X.Z6([ct,pi],$r,!0),qi=cn.rect;Da.clearRect(0,0,c,d);for(var Ol=Math.sin(Gn),el=Math.cos(Gn),o=0;o<qi.h;o++)for(var _n=0;_n<qi.Z;_n++){var ri=(_n+qi.x+.5)*Wi,Xt=(o+qi.y+.5)*Wi,Ae=ri,xe=Xt;ri=el*Ae-Ol*xe,Xt=Ol*Ae+el*xe;var g=cn.buffer[(o*qi.Z+_n<<2)+3]*(1/255),de=Wi*Math.sqrt(g*(1/Math.PI));Da.beginPath(),Da.arc(ri,Xt,de,0,2*Math.PI),Da.fill()}var kh=Da.getImageData(0,0,c,d);v.E4(kh.data,tt,3)}v.nJ(Pi.U),v.nJ(Pi.S),v.nJ(Pi.i),v.sA(Pi,a.buffer)}if(t=="Crst"||t=="Pntl"){var c=i.rect.Z,d=i.rect.h,Dr=t=="Crst"?v.QN.a9g:v.QN.ace;Dr(i.buffer,c,d,a.buffer,e.ClSz.v,[Math.round(n.U),Math.round(n.S),Math.round(n.i)])}if(t=="Mztn"){var c=i.rect.Z,d=i.rect.h,g=c*d,Pi=new v._B(g),rl=[Pi.U,Pi.S,Pi.i];v.Ae(i.buffer,Pi);for(var sa=e.MztT.v.MztT,er={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[sa],ot=Date.now(),Zn=[],o=0;o<g;o++)Zn[o]=Math.random();for(var g=c*d,El=Math.round(g*er[0]),js=g-c-1,o=0;o<El;o++){var pn=Math.random(),Dl=1;pn<.5?(Dl=c,pn*=2):pn=2*(pn-.5);var Vs=Math.floor(pn*js),Xa=Vs+Dl;Zn[Vs]=Zn[Xa]}for(var Bl=Math.round(c*er[1]),Xt=0;Xt<d;Xt++)for(var o=0;o<Bl;o++){var pn=v.N.kY(Xt*g+o),Vs=Xt*c+Math.floor(pn*(c-1));Zn[Vs]=Zn[Vs+1]}for(var ki=new Float64Array(256),o=0;o<256;o++){var la=o/255,ps=2*(la<.5?la:1-la);ps=er[2]+Math.pow(ps,er[3])*(1-er[2]),la=la<.5?ps*.5:1-ps*.5,ki[o]=la}for(var xn=0;xn<3;xn++)for(var tt=rl[xn],Xt=0;Xt<d;Xt++)for(var ri=0;ri<c;ri++){var o=Xt*c+ri,Ah=tt[o],la=ki[Ah],pn=Zn[o];tt[o]=pn>la?0:255}v.sA(Pi,a.buffer)}if(t=="Msc "){var Pa=e.ClSz.v.val,c=i.rect.Z,d=i.rect.h,Fa=Math.ceil(c/Pa),ts=Math.ceil(d/Pa),Il=v.R(Fa*ts*4);v.scale.sI(i.buffer,c,d,Il,Fa,ts,1/Pa),v.scale.sI(Il,Fa,ts,a.buffer,c,d,Pa)}if(t=="Clds"||t=="DfrC"){t=="Clds"&&v.XB(a.buffer,4278190080);for(var is=v.R(256*4),o=0;o<256;o++){var Hi=o<<2,Us=o/255,zt=1-Us;is[Hi]=Math.round(Us*r.U+zt*n.U),is[Hi+1]=Math.round(Us*r.S+zt*n.S),is[Hi+2]=Math.round(Us*r.i+zt*n.i)}var c=a.rect.Z,d=a.rect.h,g=c*d,ds=v.R(g);noise.seed(Math.random());for(var Xt=0;Xt<d;Xt++)for(var ri=0;ri<c;ri++){for(var Mi=0,Tn=1,nl=1,o=0;o<8;o++){var J=nl*(1/170);Mi+=noise.perlin2(ri*J,Xt*J)*Tn,Tn*=.5,nl=nl<<1}ds[Xt*c+ri]=Math.round(Math.max(0,255*Math.min(1,.5+.7*Mi*.5)))}for(var Ge=a.buffer,o=0;o<g;o++){var Hi=o<<2,xn=ds[o]<<2,Wi=is[xn],ze=is[xn+1],Br=is[xn+2];t=="Clds"?(Ge[Hi]=Wi,Ge[Hi+1]=ze,Ge[Hi+2]=Br):(Ge[Hi]=Math.abs(Ge[4*o]-Wi),Ge[Hi+1]=Math.abs(Ge[4*o+1]-ze),Ge[Hi+2]=Math.abs(Ge[4*o+2]-Br))}}if(t=="LnsF"){var c=i.rect.Z,d=i.rect.h,sa=["Zm","Nkn","Nkn1","PnVs"].indexOf(e.Lns.v.Lns),Nl=e.FlrC.v,Rl=[Math.min(sa,2),e.Brgh.v/100,Nl.Hrzn.v,Nl.Vrtc.v],ot=Date.now();v.ajA(i.buffer,c,d,a.buffer,Rl)}if(t=="Blr "||t=="BlrM"||t=="Shrp"||t=="ShrM"){var c=i.rect.Z,d=i.rect.h,Yr;t=="Blr "?Yr=[1,2,1,2,16,2,1,2,1]:t=="BlrM"?Yr=[1,2,1,2,4,2,1,2,1]:t=="Shrp"?Yr=[0,-1,0,-1,8,-1,0,-1,0]:Yr=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7],Yr=v.Ai.h5(Yr);var al=i.buffer.slice(0);v.l7(al),v.Ai.or(al,a.buffer,c,d,Yr,t=="Shrp"||t=="ShrM"?0:255),(t=="Shrp"||t=="ShrM")&&v.hc(a.buffer),v.gl(a.buffer)}if(t=="MtnB"){var On=-e.Angl.v*Math.PI/180,Hl=e.Dstn.v.val/2,ot=Date.now(),c=i.rect.Z,d=i.rect.h,p=i.rect.clone();if(p.x=p.y=0,q.pQ){var ot=Date.now(),Ba=a.buffer;Ba.set(i.buffer),v.l7(Ba);var vr=q.Wb(0,c,d);vr.set(Ba);var sl=v.R(4);sl[0]=Math.round(128+127*Math.cos(On)),sl[1]=Math.round(128+127*Math.sin(On)),new Uint32Array(Ba.buffer).fill(new Uint32Array(sl.buffer)[0]);var jl=q.Wb(1,c,d);jl.set(Ba),q.k1(vr,p),vr.ke(p),q.filter.WD({type:q.filter.Zi,B9:jl.g3,I1:new Float32Array([1/c,1/d]),sC:Hl/2,R5:1},vr.z2),vr.get(Ba),v.gl(Ba)}else{var $r=new Et;$r.rotate(On);var cn=C.X.Z6([i.buffer,i.rect],$r,!1,null,!0);Zt.ep(Hl,v.ni.Zb,cn.buffer,cn.rect),$r.nJ(),cn=C.X.Z6([cn.buffer,cn.rect],$r,!1,a.buffer.buffer,!0,a.rect)}console.log(Date.now()-ot)}if(t=="RdlB"){var c=i.rect.Z,d=i.rect.h,Ue=e.Amnt.v,En=e.BlrM.v.BlrM=="Zm",ur=e.Cntr.v,Ar=ur.Hrzn.v,an=ur.Vrtc.v,gi=Math.max(Ar,1-Ar)*c,Bi=Math.max(an,1-an)*d,de=Math.sqrt(gi*gi+Bi*Bi),Gs=2*Math.PI*de*1.5,Ir=Math.round(Gs),Gr=Math.round(de),pi=new et(0,0,Ir,Gr),Jn=v.R(Ir*Gr*4),Vl=En?4:1,Ul=En?.6:8*((c+d)/2)/1400,ll=.1,J=1,es=1;v.P.x$(i.buffer,c,d,Jn,Ir,Gr,Ar,an,Vl,ll,J,es);var qn=En?v.R(Ir*Gr*4):null;if(En){v.P.yT(Jn,qn,Ir,Gr);var ha=qn;qn=Jn,Jn=ha,pi.Z=Gr,pi.h=Ir}if(Zt.ep(Ul*Ue,v.ni.Zb,Jn,pi),En){v.P.yT(Jn,qn,Gr,Ir);var ha=qn;qn=Jn,Jn=ha,pi.Z=Ir,pi.h=Gr}v.P.A9(Jn,Ir,Gr,a.buffer,c,d,Ar,an,Vl,ll,J,es)}if(t=="Plr "){var c=i.rect.Z,d=i.rect.h;e.Cnvr.v.Cnvr=="RctP"?v.P.A9(i.buffer,c,d,a.buffer,c,d,.5,.5,1,0,2,c/d):v.P.x$(i.buffer,c,d,a.buffer,c,d,.5,.5,1,0,2,c/d)}if(t=="FndE"){var c=i.rect.Z,d=i.rect.h;Zt.MG(i.buffer,a.buffer,c,d)}if(t=="oilPaint"){var Gn=e.LghD.v*Math.PI/180,oa=[Math.cos(Gn),Math.sin(Gn),.001],hl=[e.stylization.v,e.cleanliness.v,e.brushScale.v,e.microBrush.v,e.lightingOn.v,e.specularity.v,oa],p=i.rect.clone();p.x=p.y=0,v.io.filter(i.buffer,p,a.buffer,hl)}if(t=="Ofst"){var c=i.rect.Z,d=i.rect.h,dn=new Uint32Array(i.buffer.buffer),zn=new Uint32Array(a.buffer.buffer),Ae=e.Hrzn.v,xe=e.Vrtc.v,_s=e.Fl.v.FlMd;if(v.XB(zn,0),_s=="Bckg"||_s=="Rpt"){var pi=i.rect.clone();pi.offset(Ae,xe),v.BP(dn,pi,zn,a.rect)}if(_s=="Rpt"){var Z,_,U,Y,Xr;Ae=Math.max(-c,Math.min(c,Ae)),xe=Math.max(-d,Math.min(d,xe)),Z=Ae>0?Ae:0,U=Ae>0?c:c+Ae,_=xe>0?0:xe+d,Y=xe>0?xe:d,Xr=xe>0?0:c*(d-1);for(var Xt=_;Xt<Y;Xt++)for(var ri=Z;ri<U;ri++)zn[Xt*c+ri]=dn[Xr+ri-Ae];Z=Ae>0?0:c+Ae,U=Ae>0?Ae:c,_=xe>0?xe:0,Y=xe>0?d:d+xe,Xr=Ae>0?0:c-1;for(var Xt=_;Xt<Y;Xt++)for(var ri=Z;ri<U;ri++)zn[Xt*c+ri]=dn[Xr+c*(Xt-xe)];Ae>=0&&xe>=0&&(Z=0,U=Ae,_=0,Y=xe,Xr=0),Ae>=0&&xe<0&&(Z=0,U=Ae,_=d+xe,Y=d,Xr=c*(d-1)),Ae<0&&xe>=0&&(Z=c+Ae,U=c,_=0,Y=xe,Xr=c-1),Ae<0&&xe<0&&(Z=c+Ae,U=c,_=d+xe,Y=d,Xr=c*d-1);for(var Xt=_;Xt<Y;Xt++)for(var ri=Z;ri<U;ri++)zn[Xt*c+ri]=dn[Xr]}if(_s=="Wrp"){Ae=(Ae+100*c)%c,xe=(xe+100*d)%d;var pi=new et(Ae-c,xe-d,c,d);v.BP(dn,pi,zn,a.rect),pi.offset(c,0),v.BP(dn,pi,zn,a.rect),pi.offset(0,d),v.BP(dn,pi,zn,a.rect),pi.offset(-c,0),v.BP(dn,pi,zn,a.rect)}}if(t=="Rept"){let _e=function(dl){return dl<0?Math.ceil(dl):Math.floor(dl)};var h0=_e,Zs=e.Rsft.v.val/100,Mr=e.SpcX.v.val/100;Mr=Math.max(Mr,-.99);var fa=e.SpcY.v.val/100;fa=Math.max(fa,-.99);var J=e.Scl.v.val/100,$r=new Et;$r.rotate(e.Angl.v*Math.PI/180),$r.scale(J,J);var rs={buffer:i.buffer,rect:i.rect};v.mn(rs),rs.rect.qr()&&(rs.buffer=i.buffer,rs.rect=i.rect);var Ge=rs.buffer,pi=rs.rect,ua=v.cR(Ge,pi,0),cr=new Uint32Array(Ge.buffer)[0];if(!ua.qr()&&!ua.Qn(pi)){var ys=v.R(ua.M()*4);v.BP(Ge,pi,ys,ua),Ge=ys,pi=ua}pi.x=pi.y=0,cr=Mr==0&&fa==0||e.SpcC.v?cr:0;var Ia=$r.aT(new st(pi.Z,0));Ia.x=_e(Ia.x),Ia.y=_e(Ia.y);var Na=$r.aT(new st(0,pi.h));Na.x=_e(Na.x),Na.y=_e(Na.y);var cn=C.X.Z6([Ge,pi],$r,!1),qi=cn.rect,ah=cn.buffer,Lh=Math.round(qi.x),sh=Math.round(qi.y),ns=Math.max(a.rect.Z,a.rect.h)/Math.min(pi.Z*J*(1+Mr),pi.h*J*(1+fa));ns=Math.ceil(ns*1.7),v.XB(a.buffer,cr);for(var Xt=-ns;Xt<ns;Xt++)for(var ri=-ns;ri<ns;ri++){var Gl=(ri+Xt*Zs)*(1+Mr),_l=Xt*(1+fa);qi.x=Lh+Math.round(Gl*Ia.x+_l*Na.x),qi.y=sh+Math.round(Gl*Ia.y+_l*Na.y),qi.dg(a.rect)&&v.N.DO("norm",ah,qi,a.buffer,a.rect,qi,1)}}if(t=="Ctoa"){var n=v.j.T6(e.Clr.v),vn=e.Trsp.v.val/100,Lr=e.Opct.v.val/100;vn=Lr==0?0:vn/Lr;for(var c=i.rect.Z,d=i.rect.h,va=~~n.U,Zl=~~n.S,lh=~~n.i,Xr=i.buffer,gs=a.buffer,Xt=0;Xt<d;Xt++)for(var ri=0;ri<c;ri++){var o=Xt*c+ri,Hi=o<<2,pi=Xr[Hi],ms=Xr[Hi+1],Ge=Xr[Hi+2],Ra=Math.abs(va-pi),hh=Math.abs(Zl-ms),oh=Math.abs(lh-Ge),ca=Math.max(Ra,hh,oh)*(1/255);ca=Math.max(0,Math.min(1,ca/Lr));var sn=ca==0?0:1/ca,fh=vn==1?1:Math.max(0,Math.min(1,(ca-vn)/(1-vn)));gs[Hi]=Math.max(0,Math.min(255,(pi-va*(1-ca))*sn)),gs[Hi+1]=Math.max(0,Math.min(255,(ms-Zl*(1-ca))*sn)),gs[Hi+2]=Math.max(0,Math.min(255,(Ge-lh*(1-ca))*sn)),gs[Hi+3]=~~(.5+fh*255)}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(t)!=-1){var bs=s[0],c=i.rect.Z,d=i.rect.h,ki,xs=0;if(t=="LqFy")ki=Ks.ee(new Uint8Array(e.LqMe.v).buffer);else{var Ha=t=="Dspl"?1:3;if(ki={YY:Math.floor(c/Ha),mi:Math.floor(d/Ha)},ki.map=new Float32Array(ki.YY*ki.mi*2),t=="LnCr")for(var Ar=.5*(ki.YY-1),an=.5*(ki.mi-1),uh=Math.max(Math.abs(0-Ar),Math.abs(1-Ar)),ol=Math.max(Math.abs(0-an),Math.abs(1-an)),Jl=Math.sqrt(uh*uh+ol*ol),vh=0,fl=0,ql=-1,a0=2,J=e.LnSi.v/100,En=1/J,zl=e.LnIa.v/100,Cn=zl==0?1e-6:zl*4.6,Kn=En/Jl,Xt=0;Xt<ki.mi;Xt++)for(var ri=0;ri<ki.YY;ri++){var gi=(ri-Ar)*Kn,Bi=(Xt-an)*Kn,Wi=Math.sqrt(gi*gi+Bi*Bi)*Cn,Js=Math.atan(Wi),Cs=zl>0?Js/Wi:Wi/Js,es=Ar+Jl*Cs*gi,Zo=an+Jl*Cs*Bi,o=Xt*ki.YY+ri<<1;ki.map[o]=es-ri,ki.map[o+1]=Zo-Xt}else if(t=="Dspl"&&bs.length!=0){xs=e.UndA.v.UndA=="WrpA"?2:1;for(var Jo=e.DspF.v.pth,ul,o=0;o<bs.length;o++)bs[o].Za==Jo&&(ul=bs[o]);ul==null&&(ul=bs[0]),ul.lD();var Ra=ul.DW[1],Mo=v.R(Ra.M());v.np(ul.DW[0],Mo);for(var qo=Ra.Z,zo=2*e.HrzS.v/Ha,Ko=2*e.VrtS.v/Ha,Xt=0;Xt<ki.mi;Xt++)for(var ri=0;ri<ki.YY;ri++){var uh=Math.floor(Ra.Z*ri/ki.YY),ol=Math.floor(Ra.h*Xt/ki.mi),gi=Bi=-.5+Mo[ol*qo+uh]/255,o=Xt*ki.YY+ri<<1;ki.map[o]=gi*zo,ki.map[o+1]=Bi*Ko}}else if(t=="Pnch"||t=="Twrl"||t=="Sphr"){let qs=function(Va){return Va=Math.pow(Va,1-Va*.3-Va*Va*(Va*Va)*.5),-.225*Math.sin(Va*Math.PI)},zs=function(Va,Po,Ro,Ho,jo,Fo,t0,Vo){var Rh=Fo-Ho,Hh=t0-jo,jh=Ho-Va,Vh=jo-Po,Uo=Rh*Rh+Hh*Hh,bh=2*(Rh*jh+Hh*Vh),i0=jh*jh+Vh*Vh-Ro*Ro,Go=Math.sqrt(bh*bh-4*Uo*i0),_o=Vo/(2*Uo),e0=(-bh+Go)*_o,r0=(-bh-Go)*_o;return Vo*Math.min(e0,r0)};var Dr=qs,o0=zs,Ue=1,On=Math.PI,Th=0,ur=3,Pa=1.53,Cs=1;(t=="Pnch"||t=="Sphr")&&(Ue=e.Amnt.v/100),t=="Twrl"&&(On=e.Angl.v*Math.PI/180),t=="Sphr"&&(Th=["Nrml","HrzO","VrtO"].indexOf(e.SphM.v.SphM));var Fa=ki.YY,ts=ki.mi,Kl=ki.YY/2,Xi=ki.mi/2,Wo=1/Kl,Wi=Math.sqrt(ur*ur+1)/ur,Qe=ur+Math.sqrt(1/(ur*ur));Ue<0&&(ur=1.72,Wi=1,Qe=ur,Pa=-1,Cs=-1);for(var Xt=0;Xt<ts;Xt++)for(var Bi=(Xt-Xi)/Xi,ri=0;ri<Fa;ri++){var gi=(ri-Kl)*Wo;Th==1?Bi=0:Th==2&&(gi=0);var as=Math.sqrt(gi*gi+Bi*Bi);if(as<1&&as!=0){var o=Xt*ki.YY+ri<<1;if(t=="Pnch"){var So=-Ue*qs(as)/as;ki.map[o]=gi*So*Kl,ki.map[o+1]=Bi*So*Xi}else if(t=="Sphr"){var ha=zs(0,Qe,Wi,0,0,as,ur,Cs),wo=Pa*Ue*(ha-1);ki.map[o]=gi*wo*Kl,ki.map[o+1]=Bi*wo*Xi}else if(t=="Twrl"){var Gn=Math.atan2(Bi,gi)-On*(1-as)*(1-as),Oh=Math.cos(Gn),Eh=Math.sin(Gn);ki.map[o]=(as*Oh-gi)*Kl,ki.map[o+1]=(as*Eh-Bi)*Xi}}}}else if(t=="Shr "){var ko=JSON.parse(JSON.stringify(e.ShrP.v));v.JH.O(ko,new Et(0,255/127,255/127,0,-2,0));var Qo=v.JH.QV(ko,ki.mi,!0);xs=e.UndA.v.UndA=="WrpA"?2:1;for(var Xt=0;Xt<ki.mi;Xt++)for(var gi=-Qo[Xt]*ki.YY,ri=0;ri<ki.YY;ri++){var o=Xt*ki.YY+ri<<1;ki.map[o]=gi}}else if(t=="Wave"){var Ao=e.NmbG.v,ch=e.WLMn.v,Lo=e.WLMx.v,ph=e.AmMn.v*(Math.PI/4),To=e.AmMx.v*(Math.PI/4),$o=e.SclH.v/100,Yo=e.SclV.v/100,sa=e.Wvtp.v.Wvtp,dh=Math.sin;sa=="WvTr"&&(dh=function(_e){return _e*=2/Math.PI,-.5+Math.abs(_e%2-1)}),sa=="WvSq"&&(dh=function(_e){return _e*=2/Math.PI,1+2*Math.floor(_e%2-1)});for(var Wn=[],vl=new v.N.Df(e.RndS.v),o=0;o<Ao;o++)Wn.push(vl.get()*10),Wn.push(Math.PI*Ha/(ch+vl.get()*(Lo-ch))),Wn.push($o*(ph+vl.get()*(To-ph))/Ha),Wn.push(vl.get()*10),Wn.push(Math.PI*Ha/(ch+vl.get()*(Lo-ch))),Wn.push(Yo*(ph+vl.get()*(To-ph))/Ha);for(var Oo=[],Eo=[],Xo=Math.max(ki.YY,ki.mi),o=0;o<Xo;o++){for(var gi=0,Bi=0,_n=0;_n<Ao;_n++){var cl=_n*6;gi+=Wn[cl+2]*dh(Wn[cl]+o*Wn[cl+1]),Bi+=Wn[cl+5]*dh(Wn[cl+3]+o*Wn[cl+4])}Oo[o]=Bi,Eo[o]=gi}for(var Xt=0;Xt<ki.mi;Xt++)for(var ri=0;ri<ki.YY;ri++){var o=Xt*ki.YY+ri<<1;ki.map[o]=Eo[Xt],ki.map[o+1]=Oo[ri]}xs=e.UndA.v.UndA=="WrpA"?2:1}else if(t=="Rple"){xs=1;var Ue=e.Amnt.v/100,Dh=4,Bh=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],yh=1,Ih=1,gh=0,Do=["Sml","Mdm","Lrg"].indexOf(e.RplS.v.RplS);Do==0&&(yh=1,Ih=.2,gh=3),Do==2&&(yh=1,Ih=2,gh=-1,Bh=Bh.reverse());for(var Nh=function(_e,pa){for(var Wl=Math.cos,dl=0,qs=0;qs<Dh;qs++)for(var zs=0;zs<Dh;zs++)dl+=Bh[qs*Dh+zs]*Wl(_e*(qs+gh)-pa*(zs+gh));return dl},ja=Math.floor(50/Ha),mh=new Float32Array(ja*ja*2),Bo=Ih*Ue*.5/Ha,Xt=0;Xt<ja;Xt++)for(var ri=0;ri<ja;ri++){var Ar=yh*ri*2*Math.PI/ja,an=yh*Xt*2*Math.PI/ja,Io=Nh(Ar,an),gi=(Nh(Ar+.01,an)-Io)*100,Bi=(Nh(Ar,an+.01)-Io)*100,o=(Xt*ja+ri)*2;mh[o]=gi*Bo,mh[o+1]=Bi*Bo}for(var Xt=0;Xt<ki.mi;Xt++)for(var ri=0;ri<ki.YY;ri++){var Eh=Xt%ja,Oh=ri%ja,o=Xt*ki.YY+ri<<1,No=Eh*ja+Oh<<1;ki.map[o]=mh[No],ki.map[o+1]=mh[No+1]}}}v.SX.ka(i.buffer,a.buffer,c,d,null,ki.map,ki.YY,ki.mi,xs)}return a};var $i={};$i.y7="BrSm BrsL BrDR BrsW BrbW BrSp".split(" "),$i.Ok="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" "),$i.ya=["ScrC","ScrD","ScrL"],$i.ts=["SDRD","SDHz","SDLD","SDVt"],$i.l6={PntD:"paintDaubs"},$i.names={PntD:"Paint Daubs",Spt:"Spatter",SprS:"Sprayed Strokes",BsRl:"Bas Relief",HlfS:"Halftone Pattern",GlwE:"Glowing Edges",StnG:"Stained Glass"},$i.tt=function(t){var i;return t=="PntD"&&(i={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}}),t=="Spt"&&(i={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}}),t=="SprS"&&(i={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}}),t=="BsRl"&&(i={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}}),t=="HlfS"&&(i={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}}),t=="GlwE"&&(i={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}}),t=="StnG"&&(i={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}}),i.__name="Filter Gallery",i.classID="GEfc",i.GEfk={t:"enum",v:{GEft:t}},i.GELv={t:"bool",v:!0},i},$i.t5=function(t,i,e,r,n,a,s){t=e.GEfk.v.GEft;var l=i.rect.Z,h=i.rect.h;if(t=="Spt"||t=="SprS"){var l=i.rect.Z,h=i.rect.h,o,f=1,u=1;o={YY:Math.floor(l/u),mi:Math.floor(h/u)},o.map=new Float32Array(o.YY*o.mi*2);var p=new v.N.Df(e.FlRs.v),c=new Float32Array(8192),d=e.SprR.v,g=d<20?.018*d:.36+(d-20)*.128;t=="SprS"&&(g=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][d]);for(var b=0;b<8192;b++)c[b]=(-1+2*p.get())*g*70;for(var m=0;m<h;m++)for(var x=0;x<l;x++){var M=m*l+x<<1;o.map[M]=c[M%7919],o.map[M+1]=c[(M+1)%7919]}var S=o.map.slice(0),w=t=="Spt"?e.Smth.v-1:1;if(t=="Spt"&&w!=0&&($i.Ui(o.map,S,l,h,w),$i.IZ(S,o.map,l,h,w)),t=="SprS"){var k=e.StrL.v>>>1,T=k==0?2:1;if($i.Ui(o.map,S,l,h,T),$i.IZ(S,o.map,l,h,T),k!=0){for(var L=$i.ts.indexOf(e.SDir.v.StrD),O=[1,1,1,0][L],E=[-1,0,1,1][L],D=2*k+1,B=1/D,m=0;m<h;m++)for(var x=0;x<l;x++){for(var M=m*l+x<<1,I=0,N=0,b=0;b<D;b++){var V=Math.max(0,Math.min(l-1,x-(k+b)*O)),j=Math.max(0,Math.min(h-1,m-(k+b)*E)),R=j*l+V<<1;I+=o.map[R],N+=o.map[R+1]}S[M]=I*B,S[M+1]=N*B}o.map=S}}v.SX.ka(i.buffer,a.buffer,l,h,null,o.map,o.YY,o.mi,f)}if(t=="BsRl"){var G=i.rect.M(),Z=v.R(G),_=Z.slice(0);v.np(i.buffer,Z);var U=e.Dtl.v,Y=e.Smth.v;U!=15&&(v.ni.et(Z,_,i.rect,Math.round((15-U)*.5)),v.Hk(_,Z));var $=2/l,P=2/h,tt=(2+$i.Ok.indexOf(e.LghD.v.LghD))*Math.PI*.25,I=Math.cos(tt);Math.abs(I)<.1&&(I=0),I=Math.sign(I);var N=Math.sin(tt);Math.abs(N)<.1&&(N=0),N=Math.sign(N);for(var X=1/(I*I+N*N),m=0;m<h;m++)for(var x=0;x<l;x++){var b=m*l+x,O=x==l-1?Z[b]-Z[b-1]:Z[b+1]-Z[b],E=m==h-1?Z[b]-Z[b-l]:Z[b+l]-Z[b],ht=x*$-1,F=m*P-1,J=O==0?ht:O*.4;J=Math.max(-1,Math.min(1,I*J));var Q=E==0?F:E*.4;Q=Math.max(-1,Math.min(1,N*Q)),_[b]=128+127*(J+Q)*X}Y!=1&&(v.ni.et(_,Z,i.rect,Math.round((Y-1)*.5)),v.Hk(Z,_)),v.Sv(_,a.buffer)}if(t=="PlsW__"){var G=i.rect.M(),Z=v.R(G),_=Z.slice(0);v.np(i.buffer,Z);var U=e.Dtl.v,Y=e.Smth.v;U!=15&&(v.ni.et(Z,_,i.rect,Math.round((15-U)*.5)),v.Hk(_,Z));for(var m=0;m<h;m++)for(var x=0;x<l;x++){var b=m*l+x,O=x==l-1?Z[b]-Z[b-1]:Z[b+1]-Z[b],E=m==h-1?Z[b]-Z[b-l]:Z[b+l]-Z[b],rt=O*O+E*E;_[b]=Math.max(0,255-rt*190)}for(var it=new Float32Array(G),b=0;b<G;b++)it[b]=_[b];Y!=1&&v.ni.d$(it.slice(0),it,i.rect,Math.round((Y-1)*.2));for(var m=0;m<h;m++)for(var x=0;x<l;x++){var b=m*l+x,nt=b<<2,ot=it[b],pt=a.buffer[nt],yt=a.buffer[nt+1],ct=a.buffer[nt+2],O=x==l-1?ot-it[b-1]:it[b+1]-ot,E=m==h-1?ot-it[b-l]:it[b+l]-ot,vt=-1,wt=1,Mt=0,Ct=O,gt=0,bt=1,xt=E,Dt=1;O=Mt*xt-Ct*bt,E=Ct*gt-wt*xt,vt=wt*bt-Mt*gt;var Ot=1/Math.sqrt(O*O+E*E+vt*vt);O*=Ot,E*=Ot,vt*=Ot;var kt=x-l/2,mt=m-h/2,It=l*.3,Ot=1/Math.sqrt(kt*kt+mt*mt+It*It);kt*=Ot,mt*=Ot,It*=Ot;var Bt=Math.max(0,kt*O+mt*E+It*vt);if(Bt>1)throw Bt;var Ut=Bt*255;a.buffer[nt]=Dt*Ut+(1-Dt)*pt,a.buffer[nt+1]=Dt*Ut+(1-Dt)*yt,a.buffer[nt+2]=Dt*Ut+(1-Dt)*ct}}if(t=="PntD"){var qt=e.Shrp.v*.4,Gt=e.BrsT.v.BrsT,zt={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[Gt],Nt=Math.round(e.Sz.v*.5);v.Ai.Rx=zt[0];var Kt=v.Ai.lI;Zt.$z(i.buffer,a.buffer,l,h,Nt,Kt,[],0);var ai=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];ai=v.Ai.h5(ai);var fi=a.buffer.slice(0);v.Ai.or(fi,a.buffer,l,h,ai,0);for(var b=0;b<i.buffer.length;b++){var di=a.buffer[b]-fi[b];a.buffer[b]=Math.max(0,Math.min(255,fi[b]+qt*di))}}if(t=="GlwE"){var $t=a.buffer.slice(0);v.Ai.Rx=.5;var Kt=v.Ai.lI;Zt.$z(i.buffer,$t,l,h,e.Smth.v>>>1,Kt,[],0),Zt.MG($t,a.buffer,l,h),v.Hk(a.buffer,$t),v.nJ($t),v.XB($t,4278190080,16777215),Zt.$z($t,a.buffer,l,h,e.EdgW.v>>>1,v.Ai.Rl,[],0);for(var Dt=e.EdgB.v/10,b=0;b<$t.length;b++)if((b&3)!=3){var si=a.buffer[b];a.buffer[b]=Math.max(0,Math.min(255,si*Dt))}}if(t=="StnG"){var l=i.rect.Z,h=i.rect.h;v.QN.a7P(i.buffer,l,h,a.buffer,e.ClSz.v,[Math.round(r.U),Math.round(r.S),Math.round(r.i)],e.BrdT.v)}if(t=="HlfS"){for(var li=e.HlSz.v,Li=li*2+1,vi=e.Cntr.v,yi=$i.ya.indexOf(e.ScrT.v.ScrT),G=l*h,_t=G*4,wi=v.R(G),Zi=i.buffer,Vi=0,Mi=0,b=0;b<_t;b+=4)wi[b>>>2]=~~(.5+(Zi[b]+Zi[b+1]+Zi[b+2])*(1/3));var ce=wi.slice(0);v.ni.p8(ce,wi,i.rect,li);for(var Ri=Math.PI/Li,zi=new Float64Array(l),I=new Float64Array(l),ee=new Float64Array(2*l),x=0;x<l;x++){var Be=(x-(l>>>1))*Ri;zi[x]=Be*Be,I[x]=Math.cos(Be);var O=x<<1;ee[O]=Math.sin(O*(1/4.5)),ee[O+1]=Math.sin((O+1)*(1/4.5))}for(var m=0;m<h;m++)for(var Yi=(m-(h>>>1))*Ri,N=Math.cos(Yi),Xi=Yi*Yi,x=0;x<l;x++){var Xt=N;if(yi==0){var ri=.5+Math.sqrt(zi[x]+Xi)*4.5;Xt=ee[~~ri]}else yi==1&&(Xt=I[x]*N);var b=m*l+x,Ut=wi[b]*(.75+.25*Xt),Hi=Zi[(b<<2)+3]*(1/255),re=Math.max(0,Math.min(255,~~Ut));Vi+=re*Hi,Mi+=Hi,wi[b]=re}Vi/=Mi;for(var gi=128+1.26*(Vi-128),Dt=.08+.25*Math.abs((128-Vi)/128),Bi=1+Dt*vi,b=0;b<G;b++){var Ut=gi+(wi[b]-gi)*Bi;wi[b]=Math.max(0,Math.min(255,~~Ut))}vi>46&&v.round(wi),v.Sv(wi,a.buffer)}for(var b=0;b<i.buffer.length;b+=4)a.buffer[b+3]=i.buffer[b+3]},$i.zl=function(t){for(var i=[0,0,0,0,0,0,0,0,0,0,0,0,0],e=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][t],r=0;r<13;r++){var n=r-6;i[r]=1/(e*Math.sqrt(2*Math.PI))*Math.exp(-.5*(n/e)*(n/e))}return i},$i.Ui=function(t,i,e,r,n){for(var a=$i.zl(n),s=6,l=13,h=0;h<r;h++)for(var o=0;o<e;o++){for(var f=h*e+o<<1,u=0,p=0,c=0;c<l;c++){var d=o+c-s,g=d<0?0:d>=e?e-1:d,b=(h*e+g)*2,m=a[c];u+=m*t[b],p+=m*t[b+1]}i[f]=u,i[f+1]=p}},$i.IZ=function(t,i,e,r,n){for(var a=$i.zl(n),s=6,l=13,h=0;h<r;h++)for(var o=0;o<e;o++){for(var f=h*e+o<<1,u=0,p=0,c=0;c<l;c++){var d=h+c-s,g=d<0?0:d>=r?r-1:d,b=(g*e+o)*2,m=a[c];u+=m*t[b],p+=m*t[b+1]}i[f]=u,i[f+1]=p}};function ti(){}ti.wp=[2,5,5,7,4,4],ti.YA="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(","),ti.zn="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" "),ti.Zn=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]],ti.Xf=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"],ti.pT=function(t){return t=="passThrough"?"pass":ti.YA[ti.zn.indexOf(t)]},ti.Kl=function(t){return t=="pass"?"passThrough":ti.zn[ti.YA.indexOf(t)]},ti.getName=function(t){return ti.Zn[ti.YA.indexOf(t)]};function H(){this.rect=null,this.sW="norm",this.opacity=255,this.rd=!1,this.ix=0,this.Qk=0,this.LL=[];for(var t=0;t<10;t++)this.LL.push(0,0,255,255);this.name=null,this.add={},this.buffer=null,this.fu=null,this.s5=null,this.g=null,this.NY=null,this.acv=30,this.oH=H.zG(),this.a12=H.zG(),this.abb=H.zG(),this.aiU=H.zG(),this.kB=0,this.yb=!1,this.rD=null,this.G=new H.db}H.zG=function(){var t=y.z("canvas");return t.width=t.height=30,t.getContext("2d")},H.db=function(){this.XP=!0,this.Zf=!0,this.WV=v.R(0),this.afK=v.R(0),this.h0=null,this.gg={},this.aeZ=null,this.N5=null,this.ad=null,this.ey=null,this.Ni=null,this.Db=null,this.Ks=null,this._E=null,this.Yw=null,this.hr=null,this.bd=null,this.VS=null,this.WZ=!1},H.db.prototype.cc=function(){this.XP=!1,this.Zf=!1,this.h0=null,this.WZ=q.pQ},H.db.prototype.a1R=function(){St.iL(this.gg),this.WV=v.R(0),this.afK=v.R(0),this.ey&&this.ey.delete(),this.Ni&&this.Ni.delete(),this.ey=null,this.Ni=null;for(var t=[this.Db,this.Ks,this._E,this.Yw,this.hr,this.bd],i=0;i<6;i++)t[i]!=null&&t[i]instanceof q._B&&t[i].delete();this.Db=null,this.Ks=null,this._E=null,this.Yw=null,this.hr=null,this.bd=null},H.prototype.A=function(t){t==null&&(t=this.rect.clone()),this.G.h0==null?this.G.h0=t:this.G.h0=this.G.h0.s7(t)},H.prototype.fO=function(){return this.add.lsct==Ci.lw||this.add.lsct==Ci.kE},H.prototype.ws=function(){var t=this.add;return t.SoCo!=null||t.GdFl!=null||t.PtFl!=null},H.prototype.pc=function(){var t=this.add.lmfx;if(t!=null)for(var i=["GrFl","patternFill"],e=0;e<i.length;e++){var r=at.og[at.order.indexOf(i[e])],n=t[r].v;if(n.length!=0)for(var a=0;a<n.length;a++){var s=n[a].v;s.enab.v&&(s.Algn==null||!s.Algn.v)&&(this.G.Zf=!0)}}},H.prototype.cE=function(){var t=this.g;return this.ws()&&(t=this.jk()),q.pQ?((this.G.Ni==null||this.G.XP||q.pQ!=this.G.WZ)&&(this.G.Ni&&this.G.Ni.delete(),this.G.Ni=new q.p5(t.o7().Z,t.o7().h),this.G.Ni.set(t.yX())),this.G.Ni):t.yX()},H.prototype.XC=function(t){var i=this.rect,e=this.buffer;if(!q.pQ){var r=this.$j(t,e,i);return r&&(e=r.Ww,i=r.rect),e}if(this.G.h0!=null||q.pQ!=this.G.WZ){var r=this.$j(t,e,i);r&&(e=r.Ww,i=r.rect);var n=i;if(q.pQ!=this.G.WZ||this.G.ey==null||this.G.ey.Z!=n.Z||this.G.ey.h!=n.h)this.G.ey&&this.G.ey.delete(),this.G.ey=new q._B(n.Z,n.h),this.G.ey.set(e);else{var a=this.G.h0.clone();a.offset(-i.x,-i.y),this.G.ey.set(e,a)}}return this.G.ey},H.prototype.UW=function(){var t=this.g;return this.ws()&&(t=this.jk()),t!=null&&t.isEnabled&&(t.T6()==0||t.T6()!=0&&!t.rect.qr())},H.prototype.$j=function(t,i,e){if(this.gO()){var r=this.yg(t);if(r.g&&r.g.isEnabled&&(!r.g.rect.qr()||r.g.color==0)){var n=this.add.SoLd.filterFX.v;r.g.au=n.filterMaskDensity?n.filterMaskDensity.v:255,r.g.bM=n.filterMaskFeather?n.filterMaskFeather.v:0;var a=r.buffer,s=r.g.kx(e);return v.nJ(s),i=v.clone(i),v.N.$e(a,r.rect,i,e,s,e,0,e,1),{Ww:i,rect:e}}}},H.prototype.ajs=function(){var t={pH:!1,EJ:!1,XW:0,tD:0};return this.add.vmsk&&this.add.vmsk.isEnabled&&(t.EJ=!0),this.jk()&&this.jk().isEnabled&&(t.pH=!0),t.pH&&t.EJ&&(t.XW=this.jk().rect.x-this.add.vmsk.jk().rect.x,t.tD=this.jk().rect.y-this.add.vmsk.jk().rect.y),t},H.prototype._V=function(t){if(this.add.lsct!=Ci.Qi){var i=this,e=this.jk()!=null&&this.jk().G2,r=this.add.vmsk!=null&&this.add.vmsk.G2,n=this.ajs(),a=JSON.stringify(n)!=this.G.aeZ||n.pH&&e||n.EJ&&r;if(a){if(n.EJ){var s=this.add.vmsk.jk();n.pH?(this.g=this.jk().$T(s),this.G.N5=new st(this.g.rect.x-this.jk().rect.x,this.g.rect.y-this.jk().rect.y)):this.g=s}this.g&&(this.G.XP=!0),this.g&&(this.G.ad=new st(this.rect.x-this.g.rect.x,this.rect.y-this.g.rect.y)),n.pH&&(this.jk().G2=!1),n.EJ&&(this.add.vmsk.G2=!1),this.A()}else n.pH&&n.EJ&&(this.g.rect.x=this.jk().rect.x+this.G.N5.x,this.g.rect.y=this.jk().rect.y+this.G.N5.y);if(i.ws()&&this.fe(t),i.Mq()){var l;this.g&&(l=new st(this.rect.x-this.g.rect.x,this.rect.y-this.g.rect.y)),this.g&&this.g.isEnabled&&(this.G.ad==null||!l.Qn(this.G.ad))&&(this.G.ad=l,this.A(),this.G.XP=!0)}Vt.get(i.add)!=null&&(this.G.XP=!0),this.G.aeZ=JSON.stringify(n)}},H.prototype.fe=function(t){var i=this,e=i.add.vstk,r,n=i.add.vmsk?this.add.vmsk.jk():null,a=!0;n&&n.isEnabled&&n.T6()==0?r=n.o7().clone():r=new et(0,0,t.Z,t.h);var s=i.jk();s&&s.isEnabled&&s.T6()==0&&(r=r.$X(i.g.o7()));var l=n&&e;e&&(!e.strokeEnabled.v||e.strokeStyleLineWidth.v.val==0)&&(l=!1),e&&!e.fillEnabled.v&&l&&(a=!1);var h=v.R(r.M()*4);if(a&&(i.add.SoCo&&St.n_(h,i.add.SoCo.Clr.v),i.add.GdFl&&St.fE(i.add.GdFl,h,r,t,null,n&&n.color==0?n.rect:null),i.add.PtFl&&St._$(i.add.PtFl,h,r,t,i.add.fxrp)),n){var o=n.au;l&&(n.au=255);var f=v.R(r.M());if(n.T6()!=0&&v.set(f,Math.round(n.T6())),n&&n.isEnabled){var u=n.o7(),p=n.yX();u.Qn(r)?v.Hk(p,f):v.Lj(p,u,f,r)}i.add.SoCo&&a?v.Oy(f,h,3):v.pa(f,r,h,r),l&&(n.au=o)}if(i.buffer=h,i.rect=r,l){var c=at.bW.Ph.indexOf(e.strokeStyleLineAlignment.v.strokeStyleLineAlignment),d=e.strokeStyleContent.v,g=at.bW.bl.indexOf(d.classID),b=this.add.vmsk.jk(e);if(i.rect.Qn(new et(0,0,t.Z,t.h)))i.rect=i.rect;else if(c!=0){var m=i.rect.s7(b.o7()),x=v.R(m.M()*4);v.BP(i.buffer,i.rect,x,m),i.buffer=x,i.rect=m}var o=b.au;b.au=255;var M=b.kx(i.rect);b.au=o,b.color==255&&v.nJ(M);var S=v.R(i.rect.M()*4);g==0&&St.n_(S,d.Clr.v),g==1&&St.fE(d,S,i.rect,t,null,n.color==0?n.rect:null),g==2&&St._$(d,S,i.rect,t,i.add.fxrp);var w=e.strokeStyleOpacity.v.val/100;if(w!=1&&v.WI(M,w),v.Oy(M,S,3),b.color==255&&(c=2-c),c==0&&(v.N.DO("norm",S,i.rect,i.buffer,i.rect,i.rect,1),v.pa(f,i.rect,i.buffer,i.rect)),c==1&&v.N.DO("norm",S,i.rect,i.buffer,i.rect,i.rect,1),c==2&&(v.nJ(f),v.N.$e(S,i.rect,i.buffer,i.rect,f,r,255,i.rect,1,!1),v.nJ(f)),b.au!=255){var k=v.clone(S);v.XB(k,4278190080,16777215),v.N.DO("norm",k,i.rect,i.buffer,i.rect,i.rect,1-b.au/255)}o=n.au,n.au=255,this.afK=n.kx(i.rect),n.au=o}this.A()},H.prototype.Gy=function(t,i){var e=this,r=e.add.SoLd.Idnt.v,n=e.add.SoLd,a=v.D.nP(C.X.AC(n.nonAffineTransform)),s=t._p(r,n.Crop?n.Crop.v:null,[a.Z,a.h],n.Impr.v.classID);if(s!=null){var l=s.DW;n.Sz.v.Wdth.v=l[1].Z,n.Sz.v.Hght.v=l[1].h;var h=n.warp.v,o=C.X.AC(n.nonAffineTransform),f=v.P.bg(o,l[1]);if(h&&!v.mD.O8(h)){var a=v.D.nP(v.mD.ij(h)),u=a.x,p=a.y,c=1/a.Z,d=1/a.h;f=v.P.bg(o),f=v.P.$T(f,[c,0,-u*c,0,d,-p*d,0,0])}var g=C.X.rx(l,i?0:1,f,h,null,null,null,i);if(g==null)e.buffer=v.R(),e.rect=new et;else if(e.gO()){var b=e.yg(t);b.buffer=g.buffer,b.rect=g.rect.clone(),this.jc(t,i)}else e.buffer=g.buffer,e.rect=g.rect;e._V(t),e.A(),t.A()}},H.prototype.jc=function(t,i){i==null&&(i=!1);var e=this.yg(t),r=this.add.SoLd.filterFX.v,n=Zt.a31(r),a=new et(0,0,t.Z,t.h),s=e.rect.s7(a),l=e.rect.clone();l.PK(n.x,n.y);var h={buffer:null,rect:s.$X(l)};if(h.buffer=v.R(h.rect.M()*4),v.BP(e.buffer,e.rect,h.buffer,h.rect),r.enab.v&&i==!1)for(var o=r.filterFXList.v,f=0;f<o.length;f++){var u=o[f].v;if(u.enab.v!=!1){var p=v.j.T6(u.FrgC.v),c=v.j.T6(u.BckC.v),d=Zt.l$(u),g=u.Fltr?u.Fltr.v:null;if(Vt.NS[d]!=null){var b=Vt.NS[d],m=Vt.VM(b,g);m&&Vt.t5(m,h.buffer,h.buffer,h.rect)}else h=Zt.t5(d,h,g,p,c,null,[t.add.lnk2?t.add.lnk2:[],this.jk(),t.Yq])}}this.rect=h.rect,this.buffer=h.buffer,this.HZ(),this.A(),t.A()},H.prototype.WC=function(t,i,e){this.rD=this.ce(t,i,e)},H.prototype.zp=function(t,i){var e=this.ce(t,i,!0);if(e==null)return null;var r={wH:e.kB,Tr:e.zU,rect:e.RL};if(r.wH==1||r.wH==3){var n=r.rect,a=v.R(n.Z*n.h*4);v.Oy(r.Tr,a,0),v.Oy(r.Tr,a,1),v.Oy(r.Tr,a,2),v.F_(t.K.channel,t.K.rect,a,n),r.Tr=a}return r},H.prototype.ce=function(t,i,e){var r,n,a,s,l,h,o;if(this.kB<=0){var f=v.R(this.rect.M());if(v.E4(this.buffer,f,3),r=v.pv.f7(i,{channel:f,rect:this.rect},"intersection"),r==null)return null;var u=v.xw(r.channel,r.rect);if(s=r.rect.clone(),l=this.rect.clone(),n=v.R(s.M()*4),v.BP(this.buffer,l,n,s),v.Oy(r.channel,n,3),a=v.clone(this.buffer),!e){var p=v.clone(i.channel);v.nJ(p),v.pa(p,i.rect,a,l)}h=v.clone(this.buffer),o=this.rect.clone()}if(this.kB==1||this.kB==3){var c=this.kB==1?this.jk():this.yg(t).g;s=i.rect.clone(),l=c.rect.clone(),n=c.x6(s);var a=v.clone(c.channel);e||v.N.fG(c.color==255?v.AA(s.M()):v.Zm(s.M()),s,a,l,i.channel,s,1),h=v.clone(c.channel),o=c.rect.clone()}return{kB:this.kB,zU:n,RL:s,gx:a,OJ:l,ny:h,oK:o}},H.prototype.Z9=function(t,i){var e=this.rD;if(e.kB==0&&(this.rect=e.oK,this.buffer=e.ny,this.A()),e.kB==1||e.kB==3){var r=e.kB==1?this.jk():this.yg(t).g;r.channel=e.ny,r.rect=e.oK,this.kB==1&&(r.G2=!0,this._V(t)),this.kB==3&&this.A()}this.rD=i},H.prototype.Je=function(t,i){if(this.kB<=0&&i.rect.Qn(this.rect)){var e=v.R(this.rect.M());if(v.E4(this.buffer,e,3),v.Qn(t.K.channel,e)){var r=this.rect,n=this.buffer;return this.rD={kB:this.kB,zU:n.slice(0),RL:r.clone(),gx:v.R(0),OJ:new et,ny:v.R(0),oK:new et},!0}}var a=this.rD;if(a==null||a.kB!=this.kB||!i.rect.Qn(a.RL))return!1;var s=a.OJ.s7(a.RL);if(a.kB<=0){if(!s.Qn(this.rect))return!1;var l=v.R(a.zU.length>>2);if(v.E4(a.zU,l,3),!v.Qn(i.channel,l))return!1;var h=v.R(s.Z*s.h*4);return v.BP(a.gx,a.OJ,h,s),v.N.DO("norm",a.zU,a.RL,h,s,s,1),v.Qn(h,this.buffer)}if(a.kB==1||a.kB==3){var o=a.kB==1?this.jk():this.yg(t).g;if(!s.Qn(o.rect))return!1;var f=v.R(s.M());return v.set(f,o.color),v.Lj(a.gx,a.OJ,f,s),v.N.fG(a.zU,a.RL,f,s,i.channel,s,1),v.Qn(f,o.channel)}},H.prototype.CH=function(t,i,e,r){var n=this.rD;n.RL.offset(i,e);var a=n.OJ.s7(n.RL);if(n.kB<=0){var s=v.R(a.M()*4);v.BP(n.gx,n.OJ,s,a),v.N.DO("norm",n.zU,n.RL,s,a,a,1),this.buffer=s,this.rect=a,this.A()}else{var l=this.kB==1?this.jk():this.yg(t).g,h=v.R(a.M());v.set(h,l.color),v.Lj(n.gx,n.OJ,h,a),v.N.fG(n.zU,n.RL,h,a,r.channel,a,1),l.channel=h,l.rect=a.clone(),this.kB==1&&(l.G2=!0,this._V(t)),this.kB==3&&this.A()}},H.prototype.bD=function(){var t=[-1,0,1,2];return this.g&&t.push(-2),this.NY&&t.push(-3),t},H.prototype.getName=function(){return this.add.luni?this.add.luni:this.name},H.prototype.uf=function(t){this.add.luni=this.name=t},H.prototype.cg=function(t){var i=this.add.lnsr,e=this.add.TySh;i=="rend"&&e&&this.uf(lt.jn(e.MF).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))},H.prototype.UQ=function(){return(this.ix&1<<1)==0},H.prototype.Mq=function(){return(this.ix&1<<4)==0},H.prototype.dL=function(){return(this.ix&1<<5)!=0},H.prototype.a5u=function(){var t=this;t.add.lnsr!="bgnd"&&(t.add.lnsr="bgnd",t.uf("Background"),t.add.lspf=1<<2)},H.prototype.a4z=function(){var t=this;t.add.lnsr=="bgnd"&&(delete t.add.lnsr,t.uf("Layer 0"),t.add.lspf=0)},H.prototype.k6=function(t){var i=this.add.lspf;return i==null?!1:(i>>t&1)!=0},H.prototype.vR=function(t){t&&!this.UQ()&&(this.ix-=2),!t&&this.UQ()&&(this.ix+=2)},H.prototype.su=function(){var t=this.add.lmfx;if(t==null)return!1;for(var i in t)if(i!="masterFXSwitch"&&i!="Scl"&&i!="classID"&&t[i].v.length>0)return!0;return!1},H.prototype.gO=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null},H.prototype.nR=function(){var t=this.add.lmfx;if(t==null||!t.masterFXSwitch.v)return!1;for(var i in t)if(i!="masterFXSwitch"&&i!="Scl"&&i!="classID"){for(var e=t[i].v,r=0;r<e.length;r++)if(e[r].v.enab.v)return!0}return!1},H.prototype.G_=function(t,i,e,r){var n=new et,a=this.Ys(t,e,r);if(a.indexOf(0)!=-1&&(n=n.s7(this.rect)),a.indexOf(1)!=-1&&(n=n.s7(this.jk().o7())),a.indexOf(2)!=-1){var s=this.add.vmsk,l;if(i)if(s.s_.length>1){var h=v.V.dq(s.b,null,s.s_);l=v.D.nP(h)}else l=v.V.ue(s.b,s.p.length!=0?s.p:null);else l=v.V.ue(s.b);n=n.s7(l)}return a.indexOf(3)!=-1&&(n=n.s7(this.yg(t).g.o7())),a.length==0&&this.ws()&&(n=new et(0,0,t.Z,t.h)),n},H.prototype.sc=function(){var t=this.add.artb.artboardRect.v,i=t.Btom.v,e=t.Left.v,r=t.Rght.v,n=t.Top.v;return new et(e,n,r-e,i-n)},H.prototype.BE=function(t){var i=H.xE(t);this.add.artb==null&&(this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}}),this.add.artb.artboardRect.v=i},H.xE=function(t){var i={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};return i.Btom.v=t.y+t.h,i.Left.v=t.x,i.Rght.v=t.x+t.Z,i.Top.v=t.y,i},H.prototype.Ys=function(t,i,e){var r=[],n=this,a=this.yb;return!i&&n.yb&&e?r.push(2):n.kB<=0||i?(n.Mq()&&(this.rect.qr()||r.push(0)),n.jk()&&!n.jk().rect.qr()&&(n.jk().AU||i)&&r.push(1),n.add.vmsk&&(n.add.vmsk.AU||i)&&r.push(2),n.gO()&&n.yg(t).g&&!n.yg(t).g.rect.qr()&&r.push(3)):n.kB==1?(r.push(1),n.jk().AU&&!n.jk().rect.qr()&&(n.Mq()&&(this.rect.qr()||r.push(0)),n.add.vmsk&&n.add.vmsk.AU&&r.push(2))):n.kB==3&&!n.yg(t).g.rect.qr()&&r.push(3),n.add.artb&&r.indexOf(0)==-1&&r.push(0),r.sort(),r},H.prototype.jk=function(){var t=this;return t.NY?t.NY:t.add.vmsk&&t.add.vmsk.isEnabled?null:t.g},H.prototype.yg=function(t){var i=this.add.SoLd.placed.v,e=t.add.FEid;if(e==null)return null;for(var r=0;r<e.length;r++)if(e[r].id==i)return e[r];return null},H.prototype.extend=function(t){v.aao(this,t)},H.prototype.xn=function(t,i,e){var r=t.clone();if(this.nR()){for(var n=this.add.lmfx,a=i.root.V$(i.r.indexOf(this)),s=n.gradientFillMulti.v,l=!1,h=0;h<s.length;h++)s[h].v.enab.v&&s[h].v.Algn.v&&(l=!0);l&&(r=r.s7(a.o7(i,!1)));var o=St.a5J(this,i,e);r.offset(o.x,o.y),r.Z+=o.Z,r.h+=o.h}return r},H.prototype.HZ=function(){this.Mq()&&v.mn(this);var t=this.jk();t&&t.HZ()},H.prototype.clone=function(){var t=new H;t.rect=this.rect.clone(),t.buffer=v.clone(this.buffer),t.sW=this.sW,t.opacity=this.opacity,t.rd=this.rd,t.ix=this.ix,t.name=this.name,t.LL=this.LL.slice(0),this.g&&(t.g=this.g.clone()),this.NY&&(t.NY=this.NY.clone());for(var i in this.add)t.add[i]=pr.clone(i,this.add[i]);return t},H.prototype.Um=function(t){var i=this;if(i.add.TySh&&delete i.add.TySh,i.add.SoLd){var e=this.$j(t,this.buffer,this.rect);e&&(this.buffer=e.Ww,this.rect=e.rect,this.A()),delete i.add.SoLd}(i.add.SoCo||i.add.GdFl||i.add.PtFl)&&(i.add.vogk&&delete i.add.vogk,i.add.SoCo&&delete i.add.SoCo,i.add.GdFl&&delete i.add.GdFl,i.add.PtFl&&delete i.add.PtFl,i.add.vmsk&&(console.log(i.NY,i.g),delete i.add.vmsk,i.NY==null&&i.g?delete i.g:i.NY!=null&&i.g!=null&&(i.g=i.NY,delete i.NY))),!i.fO()&&Vt.get(i.add)==null&&!this.Mq()&&(this.ix-=16)},H.prototype.rq=function(t){var i=255,e=0;if(t==2){var r=this.add.SoLd.filterFX.v;r.filterMaskDensity&&(i=r.filterMaskDensity.v),r.filterMaskFeather&&(e=r.filterMaskFeather.v)}else{var n=t==0?this.jk():this.add.vmsk;i=n.au,e=n.bM}return{SA:t,gh:i,l8:e}},H.prototype.tC=function(t){if(t.SA==2){var i=this.add.SoLd.filterFX.v;t.gh==255?delete i.filterMaskDensity:i.filterMaskDensity={t:"long",v:t.gh},t.l8==0?delete i.filterMaskFeather:i.filterMaskFeather={t:"doub",v:t.l8},this.A()}else{var e=t.SA==0?this.jk():this.add.vmsk;e.au=t.gh,e.bM=t.l8,e.G2=!0}},H.prototype.h7=function(){var t=this,i=t.add.vmsk;i!=null&&(t.add.vogk=H.h7(i.b))},H.h7=function(t){for(var i=[],e=v.V.k3(t),r=0;r<e;r++)i.push(v.P$.Zm());return i};var Ci={eZ:0,lw:1,kE:2,Qi:3};H.vm=function(){this.name="Mask",this.gG=!1,this.u9={U:255,S:0,i:0},this.oE=50,this.iy=0,this.color=255,this.AU=!0,this.isEnabled=!0,this.tA=!1,this.au=255,this.bM=0,this.rect=new et,this.channel=v.R(0),this.YW=null,this.adz=null,this.G2=!0},H.vm.prototype.$T=function(t){if(!this.isEnabled)return t;var i=new H.vm;i.color=Math.round(this.T6()*t.T6()/255),this.T6()==0&&t.T6()==0?i.rect=this.o7().$X(t.o7()):t.T6()==0?i.rect=t.o7().clone():this.T6()==0?i.rect=this.o7().clone():i.rect=this.o7().s7(t.o7()),i.channel=this.kx(i.rect),i.au=255,i.bM=0;var e=t.kx(i.rect);return v.a3E(e,i.rect,i.channel,i.rect),i},H.vm.prototype.o7=function(){if(this.bM==0)return this.rect;var t=Math.ceil(this.bM*2.2),i=this.rect.clone();return i.PK(t,t),i},H.vm.prototype.yX=function(){if(this.bM==0&&this.au==255)return this.channel;if(this.bM==0){var e=v.clone(this.channel);return v.nJ(e),v.WI(e,this.au/255),v.nJ(e),e}var t=this.o7(),i=this.x6(t),e=v.R(t.M());return v.ni.et(i,e,t,this.bM),this.au!=255&&(v.nJ(e),v.WI(e,this.au/255),v.nJ(e)),e},H.vm.prototype.T6=function(){return Math.round(255-(255-this.color)*(this.au/255))},H.vm.prototype.extend=function(t){v.extend(this,t,this.color)},H.vm.prototype.HZ=function(){this.color==255&&v.nJ(this.channel),v.HZ(this),this.color==255&&v.nJ(this.channel)},H.vm.prototype.clone=function(){var t=new H.vm;return t.name=this.name,t.gG=this.gG,t.u9=this.u9,t.oE=this.oE,t.iy=this.iy,t.color=this.color,t.AU=this.AU,t.isEnabled=this.isEnabled,t.tA=this.tA,t.au=this.au,t.bM=this.bM,t.rect=this.rect.clone(),t.channel=v.clone(this.channel),t},H.vm.prototype.x6=function(t,i){return i==null&&(i=v.R(t.M())),v.set(i,this.color),v.Lj(this.channel,this.rect,i,t),i},H.vm.prototype.kx=function(t,i){var e=this.o7(),r=this.yX();return i==null&&(i=v.R(t.M())),v.set(i,this.T6()),v.Lj(r,e,i,t),i},H.iO=function(){this.AU=!0,this.isEnabled=!0,this.au=255,this.bM=0,this.b=[{type:6},{type:8,all:0}],this.A2=[-3,-3],this.mt=!1,this.NY=null,this.G2=!0,this.p=[],this.s_=[]},H.iO.prototype.offset=function(t,i){this.NY=this.jk(),v.V.G5(this.b,new Et(1,0,0,1,t,i)),this.NY.rect.offset(t,i)},H.iO.prototype.jk=function(t){if(!this.G2&&this.NY&&t==null)return this.NY.isEnabled=this.isEnabled,this.NY;var i=v.V.ue(this.b);if(i.M()>3e4*3e4&&(i=new et(0,0,100,100)),t){var e=Math.ceil(t.strokeStyleLineWidth.v.val);i.PK(e,e)}i=v.D.pd(i);var r=new H.vm;return r.color=v.V.vq(this.b)?0:255,r.AU=this.AU,r.isEnabled=this.isEnabled,r.tA=!0,r.rect=i,r.au=this.au,r.bM=this.bM,r.channel=v.R(r.rect.M()),i.qr()||v.V.aex(this.b,r.channel,r.rect,t),t==null&&(this.NY=r,this.G2=!1),r},H.iO.prototype.clone=function(){var t=new H.iO;return t.AU=this.AU,t.isEnabled=this.isEnabled,t.au=this.au,t.bM=this.bM,t.b=H.iO.Cm(this.b),t.A2=this.A2.slice(0),t.mt=this.mt,t.p=this.p.slice(0),t.s_=this.s_.slice(0),t},H.iO.prototype.concat=function(t){var i=t.b.slice(2);i.length!=0&&(i[0].IO=3,this.b=this.b.concat(i))},H.iO.Cm=function(t){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.type>5||r.type==0||r.type==3?i.push(JSON.parse(JSON.stringify(r))):i.push({type:r.type,wU:r.wU.clone(),_:r._.clone(),dv:r.dv.clone()})}return i},H.iO.ajg=function(t,i,e){if(t.length!=i.length)return!1;for(var r=2;r<t.length;r++){var n=t[r],a=i[r];if(n.type!=a.type)return!1;if(n.type==0||n.type==3){if(n.length!=a.length||!e&&n.IO!=a.IO)return!1}else if(!n.wU.Qn(a.wU)||!n._.Qn(a._)||!n.dv.Qn(a.dv))return!1}return!0},H.iO.prototype.ahk=function(){for(var t=this.b,i=3;i<t.length;i++)(t[i].type==0||t[i].type==3)&&(t[i].IO=-1)},H.Zr=function(){this.type=null,this.Sp=2,this.Za=null,this.Z5="",this.d1="",this.EC="",this.open=0,this.raw=null,this.DW=null,this.a56=""},H.Zr.prototype.clone=function(){var t=new H.Zr;return t.type=this.type,t.Sp=this.Sp,t.Za=this.Za,t.Z5=this.Z5,t.d1=this.d1,t.EC=this.EC,t.open=this.open,t.raw=new Uint8Array(this.raw.buffer.slice(0)),t},H.Zr.prototype.lD=function(t,i,e){e==null&&(e="none");var r=this,n=ft.Xh(r.raw.buffer),a=n=="svg"||n=="pdf";if(r.DW){var s=i&&a&&Math.max(r.DW[1].Z,r.DW[1].h)<Math.max(i[0],i[1]);if(!s&&e==this.a56)return}if(this.a56=e,a||(t=0),n==null)return alert("Unsupported format: "+A.$o(r.raw,0,4)),null;var l=ft.$I(n);if(l.Vi){var h=new Pt(name+(n=="psd"?"":"-"+n)+".psd"),o;l.xo(r.raw.buffer,h,i);var f=new et(0,0,h.Z,h.h);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(e)!=-1){for(var u=[],p=0;p<h.r.length;p++){var c=h.r[p],d=c.buffer;c.rect.Qn(f)||(d=v.R(f.M()*4),v.BP(c.buffer,c.rect,d,f),console.log("resizing")),u.push(d)}o=v.R(f.M()*4),v.stack.stack(u,o,e)}else{for(var p=0;p<h.r.length;p++)h.r[p].ws()&&h.r[p]._V(h);h.dr(),h.A(),h.tf(),o=h.lD()}r.DW=[o,f]}else if(l){var g=l.xo(r.raw.buffer)[0];r.DW=[new Uint8Array(g.data),g.ym]}if(r.DW){if(t==1){var d=r.DW[0],b=r.DW[1],m=v.R(b.M());v.E4(d,m,3);var x=v.xw(m,b),M=v.R(x.M()*4);v.BP(d,b,M,x),r.DW=[M,x]}v.hE(r.DW)}},H.xm="0",H.R0="2",H.IQ="2.5",H.eV="3",H.ps="4",H.Eg="4.5",H.Ml="5",H.RO="5.5",H.Bo="6",H.cl="7",H.eH="7.5",H.SG="8",H.FI="9",H.iQ="9.3",H.ck="9.5",H.Hj="9.6",H.kX="10",H.OT="11",H.yV="12",H.tN="13",H.gk="13.5",H.rb="13.7",H.hy="14",H.aY="14.5",H.cN="15",H.yN="16",H.dh="17",H.t7="18",H.Ax="19",H.I8="19.5",H.IB="19.6",H.K6="19.7",H.N1="20",H.Ot="21",H.Lm="21.5",H.Ib="22",H.t_="22.5",H.K7="23",H.agN="24",H.Tq="25",H.cJ="26",H.yf="27",H.r5="28",H.Dv="29",H.uP="30",H.zO="31",H.Nm="32",H.QR="33",H.uv="34",H.yn="35",H.iN="36",H.Fv="36.5",H.$t="37",H.Aj="37.5",H.a2V="37.6",H.u$="38",H.FW="38.5",H.Sc="38.6",H.Pj="39",H.FO="40",H.M_="41",H.$Z="42",H.Hl="50",H.y6="51",H.s4="52",H.BI="53",H.cB="54",H.Op="54.5",H.kF="54.6",H.k2="54.7",H.bj="54.8",H.WF="55",H.F0="56",H.qZ="57",H.IM="58",H._S="59";function Se(){this.depth=0,this.index=-1,this.n=null,this.agq=null,this.rS=-1,this.children=null,this.parent=null,this.to=null}Se.prototype.a7U=function(){var t=0;if(this.n.fO())for(var i=0;i<this.children.length;i++)t+=this.children[i].a7U();else this.n.buffer&&(t+=this.n.buffer.length);return t},Se.prototype.V$=function(t){var i=this.to[t];return this.to[t]},Se.prototype.k$=function(t,i){var e=this.n;if(!e.UQ()||e.k6(2)||e.k6(31))return null;if(e.UW()){var r=e.g.rect.dg(t);if(!r&&e.g.color==0)return}if(e.fO())for(var n=0;n<this.children.length;n++){var a=this.children[n];a.k$(t,i)}else e.rect.dg(t)&&i.push(this.index)},Se.prototype.cp=function(t,i){var e=this.n;if(!e.UQ()||e.k6(2)||e.k6(31))return null;if(e.UW()){if(e.g.rect.oz(t)){if(!v.cp(t,e.g.channel,e.g.rect))return null}else if(e.g.color==0)return null}if(e.fO()){for(var r=this.children.length-1;r>=0;r--){var n=this.children[r],a=n.cp(t,i);if(a&&i==null)return a}return null}else if(e.add.TySh&&e.rect.oz(t)||v.aiC(t,e.buffer,e.rect)){if(i==null)return this;i.push(this.index)}return null},Se.prototype.aiV=function(t){var i=this.n;if(!i.UQ()||i.k6(2)||i.k6(31))return null;var e=i.add.vmsk;if(e&&e.isEnabled){var r=v.V.cp(e.b,t).XN;if(r!=-1)return{al3:this,aju:r}}if(i.fO()){for(var n=this.children.length-1;n>=0;n--){var a=this.children[n],s=a.aiV(t);if(s)return s}return null}return null},Se.prototype.as=function(t,i){if(t.push(this.index),this.n.fO()){if(t.push(this.rS),i&&this.n.kB==1&&this.n.jk().AU==!1)return;for(var e=0;e<this.children.length;e++)this.children[e].as(t)}},Se.prototype.m2=function(t,i,e){var r=this.n,n,a;r.fO()&&r.add.artb!=null&&(i=r.sc()),i.Z>i.h?(n=e,a=Math.floor(e*(i.h/i.Z))):(n=Math.floor(e*(i.Z/i.h)),a=e),(r.ws()&&r.add.vmsk==null||r.add.TySh)&&(n=a=Math.max(a,16));var s=a,l=r.ws()&&r.add.vmsk;if(l){var h=r.rect.clone(),o,f;h.qr()&&(h=new et(0,0,20,20));var u=h.Z,p=h.h;u>p?(o=e,f=Math.floor(e*(p/u))):(o=Math.floor(e*(u/p)),f=e),o*f==0&&(o=f=16),v.ZL.Eo(r.oH,o,f,h,r.buffer,r.rect,!1),v.ZL.a7d(r.oH,o,f),s=f}else r.add.TySh?v.ZL.amE(r.oH,s,s,r.add.TySh):r.add.SoCo?(s=Math.max(16,Math.min(n,a)),v.ZL.a5w(r.oH,s,s,r.add.SoCo)):r.add.GdFl?v.ZL.a5R(r.oH,s,s,r.add.GdFl):r.add.PtFl?v.ZL.ail(r.oH,s,s,r.add.PtFl,t):Vt.get(r.add)!=null?v.ZL.a7k(r.oH,s,s,r.add):r.add.SoLd?(v.ZL.Eo(r.oH,n,a,i,r.buffer,r.rect,!1),v.ZL.ahC(r.oH,n,a,r.add.SoLd)):r.fO()?s=16:r.Mq()?v.ZL.Eo(r.oH,n,a,i,r.buffer,r.rect,!1):v.ZL.a3s(r.oH,s,s);var c=r.jk();if(c&&v.ZL.dp(r.a12,n,a,i,c),r.gO()&&r.yg(t)&&r.yg(t).g){var d=r.yg(t).g;v.ZL.dp(r.aiU,n,a,i,d)}if(!l&&r.add.vmsk&&v.ZL.dp(r.abb,n,a,i,r.add.vmsk.jk(),!0),(r.add.vmsk||c)&&(s=Math.max(s,a)),r.acv=Math.max(s,16),r.fO()&&r.add.lsct==Ci.lw)for(var g=0;g<this.children.length;g++)this.children[g].m2(t,i,e)},Se.prototype.E7=function(t,i,e,r){this.depth=e;var n=t[i];if(r==null&&(r=[]),this.to=r,n.add.lsct==Ci.Qi){this.agq=n,this.rS=i-1,this.children=[];for(var a=i+1;;){var s=t[a];if(s==null&&console.log(a,t.length),s.add.lsct==Ci.lw||s.add.lsct==Ci.kE){n.add.lyid==s.add.lyid&&(n.add.lyid+=16777215),this.n=s,this.index=a-1,r[this.index]=this,r[i-1]=this;break}var l=new Se;l.parent=this,a=l.E7(t,a,e+1,r),this.children.push(l)}return a+1}else return this.n=n,this.index=i-1,r[this.index]=this,i+1},Se.prototype.Ch=function(t,i,e,r){for(var n=this.V$(e),a=t;n.parent!=null;)a=n.n.xn(a,i,r),n=n.parent;return a},Se.prototype.o7=function(t,i){var e=this.n,r=new et;if(!e.UQ())return r;var n=e.jk();if(e.fO())for(var a=0;a<this.children.length;a++){var s=this.children[a].o7(t,!0);r=r.s7(s)}else Vt.get(e.add)!=null?r=e.UW()&&e.g.color==0?e.g.o7().clone():new et(0,0,t.Z,t.h):e.ws()&&e.add.vmsk&&e.add.vmsk.isEnabled&&e.add.vstk?r=e.rect.clone():e.ws()&&n&&n.isEnabled&&n.T6()!=0?r=new et(0,0,t.Z,t.h):(r=e.G_(t,!1,!0),e.add.vmsk&&(r=v.D.pd(r)));return i?e.xn(r,t):r},Se.prototype.Uz=function(t,i,e,r,n){var a=this.n,s=St.CX(a);if(!!a.UQ()){if(a.opacity==255){this.E9(t,i,e,r,n);return}var l=v.clone(t);this.E9(l,i,e,r,n),v.N.$e(l,i,t,i,null,null,0,e,a.opacity/255,a.sW=="diss")}},Se.prototype.E9=function(t,i,e,r,n){var a=this.n,s=St.CX(a),l=Vt.get(a.add)!=null,h,o;if(a.fO()&&a.sW=="pass"&&!a.UW()&&!(n.length>0||s.fill!=1||a.nR())){this.GE(t,i,e,r);return}var f=a.fO()&&a.sW=="pass"&&(n.length>0||s.fill!=1||a.nR()),u=a.rect,p=a.buffer;if(a.fO()){u=this.o7(r,!1);var c=v.R(u.M()*4);h=v.R(u.M()),this.GE(c,u,e,r),v.E4(c,h,3)}else l?(u=i.clone(),h=v.R(u.M()),v.set(h,255)):(u=a.rect,h=v.R(u.M()),v.E4(p,h,3));if(a.UW()){var d=a.g.kx(u);v.vB(d,h)}if(a.nR()&&(o=St.n6(a.add.lmfx,a.add.fxrp,h,u,r)),a.nR()&&St.vO(a.add.lmfx,o,u,t,i,e),a.fO()){if(p=v.R(u.M()*4),a.sW=="pass"&&v.BP(t,i,p,u),f){var c=v.R(u.M()*4);this.GE(c,u,e,r);var g=v.R(u.M());v.E4(c,g,3),v.pa(g,u,p,u)}this.GE(p,u,e,r)}if(l){p=v.clone(t),v.XB(p,4278190080,16777215);var b=Vt.get(a.add),m=Vt.VM(b,a.add[b]);Vt.t5(m,p,p,u)}var x=v.clone(p);v.XB(x,4278190080,16777215);for(var M=0;M<n.length;M++)n[M].Uz(x,u,e,r,[]);var S=v.R(u.M()*4);if(v.BP(t,i,S,u),l&&(s.YU=!0),v.N.DO(a.sW=="pass"?"norm":a.sW,x,u,S,u,e,1,s),a.nR()){var w=a.G.gg.type.FrFX,k=null;if(w.length!=0){k=w[0];for(var M=0;M<w.length;M++)w[M].wm.Z>k.wm.Z&&(k=w[M]);var T=v.R(k.wm.Z*k.wm.h*4);v.BP(t,i,T,k.wm)}St.h9(a.add.lmfx,o,u,t,i,e,S,T,k?k.wm:null)}v.N.$e(S,u,t,i,h,u,0,e,1,a.sW=="diss")},Se.prototype.GE=function(t,i,e,r){for(var n=this.children,a=0;a<n.length;a++){for(var s=[],l=a+1;l<n.length&&n[l].n.rd;l++)s.push(n[l]);n[a].Uz(t,i,e,r,s),a+=s.length}},Se.B6={delete:function(t){t&&t.Z&&t.delete()},R:function(t,i){return q.pQ?new q._B(t,i):v.R(t*i*4)},vG:function(t,i,e){if(q.pQ){if(t==null||t.Z!=i||t.h!=e)return Se.B6.delete(t),new q._B(i,e)}else if(t==null||!(t instanceof Uint8Array)||t.length!=i*e*4)return Se.B6.delete(t),v.R(i*e*4);return t},Lj:function(t,i,e,r,n){(q.pQ?q.X6:v.BP)(t,i,e,r,n)},$e:function(t,i,e,r,n,a,s,l,h,o,f){(q.pQ?q.N.CG:v.N.$e)(t,i,e,r,n,a,s,l,h,o,f)},DO:function(t,i,e,r,n,a,s,l){q.pQ?q.N.Q4(t,i,e,r,n,a,s,l):v.N.DO(t,i,e,r,n,a,s,l)},XB:function(t,i,e){q.pQ?(q.k1(t),q.OL(i,e)):v.XB(t,i,e)},ajE:function(t,i,e,r,n){if(q.pQ)q.N.CG(null,null,r,n,t,i,e,n,1,!1);else if(e==255)v.pa(t,i,r,n);else{var a=v.R(i.M());v._h(r,n,a,i),v.vB(t,a),v.XB(r,0,16777215),v.F_(a,i,r,n)}},Wr:function(t,i,e,r){q.pQ?q.N.CG(null,null,e,r,t,i,0,r,1,!1):v.Wr(t,i,e,r)}},Se.prototype.Km=function(t,i,e,r,n,a){var s=typeof a=="number";if(!(!this.n.fO()&&(s&&this.index>a||!s&&a.indexOf(this.index)==-1))){var l=this.n,h=St.CX(l),o=Se.B6,f=l.ws()?l.jk():l.g;if(!!l.UQ()&&!(l.UW()&&f.rect.qr())&&!(l.add.vstk==null&&this.o7(r,!1).qr()&&l.add.artb==null)){var u=this.o7(r,!0).$X(e);if(!(!i.Qn(e)&&!e.dg(u)&&l.add.artb==null)){if(l.fO()&&l.add.artb){var p=l.sc(),c=0;e=e.$X(p);var d=l.add.artb.artboardBackgroundType.v;if(d==1)c=4294967295;else if(d==2)c=4278190080;else if(d==3)c=0;else if(d==4)c=l.add.artb.Clr.v,c=255<<24|c.Bl.v<<16|c.Grn.v<<8|c.Rd.v;else throw d;q.pQ?(q.k1(t,e),q.OL(c)):v.ah5(t,i,e,c)}var g=Se.fp(l,n,h);if(!g){this.gf(t,i,e,r,n,a);return}l.G.Db=o.vG(l.G.Db,u.Z,u.h),o.Lj(t,i,l.G.Db,u,e),this.gf(l.G.Db,u,e,r,n,a),o.$e(l.G.Db,u,t,i,null,null,0,e,l.opacity/255,l.sW=="diss",h.yo)}}}},Se.fp=function(t,i,e){return e.yo[0]*e.yo[1]*e.yo[2]==0?!0:t.opacity!=255&&(i.length!=0||t.fO()||t.nR())},Se.a8w={G:{}},Se.prototype.gf=function(t,i,e,r,n,a){var s=this.n,l=St.CX(s),h=Vt.get(s.add)!=null,o=Se.B6,f=Se.fp(s,n,l),u=f?1:s.opacity/255,p=s.ws()?s.jk():s.g,c=s.fO()&&s.sW=="pass"&&!(n.length>0||l.fill!=1||s.nR()),d=!s.fO()&&!h&&!s.nR()&&n.length==0,g=h&&!s.nR()&&n.length==0,b=null,m=null,x=null,M;if(c||d||g){var S=t,w=i;if(s.UW()&&(w=this.o7(r,!1),S=s.G.Yw=o.vG(s.G.Yw,w.Z,w.h),o.Lj(t,i,s.G.Yw,w)),c&&this.D4(S,w,e,r,a),d&&o.DO(s.sW,s.XC(r),s.rect,S,w,e,u,l),g){var L=s.UW()&&p.T6()==0?p.o7().clone():w.clone(),k=s.G;L.Qn(new et(0,0,r.Z,r.h))&&(k=Se.a8w),k._E=this.Jp(S,w,k._E,L,s.add),l.YU=!0,o.DO(s.sW,k._E,L,S,w,e,u,l)}s.UW()&&o.$e(S,w,t,i,s.cE(),p.o7(),p.T6(),e,1,s.sW=="diss"),s.G.cc();return}var T=s.fO()&&s.sW=="pass"&&(n.length>0||l.fill!=1||s.nR()),L=s.rect;if(s.fO()?(L=this.o7(r,!1),x=s.G._E=o.vG(s.G._E,L.Z,L.h),o.XB(x,0),this.D4(x,L,L,r,a),m=o.vG(s.G.Ks,L.Z,L.h),o.Lj(x,L,m,L)):h?(L=s.UW()&&p.T6()==0?p.o7().clone():i.clone(),m=o.vG(s.G.Ks,L.Z,L.h),o.XB(m,4294967295)):(L=s.rect,b=s.XC(r),m=o.vG(s.G.Ks,L.Z,L.h),o.Lj(b,L,m,L)),s.G.Ks=m,s.UW()&&o.ajE(s.cE(),p.o7(),p.T6(),m,L),s.nR()&&(s.G.h0||s.G.Zf||s.G.WZ!=q.pQ||s.G.XP||s.fO())){var O=v.R(L.Z*L.h);if(q.pQ)if(!s.fO()&&s.jk()==null&&s.rect.Qn(L))v.E4(s.buffer,O,3);else{var E=v.R(L.Z*L.h*4);m.get(E),v.E4(E,O,3)}else v.E4(m,O,3);if(s.G.Zf||s.G.WZ!=q.pQ||!v.Qn(O,s.G.WV)){var D=null;s.ws()&&s.add.vmsk&&s.add.vmsk.isEnabled&&s.add.vmsk.jk().color==0&&(D=s.add.vmsk.jk().rect),St.alU(s.G.gg,O,L,s.add.lmfx,s.add.fxrp,r,D),s.G.WV=O}}s.nR()&&St.vO(s.add.lmfx,s.G.gg,L,t,i,e),s.fO()&&(b=o.vG(s.G.Yw,L.Z,L.h),o.XB(b,0),s.sW=="pass"&&o.Lj(t,i,b,L),T&&o.Wr(x,L,b,L),this.D4(b,L,e,r,a),s.G.Yw=b),h&&(b=s.G.Yw=this.Jp(t,i,s.G.Yw,L,s.add)),s.fO()||h?M=b:(M=o.vG(s.G.Yw,L.Z,L.h),o.Lj(b,L,M,L,e),s.G.Yw=M),o.XB(M,4278190080,16777215);for(var B=0;B<n.length;B++)n[B].Km(M,L,e,r,[],a);var I=s.G.hr=o.vG(s.G.hr,L.Z,L.h);if(o.Lj(t,i,I,L,e),h&&(l.YU=!0),o.DO(s.sW=="pass"?"norm":s.sW,M,L,I,L,e,1,l),s.nR()){var N=s.G.gg.type.FrFX,V=null;if(N.length!=0){V=N[0];for(var B=0;B<N.length;B++)N[B].wm.Z>V.wm.Z&&(V=N[B]);s.G.bd=o.vG(s.G.bd,V.wm.Z,V.wm.h),o.Lj(t,i,s.G.bd,V.wm,e),s.G.VS=o.vG(s.G.VS,V.wm.Z,V.wm.h)}St.h9(s.add.lmfx,s.G.gg,L,t,i,e,I,s.G.bd,s.G.VS,V?V.wm:null)}if(!q.pQ){var j=v.R(L.M());v.E4(m,j,3),m=j}o.$e(I,L,t,i,m,L,0,e,1,s.sW=="diss"),s.G.cc()},Se.prototype.Jp=function(t,i,e,r,n){var a=Vt.get(n),s;a&&(s=Vt.VM(a,n[a]));var l=Se.B6;if(e=l.vG(e,r.Z,r.h),q.pQ&&i.Qn(r)||l.Lj(t,i,e,r),s)if(q.pQ){var h=r.clone();h.x=h.y=0,i.Qn(r)?(q.k1(e,h),Vt.WD(s,t.g3,h)):(q.k1(e,r),e.ke(r),Vt.WD(s,e.z2,h))}else Vt.t5(s,e,e,r);return e},Se.prototype.D4=function(t,i,e,r,n){for(var a=this.children,s=0;s<a.length;s++){for(var l=[],h=s+1;h<a.length&&a[h].n.rd;h++)l.push(a[h]);a[s].Km(t,i,e,r,l,n),s+=l.length}};function Pt(t){this.AZ="psd",this.name=t,this.Fy=-1,this.RY=null,this.Rg=null,this.OU=null,this.D2=null,this.Z=0,this.h=0,this.r=[],this.zQ={},this.add={},this.buffer=null,this.fh=4,this.wa=null,this.NB=72,this.ZT={},this.p=[],this.ei=[[],[]],this.P0=[],this.xR=[],this.VW=[Pt.GG("Work Path")],this.QP=[],this.mb=null,this.e5={classID:"CompList",list:{t:"VlLs",v:[]}},this.root=null,this.Z_=null,this.Lt=!1,this.agS=!1,this.Kg=!1,this.Es=!1,this.Vg=!1,this.Ob=!1,this.Vf=!1,this.mO=!1,this.Mv=!1,this.h0=null,this.if=null,this.rD={},this.K=null,this.Yq=[],this.oD=[],this.v={wR:{},CL:[],a80:[],z6:[],Cs:[],hK:null,Kp:null,zK:null,bX:null,bU:[],Tw:[]},this.history=[new ni([1,0],null)],this.xG=0,this.gC=0,this.a=new ss(this)}Pt.prototype.ET=function(){var t=this.Yq,i=this.Yq.length;if(i!=0&&t[i-1].name=="Quick Mask")return t[i-1]},Pt.prototype.x8=function(){return this.AZ==y.Dj("% |/!)")||this.AZ==y.$G("gP")},Pt.prototype.f$=function(t){this.add.artd={classID:"null",Cnt:{t:"long",v:t},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}},Pt.prototype.Bq=function(t){this.add.FEid==null&&(this.add.FEid=[]),this.add.FEid.indexOf(t)==-1&&this.add.FEid.push(t)},Pt.prototype.OW=function(t){var i=this.add.FEid.indexOf(t);this.add.FEid.splice(i,1),this.add.FEid.length==0&&delete this.add.FEid},Pt.prototype.A=function(t){t==null&&(t=new et(0,0,this.Z,this.h)),this.h0==null?this.h0=t:this.h0=this.h0.s7(t)},Pt.prototype.ahP=function(t){return this.h0!=null},Pt.prototype.Uu=function(t){var i=this.r[t],e=this.root.V$(t);return!(e==null||i.fO()||e.parent.children.indexOf(e)==0)},Pt.ajn=function(t){if(t.add.lnk2)for(var i=0;i<t.add.lnk2.length;i++){var e=t.add.lnk2[i].Za;t.add.lnk2[i].Za=Pt.vs()+e.slice(8);for(var r=0;r<t.r.length;r++){var n=t.r[r].add.SoLd;n&&n.Idnt.v==e&&(n.Idnt.v=t.add.lnk2[i].Za)}}},Pt.prototype.zr=function(t,i,e){t.sort(function(c,d){return c-d});for(var r=t[t.length-1],n=this.r.slice(0),a=this.p.slice(0),s=[],l=[],h=0;h<this.r.length;h++)t.indexOf(h)!=-1?l.push(this.r[h]):s.push(this.r[h]);this.wG(l),this.p=[];var o=this.root.o7(this,!0);i&&(o=o.$X(i)),e&&(o=o.s7(e)),o.qr()&&(o=new et(0,0,100,100));var f=new et(-o.x,-o.y,this.Z,this.h),u=new Uint8Array(ft.$I("PSD").bb(this,0,0,[!0,!1]));this.wG(n),this.p=a;var p=new Pt(this.r[r].getName());return ft.$I("PSD").xo(u.buffer,p),delete p.add.artd,p.ei=[[],[]],p.P0=[],p.wG(p.r),Pt.ajn(p),C.$K.zy(p,o),p.A(),p.tf(),p.lD(),[p,o,s,r]},Pt.prototype.fM=function(t,i){var e=this.zr(t),r=e[0],n=e[1],a=e[2],s=e[3],l=new Uint8Array(ft.$I("PSD").bb(r));i&&(a=this.r.slice(0));var h=this.f6(l,r.name,n.x,n.y);s==this.r.length-1?a.push(h):a.splice(i?s+1:s-t.length+1,0,h),this.wG(a),this.p=[a.indexOf(h)]},Pt.vs=function(){for(var t="",i=0;i<8;i++)t+=Math.floor(Math.random()*16).toString(16);return t},Pt.prototype.e6=function(t){if(t!=null){this.add.Patt==null&&(this.add.Patt=[]);for(var i=this.add.Patt,e=0;e<i.length;e++)if(i[e].id==t.id)return;i.push(t)}},Pt.prototype.f6=function(t,i,e,r,n){this.add.lnk2==null&&(this.add.lnk2=[]);for(var a=null,s=!1,l=0;l<this.add.lnk2.length;l++)if(v.Qn(t,this.add.lnk2[l].raw)){a=this.add.lnk2[l].Za;break}if(a==null){var h=ft.Xh(t.buffer);a=Pt.vs()+"-d71c-11e5-b1ae-a548a96e5f9f";var o=new H.Zr;o.Za=a,o.EC=h=="psd"?"8BIM":"    ",o.Z5=i+"."+h,o.d1=h=="psd"?"8BPB":"    ",o.open=0,o.raw=t,o.type="liFD",o.Sp=2,this.add.lnk2.push(o)}var f=this._p(a),u=Pt.vs()+"-d71c-11e5-b1ae-a548a96e5f9f",p=this.an();if(p.uf(i),f!=null){var c=p.rect=f.DW[1].clone();p.rect.offset(e,r);var d=Math.max(c.Z/this.Z,c.h/this.h),s=n&&d>1.0001;s&&(c.Z=Math.round(c.Z/d),c.h=Math.round(c.h/d),c.x=Math.round((this.Z-c.Z)/2),c.y=Math.round((this.h-c.h)/2)),p.buffer=v.R(p.rect.M()*4),s||v.Hk(f.DW[0],p.buffer)}p.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:a},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:u},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:v.mD.R(p.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:p.rect.Z},Hght:{t:"doub",v:p.rect.h}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};var g=v.D.z0(p.rect).d;return p.add.SoLd.Trnf=C.X.uE(g),p.add.SoLd.nonAffineTransform=C.X.uE(g),s&&p.Gy(this,!1),p},Pt.prototype.lD=function(t){if(t!=null){this.A(),this.tf(t);var i=this.buffer;return q.pQ?this.Z_.get(i):i=i.slice(0),this.A(),this.tf(),i}return this.h0&&(this.tf(),this.h0=null),q.pQ&&this.if&&(this.Z_.get(this.buffer),this.if=null,this.Ob=!0),this.buffer},Pt.prototype.tT=function(){for(var t=0;t<this.r.length;t++)this.r[t].pc();this.A()},Pt.prototype.M6=function(){for(var t=0;t<this.r.length;t++)this.r[t].add.lmfx&&(this.r[t].G.Zf=!0)},Pt.prototype.kV=function(){var t=this.zQ.r1044;if(t==null){t=this.zQ.r1044=new Uint8Array(4);for(var i=0,e=0;e<this.r.length;e++)i=Math.max(i,this.r[e].add.lyid);A.GB(t,0,i)}var r=A.l(t,0);return A.GB(t,0,r+1),r+1},Pt.prototype.FD=function(t,i,e){t==null&&(t=!0);var r=this;return r.oD.length!=0?!0:r.p.length!=1?(t&&alert(r.p.length==0?"Select a layer first.":"More than one layer selected."),!1):this.vx(t,i,e)},Pt.prototype.vx=function(t,i,e){t==null&&(t=!0),i==null&&(i=!1);var r=this;if(r.oD.length!=0)return!0;for(var n=0;n<r.p.length;n++){var a=r.r[r.p[n]],s=i||a.kB<=0;if(a.add.lsct!=null&&a.add.lsct!=Ci.eZ&&a.kB!=1)return t&&alert(Lt.get([15,7,2])),!1;if(s&&!a.Mq())return t&&alert(Lt.get([15,7,2])),!1;if(s&&a.add.TySh)return this.qY(t,[15,7,3],e);if(s&&a.add.SoLd)return this.qY(t,[15,7,4],e);if(a.k6(1)||a.k6(31))return t&&alert(Lt.get([6,57,0])),!1}return!0},Pt.prototype.qY=function(t,i,e){if(t&&typeof t=="object"){var r=window.confirm(Lt.get(i)+". "+Lt.get([6,8])+"?");if(r){var n=new z(y.E.QJ,!0);n.data={Bm:"rasterizeLayer",w1:{classID:"rasterizeLayer",null:Di.Pe("Lyr",!0)}},t.w(n)}return e?r:!1}return t&&alert(Lt.get(i)),!1},Pt.prototype.i7=function(t){var i=this.root.V$(t);return i.parent?i.n.UQ()&&this.i7(i.parent.index):i.n.UQ()},Pt.prototype.Xb=function(t){var i=this.root.V$(t);if(i==null)return null;var e=i.n;return e.add.artb?e.sc():i.parent?this.Xb(i.parent.index):null},Pt.prototype.mx=function(){var t=this.r[this.p[0]];if(t.kB<=0&&!t.rect.dg(this.K.rect))return alert("Selected area is empty."),!1;if(this.p.length==1&&this.K){var i=v.R(this.K.channel.length);if(v._h(t.buffer,t.rect,i,this.K.rect),v.vB(this.K.channel,i),v.wq(i,0))return alert("Selected area is empty."),!1}return!0},Pt.prototype.Rp=function(){return this.zQ["r"+1037]==null&&this.U9(30),A.tF(this.zQ["r"+1037],0)},Pt.prototype.U9=function(t){this.zQ["r"+1037]==null&&(this.zQ["r"+1037]=new Uint8Array(4)),A.tF(this.zQ["r"+1037],0)!=t&&(A.V3(this.zQ["r"+1037],0,t),this.M6())},Pt.prototype.$p=function(){return this.zQ["r"+1049]==null&&this.Q3(30),A.tF(this.zQ["r"+1049],0)},Pt.prototype.Q3=function(t){this.zQ["r"+1049]==null&&(this.zQ["r"+1049]=new Uint8Array(4)),A.tF(this.zQ["r"+1049],0)!=t&&(A.V3(this.zQ["r"+1049],0,t),this.M6())},Pt.prototype.AB=function(t){if(this.add.lnk2==null)return null;for(var i=0;i<this.add.lnk2.length;i++)if(this.add.lnk2[i].Za==t)return this.add.lnk2[i];return null},Pt.prototype.a8e=function(t){var i=this.AB(t);if(i==null)return!1;var e=ft.Xh(i.raw.buffer);return e==null?!1:ft.$I(e)!=null||e=="psd"},Pt.prototype._p=function(t,i,e,r){var n=this.AB(t);if(n==null)return null;if(n.lD(i,e,r),n.DW)return n},Pt.prototype.tf=function(t){t==null&&(t=1e9);var i=this.Z,e=this.h,r=new et(0,0,i,e),n=r.$X(this.h0);if(q.pQ&&this.Z_==null&&(this.Z_=new q._B(i,e,!0)),(this.buffer==null||this.buffer.length!=i*e*4||q.pQ&&(this.Z_.Z!=i||this.Z_.h!=e))&&(this.buffer=v.R(i*e*4),this.Z_&&this.Z_.delete(),q.pQ&&(this.Z_=new q._B(i,e,!0))),!n.qr()){if(n.Qn(r))q.pQ?this.Z_.set(null):v.set(this.buffer,0);else{if(!q.pQ){var a=v.Zm(n.M()*4);v.BP(a,n,this.buffer,r)}q.pQ&&(q.k1(this.Z_,n),q.OL(0))}var s=Date.now(),l=q.pQ?this.Z_:this.buffer;this.root.Km(l,r,n,this,[],t),this.if=this.h0.clone()}},Pt.prototype.an=function(t){var i=new H;return i.rect=new et(0,0,0,0),i.buffer=v.R(1),i.add.luni=new st(0,0),t!=!0&&(i.add.lyid=this.kV()),i.add.lsct=Ci.eZ,i.add.lclr=0,i.add.fxrp=new st(0,0),i},Pt.prototype.Px=function(t){var i=this.an(t);return i.uf("</Layer group>"),i.add.lsct=Ci.Qi,i.ix=24,i},Pt.prototype.ry=function(){return this.xG!=this.gC},Pt.prototype.TX=function(t){for(;this.history.length>this.xG+1;)this.history.pop();this.gC>this.xG&&(this.gC=-1),t.Q.id!=C.Jc&&(this.Kg=!0,this.e5.lastAppliedComp&&(delete this.e5.lastAppliedComp,this.Ob=!0)),this.history.push(t),this.xG++,this.Ob=!0;for(var i=Rt.WQ()?60:30,e=0,r=this.history.length-1;r>=0;r--){var n=this.history[r];if(!n.vb&&(e++,e==i)){this.xG-=r,this.history=this.history.slice(r);break}}},Pt.prototype.a1=function(){return this.xG!=this.history.length-1?null:this.history[this.history.length-1]},Pt.prototype.JU=function(t,i,e,r){t==null&&(t=!1);var n=i!=null?[i]:this.p.slice(0);if(r){for(var a=[],s=0;s<n.length;s++){var l=this.r[n[s]].Qk;l!=0&&a.indexOf(l)==-1&&a.push(l)}for(var s=0;s<this.r.length;s++){var l=this.r[s].Qk;l!=0&&a.indexOf(l)!=-1&&n.indexOf(s)==-1&&n.push(s)}}for(var h=[],s=0;s<n.length;s++){for(var o=this.Co(n[s],t),f=0;f<o.length;f++)h.indexOf(o[f])==-1&&h.push(o[f]);if(e)for(var u=this.root.V$(n[s]);u.parent!=null&&u.parent.parent!=null;)u=u.parent,h.indexOf(u.index)==-1&&h.push(u.index,u.rS)}return h},Pt.prototype.FQ=function(t,i,e){var r=this,n=r.JU(!1,t,null,e);n.sort(function(x,M){return x-M});for(var a={},s=0;s<r.r.length;s++){var l=r.r[s].getName();a[l]=!0}for(var h=[],o=0;o<n.length;o++){var f=r.r[n[o]].clone(),u,p;if(f.add.lyid=r.kV(),f.add.lspf=0,f.gO()){var c=f.yg(r),d=Pt.HU(c);r.Bq(d),f.add.SoLd.placed.v=d.id}f._V(r);for(var g=f.getName(),b=g.length;48<=g.charCodeAt(b-1)&&g.charCodeAt(b-1)<=57;)b--;var m=parseInt(g.slice(b));for(isNaN(m)?g.endsWith(" copy")?(m=1,u=g.slice(0,g.length-5)):(m=0,u=g):g.slice(0,b).endsWith(" copy ")?(m=m,u=g.slice(0,b-6)):(m=0,u=g),m++;p=u+" copy"+(m==1?"":" "+m),a[p]!=null;)m++;g=="Background"&&a["Layer 1"]==null&&(p="Layer 1"),i!=!0&&f.uf(p),a[p]=!0,h.push(f)}return h},Pt.HU=function(t){return{id:Pt.vs()+t.id.slice(8),buffer:v.clone(t.buffer),rect:t.rect.clone(),g:t.g?t.g.clone():null}},Pt.eg=function(t){return{id:t,rect:new et,buffer:v.R(1),g:new H.vm}},Pt.GG=function(t,i){if(i==null&&(i={vmsk:new H.iO}),i.vogk==null){i.vogk=[];for(var e=v.V.k3(i.vmsk.b),r=0;r<e;r++)i.vogk.push(v.P$.Zm())}return{name:t,XN:0,add:i}},Pt.prototype.Cj=function(t){for(var i=[],e=[],r=this,n=0,a=1;a<r.VW.length;a++){var s=r.VW[a];s.XN=-1-a,i.push(s),r.QP.indexOf(a)!=-1&&e.push(i.length-1)}if(r.VW[0].add.vmsk.b.length>2){var s=r.VW[0];s.XN=-1,i.push(s),r.QP.indexOf(0)!=-1&&e.push(i.length-1)}var l=r.mb==null;l&&(r.mb=[]);for(var a=r.p.length-1;a>=0;a--){var h=r.r[r.p[a]],o=h.add.TySh;if(h.add.vmsk!=null&&(h.yb||h.ws())){var s=Pt.GG('"'+h.getName()+'" Shape Path',h.add);s.XN=r.p[a],i.push(s),l&&r.mb.push(n),r.mb.indexOf(n)!=-1&&e.push(i.length-1),n++}if(t!=!0&&o&&o.add&&v.mD.O8(o.VU)){var s=Pt.GG('"'+h.getName().slice(0,10)+'.." Text Path',o.add);s.XN=1e6+r.p[a],i.push(s),e.push(i.length-1),n++}}return e.length==0&&t&&(r.VW[0].XN=-1,r.QP=[0],e.push(i.length),i.push(r.VW[0])),[i,e]},Pt.prototype.Co=function(t,i){var e=[],r=this.root.V$(t);return r&&r.as(e,i),e},Pt.prototype.LU=function(){this.root.m2(this,new et(0,0,this.Z,this.h),32)},Pt.prototype.wG=function(t){for(var i=0;i<this.r.length;i++){var e=this.r[i];t.indexOf(e)==-1&&(e.G.a1R(),e.A())}this.r=t.slice(0),this.dr()},Pt.prototype.dr=function(){var t=this.r,i=t.length;this.root=new Se;var e=this.an(!0);e.sW="pass",e.add.lsct=Ci.lw;for(var r=this.Px(!0),n=[r],a=0;a<i;a++)n.push(t[a]);n.push(e),this.root.E7(n,0,0),this.p.length==0&&(this.p=[i-1])},Pt.prototype.HP=function(){if(this.p.length==1){for(var t=this.root.V$(this.p[0]);t.parent!=null;){var i=t.parent.n;i.add.lsct=Ci.lw,t=t.parent}this.Vg=this.a7L=!0}},Pt.prototype.a7T=function(){this.dr();for(var t=[this.root],i=0;t.length!=0;){var e=t.pop();if(i++,e.n.add.lsct==Ci.lw)for(var r=0;r<e.children.length;r++)t.push(e.children[r])}if(i>1e3)for(var n=this.root.children,r=0;r<n.length;r++)n[r].n.add.lsct==Ci.lw&&(n[r].n.add.lsct=Ci.kE)},Pt.Gg=function(t,i,e,r,n){var a={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:r},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:t}},Hght:{t:"UntF",v:{type:"#Rlt",val:i}},Rslt:{t:"UntF",v:{type:"#Rsl",val:e}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:n}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};return{Bm:"make",w1:a}},Pt.akv=function(t,i){var e=0,r=0,n=72,a=i.aiN,s=t.preset&&t.preset.v=="Clipboard";s?(e=a.Z,r=a.h):(e=t.Wdth.v.val,r=t.Hght.v.val,n=t.Rslt.v.val);var l=new Pt((t.Nm?t.Nm.v:Lt.get([11,7]))+".psd");l.Z=e,l.h=r,l.NB=n;var h=l.an();h.uf("Background"),l.wG([h]),h.add.lspf=1<<2;var o=t.Fl?t.Fl.v.Fl:"Wht";if(o!="Trns"){var f=i.Ty;f=(f&255)<<16|(f>>>8&255)<<8|f>>>16,h.rect=new et(0,0,e,r),h.buffer=v.R(e*r*4),v.XB(h.buffer,{Wht:4294967295,BckC:255<<24|f}[o])}return l.buffer=v.R(e*r*4),l};function ss(t){this.EA=t,this.F=0,this.c=new st(0,0),this.D8=0,this.qa=[1,1,1],this.xX=new et(0,0,1,1),this.a9N=new et(0,0,t.Z,t.h),this.GW=null,this.Su=null,this.YQ=new Uint32Array(0),this.Pq=null,this.Yb=null,this.lh=v.R(0),this.ox=null,this.D6=null}ss.prototype.c5=function(){var t=new Et,i=this.xX,e=this.EA,r=this.F,n=this.c,a=Math.round((i.Z-e.Z*r)/2+n.x),s=Math.round((i.h-e.h*r)/2+n.y);t.translate(-a,-s),t.scale(1/r,1/r);var l=e.Z/2,h=e.h/2;return t.translate(-l,-h),t.rotate(this.D8),t.translate(l,h),t},ss.prototype.rE=function(t){var i=this.xX,e=this.EA,r=Math.atan2(-t.i,t.m),n=e.Z/2,a=e.h/2;t.translate(-n,-a),t.rotate(-r),t.translate(n,a);var s=1/t.d3();t.scale(s,s);var l=-t.PV,h=-t.ye,o=Math.round(l-(i.Z-e.Z*s)/2),f=Math.round(h-(i.h-e.h*s)/2);this.D8=r,this.F=s>=1?Math.round(s):s,this.c=new st(o,f)},ss.prototype.PY=function(t,i){var e=this.c5();return e.aT(new st(t,i))},ss.prototype._R=function(t,i){var e=this.c5();return e.nJ(),e.aT(new st(t,i))},ss.prototype.yO=function(){var t=this.EA,i=this.F,e=this.xX.Z,r=this.xX.h,n=Math.floor(t.Z*i),a=Math.floor(t.h*i);if(i<.99){var s=v.adx(null,new et(0,0,t.Z,t.h),i).rect;n=s.Z,a=s.h}return new et(Math.round((e-n)/2+this.c.x),Math.round((r-a)/2+this.c.y),n,a)},ss.prototype.Ze=function(){var t=this.EA,i=this,e=1/i.F,r=this.yO();return new et(Math.floor((i.xX.x-r.x)*e),Math.floor((i.xX.y-r.y)*e),Math.ceil(i.xX.Z*e)+1,Math.ceil(i.xX.h*e)+1)};function at(){}at.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" "),at.og="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" "),at.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]],at.eB=["DrSh","IrSh","SoFi","GrFl","FrFX"],at.QB=["Clr"],at.Zt="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" "),at.QZ=["Ptrn","Scl","Algn","phase"],at.Bf={z1:'{"t":"Objc","v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}}}',wB:'{"t":"Objc","v":{"classID":"Grdn","Nm":{"v":"Two Color","t":"TEXT"},"GrdF":{"v":{"GrdF":"CstS"},"t":"enum"},"Intr":{"v":4096,"t":"doub"},"Clrs":{"v":[{"v":{"classID":"Clrt","Clr":{"v":{"classID":"RGBC","Rd":{"v":0,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}},"t":"Objc"},"Type":{"v":{"Clry":"UsrS"},"t":"enum"},"Lctn":{"v":0,"t":"long"},"Mdpn":{"v":50,"t":"long"}},"t":"Objc"},{"v":{"classID":"Clrt","Clr":{"v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":255,"t":"doub"},"Bl":{"v":255,"t":"doub"}},"t":"Objc"},"Type":{"v":{"Clry":"UsrS"},"t":"enum"},"Lctn":{"v":4096,"t":"long"},"Mdpn":{"v":50,"t":"long"}},"t":"Objc"}],"t":"VlLs"},"Trns":{"v":[{"v":{"classID":"TrnS","Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Lctn":{"v":0,"t":"long"},"Mdpn":{"v":50,"t":"long"}},"t":"Objc"},{"v":{"classID":"TrnS","Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Lctn":{"v":4096,"t":"long"},"Mdpn":{"v":50,"t":"long"}},"t":"Objc"}],"t":"VlLs"}}}',mR:'{"t":"Objc","v":{"classID":"Grdn","Nm":{"v":"Foreground to Background","t":"TEXT"},"GrdF":{"t":"enum","v":{"GrdF":"CstS"}},"Intr":{"t":"doub","v":4096},"Clrs":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"Clrt","Type":{"t":"enum","v":{"Clry":"FrgC"}},"Lctn":{"t":"long","v":0},"Mdpn":{"t":"long","v":50}}},{"t":"Objc","v":{"classID":"Clrt","Type":{"t":"enum","v":{"Clry":"BckC"}},"Lctn":{"t":"long","v":4096},"Mdpn":{"t":"long","v":50}}}]},"Trns":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"TrnS","Opct":{"t":"UntF","v":{"type":"#Prc","val":100}},"Lctn":{"t":"long","v":0},"Mdpn":{"t":"long","v":50}}},{"t":"Objc","v":{"classID":"TrnS","Opct":{"t":"UntF","v":{"type":"#Prc","val":100}},"Lctn":{"t":"long","v":4096},"Mdpn":{"t":"long","v":50}}}]}}}',S4:'{"t":"Objc","v":{"classID":"Ptrn","Nm":{"v":"orangeslices","t":"TEXT"},"Idnt":{"v":"c7acb22a-47a6-11de-919a-bf574370eaaf","t":"TEXT"}}}'},at.Bf.z1='"Clr": '+at.Bf.z1,at.Bf.j='"Grad":'+at.Bf.wB+',"Rvrs":{"v":false,"t":"bool"},"Type":{"v":{"GrdT":"Lnr"},"t":"enum"},"Algn":{"v":true,"t":"bool"},"Angl":{"v":{"type":"#Ang","val":90},"t":"UntF"},"Scl":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Ofst":{"v":{"classID":"Pnt","Hrzn":{"v":{"type":"#Prc","val":0},"t":"UntF"},"Vrtc":{"v":{"type":"#Prc","val":0},"t":"UntF"}},"t":"Objc"},"Dthr":{"v":false,"t":"bool"}',at.Bf.S4='"Ptrn":'+at.Bf.S4+',"Scl":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Algn":{"v":true,"t":"bool"},"phase":{"v":{"classID":"Pnt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"}',at.default='{ "classID": "null", "Scl": {"t": "UntF", "v": { "type": "#Prc","val": 100} }, "masterFXSwitch": {"t": "bool","v": true} }',at.IW=['{"classID":"ebbl",       "enab":{"v":true,"t":"bool"},  "hglM":{"t":"enum","v":{"BlnM":"Scrn"}},"hglC":{"t":"Objc","v":{"classID":"RGBC","Rd":{"t":"doub","v":255},"Grn":{"t":"doub","v":255},"Bl":{"t":"doub","v":255}}},"hglO":{"t":"UntF","v":{"type":"#Prc","val":75}},"sdwM":{"t":"enum","v":{"BlnM":"Mltp"}},"sdwC":{"t":"Objc","v":{"classID":"RGBC","Rd":{"t":"doub","v":0},"Grn":{"t":"doub","v":0},"Bl":{"t":"doub","v":0}}},"sdwO":{"t":"UntF","v":{"type":"#Prc","val":75}},"bvlT":{"t":"enum","v":{"bvlT":"SfBL"}},"bvlS":{"t":"enum","v":{"BESl":"InrB"}},"uglg":{"t":"bool","v":true},"lagl":{"t":"UntF","v":{"type":"#Ang","val":120}},"Lald":{"t":"UntF","v":{"type":"#Ang","val":30}},"srgR":{"t":"UntF","v":{"type":"#Prc","val":100}},"blur":{"t":"UntF","v":{"type":"#Pxl","val":5}},"bvlD":{"t":"enum","v":{"BESs":"In"}},"TrnS":{"t":"Objc","v":{"classID":"ShpC","Nm":{"t":"TEXT","v":"Linear"},"Crv":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":0},"Vrtc":{"t":"doub","v":0}}},{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":255},"Vrtc":{"t":"doub","v":255}}}]}}},"antialiasGloss":{"t":"bool","v":false},"Sftn":{"t":"UntF","v":{"type":"#Pxl","val":0}},"useShape":{"t":"bool","v":false},"MpgS":{"t":"Objc","v":{"classID":"ShpC","Nm":{"t":"TEXT","v":"Linear"},"Crv":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":0},"Vrtc":{"t":"doub","v":0}}},{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":255},"Vrtc":{"t":"doub","v":255}}}]}}},"AntA":{"t":"bool","v":false},"Inpr":{"t":"UntF","v":{"type":"#Prc","val":28}},"useTexture":{"t":"bool","v":false},"InvT":{"t":"bool","v":false},"Algn":{"t":"bool","v":true},"Scl":{"t":"UntF","v":{"type":"#Prc","val":100}},"textureDepth":{"t":"UntF","v":{"type":"#Prc","val":100}},"Ptrn":{"t":"Objc","v":{"classID":"Ptrn","Nm":{"t":"TEXT","v":"orangeslices"},"Idnt":{"t":"TEXT","v":"c7acb22a-47a6-11de-919a-bf574370eaaf"}}},"phase":{"t":"Objc","v":{"classID":"Pnt","Hrzn":{"t":"doub","v":0},"Vrtc":{"t":"doub","v":0}}}}','{"classID":"FrFX",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Styl":{"v":{"FStl":"OutF"},"t":"enum"},"PntT":{"v":{"FrFl":"SClr"},"t":"enum"},"Sz":{"v":{"type":"#Pxl","val":3},"t":"UntF"},'+at.Bf.z1+","+at.Bf.j+","+at.Bf.S4+"}",'{"classID":"IrSh",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Mltp"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val": 75},"t":"UntF"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":0,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}},"t":"Objc"},"uglg":{"v":true,"t":"bool"},"lagl":{"v":{"type":"#Ang","val":120},"t":"UntF"},"Dstn":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Linear","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"}}','{"classID":"IrGl",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Scrn"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val": 75},"t":"UntF"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":255,"t":"doub"},"Bl":{"v":189.99710083007812,"t":"doub"}},"t":"Objc"},"GlwT":{"v":{"BETE":"SfBL"},"t":"enum"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"ShdN":{"v":{"type":"#Prc","val":0},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"glwS":{"v":{"IGSr":"SrcE"},"t":"enum"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Linear","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"},"Inpr":{"v":{"type":"#Prc","val":50},"t":"UntF"}}','{"classID":"ChFX",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Mltp"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val": 50},"t":"UntF"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":0,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}},"t":"Objc"},"AntA":{"v":false,"t":"bool"},"Invr":{"v":true,"t":"bool"},"lagl":{"v":{"type":"#Ang","val":19},"t":"UntF"},"Dstn":{"v":{"type":"#Pxl","val":11},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":14},"t":"UntF"},"MpgS":{"v":{"classID":"ShpC","Nm":{"v":"Gaussian","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":32,"t":"doub"},"Vrtc":{"v":7,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":64,"t":"doub"},"Vrtc":{"v":38,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":96,"t":"doub"},"Vrtc":{"v":101,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":128,"t":"doub"},"Vrtc":{"v":166,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":159,"t":"doub"},"Vrtc":{"v":209,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":191,"t":"doub"},"Vrtc":{"v":235,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":223,"t":"doub"},"Vrtc":{"v":248,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"}}','{"classID":"SoFi",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},'+at.Bf.z1+"}",'{"classID":"GrFl",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},'+at.Bf.j+"}",'{"classID":"patternFill","enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},'+at.Bf.S4+"}",'{"classID":"OrGl",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Scrn"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val": 75},"t":"UntF"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":255,"t":"doub"},"Bl":{"v":189.99710083007812,"t":"doub"}},"t":"Objc"},"GlwT":{"v":{"BETE":"SfBL"},"t":"enum"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"ShdN":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Linear","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"},"Inpr":{"v":{"type":"#Prc","val":50},"t":"UntF"}}','{"classID":"DrSh",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Mltp"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val": 57},"t":"UntF"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":0,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}},"t":"Objc"},"uglg":{"v":true,"t":"bool"},"lagl":{"v":{"type":"#Ang","val":120},"t":"UntF"},"Dstn":{"v":{"type":"#Pxl","val":27},"t":"UntF"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":13},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Line\xE1rn\xED","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"},"layerConceals":{"v":true,"t":"bool"}}'],at.j={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]},at.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],_n:["SClr","GrFl","Ptrn"],a6v:[[13,0],[12,37],[12,62]]},at.I7={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],zC:["SrcC","SrcE"],ak7:[[19,5,1],[12,69]]},at.lc={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],O5:["SfBL","PrBL","Slmt"],ajm:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]},at.bW={Bb:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Ph:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],bl:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse('{"classID":"solidColorLayer",'+at.Bf.z1+"}")},strokeStyleResolution:{t:"doub",v:72}}},at._G=[{classID:"null",Clr:JSON.parse(at.IW[5]).Clr},{classID:"null",Grad:JSON.parse(at.IW[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(at.IW[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];var St={};St.ae8=function(t,i,e){if(!t.qr()){var r=v.V.aeC(t.b);r.x=Math.floor(r.x*i),r.Z=Math.ceil(r.Z*i),r.y=Math.floor(r.y*e),r.h=Math.ceil(r.h*e),t.rect=r,t.channel=v.R(r.M()),v.ob.width=r.Z,v.ob.height=r.h;var n=v.xX;n.fillStyle="#ffffff",v.V.a9q(n,t.b,i,e,-r.x,-r.y),n.fill();var a=n.getImageData(0,0,r.Z,r.h).data;v.E4(a,t.channel,3)}},St.h4=function(t,i){function e(c,d){if(c==null)return null;var g=c[d].v,b;return g.length!=0&&(b=g[0].v,b.enab.v||(b=null)),b}var r=i.SoCo,n=i.GdFl,a=e(t,"solidFillMulti"),s=e(t,"gradientFillMulti");if(a==null&&s==null)return[r,n];var l=St.a3n;if(r&&a&&s==null){var h=JSON.parse(JSON.stringify(r));return h.Clr.v=l(a.Clr.v,r.Clr.v,a),[h,null]}if(n&&a&&s==null){for(var o=JSON.parse(JSON.stringify(n)),f=o.Grad.v.Clrs.v,u=0;u<f.length;u++){var p=f[u].v.Clr;p.v=l(a.Clr.v,p.v,a)}return[null,o]}if(r&&s){for(var o=JSON.parse(JSON.stringify(s)),f=o.Grad.v.Clrs.v,u=0;u<f.length;u++){var p=f[u].v.Clr;p.v=l(p.v,r.Clr.v,s)}return[null,o]}return[a,s]},St.a2h={JQ:v.R(4),Nu:v.R(4),U:new et(0,0,1,1)},St.a3n=function(t,i,e){var r=ti.pT(e.Md.v.BlnM),n=e.Opct.v.val/100,a=St.a2h;return t=v.j.T6(t),i=v.j.T6(i),a.JQ[0]=t.U,a.JQ[1]=t.S,a.JQ[2]=t.i,a.JQ[3]=255,a.Nu[0]=i.U,a.Nu[1]=i.S,a.Nu[2]=i.i,a.Nu[3]=255,v.N.DO(r,a.JQ,a.U,a.Nu,a.U,a.U,n),{classID:"RGBC",Rd:{t:"doub",v:a.Nu[0]},Grn:{t:"doub",v:a.Nu[1]},Bl:{t:"doub",v:a.Nu[2]}}},St.BM=function(t,i,e){var r=t;t=t.slice(0);var n=ti.YA[ti.zn.indexOf(i.Md.v.BlnM)],a=v.j.T6(i.Clr.v),s=4278190080|Math.round(a.i)<<16|Math.round(a.S)<<8|Math.round(a.U),l=v.R(e.M()*4);v.XB(l,s),v.N.DO(n,l,e,t,e,e,i.Opct.v.val/100);for(var h=0;h<t.length;h+=4)t[h+3]=r[h+3];return t},St.QE=function(t,i){for(var e=["Sz","blur","Sftn","Dstn"],r=0;r<at.order.length;r++)for(var n=at.order[r],a=t[at.og[r]].v,s=0;s<a.length;s++){for(var l=a[s].v,h=0;h<e.length;h++){var o=l[e[h]];if(o){var f=o.v.val,u=f;u=Math.max(f==0?0:1,u*i),n=="ChFX"&&(u=Math.min(u,250)),n=="ebbl"&&(e[h]=="blur"&&(u=Math.min(u,250)),e[h]=="Sftn"&&(u=Math.min(u,16))),o.v.val=Math.round(u)}}(n=="ebbl"||n=="patternFill"||n=="FrFX")&&l.Ptrn&&l.Scl&&(l.Scl.v.val=Math.max(1,Math.min(1e3,l.Scl.v.val*i)))}},St.a5J=function(t,i,e){for(var r=new et(-.5,-.5,1,1),n=t.add.lmfx,a=0;a<at.order.length;a++)for(var s=at.order[a],l=n[at.og[a]].v,h=0;h<l.length;h++){var o=l[h].v,f;if(!!o.enab.v){var u=o.blur?o.blur.v.val+1:0,p=o.Ckmt?o.Ckmt.v.val/100:0,c=Math.round(u*p);if((s=="DrSh"||s=="IrSh"&&e)&&(f=new et(-.5,-.5,1,1),f.PK(u,u),St.sB(f,o,i,0)),(s=="OrGl"||s=="IrGl"&&e)&&(f=new et(-.5,-.5,1,1),f.PK(u,u)),s=="FrFX"){var d=St.Uo(o),g=d[1];e&&(g=Math.max(d[0],g)),f=new et(-.5,-.5,1,1),f.PK(Math.ceil(g),Math.ceil(g))}if(s=="ebbl"){var u=o.blur.v.val,b=o.bvlS.v.BESl;(b=="Embs"||b=="PlEb")&&(u/=2);var m=["OtrB","InrB","Embs","PlEb","strokeEmboss"],x=["SfBL","PrBL","Slmt"],M=["In","Out"],S=o.bvlT.v.bvlT!="SfBL"?u:u*.43,w=Math.round(u);f=new et(-w-1,-w-1,2*w+2,2*w+2)}if(e&&s=="ChFX"){f=new et(-.5,-.5,1,1),f.PK(u,u);var k=f.clone();St.sB(f,o,i,0),St.sB(k,o,i,Math.PI),f=f.s7(k)}f&&(r=r.s7(f))}}return r.x!=Math.ceil(r.x)&&(r.x=Math.ceil(r.x),r.Z-=1),r.y!=Math.ceil(r.y)&&(r.y=Math.ceil(r.y),r.h-=1),r},St.Uo=function(t){var i=0,e=0,r=t.Styl.v.FStl,n=t.Sz.v.val;return r=="OutF"&&(e=n),r=="InsF"&&(i=n),r=="CtrF"&&(i=e=n/2),[i,e]},St.iL=function(t){if(t.all!=null)for(var i=0;i<t.all.length;i++){var e=t.all[i];e.Kx&&e.Kx.delete(),e.nZ&&e.nZ.delete(),e.yu&&e.yu.delete()}},St.alU=function(t,i,e,r,n,a,s){St.iL(t);var l=St.n6(r,n,i,e,a,s);if(t.type=l.type,t.all=l.all,q.pQ)for(var h=0;h<t.all.length;h++){var o=t.all[h];o.Kx=new q._B(o.Xc.Z,o.Xc.h),o.Kx.set(o.Ww),delete o.Ww,o.we&&(o.nZ=new q.p5(o.Xc.Z,o.Xc.h),o.nZ.set(o.we),delete o.we),o.dD&&(o.yu=new q.p5(o.Xc.Z,o.Xc.h),o.yu.set(o.dD),delete o.dD)}},St.n6=function(t,i,e,r,n,a){a==null&&(a=r);for(var s=0,l=0,h=0;h<at.order.length;h++)for(var o=at.order[h],f=at.og[h],u=t[f].v,p=0;p<u.length;p++){var c=u[p].v;o=="DrSh"&&c.enab.v&&c.Ckmt.v.val>0&&c.blur.v.val>0&&(s=Math.max(s,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100))),o=="OrGl"&&c.enab.v&&c.Ckmt.v.val>0&&c.blur.v.val>0&&c.GlwT.v.BETE=="SfBL"&&(s=Math.max(s,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100))),o=="OrGl"&&c.enab.v&&c.blur.v.val>0&&c.GlwT.v.BETE=="PrBL"&&(s=Math.max(s,c.blur.v.val)),o=="FrFX"&&c.enab.v&&c.Sz.v.val>0&&(c.Styl.v.FStl=="OutF"&&(s=Math.max(s,c.Sz.v.val)),c.Styl.v.FStl=="CtrF"&&(s=Math.max(s,Math.ceil(c.Sz.v.val/2))),l=Math.max(l,St.Uo(c)[1]))}for(var d=new St.Ln(e,r,s),g={type:{},all:[]},b=0;b<at.order.length;b++){var o=at.order[b],f=at.og[b];g.type[o]=[];for(var m=t[f].v.length-1;m>=0;m--){var x=t[f].v[m].v;if(!!x.enab.v){var M=x.blur?x.blur.v.val:0,S=x.Ckmt?x.Ckmt.v.val/100:0,w=M*S;if(o=="DrSh"){var k=d.LB(w,M-w,!0),T=k.AH,L=k.T;L.offset(-d.rect().x-1,-d.rect().y-1),St.PX(T,x,!1),St.sB(L,x,n,0);var O=v.R(L.M()*4);St.n_(O,x.Clr.v),v.Oy(T,O,3);var E={Ww:O,Xc:L,Si:ti.pT(x.Md.v.BlnM),hw:x.Opct.v.val/100,alF:x.layerConceals.v};g.type[o].push(E),g.all.push(E)}if(o=="IrSh"){var k=d.LB(w,M-w,!1);St.sB(k.T,x,n,0);var L=d.rect().clone(),T=v.R(L.M());v.set(T,255),v.Lj(k.AH,k.T,T,L),St.PX(T,x,!0);var O=v.R(L.M()*4);St.n_(O,x.Clr.v),v.Oy(T,O,3),L.offset(-d.rect().x-1,-d.rect().y-1);var E={Ww:O,Xc:L,Si:ti.pT(x.Md.v.BlnM),hw:x.Opct.v.val/100};g.type[o].push(E),g.all.push(E)}if(o=="GrFl"){var O=v.R(d.rect().M()*4);St.fE(x,O,d.rect(),n,null,a);var L=d.rect().clone();L.offset(-d.rect().x-1,-d.rect().y-1);var E={Ww:O,Xc:L,Si:ti.pT(x.Md.v.BlnM),hw:x.Opct.v.val/100};g.type[o].push(E),g.all.push(E)}if(o=="SoFi"){var O=v.R(d.AH().length*4);St.n_(O,x.Clr.v);var L=d.rect().clone();L.offset(-d.rect().x-1,-d.rect().y-1);var E={Ww:O,Xc:L,Si:ti.pT(x.Md.v.BlnM),hw:x.Opct.v.val/100};g.type[o].push(E),g.all.push(E)}if(o=="ebbl"){var D=!1;D&&console.log(x);var B=Date.now(),I=x.bvlS.v.BESl;if(I=="strokeEmboss"){var N=t.frameFXMulti.v;if(N.length==0||(N=N[0].v,!N.enab.v))continue;var V=N.Styl.v.FStl;V=="OutF"&&(I="OtrB"),V=="CtrF"&&(I="Embs"),V=="InsF"&&(I="InrB")}var M=x.blur.v.val;M==0&&(M=.7),(I=="Embs"||I=="PlEb")&&(M/=2);var j=["OtrB","InrB","Embs","PlEb","strokeEmboss"],R=["SfBL","PrBL","Slmt"],G=["In","Out"],Z=x.bvlT.v.bvlT!="SfBL"?M:M*.45,_=Math.round(M),U=d.rect().clone(),Y=U.clone();Y.PK(_,_);var $=Y.Z,P=Y.h,tt=$*P,X=v.R(tt);v.Lj(d.AH(),U,X,Y);var ht=new Float64Array(tt),F=new Float64Array(tt);v.style.QT(X,ht,$,P),v.nJ(X),v.style.QT(X,F,$,P),D&&console.log("distTransform computed",Date.now()-B);for(var h=0;h<tt;h++)F[h]=F[h]-ht[h];for(var h=0;h<tt;h++){var J=F[h];J<-Z?F[h]=-Z:J>Z&&(F[h]=Z)}if(D&&console.log("summing + cropping",Date.now()-B),x.bvlT.v.bvlT=="SfBL"){var Q=Math.pow(M*.21,1.22);Q=Math.max(Q,2);var rt=v.ni.hT(Q,2);v.ni.Ey(F,ht,Y,rt[0]>>>1),v.ni.Ey(ht,F,Y,rt[1]>>>1)}D&&console.log("blurring",Date.now()-B);var it=F,nt=it.slice(0);if(x.useShape.v){var ot=Math.min(100,x.Inpr.v.val+1)/100;I!="OtrB"&&I!="InrB"&&(ot=1);var yi=v.JH.QV(x.MpgS.v.Crv.v,2e3),pt=Math.round(2e3/ot);yi=v.JH.aax(yi,pt,I=="InrB");for(var Ri=.5/Z,h=0;h<tt;h++){var yt=it[h],ct=.99999*(yt+Z)*Ri;it[h]=-Z+2*Z*yi[~~(ct*(pt-1))]}D&&console.log("applying shape",Date.now()-B)}if(x.useTexture.v){var vt=v.R($*P*4);St._$(x,vt,Y,n,i);var wt=v.R($*P);v.np(vt,wt);var Mt=v.R($*P);v.ni.p8(wt,Mt,Y,1),wt=Mt;var Ct=M*x.textureDepth.v.val*(1/100)*(1/255);x.InvT.v&&(Ct=-Ct);for(var h=0;h<tt;h++)it[h]+=-Ct*wt[h];D&&console.log("applying texture",Date.now()-B)}for(var gt=(x.bvlT.v.bvlT=="SfBL"?1:.5)*(x.bvlD.v.BESs=="In"?1:-1)*x.srgR.v.val/100,h=0;h<tt;h++)it[h]*=gt;D&&console.log("scaling",Date.now()-B);var bt=x.uglg&&x.uglg.v?n.Rp():x.lagl.v.val;bt=bt*(Math.PI/180);var xt=x.uglg&&x.uglg.v?n.$p():x.Lald.v.val;xt=xt*(Math.PI/180);for(var Dt=Math.cos(bt)*Math.cos(xt),Ot=-Math.sin(bt)*Math.cos(xt),kt=Math.sin(xt),mt=new Float64Array(tt),It=new Float64Array(tt),Bt=I=="PlEb",Ut=0;Ut<P;Ut++)for(var qt=0;qt<$;qt++){var h=Ut*$+qt,Gt=0,zt=0,Nt=1;if(Ut!=0&&Ut!=P-1&&qt!=0&&qt!=$-1){var Kt=it[h-$-1],ai=it[h-$+1],fi=it[h+$-1],di=it[h+$+1];Gt=-.125*(ai+2*it[h+1]+di-(Kt+2*it[h-1]+fi)),zt=-.125*(fi+2*it[h+$]+di-(Kt+2*it[h-$]+ai))}else{var $t=it[h];zt=-(Ut==0?it[h+$]-$t:Ut==P-1?$t-it[h-$]:.5*(it[h+$]-it[h-$])),Gt=-(qt==0?it[h+1]-$t:qt==$-1?$t-it[h-1]:.5*(it[h+1]-it[h-1]))}var si=1/Math.sqrt(Gt*Gt+zt*zt+1);Gt*=si,zt*=si,Nt*=si;var li=Gt*Dt+zt*Ot+Nt*kt,Li=li;Bt&&(Li=-Gt*Dt-zt*Ot+Nt*kt),li>0&&(mt[h]=li),Li>0&&(It[h]=Li)}if(D&&console.log("raycasting",Date.now()-B),x.Sftn.v.val!=0){v.ni.d$(mt,ht,Y,x.Sftn.v.val*.43);var vi=ht,ht=mt,mt=vi;if(Bt){v.ni.d$(It,ht,Y,x.Sftn.v.val*.43);var vi=ht,ht=It,It=vi}else v.Hk(mt,It)}D&&console.log("softening",Date.now()-B);for(var yi=v.JH.QV(x.TrnS.v.Crv.v,1024),h=0;h<tt;h++)mt[h]=yi[~~(mt[h]*1024)],It[h]=yi[~~(It[h]*1024)];D&&console.log("contour remap",Date.now()-B),$=Math.round($),P=Math.round(P);var _t=v.R($*P*4);St.n_(_t,x.hglC.v);var wi=v.R($*P*4);St.n_(wi,x.sdwC.v);var Zi=v.R($*P*4);St.n_(Zi,x.hglC.v);var Vi=v.R($*P*4);St.n_(Vi,x.sdwC.v);for(var Mi=1/kt,ce=1/(1-kt),Ri=1/Z,zi=new Float64Array(1e3),h=0;h<1e3;h++)zi[h]=Math.pow(h*.001,.2);for(var Ut=0;Ut<P;Ut++)for(var qt=0;qt<$;qt++){var h=Ut*$+qt,ee=4*h+3,Be=0,Yi=0;Be=mt[h],Yi=It[h];var Xi=Math.max(0,Math.min(.9999,(nt[h]+Z*.993)*Ri));Xi=zi[Math.floor(Xi*1e3)];var Xt=Xi*(1-Math.min(1,Be*Mi)),ri=Xi*(1-Math.min(1,(1-Be)*ce)),Hi=Xi*(1-Math.min(1,Yi*Mi)),re=Xi*(1-Math.min(1,(1-Yi)*ce));wi[ee]=Math.round(255*Xt),_t[ee]=Math.round(255*ri),Vi[ee]=Math.round(255*Hi),Zi[ee]=Math.round(255*re)}D&&console.log("baking textures",Date.now()-B),Y=d.rect().clone(),Y.PK(_,_),Y.offset(-d.rect().x-1,-d.rect().y-1);var gi={a1V:x.bvlS.v.BESl=="strokeEmboss"};["InrB","Embs","PlEb"].indexOf(I)!=-1&&(gi.rR={Ww:_t,Xc:Y,Si:ti.pT(x.hglM.v.BlnM),hw:x.hglO.v.val/100},gi._Q={Ww:wi,Xc:Y,Si:ti.pT(x.sdwM.v.BlnM),hw:x.sdwO.v.val/100},g.all.push(gi.rR,gi._Q)),["OtrB","Embs","PlEb"].indexOf(I)!=-1&&(gi.Us={Ww:Zi,Xc:Y,Si:ti.pT(x.hglM.v.BlnM),hw:x.hglO.v.val/100},gi.OH={Ww:Vi,Xc:Y,Si:ti.pT(x.sdwM.v.BlnM),hw:x.sdwO.v.val/100},g.all.push(gi.Us,gi.OH)),D&&console.log(Date.now()-B),g.type[o].push(gi)}if(o=="patternFill"){var Bi=d.rect(),O=v.R(Bi.M()*4);St._$(x,O,Bi,n,i);var L=Bi.clone();L.offset(-Bi.x-1,-Bi.y-1);var E={Ww:O,Xc:L,Si:ti.pT(x.Md.v.BlnM),hw:x.Opct.v.val/100};g.type[o].push(E),g.all.push(E)}if(o=="ChFX"){var O=v.R(d.AH().length*4);St.n_(O,x.Clr.v);var M=x.blur.v.val,be=d.rect().clone();be.PK(M,M);var Te=v.R(be.M()),Gi=v.R(be.M());v.Lj(d.AH(),d.rect(),Gi,be),v.ni.et(Gi,Te,be,M*.43);var Sr=v.JH.AQ(x.MpgS.v.Crv.v,256,!0);v.gJ(Te,Sr);var Qr=v.R(d.AH().length),fr=v.R(d.AH().length),Je=d.rect().clone();St.sB(Je,x,n,0),v.Lj(Te,be,Qr,Je),Je=d.rect().clone(),St.sB(Je,x,n,Math.PI),v.Lj(Te,be,fr,Je);for(var br=Qr.length,h=0;h<br;h++)O[4*h+3]=Math.abs(Qr[h]-fr[h]);if(x.Invr.v)for(var h=0;h<br;h++)O[4*h+3]=255-O[4*h+3];var L=d.rect().clone();L.offset(-d.rect().x-1,-d.rect().y-1);var E={Ww:O,Xc:L,Si:ti.pT(x.Md.v.BlnM),hw:x.Opct.v.val/100};g.type[o].push(E),g.all.push(E)}if(o=="OrGl"){var k;x.GlwT.v.BETE=="SfBL"?k=d.LB(w,M-w,!0):k=d.kS(M,S,!0);var T=k.AH,L=k.T,Ai=T.slice(0);St.bG(T,x);var O=v.R(L.M()*4);if(x.Grad==null)St.n_(O,x.Clr.v),St.PX(T,x,!1);else{St.PX(T,x,null);var We={CM:T,fc:255,AP:0,Yi:L};St.fE(x,O,L,n,We);for(var Qi=x.Nose.v.val/100,qi=L.Z,h=0;h<Ai.length;h++){var Re=255,pi=Ai[h];if(pi<32){var Pi=(pi+Ai[h-1]+Ai[h+1]+Ai[h-qi]+Ai[h+qi])*.2-1;Re=Math.min(255,Math.round(Math.max(0,Pi)*8))}T[h]=Re}St.nb(T,x)}v.Oy(T,O,3),L.offset(-d.rect().x-1,-d.rect().y-1);var E={Ww:O,Xc:L,Si:ti.pT(x.Md.v.BlnM),hw:x.Opct.v.val/100};g.type[o].push(E),g.all.push(E)}if(o=="IrGl"){var k;x.GlwT.v.BETE=="SfBL"?k=d.LB(w,M-w,!1):k=d.kS(M,S,!1);var T=k.AH,L=k.T;St.bG(T,x),x.glwS.v.IGSr=="SrcC"&&v.nJ(T);var O=v.R(L.M()*4);if(x.Grad==null)St.n_(O,x.Clr.v),St.PX(T,x,!0);else{St.PX(T,x,null);var We={CM:T,fc:255,AP:0,Yi:L};St.fE(x,O,L,n,We),v.set(T,255),St.nb(T,x)}v.Oy(T,O,3),L.offset(-d.rect().x-1,-d.rect().y-1);var E={Ww:O,Xc:L,Si:ti.pT(x.Md.v.BlnM),hw:x.Opct.v.val/100};g.type[o].push(E),g.all.push(E)}if(o=="FrFX"){var xr=St.Uo(x),wr=xr[0],Cr=xr[1],L=d.rect().clone(),Qe=null,pe=null;if(L.PK(Math.ceil(l),Math.ceil(l)),Cr>0){var k=d.LB(Cr,0,!0);pe=k.AH,pe.length<L.M()&&(pe=v.R(L.M()),v.Lj(k.AH,k.T,pe,L))}if(wr>0){var k=d.LB(wr,0,!1);Qe=v.R(L.M()),v.set(Qe,255),v.Lj(k.AH,k.T,Qe,L)}L.offset(-d.rect().x-1,-d.rect().y-1);var O=v.R(L.M()*4),Er=x.PntT.v.FrFl;Er=="SClr"&&St.n_(O,x.Clr.v),Er=="GrFl"&&St.fE(x,O,L,n,d.a3e(wr,Cr)),Er=="Ptrn"&&St._$(x,O,L,n,i);var E={Ww:O,Xc:L,Si:ti.pT(x.Md.v.BlnM),hw:x.Opct.v.val/100,dD:pe,we:Qe};g.type[o].push(E),g.all.push(E)}}}}return g},St.w_=function(t){var i=1/Math.sqrt(t.x*t.x+t.y*t.y+t.QY*t.QY);t.x*=i,t.y*=i,t.QY*=i},St.a08=function(t,i){return{x:t.y*i.QY-t.QY*i.y,y:t.QY*i.x-t.x*i.QY,QY:t.x*i.y-t.y*i.x}},St.a9G=function(t,i){return t.x*i.x+t.y*i.y+t.QY*i.QY},St.nb=function(t,i){var e=i.Nose.v.val/100;if(e>0)for(var r=0;r<t.length;r++){var n=t[r];n=Math.min(510-(1+e)*v.style.kY(r),n),t[r]=n}},St.CX=function(t){for(var i=St.jx(),e=t.LL,r=!1,n=0;n<32;n+=8)(e[n]+e[n+1]+e[4]+e[5]!=0||e[n+2]+e[n+3]+e[6]+e[7]!=1020)&&(r=!0);if(r){e=e.slice(0);for(var n=0;n<40;n+=4){var a=e[n]/255,s=e[n+1]/255,l=e[n+2]/255,h=e[n+3]/255;e[n]=a-1e-4,e[n+1]=a==s?1e9:1/(s-(a-1e-4)),e[n+2]=l==h?-1e9:1/(l-(h+1e-4)),e[n+3]=h+1e-4}}var o=t.add.iOpa!=null?t.add.iOpa/255:i.fill,f=t.add.vstk;return f&&!f.fillEnabled.v&&(!f.strokeEnabled.v||f.strokeStyleLineWidth.v.val==0)&&(o=0),{fill:o,Lc:r?e:null,yo:t.add.brst!=null?t.add.brst:i.yo,adw:t.add.knko!=null?t.add.knko:i.adw,style:!1,YU:!1}},St.jx=function(){return{fill:1,Lc:null,yo:[1,1,1],adw:0,style:!1,YU:!1}},St.tc=function(t,i){if(i==null)return null;for(var e=t.Idnt.v,r=null,n=0;n<i.length;n++)if(i[n].id==e)return i[n];return null},St.PB=function(t,i,e){for(var r=["patternFillMulti","ebblMulti","frameFXMulti"],n=0;n<r.length;n++)for(var a=t.v[r[n]].v,s=0;s<a.length;s++)a[s].v.Ptrn&&i.e6(St.tc(a[s].v.Ptrn.v,e))},St.aey=function(t,i,e){for(var r=["patternFillMulti","ebblMulti","frameFXMulti"],n=0;n<r.length;n++)for(var a=t.v[r[n]].v,s=0;s<a.length;s++)if(a[s].v.Ptrn){var l=a[s].v.Ptrn.v,h=St.tc(l,e),o=St.tc(l,i.add.Patt);h==null&&o&&e.push(o)}},St._$=function(t,i,e,r,n){var a=St.tc(t.Ptrn.v,r.add.Patt);if(a!=null&&!e.qr()){var s=a.Jx,l=s[0],h=s[1],o=0;v.hE(s);for(var f=t.Scl.v.val/100;(f<.3||f==.5)&&s[o+2];)f*=h.Z/s[o+3].Z,o+=2,l=s[o],h=s[o+1];var u=v.scale._$(l,h.Z,h.h),p=-e.x+t.phase.v.Hrzn.v-1,c=-e.y+t.phase.v.Vrtc.v-1;t.Algn!=null&&!t.Algn.v||(p+=n.x,c+=n.y),v.scale.ahe(u,i,e.Z,e.h,f,f,p+1,c+1)}},St.fE=function(t,i,e,r,n,a){a==null&&(a=e);var s=t.Type?t.Type.v.GrdT:"shapeburst",l=t.Algn&&t.Algn.v?a:new et(0,0,r.Z,r.h),h=t.Angl?v.j.yB(t,l):[new st(0,0),new st(100,0)],o=h[0].x,f=h[0].y,u=h[1].x-o,p=h[1].y-f,c=Math.sqrt(u*u+p*p);c=1/(2*c*c);var d=[u*c,p*c,-p*c,u*c],g=t.Rvrs?t.Rvrs.v:!1,b=t.Dthr?t.Dthr.v:!1;v.j.ao(t.Grad.v,i,e,d,o,f,g,at.j.types.indexOf(s),0,0,n,b)},St.a4r=function(t,i){for(var e=0;e<t.all.length;e++){var r=t.all[e];r.wm=r.Xc.clone(),r.wm.offset(i.x,i.y)}},St.vO=function(t,i,e,r,n,a){var s=q.pQ?St.vt:St.wv;St.a4r(i,e);for(var l=i.type.DrSh,h=0;h<l.length;h++)l[h].alF||s(l[h],r,n,a)},St.h9=function(t,i,e,r,n,a,s,l,h,o){var f=e,u=q.pQ?St.vt:St.wv,p=q.pQ?q.N.CG:v.N.$e,c;c=i.type.DrSh;for(var d=0;d<c.length;d++)c[d].alF&&u(c[d],r,n,a);c=i.type.OrGl;for(var d=0;d<c.length;d++)u(c[d],r,n,a);for(var g="patternFill GrFl SoFi ChFX IrGl IrSh".split(" "),b=0;b<g.length;b++)for(var c=i.type[g[b]],d=0;d<c.length;d++)u(c[d],s,f,a);var m=i.type.ebbl[0],x=m!=null&&m.a1V;c=i.type.FrFX;for(var d=0;d<c.length;d++){var M=c[d];Se.B6.Lj(l,o,h,o,a),u(M,h,o,a),x&&d==c.length-1&&(m.OH&&u(m.OH,h,o,a),m.Us&&u(m.Us,h,o,a),m._Q&&u(m._Q,h,o,a),m.rR&&u(m.rR,h,o,a)),(M.we||M.nZ)&&p(h,o,s,f,q.pQ?M.nZ:M.we,M.wm,0,a,1),(M.dD||M.yu)&&p(h,o,r,n,q.pQ?M.yu:M.dD,M.wm,0,a,1)}!x&&m!=null&&(m.OH&&u(m.OH,r,n,a),m.Us&&u(m.Us,r,n,a),m._Q&&u(m._Q,s,f,a),m.rR&&u(m.rR,s,f,a))},St.wv=function(t,i,e,r){var n=St.jx();n.fill=t.hw,n.style=!0,v.N.DO(t.Si,t.Ww,t.wm,i,e,r,1,n)},St.vt=function(t,i,e,r){var n=St.jx();n.fill=t.hw,n.style=!0,q.N.Q4(t.Si,t.Kx,t.wm,i,e,r,1,n)},St.bG=function(t,i){for(var e=1-i.Inpr.v.val/100,r=1+Math.tan(e*(Math.PI/2)),n=t.length,a=0;a<n;a++)t[a]=Math.min(255,Math.round(t[a]*r))},St.PX=function(t,i,e){var r=i.blur.v.val,n=Math.round(r*(i.Ckmt.v.val/100));if(r>n){var a=v.JH.AQ(i.TrnS.v.Crv.v,256,!0);v.gJ(t,a)}e!=null&&i.Nose.v.val>0&&v.style.Jo(t,i.Nose.v.val/100,e)},St.n_=function(t,i,e){e==null&&(e=255);var r=v.j.T6(i),n=e<<24|r.i<<16|r.S<<8|r.U;v.XB(t,n)},St.sB=function(t,i,e,r){var n=i.uglg&&i.uglg.v?e.Rp():i.lagl.v.val;n=n*Math.PI/180+r;var a=Math.cos(n)*i.Dstn.v.val,s=Math.sin(n)*i.Dstn.v.val;t.x-=Math.round(a),t.y+=Math.round(s)},St.ig=function(t){if(t==null)return null;var i=t.frameFXMulti.v;if(i.length==0)return null;i=i[0].v;var e=JSON.parse(JSON.stringify(at.bW.default));return St.sa(i,e),e},St.sa=function(t,i){for(var e=at.stroke._n.indexOf(t.PntT.v.FrFl),r=[at.QB,at.Zt,at.QZ][e],n=i.strokeStyleContent.v={classID:at.bW.bl[e]},a=0;a<r.length;a++)n[r[a]]=t[r[a]];i.strokeEnabled=t.enab,i.strokeStyleLineWidth=t.Sz,i.strokeStyleLineAlignment.v.strokeStyleLineAlignment=at.bW.Ph[at.stroke.types.indexOf(t.Styl.v.FStl)],i.strokeStyleOpacity=t.Opct,i.strokeStyleBlendMode=t.Md},St.oB=function(t,i){for(var e=[],r=0;r<t.length;r++)e.push({t:"UntF",v:{type:"#Nne",val:Math.round(t[r]*i)}});return e},St.Ln=function(t,i,e){this.nL=i.clone(),this.nL.PK(1,1),this.ak8=i.clone(),this.ak8.PK(e,e),this.ag8=v.R(this.nL.M()),v.Lj(t,i,this.ag8,this.nL),this._H=null,this.D_=null,this.VH=null},St.Ln.prototype.AH=function(){return this.ag8},St.Ln.prototype.rect=function(){return this.nL},St.Ln.prototype.N3=function(){return this.ak8},St.Ln.prototype.Mw=function(){return this._H?this._H:(this._H=v.clone(this.AH()),v.nJ(this._H),this._H)},St.Ln.prototype.FK=function(){return this.D_?this.D_:(this.D_=new Float64Array(this.rect().M()),v.style.QT(this.Mw(),this.D_,this.rect().Z,this.rect().h),this.D_)},St.Ln.prototype.Dc=function(){if(this.VH)return this.VH;var t=this.N3(),i=v.R(t.M());return v.Lj(this.AH(),this.rect(),i,t),this.VH=new Float64Array(t.M()),v.style.QT(i,this.VH,t.Z,t.h),this.VH},St.Ln.prototype.a3e=function(t,i){var e={fc:-i,AP:t,Yi:null,CM:null};if(i==0)return e.Yi=this.rect(),e.CM=this.FK(),e;var r=this.Dc().slice(0),n=this.N3();e.Yi=n,e.CM=r;for(var a=0;a<r.length;a++)r[a]=-r[a];if(t==0)return e;for(var s=this.FK(),l=this.rect(),h=0;h<l.h;h++)for(var o=0;o<l.Z;o++){var f=h*l.Z+o,u=(h+l.y-n.y)*n.Z+o+l.x-n.x;r[u]+=s[f]}return e},St.Ln.prototype.LB=function(t,i,e){var r=Math.ceil(t+i),n={T:this.rect().clone(),AH:null};if(n.T.PK(r,r),n.AH=v.R(n.T.M()),t==0&&i==0)v.Hk(e?this.AH():this.Mw(),n.AH);else{var a=v.R(n.T.M());v.Lj(this.AH(),this.rect(),a,n.T),e||v.nJ(a),t!=0&&(e?v.style.IH(a,n.T,this.Dc(),this.N3(),t):v.style.IH(a,n.T,this.FK(),this.rect(),t)),i!=0?v.ni.et(a,n.AH,n.T,Math.max(1,i*.43)):n.AH=a}return n},St.Ln.prototype.kS=function(t,i,e){var r=t*(i-.5),n={T:this.rect().clone(),AH:null};e&&n.T.PK(t,t),n.AH=v.R(n.T.M());for(var a=n.T.Z,s=n.T.h,l=e?this.Dc():this.FK(),h=e?this.N3():this.rect(),o=n.T,f=o.$X(h),a=f.Z,s=f.h,u=f.x-o.x,p=f.y-o.y,c=f.x-h.x,d=f.y-h.y,g=1-i*2,b=0;b<s;b++)for(var m=0;m<a;m++){var x=l[(b+d)*h.Z+m+c],M=x/t;n.AH[(b+p)*o.Z+m+u]=Math.max(0,Math.min(255,255-255*((M+g)/(1+g))))}return n},St.a5=function(t,i,e){var r=t.Lefx,n=t.blendOptions;if(r){var a=i.add.lmfx;e==null&&(e=a?a.Scl.v.val:100),i.add.lmfx=JSON.parse(JSON.stringify(r.v)),St.QE(i.add.lmfx,e/i.add.lmfx.Scl.v.val),a&&(i.add.lmfx.Scl.v.val=a.Scl.v.val)}else delete i.add.lmfx;if(n&&(n=n.v,n.Md&&(i.sW=ti.pT(n.Md.v.BlnM)),n.Opct&&(i.opacity=Math.round(n.Opct.v.val*255/100)),n.fillOpacity&&(i.add.iOpa=Math.round(n.fillOpacity.v.val*255/100)),n.Blnd)){for(var s=[],l=0;l<10;l++)s.push(0,0,255,255);for(var h=n.Blnd.v,o="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),l=0;l<h.length;l++)for(var f=h[l].v,u=8*["Gry","Rd","Grn","Bl"].indexOf(f.Chnl.v[0].v.enum),p=0;p<8;p++)s[u+p]=f[o[p]].v;i.LL=s}},St.Wj=function(t){for(var i="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),e=[],r=t.LL,n=0;n<4;n++){var a=n*8;if(!(r[a]+r[a+1]+r[a+4]+r[a+5]==0&&r[a+2]+r[a+3]+r[a+6]+r[a+7]==4*255)){var s={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][n]}}]}}};e.push(s);for(var l=0;l<8;l++)s.v[i[l]]={t:"long",v:r[n*8+l]}}}var h={classID:"blendOptions"};t.sW!="norm"&&(h.Md={t:"enum",v:{BlnM:ti.Kl(t.sW)}}),t.opacity!=255&&(h.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(t.opacity*100/255)}}),t.add.iOpa!=null&&(h.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(t.add.iOpa*100/255)}}),e.length!=0&&(h.Blnd={t:"VlLs",v:e});var o={By:{classID:"null",Idnt:{t:"TEXT",v:Pt.vs()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},rB:{classID:"Styl",blendOptions:{t:"Objc",v:h}}},f=t.add.lmfx;return f&&(o.rB.Lefx={t:"Objc",v:f}),o};function ye(){}ye.az=function(t){return JSON.parse(JSON.stringify(t))},ye.Jl=function(t){var i=ye.az(ye.akd),e=i.Brsh.v;return t!=null&&(delete e.Hrdn,e.classID="sampledBrush",e.Nm={t:"TEXT",v:"layer.png"},e.sampledData={t:"TEXT",v:t}),i},ye.akd={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}},ye.w_={},ye.w_.check=function(t){for(var i=ye.w_.tx,e=0;e<i.length;e++)t[i[e]]==null&&(t[i[e]]=JSON.parse(ye.w_.N4[i[e]]));for(var r=[],e=0;e<i.length;e++)r.push(i[e]);for(var n=ye.w_.T$,e=0;e<n.length;e++){for(var a=n[e][0],s=n[e][1],l=!0,h=0;h<a.length;h++)l=l&&t[a[h]].v==!0;if(l)for(var h=0;h<s.length;h++)t[s[h]]==null?console.log("Missing conditional parameter "+s[h]):r.push(s[h])}for(var o in t)r.indexOf(o)==-1&&console.log("Extra parameter "+o);t=t.Brsh.v,i=ye.w_.S1.tx;for(var e=0;e<i.length;e++)t[i[e]]==null&&(t[i[e]]=JSON.parse(ye.w_.S1.N4[i[e]]));r=[];for(var e=0;e<i.length;e++)t[i[e]]?r.push(i[e]):console.log("Missing default parameter "+i[e]);n=ye.w_.S1.amo[t.classID];for(var e=0;e<n.length;e++)t[n[e]]==null&&n[e]!="dtipsGridSize"&&n[e]!="dtipsErodibleTipHeightMap"&&t.a9k!=1?console.log("Missing conditional parameter "+n[e]):r.push(n[e]);for(var o in t)r.indexOf(o)==-1&&console.log("Extra parameter "+o)},ye.w_.dN=function(t){for(var i=ye.w_.T$,e=0;e<i.length;e++){for(var r=i[e][0],n=i[e][1],a=!0,s=0;s<r.length;s++)a=a&&t[r[s]]&&t[r[s]].v==!0;if(a)for(var s=0;s<n.length;s++)t[n[s]]==null&&(t[n[s]]=JSON.parse(ye.w_.N4[n[s]]));else for(var s=0;s<n.length;s++)t[n[s]]!=null&&delete t[n[s]]}},ye.w_.S1={},ye.w_.S1.tx="classID Dmtr Angl Spcn Intr flipX flipY".split(" "),ye.w_.S1.N4={flipX:'{"t":"bool","v":false}',flipY:'{"t":"bool","v":false}'},ye.w_.S1.amo={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")},ye.w_.T$=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]],ye.w_.tx="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" "),ye.w_.N4={useBrushSize:'{"t":"bool","v":false}',useBrushPose:'{"t":"bool","v":false}',brushGroup:'{"t":"Objc","v":{"classID":"brushGroup","useBrushGroup":{"t":"bool","v":false}}}',flipX:'{"t":"bool","v":false}',flipY:'{"t":"bool","v":false}',brushProjection:'{"t":"bool","v":false}',minimumDiameter:'{"t":"UntF","v":{"type":"#Prc","val":0}}',minimumRoundness:'{"t":"UntF","v":{"type":"#Prc","val":25}}',tiltScale:'{"t":"UntF","v":{"type":"#Prc","val":200}}',szVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":2},"fStp":{"t":"long","v":1},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',angleDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',roundnessDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',prVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":2},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',opVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',wtVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',mxVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',overridePoseAngle:'{"t":"bool","v":false}',overridePoseTiltX:'{"t":"bool","v":true}',overridePoseTiltY:'{"t":"bool","v":true}',overridePosePressure:'{"t":"bool","v":true}',brushPosePressure:'{"t":"UntF","v":{"type":"#Prc","val":9}}',brushPoseTiltX:'{"t":"long","v":0}',brushPoseTiltY:'{"t":"long","v":0}',brushPoseAngle:'{"t":"long","v":0}',TxtC:'{"t":"bool","v":false}',interpretation:'{"t":"bool","v":true}',textureBlendMode:'{"t":"enum","v":{"BlnM":"CBrn"}}',textureDepth:'{"t":"UntF","v":{"type":"#Prc","val":37}}',minimumDepth:'{"t":"UntF","v":{"type":"#Prc","val":97}}',textureDepthDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',Txtr:'{"t":"Objc","v":{"classID":"Ptrn","Nm":{"t":"TEXT","v":"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal"},"Idnt":{"t":"TEXT","v":"52a93427-f5d6-1172-a989-8dc82a43aa51"}}}',textureScale:'{"t":"UntF","v":{"type":"#Prc","val":99}}',InvT:'{"t":"bool","v":false}',textureBrightness:'{"t":"long","v":14}',textureContrast:'{"t":"long","v":100}',Cnt:'{"t":"doub","v":4}',countDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":1},"jitter":{"t":"UntF","v":{"type":"#Prc","val":98}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',bothAxes:'{"t":"bool","v":false}',scatterDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":1},"jitter":{"t":"UntF","v":{"type":"#Prc","val":56}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',clVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',H:'{"t":"UntF","v":{"type":"#Prc","val":0}}',Strt:'{"t":"UntF","v":{"type":"#Prc","val":0}}',Brgh:'{"t":"UntF","v":{"type":"#Prc","val":36}}',purity:'{"t":"UntF","v":{"type":"#Prc","val":0}}',colorDynamicsPerTip:'{"t":"bool","v":false}'};function ml(t){this.kh=t,this.dir=0}ml.prototype.ki=function(t,i){this.dir==0&&!this.kh.Qn(t)&&(this.dir=Math.abs(this.kh.x-t.x)<Math.abs(this.kh.y-t.y)?1:2);var e=t;return i.s(W.cm)&&(this.dir==1&&(e=new st(this.kh.x,t.y)),this.dir==2&&(e=new st(t.x,this.kh.y))),e};function Qt(t,i,e,r,n,a,s,l){if(this.Xu=i,this.A6=e,this.Ty=a,this.oI=r,r.lx==null&&(r.lx=[!1,!0]),this.Mi=null,this.KO=null,this.Ex=0,this.aiD=0,this.a0x=0,this.iw=0,this.Og=0,this.a51=s,this.ym=new et,this.nu=new et,this.rect=new et,l!=null)this.Ww=l;else{var h=Qt.Bt;h.length!=s.M()*4?h=v.R(s.M()*4):h.fill(0),this.Ww=Qt.Bt=h}this.rect=s.clone(),this.B1=[],this.xT=[],this.H9=null,this.GY=0,this.i=null,this.YD="",this.Gv=null,this.ST(t,n)}Qt.Bt=v.R(16),Qt.prototype.ST=function(t,i){this.GY=i,this.i=t,this.YD=JSON.stringify(t)+JSON.stringify(this.oI.mc),this.Gv=Qt.aeX(t,this.Xu,this.A6)},Qt.prototype.moveTo=function(t,i,e){e=this.kG(e),this.Ex=e;var r=new st(t,i),n=this.i.Brsh.v.Dmtr.v.val;this.Mi=r.clone(),this.KO=r.clone(),this.H9=r.clone(),this.B1=[t,i],this.xT=[e];var a=this.oI.lx;this.oI.p9!=Qt.nD&&this.rT(this.N8(r,this.DC()*(a[1]?e:1),this.oI.Jf*(a[0]?e*.5:1),new st(0,0))),this.iw=r.clone()},Qt.prototype.lineTo=function(t,i,e){e=this.kG(e);var r=this.B1,n=r.length,a=r[n-2],s=r[n-1];if(!(t==a&&i==s)){var l=this.i.Brsh.v.Dmtr.v.val,h=Math.ceil(l)+1,o=new et(Math.round(a),Math.round(s),0,0);o.PK(h,h);var f=new et(Math.round(t),Math.round(i),0,0);f.PK(h,h),this.sd(o.s7(f)),this.B1.push(t,i),this.xT.push(e),n+=2,n>=6&&this.rT(this.IS(n))}},Qt.prototype.kG=function(t){if(t==null&&(t=1),t=Math.max(.05,Math.min(5,t)),isNaN(t))throw alert("Pressure is not a number"),"e";return t},Qt.prototype.rT=function(t){this.ym=t,this.nu=this.nu.s7(t)},Qt.prototype.finish=function(){var t=this.B1,i=t.length,e;i==4&&(e=this.$k(t[i-2],t[i-1],this.xT[(i>>1)-1],!0)),i>4&&(e=this.IS(i+2)),e&&this.rT(e)},Qt.prototype.IS=function(t){var i=this.B1,e=this.xT,r=i[t-6],n=i[t-5],a=i[t-4],s=i[t-3],l=e[(t>>1)-3],h=e[(t>>1)-2],o=new st(0,0),f=new st(0,0);8<=t&&(o=Qt.l_(i[t-8],i[t-7],r,n,a,s)),t<=i.length&&(f=Qt.l_(i[t-2],i[t-1],a,s,r,n));for(var u=r+o.x,p=n+o.y,c=a+f.x,d=s+f.y,g=new et,b=0;b<10;b++){var m=(b+1)*.1,x=1-m,M=x*x*x*r+3*m*x*x*u+3*m*m*x*c+m*m*m*a,S=x*x*x*n+3*m*x*x*p+3*m*m*x*d+m*m*m*s,w=this.$k(M,S,l+m*(h-l));g=g.s7(w)}return g},Qt.l_=function(t,i,e,r,n,a){var s=t-e,l=i-r,h=n-e,o=a-r,f=Math.sqrt(s*s+l*l),u=Math.sqrt(h*h+o*o),p=Math.acos((s*h+l*o)/(f*u))/Math.PI,c=.35,d=.1;p=d+p*(c-d);var g=n-t,b=a-i,m=Math.sqrt(g*g+b*b),x=p*u/m;return new st(g*x,b*x)},Qt.prototype.$k=function(t,i,e,r){var n=new et,a=this.oI.a2k;if(a==null&&(a=0),a==0||r)return n=this.OI(t,i,e),n;var s=this.H9,l=t-s.x,h=i-s.y,o=Math.sqrt(l*l+h*h);if(l/=o,h/=o,o>a){var f=s.x+l*(o-a),u=s.y+h*(o-a);n=this.OI(f,u,e),this.H9.Oh(f,u)}return n},Qt.prototype.OI=function(t,i,e){var r=new et,n=new st(t,i),a=this.i.Brsh.v.Dmtr.v.val,s=this.oI.p9,l=n.gI(this.KO);l.normalize(1);for(var h=st.Yj(this.KO,n),o=-this.aiD,f=this.KO.clone(),u=this.oI.lx;;){var p=this.Ex+(e-this.Ex)*(Math.max(0,o)/h),c=this.DC()*(u[1]?p:1),d=this.am7()*(c+this.a0x)/2;if(s==Qt.nD&&(d=1),o+d<h){o+=d;var g=new st(this.KO.x+l.x*o,this.KO.y+l.y*o),b=1;if(s==Qt.nD){var m=f.clone();m.x+=l.x>0?1:-1;var x=f.clone();x.y+=l.y>0?1:-1,st.Yj(m,g)<st.Yj(x,g)?g=m:g=x,o=st.Yj(g,this.KO)}if(this.i.useScatter.v==!0){b=this.i.Cnt.v;var M=this.i.countDynamics.v.jitter.v.val/100,S=M*(-1+2*this.Jv());b+=Math.round(b*S)}for(var w=0;w<b;w++){var k=this.N8(g,c,this.oI.Jf*(u[0]?p*.5:1),l);r=r.s7(k)}f=g}else break}return this.aiD=h-o,this.KO=n,this.Ex=e,r},Qt.prototype.am7=function(){var t=this.i.Brsh.v,i=t.Spcn.v.val,e=Math.max(5,t.Rndn.v.val);return e/100*(i/100)},Qt.prototype.DC=function(){var t=this.i,i=t.Brsh.v.Dmtr.v.val;if(t.useTipDynamics.v){var e=i*(t.minimumDiameter.v.val/100);i=e+(i-e)*(1-this.Jv()*(t.szVr.v.jitter.v.val/100))}return i},Qt.prototype.N8=function(t,i,e,r){e=Math.min(1,e);var n=this.i,a=this.i.Brsh.v,s=a.Dmtr.v.val,l=this.oI,h=l.p9,o=l.adc,f=new Et;if(f.translate(-this.Gv.ik.Z/2,-this.Gv.ik.h/2),f.scale(1/this.Gv.alv,1/this.Gv.alv),f.scale(i/s,i/s),f.scale(1,Math.max(5,a.Rndn.v.val)/100),n.useTipDynamics.v){var u=n.minimumRoundness.v.val/100;f.scale(1,u+(1-u)*Math.round(100-this.Jv()*n.roundnessDynamics.v.jitter.v.val)/100),f.rotate((-.5+this.Jv())*4*Math.PI*(n.angleDynamics.v.jitter.v.val/100))}if(f.rotate(a.Angl.v.val*(Math.PI/180)),n.useScatter.v){var p=(-1+2*this.Jv())*n.scatterDynamics.v.jitter.v.val/100;f.translate(-p*i*r.y,p*i*r.x)}f.translate(t.x,t.y);var c=this.aeh(f,t);this.sd(c.rect);var d=c.rect.clone();if(h==null){var g=this.T6(n);v.XB(c.Em,Math.round(g.i*255)<<16|Math.round(g.S*255)<<8|Math.round(g.U*255)<<0,4278190080),this.nu.qr()&&this.rect.Qn(c.rect)&&e==1?this.Ww=c.Em.slice(0):v.N.a1d(c.Em,c.rect,this.Ww,this.rect,c.rect,e)}if(h==Qt.nD){var b=new st(c.rect.x+c.rect.Z/2,c.rect.y+c.rect.h/2),m=Math.round(b.x-this.iw.x),x=Math.round(b.y-this.iw.y),M=c.rect.clone();M.offset(-m,-x);var S=M.$X(this.rect);S.offset(m,x),v.BP(this.Ww,this.rect,c.Em,M),v.N.V7(c.Em,c.rect,this.Ww,this.rect,c.px,c.rect,e)}if(h==Qt.oZ||h==Qt.hW||h==Qt.jB){var w=c.rect.$X(this.rect),k;w.Qn(c.rect)?k=c.px:(k=v.R(w.M()),v.Lj(c.px,c.rect,k,w));var T=v.R(w.M()*4);if(v.BP(this.Ww,this.rect,T,w),h==Qt.hW){var L=v.clone(T),O=v.Ai.h5([-1,-1,-1,-1,25,-1,-1,-1,-1]);v.Ai.or(T,L,w.Z,w.h,O,0),v.Hk(L,T)}else if(h==Qt.jB){var E=Zt.tt("UnsM");E.Amnt.v.val=15,E.Thsh.v=0,E.Rds.v.val=5;var L=v.R(T.length);Zt.t5("UnsM",{buffer:T,rect:w},E,0,0,{buffer:L,rect:w}),v.Hk(L,T)}else Zt.ep(1,v.ni.$f,T,w);v.N.V7(T,w,this.Ww,this.rect,k,w,e)}return this.a0x=i,this.iw=b,d},Qt.prototype.T6=function(t){var i=Qt.tw(this.GY);if(t.useColorDynamics&&t.useColorDynamics.v){var e=1-this.Jv()*t.clVr.v.jitter.v.val/100,r=Qt.tw(this.Ty);i.U=e*i.U+(1-e)*r.U,i.S=e*i.S+(1-e)*r.S,i.i=e*i.i+(1-e)*r.i;var n=(-.5+this.Jv())*t.H.v.val/100,a=(-1+2*this.Jv())*t.Strt.v.val/100,s=(-1+2*this.Jv())*t.Brgh.v.val/100,l=v.eE(i.U,i.S,i.i);l.mi=(l.mi+n+1)%1,l.Pg=l.Pg+a,l.Pg<0&&(l.Pg=-l.Pg),l.Pg>1&&(l.Pg=1-(l.Pg-1)),l.pl=l.pl+s,l.pl<0&&(l.pl=-l.pl),l.pl>1&&(l.pl=1-(l.pl-1)),i=v.ul(l.mi,l.Pg,l.pl)}return i},Qt.prototype.w_=function(t){return Math.max(0,Math.min(1,t))},Qt.prototype.Jv=function(){return this.Og++,Qt.hash(this.Og)},Qt.tw=function(t){return{U:(t>>16&255)/255,S:(t>>8&255)/255,i:(t>>0&255)/255}},Qt.hash=function(t){return t=t^61^t>>16,t=t+(t<<3),t=t^t>>4,t=t*668265261,t=t^t>>15,(t&16777215)/16777215},Qt.x5=[],Qt.am1=function(t,i){var e=t.d3(),r=i.d3();if(e<r){var n=e;e=r,r=n}var a=t.m-i.m,s=t.i-i.i,l=t.p$-i.p$,h=t.xA-i.xA;return r!=0&&e-r<.025&&Math.max(a*a,s*s,l*l,h*h)<=.01},Qt.prototype.aeh=function(t,i){for(var e=null,r,n=0;n<Qt.x5.length;n++)Qt.x5[n].YD==this.YD&&(e=Qt.x5[n],Qt.x5.splice(n,1));e==null&&(e={pC:[],YD:this.YD,Pl:0,M:0});var a=e.pC,s=this.oI.mc;s&&(t=t.clone(),t.PV=Math.floor(t.PV),t.ye=Math.floor(t.ye));for(var l=Qt.aC(t.PV,t.ye),n=0;n<a.length;n++){var h=a[n];if(!!Qt.am1(h.qm,t)&&(Qt.ajJ(h.tZ,l)<.2||h.rect.M()>2500)){r=h;break}}var o=Math.round(this.i.Brsh.v.Dmtr.v.val);if(r)r.rect.x=Math.round(r.f_.x-r.qm.PV+t.PV),r.rect.y=Math.round(r.f_.y-r.qm.ye+t.ye),s&&(r.rect.x=Math.round(i.x-r.rect.Z/2),r.rect.y=Math.round(i.y-r.rect.h/2)),r.Pl=Date.now();else{var f;if(s&&o<=3?(f={buffer:v.R(o*o*4),rect:new et(Math.round(i.x-o/2),Math.round(i.y-o/2),o,o)},v.XB(f.buffer,4278190080)):t.m==1&&t.i==0&&t.p$==0&&t.xA==1?(f={buffer:this.Gv.Em,rect:this.Gv.ik.clone()},f.rect.x=Math.round(t.PV),f.rect.y=Math.round(t.ye)):f=C.X.Z6([this.Gv.Em,this.Gv.ik],t),s)for(var n=0;n<f.buffer.length;n++)f.buffer[n]=f.buffer[n]>127?255:0;f==null&&(f={buffer:v.R(0),rect:new et});var u=t.PV-Math.floor(t.PV),p=t.ye-Math.floor(t.ye);if(r={Em:f.buffer,px:v.R(f.rect.M()),rect:f.rect,f_:f.rect.clone(),qm:t,tZ:Qt.aC(t.PV,t.ye),Pl:Date.now()},v.E4(r.Em,r.px,3),a.push(r),e.M+=f.rect.M(),a.length>2e3||e.M>100*100*400)for(console.log("pruning",e.M,a.length),a.sort(function(d,g){return g.Pl-d.Pl});a.length>1e3||e.M>100*100*200;){var c=a.pop();e.M-=c.rect.M()}}for(e.pC=a,e.Pl=Date.now(),Qt.x5.push(e),Qt.x5.sort(function(d,g){return g.Pl-d.Pl});Qt.x5.length>3;)Qt.x5.pop();return r},Qt.aC=function(t,i){return new st(t-Math.floor(t),i-Math.floor(i))},Qt.ajJ=function(t,i){var e=i.x,r=i.y,n=Math.abs(e-t.x),a=Math.abs(r-t.y);return Math.abs(e-1-t.x)<n?e--:Math.abs(e+1-t.x)<n&&e++,Math.abs(r-1-t.y)<a?r--:Math.abs(r+1-t.y)<a&&r++,n=t.x-e,a=t.y-r,Math.sqrt(n*n+a*a)},Qt.prototype.sd=function(t){},Qt.aeX=function(t,i,e){var r,n,a,s=t.Brsh.v.Dmtr.v.val;if(t.Brsh.v.classID=="computedBrush"){var l=t.Brsh.v.Hrdn.v.val/100,h=1+.55*(1-l);a=s<100?1.2:1;var o=Math.round(a*s*h);n=new et(0,0,o,o),r=v.R(o*o*4);for(var f=new Uint32Array(r.buffer),u=o/2,p=h/u,c=Date.now(),d=Qt.$i(l),g=Math.round(8e3/u),i=d[0],b=d[1]-g,m=d[2]+g,x=Math.min(o,(o>>>1)+1),M=0;M<x;M++){var S=p*(M-u+.25);S*=S;var w=p*(M-u+.75);w*=w;for(var k=M*o,T=(o-1-M)*o,L=0;L<x;L++){var O=p*(L-u+.25),E=Math.floor(Math.sqrt(O*O+S)*(4e3/1.55));if(!(m<E))if(E<b){for(var D=4278190080;L<x;){var B=o-1-L;f[k+L]=D,f[k+B]=D,f[T+L]=D,f[T+B]=D,L++}break}else{var I=p*(L-u+.75),N=Math.floor(Math.sqrt(I*I+S)*(4e3/1.55)),V=Math.floor(Math.sqrt(O*O+w)*(4e3/1.55)),j=Math.floor(Math.sqrt(I*I+w)*(4e3/1.55)),D=~~(.5+255*.25*(i[E]+i[N]+i[V]+i[j]))<<24,B=o-1-L;f[k+L]=D,f[k+B]=D,f[T+L]=D,f[T+B]=D}}}}if(t.Brsh.v.classID=="sampledBrush"){for(var R,M=0;M<i.length;M++)i[M].id==t.Brsh.v.sampledData.v&&(R=i[M]);n=new et(0,0,R.T.Z,R.T.h),a=Math.max(n.Z,n.h)/s,r=v.R(n.M()*4),v.Oy(R.channel,r,3)}for(;Math.min(n.Z,n.h)>s*2;){var G=new et(n.x,n.y,Math.floor(n.Z/2),Math.floor(n.h/2)),Z=C.X.Z6([r,n],new Et(G.Z/n.Z,0,0,G.h/n.h,0,0));a*=G.Z/n.Z,n=Z.rect,r=Z.buffer}return{alv:a,ik:n,Em:r}},Qt.ii=[],Qt.$i=function(t){if(Qt.ii[t])return Qt.ii[t];for(var i=Math.pow(t,.55),e=new Float64Array(8e3),r=0,n=8e3,a=0;a<8e3;a++){var s=Qt.akO(a*(1.55/4e3),i);s>=1?r=a:s<=0&&n==8e3&&(n=a),e[a]=s}var l=[e,r,n];return Qt.ii[t]=l,l},Qt.akO=function(t,i){var e=t<i?1:Qt.aiF((t-i)/Math.pow(1.001-i,.86));return e},Qt.aiF=function(t){var i=t*.85;return Math.exp(-(i*i)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))},Qt.prototype.o7=function(){return this.rect.clone()},Qt.prototype.Oo=function(){return this.ym.$X(this.rect)},Qt.prototype.J0=function(){return this.nu.$X(this.rect)},Qt.prototype.qq=function(){return this.Ww},Qt.w7=null,Qt.ui=null,Qt.m2=function(t,i,e,r,n,a){var s=Qt.w7,l=Qt.ui;s==null&&(Qt.w7=s=y.z("canvas",""),Qt.ui=l=s.getContext("2d")),a==null&&(a=r),s.width!=a||s.height!=n?(s.width=a,s.height=n):l.clearRect(0,0,a,n),l.fillStyle="#000000",l.font=Math.floor(10*y.J())+"px sans-serif";var h=t.Brsh.v.Dmtr.v.val,o=""+h,f=l.measureText(o);l.fillText(o,(r-f.width)/2,n-2);var u=r,p=n-10*y.J(),c=Math.min(u,p),d=t.Brsh.v.classID;if(d=="computedBrush"){l.translate(u/2,p/2),l.rotate(-t.Brsh.v.Angl.v.val*Math.PI/180),l.scale(1,.1+.9*t.Brsh.v.Rndn.v.val/100);var g=Math.min(.95*c/2,h/2)+.5,b=.9*t.Brsh.v.Hrdn.v.val/100,m=l.createRadialGradient(0,0,0,0,0,g);m.addColorStop(b,"rgba(0,0,0,1)"),m.addColorStop((.5+b)/1.5,"rgba(0,0,0,.5)"),m.addColorStop(1,"rgba(0,0,0,0)"),l.fillStyle=m,l.fillRect(-g,-g,2*g,2*g),l.setTransform(1,0,0,1,0,0)}else if(d=="sampledBrush"){for(var x,M=0,S=0;S<i.length;S++)i[S].id==t.Brsh.v.sampledData.v&&(x=i[S]);var w=x.a1H;w==null&&(w=x.a1H=[x.channel,x.T],v.h8(w));for(var k=x.channel,T=x.T.Z,L=x.T.h;(T>u||L>p)&&w[M+2];)M+=2,k=w[M],T=w[M+1].Z,L=w[M+1].h;if(T*L!=0){var O=v.R(T*L*4);v.Oy(k,O,3);var E=new ImageData(new Uint8ClampedArray(O.buffer),T,L);l.putImageData(E,Math.round((u-T)/2),Math.round((p-L)/2))}}return s.toDataURL()},Qt.ug=function(t,i,e,r){e==0&&(e=1);var n=t.Brsh.v,a=n.Dmtr.v.val,s=n.Dmtr.v.val=Math.min(r!=null?Math.round(r*2.6):3e3,a*e),l=n.Hrdn?n.Hrdn.v.val/100:1,h=r!=null?r:Math.round(s*(1+.55*(1-l)))+4,o;h=Math.max(15,Math.min(h,3e3));var f=new et(0,0,h,h),u=new Qt(t,i,null,{Jf:1},16711712,0,f);n.Dmtr.v.val=a,u.moveTo(f.Z/2,f.h/2);var p=u.qq(),c=u.o7();return f.Qn(c)?o=p:(o=v.R(f.M()*4),v.BP(p,c,o,f)),[o,f,s]},Qt.b_=function(t,i,e,r){var n=Qt.ug(t,i,e),a=n[0],s=n[1],l=n[2],h=s.M(),o=v.R(h);v.E4(a,o,3);var f=v.R(h);if(v.K.ahE(o,f,s),l<3||v.wq(f,0)||r&&l>12)for(var u=s.Z,p=u>>>1,c=f,d=255,g=0;g<4;g++)c[u*(p-6+g)+p]=d,c[u*p+p-6+g]=d,c[u*p+p+6-g]=d,c[u*(p+6-g)+p]=d;var b=[1,2,1,2,8,2,1,2,1];b=v.Ai.h5(b),v.Ai.aet(f,o,s.Z,s.h,b),v.XB(a,4294967295),v.Oy(o,a,3);for(var g=0;g<h;g++)f[g]==255&&(a[g<<2]=a[(g<<2)+1]=a[(g<<2)+2]=0,a[(g<<2)+3]=255);return{jX:a,T:s,bP:new st(s.Z/2,s.h/2)}},Qt.nD="0",Qt.oZ="1",Qt.hW="2",Qt.jB="3";var Ee={};Ee.ti=function(t,i){var e=t.yD(),r;if(e.x==Infinity||e.qr())return{Ww:v.R(0),T:new et,xa:new et};var n=t.yD(),a=Ee.Dz(t,i),s=v.D.YI(a.d);if(s.qr())return{Ww:v.R(0),T:new et,xa:new et};var l=y.z("canvas","");l.width=s.Z,l.height=s.h;var h=l.getContext("2d");if(h.translate(-s.x,-s.y),Ee.aen(a,h),t.dS.length!=0){var o=lt.oQ(i),f=h.getImageData(0,0,s.Z,s.h);if(r=new Uint8Array(f.data.buffer),o==0)for(var u=0;u<r.length;u+=4)r[u+3]=r[u+3]>80?255:0;if(o==3)for(var u=0;u<r.length;u+=4)r[u+3]=Math.min(255,r[u+3]*1.5)}else r=v.R(s.M()*4);return{Ww:r,T:s,xa:n}},Ee.Dz=function(t,i){var e={W:[],d:[]},r=i.O,n=lt.oQ(i),a=Math.max(r.i*r.i,r.p$*r.p$)<1e-9?r:null;if((n==3||n==4)&&(a=null),Ee.adE(t,e,a),!v.mD.O8(i.VU)){var s=v.D.nP(e.d);e=v.D.pP(e),e=v.D.Tm(e,Math.min(s.Z,s.h)/8);var l=lt.o7(i,t),h=v.mD.ij(i.VU,l);v.ea.apply(h,e.d,l)}return v.D.O(e.d,r,e.d),e},Ee.aen=function(t,i){Typr.U.pathToContext({crds:t.d,cmds:t.W},i)},Ee.SR=function(t,i){if(!!Si.NX()){for(var e=t.MF,r=e.ResourceDict.FontSet,n=e.ResourceDict.StyleSheetSet[0].StyleSheetData,a=e.EngineDict.StyleRun.RunLengthArray,s=e.EngineDict.StyleRun.RunArray,l=lt.jn(e),h=!0,o={},f=0,u=0;u<s.length;u++){var p=s[u].StyleSheet.StyleSheetData.Font;p==null&&(p=n.Font);for(var c=0;c<a[u];c++){var d=l.charCodeAt(f+c),g=p+","+(d>128?d:-1);o[g]==null&&(o[g]=1,i.VV(r[p].Name,d)==null&&(h=!1))}f+=a[u]}return h}},Ee.adE=function(t,i,e){for(var r=new Et,n=0;n<t.eS.length;n++)Ee.ad1(t.dS,t.eS[n],i,r,e)},Ee.ad1=function(t,i,e,r,n){r.translate(i.tZ.x,i.tZ.y);for(var a=0;a<i.V8.length;a++){var s={},l=i.V8[a];if(!l.fH)break;var h=r.clone();if(h.translate(l.tZ.x,l.tZ.y),n){var o=n.ye+h.ye*n.xA;h.ye=(Math.round(o)-n.ye)/n.xA}for(var f=l.start;f<l.end;f++)Ee.ale(t,i.Vz[f],i,s,e,h)}r.translate(-i.tZ.x,-i.tZ.y)},Ee.a0v="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63",Ee.ale=function(t,i,e,r,n,a){a.translate(i.tZ.x,i.tZ.y);for(var s=i.GZ;s<=i.sf;s++){var l=e.K5[s],h=l.T.Z,o=t[e.a5Q+l.Fc];if(o.hp!=`
`){var f=o.Sx.FontSize/o.kb.head.unitsPerEm,u=lt.T6(o.Sx),p=(Math.round(u.U)<<16)+(Math.round(u.S)<<8)+Math.round(u.i);n.W.push("#"+v.v2(p));var c=a.clone();c.translate(l.tZ.x+l.XW*f,l.tZ.y-l.tD*f);var d=new Et;if(d.scale(f,-f),o.kU==1&&Ee.a0v.indexOf(o.hp)!=-1&&d.concat(new Et(-1,0,0,1,h,0)),o.Sx.FauxItalic&&d.concat(new Et(1,0,-Math.tan(.18),1,0,0)),d.translate(0,o.BS),d.scale(o.scale.x,o.scale.y),o.Sx.BaselineShift!=null&&d.translate(0,-o.Sx.BaselineShift),l.D8!=0&&d.rotate(-l.D8),d.concat(c),l.path.W.length!=0&&o.hp!="	")if(o.Sx.FauxBold){var g=o.Sx.FontSize/2048*27*o.scale.x;d.PV+=g,v.D.concat(n,l.path,d),d.PV-=g+g,v.D.concat(n,l.path,d)}else v.D.concat(n,l.path,d);if(o.hp!=`
`){if(o.Sx.Underline){r.EF==null&&(r.EF=o.kb.post.underlineThickness),r.afO==null&&(r.afO=o.kb.post.underlinePosition);var b=0,m=r.afO-r.EF/2,x=l.Bx*1.05,M=-r.EF;v.D.concat(n,{W:["M","L","L","L","Z"],d:[b,m,b+x,m,b+x,m+M,b,m+M]},d)}if(o.Sx.Strikethrough){var S=o.kb["OS/2"].yStrikeoutSize,w=o.kb["OS/2"].yStrikeoutPosition,b=0,m=w+S/2,x=l.Bx*1.05,M=-S;v.D.concat(n,{W:["M","L","L","L","Z"],d:[b,m,b+x,m,b+x,m+M,b,m+M]},d)}}n.W.push("X")}}a.translate(-i.tZ.x,-i.tZ.y)};function Si(t,i){var e=lt.AW(t),r,n,a=lt.dd(t),s;t.Curve&&(n=Si.Pr(t.Curve)),e!=0&&(r=new et(a[0],a[1],a[2],a[3]),e==2&&(r.Z=n[5]-n[4],r.h=9999)),this.eS=[],this.dS=[],this.iy=e;for(var l=this.ac_=lt.jn(t),h=-1,o=0;o<l.length;o++){var f=s,u=lt.LQ(t,o);u!=h&&(h=u,f=s=lt.a7v(t,o));var p={hp:l.charAt(o),Sx:f,kb:null,FP:-1,BS:0,scale:new st(0,0),hq:0,lineHeight:0,kU:0},c=t.ResourceDict.FontSet[f.Font].Name,d=p.kb=i.VV(c,l.charCodeAt(o));p.scale.x=f.HorizontalScale==null?1:f.HorizontalScale,p.scale.y=f.VerticalScale==null?1:f.VerticalScale;var g=d["OS/2"],b=d.hhea;if(f.FontCaps==1&&p.hp!=p.hp.toUpperCase()){var m=g.sxHeight?g.sxHeight/g.sTypoAscender:.76;p.scale.x*=m,p.scale.y*=m}var x=1/d.head.unitsPerEm*f.FontSize;if(f.FontBaseline==1){var m=t.ResourceDict.SuperscriptSize;p.scale.x*=m,p.scale.y*=m,p.BS-=t.ResourceDict.SuperscriptPosition*f.FontSize}if(f.FontBaseline==2){var m=t.ResourceDict.SubscriptSize;p.scale.x*=m,p.scale.y*=m,p.BS+=t.ResourceDict.SubscriptPosition*f.FontSize}var M=Si.hq(d,c);p.hq=M*x,p.lineHeight=f.FontSize*1.2,f.AutoLeading==!1&&(p.lineHeight=f.Leading),this.dS.push(p)}for(var S=this.eS,w=[0],o=0;o<t.EngineDict.ParagraphRun.RunLengthArray.length;o++){var k=new Si.md(t,i,this.dS,o,r,w,e==1?n:null);S.push(k)}if(e==2){for(var T=t.Curve.Points,L=n[0],O=n[1],E=n[2],D=n[3],B=n[4],I=n[5],o=0;o<S.length;o++)for(var N=0;N<S[o].V8.length;N++)o==0&&N==0||(S[o].V8[N].fH=!1);var k=S[0],V=k.V8[0];k.tZ.Oh(0,0),V.tZ.Oh(0,0);for(var N=V.start;N<V.end;N++){var j=k.Vz[N],R=j.tZ.x;j.tZ.x=0;for(var G=j.GZ;G<=j.sf;G++){var Z=k.K5[G],_=Z.T.Z/2;Z.tZ.x+=R;var U=Si.adt(L,(B+Z.tZ.x+_)%D);Z.tZ.x=U[0]-_*U[2],Z.tZ.y=U[1]-_*U[3],Z.D8=Math.atan2(U[3],U[2])}}}}Si.hq=function(t,i){var e=t["OS/2"],r=t.hhea,n=0,n=0,a=[];a.push(e&&e.sxHeight&&i.toLowerCase().indexOf("capitals")!=-1?e.sxHeight:0),a.push(e&&e.sCapHeight?e.sCapHeight:0),a.push(e&&e.sTypoAscender?e.sTypoAscender:0),a.push(r.ascender?r.ascender:0);for(var s=0;s<a.length;s++)if(a[s]!=0){n=a[s];break}return n},Si.prototype.a7j=function(){return!this.q8(0)},Si.prototype.aaP=function(){return this.q8(1)},Si.prototype.q8=function(t){for(var i=this.eS,e=!0,r=0,n=0;n<i.length;n++){var a=i[n].V8,s=a.length;r+=s;for(var l=0;l<s;l++)e&=a[l].fH}return[e,r][t]},Si.Pr=function(t){var i=t.Points,e=i.length,r=e>>>3,n=t.TextOnPathTRange,a=t.Reversed,s=0,l=0;if(a){for(var h=i.slice(0),o=0;o<e;o+=2)h[o]=i[e-2-o],h[o+1]=i[e-1-o];i=h,n=[r-n[1]%r,r-n[0]%r]}for(var f=[],u=[0],p=[0],o=0;o<e;o+=8)for(var c=i[o+6]-i[o+0],d=i[o+7]-i[o+1],g=Math.round(4*Math.sqrt(c*c+d*d)),b=0;b<g;b++){var m=b/g,x=1-m,M=x*x*x*i[o+0]+3*x*x*m*i[o+2]+3*x*m*m*i[o+4]+m*m*m*i[o+6],S=x*x*x*i[o+1]+3*x*x*m*i[o+3]+3*x*m*m*i[o+5]+m*m*m*i[o+7];if(f.push(M,S),o+b!=0){var c=M-s,d=S-l;p.push(p[p.length-1]+Math.sqrt(c*c+d*d)),u.push((o>>>3)+m)}s=M,l=S}var w=p.length,k=p[w-1],T=Si.Ec(n[0],u),L=Si.Ec(n[1]%r,u),O=p[T%w],E=p[L%w];return O>=E&&(E+=k),[f,u,p,k,O,E]},Si.Ec=function(t,i){for(var e=0;i[e]<t;)e++;return e},Si.adt=function(t,i){for(var e=0,r=0,n,a,s;e<i;)n=t[r+2]-t[r],a=t[r+3]-t[r+1],s=Math.sqrt(n*n+a*a),e+=s,r+=2;return[t[r],t[r+1],n/s,a/s]},Si.prototype.a71=function(t){return this.dS[t]},Si.prototype.agM=function(t){for(var i=0;i<this.eS.length;i++)for(var e=this.eS[i],r=0;r<e.V8.length;r++){var n=e.V8[r],a=e.Vz[n.start].start,s=e.Vz[n.end-1].end;if(a<t&&t<s)return[a,s-1]}return[0,1]},Si.prototype.iT=function(t,i){var e=-1,r=this.eS;if(this.iy==2){for(var n=1e9,a=0,s=r[0],l=s.V8[0],h=l.start;h<l.end;h++)for(var o=s.Vz[h],f=o.GZ;f<=o.sf;f++){var u=s.K5[f],p=u.T.Z,c=t.x-u.tZ.x,d=t.y-u.tZ.y,g=c*c+d*d;g<n&&(n=g,a=u.Fc)}return a!=0&&this.ac_.codePointAt(a-1)>65535&&a--,a}for(var b=0;b<r.length;b++)for(var s=r[b],m=0;m<s.V8.length;m++){e++;var l=s.V8[m],x=s.V8[m+1];if(x==null&&b<r.length-1&&(x=r[b+1].V8[0]),i!=null){if(e!=i)continue}else if(x!=null&&s.tZ.y+l.tZ.y<t.y)continue;for(var h=l.start;h<l.end;h++)for(var o=s.Vz[h],f=o.GZ;f<=o.sf;f++){var u=s.K5[f],p=u.T.Z,M=s.tZ.x+l.tZ.x+o.tZ.x,S=M+u.tZ.x,w=M+(f<o.sf?s.K5[f+1].tZ.x:u.tZ.x+p);if(t.x<=w||h+1==l.end&&f==o.sf){var k=s.a5Q+u.Fc,T=this.dS[k],L=T.kU&1;return T.hp!=`
`&&(L==0&&t.x>S+p/2||L==1&&t.x<S+p/2)&&(k+=this.ac_.codePointAt(k)>65535?2:1),k}}}},Si.prototype.Fj=function(t){for(var i={T:new et,Kc:0},e=0,r=0;r<this.eS.length;r++)for(var n=this.eS[r],a=0;a<n.V8.length;a++){var s=n.V8[a];i.Kc=e,e++;for(var l=s.start;l<s.end;l++)for(var h=n.Vz[l],o=h.start;o<h.end;o++)if(o==t){for(var f=this.dS[o],u=f.FP,p=n.K5[u].Fc,c=1;n.K5[u]!=null&&n.K5[u].Fc==p;){var d=n.K5[u],g=n.tZ.x+s.tZ.x+h.tZ.x+d.tZ.x,b=n.tZ.y+s.tZ.y+h.tZ.y+d.tZ.y;i.T=i.T.s7(new et(g,b-f.lineHeight,d.T.Z,f.lineHeight)),i.D8=d.D8,u+=c}return i}}},Si.prototype.yD=function(){for(var t=Infinity,i=Infinity,e=-Infinity,r=-Infinity,n=0;n<this.eS.length;n++)for(var a=this.eS[n],s=0;s<a.V8.length;s++){var l=a.V8[s];if(!l.fH)break;for(var h=l.start;h<l.end;h++)for(var o=a.Vz[h],f=o.GZ;f<=o.sf;f++){var u=a.K5[f],p=u.T,c=a.tZ.x+l.tZ.x+o.tZ.x+u.tZ.x,d=a.tZ.y+l.tZ.y+o.tZ.y+u.tZ.y;t=Math.min(t,c+p.x),i=Math.min(i,d+p.y),e=Math.max(e,c+p.x+p.Z),r=Math.max(r,d+p.y+p.h)}}return new et(t,i,e-t,r-i)},Si.g0=function(t){return 19968<=t&&t<=40959||12288<=t&&t<=12543},Si.alR=function(t,i,e,r,n,a,s){for(var l=[a],h=0,o=a;o<s;o++){e[o]==null&&console.log(o,a,s,e);var f=e[o].hp,u=f.charCodeAt(0);u==32||u==9?(l.push(h,o,1,o+1),h=0):u==3851?(l.push(h+1,o+1),h=0):Si.g0(u)||o!=a&&e[o].kU!=e[o-1].kU?(l.push(h,o),h=1):h++}l.push(h);for(var p=[],o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];d!=0&&p.push(new Si.a42(t,i,e,r,n,c,d))}return p},Si.a5F=function(t,i,e,r,n,a,s){var l=[0,i?i.Z:1e9],h=[];if(r){var o=t[a].hq,f=n+(n==0?o:t[a].lineHeight),u=f-o*.9,p=v.D.pD(r[0],u),c=p.length,d=v.D.pD(r[0],f),g=d.length;if(c!=0&&g!=0){var b=0,m=0;for(l=[];b<c&&m<g;){var x=Math.max(p[b],d[m]),M=p[b+1],S=d[m+1],w=Math.min(M,S);x<w&&l.push(x,w),M<S?b+=2:m+=2}}}for(var k=0;k<l.length;k+=2){for(var T=l[k+1]-l[k],L=0,O=a,E=i?T-e.StartIndent-e.EndIndent-(a==0?e.FirstLineIndent:0):Infinity;a!=t.length;){var D=t[a],B=L==0||D.L5||D.nz||L+D.T.Z<E;if(!B)break;L+=D.T.Z,a++}h.push(a-O)}s[0]=h,s[1]=l,s[2]=a},Si.a2j=function(t,i){for(var e=t.length,r=new Uint32Array(e),n=new Uint8Array(e),a=0,s=0;s<e;s++){n[s]=0;var l=t.charCodeAt(s);r[s]=l,l>a&&(a=l)}return a>1424&&(n=Si.a83(r,i)),n},Si.md=function(t,i,e,r,n,a,s){this.Vz=[],this.V8=[],this.tZ=new st(0,0),this.K5=null,this.Vz=null,this.Sx=lt.a2c(t,r);var l=this.Sx,h=0,o="",f=0,u=1,p=0;if(r!=0){var c=l.SpaceBefore;c!=null&&(a[0]+=c)}for(var d=t.EngineDict.ParagraphRun.RunLengthArray,g=d[r],b=0;b<r;b++)h+=d[b];var m=l._Direction?l._Direction:0;this.a5Q=h;for(var x=lt.jn(t).slice(h,h+g),M=0;M<x.length;M++){var S=x.charAt(M);o+=e[h+M].Sx.FontCaps==0?S:S.toUpperCase()}x=o;var w=Si.a2j(x,m),k=[],T=w[b]&1,L=e[h].kb;e[h].kU=w[0];for(var b=1;b<x.length;b++){var S=e[h+b],O=w[b];S.kU=O,O!=T||S.kb!=L?(k.push(f,u),f=b,u=1,T=O,L=S.kb):u++}k.push(f,u);for(var E=this.K5=[],b=0;b<k.length;b+=2){for(var D=k[b],B=k[b+1],I=(e[h+D].kU&1)==0,N=x.slice(D,D+B),V=Typr.U.shapeHB(e[h+D].kb,N,I),j=[],R=0,M=0;M<V.length;M++){var G=V[M];j.push({S:G.g,Fc:G.cl,Bx:G.ax,yG:G.ay,XW:G.dx,tD:G.dy})}V=j;var Z=V.slice(0);I||Z.reverse();for(var M=0;M<N.length;M++){for(;R+1<Z.length&&Z[R+1].Fc<=M;)R++;for(;R>0&&Z[R-1].Fc==M;)R--;e[h+D+M].FP=E.length+(I?R:Z.length-R-1)}for(var M=0;M<V.length;M++){E.push(V[M]),V[M].Fc+=D;var S=e[h+V[M].Fc];S.hp==`
`&&(V[M].Bx=0),S.hp=="	"&&(V[M].Bx=S.kb.head.unitsPerEm*2)}}for(var _=lt.Wk(l),U=this.Vz=Si.alR(t,i,e,h,E,h,h+g),Y=this.V8,$=-1,o=[null,null,0];p<U.length;){let gt=function(bt,xt,Dt){for(var Ot=Dt-xt>>>1,kt=0;kt<Ot;kt++){var mt=bt[xt+kt];bt[xt+kt]=bt[Dt-1-kt],bt[Dt-1-kt]=mt}};var Ct=gt;Si.a5F(U,n,l,s,a[0],p,o),$++;var P={start:p,end:0,T:new et,tZ:new st(0,0),fH:!0},tt=0,X=0;Y.push(P),P.end=o[2];for(var ht=P.end==U.length,F=1;F<5;F++){for(var it=-1,b=P.start;b<P.end;b++){var O=e[U[b].start].kU;it==-1&&O>=F?it=b:it!=-1&&O<F&&(gt(U,it,b),it=-1)}var J=P.end;m==0&&U[J-1].L5&&J--,it!=-1&&gt(U,it,J)}for(var Q=o[0],rt=o[1],it=p,nt=p,ot=0;ot<Q.length;ot++){var pt=rt[ot*2+1]-rt[ot*2],yt=0;it=nt,nt+=Q[ot];var ct=this.ag2(it,nt,U,m,n!=null);if(n?((_==1||ht&&_==4)&&(yt=ct[1]+(pt-ct[0])),(_==2||ht&&_==5)&&(yt=ct[1]+(pt-ct[0])/2),$==0&&(yt+=l.FirstLineIndent),yt+=l.StartIndent):(_==0&&(yt=l.StartIndent+l.FirstLineIndent),_==1&&(yt=-ct[0]-l.EndIndent),_==2&&(yt=-ct[0]/2)),yt+=rt[ot*2],n&&_>2&&(_==6||!ht))this.abh(it,nt,U,pt,m,yt);else for(var vt=yt,b=it;b<nt;b++)U[b].tZ.x=vt,vt+=U[b].T.Z}p=P.end;for(var b=P.start;b<P.end;b++){var wt=U[b].T.clone();wt.aw(U[b].tZ),P.T=P.T.s7(wt),tt=Math.max(tt,U[b].hq),X=Math.max(X,U[b].lineHeight)}P.tZ.y=$==0?0:Y[$-1].tZ.y+X,$==0?(r==0&&n&&(a[0]+=tt),r!=0&&(a[0]+=X),this.tZ.y=a[0]):a[0]+=X,n&&(P.fH=this.tZ.y+P.tZ.y<n.y+n.h)}var Mt=l.SpaceAfter;Mt!=null&&(a[0]+=Mt)},Si.md.prototype.ag2=function(t,i,e,r,n){for(var a=0,s=0,l=t;l<i;l++)a+=e[l].T.Z;if(n){if(r==0)for(var l=i-1;l>=t&&(e[l].L5||e[l].nz);l--)a-=e[l].T.Z;if(r==1)for(var l=t;l<i&&(e[l].L5||e[l].nz);l++){var h=e[l].T.Z;a-=h,s-=h}}return[a,s]},Si.md.prototype.abh=function(t,i,e,r,n,a){for(var s=0,l=0,h=0,o=0,f=t;f<i;f++)e[f].L5?h++:(s+=e[f].T.Z,l++);if(n==0)for(var f=i-1;f>=t&&(e[f].L5||e[f].nz);f--)e[f].L5&&h--;if(n==1)for(var f=t;f<i&&(e[f].L5||e[f].nz);f++)e[f].L5&&(h--,o++);if(l<=1||h==0){l==1&&(e[t].tZ.x=a);return}for(var u=(r-s)/h,p=-o*u,f=t;f<i;f++)e[f].L5&&(this.K5[e[f].GZ].T.Z=e[f].T.Z=u),e[f].tZ.x=a+p,p+=e[f].T.Z},Si.a42=function(t,i,e,r,n,a,s){this.dC="";for(var l=0;l<s;l++)this.dC+=e[a+l].hp;this.L5=s==1&&(e[a].hp==" "||e[a].hp=="	"),this.nz=s==1&&e[a].hp==`
`,this.start=a,this.end=a+s,this.T=new et,this.tZ=new st(0,0),this.hq=0,this.lineHeight=0;var h=0,o=0;s==0&&(this.lineHeight=e[a].lineHeight,this.hq=e[a].hq,this.T=new et(0,-e[a].lineHeight,0,e[a].lineHeight));var f=e[a].FP,u=e[a+s-1].FP;if(u<f){var p=f;f=u,u=p}for(;u+1<n.length&&n[u].Fc==n[u+1].Fc;)u++;this.GZ=f,this.sf=u;for(var c=f;c<=u;c++){var d=n[c],g=e[r+d.Fc],b=1/g.kb.head.unitsPerEm*g.Sx.FontSize,m=0;g.Sx.AutoKerning||(h+=g.Sx.Kerning*2*b*g.scale.x);var x=d.Bx*b*g.scale.x;d.tZ=new st(h,0),d.D8=0,d.T=new et(0,-g.lineHeight,x,g.lineHeight);var M=Typr.U.glyphToPath(g.kb,d.S);d.path={W:M.cmds,d:M.crds};var S=d.T.clone();S.aw(d.tZ),g.Sx.Tracking!=null&&(m=g.Sx.Tracking*.001*g.Sx.FontSize),g.Sx.FauxBold==!0&&(m+=.027*g.Sx.FontSize),h+=x+m,s==1&&(g.hp==" "||g.hp=="	")?S.Z+=2*m:s==1&&g.hp!=null&&Si.g0(g.hp.charCodeAt(0))&&(S.Z+=m),this.T=this.T.s7(S),this.hq=Math.max(this.hq,g.hq),this.lineHeight=Math.max(this.lineHeight,g.lineHeight)}},Si.f0=0,Si.NX=function(){if(Si.f0==2)return!0;if(Si.f0==1)return!1;Si.f0=1;function t(){fetch("code/external/fribidi.wasm").then(function(i){return i.arrayBuffer()}).then(function(i){return WebAssembly.instantiate(i)}).then(function(i){var e=i.instance.exports,r=e.memory,n=16,a=256,s=1;r.grow(400);var l=new Uint8Array(r.buffer),h=new Uint32Array(r.buffer),o=n|a,f=n|a|s;Si.a83=function(p,c){var d=p.length,g=e.calloc(d*4+4+d*4+d*4+d,1),b=g+d*4,m=b+4,x=m+d*4,M=x+d*4;h.set(p,g>>>2),h[b>>>2]=c==0?o:f,e.fribidi_get_bidi_types(g,d,m),e.fribidi_get_bracket_types(g,d,m,x),e.fribidi_get_par_embedding_levels_ex(m,x,d,b,M);var S=l.slice(M,M+d);return e.free(g),S},Si.f0=2;var u=new z(y.E.L,!0);u.data={e:y.B.Sl,RY:"add",S9:ut.Du,EM:null},hi.ZM.w(u)})}return Typr.U.initHB("code/external/hb.wasm",t),!1};function lt(){}lt.az=function(t){return JSON.parse(JSON.stringify(t))},lt.aZ=function(t,i){for(var e in i)t[e]=i[e]},lt.T_=function(t,i,e){var r=lt.a2J();e&&lt.Ji(r,0,0,e);var n={O:new Et(1,0,0,1,Math.round(t),Math.round(i)),MF:r};return n.Hb=lt.vk(),n.VU=v.mD.R(),n.xa=new et,n},lt.Tb=function(t){for(var i=["CharacterDirection",0],e=0;e<i.length;e+=2)if(t[i[e]]!=null&&t[i[e]]!=i[e+1])throw"e";if(t instanceof Array)for(var e=0;e<t.length;e++)lt.Tb(t[e]);else if(t instanceof Object)for(var r in t)lt.Tb(t[r])},lt.Wk=function(t,i){i==null&&(i=t.Justification);var e=t._Direction?t._Direction:0;return e==1&&(i==0||i==3?i++:(i==1||i==4)&&i--),i},lt.jj=function(t){if(t.add!=null){var i=t.MF,e=i.Curve,r=t.add.vmsk,n=r.b,a=v.D.xJ(n,!0).d,s=t.O.clone();s.nJ(),v.D.O(a,s,a);for(var l=a.slice(0,8),h=8;h<a.length;h+=6)l.push(a[h-2],a[h-1],a[h],a[h+1],a[h+2],a[h+3],a[h+4],a[h+5]);if(e.Points=l,e.TextOnPathTRange=r.A2.slice(0),e.Reversed=r.mt,lt.AW(i)==1){var e=Si.Pr(i.Curve),o=v.D.nP(e[0]);lt.Z1(i,[0,0,o.Z,o.h].map(Math.round));for(var f=0;f<l.length;f+=2)l[f]-=o.x,l[f+1]-=o.y;var u=new Et(1,0,0,1,o.x,o.y);u.concat(t.O),t.O=u}}},lt.SK=function(t){if(t.add!=null){for(var i=t.add.vmsk,e=t.MF.Curve,r=e.Points,n={W:["M"],d:[r[0],r[1]]},a=0;a<r.length;a+=8)n.W.push("C"),n.d.push(r[a+2],r[a+3],r[a+4],r[a+5],r[a+6],r[a+7]);v.D.O(n.d,t.O,n.d);var s=v.D.sb(n,!0);i.b=s,i.mt=e.Reversed,i.A2=e.TextOnPathTRange.slice(0),t.add.vogk=H.h7(s)}},lt.T6=function(t){var i={U:0,S:0,i:0};if(t.FillColor){var e=t.FillColor,r=e.Values;if(e.Type==1)i={U:r[1]*255,S:r[2]*255,i:r[3]*255};else if(e.Type==2){var n={classID:"CMYC",Cyn:{t:"doub",v:r[1]*100},Mgnt:{t:"doub",v:r[2]*100},Ylw:{t:"doub",v:r[3]*100},Blck:{t:"doub",v:r[4]*100}};i=v.j.T6(n)}else console.log("Unknown color type")}return i},lt.a0Q=function(t){for(var i=0;i<t.length;i++){var e=t[i].StyleSheet.StyleSheetData,r=e.FillColor;if(r&&r.Type==2){var n=lt.T6(e);r.Type=1,r.Values=[1,n.U/255,n.S/255,n.i/255]}}},lt.o7=function(t,i){var e;if(lt.AW(t.MF)==1){var r=lt.dd(t.MF);e=new et(0,0,r[2]-r[0],r[3]-r[1])}else e=i.yD();return e},lt.$T=function(t){for(var i=t[0],e=0;e<t.length;e++)i=lt.a4E(i,t[e]);return i},lt.a4E=function(t,i){var e={};for(var r in t)JSON.stringify(t[r])==JSON.stringify(i[r])&&(e[r]=t[r]);return e},lt.oi=function(t,i){for(var e=t.Dm,r=-1,n=0;n<e.length;n++)e[n].Name==i&&(r=n);r==-1&&(r=e.length,e.push({FontType:1,Name:i,Script:0,Synthetic:0})),t.dS.Font=r},lt.jn=function(t){return t.EngineDict.Editor.Text.replace(/\r/g,`
`).replace(/\u0003/g,`
`)},lt.jD=function(t,i){t.EngineDict.Editor.Text=i.replace(/\n/g,"\r")},lt.AW=function(t){return t.Curve&&t.Curve.TextOnPathTRange[0]>=0?2:t.EngineDict.Rendered.Shapes.Children[0].ShapeType},lt.E5=function(t,i){var e=t.EngineDict.Rendered.Shapes.Children[0];e.ShapeType=i;var r=e.Cookie.Photoshop;r.ShapeType=i,r.Base.ShapeType=i,i==0&&(delete r.BoxBounds,r.PointBase=[0,0]),i==1&&(delete r.PointBase,r.BoxBounds=[0,0,1,1])},lt.dd=function(t){return t.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds},lt.Z1=function(t,i){t.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=i},lt.a7v=function(t,i){return lt.a0H(t,lt.LQ(t,i))},lt.LQ=function(t,i){var e=t.EngineDict.StyleRun.RunLengthArray;return lt.x0(e,i).lT},lt.a0H=function(t,i){var e=t.ResourceDict.StyleSheetSet[0].StyleSheetData,r={};for(var n in e)r[n]=e[n];var a=t.EngineDict.StyleRun.RunArray[i].StyleSheet.StyleSheetData;return lt.aZ(r,a),r},lt.a2c=function(t,i){var e=t.ResourceDict.ParagraphSheetSet[0].Properties,r={};for(var n in e)r[n]=e[n];var a=t.EngineDict.ParagraphRun.RunArray[i].ParagraphSheet.Properties;lt.aZ(r,a);for(var s=["StartIndent","EndIndent","FirstLineIndent"],l=0;l<3;l++)r[s[l]]==null&&(r[s[l]]=0);return r},lt.v$=function(t,i,e){if(e!=""){var r=lt.jn(t);lt.jD(t,r.substring(0,i)+e+r.substring(i,r.length));var n=t.EngineDict.StyleRun,a=n.RunLengthArray,s=lt.x0(a,i-1);a[s.lT]+=e.length;var l=t.EngineDict.ParagraphRun,a=l.RunLengthArray,h=lt.x0(a,i),o=e.split(`
`);if(o.length==1){a[h.lT]+=e.length;return}a.splice(h.lT+1,0,a[h.lT]-(i-h.YJ)),l.RunArray.splice(h.lT+1,0,lt.az(l.RunArray[h.lT])),a[h.lT]-=a[h.lT+1],a[h.lT]+=o[0].length+1;for(var f=1;f<o.length-1;f++)l.RunArray.splice(h.lT+f,0,lt.az(l.RunArray[h.lT+f-1])),l.RunLengthArray.splice(h.lT+f,0,o[f].length+1);a[h.lT+o.length-1]+=o[o.length-1].length}},lt.Iw=function(t,i,e){var r=lt.jn(t);lt.jD(t,r.substring(0,i)+r.substring(e,r.length)),lt.lV(t.EngineDict.ParagraphRun,i,e,!0),lt.lV(t.EngineDict.StyleRun,i,e,!1)},lt.lV=function(t,i,e,r){for(var n=t.RunLengthArray,a=lt.x0(n,i),s=lt.x0(n,e),l=[],h=0;h<n.length;h++)for(var o=0;o<n[h];o++)l.push(h);l.splice(i,e-i);for(var f=[],h=0;h<n.length;h++)f.push(0);for(var h=0;h<l.length;h++)f[l[h]]++;for(var h=0;h<n.length;h++)f[h]==0?(f.splice(h,1),n.splice(h,1),t.RunArray.splice(h,1),h--):f[h]<n[h]&&(n[h]=f[h]);r&&a.lT!=s.lT&&a.YJ!=i&&(n[a.lT]+=n[a.lT+1],n.splice(a.lT+1,1),t.RunArray.splice(a.lT+1,1))},lt.Ji=function(t,i,e,r){var n=t.EngineDict.Editor.Text.length;e==n-2&&e++,r.dS.Font!=null&&(t.ResourceDict.FontSet=r.Dm.slice(0)),i<=e&&lt.Hg(t.EngineDict.StyleRun,r.dS,i,e,!0),lt.Hg(t.EngineDict.ParagraphRun,r.eS,i,e,!1)},lt.Hg=function(t,i,e,r,n){var a=t.RunLengthArray;if(n){var l=lt.x0(a,e);if(l.YJ!=e){var s=a[l.lT];a.splice(l.lT,0,e-l.YJ),a[l.lT+1]=s-a[l.lT],t.RunArray.splice(l.lT+1,0,lt.az(t.RunArray[l.lT]))}var h=lt.x0(a,r);if(h.YJ+a[h.lT]-1!=r){var s=a[h.lT];a.splice(h.lT,0,r-h.YJ+1),a[h.lT+1]=s-a[h.lT],t.RunArray.splice(h.lT+1,0,lt.az(t.RunArray[h.lT]))}}var l=lt.x0(a,e),h=lt.x0(a,r);if(n)for(var o=l.lT;o<=h.lT;o++)lt.aZ(t.RunArray[o].StyleSheet.StyleSheetData,i);else for(var o=l.lT;o<=h.lT;o++)lt.aZ(t.RunArray[o].ParagraphSheet.Properties,i)},lt.af$=function(t,i,e){for(var r=t.EngineDict.StyleRun.RunLengthArray,n=[],a=0,s=0;s<r.length;s++){for(var l=r[s],h=0;h<l;h++)i<=a+h&&a+h<e&&n.push(s);a+=l}for(var o=n[0],f=[],s=0;s<n.length;s++){var u=n[s]-o;u==f.length&&f.push(0),f[u]++}return f},lt.ach=function(t){for(var i=t.EngineDict.StyleRun,e=i.RunArray,r=i.RunLengthArray,n=0;n<r.length-1;n++){var a=e[n].StyleSheet.StyleSheetData,s=e[n+1].StyleSheet.StyleSheetData;JSON.stringify(a)==JSON.stringify(s)&&(e.splice(n+1,1),r[n]+=r[n+1],r.splice(n+1,1),n--)}},lt.oQ=function(t){var i=t.Hb.AntA.v.Annt;return i=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(i),i==-1&&(i=1),i},lt.LE=function(t,i){t.Hb.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][i]},lt.lW=function(t,i,e){for(var r={Dm:t.ResourceDict.FontSet.slice(0),dS:[],eS:[]},n=t.EngineDict.StyleRun.RunLengthArray,a=lt.x0(n,i).lT,s=lt.x0(n,e).lT,l=a;l<=s;l++){var h=lt.az(t.ResourceDict.StyleSheetSet[0].StyleSheetData),o=t.EngineDict.StyleRun.RunArray;if(o.length!=0){var f=o[l].StyleSheet.StyleSheetData;lt.aZ(h,f),r.dS.push(h)}}for(var u=t.EngineDict.ParagraphRun.RunLengthArray,p=lt.x0(u,i).lT,c=lt.x0(u,e).lT,l=p;l<=c;l++){var d=t.EngineDict.ParagraphRun.RunArray;d.length!=0&&r.eS.push(lt.az(d[l].ParagraphSheet.Properties))}return r.dS=r.dS.length==0?{}:lt.$T(r.dS),r.eS=r.eS.length==0?{}:lt.$T(r.eS),r},lt.eQ=function(t,i){var e,r;e=["FontSize","Leading","BaselineShift"],r=t.dS;for(var n=0;n<e.length;n++)r[e[n]]!=null&&(r[e[n]]*=i);e=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"],r=t.eS;for(var n=0;n<e.length;n++)r[e[n]]!=null&&(r[e[n]]*=i)},lt.afb=function(){return lt.lW(lt.WP,0,0)},lt.vk=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}},lt.x0=function(t,i){for(var e=0,r=0;e+t[r]<=i;)e+=t[r],r++;return{lT:r,YJ:e}},lt.a2J=function(){var t=lt.az(this.WP);return t},lt.GS={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0},lt.a5q={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2},lt.WP={EngineDict:{Editor:{Text:`
`},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(lt.GS))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(lt.GS))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(lt.a5q))}],FontSet:[{Name:"AlibabaPuHuiTi-Regular",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};var Ui={};Ui.acU=function(t,i,e){var r={};return r._98={_0:"i7"},r._0=Ui.a35(t,i,e?e._0:null),r._1=Ui.aac(t,i,r._0,e?e._1:null),r},Ui.a35=function(t,i,e){var r={};return r._1=Ui.ahd(t,e?e._1:null),r._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]},r._3=JSON.parse(JSON.stringify(Ui.a9S)),r._4=JSON.parse(JSON.stringify(Ui.adT)),r._5=Ui.ai$(t,r._1._0,e?e._5:null),r._6=Ui.a5j(t,e?e._6:null),r._8=Ui.ajW(t,i,e?e._8:null),r._9=Ui.a7x,r},Ui.ahd=function(t,i){for(var e=[],r=[],n=0;n<t.length;n++)for(var a=t[n].ResourceDict.FontSet,s=0;s<a.length;s++){var l=a[s];r.indexOf(l.Name)==-1&&(e.push(l),r.push(l.Name))}for(var h={_0:[]},n=0;n<e.length;n++){var o=e[n],f={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+o.Name,_1:"i"+o.Script,_2:"i"+o.FontType}}};o.Script==0&&delete f._0._0._1,h._0.push(f)}return h},Ui.ai$=function(t,i,e){var r={_0:[],_1:[]},n={_0:JSON.parse(JSON.stringify(Ui.Jn))};return Ui._x(n._0,t[0].ResourceDict.StyleSheetSet[0],i,t[0].ResourceDict.FontSet),r._0.push(n),r._1.push({_0:"i0"}),r._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}}),r._1.push({_0:"i1"}),r},Ui.a5j=function(t,i){var e={_0:[],_1:[]},r={_0:JSON.parse(JSON.stringify(Ui.LD))};return Ui.O3(r._0,t[0].ResourceDict.ParagraphSheetSet[0]),e._0.push(r),e._1.push({_0:"i0"}),r={_0:JSON.parse(JSON.stringify(Ui.LD))},Ui.O3(r._0,t[0].ResourceDict.ParagraphSheetSet[0]),r._0._0="sBasic Paragraph",r._0._6="i0",e._0.push(r),e._1.push({_0:"i1"}),e},Ui.ajW=function(t,i,e){for(var r={_0:[]},n=0;n<t.length;n++){var a=t[n].Curve,s={};r._0.push({_0:s});var l=lt.AW(t[n]);if(s._2={},s._2._0="i"+l,l==0)s._2._6=["f-1","f-1"],s._2._11={_4:"i-1",_7:!1};else if(l==1&&a==null){var h=lt.dd(t[n]),o=h[2],f=h[3];s._1={_0:Ui.g7("f",[0,0,0,0,o,0,o,0,o,0,o,0,o,f,o,f,o,f,o,f,0,f,0,f,0,f,0,f,0,0,0,0])},s._2._6=["f-2","f-2"],s._2._11={_4:"i-2",_7:!1}}else if(l==1){var h=lt.dd(t[n]),o=h[2],f=h[3];s._1={_0:Ui.g7("f",a.Points)},s._2._6=["f-3","f-3"],s._2._11={_4:"i-3",_7:!1}}else l==2&&(s._1={_0:Ui.g7("f",a.Points)},s._2._6=Ui.g7("f",a.TextOnPathTRange),s._2._11={_0:a.Reversed,_3:"i0",_5:"f0",_7:!1})}return r},Ui.aac=function(t,i,e,r){var n={};return n._0=JSON.parse(JSON.stringify(Ui.a5a)),n._1=Ui.adZ(t,i,e,r?r._1:null),n._2=JSON.parse(JSON.stringify(Ui.Jn._6)),n._3=JSON.parse(JSON.stringify(Ui.LD._5)),n},Ui.adZ=function(t,i,e,r){for(var n=[],a=e._1._0,s=0;s<t.length;s++){var l=t[s],h={_0:{}};n.push(h);var o=r?r[s]:null;h._0._0="s"+l.EngineDict.Editor.Text,h._0._0=h._0._0;var f={_0:[]};h._0._5=f;for(var u=l.EngineDict.ParagraphRun,p=0;p<u.RunArray.length;p++){var c={_0:{}};f._0.push(c),c._0._0={_0:"s",_5:{},_6:"i1"},Ui.O3(c._0._0,l.EngineDict.ParagraphRun.RunArray[p].ParagraphSheet),c._1="i"+u.RunLengthArray[p]}var d={_0:[]};h._0._6=d;var g=o?o._0._6:null;u=l.EngineDict.StyleRun;for(var p=0;p<u.RunArray.length;p++){var b={_0:{}};d._0.push(b);var m=g?g._0:null;b._0._0={_0:"s",_5:"i1",_6:{}},Ui._x(b._0._0,l.EngineDict.StyleRun.RunArray[p].StyleSheet,a,l.ResourceDict.FontSet,m?b._0._0:null),b._1="i"+u.RunLengthArray[p]}h._0._10={_0:"i4",_2:!0},h._1=Ui.view.a8U(l,null,s,null)}return n},Ui._x=function(t,i,e,r,n){t._0="s"+(i.Name?i.Name:"");var a=t._6,s=n?n._6:null,l=i.StyleSheetData;if(l.Font!=null){for(var h=r[l.Font].Name,o=-1,f=0;f<e.length;f++)if("s"+h==e[f]._0._0._0){o=f;break}a._0="i"+o,l.FontSize!=null&&(a._1="f"+l.FontSize),l.FauxBold!=null&&(a._2=l.FauxBold),l.FauxItalic!=null&&(a._3=l.FauxItalic),l.AutoLeading!=null&&(a._4=l.AutoLeading),l.Leading!=null&&(a._5="f"+l.Leading),l.HorizontalScale!=null&&(a._6="f"+l.HorizontalScale),l.VerticalScale!=null&&(a._7="f"+l.VerticalScale),l.Tracking!=null&&(a._8="i"+l.Tracking),l.BaselineShift!=null&&(a._9="f"+l.BaselineShift),l.AutoKerning!=null&&(a._11="i"+(l.AutoKerning?1:0)),l.FontCaps!=null&&(a._12="i"+l.FontCaps),l.FontBaseline!=null&&(a._13="i"+l.FontBaseline),l.Strikethrough!=null&&(a._15="i"+(l.Strikethrough?1:0)),l.Underline!=null&&(a._16="i"+(l.Underline?2:0)),l.Ligatures!=null&&(a._18=l.Ligatures),l.DLigatures!=null&&(a._19=l.DLigatures),l.Language!=null&&(a._38="i"+l.Language),l.FillColor!=null&&(a._53={_99:"/SimplePaint",_0:{_0:"i1",_1:Ui.g7("f",l.FillColor.Values)}})}},Ui.O3=function(t,i){t._0="s"+(i.Name?i.Name:"");var e=t._5,r=i.Properties;r.Justification!=null&&(e._0="i"+r.Justification),r.FirstLineIndent!=null&&(e._1="f"+r.FirstLineIndent),r.StartIndent!=null&&(e._2="f"+r.StartIndent),r.EndtIndent!=null&&(e._3="f"+r.EndtIndent),r.SpaceBefore!=null&&(e._4="f"+r.SpaceBefore),r.SpaceAfter!=null&&(e._5="f"+r.SpaceAfter),r.AutoHyphenate!=null&&(e._9=r.AutoHyphenate),r._Direction!=null&&(e._33="i"+r._Direction)},Ui.g7=function(t,i){for(var e=[],r=0;r<i.length;r++)e.push(t+i[r]);return e},Ui.a9S={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]},Ui.adT={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]},Ui.Jn={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}},Ui.LD={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}},Ui.a7x={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]},Ui.a5a={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s	",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};var we={};we.a27=function(t){return we.E2(t,we.N2)},we.agb=function(t){return we.cO(t,we.N2)},we.E2=function(t,i){var e;if(typeof t=="string")return t;if(t instanceof Array){e=[];for(var r=0;r<t.length;r++)e[r]=we.E2(t[r],i)}else{e={};var n={};for(var a in i){var s=i[a],l="_"+s[0];t[l]!=null&&(e[a]=s[1]?we.E2(t[l],s[1]):t[l],n[l]=!0)}for(var a in t)if(n[a]==null)throw console.log(n),console.log(a,t,i),"e"}return e},we.cO=function(t,i){var e;if(t instanceof Array){e=[];for(var r=0;r<t.length;r++)e[r]=we.cO(t[r],i)}else{e={};var n={};for(var a in i){var s=i[a],l="_"+s[0];t[a]!=null&&(e[l]=s[1]?we.cO(t[a],s[1]):t[a],n[a]=!0)}for(var a in t)if(n[a]==null)throw console.log(n),console.log(a,t),"e"}return e},we.mz={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]},we.zn={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,we.mz],_StrokeColor:[54,we.mz],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,we.mz],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]},we.R1={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,we.zn],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]},we.Uc={_Name:[0],_Features:[5,we.R1],_Parent:[6]},we.ml={_Name:[0],_Parent:[5],_Features:[6,we.zn]},we.N2={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,we.ml]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,we.Uc]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,we.Uc]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,we.ml]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,we.zn],_OriginalNormalParagraphFeatures:[3,we.R1]}]},Ui.view={},Ui.view.a8U=function(t,i,e,r){var n={},a=lt.AW(t);return n._0=[{_0:"i"+e}],n};function te(){}te.adQ=function(t,i){var e=t.add,r=e.vmsk,n=e.vstk,a=e.lmfx,s=e.TySh,l=[],h=te.alq(a,e);if(t.ws()&&r){var o=v.V.ue(r.b);o.qr()||(l.push("width: "+Math.round(o.Z)+"px"),l.push("height: "+Math.round(o.h)+"px"));var f=v.V.a6c(r.b);f>0&&l.push("border-radius: "+Math.round(f)+"px")}else if(s){var u=s.MF;if(lt.AW(u)==1){var o=lt.dd(u);l.push("width: "+Math.round(o[2])+"px"),l.push("height: "+Math.round(o[3])+"px")}te.yS(l,lt.lW(u,0,0),s.O,!1,!1,h[0])}for(var p=[],c=a?a.dropShadowMulti.v:0,d=0;d<c.length;d++){var g=c[d].v;if(g.enab.v){var b=g.Dstn.v.val,m=g.lagl.v.val*Math.PI/180;g.uglg&&g.uglg.v&&(m=i.Rp()*Math.PI/180);var x=b*Math.cos(m),M=b*Math.sin(m);p.push("drop-shadow("+(x==0?"0 ":te.EE(-x)+"px ")+(M==0?"0 ":te.EE(M)+"px ")+g.blur.v.val/2+"px "+te.O4(g.Clr.v,g.Opct.v.val/100)+")")}}if(p.length!=0&&l.push("filter: "+p.join(" ")),s==null&&te.a0w(h,l),(n==null||!n.strokeEnabled.v)&&(n=St.ig(a)),n&&n.strokeEnabled.v){var S=n.strokeStyleContent.v,w=S.classID,k=at.bW.Bb.indexOf(n.strokeStyleLineCapType.v.strokeStyleLineCapType),T=at.bW.join.indexOf(n.strokeStyleLineJoinType.v.strokeStyleLineJoinType),L=n.strokeStyleOpacity.v.val/100,O=n.strokeStyleLineWidth.v.val,E="";w=="solidColorLayer"&&(E=te.O4(S.Clr.v,L)),l.push("border: "+O+"px solid "+E)}return l},te.alq=function(t,i){var e=St.h4(t,i),r=e[0],n=e[1],a,s;return r?a=te.O4(r.Clr.v,i.iOpa!=null?i.iOpa/255:1):n&&(s=te.Eu(n)),[a,s]},te.a0w=function(t,i){t[0]&&i.push("background-color: "+t[0]),t[1]&&i.push("background-image: "+t[1])},te.zP={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},te.EE=function(t){return""+parseFloat(t.toFixed(3))},te.HD=function(t){if(t==null)return{U:0,S:0,i:0};var i=t.indexOf("(");if(i!=-1){var e=t.slice(i+1,t.length-1).split(",").map(parseFloat);return{U:e[0],S:e[1],i:e[2]}}if(t.charAt(0)!="#"){var r=te.zP;r[t]?t=r[t]:console.log("unknown color "+t)}return t=t.slice(1),t.length==3&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),t=parseInt(t,16),{U:t>>16&255,S:t>>8&255,i:t&255}},te.O4=function(t,i){return te.PO(v.j.T6(t),i)},te.PO=function(t,i){i==null&&(i=1);var e=Math.round(t.U),r=Math.round(t.S),n=Math.round(t.i),a=e<<16|r<<8|n;return i==1?"#"+v.v2(a):"rgba("+e+","+r+","+n+","+i+")"},te.Eu=function(t){var i=t.Grad.v;if(i.Clrs==null)return"";var e=i.Clrs.v.slice(0),r=i.Trns.v.slice(0),n=t.Ofst.v,a=t.Type.v.GrdT=="Rdl"?1:0,s=(a==1?"radial":"linear")+"-gradient",l=a==0?Math.round(-t.Angl.v.val+90)+"deg":"circle at center",h=t.Rvrs.v;h&&(e.reverse(),r.reverse());for(var o=0;o<e.length;o++){var f=e[o].v,u=o<r.length?r[o].v.Opct.v.val/100:1,p=f.Lctn.v/4096;h&&(p=1-p),l+=", "+te.O4(f.Clr.v,u)+" "+Math.round(p*100)+"%"}return s+"("+l+")"},te.yS=function(t,i,e,r,n,a){var s=i.dS,l=r?1:C.X.d3(e),h=Math.round(s.FontSize*l);t.push("font-size: "+h+"px");var o=s.Tracking;!r&&o!=null&&o!=0&&t.push("letter-spacing: "+Math.round(o*h/1e3)+"px"),s.AutoLeading||t.push("line-height: "+Math.round(s.Leading*l)+"px"),s.Strikethrough&&t.push("text-decoration: line-through");var f=lt.T6(s);f=[f.U,f.S,f.i].map(Math.round),t.push((r?"fill: ":"color: ")+(a||"#"+v.v2(f[0]<<16|f[1]<<8|f[2])));var u=i.Dm[s.Font].Name;if(u){var p=hi.ZM.VV(u),c="",d=null,g=null;p!=null&&u!=hi.TF(p)&&(p=null),n&&p&&(c+='"'+u+'", ');var b=u.toLowerCase();p?(d=hi.cv(p)[0],p["OS/2"]&&(g=p["OS/2"].usWeightClass)):(d=te.akq(u),b.indexOf("light")!=-1?g=300:b.indexOf("medium")!=-1?g=500:b.indexOf("black")!=-1||b.indexOf("extrabold")!=-1?g=800:b.indexOf("bold")!=-1&&(g="bold")),d!=null&&(c+='"'+d+'"'),g!=null&&t.push("font-weight: "+g),(b.indexOf("italic")!=-1||b.indexOf("oblique")!=-1)&&t.push("font-style: italic"),c&&t.push("font-family: "+c)}var m=i.eS.Justification;m!=null&&m!=0&&(r?t.push("text-anchor: "+["start","end","middle"][m%3]):t.push("text-align: "+["left","right","center"][m%3]))},te.akq=function(t){for(t=t.split("-")[0];t.endsWith("MT")||t.endsWith("PS");)t=t.slice(0,t.length-2);for(var i=!0,e=0;e<t.length;e++){var r=t.charAt(e);!i&&r.toLowerCase()!=r?(t=t.slice(0,e)+" "+t.slice(e),e++,i=!0):i=!1}return t};function Jt(){}Jt.VJ={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0},Jt.DU=function(t,i){var e=Date.now(),r;try{r=acorn.parse(t)}catch(l){console.log(l);return}var n=JSON.parse(JSON.stringify(Jt.Tz.qz));n.__return=!1,n.__break=!1,n.__throw=!1,n.__fs={},n.__window={},Jt.eval(r,i,n);var a=n.__fs;if(Object.keys(a).length!=0){var s=UZIP.encode(a);ui.save(s,"output.zip")}},Jt.eval=function(t,i,e){var r=t.type;if(r=="Program"||r=="BlockStatement"){for(var n=t.body,a=0;a<n.length;a++){var s=n[a].type;s=="FunctionDeclaration"&&(e[n[a].id.name]=n[a])}for(var a=0;a<n.length;a++){var s=n[a].type,l=Jt.eval(n[a],i,e);if(e.__return||e.__break||e.__throw)return l}}else{if(r=="ReturnStatement")return e.__return=!0,t.argument?Jt.it(t.argument,i,e):null;if(r=="BreakStatement")e.__break=!0;else if(r=="VariableDeclaration")for(var h=t.declarations,a=0;a<h.length;a++)Jt.eval(h[a],i,e);else if(r=="VariableDeclarator")e[t.id.name]=t.init?Jt.it(t.init,i,e):null;else if(r=="FunctionDeclaration")e[t.id.name]=t;else if(r=="MemberExpression"){var o=Jt.it(t.object,i,e),f=t.computed?Jt.it(t.property,i,e):Jt.eval(t.property,i,e),l;return o.qa!=null?l=Jt.Tz.lg(o,f,i,e):o==window&&Jt.VJ[f]||(l=o[f]),l}else if(r=="ArrayExpression"){for(var u=[],p=t.elements,a=0;a<p.length;a++)u.push(Jt.it(p[a],i,e));return u}else if(r=="ObjectExpression"){for(var u={},p=t.properties,a=0;a<p.length;a++){var c=p[a],d=p[a].key.name?p[a].key.name:p[a].key.value;u[d]=Jt.it(p[a].value,i,e)}return u}else{if(r=="ExpressionStatement")return Jt.eval(t.expression,i,e);if(r=="NewExpression"){var g=t.arguments,b=t.callee,m=b.type,u=null;if(m=="Identifier")u=Jt.Tz.a5N(b.name,g,i,e);else throw"e";if(u==null)throw"new "+b.name;return u}else if(r=="CallExpression"){var g=t.arguments,b=t.callee,m=b.type,x={};for(var M in e)x[M]=e[M];for(var S=[],a=0;a<g.length;a++)S.push(Jt.it(g[a],i,e));if(m=="Identifier"){var w=b.name,k=e[w];if(k)if(k.params){for(var T=k.params,a=0;a<T.length;a++)x[T[a].name]=S[a];return Jt.eval(k.body,i,x)}else return k.apply(null,S);else{if(Jt.Tz.a77.indexOf(w)!=-1)return Jt.Tz.ff({qa:"Application"},w,S,i,e);if(window[w]==null)console.log("Unknown function "+w);else if(Jt.VJ[w])alert(w+"() not available");else{var L=window[w].apply(window,S);return L}}}else if(m=="MemberExpression"){var o=Jt.it(b.object,i,e),f=b.computed?Jt.it(b.property,i,e):Jt.eval(b.property,i,e);return o==window&&Jt.VJ[f]?void 0:o.qa!=null?Jt.Tz.ff(o,f,S,i,e):o[f].apply(o,S)}else console.log(t)}else if(r=="AssignmentExpression"){var O=t.operator,E=t.left,D=E.type,B=Jt.it(E,i,e),I=Jt.it(t.right,i,e),l=null;if(O=="="?l=I:O=="+="?l=B+I:O=="-="?l=B-I:O=="*="?l=B*I:O=="/="?l=B/I:O=="%="?l=B%I:O=="&="?l=B&I:O=="|="?l=B|I:O=="&&="?l=B&&I:O=="||="?l=B||I:console.log(t),D=="Identifier"){var N=E.name;e.hasOwnProperty(N)?e[N]=l:e.__window[N]=l}else if(D=="MemberExpression"){var V=Jt.eval(E.property,i,e),j=Jt.it(E.object,i,e);j.qa!=null?Jt.Tz.agT(j,V,l,i,e):j[V]=l}else console.log(t)}else{if(r=="Identifier")return t.name;if(r=="Literal")return t.value;if(r=="UpdateExpression"){var O=t.operator,R=t.argument.name,u=Jt.it(t.argument,i,e);if(O=="++")return e[R]++,t.prefix?e[R]:e[R]-1;if(O=="--")return e[R]--,t.prefix?e[R]:e[R]+1;console.log(t)}else if(r=="UnaryExpression"){var O=t.operator,G=Jt.it(t.argument,i,e);return G.qa=="UnitValue"?O=="-"?-G.C:Jt.sP(G.C,O):Jt.sP(G,O)}else if(r=="BinaryExpression"||r=="LogicalExpression"){var O=t.operator,E=Jt.it(t.left,i,e),G=Jt.it(t.right,i,e);return E==null||G==null?Jt.eN(E,G,O):E.qa=="UnitValue"&&G.qa=="UnitValue"?Jt.eN(E.C,G.C,O):E.qa=="UnitValue"?Jt.eN(E.C,G,O):G.qa=="UnitValue"?O=="-"?-(E-G.C):Jt.eN(E,G.C,O):Jt.eN(E,G,O)}else if(r=="IfStatement"||r=="ConditionalExpression"){var Z=Jt.it(t.test,i,e);if(Z)return Jt.eval(t.consequent,i,e);if(t.alternate)return Jt.eval(t.alternate,i,e)}else if(r=="ForInStatement"){Jt.eval(t.left,i,e);var _=t.left.declarations[0].id.name,U=Jt.it(t.right,i,e);for(var M in U){e[_]=M;var Y=Jt.eval(t.body,i,e);if(e.__break)break;if(e.__return)return Y}e.__break=!1}else if(r=="ForStatement"){for(Jt.eval(t.init,i,e);Jt.eval(t.test,i,e);){var Y=Jt.eval(t.body,i,e);if(e.__break)break;if(e.__return)return Y;Jt.eval(t.update,i,e)}e.__break=!1}else if(r=="DoWhileStatement"){do{var Y=Jt.eval(t.body,i,e);if(e.__break)break;if(e.__return)return Y}while(Jt.eval(t.test,i,e));e.__break=!1}else if(r=="TryStatement"){if(Jt.eval(t.block,i,e),e.__throw){var $=t.handler;e[$.param.name]=e.__throw,e.__throw=!1,Jt.eval($.body,i,e),delete e[$.param.name]}}else r=="EmptyStatement"||console.log(t)}}}},Jt.eN=function(t,i,e){if(e=="+")return t+i;if(e=="-")return t-i;if(e=="*")return t*i;if(e=="/")return t/i;if(e=="%")return t%i;if(e=="^")return t^i;if(e=="&")return t&i;if(e=="&&")return t&&i;if(e=="|")return t|i;if(e=="||")return t||i;if(e=="<")return t<i;if(e==">")return t>i;if(e=="==")return t==i;if(e=="<=")return t<=i;if(e==">=")return t>=i;if(e=="!=")return t!=i;if(e=="!==")return t!==i;if(e=="<<")return t<<i;if(e==">>")return t>>i;console.log(e)},Jt.sP=function(t,i){if(i=="-")return-t;if(i=="!")return!t;if(i=="~")return~t;if(i=="+")return t;console.log(obj)},Jt.it=function(t,i,e){var r=t.type;return r=="Identifier"?Jt.a0l(t.name,i,e):Jt.eval(t,i,e)},Jt.a0l=function(t,i,e){if(t!="undefined")return e.hasOwnProperty(t)?e[t]:t=="app"?{qa:"Application"}:Jt.Tz.a1O.indexOf(t)!=-1?Jt.Tz.lg({qa:"Application"},t,i,e):window[t]&&!Jt.VJ[t]?window[t]:(e[t]=null,null)},Jt.Tz={},Jt.Tz.a5N=function(t,i,e,r){var n;return t=="SolidColor"&&(n={qa:t,C:[1,0,0,0]}),t=="Window"&&(n={qa:t,C:new xh(Jt.eval(i[0],e,r),Jt.eval(i[1],e,r),Jt.eval(i[2],e,r))}),t=="ExportOptionsSaveForWeb"&&(n={qa:t,C:{On:"png",Dh:100}}),t=="JPEGSaveOptions"&&(n={qa:t,C:{On:"jpg",Dh:100}}),t=="File"&&(n={qa:t,C:Jt.eval(i[0],e,r)}),t=="ActionReference"&&(n={qa:t,C:[]}),t=="ActionDescriptor"&&(n={qa:t,C:{}}),n},Jt.Tz.a1O="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" "),Jt.Tz.a77=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"],Jt.Tz.lg=function(t,i,e,r){var n=e.fm,a=e.ux();if(i=="typename")return t.qa=="Layer"?t.C.fO()?"LayerSet":"ArtLayer":t.qa;if(["Document","Layer"].indexOf(t.qa)!=-1&&["layers","artLayers","layerSets"].indexOf(i)!=-1){var s=a.root,l={qa:"Layers",RC:i,C:[]};t.qa=="Layer"&&(s=a.root.V$(a.r.indexOf(t.C)));for(var h=0;h<s.children.length;h++){var o=s.children[h].n,f=o.fO();f&&i=="artLayers"||!f&&i=="layerSets"||l.C.push({qa:"Layer",C:o})}return l.C.reverse(),l}else if(t.qa=="Documents"||t.qa=="Layers"||t.qa=="HistoryStates"){if(i=="length")return t.C.length;if(Number.isInteger(i))return t.C[i];console.log(t.qa+": unknown property ",i)}else if(t.qa=="Application"){if(i=="activeDocument")return{qa:"Document",C:e.ux()};if(i=="documents"){for(var l={qa:"Documents",C:[]},h=0;h<e.U4.length;h++)l.C.push({qa:"Document",C:e.U4[h]});return l}else{if(i=="fonts")return{qa:"TextFonts"};if(i=="preferences")return{qa:"Preferences"};if(i=="displayDialogs")return{qa:"DialogModes"};if(i=="foregroundColor"||i=="backgroundColor"){var u=i[0]=="f"?n.GY:n.Ty;return{qa:"SolidColor",C:[1,(u>>>16&255)/255,(u>>>8&255)/255,(u>>>0&255)/255]}}else{if(i=="UI")return{qa:"UI"};console.log(t,i)}}}else if(t.qa=="Document"){var a=t.C;if(i=="activeLayer"){var o=a.r[a.p[0]];return{qa:"Layer",C:o}}else{if(i=="resolution")return a.NB;if(i=="width")return a.Z;if(i=="height")return a.h;if(i=="name")return a.name;if(i=="saved")return!a.ry();if(i=="selection")return{qa:"Selection"};if(i=="activeHistoryState")return{qa:"HistoryState",XN:a.xG};if(i=="source")return a.Rg;if(i=="historyStates"){for(var p=[],h=0;h<a.history.length;h++)p.push({qa:"HistoryState",XN:h});return{qa:"HistoryStates",C:p}}else console.log(t,i)}}else if(t.qa=="Layer"){var c={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},o=t.C;if(i=="visible")return o.UQ();if(i=="selected")return a.p.indexOf(a.r.indexOf(o))!=-1;if(i=="grouped")return o.rd;if(c[i]!=null)return o.k6(c[i]);if(i=="opacity")return o.opacity*100/255;if(i=="blendMode")return o.sW;if(i=="name")return o.getName();if(i=="textItem")return{qa:"TextItem",C:o};if(i=="bounds"){var d=C.X.o7(a,[a.r.indexOf(o)]);return Jt.Tz.Tk(d,a)}else if(i=="parent"){for(var g=e.U4,h=0;h<g.length;h++)if(g[h].r.indexOf(o)!=-1)return{qa:"Document",C:g[h]}}else if(i=="kind"){for(var b=Jt.Tz.m_,h=0;h<b.length;h++)if(o.add[b[h]]!=null)return h;return 0}else console.log(t,i)}else if(t.qa=="Selection"){if(i=="bounds")return Jt.Tz.Tk(e.ux().K.rect,a);console.log(t,i)}else if(t.qa=="TextItem"){var m=t.C.add.TySh,x=m.MF,M=lt.jn(x),S=m.O.d3(),w=lt.lW(x,0,Math.max(0,M.length-2));if(i=="contents")return M.slice(0,M.length-1).replace(/\n/g,"\r");if(i=="font")return w.dS.Font!=null?w.Dm[w.dS.Font].Name:null;if(i=="size")return Jt.Tz.eD(w.dS.FontSize*S,a);if(i=="leading")return Jt.Tz.eD(w.dS.Leading*S,a);if(i=="tracking")return Jt.Tz.eD(w.dS.Tracking);if(i=="kind")return 1-lt.AW(x);if(i=="useAutoLeading")return w.eS.AutoLeading;if(i=="hyphenation")return w.eS.AutoHyphenate;if(i=="color")return{qa:"SolidColor",C:w.dS.FillColor.Values.slice(0)};if(i=="width"||i=="height"){var k=lt.dd(x),T=(k[2]-k[0])*S,L=(k[3]-k[1])*S;return Jt.Tz.eD(i=="width"?T:L,a)}else if(i=="position"){var O=m.O;return Jt.Tz.Jz([O.PV,O.ye],a)}else if(i=="horizontalScale"||i=="verticalScale"){var E=i[0].toUpperCase()+i.slice(1);return Math.round(w.dS[E]*100)}else console.log(t,i)}else if(t.qa=="Preferences"){if(i=="rulerUnits")return n.Np.Md;console.log(t,i)}else if(t.qa=="SolidColor"){if(i=="rgb")return{qa:"RGBColor",C:t.C};console.log(t,i)}else if(t.qa=="RGBColor"){var d=Math.round(255*t.C[1]),D=Math.round(255*t.C[2]),B=Math.round(255*t.C[3]);if(i=="red")return d;if(i=="green")return D;if(i=="blue")return B;if(i=="hexValue")return"#"+v.v2(d<<16|D<<8|B).toUpperCase();console.log(t,i)}else if(t.qa=="UnitValue"){if(i=="value")return t.C;throw"e"}else if(t.qa=="ExportOptionsSaveForWeb"){if(i=="format")return t.C.On;if(i=="PNG8")return!1;if(i=="quality")return t.C.Dh;throw i}else{if(t.qa=="JPEGSaveOptions")return 0;console.log(t,i)}},Jt.Tz.Tk=function(t,i){return Jt.Tz.Jz([t.x,t.y,t.x+t.Z,t.y+t.h],i)},Jt.Tz.Jz=function(t,i){for(var e=[],r=0;r<t.length;r++)e.push(Jt.Tz.eD(t[r],i));return e},Jt.Tz.$y=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t[e].qa?t[e].C:t[e]);return i},Jt.Tz.eD=function(t,i){return{qa:"UnitValue",C:t}},Jt.Tz.acz=function(t,i){return t.qa=="UnitValue"?t.C:t},Jt.Tz.agT=function(t,i,e,r,n){var a=new z(y.E.H,!0),s=new z(y.E.L,!0),l=r.ux(),h=r.fm;if(t.qa=="Application")i=="activeDocument"?(s.data={e:y.B.qD,EA:e.C},r.w(s)):i=="displayDialogs"||console.log(t,i,e);else if(t.qa=="Document"){var o=t.C;i=="name"?(a.Q=C.xC,a.data={e:H.FW,C:e,ad2:!0,Fi:o},l.Ob=!0):i=="source"?o.Rg=e:i=="activeLayer"?o.p=[o.r.indexOf(e.C)]:i=="activeHistoryState"?(a.Q=C.Kb,a.data={e:"h_itemchange",index:e.XN}):console.log(t,i)}else if(t.qa=="Layer"){a.Q=C.xC;var f={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},u=t.C,p=l.r.indexOf(u);i=="visible"?u.UQ()!=e&&(a.data={e:H.K7,n:p}):i=="opacity"?a.data={e:H.Ot,n:p,uB:Math.round(255*e/100)}:i=="blendMode"?a.data={e:H.N1,n:p,uB:ti.YA.indexOf(e)}:i=="name"?a.data={e:H.u$,n:p,name:e}:f[i]!=null?a.data={e:H.Lm,n:p,uB:[[e],[f[i]]]}:i=="kind"?a.data={e:H.t_,n:p,x9:Jt.Tz.m_[e]}:i=="grouped"?a.data={e:H.zO,n:p,uB:e}:console.log(t,i,e)}else if(t.qa=="TextItem"){a.Q=C.OX;var u=t.C,c=u.add.TySh,d=JSON.parse(JSON.stringify(c.MF)),g=c.O.clone(),b=c.O.d3(),m=lt.jn(d),x=lt.lW(d,0,m.length-2),M=!1;if(i=="contents")lt.Iw(d,0,m.length-1),lt.v$(d,0,e.replace(/\r/g,`
`));else if(i=="size")x.dS.FontSize=(e.C!=null?e.C:e)/b,M=!0;else if(i=="leading")x.dS.Leading=(e.C!=null?e.C:e)/b,M=!0;else if(i=="tracking")x.dS.Tracking=e.C!=null?e.C:e,M=!0;else if(i=="kind"){var S=lt.AW(d);if(S==1&&e==1){var w=new Si(d,r.fm.SN).eS[0],k=w.V8[0].end,T=w.Vz[k-1].end;lt.Iw(d,0,m.length-1),lt.v$(d,0,m.slice(0,T-1))}S==e&&lt.E5(d,1-e)}else if(i=="useAutoLeading")x.eS.AutoLeading=e,M=!0;else if(i=="hyphenation")x.eS.AutoHyphenate=e,M=!0;else if(i=="font")lt.oi(x,e),M=!0;else if(i=="color")x.dS.FillColor.Values=e.C.slice(0),M=!0;else if(i=="width"||i=="height"){var L=lt.dd(d).slice(0);i=="width"?L[2]=Math.round(L[0]+e/b):L[3]=Math.round(L[1]+e/b),lt.Z1(d,L)}else if(i=="position")g.PV=e[0],g.ye=e[1];else if(i=="horizontalScale"||i=="verticalScale"){var O=i[0].toUpperCase()+i.slice(1);x.dS[O]=e/100,M=!0}else console.log(t,i,e);M&&lt.Ji(d,0,m.length-1,x),a.data={e:"newED",vS:l.r.indexOf(u),e1:d,O:g}}else if(t.qa=="Preferences")if(i=="rulerUnits"){var E=JSON.parse(JSON.stringify(h.Np));E.Md=e,s.data={e:y.B.Sl,S9:ut.HI,uB:E},r.w(s)}else console.log(t,i,e);else if(t.qa=="RGBColor")if(i=="red")t.C[1]=e/255;else if(i=="green")t.C[2]=e/255;else if(i=="blue")t.C[3]=e/255;else if(i=="hexValue"){var D=v.cq(e.slice(1));t.C[1]=(D>>>16&255)/255,t.C[2]=(D>>>8&255)/255,t.C[3]=(D>>>0&255)/255}else console.log(t,i);else if(t.qa=="ExportOptionsSaveForWeb"){if(i=="format")t.C.On=e;else if(i!="PNG8")if(i=="quality")t.C.Dh=e;else throw"e"}else t.qa=="JPEGSaveOptions"?i=="quality"&&(t.C.Dh=Math.round(100*e/12)):console.log(t,i,e);a.data!=null&&r.w(a)},Jt.Tz.ff=function(t,i,e,r,n){var a=t.qa,s=null,l=new z(y.E.H,!0),h=new z(y.E.QJ,!0),o=new z(y.E.L,!0),f=r.ux(),u=r.U4;if(a=="Application")if(i=="charIDToTypeID"){var p=e[0].trim();return p=="Lvls"&&(p="levels"),p}else if(i=="stringIDToTypeID"){var c=e[0].trim(),d={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},g=d[c];return g==null?c:g}else if(i=="executeAction"){console.log(e);var b;e[1]&&(b=e[1].C,b.classID=e[0]);var m={setd:"set"},x=m[e[0]];x==null&&(x=e[0]),h.data={Bm:x,w1:b}}else i=="doAction"?o.data={e:y.B.rU,oI:[e[0],e[1]]}:i=="open"?(o.data={e:y.B.JX,S9:{url:e[0]}},e[2]&&u.length!=0&&(o.data.S9.q3=u.indexOf(f))):i=="echoToOE"?o.data={e:y.B.Xp,S9:e[0]}:console.log(i);else if(a=="Document"){var f=t.C;if(i=="trim"){for(var M=[],S=0;S<4;S++)M.push(e[S+1]!=null?e[S+1]:!0);h.data=C.$K.W$(e[0]!=null?e[0]:0,M)}else if(i=="save")o.data={e:y.B.tG};else if(i=="saveToOE")o.data={e:y.B.tG,ag$:e};else if(i=="rotateCanvas")h.data=C.X.JZ(!0,e[0]);else if(i=="resizeImage"||i=="resizeCanvas"){var w=e[0],k=e[1];typeof w!="number"&&(w=f.Z*parseFloat(w.slice(0,w.length-1))/100,k=f.h*parseFloat(k.slice(0,k.length-1))/100),i=="resizeCanvas"?h.data=C.$K.$W(Math.round(w),Math.round(k),e[2]):h.data=C.$K.cn(Math.round(w),Math.round(k),null,1)}else if(i=="paste")o.data={e:y.B.bx};else if(i=="close")o.data={e:y.B.vz,Fe:f};else if(i=="exportDocument"||i=="saveAs"){var T=n.__fs,L=e[0].C.replace(":","").replace("~/",""),O=i=="exportDocument"?e[2].C:e[1].C,E=ft.eX(f,O.On,null,null,[O.Dh],r.fm);T[L]=new Uint8Array(E)}else console.log(t,i,e)}else if(a=="Layer"){var D=t.C,B=f.r.indexOf(D);if(i=="copy")Jt.Tz.Iq(f,r,0),o.data={e:y.B.c_,YZ:e[0],XY:B},r.w(o),delete o.data,Jt.Tz.Iq(f,r,1);else if(i=="clear")Jt.Tz.Iq(f,r,0),h.data={Bm:"delete"},r.w(h),delete h.data,Jt.Tz.Iq(f,r,1);else if(i=="duplicate")e.length==0?(l.data={e:H.xm,n:B},l.Q=C.xC,r.w(l),l.data=null,s={qa:"Layer",C:f.r[f.p[0]]}):e[0].qa=="Document"&&(l.data={e:H.uP,r:f.FQ(B),kM:f,qW:e[0].C},l.Q=C.xC);else if(i=="merge"||i=="remove")l.data={e:i=="merge"?H.SG:H.R0,n:B},l.Q=C.xC,i!="remove"&&(s={qa:"Layer",C:f.r[f.p[0]]});else if(i=="move")l.data={e:H.iN,source:B,target:f.r.indexOf(e[0].C),Pf:e[1]!=3?.6:.3},l.Q=C.xC;else if(i=="rasterize")h.data={Bm:"rasterizeLayer",w1:{classID:"rasterizeLayer",null:Di.Pe("Lyr",!0)}};else if(i=="rotate")l.data={e:"rot",tP:[2,5],C:-e[0]*Math.PI/180,cX:e[1],n:B},l.Q=C.DV;else if(i=="resize")l.data={e:"scl",tP:[2,4],C:new st(e[0]/100,e[1]/100),cX:e[2],n:B},l.Q=C.DV;else if(i=="translate"){var I=Jt.Tz.$y(e);l.data={e:"trsl",n:B,a8t:I[0],a24:I[1]},l.Q=C.fb}else if(i=="link")l.data={e:H.IQ,agl:[B,f.r.indexOf(e[0].C)]},l.Q=C.xC;else if(i=="invert")l.Q=C.Vd,l.data={e:"start",MY:"nvrt"};else if(i.startsWith("apply")&&Zt.Cf[i.slice(5)]){var I=Jt.Tz.$y(e),N=Zt.Cf[i.slice(5)];h.data={Bm:Zt.l6[N]};var b=Zt.tt(N);b&&(Zt.jf["g"+N](b,I),h.data.w1=b)}else console.log(t,i,e)}else if(a=="Documents")if(i=="getByName"){for(var S=0;S<u.length;S++)if(u[S].name==e[0])return{qa:"Document",C:u[S]};return null}else if(i=="add"){var V=e[5];V==null&&(V=1),h.data=Pt.Gg(e[0],e[1],e[2],e[3],["Wht","Trns","BckC"][V])}else throw"e";else if(a=="Layers")if(i=="getByName"){for(var S=0;S<t.C.length;S++)if(t.C[S].C.getName()==e[0]){s=t.C[S];break}s==null&&(n.__throw={message:"No layer with a name "+e[0]})}else i=="add"?(l.data={e:t.RC=="layerSets"?H.QR:H.Nm},l.Q=C.xC,r.w(l),l.data=null,s={qa:"Layer",C:f.r[f.p[0]]}):console.log(t,i,e);else if(t.qa=="Selection")if(i=="select"){for(var j=e[0],R=[],S=0;S<j.length;S++)R.push(j[S][0],j[S][1]);h.data=C.hl.mT(R)}else if(i=="selectAll")h.data=C.hl.cA(!0);else if(i=="invert")h.data={Bm:"inverse"};else if(i=="copy")o.data={e:y.B.c_};else if(i=="deselect")h.data=C.hl.cA();else if(i=="fill"){var G=e[0].C;G=v.j.$H({U:G[1]*255,S:G[2]*255,i:G[3]*255}),h.data=C.gn.XL("Clr",e[1],e[2]==null?1:e[2]/100,G)}else console.log(t,i,e);else if(t.qa=="Window")if(i=="show")o.data={e:y.B.uH,W2:t.C};else throw"e";else if(t.qa=="ActionReference")i=="putProperty"?t.C.push({t:"prop",v:{classID:e[0],keyID:e[1]}}):i=="putClass"?t.C.push({t:"Clss",v:{classID:e[0]}}):console.log(i,e);else if(t.qa=="ActionDescriptor")if(i=="putReference")t.C[e[0]]={t:"obj ",v:e[1].C};else if(i=="putDouble")t.C[e[0]]={t:"doub",v:e[1]};else if(i=="putUnitDouble")t.C[e[0]]={t:"UntF",v:{type:e[1],val:e[2]}};else if(i=="putObject"){var Z=e[2].C;Z.classID=e[1],t.C[e[0]]={t:"Objc",v:Z}}else i=="putBoolean"?t.C[e[0]]={t:"bool",v:e[1]}:console.log(i,e);else if(t.qa=="UI"){var _;i=="zoomIn"||i=="zoomOut"?_={e:"zoom",Wu:i=="zoomIn"}:i=="fitTheArea"?_={e:"adapt",C:"fitscr"}:i=="pixelToPixel"&&(_={e:"adapt",C:"pixel"}),l.Q=C.QS,l.data=_}else console.log(t,i,e);return l.data&&r.w(l),h.data&&r.w(h),o.data&&r.w(o),s},Jt.Tz.Iq=function(t,i,e){var r=new z(y.E.H,!0);r.Q=C.j1;var n=new z(y.E.QJ,!0);if(e==0)Jt.Tz.zE=t.K,n.data=C.hl.cA(!0);else{var a=Jt.Tz.zE;a?r.data={e:"setsel",tP:"Restore Selection",K:{rect:a.rect.clone(),channel:a.channel.slice(0)}}:n.data=C.hl.cA()}i.w(r.data?r:n)},Jt.Tz.zE=null,Jt.Tz.qz={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}},Jt.Tz.qz.ColorBlendMode=Jt.Tz.qz.BlendMode,Jt.Tz.m_="---- SoLd TySh SoCo GdFl PtFl".split(" ");function ke(){}ke.OK={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18]},ke.ZV=function(t,i){i==null&&(i={});var e=new DOMParser,r=e.parseFromString(t,"image/svg+xml"),n=r.getElementsByTagName("rdf:Description")[0];if(n==null)return i;var a=ke.OK;for(var s in a){var l=a[s][2];if(l!=null){var h=n.getElementsByTagName(l)[0];if(h!=null){for(var o=h.getElementsByTagName("rdf:li"),f=[],u=0;u<o.length;u++)f.push(o[u].textContent);i[s]=f.join("; ")}}}return i},ke.zJ=function(t){var i=['<?xpacket begin="\uFEFF" id="W5M0MpCehiHzreSzNTczkc9d"?>','<x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22">','<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">','<rdf:Description rdf:about="" xmlns:xmp="http://ns.adobe.com/xap/1.0/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xmpMM="http://ns.adobe.com/xap/1.0/mm/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#">'],e=ke.OK;for(var r in e){var n=t[r],a=e[r][2],s="Seq",l="";if(!(n==null||a==null)){(a=="dc:title"||a=="dc:description")&&(s="Alt",l=' xml:lang="x-default"'),a=="dc:subject"&&(s="Bag"),i.push("	<"+a+"><rdf:"+s+">");for(var h=a=="dc:subject"?n.split(";").join(",").split(","):[n],o=0;o<h.length;o++)i.push("		<rdf:li"+l+">"+h[o].trim()+"</rdf:li>");i.push("	</rdf:"+s+"></"+a+">")}}return i.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>",'<?xpacket end="w"?>'),i.join(`
`)},ke.FE=function(t){for(var i=[],e=0;e<t.length;e++)i[e]=t[e][1]==0?0:t[e][0]/t[e][1];return i},ke.zq=function(t){for(var i=[],e=0;e<t.length;e++){var r=t[e],n=1;r!=Math.round(r)&&(n=1e3,r=Math.round(r*n)),i[e]=[r,n]}return i},ke.J2=function(t,i){var e=ke.OK;i==null&&(i={});for(var r in e){var n=e[r][1],a="t"+n;if(n!=null&&t[a]!=null){var s=t[a];if(n==0)s=s.join(".");else if(n==2||n==4){var l=t["t"+(n-1)];l==null&&(l=[n==2?"N":"E"]),s=ke.FE(s).join(",")+l[0]}else if(n==42034)s=ke.FE(s).join(" ");else if(n==270||n==315){var h=s[0],o=new Uint8Array(h.length);A.jW(o,0,h),s=A.bc(o)}else s=s[0];i[r]=s}}return t.exifIFD&&ke.J2(t.exifIFD,i),t.gpsiIFD&&ke.J2(t.gpsiIFD,i),i},ke.XG=function(t,i,e){var r=ke.OK,n=0,a=0;i==null&&(i={});var s={},l={};for(var h in r)if(!(t[h]==null||r[h][1]==null)){var o=r[h][1],f="t"+o,u=i;h.startsWith("exif:")&&(u=s,n++,h.startsWith("exif:GPS")&&(u=l,a++));var p=t[h];if(o==0)p=new Uint8Array(p.split(".").map(parseFloat));else if(o==2||o==4){var c=p.length;u["t"+(o-1)]=[p.slice(p.length-1)],p=ke.zq(p.split(",").map(parseFloat))}else if(o==42034)p=ke.zq(p.split(" ").map(parseFloat));else if(o==270||o==315){var d=A.vI(p);p=[A.$o(d,0,d.length)]}else p=[p];u[f]=p}n!=0&&(i.exifIFD=s,i.t34665=[0]),a!=0&&(i.gpsiIFD=l,i.t34853=[0]);for(var g=new Date,b=[g.getFullYear(),g.getMonth()+1,g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds()],m=0;m<6;m++)b[m]=(b[m]+"").padStart(2,"0");return i.t305=["Photopea Editor (www.photopea.com)"],e!=!0&&(i.t306=[b[0]+":"+b[1]+":"+b[2]+" "+b[3]+":"+b[4]+":"+b[5]]),i};var y={};y.ky=0,y.l$=function(){return y.ky++,y.ky},y.aik="uint8",y.hM=function(){if(window.top!=window.self)return!1;var t=navigator.userAgent.toLowerCase();return t.indexOf("android")!=-1||t.indexOf("safari")!=-1&&t.indexOf("chrome")==-1?!1:window.ClipboardItem!=null},y.GN=function(t){this.TP=t,this.ahR=y.z("img"),this.bN=y.z("canvas"),this.T3=null,this.xM="",this.gj=null,this.NW=new st(0,0),y.Jr(this.TP,this.Xd.bind(this))},y.GN.prototype.Vp=function(t,i){this.T3=t,i&&(this.xM=i),this.Xd()},y.GN.prototype.Xd=function(t){t&&(this.NW=y.oA(t,this.TP));var i=this.T3,e=typeof i=="string";if(e)this.gj&&(this.TP.removeChild(this.gj),this.gj=null);else{var r=y.J(),n=this.NW,a=i.T.Z,s=i.T.h,l=typeof i.jX=="string",h=l?this.ahR:this.bN;if(l)h.setAttribute("src",i.jX);else{h.width=a,h.height=s;var o=h.getContext("2d"),f=new ImageData(new Uint8ClampedArray(i.jX.buffer),a,s);o.putImageData(f,0,0)}h.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;top:"+(n.y-i.bP.y/r)+"px; left:"+(n.x-i.bP.x/r)+"px; width:"+a/r+"px; height:"+s/r+"px");var u=this.gj;(u==null||u!=h)&&(u&&this.TP.removeChild(u),this.TP.appendChild(h),this.gj=h)}this.TP.setAttribute("style","cursor:"+(e?i:"none")+"; "+this.xM)},y.KY=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")},y.$d=function(t,i){t.kW(Lt.get([12,41]).charAt(0)+":"),i.kW(Lt.get([12,42]).charAt(0)+":")},y.z=function(t,i){var e=document.createElement(t);return i!=null&&e.setAttribute("class",i),e},y.TD=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},y.KL=function(t,i){var e=t.getAttribute("class").split(" ");e.indexOf(i)==-1&&e.push(i),t.setAttribute("class",e.join(" "))},y.sT=function(t,i){var e=t.getAttribute("class");e!=null&&(e=e.split(" "),e.indexOf(i)!=-1&&e.splice(e.indexOf(i),1),t.setAttribute("class",e.join(" ")))},y.WW=function(t){for(;;){if(t==document)return!0;if(t==null)return!1;t=t.parentNode}},y.Rf=function(t){t.appendChild(y.z("br"))},y._D=function(t){t.appendChild(y.z("hr"))},y.A0=document,y.Xn=function(t){for(var i=0,e=0;e<t;e++)i+=Math.random();return i/t<Math.PI/4},y.d9=function(t,i){var e="";y.Xn(29)||(i-=4);for(var r=0;r<t.length;r++)e+=String.fromCharCode(t.charCodeAt(r)-i-r);return e},y.Cq=function(t,i){var e="";y.Xn(29)||(i+=4);for(var r=0;r<t.length;r++)e+=String.fromCharCode(t.charCodeAt(r)+i+r);return e},y.hs=function(t){var i="";y.Xn(28)||(t+="-3");for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<32||127<r)throw"e";i+=String.fromCharCode(32+(r-32+17+3*e)%96)}return i},y.ZK=function(t){var i="";y.Xn(28)||(t+="-1");for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);r-=32,r+=96e4,r-=17+3*e,r=r%96,i+=String.fromCharCode(32+r)}return i},y.$G=function(t){var i="";y.Xn(28)||(t+="-3");for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<32||126<r)throw"e";i+=String.fromCharCode(32+(r-32+17+3*e)%95)}return i},y.Dj=function(t){var i="";y.Xn(28)||(t+="-1");for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);r-=32,r+=95e4,r-=17+3*e,r=r%95,i+=String.fromCharCode(32+r)}return i},y.UR=function(t,i){var e="";y.Xn(29)||(i+=3);for(var r=0;r<t.length;r++)e+=String.fromCharCode((256<<16)+t.charCodeAt(r)+i*r&255);return e},y.EO=function(t){var i=Math.random();return y.aik="uint"+(3+i),new t},y.hB=0,y.Wd=function(t,i){var e=0;return Date.now()-y.hB>1e3?e=i==0?100:i*10:(t%10!=0&&(t*=10),e=(t+i)%100),y.hB=Date.now(),e},y.X8=function(t,i){if(window.PointerEvent){t.addEventListener("pointerdown",i,!1);return}t.addEventListener("mousedown",i,!1),t.addEventListener("touchstart",i,!1)},y.Jr=function(t,i){if(window.PointerEvent){t.addEventListener("pointermove",i,!1);return}t.addEventListener("mousemove",i,!1),t.addEventListener("touchmove",i,!1)},y.so=function(t,i){if(window.PointerEvent){t.addEventListener("pointerup",i,!1);return}t.addEventListener("mouseup",i,!1),t.addEventListener("touchend",i,!1)},y.a07=function(t,i){if(window.PointerEvent){t.removeEventListener("pointerdown",i,!1);return}t.removeEventListener("mousedown",i,!1),t.removeEventListener("touchstart",i,!1)},y.NG=function(t,i){if(window.PointerEvent){t.removeEventListener("pointermove",i,!1);return}t.removeEventListener("mousemove",i,!1),t.removeEventListener("touchmove",i,!1)},y.Sz=function(t,i){if(window.PointerEvent){t.removeEventListener("pointerup",i,!1);return}t.removeEventListener("mouseup",i,!1),t.removeEventListener("touchend",i,!1)},y.w4=function(t){t.addEventListener("touchstart",y.vA,!1),t.addEventListener("touchmove",y.vA,!1),t.addEventListener("touchend",y.vA,!1)},y.Tv=function(t,i,e,r){var n=y.J();t.width=Math.floor(i*n),t.height=Math.floor(e*n),t.style.width=t.width/n+"px",t.style.height=t.height/n+"px",r&&r.setTransform(n,0,0,n,0,0)},y.Hc=function(t,i,e){t.setAttribute("style","width:"+i/y.J()+"px; height:"+e/y.J()+"px")},y.oA=function(t,i){i==null&&(i=t.currentTarget);var e=i.getBoundingClientRect();return t.touches&&(t=t.touches.item(0)),{x:t.clientX-e.left,y:t.clientY-e.top}},y.J=function(t){return window.devicePixelRatio||1},y.vA=function(t){t.preventDefault()},y.OZ=function(t){t.stopPropagation(),t.preventDefault()},y.G6=function(t,i,e){return e=e||"",PIMG["__"+t]==null&&(e+=" gsicon"),'<img src="'+PIMG[t]+'" alt="'+(i||"")+'" class="'+e+'" />'},y.u4=function(t,i,e,r){var n=t.dataTransfer.getData("text/uri-list");if(n!=null&&n.startsWith("http")){var a=new z(y.E.L,!0);a.data={e:y.B.JX,S9:{url:n,pY:!0,q3:e,kT:r}},i.w(a)}if(t.dataTransfer.files.length!=0){var a=new z(y.E.L,!0);a.data={e:y.B.Ek,data:t.dataTransfer.files,q3:e,kT:r},i.w(a)}};var z=function(t,i){i||(i=!1),this.type=t,this.target=null,this.currentTarget=null,this.bubbles=i,this.Q=null,this.qQ=!1};y.E={H:"0",L:"1",QJ:"1.5",I:"2",Ga:"3",UL:"4",El:"5"},y.B={mG:"10",VX:"11",Qp:"12",CB:"13",Ik:"14",mB:"14.1",JX:"15",ED:"16",wF:"17",T5:"18",tG:"19",Gk:"19.5",At:"20",mK:"21",c_:"22",bx:"23",xS:"24",uH:"25",QL:"26",qD:"27",G0:"28",$R:"29",Ek:"30",MR:"31",_g:"32",R2:"33",Zo:"34",Sl:"35",dm:"35.5",Xk:"37",cy:"38",Uw:"39",p7:"40",kP:"41",Xp:"41.5",ez:"42",kj:"43",vz:"44",l3:"45",hR:"46",Wp:"47",iS:"48",rU:"49"};var In={};In.eo=function(t){var i=In.lB[t],e=document.documentElement.style,r=20;e.setProperty("--bg-color","#"+v.v2(i["--bg-color"])),e.setProperty("--bg-panel","#"+v.v2(i["--bg-panel"])),e.setProperty("--bg-canvas","#"+v.v2(i["--bg-canvas"])),e.setProperty("--bg-input","#"+v.v2(i["--bg-input"])),e.setProperty("--bg-bbtn","#"+v.v2(i["--bg-bbtn"])),e.setProperty("--bg-bbtnOver","#"+v.v2(i["--bg-bbtnOver"])),e.setProperty("--brdr","#"+v.v2(i["--brdr"])),e.setProperty("--text-color","#"+v.v2(i["--text-color"])),e.setProperty("--brdrLgt","rgba(255,255,255,"+i["--brdrLgt"]+")"),e.setProperty("--brdrDrk","rgba(  0,  0,  0,"+i["--brdrDrk"]+")"),e.setProperty("--alphaDark",""+i["--alphaDark"]),e.setProperty("--gs-invert",""+i["--gs-invert"]);var n=i["--sh-clr"];e.setProperty("--sh-clr","rgba("+(n>>16)+","+(n>>8&255)+","+(n&255)+", 0.45)"),e.setProperty("--sh-dy",""+i["--sh-dy"]+"px"),1<y.J()&&y.J()<1.5&&(r/=y.J()),e.setProperty("--img20",r+"px");for(var a="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" "),t=0;t<a.length;t++){var s=a[t],l=s.split("/").pop(),h=PIMG["__"+s]==null?i["--gs-invert"]:"0";e.setProperty("--icon_"+l,"url("+PIMG[s]+")"),e.setProperty("--icon_"+l+"_invrt",h)}},In.lB=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];function At(){_r.call(this),this.parent=null,this.u=null,this.YY=0,this.mi=0}At.prototype=new _r,At.prototype.a9B=function(t){for(var i=this;i!=null;){if(i==t)return!0;i=i.parent}return!1},At.prototype.EN=function(){var t=this.u;return t.offsetWidth+t.clientLeft},At.prototype.pf=function(){var t=this.u;return t.offsetHeight+t.clientTop},At.prototype.update=function(t){},At.prototype.w=function(t){_r.prototype.w.call(this,t),t.bubbles&&this.parent!=null&&this.parent.w(t)},At.prototype.a1N=function(t){t.stopPropagation(),t.preventDefault()},At.prototype.t=function(){},At.prototype.R8=function(t){y.sT(this.u,"disabled")},At.prototype.U3=function(t){y.KL(this.u,"disabled")},At.prototype.b0=function(t){t?this.R8():this.U3()};function he(t,i){At.call(this),this.VF=null,this.a7_=this.sj.bind(this),this.a2Y=this.hP.bind(this),this.a7g=this.ajt.bind(this),this.a2g=this.US.bind(this),this.y2=[],this.jF=[],this.KN=[],this.al7=[],this.u=y.z("div","contextpanel"),this.u.addEventListener("contextmenu",y.vA,!1),this.r8=null,this.iC=0,this.af6=t,this.alB=i,this.BX=[];for(var e=0;e<t.length;e++){var r=y.z("div","enab");if(this.jF.push(r),this.u.appendChild(r),t[e].ZL){var n=y.z("img","thumb");n.setAttribute("src",PIMG[t[e].ZL]),r.appendChild(n)}else{var a=y.z("span","check");this.al7.push(a),r.appendChild(a)}var s=y.z("span","label");if(s.innerHTML=Lt.get(t[e].name),r.appendChild(s),this.KN.push(s),t[e].aD&&this.u.appendChild(y.z("hr")),t[e].n8||t[e].sub){var l=y.z("span","right");r.appendChild(l),t[e].n8&&(l.innerHTML=W.u0(t[e].n8)),t[e].sub&&(l.innerHTML="\u25B6")}if(r.addEventListener("click",this.a7_,!1),r.addEventListener("mouseover",this.a2Y,!0),r.addEventListener("mouseout",this.a7g,!0),t[e].sub){var h=new he(t[e].sub,i?i[e].sub:null);h.parent=this,this.BX.push(h),h.$("select",this.akl,this)}else this.BX.push(null)}}he.prototype=new At,he.prototype.We=function(t){y.TD(this.u);for(var i=0;i<t.length;i++)t[i]!=0&&t[i]!=null&&(this.u.appendChild(this.jF[i]),t[i]!=1&&this.BX[i]&&this.BX[i].We(t[i]))},he.prototype.t=function(){for(var t=this.af6,i=0;i<t.length;i++)t[i].title&&(this.jF[i].title=Lt.get(t[i].title)),this.KN[i].textContent=Lt.get(t[i].name)+(t[i].sD?"...":"");for(var i=0;i<this.BX.length;i++)this.BX[i]&&this.BX[i].t()},he.prototype.update=function(t,i){for(var e=this.af6,r=0;r<e.length;r++)if(e[r].Y){var n=e[r].Y(t,i,r);n.Y!=null&&this.jF[r].setAttribute("class",n.Y?"enab":"disab"),n.IK!=null&&(this.KN[r].textContent=n.IK),n.Rb!=null&&(this.al7[r].textContent=n.Rb?"\u2713":"")}for(var r=0;r<this.BX.length;r++)this.BX[r]&&this.BX[r].update(t,i)},he.prototype.oe=function(){return this.y2},he.prototype.sj=function(t){if(t.button==0){var i=this.jF.indexOf(t.currentTarget);if(this.BX[i])this.iC=i,this.US();else{if(this.alB){var e=this.alB[i],r=new z(e.f,!0);r.Q=e.Q,r.data=e.o,this.w(r)}this.VF=null,this.y2=[i],this.w(new z("select",!1));var r=new z(y.E.L,!0);r.data={e:y.B.CB},this.w(r)}}},he.prototype.hP=function(t){var i=this.jF.indexOf(t.currentTarget);this.r8&&(clearTimeout(this.r8),this.r8=null),this.BX[i]!=null&&(this.iC=i,this.r8=setTimeout(this.a2g,300))},he.prototype.ajt=function(t){var i=this.jF.indexOf(t.currentTarget);this.r8&&(clearTimeout(this.r8),this.r8=null)},he.prototype.US=function(){this.r8&&(clearTimeout(this.r8),this.r8=null);var t=this.iC;this.VF&&this.VF.ib(),this.VF=this.BX[t];var i=this.jF[t].getBoundingClientRect(),e=new z(y.E.L,!0);e.data={e:y.B.VX,Nc:this.BX[t],x:i.left+i.width+2,y:i.top},this.w(e)},he.prototype.ib=function(){for(var t=0;t<this.BX.length;t++)this.BX[t]&&this.BX[t].ib();var i=new z(y.E.L,!0);i.data={e:y.B.Qp,Nc:this},this.w(i)},he.prototype.akl=function(t){var i=this.BX.indexOf(t.target);this.y2=[i].concat(t.target.oe()),this.w(new z("select",!1))};function Fe(t,i,e,r,n,a,s,l){At.call(this),this.u=y.z("span","fitem");var h=y.l$();this.q6=t,this.lj=l,this.fc=i,this.AP=e,this.tS=null,r instanceof Array&&(this.tS=r,r=r[0]),this.Yx=r,this.A_=n,this.ajQ=a,this.QK=s,this.Th=0,this.yq=y.z("label","flabel"),this.yq.innerHTML=t,this.yq.setAttribute("style","cursor:col-resize;"),this.oq=y.z("input",""),this.oq.setAttribute("type","range"),s?(this.oq.min=0,this.oq.max=400):(this.oq.min=i,this.oq.max=e,n!=0&&(this.oq.step=(e-i)/200)),this.De=y.z("input",""),this.De.setAttribute("type","text"),this.De.setAttribute("id",h),this.BL=y.z("span",""),this.BL.innerHTML=r,this.De.addEventListener("change",this.Om.bind(this),!1),this.De.addEventListener("keydown",this.TV.bind(this),!1),this.De.addEventListener("wheel",this.vQ.bind(this),!1),this.oq.addEventListener("input",this.Om.bind(this),!1),this.oq.addEventListener("click",this.a2t.bind(this),!1),this.a8D=this.ak9.bind(this),this.aeF=this.adb.bind(this),this.af7=this.a1X.bind(this),this.sZ=0,this.Ra=0,this.R7=!1,y.X8(this.yq,this.a8D)}Fe.prototype=new At,Fe.prototype.CZ=function(t){this.A_=t},Fe.prototype.kW=function(t){this.yq.textContent=t},Fe.prototype.t=function(){var t=this.q6,i=this.lj;t&&(typeof t=="string"&&t.startsWith("<")?this.yq.innerHTML=t:this.yq.textContent=Lt.get(t)+":"),i&&(i=Lt.get(i),t&&this.yq.setAttribute("title",i),this.De.setAttribute("title",i))},Fe.prototype.k=function(t){var i=this.fc==this.AP;!i&&this.fc>=0&&(t=Math.max(this.fc,t)),this.A_==0&&(t=Math.round(t));var e=this.Yx;this.De.value=(this.A_!=0?t.toFixed(this.A_):t)+(this.ajQ&&e?(e.toLowerCase()==e.toUpperCase()?"":" ")+e:"");var r=400*Math.pow((t-this.fc)/(this.AP-this.fc),1/2.7);this.oq.value=this.QK?r:t},Fe.prototype.q=function(){var t=parseFloat(this.De.value);return isNaN(t)&&(t=0),t},Fe.prototype.nY=function(){return this.Yx},Fe.prototype.Om=function(t){var i=0;if(t.currentTarget==this.De){for(var e=t.target.value,r=0;r<e.length&&(e.charAt(r)=="."||48<=e.charCodeAt(r)&&e.charCodeAt(r)<=57);)r++;i=e==""?0:parseFloat(e),isNaN(i)&&(i=0);var n=e.slice(r).trim();this.tS&&this.tS.indexOf(n)!=-1&&(this.Yx=n)}else{if(Date.now()-this.Th<10)return;i=parseFloat(t.target.value),this.QK&&(i=this.fc+Math.pow(i/400,2.7)*(this.AP-this.fc),i=this.ie(i))}this.k(i),this.H6()},Fe.prototype.H6=function(){this.w(new z(y.E.I))},Fe.prototype.ie=function(t){return this.AP-this.fc>50&&t>10&&(t=Math.round(t)),t},Fe.prototype.TV=function(t){var i=0;W.be(t.code,W.DY)&&(i=1),W.be(t.code,W.yF)&&(i=-1),i!=0&&this.H0(i,t.shiftKey)},Fe.prototype.vQ=function(t){this.H0(t.deltaY>0?-1:1,t.shiftKey)},Fe.prototype.H0=function(t,i){var e=this.q(),r=this.A_,n=t*(r==null||r==0||e>5?1:.1);i&&(n*=10);var a=e+n;!this.QK&&this.AP!=this.fc&&(a=Math.min(this.AP,a)),this.k(a),this.H6()},Fe.prototype.a2t=function(t){var i=Date.now()-this.Th;if(this.Th=Date.now(),!(i>300)){var e=(this.AP+this.fc)/2;this.fc<0&&this.AP>0?e=0:this.fc<1&&this.AP>1&&this.AP<10&&(e=1),this.k(e),this.H6()}},Fe.prototype.ak9=function(t){y.Jr(document,this.aeF),y.so(document,this.af7),this.sZ=y.oA(t,document.body).x,this.Ra=this.q()},Fe.prototype.adb=function(t){y.OZ(t);var i=this.fc==this.AP,e=y.oA(t,document.body).x,r=(e-this.sZ)*(i?1:1/120*(this.AP-this.fc)),n=this.Ra+r;i&&(n=Math.round(n)),i||(n=Math.max(this.fc,n),n==this.fc&&(this.sZ=e,this.Ra=this.fc),this.QK||(n=Math.min(this.AP,n),n==this.AP&&(this.sZ=e,this.Ra=this.AP)),n=this.ie(n)),this.R7=!0,this.k(n),this.H6()},Fe.prototype.a1X=function(t){this.R7||this.De.focus(),this.R7=!1,y.NG(document,this.aeF),y.Sz(document,this.af7)},Fe.prototype.co=function(){this.De.select(),this.De.focus()};function Hr(t,i){At.call(this),this.zF=[],this.cZ=-1,this.a2s=t,this._y=i,this.NU=0,this.rX=null,this.NW=new st(0,0),i!=null&&(this.i3=new he([{name:[6,37]},{name:[5,4]}]),this.i3.parent=this,this.i3.$("select",this.zf,this)),this.u=y.z("div","imageset scrollable"),this.u.addEventListener("contextmenu",y.vA,!1)}Hr.prototype=new At,Hr.prototype.t=function(){this.i3&&this.i3.t()},Hr.prototype.zf=function(t){var i=this.i3.oe()[0],e=new z(y.E.L,!0),r={e:y.B.Sl,S9:this._y,zM:[this.cZ]};if(i==0){var n=this.rX[1][this.cZ];r.RY="rnm",e.data={e:y.B.uH,W2:"namewindow",Ub:n,VN:{f:y.E.L,o:r}}}else e.data=r,r.RY="del";this.w(e)},Hr.prototype.a86=function(){return this.NU},Hr.prototype.DJ=function(t){this.NU=t,this.rX&&this.qK()},Hr.prototype.Lf=function(t,i,e,r){this.rX=[t,i,e,r],this.qK()},Hr.prototype.qK=function(){var t=this.rX,i=t[0],e=t[1],r=t[2],n=t[3];this.zF=[],this.u.innerHTML="";var a=this.jG.bind(this),s=this.NU;s==0?y.KL(this.u,"imageset"):y.sT(this.u,"imageset");for(var l=0;l<i.length;l++){var h=i[l];if(h==null){this.zF.push(null);continue}var o=y.z("img","image");if(r&&y.Hc(o,r,n),this.a2s&&y.KL(o,"gsicon"),o.setAttribute("src",h),s!=0){var f=y.z("div","listitem");f.appendChild(o);var u=y.z("span");u.textContent=e?e[l]:"Item "+(l+1),u.setAttribute("style","margin-left:4px;"),f.appendChild(u),o=f}e&&o.setAttribute("title",e[l]),o.addEventListener("mousedown",a,!1),this.zF.push(o),this.u.appendChild(o)}},Hr.prototype.jG=function(t){if(t.preventDefault(),this.cZ=this.zF.indexOf(t.currentTarget),this.NW=y.oA(t,t.currentTarget),t.button==0&&this.w(new z(y.E.I)),t.button==2&&this.i3){var i=this.i3;i.update(null);var e=y.oA(t,document.body),r=new z(y.E.L,!0);r.data={e:y.B.VX,Nc:i,x:e.x,y:e.y+2},this.w(r)}},Hr.prototype.q=function(){return this.cZ},Hr.prototype.k=function(t){this.cZ=t},Hr.prototype.aau=function(){var t=this.NW;return new st(t.x,t.y)},Hr.prototype.tj=function(t){for(var i=0;i<this.zF.length;i++){var e=this.zF[i];e!=null&&(i==t?y.KL(e,"active"):y.sT(e,"active"))}};function ge(t,i,e,r,n,a,s){if(At.call(this),this.u=y.z("span","fitem "+e),this.Jg=new At,this.Jg.u=y.z("div","floatcont"),this.Jg.u.setAttribute("style","width: "+(r+1.5)+"em;"),this.Jg.parent=this,this.M7=y.z("div"),this.Jg.u.appendChild(this.M7),this.sR=y.z("div"),this.Jg.u.appendChild(this.sR),t&&(this.q6=t,this.yq=y.z("label","flabel"),this.u.appendChild(this.yq)),this.e=y.z("button",s?"nopadding":""),this.e.setAttribute("style","position:relative;"),this.e.addEventListener("click",(i?this.P3:this.JJ).bind(this),!1),this.u.appendChild(this.e),this.mJ=y.z("img",s?"gsicon":""),this.e.appendChild(this.mJ),i){var l=y.z("button");l.textContent="\u25BC",l.addEventListener("click",this.JJ.bind(this),!1),this.u.appendChild(l)}else{var h=y.z("span");h.textContent="\u25BC",h.setAttribute("style","position:absolute;  bottom:2px;  right:4px;"),this.e.appendChild(h)}var o=y.z("span");this.sR.appendChild(o),o.setAttribute("style","display:inline-block;  vertical-align:top; width:"+r+"em;"),this.UJ=new Hr(s,a),o.appendChild(this.UJ.u),this.UJ.parent=this.Jg,this.UJ.$(y.E.I,this.a7E,this),this.UJ.u.style.height=n+"em",this.il=y.z("button"),this.il.textContent="\u25BC",this.il.setAttribute("style","padding:3px"),this.il.addEventListener("click",this.a0T.bind(this),!1),this.sR.appendChild(this.il);var f=this.Yt(),u=a!=ut.Ym&&a!=ut.jq?a:null,p=a==null?"":ut.Vv[a][0].toUpperCase(),c=u?[{name:[12,87]}]:[];c=c.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]]},{name:[[23,6],"."+(p=="ICC"?"icc .cube .look .3dl":p)]},{name:["VAR0 ."+p,[1,8]],aD:f.length!=0}]);for(var d=0;d<f.length;d++)c.push({name:f[d].split("/").pop()});this.i3=new he(c),this.i3.parent=this.Jg,this.i3.$("select",this.zf,this),this._y=a,this.a7W=u,this.rt=null,this.lM=!0,this.hg=null}ge.prototype=new At,ge.prototype.Yt=function(){return[]},ge.prototype.a7E=function(t){this.WX(t),this.UJ.tj(this.UJ.q())},ge.prototype.P3=function(){},ge.prototype.t=function(){this.i3.t(),this.UJ.t();var t=this.q6;t&&(this.yq.textContent=Lt.get(t)+":")},ge.prototype.kW=function(t){this.yq.textContent=t},ge.prototype._F=function(t){var i=this._y,e=0;i==ut.rn&&(e=this.rt?this.rt.length:0,t=t.slice(0)),this.rt=t,this.lM=!0,(y.WW(this.UJ.u)||i==ut.Mg)&&this.HJ(),i==ut.rn&&t.length-e==1&&y.WW(this.u)&&(this.k(t[e]),this.lM=!0,this.HJ(),this.UJ.tj(e),this.w(new z(y.E.I)))},ge.prototype.zf=function(t){var i=t.target.oe()[0];this.a7W==null&&i++;var e=new z(y.E.L,!0);if(i==0){var r=this.tk();if(this._y==ut.rn&&r[0].profile==null)return;e.data={e:y.B.Sl,RY:"add",S9:this.a7W,EM:r}}else if(i==1)this.UJ.DJ(1-this.UJ.a86());else if(i==2)e.data={e:y.B.ED};else if(i==3)e.data={e:y.B.hR,amt:this._y};else{var n=this.Yt();e.data={e:y.B.JX,S9:{url:"rsrc/"+n[i-4]}}}e.data&&this.w(e)},ge.prototype.tk=function(){return[this.q()]},ge.prototype.a0T=function(t){var i=this.i3;i.t(),i.update(null);var e=t.currentTarget.getBoundingClientRect(),r=new z(y.E.L,!0);r.data={e:y.B.VX,Nc:i,x:e.left,y:e.top+e.height},this.w(r)},ge.prototype.JJ=function(t){this.HJ();var i=this.e.getBoundingClientRect(),e=new z(y.E.L,!0);e.data={e:y.B.VX,Nc:this.Jg,x:i.left,y:i.top+i.height,q1:!0},this.w(e)};function Ws(){At.call(this),this.u=y.z("div"),this.T3=!1,this.ct=[new ei([12,19,1],[[13,1,7]].concat(Vt.Nx)),new ga([17,1]),new ga([12,46])];for(var t=0;t<3;t++){var i=this.ct[t];this.u.appendChild(i.u),i.$(y.E.I,this.WK,this)}this.t()}Ws.prototype=new At,Ws.prototype.t=function(){for(var t=0;t<3;t++)this.ct[t].t()},Ws.prototype.q=function(){return this.T3.slice(0)},Ws.prototype.k=function(t){this.T3=t.slice(0);var i=this.ct,e=i[0].q();i[1].k(t.slice(e*8,e*8+4),e),i[2].k(t.slice(e*8+4,e*8+8),e)},Ws.prototype.WK=function(t){var i=this.ct,e=i.indexOf(t.currentTarget);if(e==0)this.k(this.T3);else{for(var r=i[0].q()*8+(e==1?0:4),n=i[e].q(),a=0;a<4;a++)this.T3[r+a]=n[a];this.w(new z(y.E.I,!1))}};function ga(t){At.call(this),this.u=y.z("div"),this.w7=y.z("canvas"),this.acw=t,this.T3=[0,20,200,255],this.r0=0,this.alK=-1,this.am3=!1,this.acW=[];for(var i=0;i<5;i++){var e=y.z("span");e.setAttribute("style","display:inline-block;width:"+(i==0?8:i==2?7:2)+"em"),this.acW.push(e),this.u.appendChild(e)}this.TY=this.Qf.bind(this),this.m4=this.Ap.bind(this),this.xL=this.sj.bind(this),y.X8(this.w7,this.TY),this.u.appendChild(this.w7),this.qK()}ga.prototype=new At,ga.prototype.t=function(){this.qK()},ga.prototype.k=function(t,i){this.T3=t,this.r0=i,this.qK()},ga.prototype.q=function(){return this.T3.slice(0)},ga.prototype.Qf=function(t){for(var i=this.T3,e=y.oA(t,this.w7),r=e.x-8,n=-1,a=1e9,s=0;s<4;s++){var l=r-i[s],h=Math.abs(l);h<8&&h<a&&((s&1)==0&&l<0||(s&1)==1&&l>0)&&(a=l,n=s)}n!=-1&&(this.alK=n,this.j5=t.altKey||i[(n>>>1)*2]!=i[(n>>>1)*2+1],y.Jr(window,this.m4),y.so(window,this.xL))},ga.prototype.Ap=function(t){var i=this.T3,e=this.alK,r=(e>>>1)*2,n=r+1,a=y.oA(t,this.w7),s=Math.round(Math.max(0,Math.min(255,a.x-8)));i[e]=s,this.j5&&i[r]>=i[n]&&(this.j5=!1),this.j5||(i[r]=i[n]=s),this.qK(),this.w(new z(y.E.I,!1))},ga.prototype.sj=function(t){y.NG(window,this.m4),y.Sz(window,this.xL)},ga.prototype.qK=function(){var t=this.w7;y.Tv(t,255+16,16);var i=t.getContext("2d"),e=t.width,r=t.height,n=Math.round(255*y.J()),a=Math.round(8*y.J());i.translate(a,0);var s=i.createLinearGradient(0,0,n,0);s.addColorStop(0,"black"),s.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.r0]),i.fillStyle=s,i.fillRect(0,0,n,a);var l=this.acW,h=Lt.get(this.acw)+":";l[0].textContent=h;for(var o=0;o<4;o++){var f=this.T3[o];l[1+o].textContent=f;var u=Math.round(f*y.J());i.beginPath(),i.moveTo(u,a),i.lineTo(u,a+a),i.lineTo(u+((o&1)==0?-1:1)*a,a+a),i.closePath(),i.fillStyle="#cccccc",i.fill(),i.strokeStyle="black",i.stroke()}};function Sn(t){At.call(this),this.Fu=0,this.alt=0;var i="ai"+y.l$();this.u=y.z("span","fitem angleinput"),t&&(this.yq=y.z("label","flabel"),this.q6=t,this.u.appendChild(this.yq),this.yq.setAttribute("for",i)),this.zb=20,this.in=y.z("canvas","gsicon"),this.YV=this.in.getContext("2d"),y.Tv(this.in,this.zb*2+1,this.zb*2+1,this.YV),this.u.appendChild(this.in),y.X8(this.in,this.Fx.bind(this)),this.Pw=this.tz.bind(this),this.GD=this.JB.bind(this),this.De=y.z("input",""),this.De.setAttribute("type","text"),this.u.appendChild(this.De),this.De.setAttribute("id",i),this.De.addEventListener("change",this.Om.bind(this),!1),this.BL=y.z("span",""),this.BL.innerHTML="\xB0",this.u.appendChild(this.BL),this.k(this.Fu,this.alt)}Sn.prototype=new At,Sn.prototype.t=function(){this.yq.textContent=Lt.get(this.q6)+":"},Sn.prototype.kW=function(t){this.yq.textContent=t},Sn.prototype.q=function(){return{Fu:this.Fu,alt:this.alt}},Sn.prototype.k=function(t,i){t!=null&&(this.Fu=t),i!=null&&(this.alt=i),this.De.value=this.Fu,t=Math.PI*this.Fu/180,i=.9*this.zb*(90-this.alt)/90;var e=this.zb+.5,r=this.YV;r.clearRect(0,0,100,100),r.strokeStyle="#000000",r.beginPath(),r.arc(e,e,.9*this.zb,0,2*Math.PI),r.moveTo(e,e),r.lineTo(e+Math.cos(t)*this.zb*.9,e-Math.sin(t)*this.zb*.9),r.stroke(),r.strokeStyle="#ff0000",r.beginPath(),r.moveTo(e+Math.cos(t)*i-3,e-Math.sin(t)*i),r.lineTo(e+Math.cos(t)*i+3,e-Math.sin(t)*i),r.moveTo(e+Math.cos(t)*i,e-Math.sin(t)*i-3),r.lineTo(e+Math.cos(t)*i,e-Math.sin(t)*i+3),r.stroke()},Sn.prototype.Om=function(t){var i=parseInt(this.De.value);i=i%360,this.k(i),this.w(new z(y.E.I,!1))},Sn.prototype.Fx=function(t){y.Jr(window,this.Pw),y.so(window,this.GD),this.tz(t)},Sn.prototype.tz=function(t){var i=y.oA(t,this.in),e=i.x-this.zb,r=i.y-this.zb,n=180*Math.atan2(-r,e)/Math.PI,a=90-90*Math.min(1,Math.sqrt(e*e+r*r)/(.9*this.zb));this.k(Math.round(n),Math.round(a)),this.w(new z(y.E.I,!1))},Sn.prototype.JB=function(t){this.w(new z(y.E.I,!1)),y.NG(window,this.Pw),y.Sz(window,this.GD)};function ma(t,i){At.call(this),this.T3=0,this.YE=i,this.u=y.z("span","fitem angleinput"),t&&(this.yq=y.z("label","flabel"),this.q6=t,this.u.appendChild(this.yq)),this.in=y.z("canvas","gsicon"),this.YV=this.in.getContext("2d"),y.Tv(this.in,i,i),this.u.appendChild(this.in),y.X8(this.in,this.Fx.bind(this)),this.Pw=this.tz.bind(this),this.GD=this.JB.bind(this),this.k(0)}ma.prototype=new At,ma.prototype.t=function(){this.q6&&(this.yq.textContent=Lt.get(this.q6)+":")},ma.prototype.kW=function(t){this.yq.textContent=t},ma.prototype.q=function(){return this.T3},ma.prototype.k=function(t){this.T3=t;var i=this.in.width,e=Math.floor(t/3),r=t-3*e,n=(r+.5)*i/3,a=(e+.5)*i/3,s=this.YV,l=[.5,Math.round(i/3)+.5,Math.round(2*i/3)+.5,i-.5];s.clearRect(0,0,i,i);var h=this.YE<30;s.setLineDash([]),s.strokeStyle=h?"rgba(0,0,0,0.5)":"#000000",s.beginPath();for(var o=0;o<4;o++){var f=l[o];s.moveTo(f,0),s.lineTo(f,i),s.moveTo(0,f),s.lineTo(i,f)}if(s.stroke(),t!=9){if(!h){s.setLineDash([1,2]);var u=i*.53,p=Math.max(0,Math.min(i-u,n-u/2)),c=Math.max(0,Math.min(i-u,a-u/2));s.strokeRect(Math.round(p)+.5,Math.round(c)+.5,Math.round(u),Math.round(u))}s.fillStyle="#000000",s.beginPath(),s.arc(n,a,i/8,0,Math.PI*2),s.fill()}},ma.prototype.Fx=function(t){y.Jr(window,this.Pw),y.so(window,this.GD),this.tz(t)},ma.prototype.tz=function(t){var i=y.oA(t,this.in),e=Math.max(0,Math.min(2,Math.floor(i.x/(this.YE/3)))),r=Math.max(0,Math.min(2,Math.floor(i.y/(this.YE/3))));this.k(r*3+e)},ma.prototype.JB=function(t){this.w(new z(y.E.I,!1)),y.NG(window,this.Pw),y.Sz(window,this.GD)};function Tt(t,i,e,r){At.call(this),this.u=y.z("button","fitem"+(i?" spread":"")+(r?" bbtn":"")),this.q6=t,this.lj=e,this.t(),this.u.addEventListener("click",this.jG.bind(this),!1)}Tt.prototype=new At,Tt.prototype.t=function(){var t=this.u,i=this.q6,e=this.lj,r=Lt.get(i);r.startsWith("<img")||r.startsWith("<svg")?t.innerHTML=r:t.textContent=r,(r.startsWith("<img")||r.startsWith("<svg"))&&t.setAttribute("style","padding:2px"),e&&t.setAttribute("title",Lt.get(e))},Tt.prototype.a1Q=function(t){this.u.setAttribute("title",t)},Tt.prototype.jG=function(t){this.w(new z("click",!1))},Tt.prototype.V2=function(){y.KL(this.u,"bactive")},Tt.prototype.pe=function(){y.sT(this.u,"bactive")},Tt.prototype.kW=function(t,i){t&&(this.q6=t),i&&(this.lj=i),this.t()},Tt.prototype.k=function(t){t?this.V2():this.pe()},Tt.prototype.UX=function(){return this.u.getAttribute("class").indexOf("bactive")!=-1},Tt.prototype.q=function(){return this.UX()};function ls(t){At.call(this),this.u=y.z("span","fitem cswatch"),this.aaB=0,this.S2=[],this.C8=[];for(var i=this.a09.bind(this),e=0;e<t;e++){this.S2.push(0);var r=y.z("span","colorsample");r.addEventListener("click",i,!1),this.C8.push(r),this.u.appendChild(r)}for(var n=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],a=Math.min(t,n.length),e=0;e<a;e++)this.S2[e]=n[e];this.nF()}ls.prototype=new At,ls.prototype.a09=function(t){this.aaB=this.C8.indexOf(t.currentTarget),this.w(new z(y.E.I))},ls.prototype.q=function(){return this.S2[this.aaB]},ls.prototype.k=function(t){var i=this.S2,e=i.indexOf(t);e!=-1?i.splice(e,1):i.pop(),i.unshift(t),this.nF()},ls.prototype.nF=function(){for(var t=0;t<this.S2.length;t++)this.C8[t].setAttribute("style","background-color:#"+v.v2(this.S2[t]))};function Ve(t){At.call(this),this.sM=!1,this.mz={U:0,S:0,i:0},this.Cr=t,this.u=y.z("span","fitem colorsample"),this.u.addEventListener("click",this.jG.bind(this),!1)}Ve.prototype=new At,Ve.prototype.t=function(){},Ve.prototype.rf=function(t){this.sM!=t&&(this.sM=t,this.Bs())},Ve.prototype.jG=function(t){var i=this.mz;this.w(new z("click"));var e=new z(y.E.L,!0);e.data={e:y.B.uH,W2:"colorpicker",u9:i.U<<16|i.S<<8|i.i,jz:this.Hq.bind(this),IF:this.Cr},this.w(e)},Ve.prototype.Hq=function(t){this.s$(t),this.w(new z(y.E.I))},Ve.prototype.a1M=function(){this.jG(null)},Ve.prototype.sJ=function(){var t=this.mz;return t.U<<16|t.S<<8|t.i},Ve.prototype.q=function(){return v.j.$H(this.mz)},Ve.prototype.s$=function(t){this.mz={U:t>>16&255,S:t>>8&255,i:t&255},this.Bs()},Ve.prototype.k=function(t){this.mz=v.j.T6(t),this.Bs()},Ve.prototype.Bs=function(){var t=this.mz,i=t.U,e=t.S,r=t.i;this.sM&&(i=e=r=Math.round(v.ou(i,e,r)));var n=i<<16|e<<8|r;this.u.setAttribute("style","background-color:#"+v.v2(n))};function Nn(t){ge.call(this,t,!1,"brushbutton nopadding",16.6,10,ut.Sm,!0),this.Qc=new Ht([12,14,0],1,1e3," px",0,!0),this.Qc.$(y.E.I,this.Ck,this),this.M7.appendChild(this.Qc.u),this.RS=new Ht([12,17],0,100,"%"),this.RS.$(y.E.I,this.Ck,this),this.M7.appendChild(this.RS.u)}Nn.prototype=new ge,Nn.prototype.JJ=function(t){var i=this.u.getBoundingClientRect();this.OG(i.left,i.top+i.height)},Nn.prototype.OG=function(t,i){this.HJ();var e=new z(y.E.L,!0);e.data={e:y.B.VX,Nc:this.Jg,x:t,y:i},this.w(e)},Nn.prototype.k=function(t,i,e){this.hg=JSON.parse(JSON.stringify(t));var r=Math.floor(20*y.J()),n=Math.floor(36*y.J()),a=Math.floor(24*y.J()),s=Qt.m2(t,i,e,r,a,n);this.mJ.setAttribute("src",s),y.Hc(this.mJ,n,a);var l=t.Brsh.v;this.Qc.k(l.Dmtr.v.val),l.Hrdn!=null?(this.RS.R8(),this.RS.k(l.Hrdn.v.val)):this.RS.U3(),this.UJ.tj(-1)},Nn.prototype.tk=function(){return{list:[{t:"Objc",v:this.q()}],Xu:[],A6:[]}},Nn.prototype.q=function(){return this.hg},Nn.prototype.HJ=function(){if(!!this.lM){for(var t=[],i=[],e=this.rt,r=Math.floor(33*y.J()),n=Math.floor(40*y.J()),a=0;a<e.list.length;a++){var s=e.list[a].v,l=Qt.m2(s,e.Xu,e.A6,r,n);t.push(l),i.push(s.Nm.v.split("=").pop())}this.UJ.Lf(t,i,r,n),this.lM=!1}},Nn.prototype.WX=function(t){var i=this.rt;this.k(i.list[this.UJ.q()].v,i.Xu,i.A6),this.w(new z(y.E.I))},Nn.prototype.t=function(){ge.prototype.t.call(this),this.Qc.t(),this.RS.t()},Nn.prototype.Ck=function(t){var i=this.rt,e=this.hg;e.Brsh.v.Dmtr.v.val=this.Qc.q(),e.Brsh.v.Hrdn!=null&&(e.Brsh.v.Hrdn.v.val=this.RS.q()),this.k(e,i.Xu,i.A6),this.w(new z(y.E.I))};function _a(t){ge.call(this,t,!0,"contourbutton",17,10.5,ut.wj)}_a.prototype=new ge,_a.prototype.WX=function(t){this.k(this.rt[t.target.q()]),this.w(new z(y.E.I))},_a.prototype.P3=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.uH,W2:"contoureditor",xX:this.hg,response:this.aeu.bind(this)},this.w(i)},_a.prototype.aeu=function(t){this.k(t),this.w(new z(y.E.I))},_a.prototype.HJ=function(){if(!!this.lM){for(var t=Math.floor(38*y.J()),i=Math.floor(38*y.J()),e=[],r=[],n=this.rt,a=0;a<n.length;a++)r.push(n[a].Nm?n[a].Nm.v:""),e.push(v.JH.m2(n[a].Crv.v,t,i));this.UJ.Lf(e,r,t,i),this.lM=!1}},_a.prototype.k=function(t){this.hg=JSON.parse(JSON.stringify(t));for(var i=this.hg.Crv.v,e=0;e<i.length;e++)i[e].v.Cnty==null&&(i[e].v.Cnty={t:"bool",v:!0});this.AG()},_a.prototype.AG=function(){var t=Math.floor(30*y.J()),i=Math.floor(30*y.J()),e=v.JH.m2(this.hg.Crv.v,t,i);this.mJ.setAttribute("src",e),y.Hc(this.mJ,t,i)},_a.prototype.q=function(){return JSON.parse(JSON.stringify(this.hg))};function jr(t){At.call(this),this.ud=null,this.yH=null,this.PJ=null,this.ML=null,this.am0=[],this.afF=[],this.u=y.z("span","fitem fillbutton"),this.Jg=new At,this.Jg.u=y.z("div","floatcont form"),this.Jg.u.setAttribute("style","width: 21em;"),this.Jg.parent=this,this._J=t,this.yq=this.yq=y.z("label","flabel"),this.u.appendChild(this.yq),this.in=y.z("canvas"),this.YV=this.in.getContext("2d"),this.aiS=null,this.u.appendChild(this.in),this.in.addEventListener("click",this.JJ.bind(this),!1),this.QC=new me([12,66],["","Color","Grad","Patt"]),this.Jg.u.appendChild(this.QC.u),this.QC.$(y.E.I,this.WK,this),this.Jg.u.appendChild(y.z("hr")),this.a3A=y.z("span"),this.a7=new Ve(!0),this.a7.parent=this.Jg,this.a7.$(y.E.I,this.WK,this),this.Hv=new ls(10),this.Hv.$(y.E.I,this.WK,this),this.oJ=y.z("div","marged hiline"),this.oJ.appendChild(this.a7.u),y.Rf(this.oJ),this.oJ.appendChild(this.Hv.u),this.te=new Ie("GrFl",!0),this.te.parent=this.Jg,this.te.$(y.E.I,this.WK,this),this.g1=y.z("div","marged hiline");for(var i="Grad Type Algn Angl Rvrs Scl Ofst".split(" "),e=0;e<i.length;e++){var r=this.te.tV[i[e]].u;this.g1.appendChild(r)}this.yi=new Ie("patternFill",!0),this.yi.parent=this.Jg,this.yi.$(y.E.I,this.WK,this),this.oG=y.z("div","marged hiline");for(var i=["Ptrn","Scl","Algn","phase"],e=0;e<i.length;e++){var r=this.yi.tV[i[e]].u;this.oG.appendChild(r)}}jr.prototype=new At,jr.prototype.AK=function(t,i){i==ut.AT&&(this.am0=[],this.afF=[],this.ud&&this.k(this.PJ,this.q(),this.ud)),this.yH=t,this.te.AK(t,i),this.yi.AK(t,i)},jr.prototype.t=function(){this.yq.textContent=Lt.get(this._J)+": ",this.QC.t(),this.a7.t(),this.te.t(),this.yi.t()},jr.prototype.WK=function(t){var i=t.currentTarget;if(i==this.QC){var e=this.QC.q(),r={d1:e,qA:this.ud[e]};e>0&&r.qA==null&&(r.qA=JSON.parse(JSON.stringify(at._G[e-1]))),this.ud&&this.k(this.PJ,r,this.ud)}i==this.Hv&&this.a7.s$(i.q()),this.w(new z(y.E.I,!1))},jr.prototype.JJ=function(t){var i=this.in.getBoundingClientRect(),e=new z(y.E.L,!0);e.data={e:y.B.VX,Nc:this.Jg,x:i.left,y:i.top+i.height+4},this.w(e),this.Hv.k(this.a7.sJ())},jr.prototype.k=function(t,i,e){this.ud=e,this.PJ=t;for(var r=[[13,1,0],[13,0],[12,37],[12,62]],n=this.am0,a=this.afF,s=!1,l,h=0;h<4;h++){var o={d1:h,qA:e[h]},u=jr.$m(o);if(a[h]!=u){s=!0;var f=jr.eY(null,o,this.yH,this.PJ,22,22,!1);n[h]='<img width="22" height="22" src="'+f+'" />',a[h]=u}}s&&this.QC.KI(n,r),this.QC.k(i.d1);var u=jr.$m(i);u!=this.aiS&&jr.eY(this.YV,i,this.yH,this.PJ,30,23,!0),this.aiS=u;var p=i.d1;p==0&&(l=this.a3A),p==1&&(this.a7.k(i.qA.Clr.v),l=this.oJ),p==2&&(this.te.update(t,i.qA),l=this.g1),p==3&&(this.yi.update(t,i.qA),l=this.oG),l!=this.ML&&(this.ML!=null&&this.Jg.u.removeChild(this.ML),this.Jg.u.appendChild(l),this.ML=l)},jr.prototype.q=function(){var t={d1:this.QC.q()};return t.d1==1&&(t.qA=JSON.parse(JSON.stringify(at._G[0])),t.qA.Clr.v=this.a7.q()),t.d1==2&&(t.qA=this.te.q()),t.d1==3&&(t.qA=this.yi.q()),t},jr.$m=function(t){var i=t.d1,e=t.qA,r="empty";return i==1&&(r=v.j.T6(e.Clr.v),r=r.U+","+r.S+","+r.i),i==2&&(r=JSON.stringify(e.Grad.v)),i==3&&(r=e.Ptrn.v.Idnt.v),r},jr.eY=function(t,i,e,r,n,a,s){t==null&&(t=jr.YV);var l=Math.floor(n*y.J()),h=Math.floor(a*y.J()),o=t.canvas,f;o.width=l,o.height=h,y.Hc(o,l,h);var u=i.d1;if(u==0&&(t.fillStyle="#ffffff",t.fillRect(0,0,l,h),t.strokeStyle="#ff0000",t.lineWidth=2,t.moveTo(0,0),t.lineTo(l,h),t.moveTo(0,h),t.lineTo(l,0),t.stroke()),u==1){var p=i.qA.Clr.v;p=v.j.T6(p),t.fillStyle="#"+v.v2(p.U<<16|p.S<<8|p.i),t.fillRect(0,0,l,h)}if(u==2&&C.T7.m2(i.qA.Grad.v,l,h,0,e.GY,e.Ty,o),u==3){var c=i.qA.Ptrn.v,d;r!=null&&(d=St.tc(c,r.add.Patt)),d==null&&(d=St.tc(c,e.WB)),zr.m2(d,l,h,o)}if(s){t.beginPath(),t.strokeStyle="#000000",t.fillStyle="#ffffff",t.lineWidth=2;var g=l*.7,b=Math.floor(h*.7),m=7*y.J();t.moveTo(g,b),t.lineTo(g+m,b),t.lineTo(g+m/2,b+m/2),t.closePath(),t.stroke(),t.fill()}if(t==jr.YV)return o.toDataURL()},jr.YV=y.z("canvas").getContext("2d");function zr(t){ge.call(this,t,!1,"patternbutton",18,10,ut.AT),this.pi=null}zr.prototype=new ge,zr.prototype.WX=function(t){var i=this.rt[this.UJ.q()];this.hg={classID:"Ptrn",Nm:{t:"TEXT",v:i.name},Idnt:{t:"TEXT",v:i.id}},this.w(new z(y.E.I)),this.AG()},zr.w2=!1,zr.prototype.HJ=function(){if(!!this.lM){var t=this.rt;if(t==null||!zr.w2){var i=new z(y.E.L,!0);i.data={e:y.B.JX,S9:{url:"rsrc/basic/basic.pat"}},this.w(i),zr.w2=!0;return}for(var e=Math.floor(34*y.J()),r=Math.floor(34*y.J()),n=[],a=[],s=0;s<t.length;s++)n.push(zr.m2(t[s],e,r)),a.push(t[s].name);this.UJ.Lf(n,a,e,r),this.lM=!1}},zr.prototype.k=function(t,i){this.hg&&t.Idnt.v==this.hg.Idnt.v||(this.hg=JSON.parse(JSON.stringify(t)),this.AG(i))},zr.prototype.q=function(){return JSON.parse(JSON.stringify(this.hg))},zr.prototype.tk=function(){return this.pi?[this.pi]:[]},zr.prototype.AG=function(t){var i=Math.floor(50*y.J()),e=Math.floor(50*y.J()),r;t!=null&&(r=St.tc(this.hg,t.add.Patt)),r==null&&(r=St.tc(this.hg,this.rt)),this.pi=r;var n=zr.m2(r,i,e);this.mJ.setAttribute("src",n),y.Hc(this.mJ,i,e)},zr.w7=y.z("canvas",""),zr.m2=function(t,i,e,r){r==null&&(r=zr.w7);var n=r.getContext("2d");if(r.width=i,r.height=e,t){var a=t.Jx[1],s=a.Z,l=a.h,h=t.Jx[0],o=Math.min(i/s,e/l),f=o;f*s<2&&(f=2/s);var u=o;u*l<2&&(u=2/l);var p=C.X.Z6([h,a],new Et(f,0,0,u,0,0),!1),c=p.rect.Z,d=p.rect.h,g=n.createImageData(c,d);v.Hk(p.buffer,g.data),n.putImageData(g,Math.floor((i-c)/2),Math.floor((e-d)/2))}return r.toDataURL()};function ba(t){ge.call(this,t,!1,"patternbutton",24.2,17,ut.Ym),this.TG=""}ba.prototype=new ge,ba.prototype.WX=function(t){this.hg=JSON.parse(JSON.stringify(this.rt[0][this.UJ.q()])),this.w(new z(y.E.I))},ba.prototype.HJ=function(){var t=this.rt;if(!(t==null||!this.lM)){for(var i=Math.floor(50*y.J()),e=Math.floor(50*y.J()),r=[],n=[],a=0;a<t[0].length;a++)r.push(ba.m2(this.rt[0][a].rB,i,e,this.rt[1])),n.push(t[0][a].By.Nm.v.split("=").pop());this.UJ.Lf(r,n,i,e),this.lM=!1}},ba.prototype.k=function(t,i,e,r){var n=JSON.stringify(t.rB)+","+e+","+r;this.TG!=n&&(this.TG=n,this.hg=JSON.parse(JSON.stringify(t)),this.AG(i,e,r)),this.UJ.tj(-1)},ba.prototype.q=function(){return JSON.parse(JSON.stringify(this.hg))},ba.prototype.AG=function(t,i,e){var r=Math.floor(68*y.J()),n=Math.floor(68*y.J()),a=ba.m2(this.hg.rB,r,n,t||this.rt[1],i,e);this.mJ.setAttribute("src",a),y.Hc(this.mJ,r,n)},ba.m2=function(t,i,e,r,n,a){var s=new Pt;s.Z=i,s.h=e,s.buffer=v.R(i*e*4),s.add.Patt=r,s.U9(n==null?90:n),s.Q3(a==null?30:a);var l=new et(0,0,Math.round(i*.5),Math.round(e*.5));l.x=Math.round((i-l.Z)/2),l.y=Math.round((e-l.h)/2);var h=s.an();h.rect=l,h.buffer=v.R(l.M()*4),v.XB(h.buffer,4284045657),St.a5(t,h,.5*100),s.r.push(h),s.dr(),s.A();var o=q.pQ;q.pQ=!1,s.tf();var f=s.lD();q.pQ=o;var u=ft.vd(f.buffer,s.Z,s.h);return u};function on(t){ge.call(this,null,!1,"tpresetbutton",18,24,ut.o8,!0),y.sT(this.u,"fitem"),this.UJ.DJ(1),this.id=t,this.AG(),this.ag=new Ft([15,7,9]),this.ag.k(!0),this.ag.$(y.E.I,this.a70,this),this.sR.appendChild(this.ag.u)}on.prototype=new ge,on.prototype.acT=function(t){this.id!=t&&(this.id=t,this._F(this.rt))},on.prototype.WX=function(t){var i=this.rt[this.UJ.q()],e=new z(y.E.L,!0);e.data={e:y.B.Sl,RY:"set",S9:ut.o8,EM:i},this.w(e)},on.prototype.t=function(){ge.prototype.t.call(this),this.ag.t()},on.prototype.a70=function(){this.lM=!0,this.HJ()},on.prototype.HJ=function(){if(!!this.lM){for(var t=Math.floor(16*y.J()),i=Math.floor(16*y.J()),e=[],r=[],n=this.rt,a=this.ag.q(),s=0;s<n.length;s++){var l=C.iH(n[s]);!a||l==this.id?(r.push(n[s][0]?n[s][0].split("=").pop():""),e.push(l==-1?"":PIMG[C.er[l][0]])):(e.push(null),r.push(null))}this.UJ.Lf(e,r,t,i),this.lM=!1}},on.prototype.AG=function(){var t=this.mJ;t.setAttribute("src",PIMG[C.er[this.id][0]]),y.KL(t,"toolicon")},on.prototype.tk=function(){return null},on.N2={},on.m2=function(t,i,e){var r=on.ui,n=on.N2,a=v.v2(t.U<<16|t.S<<8|t.i);if(n[a])return n[a];if(r==null){var s=y.z("canvas");r=on.ui=s.getContext("2d")}var s=r.canvas;s.width=i,s.height=e,r.fillStyle="#"+a,r.fillRect(0,0,i,e);var l=n[a]=s.toDataURL();return l};function Rn(t,i){At.call(this),this.u=y.z("span","fitem curveeditor"),this.x5=null,this.a3r=0,this.r0="",this.mode=0,this.CD=t,this.aix=i,this.e2=null,this.Ma=null,this.KO=new st,this.ab=this.tz.bind(this),this.Ja=this.JB.bind(this),this.in=y.z("canvas",""),this.YV=this.in.getContext("2d"),y.w4(this.in),y.Tv(this.in,256,256,this.YV),this.u.appendChild(this.in),y.X8(this.in,this.Fx.bind(this))}Rn.prototype=new At,Rn.prototype.k=function(t,i){var e=JSON.stringify(t);e!=JSON.stringify(this.e2)&&(this.mode=t.length==256?1:0,this.e2=JSON.parse(e),i!=null&&(this.Ma=this.e2[i]),this.U5())},Rn.prototype.iM=function(t,i,e){this.x5=t,this.a3r=i,this.r0=e,this.U5()},Rn.prototype.q=function(){return JSON.parse(JSON.stringify(this.e2))},Rn.prototype.$Y=function(){return this.e2.indexOf(this.Ma)},Rn.prototype.Fx=function(t){var i=y.oA(t,this.in),e=i.x,r=256-i.y;if(this.CD){var n=e;e=256-r,r=n}if(this.KO.Oh(e,r),this.mode==0){for(var a=null,s=0;s<this.e2.length;s++){var l=this.e2[s].v,h=l.Hrzn.v-e,o=l.Vrtc.v-r,f=Math.sqrt(h*h+o*o);f<5&&(a=this.e2[s])}a==null&&(a=v.JH.Rn(e,r,!0),this.e2.push(a)),this.Ma=a}y.Jr(document.body,this.ab),y.so(document.body,this.Ja),this.tz(t)},Rn.prototype.tz=function(t){var i=y.oA(t,this.in),e=i.x,r=256-i.y;if(this.CD){var n=e;e=256-r,r=n}if(this.mode==0){var a=this.e2,s=this.aix,l=a.indexOf(this.Ma),h=l==0||l==a.length-1,o=0,f=255,u=!0;h&&(o=1,f=254),(!s||!h)&&(this.Ma.v.Hrzn.v=Math.max(o,Math.min(f,Math.round(e)))),this.Ma.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(r)));for(var p=0;p<a.length;p++)a[p]!=this.Ma&&Math.abs(a[p].v.Hrzn.v-this.Ma.v.Hrzn.v)<2&&(u=!1);(e<0||e>255||r<0||r>255)&&(u=!1),u&&a.indexOf(this.Ma)==-1&&a.push(this.Ma),!u&&a.indexOf(this.Ma)!=-1&&a.length>2&&(!s||!h)&&a.splice(a.indexOf(this.Ma),1),a[0].v.Hrzn.v==a[1].v.Hrzn.v&&(a[0].v.Hrzn.v==0?a[1].v.Hrzn.v=1:a[0].v.Hrzn.v--),a.sort(function(x,M){return x.v.Hrzn.v-M.v.Hrzn.v})}else{e=Math.round(e),r=Math.round(r),e=Math.max(0,Math.min(255,e)),r=Math.max(0,Math.min(255,r));var c=this.KO.x,d=e,g=this.KO.y,b=r;if(e<this.KO.x&&(d=c,c=e,b=g,g=r),this.e2[e]=r,c!=d)for(var m=c;m<=d;m++)this.e2[m]=Math.round(g+(m-c)*(b-g)/(d-c))}this.KO.Oh(e,r),this.U5(),this.w(new z(y.E.I))},Rn.prototype.JB=function(t){y.NG(document.body,this.ab),y.Sz(document.body,this.Ja),this.w(new z(y.E.I))},Rn.prototype.U5=function(){var t=this.YV;t.fillStyle="#ffffff",t.fillRect(0,0,256,256),this.x5&&(t.translate(0,256),t.scale(1,-1),Yn.fW(t,this.x5,5700/this.a3r,this.r0),t.scale(1,-1),t.translate(0,-256)),t.strokeStyle="#aaaaaa",t.lineWidth=1,t.beginPath();for(var i=1;i<4;i++)t.moveTo(0,64*i-.5),t.lineTo(255,64*i-.5),t.moveTo(64*i-.5,0),t.lineTo(64*i-.5,255);if(t.stroke(),this.CD&&(t.save(),t.transform(0,1,-1,0,256,0)),this.mode==0){var e=this.e2,r=v.JH.AQ(e,256);t.strokeStyle="#000000",t.beginPath(),t.moveTo(0,255.5-r[0]);for(var i=0;i<256;i++)t.lineTo(i,255.5-r[i]);t.stroke(),t.lineWidth=2;for(var i=0;i<e.length;i++){var n=e[i].v;t.fillStyle=this.Ma==e[i]?"#333":"#fff",t.beginPath(),t.moveTo(n.Hrzn.v,255.5-n.Vrtc.v),t.arc(n.Hrzn.v,255.5-n.Vrtc.v,3,0,2*Math.PI),t.stroke(),t.fill()}}else{var r=this.e2;t.strokeStyle="#000000",t.beginPath(),t.moveTo(0,255.5-r[0]);for(var i=0;i<256;i++)t.lineTo(i,255.5-r[i]);t.stroke()}this.CD&&t.restore()};function Yn(t){At.call(this),this.u=y.z("span",""),this.eG=new ei([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]),this.eG.$(y.E.I,this.qK,this),this.u.appendChild(this.eG.u),y.Rf(this.u),this.w7=y.z("canvas");var i=this.w7;this.u.appendChild(i),i.width=Math.round(t*y.J()),i.height=Math.round(100*y.J()),y.Hc(i,i.width,i.height),this.ui=i.getContext("2d"),this.x5=null,this.yj=0}Yn.prototype=new At,Yn.prototype.t=function(){this.eG.t()},Yn.prototype.DJ=function(t){this.eG.k(t),this.qK()},Yn.prototype.k=function(t){this.x5=t,this.qK()},Yn.prototype.s$=function(t){t!=this.yj&&(this.yj=t,this.qK())},Yn.prototype.qK=function(){if(this.x5!=null){var t=this.w7,i=this.ui,e=this.x5,r=this.eG.q(),n=6e3/e[4],a="#"+v.v2(this.yj),s=Yn.fW;t.width=t.width,i.setTransform(t.width/256,0,0,-t.height/100,0,t.height),i.globalCompositeOperation="lighter",r==0?s(i,e[0],n/3,a):r<4?s(i,e[r],n,a):(s(i,e[1],n,"#ff0000"),s(i,e[2],n,"#00ff00"),s(i,e[3],n,"#0000ff")),i.setTransform(1,0,0,1,0,0)}},Yn.fW=function(t,i,e,r){t.beginPath(),t.moveTo(0,0);for(var n=0;n<256;n++)t.lineTo(n,i[n]*e);t.lineTo(256,0),t.closePath(),t.fillStyle=r,t.fill()};function Tr(t){At.call(this),this.Xa={U:0,S:0,i:0},Math.abs(t-256/y.J())<10&&(t=256/y.J());var i=this.u=y.z("div","flexrow");this.wk=new st,this.PH=new st,this.Pw=this.dG.bind(this),this.GD=this.a6_.bind(this),this.in=y.z("canvas",""),this.YV=this.in.getContext("2d"),this.in.width=this.in.height=256,this.a4Z=this.YV.getImageData(0,0,256,256),this.abi=-1,y.w4(this.in),y.X8(this.in,this.alg.bind(this)),i.appendChild(this.in),this.afx=this.Lz.bind(this),this.ajC=this.ai9.bind(this),this.TK=y.z("canvas",""),this.dI=this.TK.getContext("2d"),this.TK.width=20,this.TK.height=256,this.amh=this.dI.getImageData(0,0,20,256),this.aka(this.amh.data,20,256),y.w4(this.TK),y.X8(this.TK,this.a6G.bind(this)),i.appendChild(this.TK),this.in.setAttribute("style","width:"+t+"px; height:"+t+"px"),this.TK.setAttribute("style","width:"+20/y.J()+"px; height:"+t+"px")}Tr.prototype=new At,Tr.prototype.l9=function(t,i){this.in.style.width=t+"px"},Tr.prototype.k=function(t){this.Xa=t,this.update()},Tr.prototype.q=function(){return JSON.parse(JSON.stringify(this.Xa))},Tr.prototype.update=function(){var t=this.Xa,i=v.eE(t.U,t.S,t.i);i.pl==0&&(i.Pg=this.wk.x/255),(i.Pg==0||i.pl==0)&&(i.mi=(255-this.w_(this.PH.y))/255),i.pl!=0&&(this.wk.x=i.Pg*255),this.wk.y=(1-i.pl)*255,this.PH.y=(1-i.mi)*255;var e=this.a4Z;Math.abs(i.mi-this.abi)>.002&&(this.aeN(e.data,256,256,i.mi),this.abi=i.mi),this.YV.putImageData(e,0,0),this.YV.strokeStyle="#000000",this.YV.beginPath(),this.YV.arc(this.wk.x+1,this.wk.y+1,5,0,2*Math.PI),this.YV.stroke(),this.YV.strokeStyle="#ffffff",this.YV.beginPath(),this.YV.arc(this.wk.x,this.wk.y,5,0,2*Math.PI),this.YV.stroke();var e=this.amh;this.dI.putImageData(e,0,0),this.dI.strokeStyle="#ffffff",this.dI.beginPath(),this.dI.moveTo(0,this.PH.y),this.dI.lineTo(20,this.PH.y),this.dI.lineWidth=2,this.dI.stroke()},Tr.prototype.aeN=function(t,i,e,r){for(var n=1/i,a=1/e,s=0;s<e;s++)for(var l=0;l<i;l++){var h=v.ul(r,l*n,(e-s-1)*a),o=s*i+l<<2;t[o+0]=~~(h.U*255),t[o+1]=~~(h.S*255),t[o+2]=~~(h.i*255),t[o+3]=255}},Tr.prototype.aka=function(t,i,e){for(var r=new Uint32Array(t.buffer),n=0;n<e;n++)for(var a=v.ul(1-n/e,1,1),s=255<<24|a.i*255<<16|a.S*255<<8|a.U*255,l=0;l<i;l++)r[n*i+l]=s},Tr.prototype.alg=function(t){y.Jr(window,this.Pw),y.so(window,this.GD),this.dG(t)},Tr.prototype.a6_=function(t){y.NG(window,this.Pw),y.Sz(window,this.GD)},Tr.prototype.dG=function(t){var i=y.oA(t,this.in);i.x=i.x*(256/parseFloat(this.in.style.width)),i.y=i.y*(256/parseFloat(this.in.style.height)),this.wk.Oh(this.w_(i.x),this.w_(i.y)),this.H6()},Tr.prototype.H6=function(){this.Xa=this.aa$(),this.w(new z(y.E.I))},Tr.prototype.aa$=function(){var t=v.ul((255-this.w_(this.PH.y))/255,this.y5(this.wk.x/255),this.y5(1-this.wk.y/255));return{U:t.U,S:t.S,i:t.i}},Tr.prototype.a6G=function(t){y.Jr(window,this.afx),y.so(window,this.ajC),this.Lz(t)},Tr.prototype.ai9=function(t){y.NG(window,this.afx),y.Sz(window,this.ajC)},Tr.prototype.Lz=function(t){var i=y.oA(t,this.TK);i.y=i.y*(256/parseFloat(this.TK.style.height)),this.PH.Oh(this.w_(i.x),this.w_(i.y)),this.H6()},Tr.prototype.w_=function(t){return Math.max(0,Math.min(255,t))},Tr.prototype.y5=function(t){return Math.max(0,Math.min(1,t))};function me(t,i,e){At.call(this),!!i&&(this.cZ=0,this.u=y.z("span","fitem bbmenu"),t&&(this.q6=t,this.yq=y.z("label","flabel"),this.yq.textContent=t+":",this.u.appendChild(this.yq)),this.wT=[],this.fX=null,this.KI(i,e),this.k(0))}me.prototype=new At,me.prototype.kW=function(t){this.q6=t,this.t()},me.prototype.t=function(){this.q6!=null&&(this.yq.textContent=Lt.get(this.q6)+": ");for(var t=0;t<this.wT.length;t++)this.wT[t].t()},me.prototype.q=function(){return this.cZ},me.prototype.KI=function(t,i){for(;this.wT.length>0;)this.u.removeChild(this.wT.pop().u);this.fX=t;for(var e=0;e<t.length;e++){var r=new Tt(t[e],!1,i?i[e]:null);r.$("click",this.Om,this),this.u.appendChild(r.u),this.wT.push(r)}this.t()},me.prototype.k=function(t){this.cZ=t;for(var i=0;i<this.wT.length;i++)this.wT[i].pe();this.wT[t].V2()},me.prototype.Om=function(t){var i=this.wT.indexOf(t.target);this.k(i),this.w(new z(y.E.I,!1))};function Ss(t,i,e,r){r==null&&(r=16);var n=Ss.bN,a=n.getContext("2d"),s=r>>>1;n.width=n.height=r;for(var l=[],h=0;h<i.length;h++)i[h]=="checker"?(a.fillStyle="white",a.fillRect(0,0,r,r),a.fillStyle="#bbbbbb",a.fillRect(s,0,s,s),a.fillRect(0,s,s,s)):(a.fillStyle=i[h],a.fillRect(0,0,r,r)),l.push('<img src="'+n.toDataURL()+'" />');me.call(this,t,l,e)}Ss.prototype=new me,Ss.bN=y.z("canvas");function ei(t,i,e,r){if(At.call(this),!!i){e==null&&(e=!1),this.cZ=0,this.agG=e,this.q6=t,this.M0=null,this.a6m=r;var n="dd"+y.l$();this.u=y.z("span","fitem ddmenu"),t&&!e&&(this.yq=y.z("label","flabel"),this.u.appendChild(this.yq),this.yq.setAttribute("for",n)),this.g4=y.z("select","bbtn"),this.g4.setAttribute("id",n),this.u.appendChild(this.g4),this.g4.addEventListener("change",this.Om.bind(this),!1),this.wT=[],this.fX=null,this.KI(i,r),this.t()}}ei.prototype=new At,ei.prototype.kW=function(t){this.q6=t,this.t()},ei.prototype.t=function(){if(this.q6!=null){var t=Lt.get(this.q6);this.agG?this.g4.setAttribute("title",t):this.yq.textContent=t+":"}this.fX&&this.KI(this.fX,this.a6m),this.k(this.cZ)},ei.prototype.q=function(){return this.cZ},ei.prototype.KI=function(t,i){y.TD(this.g4);var e=[],r=0;if(i){e.push(i[0]);for(var n=1;n<i.length;n++)e.push(e[n-1]+i[n])}this.fX=t,this.M0=[],this.a6m=i;for(var n=0;n<t.length;n++){var a=y.z("option");if(a.textContent=Lt.get(t[n]),a.setAttribute("value",n),this.g4.appendChild(a),this.wT.push(a),this.M0.push(n+r),e.indexOf(n+1)!=-1&&n!=t.length-1){var s=y.z("option");s.setAttribute("disabled",""),s.textContent="",this.g4.appendChild(s),r++}}},ei.prototype.k=function(t){this.cZ=t,this.g4.selectedIndex=this.M0[t]},ei.prototype.Om=function(t){this.cZ=this.M0.indexOf(this.g4.selectedIndex),this.w(new z(y.E.I,!1))};function xa(){At.call(this),this.s0=null,this.nE=new Pr,this.nE.$(y.E.I,this.a5f,this),this.nE.parent=this,this.WT=new xi([12,14,0],1,150,"px",0,!0),this.WT.$(y.E.I,this.y_,this),this.WT.parent=this,this.Z$=new xi([16,0],0,100,"px",2,!0,null,5),this.Z$.$(y.E.I,this.y_,this),this.Z$.parent=this,this.dw=new Ft("Auto"),this.dw.$(y.E.I,this.y_,this),this.rj=new xi([16,1],-500,5e3,"%",0,!0),this.rj.$(y.E.I,this.y_,this),this.rj.parent=this,this.nV=new xi("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]),this.nV.$(y.E.I,this.y_,this),this.nV.parent=this,this.ql=new xi("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]),this.ql.$(y.E.I,this.y_,this),this.ql.parent=this,this.DX=new xi([16,2],-10,10,"px"),this.DX.$(y.E.I,this.y_,this),this.DX.parent=this,this.Gb=new Ve(!0),this.Gb.$(y.E.I,this.a1k,this),this.Gb.parent=this,this.fR=new Tt('<img src="'+PIMG["type/bold"]+'" class="autoscale gsicon" />'),this.ZH=new Tt('<img src="'+PIMG["type/italic"]+'" class="autoscale gsicon" />'),this.J_=new Tt('<img src="'+PIMG["type/caps"]+'" class="autoscale gsicon" />'),this.V6=new Tt('<img src="'+PIMG["type/scaps"]+'" class="autoscale gsicon" />'),this.Gr=new Tt('<img src="'+PIMG["type/sub"]+'" class="autoscale gsicon" />'),this.N$=new Tt('<img src="'+PIMG["type/sup"]+'" class="autoscale gsicon" />'),this.fL=new Tt('<img src="'+PIMG["type/under"]+'" class="autoscale gsicon" />'),this.u8=new Tt('<img src="'+PIMG["type/strike"]+'" class="autoscale gsicon" />');for(var t=[this.fR,this.ZH,this.J_,this.V6,this.Gr,this.N$,this.fL,this.u8],i=0;i<t.length;i++)t[i].$("click",this.ag1,this);this.RV=new Tt('<img src="'+PIMG["par/left"]+'" class="autoscale gsicon" />'),this.$S=new Tt('<img src="'+PIMG["par/right"]+'" class="autoscale gsicon" />'),this.Zj=new Tt('<img src="'+PIMG["par/center"]+'" class="autoscale gsicon" />'),this.aal=new Tt('<img src="'+PIMG["par/jleft"]+'" class="autoscale gsicon" />'),this.aai=new Tt('<img src="'+PIMG["par/jright"]+'" class="autoscale gsicon" />'),this.a2L=new Tt('<img src="'+PIMG["par/jcenter"]+'" class="autoscale gsicon" />'),this.a7z=new Tt('<img src="'+PIMG["par/jall"]+'" class="autoscale gsicon" />'),this.ba=[this.RV,this.$S,this.Zj,this.aal,this.aai,this.a2L,this.a7z];for(var i=0;i<this.ba.length;i++)this.ba[i].$("click",this.y_,this);for(var e=["lind","rind","flind","bind","aind"],r=[],i=0;i<5;i++)r.push('<img src="'+PIMG["par/"+e[i]]+'" class="autoscale gsicon" /> ');this.Pp=new xi(r[0],-20,20,"px"),this.Pp.$(y.E.I,this.y_,this),this.Pp.parent=this,this.aK=new xi(r[1],-20,20,"px"),this.aK.$(y.E.I,this.y_,this),this.aK.parent=this,this.aO=new xi(r[2],-20,20,"px"),this.aO.$(y.E.I,this.y_,this),this.aO.parent=this,this.Vx=new xi(r[3],-20,20,"px"),this.Vx.$(y.E.I,this.y_,this),this.Vx.parent=this,this.BT=new xi(r[4],-20,20,"px"),this.BT.$(y.E.I,this.y_,this),this.BT.parent=this,this.gD=new me([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]),this.gD.$(y.E.I,this.y_,this),this.gD.parent=this}xa.prototype=new At,xa.prototype.t=function(){this.nE.t(),this.WT.t(),this.Z$.t(),this.rj.t(),this.DX.t(),this.nV.t(),this.ql.t(),this.gD.t()},xa.prototype.k=function(t,i,e){this.T2=JSON.parse(JSON.stringify(t));var r=this.T2,n=r.dS,a=r.eS;this.fR.k(n.FauxBold!=null?n.FauxBold:!1),this.ZH.k(n.FauxItalic!=null?n.FauxItalic:!1),this.J_.k(n.FontCaps==2),this.V6.k(n.FontCaps==1),this.N$.k(n.FontBaseline==1),this.Gr.k(n.FontBaseline==2),this.fL.k(n.Underline),this.u8.k(n.Strikethrough),this.nE.k(n.Font==null?null:r.Dm[n.Font].Name,i,e);var s=n.FontSize==null?20:n.FontSize;this.WT.k(s);var l=n.Tracking;if(this.rj.k(l==null?0:l),this.Z$.k(n.Leading!=null?n.Leading:0),this.dw.k(n.AutoLeading),this.nV.k((n.VerticalScale!=null?n.VerticalScale:0)*100),this.ql.k((n.HorizontalScale!=null?n.HorizontalScale:0)*100),this.DX.k(n.BaselineShift!=null?n.BaselineShift:0),n.FillColor){var h=lt.T6(n);this.Gb.s$(Math.round(h.U)<<16|Math.round(h.S)<<8|Math.round(h.i))}else this.Gb.s$(0);for(var o=a._Direction!=null?a._Direction:0,f=lt.Wk(a),u=0;u<this.ba.length;u++)this.ba[u].k(f==u);this.gD.k(o),this.Pp.k(a.StartIndent!=null?a.StartIndent:0),this.aK.k(a.EndIndent!=null?a.EndIndent:0),this.aO.k(a.FirstLineIndent!=null?a.FirstLineIndent:0),this.Vx.k(a.SpaceBefore!=null?a.SpaceBefore:0),this.BT.k(a.SpaceAfter!=null?a.SpaceAfter:0)},xa.prototype.d5=function(){var t=new z(y.E.L,!0);t.data={e:y.B.Sl,S9:ut.Ol,T2:this.T2},this.w(t);var t=new z(y.E.H,!0);t.Q=C.OX,t.data={e:"updateStyles"},this.w(t)},xa.prototype.ag1=function(t){var i=this.T2.dS,e=t.target,r=!e.UX();e==this.fR&&(i.FauxBold=r),e==this.ZH&&(i.FauxItalic=r),e==this.J_&&(i.FontCaps=r?2:0),e==this.V6&&(i.FontCaps=r?1:0),e==this.N$&&(i.FontBaseline=r?1:0),e==this.Gr&&(i.FontBaseline=r?2:0),e==this.fL&&(i.Underline=r),e==this.u8&&(i.Strikethrough=r),this.d5()},xa.prototype.y_=function(t){var i=this.T2.dS,e=this.T2.eS,r=t.target;if(r==this.rj){var n=this.rj.q();n==null&&window.alm("An error occured. Please, write us an email to support@photopea.com and describe what you did."),i.Tracking=n}r==this.Z$&&(i.AutoLeading=!1,i.Leading=this.Z$.q()),r==this.dw&&(i.AutoLeading=this.dw.q()),r==this.WT&&(i.FontSize=r.q()),r==this.nV&&(i.VerticalScale=r.q()/100),r==this.ql&&(i.HorizontalScale=r.q()/100),r==this.DX&&(i.BaselineShift=r.q()),this.ba.indexOf(r)!=-1&&(e.Justification=lt.Wk(e,this.ba.indexOf(r))),r==this.Pp&&(e.StartIndent=r.q()),r==this.aK&&(e.EndIndent=r.q()),r==this.aO&&(e.FirstLineIndent=r.q()),r==this.Vx&&(e.SpaceBefore=r.q()),r==this.BT&&(e.SpaceAfter=r.q()),r==this.gD&&(e._Direction=r.q()),this.d5()},xa.prototype.a5f=function(t){for(var i=this.T2,e=this.nE.q(),r=-1,n=0;n<i.Dm.length;n++)i.Dm[n].Name==e&&(r=n);if(r==-1){r=i.Dm.length;var a=JSON.parse(JSON.stringify(i.Dm[0]));a.Name=e,i.Dm.splice(r,0,a)}i.dS.Font=r,this.d5()},xa.prototype.a1k=function(t){for(var i=this.Gb.sJ(),e={Type:1,Values:[1,(i>>16&255)/255,(i>>8&255)/255,(i>>0&255)/255]},r=0;r<4;r++)e.Values[r]=Math.round(e.Values[r]*1e3)/1e3;this.T2.dS.FillColor=e,this.d5()};function Pr(){At.call(this),this.u=y.z("span","fontinput"),this.QD=null,this.Wv=null,this.L1=null,this.GP="",this.zF={},this.rp=[],this.aeP={},this.rv=!1,this.Vt=y.z("button","fitem"),this.Vt.setAttribute("style","width:9em;"),this.Vt.textContent="Family Name \u25BC",this.u.appendChild(this.Vt),y.X8(this.Vt,this.D3.bind(this)),this.hY=new At,this.hY.parent=this,this.hY.u=y.z("div","floatcont"),this.hY.u.addEventListener("keyup",this.aho.bind(this),!1),this.Ih=new Hn(6.8),this.hY.u.appendChild(this.Ih.alx()),this.Ih.parent=this.hY,this.Ih.$(y.E.I,this.pk,this);var t=y.z("div","form");this.hY.u.appendChild(t),this.bQ=new Tt(y.G6("tools/cshape",null,"autoscale"),!1,"Show Favorites Only"),this.bQ.$("click",this.a0W,this),t.appendChild(this.bQ.u),this.WH=new se([12,86],null,9),this.WH.$("input",this.ho,this),t.appendChild(this.WH.u);var i=this.a1_=new Tt([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);i.$("click",this.aiM,this),i.u.style.marginLeft="1.5em",t.appendChild(i.u),this.eA=y.z("span","fitem imageset scrollable marged"),this.eA.style.height="30em",this.hY.u.appendChild(this.eA),this.D9=y.z("button","fitem"),this.D9.setAttribute("style","width:7em;"),this.D9.textContent="SubFamily Name \u25BC",this.u.appendChild(this.D9),y.X8(this.D9,this.D3.bind(this)),this.pZ=new At,this.pZ.parent=this,this.pZ.u=y.z("div","floatcont"),this.cF=y.z("span","fitem imageset scrollable marged"),this.pZ.u.appendChild(this.cF)}Pr.prototype=new At,Pr.prototype.aho=function(t){var i=0;if(W.be(t.code,W.DY)&&(i=-1),W.be(t.code,W.yF)&&(i=1),i!=0){var e=this.rp,r=e.length,n=this.QD.Ij()[this.L1];if(n==null&&r==0)return;var a=e.indexOf(n[0]);if(a==-1)return;a=(a+i+r)%r,this.DI(e[a],null)}},Pr.prototype.aiM=function(){var t=new z(y.E.L,!0);t.data={e:y.B.ED,ai6:".otf,.ttf,.ttc"},this.w(t)},Pr.prototype.t=function(){this.Ih.t(),this.a1_.t(),this.bQ.kW(y.G6("tools/cshape",null,"autoscale"))},Pr.prototype.a0W=function(t){this.bQ.k(!this.bQ.UX()),this.pk()},Pr.prototype.ho=function(t){this.GP=this.WH.q().toLowerCase(),this.pk()},Pr.prototype.D3=function(t){y.OZ(t);var i=t.currentTarget,e=i.getBoundingClientRect(),r=i==this.Vt,n=r?this.hY:this.pZ;if(y.WW(n.u)){this.sq(n);return}if(!(!r&&this.QD.Ij()[this.L1]==null)){var a=new z(y.E.L,!0);a.data={e:y.B.VX,Nc:n,x:e.left,y:e.top+e.height},this.w(a),r&&(this.pk(),this.WH.co())}},Pr.prototype.a0Z=function(t){var i=t.currentTarget.firstChild.nextSibling.textContent;if(t.target.tagName.toLowerCase()=="button"){var e=this.Wv.slice(0),r=e.indexOf(i);r==-1?(e=e.slice(Math.max(0,e.length-29)),e.push(i)):e.splice(r,1);var n=new z(y.E.L,!0);n.data={e:y.B.Sl,S9:ut.mj,uB:e},this.w(n),this.rv=!0,this.pk()}else this.DI(i,null),this.WH.co()},Pr.prototype.a17=function(t){this.DI(null,t.currentTarget.firstChild.textContent)},Pr.prototype.DI=function(t,i){var e=t==null?this.pZ:this.hY,r=this.QD;if(t==null)t=r.Ij()[this.L1][0];else{var n=r.MW(t),a=r.Ij()[this.L1];i=hi.u5(n,a?a[1]:"regular")}var s=r.TS(t,i)[2];this.k(s,r),this.w(new z(y.E.I,!1)),this.sq(e),this.pk()},Pr.prototype.sq=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.Qp,Nc:t},this.w(i)},Pr.prototype.q=function(){return this.L1},Pr.prototype.k=function(t,i,e){var r=this.QD;if(t!=null?this.L1=t:t=this.L1,this.QD=i,this.Wv=e,t!=null){var n=i.Ij()[t],a,s;if(n==null)a="- "+t,s="-------";else{a=n[0],s=n[1];var l=i.MW(a);l.sort(hi.a6Z);var h=l.indexOf(s),o=this.a17.bind(this);this.cF.textContent="";for(var f=0;f<l.length;f++){var n=i.TS(a,l[f]);if(!!this.Ih.x3(n)){var u=this.J5(n,n[1],o,!1);this.cF.appendChild(u)}}}this.Vt.textContent=a.substring(0,15)+" \u25BC",this.Vt.setAttribute("title",a),this.D9.textContent=s.substring(0,10)+" \u25BC",this.D9.setAttribute("title",s)}},Pr.prototype.pk=function(){var t=this.QD.Ij()[this.L1],i=this.Wv,e=null,r=this.QD.amf(),n=this.a0Z.bind(this);this.rp=[];for(var a in r){var s=hi.u5(r[a],"regular"),l=this.QD.TS(a,s),h=i.indexOf(a)!=-1,o=!0;this.GP.length>0&&l[0].toLowerCase().indexOf(this.GP)==-1?o=!1:this.Ih.x3(l)?this.bQ.UX()&&!h&&(o=!1):o=!1;var f=this.zF[a];if(f==null){var f=this.J5(l,a,n,!0);this.zF[a]=f,this.eA.appendChild(f)}o&&this.rp.push(a);var u=o?"":"display:none; ",p="opacity: "+(h?"1":"0.2");t&&t[0]==a&&(u+="background-color:rgba(0,0,0,0.13);",e=f),this.aeP[a]!=u+p&&(f.setAttribute("style",u),f.firstChild.setAttribute("style",p),this.aeP[a]=u+p)}e&&!this.rv&&(this.eA.scrollTop=e.offsetTop-210),this.rv=!1},Pr.prototype.J5=function(t,i,e,r){var n=y.z("div","fontitem"),a="";n.addEventListener("click",e,!1),r&&n.appendChild(y.z("button","star"));var s=y.z("span","label");s.setAttribute("title",i),s.textContent=i,n.appendChild(s);var l=y.J(),h=1/l,o=hi.Ut*h,f=hi.lH*h;1<l&&l<1.5&&(a="width:"+o+"px; height:"+f+"px;");var u=y.z("span","thumb gsicon");if(t.U6)a+="background: url("+t.U6+");",1<l&&l<1.5&&(a+="background-size: "+o+"px "+f+"px;");else{var p=Math.ceil(FNTS.list.length/hi.cols),c=Math.floor(t.XN/p),d=t.XN%p,g=c*hi.Ut,b=d*hi.lH;1<l&&l<1.5&&(a+="background-size: "+hi.cols*o+"px "+p*f+"px;",g*=h,b*=h),a+="background-position:-"+g+"px -"+b+"px;"}return u.setAttribute("style",a),n.appendChild(u),n};function Hn(t){At.call(this),this.u=y.z("button","fitem bbtn"),this.u.addEventListener("click",this.a8g.bind(this),!1),this.Jg=new At,this.Jg.u=y.z("div","floatcont"),this.Jg.parent=this,this.nx=y.z("div","flexrow"),this.Jg.u.appendChild(this.nx),this.kd=[],this.rh=[];var i=this.nx,e=y.z("div",""),r=y.z("div","");i.appendChild(e),i.appendChild(r),this.Gw=[];for(var n=0;n<FNTS.cats.length;n++)this.Gw.push({name:FNTS.cats[n],index:n,YN:0});this.NI=new Ft([7,0]),this.NI.$(y.E.I,this.agH,this),e.appendChild(this.NI.u),this.ME=y.z("div","vlist marged scrollable"),this.ME.setAttribute("style","width:10.85em; height:"+t+"em; "),e.appendChild(this.ME),this.CS=[];for(var n=0;n<this.Gw.length;n++){var a=this.Gw[n],s=new Ft(a.name);this.CS.push(s),s.$(y.E.I,this.a6B,this),s.k(!0),this.ME.appendChild(s.u),this.kd.push(1)}this.aem=new Ft([7,0]),this.aem.$(y.E.I,this.a9h,this),this.Be=y.z("div","vlist marged scrollable"),this.Be.setAttribute("style","width:8.6em; height:"+(t+1.5)+"em; "),r.appendChild(this.Be),this.P4=[];for(var n=0;n<FNTS.subsetNames.length;n++){var s=new Ft(FNTS.subsetNames[n]);this.P4.push(s),s.$(y.E.I,this.a6r,this),s.k(!1),this.Be.appendChild(s.u),this.rh.push(0)}}Hn.prototype=new At,Hn.prototype.aaq=function(t){for(var i=this.P4,e=0;e<i.length;e++){var r=(t>>>e&1)==1;this.rh[e]=r,i[e].k(r)}},Hn.prototype.alx=function(){return this.nx},Hn.prototype.t=function(){this.u.textContent=Lt.get([25,1,0])+" \u25BC",this.NI.t(),this.aem.t()},Hn.prototype.a8g=function(t){var i=this.u.getBoundingClientRect(),e=new z(y.E.L,!0);e.data={e:y.B.VX,Nc:this.Jg,x:i.left,y:i.top+i.height,q1:!1},this.w(e)},Hn.prototype.x3=function(t){if(this.kd[t[4]]==0)return!1;for(var i=0;i<this.rh.length;i++)if(this.rh[i]==1&&(t[3]>>>i&1)==0)return!1;return!0},Hn.prototype.agH=function(t){for(var i=t.target.q(),e=this.CS,r=this.kd,n=0;n<e.length;n++)e[n].k(i),r[n]=i?1:0;this.w(new z(y.E.I,!1))},Hn.prototype.a9h=function(t){for(var i=t.target.q(),e=this.P4,r=this.rh,n=0;n<e.length;n++)e[n].k(i),r[n]=i?1:0;this.w(new z(y.E.I,!1))},Hn.prototype.a6B=function(t){var i=this.CS.indexOf(t.target),e=this.Gw[i].index;this.kd[e]=1-this.kd[e],this.w(new z(y.E.I,!1))},Hn.prototype.a6r=function(t){var i=this.P4.indexOf(t.target);this.rh[i]=1-this.rh[i],this.w(new z(y.E.I,!1))};function jn(t,i,e){ge.call(this,i,!0,"gradientbutton",18,10,ut.uw),this.GY=-1,this.Ty=-1,this.a0L=null,this.alA=t,this.Cr=e}jn.prototype=new ge,jn.prototype.WX=function(t){var i=this.rt;this.k(i[this.UJ.q()]),this.w(new z(y.E.I))},jn.prototype.P3=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.uH,W2:"gradienteditor",j:this.hg,jz:this.alD.bind(this),IF:this.Cr},this.w(i)},jn.prototype.alD=function(t){this.k(t),this.w(new z(y.E.I))},jn.prototype.HJ=function(){if(!!this.lM){for(var t=Math.floor(36*y.J()),i=Math.floor(36*y.J()),e=[],r=[],n=this.rt,a=0;a<n.length;a++){var s=n[a];r.push(s.Nm?s.Nm.v.split("=").pop():"");var l=C.T7.m2(s,t,i,Math.PI/4,this.GY,this.Ty);e.push(l)}this.UJ.Lf(e,r,t,i),this.lM=!1}},jn.prototype.dn=function(t,i){this.sQ(this.hg,t,i)},jn.prototype.k=function(t){this.sQ(t,this.GY,this.Ty)},jn.prototype.sQ=function(t,i,e){if(this.GY=i,this.Ty=e,t!=null){var r=JSON.stringify(t),n=r+i+","+e;if(n!=this.a0L){this.a0L=n,this.hg=JSON.parse(r);var a=Math.floor(80*y.J()),s=Math.floor(16*y.J()),l=C.T7.m2(this.hg,a,s,0,this.GY,this.Ty);this.mJ.setAttribute("src",l),y.Hc(this.mJ,a,s)}}},jn.prototype.q=function(){var t;return this.alA?t=C.T7.aa8(this.hg,this.GY,this.Ty):t=JSON.parse(JSON.stringify(this.hg)),t};function mn(t){ge.call(this,t,!1,"swatchbutton",16,8.75,ut.Mg)}mn.prototype=new ge,mn.prototype.WX=function(t){this.k(this.rt[t.target.q()]),this.w(new z(y.E.I))},mn.prototype.HJ=function(){if(!!this.lM){for(var t=Date.now(),i=Math.floor(10*y.J()),e=Math.floor(10*y.J()),r=[],n=[],a=this.rt,s=0;s<a.length;s++)n.push(a[s].ah?a[s].ah.split("=").pop():""),r.push(mn.m2(a[s],i,e));this.UJ.Lf(r,n,i,e),this.lM=!1}},mn.prototype.k=function(t){this.hg=JSON.parse(JSON.stringify(t)),this.AG()},mn.prototype.AG=function(){var t=Math.floor(24*y.J()),i=Math.floor(20*y.J()),e=mn.m2(this.hg,t,i);this.mJ.setAttribute("src",e),y.Hc(this.mJ,t,i)},mn.prototype.q=function(){return JSON.parse(JSON.stringify(this.hg))},mn.N2={},mn.m2=function(t,i,e){var r=mn.ui,n=mn.N2,a=v.v2(t.U<<16|t.S<<8|t.i);if(n[a])return n[a];if(r==null){var s=y.z("canvas");r=mn.ui=s.getContext("2d")}var s=r.canvas;s.width=i,s.height=e,r.fillStyle="#"+a,r.fillRect(0,0,i,e);var l=n[a]=s.toDataURL();return l};function Ft(t,i,e){At.call(this),this.u=y.z("span","fitem cbox"),i==null&&(i=!0),e==null&&(e="flabel");var r="cb"+y.l$();this.De=y.z("input",""),this.De.setAttribute("type","checkbox"),this.De.setAttribute("id",r),this.u.appendChild(this.De),this.q6=t,this.yq=y.z("label",e),i&&this.yq.setAttribute("for",r),this.u.appendChild(this.yq),this.t(),this.De.addEventListener("change",this.Om.bind(this),!1)}Ft.prototype=new At,Ft.prototype.m1=function(){return this.q6},Ft.prototype.kW=function(t){this.yq.textContent=t},Ft.prototype.t=function(){var t=this.q6;typeof t=="string"&&t.startsWith("<")?this.yq.innerHTML=t:this.yq.textContent=Lt.get(t)},Ft.prototype.V2=function(){this.De.checked=!0},Ft.prototype.pe=function(){this.De.checked=!1},Ft.prototype.UX=function(){return this.De.checked},Ft.prototype.k=function(t){this.De.checked=t},Ft.prototype.q=Ft.prototype.UX,Ft.prototype.Om=function(t){this.w(new z(y.E.I,!1))};function Xn(t,i,e,r){At.call(this),this.u=y.z("span","fitem mbox"),this.a0I=e,t&&(this.q6=t,this.yq=y.z("label","flabel"),this.u.appendChild(this.yq)),this.fC=i,this.eh=[];for(var n=0;n<i.length;n++){var a=e?new Tt(i[n],!1,r?r[n]:null):new Ft(i[n],!0,"");a.$(e?"click":y.E.I,this.Om,this),this.eh.push(a),this.u.appendChild(a.u)}this.t()}Xn.prototype=new At,Xn.prototype.k=function(t){for(var i=0;i<this.fC.length;i++)this.eh[i].k(t[i])},Xn.prototype.q=function(){for(var t=[],i=0;i<this.fC.length;i++)t[i]=this.eh[i].q();return t},Xn.prototype.t=function(){this.q6&&(this.yq.innerHTML=Lt.get(this.q6)+": ");for(var t=0;t<this.eh.length;t++)this.eh[t].t()},Xn.prototype.Om=function(t){var i=this.eh.indexOf(t.currentTarget);this.a0I&&this.eh[i].k(!this.eh[i].q()),this.w(new z(y.E.I,!1))};function oe(t,i,e,r,n,a){Fe.call(this,t,i,e,r,n,!1,a),this.u.appendChild(this.yq);var s=y.z("span","rangecont");this.u.appendChild(s),s.appendChild(this.oq),this.u.appendChild(this.De),this.De.setAttribute("style","width:3.3em"),this.Yx&&this.u.appendChild(this.BL)}oe.prototype=new Fe;function Kr(t,i,e,r){t==null&&(t=!1),i==null&&(i=!1),e==null&&(e=!1),At.call(this),this.bf=new st,this.j$=new st,this.aH=72,this.bC=72,this.KM=!0,this.u=y.z("span",""),this.iG=new xi([12,41],0,0,null,0,!1,!0),this.u.appendChild(this.iG.u),this.iG.$(y.E.I,this.WK,this);var n=["px","%"];t&&(n=n.concat(["mm","in"])),this.ZS=new ei(null,n),this.u.appendChild(this.ZS.u),y.Rf(this.u),this.ZS.$(y.E.I,this.WK,this),this.DG=new xi([12,42],0,0,null,0,!1,!0),this.u.appendChild(this.DG.u),this.DG.$(y.E.I,this.WK,this);var a=new Tt("\u21F5",!1,null,!0);a.$("click",this.aml,this),this.zw=new Tt('<img src="'+PIMG["lrs/chain"]+'" class="autoscale gsicon" />',!1,[12,51]),this.zw.$("click",this.WK,this),this.a3o=new fe(""),i?(this.u.appendChild(this.zw.u),this.u.appendChild(this.a3o.u),this.zw.V2()):this.u.appendChild(a.u),this.ji=new xi("DPI",0,0,null,3,!1,!0,4),t&&r==null&&(y.Rf(this.u),this.u.appendChild(this.ji.u)),this.ji.$(y.E.I,this.WK,this),this.w8=new Ft([12,23,1]),this.w8.$(y.E.I,this.WK,this),e&&(y.Rf(this.u),this.u.appendChild(this.w8.u)),y.Rf(this.u)}Kr.prototype=new At,Kr.prototype.afE=function(){this.KM=!1,this.ZS.q()==0&&(this.ZS.k(3),this._O())},Kr.prototype.a0p=function(){this.KM=!0},Kr.prototype.adn=function(t){this.zw.k(t)},Kr.prototype.t=function(){this.iG.t(),this.DG.t(),this.ji.t(),this.zw.t(),this.w8.t()},Kr.prototype.aml=function(t){var i=this.j$.x;this.j$.x=this.j$.y,this.j$.y=i,this._O(),this.w(new z(y.E.I,!1))},Kr.prototype.WK=function(t){if(t.target==this.ZS&&!this.KM&&this.ZS.q()==0&&this.ZS.k(3),t.target==this.ZS||t.target==this.w8){this._O();return}t.target==this.zw&&t.target.k(!t.target.q());var i=this.bf,e=parseFloat(this.iG.q());isNaN(e)&&(e=1);var r=parseFloat(this.DG.q());isNaN(r)&&(r=1);var n=this.ZS.q();if(this.KM){var a=this.bC;n==1&&(e=this.bf.x*(e/100),r=this.bf.y*(r/100));var s=[1,1,25.4/a,1/a][n];if(e/=s,r/=s,this.w8.q()&&(e+=this.bf.x,r+=this.bf.y),t.target==this.ji){var l=this.ji.q(),h=l/a;e*=h,r*=h,a=l}this.zw.q()&&(t.target==this.iG?r=e*(i.y/i.x):e=r*(i.x/i.y)),e=Math.max(Math.abs(e),1),r=Math.max(Math.abs(r),1)}else{var a=this.aH;if(t.target==this.ji)a=this.ji.q();else{this.zw.q()&&(t.target==this.iG?r=e*(i.y/i.x):e=r*(i.x/i.y));var s=[1,1,25.4/a,1/a][n],o=e/(n==1?100:i.x*s);a=a/o}e=i.x,r=i.y}this.j$=new st(Math.round(e),Math.round(r)),this.bC=a,this._O(),this.w(new z(y.E.I,!1))},Kr.prototype.a5z=function(t){this.ZS.k(t),this._O()},Kr.prototype.k=function(t,i){this.bf=t.clone(),this.j$=t.clone(),i!=null&&(this.aH=i,this.bC=i),this._O()},Kr.prototype._O=function(){for(var t=this.j$.x,i=this.j$.y,e=this.bC,r=(t/i).toFixed(3);r.charAt(r.length-1)=="0";)r=r.substring(0,r.length-1);r.charAt(r.length-1)=="."&&(r=r.substring(0,r.length-1));var n="  "+r+" : 1",a=function(f,u){for(;u!=0;){var p=u;u=f%u,f=p}return f},s=a(t,i);Math.min(t,i)/s<10&&(n="  "+Math.round(t/s)+" : "+Math.round(i/s)),this.a3o.k(n),this.w8.q()&&(t-=this.bf.x,i-=this.bf.y);var l=this.ZS.q();l==1?this.KM?(t=100*t/this.bf.x,i=100*i/this.bf.y):t=i=100*this.aH/this.bC:(t=Math.round(t),i=Math.round(i));var h=[1,1,25.4/e,1/e][l];t*=h,i*=h;var o=l==1||l==3?2:0;this.iG.CZ(o),this.DG.CZ(o),this.iG.k(t),this.DG.k(i),this.ji.k(e)},Kr.prototype.q=function(){return this.j$.clone()},Kr.prototype.av=function(){return this.bC};function Za(){At.call(this),this.BZ=0,this.MH=[0,0,1,1,100,100],this.u=y.z("span","fitem"),this.zv=new ei(null,[[12,89,0],[12,89,1],[12,89,2]]),this.u.appendChild(this.zv.u),this.zv.$(y.E.I,this.WK,this),this.iG=new xi("W",0,0,null,0,!1,!0),this.u.appendChild(this.iG.u),this.iG.$(y.E.I,this.WK,this),this.DG=new xi("H",0,0,null,0,!1,!0),this.u.appendChild(this.DG.u),this.DG.$(y.E.I,this.WK,this),this.k({wV:0,x:0,y:0})}Za.prototype=new At,Za.prototype.t=function(){y.$d(this.iG,this.DG),this.zv.t()},Za.prototype.WK=function(t){if(t.target==this.zv){var i=this.q(),e=this.MH;e[this.BZ*2]=i.x,e[this.BZ*2+1]=i.y,this.BZ=i.wV,this.k({wV:i.wV,x:e[i.wV*2],y:e[i.wV*2+1]})}this.iG.q()<1&&this.iG.k(1),this.DG.q()<1&&this.DG.k(1),this.w(new z(y.E.I,!1))},Za.prototype.k=function(t){this.zv.k(t.wV),this.iG.k(t.x),this.DG.k(t.y),t.wV==0?(this.iG.U3(),this.DG.U3()):(this.iG.R8(),this.DG.R8())},Za.prototype.q=function(){return{wV:this.zv.q(),x:this.iG.q(),y:this.DG.q()}};function fe(t,i){At.call(this),this.q6=t,this.u=y.z("span","labelitem fitem"+(i?" spread":"")),this.t()}fe.prototype=new At,fe.prototype.k=function(t){this.u.textContent=t},fe.prototype.q=function(){return this.u.textContent},fe.prototype.R8=function(){this.u.removeAttribute("disabled")},fe.prototype.U3=function(){this.u.setAttribute("disabled","")},fe.prototype.kW=function(t){this.u.textContent=t},fe.prototype.t=function(){this.u.textContent=Lt.get(this.q6)},fe.prototype.m1=function(){return this.q6};function Ca(t){At.call(this),this.u=y.z("span",""),this.a3_=t,this.Dw=new oe("Off X",-100,100,t?"%":"px",0,!1),this.mP=new oe("Off Y",-100,100,t?"%":"px",0,!1),this.Dw.$(y.E.I,this.WK,this),this.mP.$(y.E.I,this.WK,this),this.u.appendChild(this.Dw.u),this.u.appendChild(this.mP.u)}Ca.prototype=new At,Ca.prototype.t=function(){this.Dw.t(),this.mP.t()},Ca.prototype.WK=function(t){this.w(new z(y.E.I,!1))},Ca.prototype.a2w=function(t){this.Dw.k(t.x),this.mP.k(t.y)},Ca.prototype.al2=function(){return new st(this.Dw.q(),this.mP.q())},Ca.prototype.k=function(t){var i=t.Hrzn.v,e=t.Vrtc.v;this.a3_&&(i=i.val,e=e.val),this.Dw.k(i),this.mP.k(e)},Ca.prototype.q=function(){var t=this.Dw.q(),i=this.mP.q();return this.a3_?{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:t}},Vrtc:{t:"UntF",v:{type:"#Prc",val:i}}}:{classID:"Pnt",Hrzn:{v:t,t:"doub"},Vrtc:{v:i,t:"doub"}}};function xi(t,i,e,r,n,a,s,l,h){Fe.call(this,t,i,e,r,n,!0,a,h),y.KL(this.u,"rangedropinput"),this.u.appendChild(this.yq),this.De.setAttribute("style","width:"+(l||3.3)+"em"),this.u.appendChild(this.De),this.aaG=y.z("span","rangecont"),this.aaG.appendChild(this.oq),this.xD=y.z("button"),this.xD.innerHTML="\u25BC",y.X8(this.xD,this.a3c.bind(this)),s!=!0&&this.u.appendChild(this.xD),this.b1=new At,this.b1.u=this.aaG}xi.prototype=new Fe,xi.prototype.a3c=function(t){if(!y.WW(this.b1.u)){t.stopPropagation();var i=this.u.getBoundingClientRect();this.oq.setAttribute("style","width:"+i.width+"px;");var e=new z(y.E.L,!0);e.data={e:y.B.VX,Nc:this.b1,x:i.left,y:i.top+i.height},this.w(e)}};function Ma(){At.call(this),this.u=y.z("span","fitem strokebutton"),this.P1=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]],this.dB=JSON.parse(JSON.stringify(at.bW.default)),this.Ht=y.z("button"),this.u.appendChild(this.Ht),this.Ht.addEventListener("click",this.JJ.bind(this),!1);var t=y.z("canvas","gsicon");this.YV=t.getContext("2d"),this.Ht.appendChild(t);var i=y.z("span");i.textContent=" \u25BC",this.Ht.appendChild(i),this.Jg=new At,this.Jg.parent=this,this.Jg.u=y.z("div","floatcont form");var e=this.Jg.u;e.setAttribute("style","width: 14em;"),this.zF=[new ei([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new me([19,9,0],['<img src="'+PIMG["caps/butt"]+'" class="autoscale gsicon" />','<img src="'+PIMG["caps/round"]+'" class="autoscale gsicon" />','<img src="'+PIMG["caps/square"]+'" class="autoscale gsicon" />']),new me([19,9,1],['<img src="'+PIMG["joins/miter"]+'" class="autoscale gsicon" />','<img src="'+PIMG["joins/round"]+'" class="autoscale gsicon" />','<img src="'+PIMG["joins/bevel"]+'" class="autoscale gsicon" />']),new se([19,9,2])];for(var r=0;r<this.zF.length;r++){var n=this.zF[r];e.appendChild(n.u);var a=r<4?y.E.I:"click";n.$(a,this.WK,this)}y.Rf(e),this.C8=[];for(var s=this.a5W.bind(this),r=0;r<this.P1.length;r++){var l=y.z("button","fitem");this.C8.push(l),e.appendChild(l),l.addEventListener("click",s,!1);var t=y.z("canvas","gsicon"),h=t.getContext("2d");l.appendChild(t),this.B_(h,40,20,this.P1[r])}}Ma.prototype=new At,Ma.prototype.JJ=function(t){var i=this.Ht.getBoundingClientRect(),e=new z(y.E.L,!0);e.data={e:y.B.VX,Nc:this.Jg,x:i.left,y:i.top+i.height+4},this.w(e)},Ma.prototype.WK=function(t){for(var i=this.zF,e=i.indexOf(t.target),r=[],n=0;n<4;n++)r.push(i[n].q());this.dB=this.UY(r),this.w(new z(y.E.I,!1))},Ma.prototype.a5W=function(t){var i=this.C8.indexOf(t.currentTarget);this.k(this.UY(this.P1[i])),this.w(new z(y.E.I,!1))},Ma.prototype.UY=function(t){var i=JSON.parse(JSON.stringify(this.dB)),e=t[0],r=t[1],n=t[2],a=t[3];e!=null&&(i.strokeStyleLineAlignment.v.strokeStyleLineAlignment=at.bW.Ph[e]),r!=null&&(i.strokeStyleLineCapType.v.strokeStyleLineCapType=at.bW.Bb[r]),n!=null&&(i.strokeStyleLineJoinType.v.strokeStyleLineJoinType=at.bW.join[n]);var s=i.strokeStyleLineDashSet.v=[];for(a=a.split(" ");(a.length&1)!=0;)a.pop();for(var l=0;l<a.length;l++)s.push({t:"UntF",v:{type:"#Nne",val:parseInt(a[l])}});return i},Ma.prototype.t=function(){for(var t=0;t<this.zF.length;t++)this.zF[t].t()},Ma.prototype.k=function(t){this.dB=JSON.parse(JSON.stringify(t));for(var i=at.bW.Ph.indexOf(t.strokeStyleLineAlignment.v.strokeStyleLineAlignment),e=at.bW.Bb.indexOf(t.strokeStyleLineCapType.v.strokeStyleLineCapType),r=at.bW.join.indexOf(t.strokeStyleLineJoinType.v.strokeStyleLineJoinType),n=[],a=t.strokeStyleLineDashSet.v,s=0;s<a.length;s++)n.push(a[s].v.val);var l=this.zF;l[0].k(i),l[1].k(e),l[2].k(r),l[3].k(n.join(" "));for(var h=[],o=0;o<4;o++)h.push(l[o].q());this.B_(this.YV,40,16,h)},Ma.prototype.q=function(){return JSON.parse(JSON.stringify(this.dB))},Ma.prototype.B_=function(t,i,e,r){var n=r[0],a=r[1],s=r[2],l=r[3].split(" ").map(parseFloat);y.Tv(t.canvas,i,e);for(var h=Math.min(5,this.dB.strokeStyleLineWidth.v.val),o=0;o<l.length;o++)l[o]*=h;t.clearRect(0,0,i,e),t.setLineDash(l),t.lineCap=["butt","round","square"][a],t.lineJoin=["miter","round","bevel"][s],t.lineWidth=h,t.beginPath(),t.moveTo(0,e/2),t.lineTo(i*2,e/2),t.stroke()};function hr(t){ge.call(this,t,!1,"contourbutton",34,16,ut.jq),this.WH=new se([12,86],null,16),this.WH.$("input",this.ho,this),this.Jg.u.appendChild(this.WH.u),this.u7=null,this.GP="",this.jU=null,this.k(qr.tt())}hr.prototype=new ge,hr.prototype.t=function(){ge.prototype.t.call(this),this.WH.t()},hr.prototype.WX=function(t){this.k(this.u7[t.target.q()]),this.w(new z(y.E.I))},hr.prototype.ho=function(t){this.GP=this.WH.q().toLowerCase(),this.Iv()},hr.w2=!1,hr.prototype.HJ=function(){if(!!this.lM){var t=this.rt;if(t==null||!hr.w2){var i=new z(y.E.L,!0);i.data={e:y.B.JX,S9:{url:"rsrc/basic/fa_basic.csh"}},this.w(i),hr.w2=!0}else{var e=Math.floor(38*y.J()),r=Math.floor(38*y.J());this.jU=[];for(var n=0;n<t.length;n++)this.jU.push(hr.hi(t[n],e,r));this.Iv(),this.lM=!1}}},hr.prototype.Iv=function(){var t=Math.floor(38*y.J()),i=Math.floor(38*y.J());this.u7=[];for(var e=[],r=[],n=this.rt,a=0;a<n.length;a++)n[a].s3.toLowerCase().indexOf(this.GP)!=-1&&(this.u7.push(n[a]),e.push(this.jU[a]),r.push(n[a].s3));this.UJ.Lf(e,r,t,i)},hr.prototype.k=function(t){this.hg=hr.clone(t),this.AG()},hr.prototype.AG=function(){var t=Math.floor(23*y.J()),i=Math.floor(23*y.J()),e=hr.hi(this.hg,t,i);this.mJ.setAttribute("src",e),y.Hc(this.mJ,t,i)},hr.prototype.q=function(){return hr.clone(this.hg)},hr.clone=function(t){return{s3:t.s3,By:t.By,b:H.iO.Cm(t.b),gx:t.gx.clone()}},hr.w7=null,hr.YG=null,hr.hi=function(t,i,e){var r=H.iO.Cm(t.b),n=t.gx,a=Math.min(i/n.Z,e/n.h)*.9,s=new Et;s.translate(-.5,-.5),s.scale(.95,.95),s.translate(.5,.5),s.scale(a*n.Z,a*n.h),v.V.G5(r,s);var l=new H.iO;l.b=r;var h=l.jk();h.rect.x=Math.floor((i-h.rect.Z)/2),h.rect.y=Math.floor((e-h.rect.h)/2);var o=v.R(h.rect.M()*4);v.XB(o,4278190080),v.nJ(h.channel),v.Oy(h.channel,o,0),v.Oy(h.channel,o,1),v.Oy(h.channel,o,2);var f=hr;f.w7==null&&(f.w7=y.z("canvas"));var u=f.w7,p=u.getContext("2d");(u.width!=i||u.height!=e||f.YG==null)&&(u.width=i,u.height=e,f.YG=p.createImageData(i,e));var c=f.YG;return v.XB(c.data,4294967295),v.BP(o,h.rect,c.data,new et(0,0,i,e)),p.putImageData(c,0,0),u.toDataURL()};function Pn(t){ge.call(this,t,!1,"ICCButton",16,12,ut.rn,!0),this.UJ.DJ(1)}Pn.prototype=new ge,Pn.prototype.Yt=function(){for(var t="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(","),i=0;i<t.length;i++)t[i]="luts/"+t[i]+".CUBE";return t},Pn.prototype.WX=function(t){this.k(this.rt[t.target.q()]),this.w(new z(y.E.I))},Pn.prototype.HJ=function(){if(!!this.lM){for(var t=Math.floor(1*y.J()),i=Math.floor(1*y.J()),e=[],r=[],n=this.rt,a=0;a<n.length;a++){var s=n[a].Nm.v.split("\\").pop().split("/").pop();r.push(s),e.push(Pn.m2(n[a],t,i))}this.UJ.Lf(e,r,t,i),this.lM=!1}},Pn.prototype.k=function(t){this.hg=JSON.parse(JSON.stringify(t)),this.AG()},Pn.m2=function(t,i,e){var r=y.z("canvas"),n="ICC / 3DL / look / cube";r.width=i,r.height=e;var a=r.getContext("2d"),s=Math.floor(14*y.J());return a.font=s+"px sans-serif",t.Nm&&(n=t.Nm.v.split("\\").pop().split("/").pop()),a.fillText(n,10,s),r.toDataURL()},Pn.prototype.AG=function(){var t=Math.floor(120*y.J()),i=Math.floor(20*y.J());this.mJ.setAttribute("src",Pn.m2(this.hg,t,i)),y.Hc(this.mJ,t,i)},Pn.prototype.q=function(){return JSON.parse(JSON.stringify(this.hg))};function ws(){At.call(this),this.Xa=null,this.u=y.z("span","fitem"),this.gM=new jr([14,9]),this.UC=new xi(null,0,150,"pt",1,!0,null,null,[19,2,5]),this.Ri=new Ma,this.u3=[this.gM,this.UC,this.Ri];for(var t=0;t<this.u3.length;t++){var i=this.u3[t];this.u.appendChild(i.u),i.parent=this,i.$(y.E.I,this.WK,this)}}ws.prototype=new At,ws.prototype.t=function(){for(var t=0;t<this.u3.length;t++)this.u3[t].t()},ws.prototype.AK=function(t,i){this.gM.AK(t,i)},ws.prototype.WK=function(t){var i=this.Xa,e=this.gM.q(),r=e.d1;i.strokeEnabled.v=r!=0,r!=0&&(i.strokeStyleContent.v=e.qA,e.qA.classID=at.bW.bl[r-1]),i.strokeStyleLineWidth.v.val=this.UC.q(),t.target==this.Ri&&(i=this.Ri.q()),this.Xa=i,this.w(new z(y.E.I,!1))},ws.prototype.k=function(t,i,e){this.Xa=JSON.parse(JSON.stringify(i));var r=i.strokeEnabled.v,n=i.strokeStyleContent.v,a=r?{d1:1+at.bW.bl.indexOf(n.classID),qA:n}:{d1:0};this.gM.k(t,a,e),this.UC.k(i.strokeStyleLineWidth.v.val),this.Ri.k(i)},ws.prototype.q=function(){return JSON.parse(JSON.stringify(this.Xa))};function ks(t,i){At.call(this),this.u=y.z("span","fitem"),this.Ta=["front","union","difference","intersection"];var e=[[18,0],[18,1],[18,2],[18,3]];this.jF=[],this.CF=0;for(var r=0;r<this.Ta.length;r++){var n=new Tt('<img src="'+PIMG["set/"+this.Ta[r]]+'" class="autoscale gsicon" />',!1,e[r]);n.$("click",this.aj8,this),this.u.appendChild(n.u),this.jF.push(n)}this.jF[0].V2()}ks.prototype=new At,ks.prototype.q=function(){return this.Ta[this.CF]},ks.prototype.k=function(t){this.CF=this.Ta.indexOf(t);for(var i=0;i<this.jF.length;i++)this.jF[i].pe();this.jF[this.CF].V2()},ks.prototype.aj8=function(t){this.k(this.Ta[this.jF.indexOf(t.currentTarget)]),this.w(new z(y.E.I,!1))},ks.prototype.t=function(){for(var t=0;t<this.jF.length;t++)this.jF[t].t()};function se(t,i,e,r){At.call(this);var n=y.l$(),a="";this.u=y.z("span","fitem tinput"),t&&(this.q6=t,this.yq=y.z("label","flabel"),this.u.appendChild(this.yq),this.yq.setAttribute("for",n),this.t()),r==null?(this.De=y.z("input",""),this.De.setAttribute("type","text")):this.De=y.z("textarea","scrollable"),this.De.setAttribute("id",n),e&&(a+="width:"+e+"em;"),r&&this.De.setAttribute("rows",r),a!=""&&this.De.setAttribute("style",a),this.u.appendChild(this.De),i&&(this.BL=y.z("span",""),this.BL.textContent=i,this.u.appendChild(this.BL)),this.De.addEventListener("change",this.Om.bind(this),!1),this.De.addEventListener("input",this.acR.bind(this),!1)}se.prototype=new At,se.prototype.t=function(){this.q6&&(this.yq.textContent=Lt.get(this.q6)+":")},se.prototype.kW=function(t){this.yq.textContent=t},se.prototype.k=function(t){this.De.value=t==null?"":t},se.prototype.q=function(){return this.De.value},se.prototype.co=function(){this.De.select(),this.De.focus()},se.prototype.Om=function(t){this.w(new z(y.E.I,!1))},se.prototype.acR=function(t){this.w(new z("input",!1))};function Ht(t,i,e,r,n,a){Fe.call(this,t,i,e,r,n,!0,a),y.KL(this.u,"trangeinput"),this.u.appendChild(this.yq),this.u.appendChild(this.De);var s=y.z("span","rangecont");this.u.appendChild(s),s.appendChild(this.oq),this.oq.setAttribute("style","width:97%;")}Ht.prototype=new Fe;function As(){At.call(this),this.rX=[10,!0,!0],this.u=y.z("span",""),this.ct=[new xi([12,24],0,255),new Ft("Anti-alias"),new Ft([12,25])];for(var t=0;t<3;t++){var i=this.ct[t];i.parent=this,i.k(this.rX[t]),this.u.appendChild(i.u),i.$(y.E.I,this.WK,this)}}As.prototype=new At,As.prototype.WK=function(){for(var t=0;t<3;t++)this.rX[t]=this.ct[t].q();this.w(new z(y.E.I,!1))},As.prototype.k=function(t){this.rX=t.slice(0);for(var i=0;i<3;i++)this.ct[i].k(t[i])},As.prototype.q=function(){return this.rX.slice(0)},As.prototype.t=function(){for(var t=0;t<3;t++)this.ct[t].t()};function Ja(t,i){At.call(this),i==null&&(i=!1),this.jU=[],this.amb=0,this.adj=0,this.al=0,this.BR=[],this.Zn=[];for(var e in v.mD.type)e=="warpCustom"&&!i||(this.BR.push(e),this.Zn.push(v.mD.type[e]));this.u=y.z("span","fitem warpbutton"),this.Jg=new At,this.Jg.u=y.z("div","floatcont"),t&&(this.Il=t,this.yq=y.z("label","flabel"),this.u.appendChild(this.yq)),this.e=y.z("button"),this.u.appendChild(this.e),this.e.addEventListener("click",this.JJ.bind(this),!1),this.DF=new Hr(!0),this.Jg.u.appendChild(this.DF.u),this.DF.$(y.E.I,this.aeK,this),this.t()}Ja.prototype=new At,Ja.prototype.kW=function(t){this.yq.textContent=t},Ja.prototype.t=function(){this.Il&&(this.yq.innerHTML=Lt.get(this.Il)+":"),this.jU=[];var t=y.z("canvas",""),i=t.getContext("2d"),e=0;i.font=Math.floor(13*y.J())+"px sans-serif";for(var r=0;r<this.BR.length;r++)e=Math.max(e,i.measureText(Lt.get(v.mD.type[this.BR[r]])).width);var n=this.amb=Math.floor(50*y.J()+e),a=this.adj=Math.floor(23*y.J());t.width=n,t.height=a,this.Jg.u.setAttribute("style","width:"+Math.floor(8+n/y.J())+"px;"),i.font=Math.floor(13*y.J())+"px sans-serif",i.lineWidth=1,i.strokeStyle="#000000";for(var s=Math.floor(16*y.J()),l=new et(0,0,s,s),r=0;r<this.BR.length;r++){var h=this.BR[r];i.clearRect(0,0,t.width,t.height);var o=v.mD.mD(l,h,!0,.3,0,0),f=v.D.z0(l);f.W.push("M","L","M","L"),f.d.push(0,s/2,s,s/2),f.d.push(s/2,0,s/2,s),f=v.D.pP(f),f=v.D.Tm(f,s/5),v.ea.apply(o,f.d,l),v.D.O(f.d,new Et(1,0,0,1,Math.floor(8*y.J())+.5,Math.floor(3*y.J())+.5),f.d),i.beginPath(),Typr.U.pathToContext({cmds:f.W,crds:f.d},i),i.stroke(),i.fillText(Lt.get(v.mD.type[h]),Math.floor(40*y.J()),Math.floor(16*y.J())),this.jU.push(t.toDataURL())}this.DF.Lf(this.jU,null,n,a),this.AG()},Ja.prototype.JJ=function(t){var i=this.e.getBoundingClientRect(),e=new z(y.E.L,!0);e.data={e:y.B.VX,Nc:this.Jg,x:i.left,y:i.top+i.height+4},this.w(e)},Ja.prototype.aeK=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.Qp,Nc:this.Jg},this.w(i),this.al=t.target.q(),this.AG(),this.w(new z(y.E.I))},Ja.prototype.AG=function(){this.DF.tj(this.al),this.e.innerHTML='<img src="'+this.jU[this.al]+'" class="gsicon" />';var t=this.amb,i=this.adj;y.Hc(this.e.firstChild,t,i)},Ja.prototype.q=function(){return this.BR[this.al]},Ja.prototype.k=function(t){this.al=this.BR.indexOf(t),this.AG()};function Ls(t,i,e){At.call(this),t==null&&(t=!1),i==null&&(i=!1),e==null&&(e=!1),this.a2d=i,this.mD=null,this.tX=new Ja([12,22],e),this.tX.parent=this,this.tX.$(y.E.I,this.d5,this),this.GF=new ei([22,0],[[22,4,0],[22,4,1]]),this.GF.$(y.E.I,this.d5,this);var r=t?xi:Ht;this.pw=new r([22,1],-100,100,"%"),this.yA=new r("Horizontal Distortion:",-100,100,"%"),this.$A=new r("Vertical Distortion:",-100,100,"%"),this.pw.parent=this.yA.parent=this.$A.parent=this,this.pw.$(y.E.I,this.d5,this),this.yA.$(y.E.I,this.d5,this),this.$A.$(y.E.I,this.d5,this)}Ls.prototype=new At,Ls.prototype.t=function(){this.tX.t(),this.GF.t(),this.pw.t();var t=this.a2d?1:100;this.yA.kW(Lt.get([22,2]).substring(0,t)+":"),this.$A.kW(Lt.get([22,3]).substring(0,t)+":")},Ls.prototype.d5=function(){var t=this.mD,i=this.tX.q(),e=t.warpStyle.v.warpStyle;i=="warpCustom"?v.mD.SL(v.mD.ij(t),t):delete t.customEnvelopeWarp,t.warpStyle.v.warpStyle=this.tX.q(),t.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.GF.q()],t.warpValue.v=this.pw.q(),t.warpPerspective.v=this.yA.q(),t.warpPerspectiveOther.v=this.$A.q(),i=="warpNone"||i=="warpCustom"?(t.warpValue.v=0,t.warpPerspective.v=0,t.warpPerspectiveOther.v=0):(e=="warpNone"||e=="warpCustom")&&(t.warpValue.v=50),this.w(new z(y.E.I,!1)),this.k(t)},Ls.prototype.q=function(t){return JSON.parse(JSON.stringify(this.mD))},Ls.prototype.k=function(t){this.mD=JSON.parse(JSON.stringify(t)),this.tX.k(t.warpStyle.v.warpStyle),this.GF.k(t.warpRotate.v.Ornt=="Hrzn"?0:1),this.pw.k(t.warpValue.v),this.yA.k(t.warpPerspective.v),this.$A.k(t.warpPerspectiveOther.v);for(var i=t.warpStyle.v.warpStyle,e=i=="warpNone"||i=="warpCustom",r=[this.GF,this.pw,this.yA,this.$A],n=0;n<r.length;n++)e?r[n].U3():r[n].R8()};function ue(t){At.call(this),this.u=y.z("div"),this.Vu=t,this.c4=!1,this.NW=new st(0,0),this.xM="position:relative;overflow:hidden;",this.s1=null,this.y4=new y.GN(this.u),this._e("grab"),this.ob=y.z("canvas","canv"),this.u.appendChild(this.ob),this.YV=this.ob.getContext("2d"),this.aaD=null,this.jV=null,this.th=null,this.vp=0,this.gY=0,this.Zq=0,this.aj3=this.Tt.bind(this),this.a8n=null,this.a=new ss({Z:1,h:1}),this.$M=null,this.lf=null,this.a7c=this.Qf.bind(this),this.a6f=this.Ap.bind(this),this.a5A=this.sj.bind(this),this.aj5=this.vQ.bind(this),this.a81=0,this._z=null,this.fk(this.ob),this.Dx(this)}ue.prototype=new At,ue.prototype.gU=function(t){var i=this.s1;if(this.c4=t.s(W.fd),this.c4&&(i="grab"),this.y4.Vp(i,this.xM),t.s(W.Bl)){var e=0;t.s(W.Kh)&&(e=1),t.s(W.lY)&&(e=-1),e!=0&&this.Zy(new st(this.ob.width/2,this.ob.height/2),e==1)}},ue.prototype._e=function(t){this.s1=t,this.y4.Vp(t,this.xM)},ue.prototype.fk=function(t){y.X8(t,this.a7c),y.w4(t),t.addEventListener("wheel",this.aj5,!1)},ue.prototype.Dx=function(t){t.$("viewchange",this.a4e,this)},ue.prototype.a4e=function(t){var i=this.a.F,e=t.currentTarget.kC();this.a.F=e.F,this.a.c=e.c.clone(),i!=e.F&&this.aM(),this.U5()},ue.prototype.kC=function(){return{F:this.a.F,c:this.a.c}},ue.prototype.k=function(t,i){var e=t[0].ym;this.jV!=null&&this.jV[0].ym.Qn(e)||(this.a.EA={Z:e.Z,h:e.h},this.a.c=new st(0,0),this.a.F=1),this.jV=t,this.aM(),this.JD(),this.vp=0,this.gY=0,this.Zq=i==null?0:i,this.Tt()},ue.prototype.vQ=function(t){if(t.preventDefault(),!(t.deltaY==0||Date.now()-this.a81<100)){var i=y.oA(t);i.x=y.J()*i.x,i.y=y.J()*i.y,this.a81=Date.now(),this.Zy(i,t.deltaY<0)}},ue.prototype.Zy=function(t,i){C.$h.dX(this.a,t,i),this.ZG()},ue.prototype.aeS=function(){var t=this.a,i=t.EA;this.a.F=C.$h.P9(i.Z,i.h,t.xX.Z,t.xX.h),this.ZG()},ue.prototype.ZG=function(){this.aM(),this.w(new z("viewchange")),this.w(new z("zoom"))},ue.prototype.aM=function(){this.th=[];for(var t=this.a.F,i=0;i<this.jV.length;i++){var e=this.jV[i],r=new Uint8Array(e.data),n;t>=1?n={Ww:r,rect:e.ym}:n=v.NP(r,e.ym,t),this.th.push(n)}},ue.prototype.JD=function(){clearTimeout(this.a8n)},ue.prototype.U5=function(){if(!(this.jV==null||!y.WW(this.ob))){var t=this.aaD,i=this.ob.width,e=this.ob.height,r,n;(t==null||t.width!=i||t.height!=e)&&(t=this.aaD=this.YV.createImageData(i,e),console.log("creating image data"));var a=this.jV[this.vp],s=this.th[this.vp],l=this.a;if(l.F<=1){var h=s.rect.clone();h.x=l.c.x+Math.floor((l.xX.Z-s.rect.Z)/2),h.y=l.c.y+Math.floor((l.xX.h-s.rect.h)/2),r=s.Ww,n=h}else{var o=l.Ze(),u=l.yO(),f=new et(0,0,o.Z*l.F,o.h*l.F);f.x=o.x*l.F+u.x,f.y=o.y*l.F+u.y,(l.YQ==null||l.YQ.length!=o.M()*4)&&(l.YQ=v.R(o.M()*4)),(l.Su==null||l.Su.length!=f.M()*4)&&(l.Su=v.R(f.M()*4)),v.XB(l.YQ,0),v.BP(s.Ww,s.rect,l.YQ,o),v.scale.sI(l.YQ,o.Z,o.h,l.Su,f.Z,f.h,l.F),r=l.Su,n=f}var u=l.yO();v.RK(t.data,l.xX.Z,l.xX.h,8,-u.x,-u.y),v.N.DO("norm",r,n,t.data,l.xX,l.xX,1),this.YV.setTransform(1,0,0,1,0,0),this.YV.putImageData(t,0,0),l.F<1&&(u=n);var p=u.x,c=u.y,d=u.Z,g=u.h;this.YV.clearRect(p,c,-1e3,g),this.YV.clearRect(p+d,c,1e3,g),this.YV.clearRect(p-1e3,c,d+2e3,-1e3),this.YV.clearRect(p-1e3,c+g,d+2e3,1e3);var b=ue.na(l.F,"#ffffff");this.YV.putImageData(b,0,l.xX.h-b.height)}},ue.bm={},ue.na=function(t,i){var e="z"+t+","+i,r=ue.bm[e];if(r)return r;var n=Math.round(50*y.J()),a=Math.round(18*y.J()),s=y.z("canvas"),l=s.getContext("2d");s.width=n,s.height=a,l.fillStyle="rgba(1,1,1,1)",l.fillRect(0,0,n,a),l.font=Math.round(11*y.J())+"px monospace",l.fillStyle=i;var h=t*100;h<100&&(h=h.toFixed(2)),h=h+"%";var o=l.measureText(h).width;return l.fillText(h,(n-o)/2,Math.round(a*.7)),r=ue.bm[e]=l.getImageData(0,0,n,a),r},ue.prototype.Tt=function(){var t=this.jV,i=t.length,e=this.vp,r=this.jV[e],n=(e+1)%i;if(this.U5(),i!=1&&t[n].ym.Qn(r.ym)){var a=r._l?parseInt(r._l.split(",").pop()):30;a==0&&(a=16),n==0&&this.gY++,(this.Zq==0||this.gY<this.Zq)&&(this.a8n=setTimeout(this.aj3,a))}this.vp=n},ue.prototype.l9=function(t,i){if(!(t<=0||i<=0)){var e=Math.floor(t*y.J()),r=Math.floor(i*y.J());this.a.xX=new et(0,0,e,r),this.ob.width=e,this.ob.height=r,this.ob.setAttribute("style","width:"+e/y.J()+"px; height:"+r/y.J()+"px; display:block;"),this.U5()}},ue.prototype.Qf=function(t){this._z=t.target,y.Jr(window,this.a6f),y.so(window,this.a5A),this.$M=y.oA(t,this.ob),this.$M.x*=y.J(),this.$M.y*=y.J(),this.NW=this.$M,this.lf=this.a.c.clone(),this.Vu&&this._z==this.ob&&!this.c4&&this.w(new z("mousedown"))},ue.prototype.Ap=function(t){var i=this.a,e=this.jV[this.vp].ym.clone();e.Z*=i.F,e.h*=i.F;var r=y.oA(t,this.ob);if(r.x*=y.J(),r.y*=y.J(),this.NW=r,this.Vu&&this._z==this.ob&&!this.c4)this.w(new z("mousemove"));else if(!i.xX.Qh(e)){var n=r.x-this.$M.x,a=r.y-this.$M.y;i.c.x=this.lf.x+Math.round(n),i.c.y=this.lf.y+Math.round(a),this.w(new z("viewchange"))}},ue.prototype.sj=function(t){y.NG(window,this.a6f),y.Sz(window,this.a5A),t.detail>1&&(this.a.F=1,this.a.c.Oh(0,0),this.U5()),this.Vu&&this._z==this.ob&&!this.c4&&this.w(new z("mouseup"))},ue.prototype.fJ=function(){return this.a.PY(this.NW.x,this.NW.y)};function fn(){At.call(this),this.B7=null,this.aa=null,this.g5=null,this.VQ=null,this.a9P="",this.p_=[],this.uk=0,this.vW=[],this._7=0,this.yH=null;var t=this.u=y.z("div",""),i=this.acN=y.z("div","form");i.setAttribute("style","line-height:0; margin-bottom:0.5em;"),t.appendChild(i);var e=this.Il=y.z("span");i.appendChild(e),e.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var r=this.a9x=new Ft([25,2,0]);r.k(!0),i.appendChild(r.u),r.$(y.E.I,this.nF,this);var n=this.Gu=new Ft([25,2,1]);n.k(!1),i.appendChild(n.u),n.$(y.E.I,this.nF,this);var a=new fe(" ");i.appendChild(a.u);var s=this.op=new se([25,1,1]);i.appendChild(s.u),s.$(y.E.I,this.nF,this),this.Ih=new Hn(14),this.Ih.aaq(3),i.appendChild(this.Ih.u),this.Ih.parent=this,this.Ih.$(y.E.I,this.aa1,this);var l=this.aff=new Tt([25,1,2],null,null,!0);i.appendChild(l.u),l.$("click",this.$a,this),this.alW=this.a4F.bind(this),this.KG=y.z("div","svggallery scrollable"),t.appendChild(this.KG),this.KG.addEventListener("scroll",this.a5_.bind(this))}fn.prototype=new At,fn.prototype.AK=function(t){this.amD=t},fn.prototype.t=function(){this.Il.textContent=Lt.get([25,0]),this.Ih.t(),this.a9x.t(),this.Gu.t(),this.op.t(),this.aff.t()},fn.prototype.l9=function(t,i){i-=26,this.B7=new st(t,i),this.acN.setAttribute("style","width:"+t+"px"),this.KG.setAttribute("style","width:"+t+"px; height:"+i+"px"),y.WW(this.u)&&this.nF()},fn.prototype.k=function(t){this.aa=t,this.nF()},fn.prototype.a5_=function(t){var i=this.KG;i.scrollTop+i.clientHeight+10>=i.scrollHeight&&this.nF(!0)},fn.prototype.aa1=function(t){this.g5=null,this.nF()},fn.prototype.a4F=function(t){if(!(Date.now()-this._7<2e3)){this._7=Date.now(),this.uk=this.vW.indexOf(t.currentTarget);var i=this.Cp(this.aa.x,this.aa.y);if(i[1]){var e=i[1].largeImageURL,r=new XMLHttpRequest;r.responseType="arraybuffer",r.open("GET",e,!0),r.onload=this.a7Y.bind(this),r.send();return}this.CI(i)}},fn.prototype.a7Y=function(t){var i=t.target.response,e=ft.Xh(i),r=ft.$I(e),n=r.xo(i),a=this.Cp(this.aa.x,this.aa.y,[i,n[0].ym.Z,n[0].ym.h]);this.CI(a)},fn.prototype.CI=function(t){var i=t[0],e=ft.Xh(i),r=ft.$I(e),n=new Pt("template.psd");r.xo(i,n);var a=new z("tempready",!0);a.data={EA:n},this.w(a)},fn.prototype.$a=function(t){var i=t.target;this.p_=[],this.nF()},fn.prototype.alk=function(t){console.log(t.target.response);var i=JSON.parse(t.target.response);this.VQ=i.hits,this.nF()},fn.prototype.nF=function(t){if(!(this.aa==null||this.B7==null||this.amD==null)&&!(this.B7.x<=0)){var i=this.aa.x,e=this.aa.y;if(!(Math.min(i,e)<50)&&(t!=!0&&(this.vW=[],y.TD(this.KG),this.KG.scrollTop=0),!(this.vW.length>300))){var r=Math.min(1,300/Math.max(i,e)),n=this.B7.clone();n.x-=20;var a=Math.max(1,Math.floor(n.x/(i*r))),s=Math.max(1,Math.ceil(n.y/(e*r)));r=n.x/a/i;var l=a*s;if(this.g5==null){var h=this.amD.SN.Ij();this.g5=[];for(var o in h){var f=h[o],u=f[3];!this.Ih.x3(f)||f[5]==null||f[5].slice(0,2)=="gf"||this.g5.push(f)}this.g5.length==0&&this.g5.push(h["AlibabaPuHuiTi-Regular"])}var p=this.Gu.q(),c=this.op.q().trim();if(this.op.b0(p),p&&(this.VQ==null||c!=this.a9P)){var d=new XMLHttpRequest,g="https://pixabay.com/api/?image_type=photo"+(c==""?"":"&q="+encodeURIComponent(c))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";c==""&&(g+="&safesearch=true"),d.open("GET",g,!0),d.onload=this.alk.bind(this),d.onerror=function(k){console.log(k.target.response)},d.send(),this.a9P=c;return}r*=(i*r-5)/(i*r);for(var b=this.vW.length,m=0;m<l;m++){var x=this.uk=b+m;this.p_[x]==null&&(this.p_[x]=Math.floor(Math.random()*4294967295));var M=this.Cp(Math.round(i*r),Math.round(e*r)),S=M[0];S=A.bc(new Uint8Array(S));var w=y.z("span");w.innerHTML=S,this.vW.push(w),this.KG.appendChild(w),w.addEventListener("click",this.alW,!1)}}}},fn.prototype.Cp=function(t,i,e){var r=this.Gu.q(),n=this.a9x.q(),a=r&&this.VQ.length!=0?this.VQ:null;return n&&!r&&(a=null),n&&r&&(this.uk&1)==0&&(a=null),ii.Ny(t,i,this.p_[this.uk],this.g5,e||a)};function qa(){At.call(this),this.u=y.z("div"),this.ZM=null,this.a5S=null,this.rI=-1,this.Bi={JPG:[{Vq:new Ht([12,52,0],0,100,"%"),hV:70},{Vq:new Ft("attach metadata"),hV:!1}],TIFF:[{Vq:new Ft("attach metadata"),hV:!1}],WEBP:[{Vq:new Ht([12,52,0],0,100,"%"),hV:70}],GIF:[{Vq:new Ht([12,52,0],0,100,"%"),hV:100}],PNG:[{Vq:new Ht([12,52,0],0,100,"%"),hV:100},{Vq:new Ft("don't use palettes"),hV:!1}],PDF:[{Vq:new se([12,52,1]),hV:""},{Vq:new Ht([12,52,0],0,100,"%"),hV:100},{Vq:new Ft("rasterize all"),hV:!1},{Vq:new Ft("rasterize text"),hV:!1},{Vq:new Ft("vectorize text"),hV:!1}],EMF:[{Vq:new se([12,52,1]),hV:""},{Vq:new Ft("rasterize all"),hV:!1},{Vq:new Ft("rasterize text"),hV:!1},{Vq:new Ft("vectorize text"),hV:!1}],SVG:[{Vq:new Ft("add raster graphics"),hV:!0},{Vq:new Ft("add hidden layers"),hV:!1},{Vq:new Ft("vectorize text"),hV:!1},{Vq:new Ft("rasterize text"),hV:!1},{Vq:new Ft("add layer names"),hV:!0},{Vq:new Ft("pretty-print"),hV:!0}],RAW:[{Vq:new me([12,72],["1","3","4"]),hV:2},{Vq:new me([12,34],["8 Bits","16 Bits"]),hV:0},{Vq:new me("Byte Order",["12-34","34-12"]),hV:0}],anim:[{Vq:new Ht("Speed",10,800,"%",null,!0),hV:100},{Vq:new xi("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),hV:0},{Vq:new Ft("reverse frames"),hV:!1}],slcs:[{Vq:new Ft("As Slices"),hV:!0}]};for(var t in this.Bi)for(var i=this.Bi[t],e=0;e<i.length;e++)i[e].Vq.k(i[e].hV),i[e].Vq.$(y.E.I,this.ko,this)}qa.prototype=new At,qa.prototype.a2p=function(){this.rI=-1},qa.prototype.t=function(){for(var t in this.Bi)for(var i=0;i<this.Bi[t].length;i++)this.Bi[t][i].Vq.t()},qa.prototype.ko=function(){this.nF(),this.w(new z(y.E.I,!1))},qa.prototype.nF=function(){var t=this.ZM,i=t[0],e=t[1],r=t[2],n=this.Bi[i];if(n==null?n=[]:n=n.slice(0),e&&(n=n.concat(this.Bi.anim)),["GIF","PNG","JPG"].indexOf(i)!=-1&&r&&(n=n.concat(this.Bi.slcs)),i+" "+e!=this.rI){this.rI=i+" "+e,y.TD(this.u);for(var a=0;a<n.length;a++)this.u.appendChild(n[a].Vq.u),y.Rf(this.u)}for(var s=this.a5S=[],a=0;a<n.length;a++)s.push(n[a].Vq.q())},qa.prototype.vJ=function(t,i,e){this.ZM=[t,i,e],this.nF()},qa.prototype.q=function(){return this.a5S.slice(0)};function hs(){At.call(this),this.u=y.z("span","fitem"),this.T3=!1,this.gi=new Tt("No",!1,"Cancel"),this.cI=new Tt("Yes",!1,"Confirm"),this.u.appendChild(this.gi.u),this.u.appendChild(this.cI.u),this.gi.$("click",this.RD,this),this.cI.$("click",this.RD,this),this.t()}hs.prototype=new At,hs.prototype.t=function(){this.gi.kW(y.G6("cross",null,"autoscale")),this.cI.kW(y.G6("checkmark",null,"autoscale"))},hs.prototype.RD=function(t){this.T3=t.target==this.cI,this.w(new UIEvent("click"))},hs.prototype.q=function(){return this.T3};function K(t){At.call(this),this.lk=t,this.u=y.z("div",""),this.mH=[],this.ahS=[]}K.prototype=new At,K.prototype.yQ=function(t){},K.prototype.xW=function(){return!1},K.prototype.l9=function(t,i){},K.prototype.AK=function(t,i){},K.prototype.iM=function(t){},K.prototype.k=function(t,i,e,r,n,a){var s=[],l=this.mH,h=0,o=Zt.jf["s"+this.lk];o?o(t,s,a):this.sO(t,s,a);for(var f=0;f<l.length;f++)l[f]instanceof fe||l[f].k(s[h++])},K.prototype.q=function(){for(var t=Zt.tt(this.lk),i=[],e=this.mH,r=0,n=0;n<e.length;n++)e[n]instanceof fe||(i[r++]=e[n].q());var a=Zt.jf["g"+this.lk];return a?a(t,i):this.d2(t,i),t},K.prototype.gU=function(t){},K.prototype.d5=function(t){for(var i=this.ahS,e=0;e<i.length;e+=2){var r=this.mH[i[e]],n=this.mH[i[e+1]],a=r.q(),s=n.q();t.target==r?n.k(Math.max(a,s)):r.k(Math.min(a,s))}this.w(new z(y.E.I))},K.prototype.t=function(){for(var t=0;t<this.mH.length;t++)this.mH[t].t()},K.prototype.uZ=function(t){y.KL(this.u,"form");for(var i=this.mH,e=0;e<i.length;e++){var r=i[e];r.parent=this,r.$(y.E.I,this.d5,this),this.u.appendChild(r.u),!(r instanceof Ft&&i[e+1]instanceof Ve)&&(t&&t.indexOf(e)!=-1?y._D(this.u):y.Rf(this.u))}},K.prototype.t9=function(){return!1},K.prototype.R$=function(t,i,e,r,n){},K.prototype.$E=function(t,i,e,r,n){},K.prototype.NL=function(t,i,e,r,n){},K.prototype.d2=function(t,i){},K.prototype.sO=function(t,i){},K.Bokh=function(){K.call(this,"Bokh"),this.mH=[new ei("Depth Map",["A","b"]),new Ht("Focal Distance",0,255),new ei([12,76,1],"Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")),new Ht([12,56],0,100),new Ht([12,15],0,360),new Ht([12,2],0,100),new Ht([4,13],0,255),new Ht([24,6],0,100),new me([12,58],[[12,59,0],[12,59,1]]),new Ft([12,60])],this.uZ([4,6])},K.Bokh.prototype=new K,K.Bokh.prototype.sO=function(t,i,e){var r=[[22,5,0],[6,5,3],[6,2]],n=t.BkDi.v.BtDi,a=t.BkDc,s=0;n=="BeIn"?s=0:n=="BeIt"&&a.v.BtDc=="BeCt"?s=1:n=="BeIt"&&a.v.BtDc=="BeCm"?s=2:s=3+a.v;for(var l=0;l<e[1].length;l++)r.push(e[1][l].name);this.mH[0].KI(r,[3]),i[0]=s,i[1]=t.BkDp.v,i[2]=parseInt(t.BkIs.v.BtIs.slice(3))-3,i[3]=t.BkIb.v,i[4]=t.BkIr.v,i[5]=t.BkSb.v,i[6]=t.BkSt.v,i[7]=t.BkNa.v,i[8]=t.BkNt.v.BtNt=="BeNu"?0:1,i[9]=t.BkNm.v},K.Bokh.prototype.d2=function(t,i){var e;i[0]==0?(e="BeIn",delete t.BkDc):i[0]<3?(e="BeIt",t.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][i[0]-1]}}):(e="BeIa",t.BkDc={t:"long",v:i[0]-3}),t.BkDi.v.BtDi=e,t.BkDp.v=i[1],t.BkIs.v.BtIs="BeS"+(3+i[2]),t.BkIb.v=i[3],t.BkIr.v=i[4],t.BkSb.v=i[5],t.BkSt.v=i[6],t.BkNa.v=i[7],t.BkNt.v.BtNt=["BeNu","BeNg"][i[8]],t.BkNm.v=i[9]},K.oilPaint=function(){K.call(this,"oilPaint"),this.mH=[new Ht([12,56],.1,10,"px",!0),new Ht("Cleanliness",0,10,"px",!0),new Ht([12,38],.1,10,null,!0),new Ht("Bristle Detail",0,10,null,!0),new Ft("Lighting"),new Ht("Shine",0,10,null,!0),new Sn([12,15])],this.uZ()},K.oilPaint.prototype=new K,K.oilPaint.prototype.sO=function(t,i){for(var e="stylization cleanliness brushScale microBrush lightingOn specularity".split(" "),r=0;r<e.length;r++)i[r]=t[e[r]].v;i[6]=t.LghD.v},K.oilPaint.prototype.d2=function(t,i){for(var e="stylization cleanliness brushScale microBrush lightingOn specularity".split(" "),r=0;r<e.length;r++)t[e[r]].v=i[r];t.LghD.v=i[6].Fu},K.lightFilterGradient=function(){K.call(this,"lightFilterGradient"),this.mH=[new Ht([24,3,1],0,30,"px"),new Ht([12,38],0,200,"%"),new Ft([4,11]),new Ht("High",0,100,"%"),new Ht("Medium",0,100,"%"),new Ht("Low",0,100,"%")],this.uZ()},K.lightFilterGradient.prototype=new K,K.lightFilterGradient.prototype.sO=function(t,i){i[0]=t.blur.v,i[1]=t.textureScale.v*100,i[2]=t.Scl.v==-1;var e=t.Dtl.v;i[3]=e[0].v*100,i[4]=e[1].v*100,i[5]=e[2].v*100},K.lightFilterGradient.prototype.d2=function(t,i){t.blur.v=i[0],t.textureScale.v=i[1]/100,t.Scl.v=i[2]?-1:1;var e=t.Dtl.v;e[0].v=i[3]/100,e[1].v=i[4]/100,e[2].v=i[5]/100},K.LnsF=function(){K.call(this,"LnsF"),this.mH=[new Ht([12,2],10,300,"%"),new me([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new Ht("Position X",0,100,"%"),new Ht("Position Y",0,100,"%")],this.uZ()},K.LnsF.prototype=new K,K.LnsF.prototype.sO=function(t,i){i[0]=t.Brgh.v,i[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(t.Lns.v.Lns);var e=t.FlrC.v;i[2]=Math.round(e.Hrzn.v*100),i[3]=Math.round(e.Vrtc.v*100)},K.LnsF.prototype.d2=function(t,i){t.Brgh.v=i[0],t.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][i[1]];var e=t.FlrC.v;e.Hrzn.v=i[2]/100,e.Vrtc.v=i[3]/100},K.LnCr=function(){K.call(this,"LnCr"),this.mH=[new Ht([12,57],-100,100),new Ht([12,38],10,150,"%")],this.uZ()},K.LnCr.prototype=new K,K.LnCr.prototype.sO=function(t,i){i[0]=t.LnIa.v,i[1]=t.LnSi.v},K.LnCr.prototype.d2=function(t,i){t.LnIa.v=i[0],t.LnSi.v=i[1]},K.adaptCorrect=function(){K.call(this,"adaptCorrect");var t=oe;this.mH=[new fe([19,6,0]),new t([12,57],0,100,"%"),new t("Tone",0,100,"%"),new t([12,56],0,200,"px"),new fe([19,6,2]),new t([12,57],0,100,"%"),new t("Tone",0,100,"%"),new t([12,56],0,200,"px"),new fe([3]),new t([13,0],-100,100)],this.uZ([3,7])},K.adaptCorrect.prototype=new K,K.adaptCorrect.prototype.sO=function(t,i){var e=t.sdwM.v;i[0]=e.Amnt.v.val,i[1]=e.Wdth.v.val,i[2]=e.Rds.v;var e=t.hglM.v;i[3]=e.Amnt.v.val,i[4]=e.Wdth.v.val,i[5]=e.Rds.v,i[6]=t.ClrC.v},K.adaptCorrect.prototype.d2=function(t,i){var e=t.sdwM.v;e.Amnt.v.val=i[0],e.Wdth.v.val=i[1],e.Rds.v=i[2];var e=t.hglM.v;e.Amnt.v.val=i[3],e.Wdth.v.val=i[4],e.Rds.v=i[5],t.ClrC.v=i[6]},K.boxblur=function(){K.call(this,"boxblur"),this.mH=[new Ht([12,56],1,200," px")],this.uZ()},K.boxblur.prototype=new K,K.boxblur.prototype.sO=function(t,i){i[0]=t.Rds.v.val},K.boxblur.prototype.d2=function(t,i){t.Rds.v.val=i[0]},K.GsnB=function(){K.call(this,"GsnB"),this.mH=[new Ht([12,56],.1,400,"px",1,!0)],this.uZ()},K.GsnB.prototype=new K,K.MtnB=function(){K.call(this,"MtnB"),this.mH=[new Sn([12,15]),new Ht([12,28],1,100," px")],this.uZ()},K.MtnB.prototype=new K,K.RdlB=function(){K.call(this,"RdlB"),this.mH=[new Ht([12,57],1,100),new me([12,36],["Spin","Zoom"]),new oe("Off X",0,1,null,2),new oe("Off Y",0,1,null,2)],this.uZ()},K.RdlB.prototype=new K,K.RdlB.prototype.sO=function(t,i){i[0]=t.Amnt.v,i[1]=["Spn","Zm"].indexOf(t.BlrM.v.BlrM),i[2]=t.Cntr.v.Hrzn.v,i[3]=t.Cntr.v.Vrtc.v},K.RdlB.prototype.d2=function(t,i){t.Amnt.v=i[0],t.BlrM.v.BlrM=["Spn","Zm"][i[1]],t.Cntr.v.Hrzn.v=i[2],t.Cntr.v.Vrtc.v=i[3]},K.Dspl=function(){K.call(this,"Dspl"),this.mH=[new ei([6,36,3],["a","b"]),new Ht([22,4,0],-100,100,"px"),new Ht([22,4,1],-100,100,"px"),new ei([24,18,0],[[24,18,3],[24,18,2]])],this.uZ()},K.Dspl.prototype=new K,K.Dspl.prototype.sO=function(t,i,e){this.a5D=[],this.KU=[];var r=-1,n=e?e[0]:null;if(n==null?n=this.adB:this.adB=n,n)for(var a=0;a<n.length;a++){var s=n[a];this.a5D.push(s.Z5.trim()),this.KU.push(s.Za),s.Za==t.DspF.v.pth&&(r=a)}this.mH[0].KI(this.a5D),i[0]=r==-1?0:r,i[1]=t.HrzS.v,i[2]=t.VrtS.v,i[3]=["WrpA","RptE"].indexOf(t.UndA.v.UndA)},K.Dspl.prototype.d2=function(t,i){this.KU.length!=0&&(t.DspF.v.pth=this.KU[i[0]],t.HrzS.v=i[1],t.VrtS.v=i[2],t.UndA.v.UndA=["WrpA","RptE"][i[3]])},K.Pnch=function(){K.call(this,"Pnch"),this.mH=[new Ht([12,57],-100,100,"%")],this.uZ()},K.Pnch.prototype=new K,K["Plr "]=function(){K.call(this,"Plr "),this.mH=[new me(null,["Rect to Polar","Polar to Rect"])],this.uZ()},K["Plr "].prototype=new K,K.Rple=function(){K.call(this,"Rple"),this.mH=[new Ht([12,57],-999,999),new ei([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])],this.uZ()},K.Rple.prototype=new K,K["Shr "]=function(){K.call(this,"Shr "),this.mH=[new Rn(!0,!0),new ei([24,18,0],[[24,18,3],[24,18,2]])],this.uZ()},K["Shr "].prototype=new K,K["Shr "].prototype.sO=function(t,i){var e=new Et(0,255/127,255/127,0,-2,128),r=JSON.parse(JSON.stringify(t.ShrP.v));v.JH.O(r,e),i[0]=r,i[1]=["WrpA","RptE"].indexOf(t.UndA.v.UndA)},K["Shr "].prototype.d2=function(t,i){var e=new Et(0,255/127,255/127,0,-2,128);e.nJ(),v.JH.O(i[0],e),t.ShrP.v=i[0],t.ShrE.v=i[0].length-1,t.UndA.v.UndA=["WrpA","RptE"][i[1]]},K.Sphr=function(){K.call(this,"Sphr"),this.mH=[new Ht([12,57],-100,100),new ei([12,36],["Normal",[22,4,0],[22,4,1]])],this.uZ()},K.Sphr.prototype=new K,K.Sphr.prototype.sO=function(t,i){i[0]=t.Amnt.v,i[1]=["Nrml","HrzO","VrtO"].indexOf(t.SphM.v.SphM)},K.Sphr.prototype.d2=function(t,i){t.Amnt.v=i[0],t.SphM.v.SphM=["Nrml","HrzO","VrtO"][i[1]]},K.Twrl=function(){K.call(this,"Twrl"),this.mH=[new Ht([12,15],-999,999)],this.uZ()},K.Twrl.prototype=new K,K.Wave=function(){K.call(this,"Wave"),this.ahS=[1,2,3,4],this.mH=[new Ht("Number of Generators",1,100),new oe("Min Length",1,999),new oe("Max Length",1,999),new oe("Min Ampl.",1,999),new oe("Max Ampl.",1,999),new oe("Scale X",1,100,"%"),new oe("Scale Y",1,100,"%"),new me([12,44],["Sine","Triangle",[12,93,3]]),new ei([24,18,0],[[24,18,3],[24,18,2]]),new se("Randomizer Seed")],this.uZ()},K.Wave.prototype=new K,K.Wave.prototype.sO=function(t,i){i[0]=t.NmbG.v,i[1]=t.WLMn.v,i[2]=t.WLMx.v,i[3]=t.AmMn.v,i[4]=t.AmMx.v,i[5]=t.SclH.v,i[6]=t.SclV.v,i[7]=["WvSn","WvTr","WvSq"].indexOf(t.Wvtp.v.Wvtp),i[8]=["WrpA","RptE"].indexOf(t.UndA.v.UndA),i[9]=t.RndS.v},K.Wave.prototype.d2=function(t,i){t.NmbG.v=i[0],t.WLMn.v=i[1],t.WLMx.v=i[2],t.AmMn.v=i[3],t.AmMx.v=i[4],t.SclH.v=i[5],t.SclV.v=i[6],t.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][i[7]],t.UndA.v.UndA=["WrpA","RptE"][i[8]];var e=parseInt(i[9]);isNaN(e)&&(e=248325464),e=Math.max(0,Math.min(268435455,e)),t.RndS.v=e,this.mH[9].k(e)},K.surfaceBlur=function(){K.call(this,"surfaceBlur"),this.mH=[new Ht([12,56],1,200," px"),new Ht([4,13],1,255," px")],this.uZ()},K.surfaceBlur.prototype=new K,K.surfaceBlur.prototype.sO=function(t,i){i[0]=t.Rds.v.val,i[1]=t.Thsh.v},K.surfaceBlur.prototype.d2=function(t,i){t.Rds.v.val=i[0],t.Thsh.v=i[1]},K.AdNs=function(){K.call(this,"AdNs"),this.mH=[new Ht([12,57],0,200," %"),new ei([12,58],[[12,59,1],[12,59,0]]),new Ft([12,60])],this.uZ()},K.AdNs.prototype=new K,K.DstS=function(){K.call(this,"DstS"),this.mH=[new Ht([12,56],1,200," px"),new Ht([4,13],1,255," px")],this.uZ()},K.DstS.prototype=new K,K["Mdn "]=function(){K.call(this,"Mdn "),this.mH=[new Ht([12,56],1,200," px")],this.uZ()},K["Mdn "].prototype=new K,K["Mdn "].prototype.sO=function(t,i){i[0]=t.Rds.v.val},K["Mdn "].prototype.d2=function(t,i){t.Rds.v.val=i[0]},K.ClrH=function(){K.call(this,"ClrH"),this.mH=[new Ht([12,56],4,100," px")];for(var t=1;t<4;t++)this.mH.push(new Ht("Angle "+t,0,90," \xB0"));this.uZ()},K.ClrH.prototype=new K,K.ClrH.prototype.sO=function(t,i){i[0]=t.Rds.v;for(var e=1;e<4;e++)i[e]=t["Ang"+e].v},K.ClrH.prototype.d2=function(t,i){t.Rds.v=i[0];for(var e=1;e<4;e++)t["Ang"+e].v=i[e]},K.ClrH.prototype.t=function(){var t=this.mH;t[0].t();for(var i=1;i<4;i++)t[i].kW(Lt.get([12,15])+" "+i)},K.Crst=function(){K.call(this,"Crst"),this.mH=[new Ht([12,61],3,100," px")],this.uZ()},K.Crst.prototype=new K,K.Crst.prototype.sO=function(t,i){i[0]=t.ClSz.v},K.Crst.prototype.d2=function(t,i){t.ClSz.v=i[0]},K.Mztn=function(){K.call(this,"Mztn"),this.mH.push(new ei([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3])),this.KU="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" "),this.uZ()},K.Mztn.prototype=new K,K.Mztn.prototype.sO=function(t,i){i[0]=this.KU.indexOf(t.MztT.v.MztT)},K.Mztn.prototype.d2=function(t,i){t.MztT.v.MztT=this.KU[i[0]]},K["Msc "]=function(){K.call(this,"Msc "),this.mH=[new Ht([12,61],2,200," px")],this.uZ()},K["Msc "].prototype=new K,K["Msc "].prototype.sO=function(t,i){i[0]=t.ClSz.v.val},K["Msc "].prototype.d2=function(t,i){t.ClSz.v.val=i[0]},K.Pntl=function(){K.call(this,"Pntl"),this.mH=[new Ht([12,61],3,100," px")],this.uZ()},K.Pntl.prototype=new K,K.Pntl.prototype.sO=function(t,i){i[0]=t.ClSz.v},K.Pntl.prototype.d2=function(t,i){t.ClSz.v=i[0]},K.smartSharpen=function(){K.call(this,"smartSharpen"),this.mH=[new Ht([12,57],1,200,"%"),new Ht([12,56],0,200,"px",1,!0)],this.uZ()},K.smartSharpen.prototype=new K,K.smartSharpen.prototype.sO=function(t,i){i[0]=t.Amnt.v.val,i[1]=t.Rds.v.val},K.smartSharpen.prototype.d2=function(t,i){t.Amnt.v.val=i[0],t.Rds.v.val=i[1]},K.UnsM=function(){K.call(this,"UnsM"),this.mH=[new Ht([12,57],1,200," %"),new Ht([12,56],0,200," px"),new Ht([4,13],0,255," ")],this.uZ()},K.UnsM.prototype=new K,K.HghP=function(){K.call(this,"HghP"),this.mH=[new Ht([12,56],.1,400,"px",1,!0)],this.uZ()},K.HghP.prototype=new K,K["Mxm "]=function(){K.call(this,"Mxm "),this.mH=[new Ht([12,56],1,200," px")],this.uZ()},K["Mxm "].prototype=new K,K["Mnm "]=function(){K.call(this,"Mnm "),this.mH=[new Ht([12,56],1,200," px")],this.uZ()},K["Mnm "].prototype=new K,K.Ofst=function(){K.call(this,"Ofst"),this.mH=[new Ht([22,4,0],-1024,1024," px"),new Ht([22,4,1],-1024,1024," px"),new ei([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])],this.uZ()},K.Ofst.prototype=new K,K.Rept=function(){K.call(this,"Rept"),this.mH=[new oe([12,38],1,300," %"),new oe("Row Shift",-50,50," %"),new oe("Space X",-99,200," %"),new oe("Space Y",-99,200," %"),new Ft([4,16,2]),new Sn([12,15])],this.uZ()},K.Rept.prototype=new K,K.Rept.prototype.sO=function(t,i){i[0]=t.Scl.v.val,i[1]=t.Rsft.v.val,i[2]=t.SpcX.v.val,i[3]=t.SpcY.v.val,i[4]=t.SpcC.v,i[5]=t.Angl.v},K.Rept.prototype.d2=function(t,i){return t.Scl.v.val=i[0],t.Rsft.v.val=i[1],t.SpcX.v.val=i[2],t.SpcY.v.val=i[3],t.SpcC.v=i[4],t.Angl.v=i[5].Fu,t},K.Ctoa=function(){K.call(this,"Ctoa"),this.mH=[new fe([13,0]),new Ve(!0),new Ht(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new Ht(["VAR0 VAR1",[12,0],[4,13]],0,100," %")],this.uZ()},K.Ctoa.prototype=new K,K.Ctoa.prototype.sO=function(t,i){i[0]=t.Clr.v,i[1]=t.Trsp.v.val,i[2]=t.Opct.v.val},K.Ctoa.prototype.d2=function(t,i){t.Clr.v=i[0],t.Trsp.v.val=i[1],t.Opct.v.val=i[2]},K.LqFy=function(){K.call(this,"LqFy"),this.oN=!1,this.AF=null,this.ac9=null,this.Q=0,this.lt={zm:[[{Q:{id:0,name:[24,1,0,1,0],CE:"liq/smudge"}}],[{Q:{id:1,name:[24,1,0,1,1],CE:"liq/reconstruct"}}],[{Q:{id:2,name:[24,1,0,1,2],CE:"liq/smooth"}}],[{Q:{id:3,name:[24,1,0,1,3],CE:"liq/twirl"}}],[{Q:{id:4,name:[24,1,0,1,4],CE:"liq/shrink"}}],[{Q:{id:5,name:[24,1,0,1,5],CE:"liq/blow"}}],[{Q:{id:6,name:[24,1,0,1,6],CE:"liq/pleft"}}]],keys:[]},this.I5=new nn(this.lt,!1),this.I5.BN(0),this.I5.$(y.E.L,this.a4H,this),this.FG=ye.Jl(),this.N2=null,this.wl=[],this.nS=-1,this.Yi=null,this.akA=null,this.Jt=null,this.mv=null,this._9=null;var t=y.z("div","flexrow");this.TP=t,this.u.appendChild(t),t.appendChild(this.I5.u),this.view=new ue(!0),this.view.l9(100,100),this.view.$("mousedown",this.Qf,this),this.view.$("mousemove",this.Ap,this),this.view.$("mouseup",this.sj,this),this.view.$("zoom",this.b9,this),t.appendChild(this.view.u);var i=y.z("div","form");t.appendChild(i),this.wn=i,i.style.width="230px",this.eh=[new Ht([12,14,0],0,1e3,null,!1,!0),new Ht([12,74],0,100,null,!1,!1),new Ht([12,84],0,100,null,!1,!1),new Ft([12,46]),new Ht([12,0],0,100,null,!1,!1)];var e=this.FG.Brsh.v;e.Dmtr.v.val=100;for(var r=[100,50,100,!1,100],n=0;n<this.eh.length;n++){var a=this.eh[n];a.k(r[n]),a.$(y.E.I,this.a67,this),i.appendChild(a.u)}var s=new Tt("Reset",!0,null,!0);s.$("click",this.$a,this),i.appendChild(s.u),this.H3=new At,this.H3.u=y.z("div","floatcont"),this.V9=new Tt("Menu",!1,null,!0),this.V9.$("click",this.a8f,this);var l=this.V9.u;l.setAttribute("style","position:absolute; right:13px; top:47px")},K.LqFy.prototype=new K,K.LqFy.prototype.xW=function(){return!0},K.LqFy.prototype.yQ=function(t){this.wn.appendChild(t)},K.LqFy.prototype.a8f=function(t){var i=this.V9.u.getBoundingClientRect();this.H3.u.appendChild(this.wn);var e=new z(y.E.L,!0);e.data={e:y.B.VX,Nc:this.H3,x:i.right+i.width-290,y:i.top+i.height},this.w(e)},K.LqFy.prototype.gU=function(t){this.oN=t.s(W.ze);var i=C.gn.gp(this.FG,t);if(i!=null)this.FG=i,this.b9(),this.eh[0].k(i.Brsh.v.Dmtr.v.val);else if(t.s(W.Bl)&&t.s(W.HW)){var e=this.wl;t.s(W.cm)?this.nS+1<e.length&&this.nS++:this.nS>0&&this.nS--,this.N2.map=e[this.nS].slice(0),this.qK(null)}else this.view.gU(t)},K.LqFy.prototype.a4H=function(t){t.data.e==y.B.MR&&(this.Q=t.data.Q,this.I5.BN(this.Q))},K.LqFy.prototype.a67=function(t){var i=t.currentTarget,e=this.eh.indexOf(i),r=this.FG.Brsh.v;e==0&&(r.Dmtr.v.val=i.q(),this.b9()),e>2&&this.qK(null)},K.LqFy.prototype.M3=function(){var t=this.wl;for(this.nS++,t[this.nS]=this.N2.map.slice(0);t.length>this.nS+1;)t.pop();for(;t.length>50;)t=t.slice(1),this.nS--},K.LqFy.prototype.Qf=function(t){this.MP(),this.AF=this.view.fJ(),this.ac9=new st(0,0),this.$(y.E.El,this.Uk,this)},K.LqFy.prototype.Ap=function(t){var i=this.view.fJ(),e=new st(i.x-this.AF.x,i.y-this.AF.y);(this.Q==0||this.Q==6)&&this.Ru(e),this.AF=i},K.LqFy.prototype.sj=function(t){this.M3(),this.MP()},K.LqFy.prototype.MP=function(){this.IP(y.E.El,this.Uk)&&this.removeEventListener(y.E.El,this.Uk,this)},K.LqFy.prototype.Uk=function(t){this.Q!=0&&this.Q!=6&&this.Ru(new st(0,0))},K.LqFy.prototype.Ru=function(t){for(var i=this.N2,e=i.YY/this.Yi.Z,r=this.AF,n=this.FG.Brsh.v,a=n.Dmtr.v.val,s=Date.now(),l=i.YY,h=i.mi,o=Math.sqrt(t.x*t.x+t.y*t.y),f=Math.max(1,Math.ceil(o/2)),u=t.x/f,p=t.y/f,c=r.clone(),d=this.Q,g=this.eh[1].q()/100,b=this.eh[2].q()/100,m=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],x=m[d*2],M=m[d*2+1],S=(1-g)*x+g*M,w=a*e/2,k=0;k<f;k++){var T=[];c.x+=u,c.y+=p,v.SX.a3M(i.map,l,h,d,c.x*e,c.y*e,w,g,b,u*e,p*e,T,this.oN),v.SX.a4l(l,h,i.map,T,2*S*b)}var L=new et(0,0,l,h),O=new et(r.x*e,r.y*e,0,0);O.PK(a*e*.5,a*e*.5);var E=O.clone();E.offset(t.x*e,t.y*e),O=O.s7(E);var D=new et(O.x/e,O.y/e,O.Z/e,O.h/e);D=v.D.pd(D).$X(this.Yi),this.qK(D)},K.LqFy.prototype.b9=function(){var t=Qt.b_(this.FG,null,this.view.kC().F);this.view._e(t)},K.LqFy.prototype.k=function(t,i,e,r,n){if(e=e.clone(),i!=null){if(!r.Qn(e)){var a=e.s7(r),s=v.R(a.M()*4);v.BP(i,e,s,a),i=s,e=a}e.x=e.y=0,this.Jt=i,this.akA=n,this._9=i.slice(0),this.mv=i.slice(0),this.Yi=e,this.N2=Ks.ee(new Uint8Array(t.LqMe.v).buffer);var l=e.Z,h=e.h;this.N2.YY/l<.22&&(this.N2={YY:Math.floor(l/4),mi:Math.floor(h/4)},this.N2.map=new Float32Array(this.N2.YY*this.N2.mi*2)),this.wl=[],this.nS=-1,this.M3(),this.qK(null),this.b9()}},K.LqFy.prototype.q=function(){this.MP();for(var t=Zt.tt("LqFy"),i=new Uint8Array(Ks.HC(this.N2)),e=[],r=0;r<i.length;r++)e.push(i[r]);return t.LqMe.v=e,t},K.LqFy.prototype.l9=function(t,i){this.I5.l9(t,i);var e=this.V9.u,r=this.wn;this.TP.appendChild(r),this.TP.appendChild(e),t>450?(r.style.marginLeft="1em",this.TP.removeChild(e),this.view.l9(t-238-45,i)):(r.style.marginLeft="",this.TP.removeChild(r),this.view.l9(t-40,i))},K.LqFy.prototype.t=function(){this.I5.t();for(var t=0;t<this.eh.length;t++)this.eh[t].t()},K.LqFy.prototype.$a=function(){this.MP(),this.N2.map.fill(0),this.M3(),this.qK(null)},K.LqFy.prototype.qK=function(t){var i=this.Yi,e=this.Jt,r=this._9,n=this.N2;v.SX.ka(e,this.mv,i.Z,i.h,t,n.map,n.YY,n.mi,0),this.eh[3].UX()?(v.BP(this.akA,i,r,i,t||i),v.N.DO("norm",this.mv,i,r,i,t||i,this.eh[4].q()/100)):v.Hk(this.mv,r),this.view.k([{ym:i,data:r.buffer}])},K.GEfc=function(){K.call(this,"GEfc"),this._f=0,this.Hm=0,this.Jt=null,this._9=null,this.Yi=null,this.yH=null,this.j$=null,this.Rd=0;var t=y.z("div","flexrow");this.TP=t,this.u.appendChild(t),this.view=new ue,this.view.l9(100,100),t.appendChild(this.view.u);var i=y.z("div","form");t.appendChild(i),i.style.width="230px",i.style.marginLeft="1em",this.Gx=[];var e=[];this.Re={};for(var r in $i.names){this.Gx.push(r),e.push($i.names[r]);var n=new K.GEfc.c6(r);this.Re[r]=n,n.$(y.E.I,this.yW,this)}this.em=y.z("div"),i.appendChild(this.em),this.em.style.marginBottom="1.5em",this.Zn=new ei(null,e),i.appendChild(this.Zn.u),this.Zn.$(y.E.I,this.yW,this),this.b7=y.z("div"),this.b7.style.height="14em",i.appendChild(this.b7),y.Rf(i),this.Ad=y.z("div","lpbody scrollable"),this.D0=y.z("div","lpfoot"),i.appendChild(this.Ad),i.appendChild(this.D0),this.$("click",this.a5U,this),this.qo=[],Ze.AM([[5,3],[5,4]],this.qo,this.D0,this.pM.bind(this))},K.GEfc.prototype=new K,K.GEfc.prototype.xW=function(){return!0},K.GEfc.prototype.yQ=function(t){this.em.appendChild(t)},K.GEfc.prototype.AK=function(t,i){this.yH=t},K.GEfc.prototype.l9=function(t,i){this._f=t,this.Hm=i,this.view.l9(t-240,i),this.Ad.style.height=i-this.b7.getBoundingClientRect().height-140+"px"},K.GEfc.prototype.pM=function(t){var i=Ze.EQ(this.qo,t),e=this.j$.GEfs.v,r=e[this.Rd].v;i==0?(e.push(JSON.parse(JSON.stringify(e[this.Rd]))),this.Rd=e.length-1):(e.splice(this.Rd,1),this.Rd==e.length&&this.Rd--),this.hF(),this.qK()},K.GEfc.prototype.yW=function(t){var i=this.Gx[this.Zn.q()],e;t.target==this.Zn?e=$i.tt(i):e=this.Re[i].q(),this.j$.GEfs.v[this.Rd].v=e,this.hF(),this.qK()},K.GEfc.prototype.k=function(t,i,e,r,n){console.log(t),t=this.j$=JSON.parse(JSON.stringify(t)),t.GEfs==null&&(t=this.j$={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:t}]}});for(var a=t.GEfs.v,s=0;s<a.length;s++)a[s].v.GELv==null&&(a[s].v.GELv={t:"bool",v:!0});if(this.Rd=a.length-1,this.hF(),e=e.clone(),i!=null){if(!r.Qn(e)){var l=e.s7(r),h=v.R(l.M()*4);v.BP(i,e,h,l),i=h,e=l}e.x=e.y=0,this.Jt=i,this._9=i.slice(0),this.Yi=e,this.qK()}},K.GEfc.prototype.a5U=function(t){var i=t.data,e=i.XN,r=this.j$.GEfs.v;i.xB?(r[e].v.GELv.v=!r[e].v.GELv.v,this.qK()):this.Rd=e,this.hF()},K.GEfc.prototype.hF=function(){var t=this.j$.GEfs.v,i=t[this.Rd].v,e=i.GEfk.v.GEft,r=this.Gx.indexOf(e),n=this.b7;if(r==-1)alert("Unsupported gallery filter"),this.Zn.U3(),y.TD(n);else{this.Zn.k(r),this.Zn.R8();var a=this.Re[e];a.k(i),n.firstChild!=a.u&&(y.TD(n),n.appendChild(a.u))}for(var s=[],l=0;l<t.length;l++){var h=t[l].v,o=$i.names[h.GEfk.v.GEft],f=new An(l,!0,!1,null,o||"Filter",l==this.Rd,h.GELv.v);f.parent=this,s.push(f.u)}y.TD(this.Ad),s.reverse();for(var l=0;l<s.length;l++)this.Ad.appendChild(s[l]);this.l9(this._f,this.Hm)},K.GEfc.prototype.q=function(){return JSON.parse(JSON.stringify(this.j$))},K.GEfc.prototype.qK=function(t){var i=this.Yi,e=this.Jt,r=this._9,n=this.Gx[this.Zn.q()],a=this.j$,s=this.yH;function l(h){return{U:h>>>16,S:h>>>8&255,i:h&255}}Zt.t5("GEfc",{rect:this.Yi,buffer:this.Jt},a,l(s.GY),l(s.Ty),{rect:this.Yi,buffer:this._9},null),this.view.k([{ym:i,data:r.buffer}])},K.GEfc.prototype.t=function(){for(var t in this.Re)this.Re[t].t();Ze.If(this.qo,["lrs/newlayer","lrs/bin"])},K.GEfc.c6=function(t){At.call(this),this.bl=t,this.u=y.z("div"),this.pE={};var i=$i.tt(t);for(var e in i){var r;e=="__name"||e=="classID"||e=="GEfk"||e=="GELv"||["LghI","FlRs"].indexOf(e)!=-1||(e=="Sz"?r=new Ht([12,14,0],1,50):e=="Dtl"?r=new Ht("Detail",1,15):e=="Shrp"?r=new Ht("Sharpness",0,40):e=="BrsT"?r=new ei("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(",")):e=="LghD"?r=new ei("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(",")):e=="SDir"?r=new ei([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]):e=="EdgW"?r=new Ht("Edge Width",1,14):e=="EdgB"?r=new Ht("Edge Brightness",0,20):e=="Smth"?r=new Ht([19,3,3],1,15):e=="ClSz"?r=new Ht([12,61],3,100):e=="BrdT"?r=new Ht([7,9],1,20):e=="HghS"?r=new Ht([12,64],0,20):e=="HlSz"?r=new Ht([12,14,0],1,15):e=="Cntr"?r=new Ht([12,3,0],0,50):e=="ScrT"?r=new ei([12,62],["Circle","Dot",[10,35]]):e=="SprR"?r=new Ht("Spray Radius",0,25):e=="StrL"?r=new Ht("Stroke Length",0,20):console.log(e),r.$(y.E.I,this.H6,this),this.pE[e]=r,this.u.appendChild(r.u))}},K.GEfc.c6.prototype=new At,K.GEfc.c6.prototype.H6=function(t){this.w(new z(y.E.I,!1))},K.GEfc.c6.prototype.k=function(t){for(var i in this.pE){var e;"Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(i)!=-1?e=t[i].v:i=="BrsT"?e=$i.y7.indexOf(t[i].v[i]):i=="LghD"?e=$i.Ok.indexOf(t[i].v[i]):i=="ScrT"?e=$i.ya.indexOf(t[i].v[i]):i=="SDir"&&(e=$i.ts.indexOf(t[i].v.StrD)),this.pE[i].k(e)}},K.GEfc.c6.prototype.q=function(){var t=$i.tt(this.bl);for(var i in this.pE){var e=this.pE[i].q();"Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(i)!=-1?t[i].v=e:i=="BrsT"?t[i].v[i]=$i.y7[e]:i=="LghD"?t[i].v[i]=$i.Ok[e]:i=="ScrT"?t[i].v[i]=$i.ya[e]:i=="SDir"&&(t[i].v.StrD=$i.ts[e])}return t},K.GEfc.c6.prototype.t=function(){for(var t in this.pE)this.pE[t].t()},K.blnc=function(){K.call(this);var t=this.u;this.T3=null,this.h1=new ei([12,12],[[19,6,0],[19,6,1],[19,6,2]]),this.h1.$(y.E.I,this.qK,this),t.appendChild(this.h1.u),this.qh=[];for(var i=0;i<3;i++){var e=new Ht(Vt.Nx[i],-100,100);e.$(y.E.I,this.d5,this),this.qh.push(e),t.appendChild(e.u)}this.aV=new Ft([13,4]),this.aV.$(y.E.I,this.d5,this),t.appendChild(this.aV.u)},K.blnc.prototype=new K,K.blnc.prototype.t=function(){this.h1.t();for(var t=0;t<3;t++)this.qh[t].t();this.aV.t()},K.blnc.prototype.k=function(t){this.T3=JSON.parse(JSON.stringify(t)),this.qK()},K.blnc.prototype.q=function(t){for(var i=["ShdL","MdtL","HghL"],e=this.T3[i[this.h1.q()]].v,r=0;r<3;r++)e[r].v=this.qh[r].q();return this.T3.PrsL.v=this.aV.q(),JSON.parse(JSON.stringify(this.T3))},K.blnc.prototype.qK=function(t){for(var i=["ShdL","MdtL","HghL"],e=this.T3[i[this.h1.q()]].v,r=0;r<3;r++)this.qh[r].k(e[r].v);this.aV.k(this.T3.PrsL.v)},K.brit=function(){K.call(this,"brit"),this.mH.push(new Ht([12,2],-150,150,"")),this.mH.push(new Ht([12,3,0],-100,100,"")),this.mH.push(new Ft([12,3,1])),this.uZ()},K.brit.prototype=new K,K.brit.prototype.sO=function(t,i){i[0]=t.Brgh?t.Brgh.v:0,i[1]=t.Cntr?t.Cntr.v:0,i[2]=t.useLegacy?t.useLegacy.v:!1},K.brit.prototype.d2=function(t,i){t.Brgh.v=i[0],t.Cntr.v=i[1],t.useLegacy.v=i[2]},K.curv=function(){K.call(this),this.value=null,this.pC=null;var t=this.u;this.P8=new ei([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]),this.P8.$(y.E.I,this.U5,this),t.appendChild(this.P8.u),this.zv=new ei(null,["Spline","Sketch"]),this.zv.$(y.E.I,this.a7M,this),t.appendChild(this.zv.u),this.wK=new Rn,this.wK.$(y.E.I,this.Pm,this),t.appendChild(this.wK.u),this.eI=new Ss("Sample from image",["#000000","#888888","#ffffff"]),t.appendChild(this.eI.u)},K.curv.prototype=new K,K.curv.prototype.t=function(){this.P8.t()},K.curv.prototype.a7M=function(t){var i=Ce.Yl(this.value,0),e=i.length==256?1:0,r=this.zv.q();if(e!=r){var n=Zt.tt("curv");if(r==1){for(var a=[],s=0;s<256;s++)a.push(s);Ce._j(n,0,a)}this.k(n),this.d5()}},K.curv.prototype.Pm=function(){Ce._j(this.value,this.P8.q(),this.wK.q()),this.d5()},K.curv.prototype.U5=function(){var t=this.P8.q(),i=Ce.Yl(this.value,t),e=i.length==256?1:0;this.zv.k(e),this.pC&&this.wK.iM(this.pC[t],this.pC[4]*[1,.33,.33,.33][t],["#ccc","#fcc","#cfc","#ccf"][t]),this.wK.k(i)},K.curv.prototype.t9=function(){return!0},K.curv.prototype.NL=function(t,i,e,r,n){var a=this.value,s=this.eI.q();this.value=Zt.tt("curv"),this.d5();for(var l=C.yY.Js(t,n,1),h=[l>>>16&255,l>>>8&255,l&255],o=0;o<3;o++){var f=Ce.Yl(a,1+o);if(s==0&&(f[0].v.Hrzn.v=h[o]),s==1){var u=(h[0]+h[1]+h[2])*.333,p=Math.log(h[o]/255)/Math.log(u/255),c=Math.min(999,Math.max(10,Math.round(100*p)));f.length==2&&f.splice(1,0,JSON.parse(JSON.stringify(f[0]))),f[1].v.Hrzn.v=127-Math.log(c/100)*127,f[1].v.Vrtc.v=127}s==2&&(f[f.length-1].v.Hrzn.v=h[o]),Ce._j(a,1+o,f)}this.k(a),this.d5()},K.curv.prototype.k=function(t){this.value=t,this.U5()},K.curv.prototype.iM=function(t){this.pC=t,this.U5()},K.curv.prototype.q=function(t){return JSON.parse(JSON.stringify(this.value))},K.expA=function(){K.call(this,"expA"),this.mH.push(new Ht([12,5],-20,20,null,3)),this.mH.push(new Ht([12,6],-.5,.5,null,3)),this.mH.push(new Ht([12,7],.01,6.99,null,3)),this.uZ()},K.expA.prototype=new K,K.expA.prototype.sO=function(t,i){i[0]=t.Exps.v,i[1]=t.Ofst.v,i[2]=t.gammaCorrection.v},K.expA.prototype.d2=function(t,i){t.Exps.v=i[0],t.Ofst.v=i[1],t.gammaCorrection.v=i[2]},K.grdm=function(){K.call(this,"grdm"),this.mH.push(new jn(!0,null,!0)),this.mH.push(new Ft([12,23,0])),this.uZ()},K.grdm.prototype=new K,K.grdm.prototype.sO=function(t,i){i[0]=t.Grad.v,i[1]=t.Rvrs?t.Rvrs.v:!1},K.grdm.prototype.d2=function(t,i){t.Grad.v=i[0],t.Rvrs={t:"bool",v:i[1]}},K.grdm.prototype.AK=function(t,i){this.mH[0].dn(t.GY,t.Ty),(i==ut.oc||i==ut.Io||i==ut.uw)&&this.mH[0]._F(t.dY)},K.selc=function(){K.call(this);var t=this.u;this.$l=[],this.gX=null,this.h1=new ei([12,82],Vt.OD.concat([[13,1,8],[13,1,13],[13,1,10]])),this.h1.$(y.E.I,this.H6,this),t.appendChild(this.h1.u);for(var i=0;i<4;i++){var e=new Ht(Vt.a1j[i],-100,100,"%");e.$(y.E.I,this.H6,this),this.$l.push(e),t.appendChild(e.u)}this.Bg=new Ft([13,3]),t.appendChild(this.Bg.u),this.Bg.$(y.E.I,this.H6,this)},K.selc.prototype=new K,K.selc.prototype.t=function(){this.h1.t(),this.Bg.t();for(var t=0;t<4;t++)this.$l[t].t()},K.selc.prototype.k=function(t){this.gX=JSON.parse(JSON.stringify(t)),this.qK()},K.selc.prototype.q=function(t){return JSON.parse(JSON.stringify(this.gX))},K.selc.prototype.H6=function(t){if(t.target!=this.h1){for(var i=this.gX,e=[],r=0;r<4;r++)e[r]=this.$l[r].q();Nr._j(i,this.h1.q(),e),i.Mthd={t:"enum",v:{CrcM:this.Bg.q()?"Absl":"Rltv"}}}this.qK(),this.d5()},K.selc.prototype.qK=function(){for(var t=this.gX,i=Nr.Yl(t,this.h1.q()),e=0;e<4;e++)this.$l[e].k(i[e]);this.Bg.k(t.Mthd?t.Mthd.v.CrcM=="Absl":!1)},K.blwh=function(){K.call(this,"blwh"),this.mH.push(new Ft([12,11])),this.mH.push(new Ve(!0));for(var t=0;t<6;t++)this.mH.push(new Ht(Vt.OD[t],-200,300));this.uZ()},K.blwh.prototype=new K,K.blwh.prototype.sO=function(t,i){i[0]=t.useTint.v,i[1]=t.tintColor.v;for(var e="Rd Yllw Grn Cyn Bl Mgnt".split(" "),r=0;r<6;r++)i[2+r]=t[e[r]].v},K.blwh.prototype.d2=function(t,i){t.useTint.v=i[0],t.tintColor.v=i[1];for(var e="Rd Yllw Grn Cyn Bl Mgnt".split(" "),r=0;r<6;r++)t[e[r]].v=i[2+r]},K.hue2=function(){K.call(this),this.value=null,this.Dw=null,this.aca=null;var t=this.u;this.h1=new ei([12,12],["Master"].concat(Vt.OD)),this.h1.$(y.E.I,this.U5,this),t.appendChild(this.h1.u),this._I=new Ht([12,8],-180,180),this._I.$(y.E.I,this._c,this),t.appendChild(this._I.u),this.TU=new Ht([12,9],-100,100),this.TU.$(y.E.I,this._c,this),t.appendChild(this.TU.u),this.Dr=new Ht([12,10],-100,100),this.Dr.$(y.E.I,this._c,this),t.appendChild(this.Dr.u),this.iD=new Ft([12,11]),this.iD.$(y.E.I,this.ala,this),t.appendChild(this.iD.u),this.amm=new fe("...",!0),t.appendChild(this.amm.u)},K.hue2.prototype=new K,K.hue2.prototype.t=function(){this._I.t(),this.TU.t(),this.Dr.t(),this.iD.t(),this.h1.t()},K.hue2.prototype.ala=function(t){var i=this.iD.q();this.value.Clrz.v=i,i&&this.h1.k(0),this.U5(),this.d5()},K.hue2.prototype._c=function(t){var i=this.value.Clrz.v,e=this.h1.q(),r=rr.Yl(this.value,e),n=e==0?r:r.qh;n[0]=this._I.q();var a=this.TU.q();n[1]=i?Math.max(0,a):a,n[2]=this.Dr.q(),rr._j(this.value,e,r),this.U5(),this.d5()},K.hue2.prototype.U5=function(){var t=this.value.Clrz?this.value.Clrz.v:!1,i="";this.iD.k(t),t?this.h1.U3():this.h1.R8();var e=this.h1.q(),r=rr.Yl(this.value,e),n=e==0?r:r.qh;if(this._I.k(n[0]),this.TU.k(n[1]),this.Dr.k(n[2]),!t){i+=Lt.get([5,8])+": ";var e=this.h1.q();e==0?i+=Lt.get([13,2]):i+=r.Ej}this.amm.k(i)},K.hue2.prototype.t9=function(){return!0},K.hue2.prototype.R$=function(t,i,e,r,n){var a=this.value;this.value=Zt.tt("hue2"),this.d5();var s=C.yY.Js(t,n,1),l=[s>>>16&255,s>>>8&255,s&255],h=v.eE(l[0]/255,l[1]/255,l[2]/255);this.h1.k(1+Math.round(h.mi*6)%6),this.k(a),this.d5(),this.Dw=n.x,this.aca=this.TU.q()},K.hue2.prototype.$E=function(t,i,e,r,n){if(this.Dw!=null){var a=n.x-this.Dw;a=Math.max(-100,Math.min(100,this.aca+.5*a)),this.TU.k(a),this._c()}},K.hue2.prototype.NL=function(t,i,e,r,n){this.Dw=null},K.hue2.prototype.k=function(t){this.value=JSON.parse(JSON.stringify(t)),this.U5()},K.hue2.prototype.q=function(t){return JSON.parse(JSON.stringify(this.value))},K.levl=function(){K.call(this),this.value=null,this.pC=null,this.BV=[new st(0,0),new st(0,0),new st(0,0),new st(0,0),new st(0,0)],this.Wq=-1,this.ab=this.tz.bind(this),this.Ja=this.JB.bind(this);var t=this.u;this.P8=new ei([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]),this.P8.$(y.E.I,this.U5,this),t.appendChild(this.P8.u);var i=y.z("div","");t.appendChild(i);var e=y.z("div","");t.appendChild(e),this.in=y.z("canvas"),i.appendChild(this.in),this.YV=this.in.getContext("2d"),this.Hw=new st(256,120),this.in.setAttribute("style","display:block"),y.Tv(this.in,this.Hw.x,this.Hw.y,this.YV),y.w4(this.in),y.X8(this.in,this.Fx.bind(this)),this.TK=y.z("canvas",""),e.appendChild(this.TK),this.dI=this.TK.getContext("2d"),this.fD=new st(this.Hw.x,40),this.TK.setAttribute("style","display:block"),y.Tv(this.TK,this.fD.x,this.fD.y,this.dI),y.w4(this.TK),y.X8(this.TK,this.alZ.bind(this));for(var r=this.adm=[],n=0;n<5;n++){var a=new se(null,null,3);r.push(a),a.$(y.E.I,this.aap,this),(n<2||n==4?i:e).appendChild(a.u)}i.appendChild(r[1].u),r[4].u.setAttribute("style","margin: 0 4.7em"),r[3].u.setAttribute("style","margin:0 0 0 13em"),this.eI=new Ss("Sample from image",["#000000","#888888","#ffffff"]),t.appendChild(this.eI.u)},K.levl.prototype=new K,K.levl.prototype.t=function(){this.P8.t()},K.levl.prototype.aap=function(t){for(var i=[],e=0;e<5;e++){var r=255,n=1;e==4&&(r=999,n=100);var a=parseFloat(this.adm[e].q());i[e]=Math.max(0,Math.min(r,a*n))}Ke._j(this.value,this.P8.q(),i),this.U5(),this.d5()},K.levl.prototype.U5=function(t){var i=this.Hw.x,e=this.Hw.y,r=this.P8.q(),n=this.YV;if(n.clearRect(0,0,i,e),n.fillStyle="#cccccc",n.fillRect(8,8,i-16,e-16-8),this.pC){if(r==0){v.set(this.pC[0],0);var a=JSON.parse(JSON.stringify(this.value));Ke._j(a,0,[0,255,0,255,100]);for(var s=Vt.VM("levl",a),l=[s.KW,s.mf,s.Si],h=0;h<3;h++)for(var o=this.pC[1+h],f=l[h],u=0;u<256;u++)this.pC[0][f[u]]+=o[u]}for(var p=this.pC[r],c=0,u=0;u<p.length;u++)c+=p[u];n.fillStyle="#333333",n.beginPath(),n.moveTo(8,e-16);for(var u=0;u<256;u++){var d=55*p[u]/c;n.lineTo(8+u/256*(i-16),Math.max(8,e-16-e*d))}n.lineTo(i-8,e-16),n.closePath(),n.fill()}for(var g=Ke.Yl(this.value,r),u=0;u<5;u++)this.adm[u].k(g[u]/(u==4?100:1));this.BV[0].Oh(8+g[0]/255*(i-16),e-14),this.BV[1].Oh(8+g[1]/255*(i-16),e-14);var b=Math.log(g[4]/100)/Math.log(9.99);b=.5-b/2,this.BV[4].Oh(this.BV[0].x+b*(this.BV[1].x-this.BV[0].x),e-14),this.KP(n,this.BV[0],"#000000"),this.KP(n,this.BV[1],"#ffffff"),this.KP(n,this.BV[4],"#777777");var i=this.fD.x,e=this.fD.y;n=this.dI,n.clearRect(0,0,i,e);var m=n.createLinearGradient(0,0,i-16,0);m.addColorStop(0,"black"),m.addColorStop(1,"white"),n.fillStyle=m,n.fillRect(8,8,i-16,16),this.BV[2].Oh(8+g[2]/255*(i-16),e-14),this.BV[3].Oh(8+g[3]/255*(i-16),e-14),this.KP(n,this.BV[2],"#000000"),this.KP(n,this.BV[3],"#ffffff")},K.levl.prototype.KP=function(t,i,e){t.fillStyle=e,t.fillRect(i.x-5,i.y,10,10)},K.levl.prototype.Fx=function(t){for(var i=y.oA(t,this.in),e=0;e<2;e++)st.Yj(this.BV[e],i)<10&&(this.Wq=e);st.Yj(this.BV[4],i)<10&&(this.Wq=4),this.Zl()},K.levl.prototype.alZ=function(t){for(var i=y.oA(t,this.TK),e=2;e<4;e++)st.Yj(this.BV[e],i)<10&&(this.Wq=e);this.Zl()},K.levl.prototype.Zl=function(t){this.Wq!=-1&&(y.Jr(document.body,this.ab),y.so(document.body,this.Ja))},K.levl.prototype.tz=function(t){var i=Ke.Yl(this.value,this.P8.q()),e=y.oA(t,this.Wq==2&&this.Wq==3?this.TK:this.in),r=255*(e.x-8)/(this.Hw.x-16);if(r=Math.max(0,Math.min(255,r)),this.Wq==0&&(r=Math.min(r,i[1]-2)),this.Wq==1&&(r=Math.max(r,i[0]+2)),this.Wq!=4)i[this.Wq]=Math.round(r);else{var n=(r-i[0])/(i[1]-i[0]);n=1-2*n,n=Math.pow(9.99,n),i[4]=Math.min(999,Math.max(10,Math.round(n*100)))}Ke._j(this.value,this.P8.q(),i),this.U5(),this.d5()},K.levl.prototype.JB=function(t){y.NG(document.body,this.ab),y.Sz(document.body,this.Ja),this.Wq=-1},K.levl.prototype.t9=function(){return!0},K.levl.prototype.NL=function(t,i,e,r,n){var a=this.value,s=this.eI.q();this.value=Zt.tt("levl"),this.d5();for(var l=C.yY.Js(t,n,1),h=[l>>>16&255,l>>>8&255,l&255],o=0;o<3;o++){var f=Ke.Yl(a,1+o);if(s==0&&(f[0]=h[o]),s==1){var u=Math.log(h[o]/255)/Math.log((h[0]+h[1]+h[2])*.333/255);f[4]=Math.min(999,Math.max(10,Math.round(100*u)))}s==2&&(f[1]=h[o]),Ke._j(a,1+o,f)}this.k(a),this.d5()},K.levl.prototype.k=function(t){this.value=t,this.U5()},K.levl.prototype.iM=function(t){this.pC=t,this.U5()},K.levl.prototype.q=function(t){return JSON.parse(JSON.stringify(this.value))},K.phfl=function(){K.call(this,"phfl"),this.mH.push(new Ve),this.mH.push(new Ht([12,74],0,100,"%")),this.mH.push(new Ft([13,4])),this.uZ()},K.phfl.prototype=new K,K.phfl.prototype.sO=function(t,i){i[0]=t.Clr.v,i[1]=t.Dnst.v,i[2]=t.PrsL.v},K.phfl.prototype.d2=function(t,i){var e=v.j.T6(i[0]),r=t.Clr.v,n=v.tm(e.U,e.S,e.i);r.Lmnc.v=n.Ov,r.A.v=n.m,r.B.v=n.i,t.Dnst.v=i[1],t.PrsL.v=i[2]},K.vibA=function(){K.call(this,"vibA"),this.mH.push(new Ht([12,13],-100,100,null)),this.mH.push(new Ht([12,9],-100,100,null)),this.uZ()},K.vibA.prototype=new K,K.vibA.prototype.sO=function(t,i){i[0]=t.vibrance?t.vibrance.v:0,i[1]=t.Strt?t.Strt.v:0},K.vibA.prototype.d2=function(t,i){t.vibrance.v=i[0],t.Strt.v=i[1]},K.thrs=function(){K.call(this,"thrs"),this.mH.push(new Ht([4,13],1,255,null)),this.uZ()},K.thrs.prototype=new K,K.thrs.prototype.sO=function(t,i){i[0]=t.Lvl.v},K.thrs.prototype.d2=function(t,i){t.Lvl.v=i[0]},K.mixr=function(){K.call(this);var t=this.u;this.$l=[],this.gX=null,this.h1=new ei([12,4],[[13,1,1],[13,1,4],[13,1,5]]),this.h1.$(y.E.I,this.H6,this),t.appendChild(this.h1.u),y.Rf(t),this._W=new Ft([12,60]),t.appendChild(this._W.u),this._W.$(y.E.I,this.H6,this);for(var i=0;i<4;i++){var e=new Ht([[13,1,1],[13,1,4],[13,1,5],[13,2]][i],-200,200,"%");e.$(y.E.I,this.H6,this),this.$l.push(e),t.appendChild(e.u)}},K.mixr.prototype=new K,K.mixr.prototype.t=function(){this.h1.t(),this._W.t();for(var t=0;t<4;t++)this.$l[t].t()},K.mixr.prototype.k=function(t){this.gX=JSON.parse(JSON.stringify(t)),this.qK()},K.mixr.prototype.q=function(t){return JSON.parse(JSON.stringify(this.gX))},K.mixr.prototype.H6=function(t){if(t.target!=this.h1){var i=Vt.FX(this.gX);if(t.target==this._W)i._W=this._W.q(),i._W?i.C=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]:i.C=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0];else{var e=(i._W?0:this.h1.q())*5,r=this.$l.indexOf(t.target);i.C[e+(r<3?r:4)]=t.target.q()}this.gX=Vt.Dn(i)}this.qK(),this.d5()},K.mixr.prototype.qK=function(){var t=Vt.FX(this.gX);this._W.k(t._W);for(var i=(t._W?0:this.h1.q())*5,e=0;e<4;e++)this.$l[e].k(t.C[i+(e<3?e:4)])},K.post=function(){K.call(this,"post"),this.mH.push(new Ht([4,1],2,255,null)),this.uZ()},K.post.prototype=new K,K.post.prototype.sO=function(t,i){i[0]=t.Lvls.v},K.post.prototype.d2=function(t,i){t.Lvls.v=i[0]},K.clrL=function(){K.call(this,"clrL"),this.mH.push(new Pn("LUTs")),this.uZ()},K.clrL.prototype=new K,K.clrL.prototype.sO=function(t,i){i[0]=t},K.clrL.prototype.d2=function(t,i){var e=i[0];for(var r in e)t[r]=e[r]},K.clrL.prototype.AK=function(t,i){(i==ut.oc||i==ut.rn)&&this.mH[0]._F(t.abU)},K.rplc=function(){K.call(this,"rplc"),this.mH.push(new Ht([12,92],0,200)),this.mH.push(new Ve),this.mH.push(new Ht([12,8],-180,180)),this.mH.push(new Ht([12,9],-100,100)),this.mH.push(new Ht([12,10],-100,100)),this.uZ()},K.rplc.prototype=new K,K.rplc.prototype.sO=function(t,i){i[0]=t.Fzns.v,i[1]=t.Mxm.v,i[2]=t.H.v,i[3]=t.Strt.v,i[4]=t.Lght.v},K.rplc.prototype.d2=function(t,i){function e(a,s){s.Lmnc.v=a.Ov,s.A.v=a.m,s.B.v=a.i}t.Fzns.v=i[0],t.H.v=i[2],t.Strt.v=i[3],t.Lght.v=i[4];var r=v.j.T6(i[1]),n=v.tm(r.U,r.S,r.i);e(n,t.Mnm.v),e(n,t.Mxm.v)},K.fade=function(){K.call(this,"fade"),this.mH.push(new Ht([12,0],0,100,"%")),this.mH.push(new ei([12,19,0],ti.Zn,!1,ti.wp)),this.uZ()},K.fade.prototype=new K,K.fade.prototype.sO=function(t,i){i[0]=t.Opct.v.val,i[1]=ti.zn.indexOf(t.Md.v.BlnM)},K.fade.prototype.d2=function(t,i){t.Opct.v.val=i[0],t.Md.v.BlnM=ti.zn[i[1]]};function jt(t,i){At.call(this),t!=null&&(this.id=i,this.CA=t,this._3=null,this.u=y.z("div","window "+i),this.aco=null,this.n4=y.z("div","whead"),this.a7b=y.z("span","wname"),this.n4.appendChild(this.a7b),this.u.appendChild(this.n4),this.TY=this.aft.bind(this),this.m4=this.aie.bind(this),this.xL=this.a4_.bind(this),y.w4(this.n4),y.X8(this.n4,this.TY),this.sS=y.z("span","cross"),this.n4.appendChild(this.sS),jt.prototype.t.call(this),y.so(this.sS,this.b3.bind(this)),this.body=y.z("div","body"),this.u.appendChild(this.body))}jt.prototype=new At,jt.prototype.go=function(){return!1},jt.prototype.t9=function(){return!1},jt.prototype.t=function(){if(this.CA!=null){this.a7b.textContent=Lt.get(this.CA);var t=PIMG.__cross==null?"filter:invert(1);":"";this.sS.setAttribute("style","background-image:url("+PIMG.cross+");"+t)}},jt.prototype.R$=function(t,i,e,r,n){},jt.prototype.xg=function(t,i,e,r,n){},jt.prototype.$E=function(t,i,e,r,n){},jt.prototype.NL=function(t,i,e,r,n){},jt.prototype.FT=function(t,i,e,r,n){},jt.prototype.gU=function(t,i,e,r){r.s(W.Xr)&&this.ja&&this.ja()},jt.prototype.aU=function(t){return!1},jt.prototype.K9=function(t,i){return!0},jt.prototype.Vp=function(t,i,e,r){},jt.prototype.AK=function(t,i){},jt.prototype.eL=function(t,i){return null},jt.prototype.a76=function(t){return this.aco},jt.prototype.l9=function(){},jt.prototype.close=function(){this.w(new z(y.E.Ga))},jt.prototype.aft=function(t){this._3=y.oA(t,this.u),y.Jr(window,this.m4),y.so(window,this.xL)},jt.prototype.aie=function(t){var i=this.u.parentNode,e=y.oA(t,i),r=Math.round(e.x-this._3.x),n=i.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(e.y-this._3.y)));this.aco=new st(r,n),this.u.style.left=r+"px",this.u.style.top=n+"px"},jt.prototype.a4_=function(t){y.NG(window,this.m4),y.Sz(window,this.xL)},jt.prototype.b3=function(t){this.w(new z("closebtn")),this.close()};function ve(){jt.call(this,[0,13,0],"account"),this.xr=y.z("div","form padded scrollable"),this.xr.setAttribute("style","max-width:48em;  max-height:33em;"),this.body.appendChild(this.xr),this.ZP=[new ve.hJ,new ve.uA(ve.aaS),new ve.uA(ve.afa)];for(var t=0;t<this.ZP.length;t++)this.ZP[t].parent=this;this.$("showpage",this.acC,this)}ve.prototype=new jt,ve.prototype.acC=function(t){y.TD(this.xr),this.xr.scrollTop=0,this.xr.appendChild(this.ZP[t.data.XN].u)},ve.prototype.t=function(){jt.prototype.t.call(this);for(var t=0;t<this.ZP.length;t++)this.ZP[t].t()},ve.prototype.Vp=function(t,i,e){y.TD(this.xr);var r=this.ZP[0];this.xr.appendChild(r.u),r.Vp(),this.t()},ve.prototype.AK=function(t,i){this.Vp(null,null,null)},ve.hJ=function(){At.call(this),this.u=y.z("div");var t=this.u,i,e,r="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";this.ty=y.z("div"),t.appendChild(this.ty),this.Ts=new Tt([0,11],!1,null,!0),this.Ts.u.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;"),this.Ts.$("click",this.Lh,this),t.appendChild(this.Ts.u),this.Gp=new Tt([0,13,1],!1,null,!0),this.Gp.$("click",this.uK,this),t.appendChild(this.Gp.u),this.a9U=new Tt("Contact",!1,null,!0),this.a9U.$("click",this.amB,this),i=y.z("h2",""),i.innerHTML="Account types",t.appendChild(i),e=y.z("table",""),e.innerHTML='			<table>				<tr>   <th class="left"></th><th>Free</th><th>Premium</th> </tr>				<tr>   <td class="left">Full Functionality</td><td class="yes">\u2713</td><td class="yes">\u2713</td>    </tr>				<tr>   <td class="left">No Ads</td><td class="no"> </td><td class="yes">\u2713</td>    </tr>				<tr>   <td class="left">Steps in History</td><td class="no" style="font-size:1.3em">30</td><td class="yes">60</td>    </tr>				<!--<tr class="lastrow">   <td class="left">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->			</table>		',t.appendChild(e);var n=this.a5k=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];this.b$=[];for(var a=0;a<n.length;a++)this.b$.push(new Tt("Buy: $"+n[a][0],!1,null,!0));for(var a=0;a<this.b$.length;a++)this.b$[a].u.setAttribute("style",r),this.b$[a].$("click",this.alC,this);i=y.z("h2",""),i.innerHTML="Go Premium",t.appendChild(i),this.pz=new Tt("...",!0),this.pz.u.setAttribute("style",r),t.appendChild(this.pz.u),e=this.eP(3,["Single user",this.b$[0],this.b$[1],this.b$[2],"Team of 5",this.b$[3],this.b$[4],this.b$[5],"Team of 20",this.b$[6],this.b$[7],this.b$[8]]),t.appendChild(e),this.ad_=new Ft("I accept",!0,""),t.appendChild(this.ad_.u),this.HB=new Tt([0,13,1],!1,null,!0),this.HB.$("click",this.uK,this),t.appendChild(this.HB.u),i=y.z("h2",""),i.textContent="Team Settings",t.appendChild(i),this.p3=new Ft("Join a team"),t.appendChild(this.p3.u),this.p3.$(y.E.I,this.Ka,this),this.EP=new se("Email of a leader",null,14),t.appendChild(this.EP.u),y.Rf(t),this.a_=new Ft("Start a team"),t.appendChild(this.a_.u),this.a_.$(y.E.I,this.Ka,this);var s=new fe("Emails of other members:");t.appendChild(s.u),y.Rf(t),this.Lo=y.z("textarea"),this.Lo.setAttribute("rows",3),this.Lo.setAttribute("cols",70),this.Lo.setAttribute("style","display:block;tab-size:4;"),t.appendChild(this.Lo);var l=new Tt("Save Team Settings",!1,null,!0);t.appendChild(l.u),l.$("click",this.akB,this);var h=this.aeJ=new Tt("More about Teams",!1,null,!0);t.appendChild(h.u),h.$("click",this.Sk,this),i=y.z("h2",""),i.innerHTML="Distributor Account",t.appendChild(i),this.Lg=new Tt("...",!0),this.Lg.u.setAttribute("style",r),t.appendChild(this.Lg.u),e=this.eP(3,["1000 views/month",this.b$[9],this.b$[10],this.b$[11],"5000 views/month",this.b$[12],this.b$[13],this.b$[14],"20000 views/month",this.b$[15],this.b$[16],this.b$[17]]),t.appendChild(e),this.aW=new se("Domain name (e.g. domain.com)",null,14),t.appendChild(this.aW.u),y.Rf(t);var l=new Tt("Save Domain Settings",!1,null,!0);l.V2(),t.appendChild(l.u),l.$("click",this.ahc,this);var h=new Tt("More about Distributors",!1,null,!0);t.appendChild(h.u),h.$("click",this.Sk,this)},ve.hJ.prototype=new At,ve.hJ.prototype.uK=function(t){var i=new z("showpage",!0);i.data={XN:1},this.w(i)},ve.hJ.prototype.amB=function(t){var i=new z("showpage",!0);i.data={XN:2},this.w(i)},ve.hJ.prototype.t=function(){this.Ts.kW(Rt.Wx()?Lt.get([0,11]):Lt.get([0,10])),this.HB.t(),this.Gp.t(),this.a9U.t()},ve.hJ.prototype.Sk=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.Xk,link:"https://www.photopea.com/api/accounts#"+(t.target==this.aeJ?"teams":"distributors")},this.w(i)},ve.hJ.prototype.Ka=function(t){var i=t.currentTarget==this.p3;this.p3.k(i),this.a_.k(!i)},ve.hJ.prototype.akB=function(t){var i=this.p3.q(),e=this.EP.q().trim(),r=this.Lo.value.trim();if(e.length>60){alert("Too long email address");return}if(r.length>600){alert("Too many team members");return}r=r.split(",").join(" ").trim(),r=r.replace(/\s+/g," "),r==""?r=[]:r=r.split(" ");var n=Rt.SI();n==null&&(n={}),n.acc==null&&(n.acc={}),n.acc.team={jin:i,ldr:e,mmb:r},Rt.Tu(n,this.j_.bind(this)),alert("Saved!"),this.Vp()},ve.hJ.prototype.ahc=function(t){var i=this.aW.q().trim();if(i.length==0){alert("Domain is empty.");return}if(!Rt.Wx()){alert("You have to log in first.");return}if(Rt.X9().distrib=="0"){alert("Order a distributor account first.");return}var e=Rt.SI();e==null&&(e={}),e.acc==null&&(e.acc={}),e.acc.dname=i,Rt.Tu(e,this.j_.bind(this)),alert("Saved!"),this.Vp()},ve.hJ.prototype.Vp=function(){if(Rt.Wx()){var t=Rt.X9();if(t==null)return;this.ty.innerHTML='<span style="font-size:1.5em; margin-right:0.7em;">'+t.name+"</span> "+t.email+" <br/>"}else this.ty.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";var i=Rt.Wx()&&Rt.WQ();if(this.pz.u.style.display=i?"block":"none",i){var e=parseInt(t[y.ZK("!&|'&50")])-Date.now()*(1/1e3),r=parseInt(t.ptype),n;r==-1?n="member of a team":r==1?n="Single user":n="Team of "+r,this.pz.kW("Premium active for "+Math.round(e/(60*60*24))+" more days! ("+n+")")}var a=Rt.Wx()&&t.distrib*1e3>Date.now();if(this.Lg.u.style.display=a?"block":"none",a){var e=parseInt(t.distrib)-Date.now()/1e3,r=parseInt(t.ptype);this.Lg.kW("Distributor active for "+Math.round(e/(60*60*24))+" more days! ("+r+" visitos)")}var s=Rt.SI();if(s&&s.acc&&s.acc.team){var l=s.acc.team;this.p3.k(l.jin),this.a_.k(!l.jin),this.EP.k(l.ldr),this.Lo.value=l.mmb.join(", ")}else this.p3.k(!0),this.a_.k(!1),this.EP.k(""),this.Lo.value="";s&&s.acc&&s.acc.dname?this.aW.k(s.acc.dname):this.aW.k("")},ve.hJ.prototype.eP=function(t,i){var e=y.z("table");e.innerHTML='				<table>					<tr>   <th class="left"></th><th>30 days</th><th>90 days</th> '+(t==3?"<th>365 days</th>":"")+" </tr>				</table>			";for(var r=0;r<i.length;r+=t+1){var n=y.z("tr"),a;e.appendChild(n),a=y.z("td","left"),n.appendChild(a),a.innerHTML="<b>"+i[r]+"</b>";for(var s=0;s<t;s++)a=y.z("td"),n.appendChild(a),a.appendChild(i[r+1+s].u)}return e},ve.hJ.prototype.alC=function(t){var i=this.b$.indexOf(t.currentTarget);if(!Rt.Wx()){alert("You must log in before buying Premium");return}if(this.ad_.q()==!1&&i<9){alert("You must accept Terms of Service");return}var e=this.a5k[i],r=e[1],n=e[2],a=Rt.Wx()&&Rt.WQ();if(a&&n<1e3){alert("You already have premium.");return}Rt.order(r,n,this.j_.bind(this)),this.cd()},ve.hJ.prototype.j_=function(t){Rt.Wx()&&Rt.X9().msg&&alert(Rt.X9().msg),this.Vp(),this.cd()},ve.hJ.prototype.Lh=function(t){Rt.Wx()?(Rt.alw(),this.cd(),this.Vp(null,null,null)):Rt.Lh(this.ae5.bind(this))},ve.hJ.prototype.ae5=function(){var t=new z(y.E.L,!0);t.data={e:y.B.a7t},this.w(t)},ve.hJ.prototype.cd=function(){var t=new z(y.E.L,!0);t.data={e:y.B.cy},this.w(t)},ve.uA=function(t){At.call(this),this.u=y.z("div");var i=this.u,e=this.al$=new Tt([0,13,2],!1,null,!0);e.$("click",this.agf,this),i.appendChild(e.u);var r=y.z("div","");r.innerHTML=t,i.appendChild(r)},ve.uA.prototype=new At,ve.uA.prototype.agf=function(t){var i=new z("showpage",!0);i.data={XN:0},this.w(i)},ve.uA.prototype.t=function(){this.al$.t()},ve.afa="		<h1>Contact</h1>		<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>		<ul>			<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>			<li><b>E-mail</b>: support@photopea.com</li>			<li><b>Phone number</b>: +420 604 592 737</li>		</ul>		<p>You can ask for a refund by writing us an email.</p>		<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>	",ve.aaS=`		<h1>Terms of Service</h1>				<h2>What are these Terms?</h2>		<p>		These terms form a binding contract between you and us ("these Terms") regarding your access to and use of any of our web sites, 		web applications, services, products and Software that contain a link to these Terms (individually and collectively, the "Service"). 		</p>				<h2>Changes to the Service or these Terms</h2>		<p>		We may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.		We may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. 		If we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, 		by posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.		</p>				<h2>Your content</h2>		<p>		These Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.		</p>		<p>		<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to 		access Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge 		and agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, 		you do so at your own risk. You warrant that you have obtained all necessary licenses, 		rights and permissions to use and grant all of the rights granted in these Terms		to Your Content and that you will comply with any requirements or restrictions imposed by them.		</p>		<!--		<p>		We have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,		and to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. 		We have no responsibility or liability with respect to any Content, including for any actions that we may take with respect 		to any Content that we determine violates these Terms.		</p>		-->				<h2>Registering for the Service</h2>		<p>		You may be required or permitted to register with us to access the Service or certain areas of the Service.		You agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  		You may also be able to sign into the Service by using a third-party social networking platform account 		(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, 		and any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. 		You are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name		to any third party. You are fully responsible for all use of your registration information, 		and to ensure that you "log out"/exit from your account with the Service (if applicable) 		at the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. 		</p>				<h1>Privacy Policy</h1>				<p>		By voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. 		If you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.		</p>		<p>Computer information collected:</p>				<ul>				<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).				Such tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties 				or how such third parties use and protect that information.</li>								<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. 				In such case, we store your name and email address, that were provided to us by third-party services.</li>								<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) 				are stored at your computer in "localData".				It helps us provide you the same environment when you visit the Service next time.<br/>				When you log into the Service, your environemnt settings are stored at our server. 				</li>								<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), 				we may store the information about the payer, that we may receive from the third-party service 				(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>		</ul>				`;function Vn(){jt.call(this,[11,14],"addguides"),this.nc,this.yH={Np:{Md:0}},this.vC=null;var t=y.z("div","form");this.body.appendChild(t),this.DG=new se([22,4,0],null,16),this.DG.$(y.E.I,this.Ca,this),this.l4=new se([22,4,1],null,16),this.l4.$(y.E.I,this.Ca,this),this.Bu=new ei(null,v.t$.bs),this.Bu.$(y.E.I,this.Ca,this),t.appendChild(this.DG.u),t.appendChild(this.Bu.u),y.Rf(t),t.appendChild(this.l4.u),this.cI=new Tt("OK",!0,null,!0),this.cI.$("click",this.ja,this),t.appendChild(this.cI.u),this.$("closebtn",this.ag9,this)}Vn.prototype=new jt,Vn.prototype.K9=function(t,i){return t!=null},Vn.prototype.go=function(){return!0},Vn.prototype.t=function(){jt.prototype.t.call(this),this.DG.t(),this.l4.t(),this.Bu.t()},Vn.prototype.AK=function(t,i){var e=t.Np.Md;this.yH.Np.Md=e,this.Bu.k(e)},Vn.prototype.Vp=function(t,i){this.nc=t,this.vC=JSON.stringify(t.ei),this.nF()},Vn.prototype.nF=function(){var t=this.nc,i=t.ei,e=function(r,n,a,s){for(var l=[],h=0;h<r.length;h++)l.push(v.t$.Rq(r[h],n.NB,a,s));return l.join(", ")};this.DG.k(e(i[1],t,this.yH,t.h)),this.l4.k(e(i[0],t,this.yH,t.Z))},Vn.prototype.Ca=function(t){if(t&&t.currentTarget==this.Bu)this.yH.Np.Md=this.Bu.q();else{var i=this.Gc(this.DG),e=this.Gc(this.l4),r=this.nc;r.ei=[e,i],r.Vg=!0}this.nF()},Vn.prototype.Gc=function(t){for(var i=t==this.DG?this.nc.h:this.nc.Z,e=t.q().replace(/,/g," ").replace(/  +/g," ").trim(),r=e==""?[]:e.split(" "),n=0;n<r.length;n++)r[n]=v.t$.acp(r[n],this.nc.NB,this.yH,i);return r},Vn.prototype.ag9=function(t){var i=this.nc;i.ei=JSON.parse(this.vC),i.Vg=!0,this.nc=null},Vn.prototype.ja=function(t){this.Ca(t);var i=new z(y.E.H,!0);i.Q=C.fb,i.data={e:"gids",r2:JSON.parse(this.vC),lZ:JSON.parse(JSON.stringify(this.nc.ei))},this.nc=null,this.close(),this.w(i)};function nr(t){var i=Zt.names[t];if(i==null&&(i=Vt.names[t]),t=="fade"&&(i=[2,11]),jt.call(this,i,"afw_"+t),this.k9=t,this.mE=null,this.ss=null,this.wK=new K[t],this.wK.$(y.E.I,this.d5,this),this.wK.parent=this,this.body.appendChild(this.wK.u),this.fP=new Ft([24,18,5]),this.fP.k(!0),this.fP.$(y.E.I,this.d5,this),this.a38=new Tt("Reset",!0,null,!0),this.a38.$("click",this.$a,this),this.cI=new Tt("OK",!0,null,!0),this.cI.$("click",this.ja,this),this.Yv())this.wK.yQ(this.cI.u);else{y.KL(this.wK.u,"form"),y.KL(this.body,"flexrow"),this.wK.u.setAttribute("style","width:24em");var e=y.z("div");this.body.appendChild(e),e.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em"),e.appendChild(this.cI.u),e.appendChild(this.a38.u),e.appendChild(this.fP.u)}this.$("closebtn",this.Te,this)}nr.prototype=new jt,nr.prototype.go=function(){return!0},nr.prototype.Yv=function(){return this.wK!=null&&this.wK.xW()},nr.prototype.eL=function(){return this.Yv()?new st(0,0):jt.prototype.eL()},nr.prototype.t9=function(){return this.wK.t9()},nr.prototype.R$=function(t,i,e,r,n){this.wK.R$(t,i,e,r,n)},nr.prototype.$E=function(t,i,e,r,n){this.wK.$E(t,i,e,r,n)},nr.prototype.NL=function(t,i,e,r,n){this.wK.NL(t,i,e,r,n)},nr.prototype.K9=function(t,i){return this.k9=="fade"?nr.qX(t):!0},nr.prototype.$a=function(t){this.wK.k(Zt.tt(this.k9)),this.d5()},nr.prototype.d5=function(t){this.nQ({e:"edit",pl:this.wK.q(),mw:!this.fP.q()})},nr.prototype.Te=function(t){this.nQ({e:"cancel"})},nr.prototype.ja=function(t){this.fP.q()||(this.fP.k(!0),this.d5()),this.ss=this.wK.q(),this.Yv()&&this.d5(),this.nQ({e:"confirm"}),this.close()},nr.prototype.t=function(){jt.prototype.t.call(this),this.fP.t(),this.wK&&this.wK.t()},nr.prototype.AK=function(t,i){this.wK&&this.wK.AK(t,i)},nr.prototype.gU=function(t,i,e,r){this.Yv()?this.wK.gU(r):jt.prototype.gU.call(this,t,i,e,r)},nr.prototype.Vp=function(t,i,e,r){this.mE=i.mE;var n=t.add.lnk2?t.add.lnk2:[],a,s,l=new et(0,0,t.Z,t.h),h=t.r[t.p[0]],o=null;a=h.buffer,s=h.rect,this.Yv()&&(o=t.lD(t.p[0]-1));var f=Zt.tt(this.k9),u=[n,t.Yq];if(i.mE==null){if(this.wK.k(f,a,s,l,o,u),Vt.names[this.k9]){r.s(W.ze)&&this.ss&&this.wK.k(this.ss);var p=dt.Dt.getData(t),c=v.NC(p[0].Tr);this.wK.iM(c)}}else{var d=!1,h=t.r[this.mE.n];if(h.gO()){var g=h.yg(t);a=g.buffer,s=g.rect;var b=h.add.SoLd.filterFX.v.filterFXList.v;if(b[this.mE.index]){var m=b[this.mE.index].v.Fltr.v;this.wK.k(m,a,s,l,o,u),this.wK.iM(v.NC(a)),d=!0}}d||(this.wK.k(f,a,s,l,o,u),this.wK.iM(v.NC(a)))}this.Yv()||this.d5()},nr.prototype.nQ=function(t){var i=new z(y.E.H,!0);t.k9=this.k9,t.mE=this.mE,i.data=t,i.Q=Zt.names[this.k9]||this.mE?C._q:C.Vd,i.qQ=!0,this.w(i)},nr.prototype.l9=function(t,i){i=i-26,t=t-26,this.wK.l9(t,i)},nr.qX=function(t){if(t==null)return!1;var i=t.a1();if(i==null||!(i.data instanceof Array)||i.data.length!=t.p.length)return!1;for(var e=0;e<i.data.length;e++){var r=i.data[e];if(r.n<0&&t.Yq[-1-r.n])return!0;if(r.n==null||t.r[r.n]==null||t.r[r.n].kB!=r.qf||t.p.indexOf(r.n)==-1)return!1}return!0};function Fr(){jt.call(this,[11,0],"camera"),this.data=null,this.Fl=new st(1,1),this.a4c=[];var t=y.z("div","form hbar");this.body.appendChild(t),this.ab5=new ei(null,[]),this.Lp=new ei([21,0],[[21,2],[21,1]]),t.appendChild(this.Lp.u),this.sK=new ei(null,[]),this.sK.$(y.E.I,this.f9,this),t.appendChild(this.sK.u),this.$0=new Tt([11,0],!1,null,!0),this.$0.$("click",this.agt,this),t.appendChild(this.$0.u),this.qG=new fe(""),t.appendChild(this.qG.u),this.stream=null,this.Ul=y.z("video",""),this.Ul.setAttribute("autoplay","true"),this.body.appendChild(this.Ul),this.aag=this.a2B.bind(this),this.acd=this.a1$.bind(this),this.a2$=this.a8z.bind(this),this.$("closebtn",this.PM,this)}Fr.prototype=new jt,Fr.prototype.t=function(){jt.prototype.t.call(this),this.Lp.t(),this.$0.t(),this.l9(this.YY,this.mi)},Fr.prototype.lD=function(){var t=this.Ul.videoWidth,i=this.Ul.videoHeight,e=y.z("canvas","");e.width=t,e.height=i;var r=e.getContext("2d");r.drawImage(this.Ul,0,0,t,i);var n=r.getImageData(0,0,t,i);return{ym:new et(0,0,t,i),data:n.data.buffer}},Fr.prototype.agt=function(t){this.Lp.q()==0?this.a1m():this.a0c()},Fr.prototype.a0c=function(){var t=this.lD(),i={buffer:new Uint8Array(t.data),rect:t.ym},e=new z(y.E.H,!0);e.qQ=!0,e.Q=C.xC,e.data={e:H.yn,pL:i},this.w(e),alert(Lt.get([21,4]))},Fr.prototype.a1m=function(){var t=this.lD(),i=ui.Y$("camera",[t]),e=new z(y.E.L,!0);e.data={e:y.B.qD,EA:i},this.w(e),alert(Lt.get([21,5]))},Fr.prototype.Vp=function(t,i,e){navigator.mediaDevices.enumerateDevices().then(this.a06.bind(this))},Fr.prototype.a06=function(t){for(var i=this.a4c=[],e=[],r=0;r<t.length;r++)t[r].kind=="videoinput"&&(i.push(t[r]),e.push("Camera "+i.length));this.sK.KI(e),this.sK.k(0),this.f9()},Fr.prototype.f9=function(t){this.PM();var i={video:{deviceId:this.a4c[this.sK.q()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(i).then(this.aag).catch(this.acd):navigator.webkitGetUserMedia(i,this.aag,this.acd)},Fr.prototype.a2B=function(t){this.stream=t,this.Ul.srcObject=t,this.Ul.addEventListener("loadedmetadata",this.a2$,!1)},Fr.prototype.a8z=function(t){this.Ul.play(),this.l9(this.YY,this.mi)},Fr.prototype.eL=function(t,i){return new st(0,0)},Fr.prototype.l9=function(t,i){var e=this.Ul.videoWidth,r=this.Ul.videoHeight;this.qG.k(e+" x "+r+" px"),this.qG.u.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;"),this.Fl.Oh(e,r),this.YY=t,this.mi=i;var n=t-28,a=i-28-30,s=this.Fl.x/this.Fl.y;n/a>s?n=a*s:a=n/s,this.Ul.setAttribute("style","display: block; width: "+Math.round(n)+"px; height:"+Math.round(a)+"px;")},Fr.prototype.a1$=function(t){console.log("error",t),alert(Lt.get([21,6])),this.close()},Fr.prototype.PM=function(t){if(this.stream!=null){for(var i=this.stream.getTracks(),e=0;e<i.length;e++)i[e].stop();this.stream=null}};function Fn(){jt.call(this,[7,8],"crange"),this.nc=null,this.RX={Ov:73,m:4.45,i:4},this.Tp={Ov:73,m:4.45,i:4};var t=y.z("div","form");t.setAttribute("style","width:18em"),this.body.appendChild(t),this.$B=new Ht([12,92],0,200),this.$B.k(40),this.$B.$(y.E.I,this.qK,this),t.appendChild(this.$B.u),this.w7=y.z("canvas"),t.appendChild(this.w7),this._Z=new me([12,36],[[18,0],"\uFF0B","\u2014"]),t.appendChild(this._Z.u),this.OB=new Tt("OK",!0,null,!0),this.OB.$("click",this.ja,this),this.body.appendChild(this.OB.u)}Fn.prototype=new jt,Fn.prototype.K9=function(t,i){return t!=null},Fn.prototype.t9=function(){return!0},Fn.prototype.go=function(){return!0},Fn.prototype.t=function(){jt.prototype.t.call(this),this.$B.t(),this._Z.t()},Fn.prototype.R$=function(t,i,e,r,n){var a=t.a.PY(n.x,n.y);this.Cd(a.x,a.y)},Fn.prototype.Cd=function(t,i){var e=Math.min,r=Math.max,n=this.nc,a=r(0,e(n.Z-1,Math.floor(t))),s=r(0,e(n.h-1,Math.floor(i))),l=n.lD(),h=(s*n.Z+a)*4,o=l[h],f=l[h+1],u=l[h+2],p=v.tm(o,f,u),c=this._Z.q(),d=this.RX,g=this.Tp;if(c==0)this.RX=JSON.parse(JSON.stringify(p)),this.Tp=p;else if(c==1)d.Ov=e(d.Ov,p.Ov),d.m=e(d.m,p.m),d.i=e(d.i,p.i),g.Ov=r(g.Ov,p.Ov),g.m=r(g.m,p.m),g.i=r(g.i,p.i);else if(c==2){var b=(d.Ov+g.Ov)/2,m=(d.m+g.m)/2,x=(d.i+g.i)/2;p.Ov<b?d.Ov=r(d.Ov,p.Ov+10):g.Ov=e(g.Ov,p.Ov-10),p.m<m?d.m=r(d.m,p.m+1):g.m=e(g.m,p.m-1),p.i<x?d.i=r(d.i,p.i+1):g.i=e(g.i,p.i-1)}this.qK()},Fn.prototype.ja=function(t){var i=new z(y.E.H,!0);i.Q=C.j1,i.data={e:"crange",c7:this.RX,Aa:this.Tp,aI:this.$B.q()/200},i.qQ=!0,this.w(i),this.close()},Fn.prototype.Vp=function(t,i){this.nc=t,this.Cd(0,0)},Fn.prototype.qK=function(){var t=this.nc,i=C.hl.sv(t,this.RX,this.Tp,this.$B.q()/200),e=i.rect,r=i.channel,n=this.w7,a=n.getContext("2d"),s=Math.floor(230*y.J()),l=Math.floor(s*(e.h/e.Z));n.width=s,n.height=l,y.Hc(n,s,l);var h=v.R(r.length*4);v.XB(h,4294967295);for(var o=0;o<3;o++)v.Oy(r,h,o);var f=C.X.Z6([h,e],new Et(s/e.Z,0,0,l/e.h,0,0)),u=f.rect,p=new ImageData(new Uint8ClampedArray(f.buffer.buffer),u.Z,u.h);a.putImageData(p,0,0)};function bl(){jt.call(this,[12,76,1],"createshape"),this.rX=null;var t=y.z("div","form");t.setAttribute("style","width:20em"),this.body.appendChild(t),this.iG=new xi([12,41],0,0,null,0,!1,!0),t.appendChild(this.iG.u),y.Rf(t),this.DG=new xi([12,42],0,0,null,0,!1,!0),t.appendChild(this.DG.u),y.Rf(t),this.me=new Ft([19,5,3]),t.appendChild(this.me.u),this.iG.k(100),this.DG.k(100),this.cI=new Tt("OK",!0,null,!0),this.cI.$("click",this.ja,this),t.appendChild(this.cI.u)}bl.prototype=new jt,bl.prototype.ja=function(t){this.rX.a25(this.rX.a9i,this.iG.q(),this.DG.q(),this.me.q()),this.close()},bl.prototype.t=function(){this.rX&&(this.CA=Lt.get([5,3])+": "+Lt.get(this.rX.a9p)),jt.prototype.t.call(this),this.iG.t(),this.DG.t(),this.me.t()},bl.prototype.Vp=function(t,i){this.rX=i,this.t()};function dr(){jt.call(this,[11,1],"colorpicker"),this.sg=null,this.Xa=null,this.EY=null,this.MX=!1,this.Cr=!1;var t=y.z("div","flexrow"),i,e;this.body.appendChild(t),this.Ao=new Tr(256),this.Ao.$(y.E.I,this.CV,this),t.appendChild(this.Ao.u);var r=y.z("div","form");r.setAttribute("style","width:14.5em; margin-left:1em;"),t.appendChild(r),this.a8r=y.z("div","full"),r.appendChild(this.a8r),this.aer=y.z("div","full"),r.appendChild(this.aer);var n=y.z("div","flexrow");r.appendChild(n);var a=y.z("div"),s=y.z("div");n.appendChild(a),n.appendChild(s),i=["R","G","B"],e=a,this.Va=[];for(var l=0;l<3;l++){var h=new xi(i[l]+":",0,255,null,0,!1,!0);this.Va.push(h),h.$(y.E.I,this.a4Q,this),e.appendChild(h.u)}i=["H","S","B"],e=s,this.Ia=[];for(var l=0;l<3;l++){var o=0,f=360,u="\xB0";l!=0&&(f=100,u="%");var h=new xi(i[l]+":",o,f,u,0,!1,!0);this.Ia.push(h),h.$(y.E.I,this.aiv,this),e.appendChild(h.u)}this.DG=new se("Hex",null,6),this.DG.$(y.E.I,this.ks,this),r.appendChild(this.DG.u),this.Xx=y.z("input","fitem"),this.Xx.setAttribute("type","color"),this.Xx.setAttribute("style","width:50px"),this.Xx.addEventListener("change",this.ks.bind(this),!1),r.appendChild(this.Xx),this.qB=new ls(9),this.qB.$(y.E.I,this.ks,this),r.appendChild(this.qB.u),this.cI=new Tt("OK",!0,null,!0),this.cI.$("click",this.ja,this),r.appendChild(this.cI.u),this.$("closebtn",this.Te,this),this.uY=!1}dr.prototype=new jt,dr.prototype.t9=function(){return!0},dr.prototype.l9=function(t,i){this.Ao.l9(Math.min(256,t-250),i)},dr.prototype.CV=function(t){this.Xa=this.Ao.q(),this.update()},dr.prototype.R$=function(t,i,e,r,n){this.uY=!0,this._0(t,n)},dr.prototype.$E=function(t,i,e,r,n){!this.uY||this._0(t,n)},dr.prototype.NL=function(t,i,e,r,n){this.uY=!1},dr.prototype._0=function(t,i){var e=C.yY.Js(t,i,1),r=e&255,n=e>>8&255,a=e>>16&255;this.Xa={U:a/255,S:n/255,i:r/255},this.update()},dr.prototype.a4Q=function(t){var i=this.Va,e=this.w_(parseInt(i[0].q())),r=this.w_(parseInt(i[1].q())),n=this.w_(parseInt(i[2].q()));this.Xa={U:e/255,S:r/255,i:n/255},this.update()},dr.prototype.aiv=function(t){var i=this.Ia,e=this.y5(parseInt(i[0].q())/360),r=this.y5(parseInt(i[1].q())/100),n=this.y5(parseInt(i[2].q())/100);this.Xa=v.ul(e,r,n),this.update()},dr.prototype.ks=function(t){var i;t.currentTarget==this.qB?i=this.qB.q():(i=t.currentTarget==this.DG?this.DG.q():this.Xx.value,i.charAt(0)=="#"&&(i=i.slice(1)),i.length==3&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]),i=v.cq(i)),this.Xa={U:(i>>16&255)/255,S:(i>>8&255)/255,i:(i&255)/255},this.update()},dr.prototype.uQ=function(t){var i=t.U,e=t.S,r=t.i;return Math.round(i*255)<<16|Math.round(e*255)<<8|Math.round(r*255)},dr.prototype.ja=function(t){this.xq();var i=this.uQ(this.Xa);this.EY(i),this.close(),this.Cr=!1,this.Xa=null},dr.prototype.Te=function(t){this.xq(),this.MX&&this.EY(this.uQ(this.sg)),this.Cr=!1,this.Xa=null},dr.prototype.xq=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.mB},this.w(i)},dr.prototype.AK=function(t,i){if(i==ut.Io){var e=t.GY;this.qB.k(e),this.Xa!=null&&(this.Xa={U:(e>>16&255)/255,S:(e>>8&255)/255,i:(e>>0&255)/255},this.update())}},dr.prototype.Vp=function(t,i){var e=i.u9,r={U:(e>>16&255)/255,S:(e>>8&255)/255,i:(e>>0&255)/255};if(this.Xa==null){var n=new z(y.E.L,!0);n.data={e:y.B.Ik,rr:"crosshair",push:!0},this.w(n),this.uY=!1,this.EY=i.jz,this.MX=!1,this.Cr=i.IF,this.sg=JSON.parse(JSON.stringify(r)),this.aer.setAttribute("style","height:3em;background-color:#"+v.v2(e)+";")}this.Xa=r,this.update()},dr.prototype.update=function(){var t=this.Xa,i=this.uQ(t),e=this.Va;e[0].k(Math.round(t.U*255)),e[1].k(Math.round(t.S*255)),e[2].k(Math.round(t.i*255)),this.DG.k(v.v2(i)),this.Xx.value="#"+v.v2(i),this.a8r.setAttribute("style","height:3em;background-color:#"+v.v2(i)+";");var r=v.eE(t.U,t.S,t.i);e=this.Ia,e[0].k(Math.round(r.mi*360)),e[1].k(Math.round(r.Pg*100)),e[2].k(Math.round(r.pl*100)),this.Ao.k(t),this.Cr&&(this.EY(this.uQ(this.Xa)),this.MX=!0)},dr.prototype.w_=function(t){return Math.max(0,Math.min(255,t))},dr.prototype.y5=function(t){return Math.max(0,Math.min(1,t))};function os(){jt.call(this,[11,2],"contoureditor"),this.a1P=null,this.Pn=null,this.response=null,this.EI=y.z("div","cell"),this.body.appendChild(this.EI),this.X7=y.z("div","cell padded"),this.body.appendChild(this.X7);var t=y.z("div","bordered padded vmargin");this.EI.appendChild(t),this.wK=new Rn,this.wK.$(y.E.I,this.Pm,this),t.appendChild(this.wK.u),this.cI=new Tt("OK",!0,null,!0),this.cI.$("click",this.close,this),this.X7.appendChild(this.cI.u),this.coords=y.z("div",""),this.coords.setAttribute("style","width:250px"),this.EI.appendChild(this.coords),this.ae=new se("X (in)","%",4),this.hd=new se("Y (out)","%",4),this.dZ=new Ft([19,3,0]),this.ae.$(y.E.I,this.cb,this),this.hd.$(y.E.I,this.cb,this),this.dZ.$(y.E.I,this.cb,this),this.coords.appendChild(this.ae.u),this.coords.appendChild(this.dZ.u),this.coords.appendChild(this.hd.u),this.$("closebtn",this.OZ,this)}os.prototype=new jt,os.prototype.t=function(){jt.prototype.t.call(this),this.dZ.t()},os.prototype.Pm=function(t){this.Pn.Crv.v=this.wK.q(),this.response(this.Pn),this.qp()},os.prototype.OZ=function(t){this.response(this.a1P)},os.prototype.Vp=function(t,i){this.a1P=JSON.parse(JSON.stringify(i.xX)),this.Pn=i.xX,this.response=i.response,this.wK.k(this.Pn.Crv.v),this.qp()},os.prototype.qp=function(){var t=this.wK.$Y();if(this.coords.setAttribute("class",t==-1?"disabled":""),t!=-1){var i=this.Pn.Crv.v[t].v;this.ae.k(Math.round(i.Hrzn.v*(100/255))),this.hd.k(Math.round(i.Vrtc.v*(100/255))),this.dZ.k(i.Cnty.v)}},os.prototype.cb=function(t){var i=this.wK.$Y(),e=this.Pn.Crv.v[i];e.v.Hrzn.v=parseFloat(this.ae.q())*(255/100),e.v.Vrtc.v=parseFloat(this.hd.q())*(255/100),e.v.Cnty.v=this.dZ.q(),this.Pn.Crv.v.sort(function(r,n){return r.v.Hrzn.v-n.v.Hrzn.v}),this.wK.k(this.Pn.Crv.v,this.Pn.Crv.v.indexOf(e)),this.qp(),this.response(this.Pn)};function fs(){jt.call(this,[11,3],"csize"),this.cG=0,this.xr=y.z("div","form"),this.xr.setAttribute("style","width:22em"),this.body.appendChild(this.xr),this.bq=new Kr(!0,!0,!0,!0),this.bq.adn(!1),this.xr.appendChild(this.bq.u),this.HN=new me("Align with",[[8,7],[12,6]]),this.HN.$(y.E.I,this.a8b,this),this.Wa=new ma([12,23,2],41),this.xr.appendChild(this.Wa.u),this.Wa.k(4),this.rM=new Ca(!1),this.rM.a2w(new st(0,0)),this.OB=new Tt("OK",!0,null,!0),this.OB.$("click",this.ja,this),this.body.appendChild(this.OB.u)}fs.prototype=new jt,fs.prototype.K9=function(t,i){return t!=null},fs.prototype.go=function(){return!0},fs.prototype.a8b=function(){var t=[this.Wa.u,this.rM.u];this.xr.removeChild(t[this.cG]),this.cG=this.HN.q(),this.xr.appendChild(t[this.cG])},fs.prototype.t=function(){jt.prototype.t.call(this),this.bq.t(),this.HN.t(),this.Wa.t(),this.rM.t()},fs.prototype.ja=function(t){var i=this.bq.q(),e=i.x,r=i.y,n=new z(y.E.QJ,!0);n.data=C.$K.$W(e,r,this.Wa.q()),this.close(),this.w(n)},fs.prototype.Vp=function(t,i){this.bq.k(new st(t.Z,t.h),t.NB)};function Ts(){jt.call(this,[11,4],"duplinto"),this.Fe=null,this.Yr=null;var t=y.z("div","form");t.setAttribute("style","max-width:26em"),this.body.appendChild(t),this.ed=new ei([12,43],["abc","def"]),this.ed.$(y.E.I,this.oX,this),t.appendChild(this.ed.u),y.Rf(t),this.v8=new se([12,48],null,14),t.appendChild(this.v8.u),this.cI=new Tt("OK",!0,null,!0),this.cI.$("click",this.ja,this),t.appendChild(this.cI.u)}Ts.prototype=new jt,Ts.prototype.go=function(){return!0},Ts.prototype.t=function(){jt.prototype.t.call(this),this.ed.t(),this.v8.t()},Ts.prototype.oX=function(t){var i=this.ed.q();i==this.Yr.length?this.v8.R8():this.v8.U3()},Ts.prototype.Vp=function(t,i,e){this.Fe=t,this.Yr=e,this.v8.k(t.p.length==0?"Layer":t.r[t.p[0]].getName());for(var r=[],n=0;n<e.length;n++)r.push(e[n].name);r.push([11,7]),this.ed.KI(r),this.ed.k(e.indexOf(t)),this.oX(null)},Ts.prototype.ja=function(t){var i=this.ed.q();if(i==this.Yr.length){var e=new Pt(this.v8.q()+".psd");e.Z=this.Fe.Z,e.h=this.Fe.h,e.buffer=v.R(e.Z*e.h*4);var r=e.an();r.uf("Background"),e.wG([r]);var a=new z(y.E.L,!0);a.qQ=!0,a.data={e:y.B.qD,EA:e},this.w(a)}var n=this.Fe.FQ(null,this.Fe!=this.Yr[i]),a=new z(y.E.H,!0);a.data={e:H.uP,r:n,kM:this.Fe,qW:this.Yr[i]},a.Q=C.xC,a.qQ=!0,this.w(a),this.close()};function Sa(){jt.call(this,[1,9],"eassets"),this.yH=null,this.cz=null;var t=y.z("div","form");t.setAttribute("style","width:32em"),this.body.appendChild(t),this.kr=y.z("span"),t.appendChild(this.kr),y.Rf(t),this.j2=[new Ft('Only layers / folders, whose name starts with "-e-"'),new Ft("Remove parts outside the canvas"),new Ft("Trim transparent parts")];for(var i=0;i<3;i++){var e=this.j2[i];e.k(!0),e.$(y.E.I,this.nF,this),t.appendChild(e.u),y.Rf(t)}this.cf=new Xn([12,14,0],["1x","2x","3x","4x"]),this.cf.k([!0,!1,!1,!1]),t.appendChild(this.cf.u),y._D(t),this.cT=["PNG","JPG","SVG"],this.Y8=new ei([12,50],this.cT),this.Y8.$(y.E.I,this._s,this),t.appendChild(this.Y8.u),this.ar=new qa,t.appendChild(this.ar.u),this.OB=new Tt([1,9],!0,null,!0),this.OB.$("click",this.ja,this),t.appendChild(this.OB.u),this.$("closebtn",this.Pb,this)}Sa.prototype=new jt,Sa.prototype._s=function(t){this.ar.vJ(this.cT[this.Y8.q()])},Sa.prototype.Pb=function(t){this.cz=null},Sa.prototype.t=function(){jt.prototype.t.call(this),this.Y8.t(),this.cf.t(),this.OB.t(),this.ar.t()},Sa.prototype.Vp=function(t,i,e){this.cz=t,this.nF()},Sa.prototype.nF=function(t){var i=this.Hf(),e="- - - "+i.length+" exportable layers";this.kr.textContent=e,this._s(null)},Sa.prototype.Hf=function(){for(var t=this.j2[0].q(),i=[],e=this.cz,r=0;r<e.r.length;r++){var n=e.r[r],a=n.getName();(!t&&!n.fO()&&!n.rect.qr()||a.startsWith("-e"))&&i.push(r)}return i},Sa.prototype.AK=function(t,i){this.yH=t},Sa.prototype.ja=function(t){var i=this.cz,e=[this.cT[this.Y8.q()]],r=[this.ar.q()],n=this.cf.q(),a={},s={},l=this.Hf();if(l.length==0){alert("No layers to export.");return}for(var h=[this.j2[1].q(),this.j2[2].q()],o=0;o<l.length;o++){var f=l[o],u=i.r[f],p=u.getName();s[p]!=null?(s[p]++,p+=" "+s[p]):s[p]=1;var c=u.UQ();u.vR(!0);for(var d=0;d<n.length;d++)if(!!n[d])for(var g=d+1,b=C.qT.$C(i,e,g,this.yH,f,r,h),m=0;m<e.length;m++){var x=e[m],M=p.slice(p.startsWith("-e-")?3:0)+(g==1?"":"-"+g+"x")+"."+x.toLowerCase();a[M]=new Uint8Array(b[m])}u.vR(c)}var S=UZIP.encode(a),w=new z(y.E.L,!0);w.data={e:y.B.QL,data:S,name:"assets.zip"},this.w(w)};function za(){jt.call(this,"Export Color Lookup Tables","exlut"),this.yH=null,this.cz=null;var t=y.z("div","form");t.setAttribute("style","width:20em"),this.body.appendChild(t),this.j2=[new xi("Grid Points",1,256),new me([12,50],[".CUBE"])];for(var i=[16,0],e=0;e<this.j2.length;e++){var r=this.j2[e];r.k(i[e]),r.parent=this,r.$(y.E.I,this.nF,this),t.appendChild(r.u),y.Rf(t)}this.OB=new Tt("OK",!0,null,!0),this.OB.$("click",this.ja,this),t.appendChild(this.OB.u),this.$("closebtn",this.Pb,this)}za.prototype=new jt,za.prototype.K9=function(t,i){return Math.min(t.Z,t.h)<16?(alert("The document must be at least 16 x 16 pixels.",3200),!1):t.r.length<2?(alert("There must be a background layer and some adjustment layers.",3200),!1):!0},za.prototype.Pb=function(t){this.cz=null},za.prototype.AK=function(t,i){this.yH=t},za.prototype.Vp=function(t,i,e){this.cz=t},za.prototype.ja=function(){var t=this.cz,i=this.j2[0].q(),e=[],r=new et(0,0,t.Z,t.h),n=v.R(i*i*4),a=n.slice(0),s=new et(t.Z-i>>>1,t.h-i>>>1,i,i),l=t.r[0],h=l.buffer,o=l.rect;l.rect=s,l.buffer=n;for(var f=0;f<i;f++){this.ah1(i,f,n),l.A(s),t.A(s);var u=t.lD();v.BP(u,r,a,s);for(var p=0;p<i;p++)for(var c=0;c<i;c++){var d=p*i+c<<2;e.push(a[d]/255,a[d+1]/255,a[d+2]/255)}}var g=Mn.a84(e,i,t.name);ui.save(g,t.name.split(".")[0]+".CUBE"),l.buffer=h,l.rect=o,l.A(),t.A()},za.prototype.ah1=function(t,i,e){for(var r=255/(t-1),n=Math.round(i*r),a=0;a<t;a++)for(var s=0;s<t;s++){var l=a*t+s<<2;e[l]=Math.round(s*r),e[l+1]=Math.round(a*r),e[l+2]=n,e[l+3]=255}},za.prototype.t=function(){jt.prototype.t.call(this);for(var t=0;t<this.j2.length;t++)this.j2[t].t()};function tn(){jt.call(this,"File Info","finfo"),this.Vs=null,this.N2=null,this.gv=null,this.xr=y.z("div","form scrollable label12"),this.xr.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px"),this.body.appendChild(this.xr);var t=y.z("div","form");this.body.appendChild(t),this.HR=new ei(null,["Hello"]),t.appendChild(this.HR.u),this.a1W=new Tt("Add Parameter",!1,null,!0),t.appendChild(this.a1W.u),this.a1W.$("click",this.BW,this),this.nN=new Tt("=== S A V E ===",!1,null,!0),t.appendChild(this.nN.u),this.nN.$("click",this.B5,this),this.a8E=""}tn.prototype=new jt,tn.prototype.eL=function(t,i){return t<450||i<450?new st(0,0):new st(150,100)},tn.prototype.BW=function(t){if(this.gv.length!=0){var i=this.gv[this.HR.q()],e=this.cw();e[i]=ke.OK[i][0],this.H1(e),this.N2[i].u.scrollIntoView(),this.N2[i].co()}},tn.prototype.Gd=function(t){var i=this.cw();delete i[t.currentTarget.a6L],this.H1(i)},tn.prototype.B5=function(t){var i=this.cw(),e=this.Vs,r=!0;for(var n in e)JSON.stringify(e[n])!=JSON.stringify(i[n])&&(r=!1);for(var n in i)JSON.stringify(e[n])!=JSON.stringify(i[n])&&(r=!1);if(!r){var a=new z(y.E.H,!0);a.Q=C.xC,a.data={e:H.Sc,EB:i},this.w(a),this.Vs=i,this.H1(i)}},tn.TZ=function(t){function i(n){var a=n.toLowerCase();return n==a}for(var e=t.split(":").pop(),r=1;r<e.length-1;r++)e[r]==e[r].toUpperCase()&&(i(e[r+1])||i(e[r-1]))&&(e=e.slice(0,r)+" "+e.slice(r),r++);return e},tn.prototype.Vp=function(t,i){this.Vs=t.ZT,this.H1(t.ZT)},tn.prototype.H1=function(t){var i=this.xr,e=0;y.TD(i);var r=this.N2={},n=["tiff","exif","exif:GPS"],a=this.gv=[],s=[];for(var l in ke.OK){var h=tn.TZ(l),o=0,f=15,u=null;if(t[l]==null){a.push(l),s.push(h);continue}for(var p=0;p<n.length;p++)l.startsWith(n[p])&&(o=p);o!=e&&(y._D(i),e=o),(l=="tiff:ImageDescription"||l=="dc:Keywords")&&(f=18.5,u=3);var c=new se(h,null,f,u);r[l]=c;var d=t[l];d instanceof Array&&(d=d[1]==0?"---":d[0]+"/"+d[1]);var g=new Tt("\u2716",null,Lt.get([5,4]));if(i.appendChild(g.u),g.$("click",this.Gd,this),g.a6L=l,c.k(d),i.appendChild(c.u),y.Rf(i),l=="exif:GPSLongitude"&&t["exif:GPSLatitude"]){this.a8E=tn.HQ(t["exif:GPSLatitude"])+","+tn.HQ(t["exif:GPSLongitude"]);var b=new Tt("Show on map",!1,null,!0);i.appendChild(b.u),y.Rf(i),b.$("click",this.ai7,this)}}this.HR.KI(s),this.HR.k(0)},tn.prototype.cw=function(){var t=this.N2,i=ke.OK,e={};for(var r in i){var n=i[r][0],a=typeof n;if(!(n==null||t[r]==null)){var s=t[r].q(),l='The value of "'+tn.TZ(r)+'" must ';a=="number"?(s=parseFloat(s),isNaN(s)&&(alert(l+"be a number."),s=n)):n instanceof Array&&n.length==2&&(s.indexOf("/")==-1?(alert(l+"be a fraction."),s=n.slice(0)):(s=s.split("/").map(parseFloat),(isNaN(s[0])||isNaN(s[1]))&&(s=n.slice(0)))),e[r]=s}}return e},tn.HQ=function(t){var i=t.length,e=t.slice(0,i-1).split(",").map(parseFloat),r=t.slice(i-1),n=e[0]+e[1]/60+e[2]/3600;return r!="N"&&r!="E"&&(n=-n),n},tn.prototype.ai7=function(t){window.open("https://maps.google.com?q="+this.a8E,"Map")};function Vr(){jt.call(this,[11,5],"gradienteditor"),this.sg=null,this.Xa=null,this.Fs=null,this.EY=null,this.MX=!1,this.Cr=!1,y.KL(this.body,"form"),this.AV=null,this.wr=null,this.Ls=-1,this.v1=-1,this.Th=0,this.ab=this.tz.bind(this),this.Ja=this.JB.bind(this),this.in=y.z("canvas",""),this.YV=this.in.getContext("2d"),this.in.setAttribute("style","display:block"),this.z4=null,y.w4(this.in),y.X8(this.in,this.Fx.bind(this)),this.Ff=new xi([19,3,3],0,100,"%"),this.Ff.$(y.E.I,this.P7,this),this.Ff.parent=this,this.body.appendChild(this.Ff.u),y.Rf(this.body),this.jI=new fe([12,0]),this.body.appendChild(this.jI.u),this.H5=y.z("div","bordered padded noalign"),this.body.appendChild(this.H5),this.Jf=new xi([12,0],0,100,"%"),this.Jf.parent=this,this.Jf.$(y.E.I,this.P7,this),this.H5.appendChild(this.Jf.u),this.Rm=new xi([12,40],0,100,"%"),this.Rm.parent=this,this.Rm.$(y.E.I,this.P7,this),this.H5.appendChild(this.Rm.u),this.cu=new Tt([5,4],!1,null,!0),this.cu.$("click",this.z$,this),this.H5.appendChild(this.cu.u),this.body.appendChild(this.in),y.Rf(this.body),this.a4T=new fe([13,0]),this.body.appendChild(this.a4T.u),this.yr=y.z("div","bordered padded noalign"),this.body.appendChild(this.yr),this.nC=new ei([12,44],[[12,45],[12,46],[12,47]]),this.nC.$(y.E.I,this.P7,this),this.yr.appendChild(this.nC.u),this.Bc=new Ve(!0),this.Bc.parent=this,this.Bc.$(y.E.I,this.P7,this),this.yr.appendChild(this.Bc.u),this.j8=new xi([12,40],0,100,"%"),this.j8.parent=this,this.j8.$(y.E.I,this.P7,this),this.yr.appendChild(this.j8.u),this.CU=new Tt([5,4],!1,null,!0),this.CU.$("click",this.uV,this),this.yr.appendChild(this.CU.u),this.cI=new Tt("OK",!0,null,!0),this.cI.$("click",this.ja,this),this.body.appendChild(this.cI.u),this.$("closebtn",this.Te,this)}Vr.prototype=new jt,Vr.prototype.Te=function(t){this.MX&&this.EY(this.sg)},Vr.prototype.t=function(){jt.prototype.t.call(this),this.Ff.t(),this.jI.t(),this.a4T.t(),this.cu.t(),this.CU.t(),this.Jf.t(),this.Rm.t(),this.nC.t(),this.j8.t()},Vr.prototype.AK=function(t,i){this.Fs=t},Vr.prototype.Vp=function(t,i){this.Xa=JSON.parse(JSON.stringify(i.j)),this.sg=JSON.parse(JSON.stringify(i.j)),this.AV=this.wr=null,this.EY=i.jz,this.MX=!1,this.Cr=i.IF,this.U5(),this.RP()},Vr.prototype.ja=function(t){var i=this.Xa;this.EY(i),this.close()},Vr.prototype.aU=function(t){return t==W.Yk||t==W.Yp},Vr.prototype.gU=function(t,i,e,r){(r.s(W.Yk)||r.s(W.Yp))&&(this.wr&&this.z$(),this.AV&&this.uV())},Vr.prototype.z$=function(t){var i=this.Xa.Trns.v;this.wr==null||i.length==2||(i.splice(i.indexOf(this.wr),1),this.wr=null,this.U5(),this.RP())},Vr.prototype.uV=function(t){var i=this.Xa.Clrs.v;this.AV==null||i.length==2||(i.splice(i.indexOf(this.AV),1),this.AV=null,this.U5(),this.RP())},Vr.prototype.U5=function(){var t=this.in,i=this.YV,e=y.J();t.width=Math.floor(410*e),t.height=Math.floor(90*e),y.Hc(t,t.width,t.height),this.z4=new et(0,0,Math.floor(380*e),Math.floor(32*e)),this.z4.x=Math.floor((this.in.width-this.z4.Z)/2),this.z4.y=Math.floor((this.in.height-this.z4.h)/2);var r=this.z4,n=r.Z,a=r.h,s=r.x,l=r.y,h=new et(0,0,n,a),o=i.getImageData(0,0,n,a),f=new Uint8Array(o.data.buffer);v.RK(f,n,a,8,0,0);var u=v.R(n*a*4);v.j.ao(this.Xa,u,h,[1/n,0,0,1/a],n/2,a/2,!1,0,this.Fs.GY,this.Fs.Ty),v.N.DO("norm",u,r,f,r,r,1),i.clearRect(0,0,t.width,t.height),i.putImageData(o,s,l);for(var p=this.Xa.Trns.v,c=this.Xa.Clrs.v,d=v.j.j0(c,this.Fs.GY,this.Fs.Ty),g=Math.round(6*y.J()),b=Math.round(14*y.J()),m=this.wr?this.wr.v:null,x=this.AV?this.AV.v:null,M=0;M<p.length;M++){var S=p[M].v,w=Math.round(255-255*S.Opct.v.val/100);(S==m||p[M-1]&&p[M-1].v==m||M==this.v1)&&M!=0&&(i.fillStyle="#000000",i.fillRect(s-3+n*(p[M-1].v.Lctn.v+(S.Lctn.v-p[M-1].v.Lctn.v)*S.Mdpn.v/100)/4096,l-6-2,6,6)),S==m&&(i.fillStyle="#ffffff",i.fillRect(s-g+n*(S.Lctn.v/4096)-2,l-2-b-2,2*g+4,b+4)),i.fillStyle="rgb("+w+","+w+","+w+")",i.fillRect(s-g+n*(S.Lctn.v/4096),l-2-b,2*g,b)}for(var M=0;M<c.length;M++){var k=c[M].v,T=d[M];(k==x||c[M-1]&&c[M-1].v==x||M==this.Ls)&&M!=0&&(i.fillStyle="#000000",i.fillRect(s-3+n*(c[M-1].v.Lctn.v+(k.Lctn.v-c[M-1].v.Lctn.v)*k.Mdpn.v/100)/4096,l+a+2,6,6)),k==x&&(i.fillStyle="#ffffff",i.fillRect(s-g+n*(k.Lctn.v/4096)-2,l+a+2-2,2*g+4,b+4)),i.fillStyle="rgb("+Math.round(T.U)+", "+Math.round(T.S)+","+Math.round(T.i)+")",i.fillRect(s-g+n*(k.Lctn.v/4096),l+a+2,2*g,b)}this.Cr&&(this.EY(this.Xa),this.MX=!0)},Vr.prototype.RP=function(){this.Ff.k(Math.round(100*this.Xa.Intr.v/4096));var t=this.Xa.Trns.v,i=this.Xa.Clrs.v,e=this.wr!=null,r=this.v1!=-1;if(this.Jf.b0(e),this.Rm.b0(e||r),this.cu.b0(e),e){this.H5.setAttribute("style","");var n=this.wr.v;this.Rm.k(Math.round(100*n.Lctn.v/4096)),this.Jf.k(n.Opct.v.val)}r&&this.Rm.k(t[this.v1].v.Mdpn.v);var e=this.AV!=null,r=this.Ls!=-1;if(this.nC.b0(e),this.Bc.b0(e),this.j8.b0(e||r),this.CU.b0(e),e){this.yr.setAttribute("style","");var a=this.AV.v;this.j8.k(Math.round(100*a.Lctn.v/4096));var s=a.Type.v.Clry;this.nC.k(["FrgC","BckC","UsrS"].indexOf(s)),s=="FrgC"&&this.Bc.s$(this.Fs.GY),s=="BckC"&&this.Bc.s$(this.Fs.Ty),s=="UsrS"&&this.Bc.k(a.Clr.v)}r&&this.j8.k(i[this.Ls].v.Mdpn.v)},Vr.prototype.P7=function(t){var i=Math.round(4096*this.Ff.q()/100);this.Xa.Intr.v=i;var e=this.Xa.Trns.v,r=this.Xa.Clrs.v;if(this.wr!=null){var n=this.wr.v;n.Lctn.v=Math.round(4096*(this.Rm.q()/100)),n.Opct.v.val=this.Jf.q()}if(this.AV!=null){var a=this.AV.v;a.Lctn.v=Math.round(4096*(this.j8.q()/100)),t.target==this.Bc&&this.nC.k(2);var s=this.nC.q();a.Type.v.Clry=["FrgC","BckC","UsrS"][s],s==2?a.Clr={t:"Objc",v:this.Bc.q()}:a.Clr&&delete a.Clr}this.v1!=-1&&(e[this.v1].v.Mdpn.v=this.Rm.q()),this.Ls!=-1&&(r[this.Ls].v.Mdpn.v=this.j8.q()),this.U5()},Vr.prototype.Fx=function(t){var i=y.oA(t,this.in),e=(i.x*y.J()-this.z4.x)/this.z4.Z,r=(i.y*y.J()-this.z4.y)/this.z4.h,n=this.Xa.Trns.v,a=this.Xa.Clrs.v,s=null,l=null,h=-1,o=-1;if(r<1)for(var f=0;f<n.length;f++){var u=n[f].v;Math.abs(u.Lctn.v/4096-e)<.02&&(s=n[f]),f>0&&Math.abs((n[f-1].v.Lctn.v+(u.Lctn.v-n[f-1].v.Lctn.v)*u.Mdpn.v/100)/4096-e)<.01&&(h=f)}if(r>0)for(var f=0;f<a.length;f++){var p=a[f].v;Math.abs(p.Lctn.v/4096-e)<.02&&(l=a[f]),f>0&&Math.abs((a[f-1].v.Lctn.v+(p.Lctn.v-a[f-1].v.Lctn.v)*p.Mdpn.v/100)/4096-e)<.01&&(o=f)}if(l==null&&s==null&&h==-1&&o==-1){if(r<0){var u={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};u.v.Lctn.v=Math.round(e*4096),n.push(u),n.sort(this.f5),s=u}if(r>1){var a=this.Xa.Clrs.v,c=v.j.j0(a,this.Fs.GY,this.Fs.Ty),d=v.j.it(this.Xa,c,e),p={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:v.j.$H({U:d&255,S:d>>8&255,i:d>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};p.v.Lctn.v=Math.round(e*4096),a.push(p),a.sort(this.f5),l=p}}l!=null&&(o=-1),s!=null&&(h=-1),(l!=null||s!=null||h>-1||o>-1)&&(this.wr=s,this.AV=l,this.v1=h,this.Ls=o,this.RP(),this.U5(),y.Jr(window,this.ab),y.so(window,this.Ja))},Vr.prototype.tz=function(t){var i=y.oA(t,this.in),e=y.J()*(i.x-this.z4.x)/this.z4.Z,r=y.J()*(i.y-this.z4.y)/this.z4.h;e=Math.max(0,Math.min(1,e));var n=this.Xa.Trns.v,a=this.Xa.Clrs.v;if(this.wr!=null){var s=this.wr.v;s.Lctn.v=Math.round(4096*e);var l=n.indexOf(this.wr);l!=-1&&r<-1&&n.length>2&&n.splice(l,1),l==-1&&r>-1&&n.push(this.wr),n.sort(this.f5)}if(this.AV!=null){var h=this.AV.v;h.Lctn.v=Math.round(4096*e);var o=a.indexOf(this.AV);o!=-1&&r>1.5&&a.length>2&&a.splice(o,1),o==-1&&r<1.5&&a.push(this.AV),a.sort(this.f5)}if(this.v1>-1){var s=n[this.v1].v;s.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(e*4096-n[this.v1-1].v.Lctn.v)/(s.Lctn.v-n[this.v1-1].v.Lctn.v))))}if(this.Ls>-1){var h=a[this.Ls].v;h.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(e*4096-a[this.Ls-1].v.Lctn.v)/(h.Lctn.v-a[this.Ls-1].v.Lctn.v))))}(this.wr!=null||this.AV!=null||this.v1>-1||this.Ls>-1)&&(this.RP(),this.U5())},Vr.prototype.JB=function(t){if(y.NG(window,this.ab),y.Sz(window,this.Ja),Date.now()-this.Th<300)if(this.Ls!=-1||this.v1!=-1){var i=(this.Ls!=-1?this.Xa.Clrs.v[this.Ls]:this.Xa.Trns.v[this.v1]).v;i.Mdpn.v=50,this.RP(),this.U5()}else this.AV!=null&&this.Bc.a1M();this.Th=Date.now()},Vr.prototype.f5=function(t,i){return t.v.Lctn.v-i.v.Lctn.v};function us(){jt.call(this,[11,10],"isize"),this.xr=y.z("div","form"),this.xr.setAttribute("style","width:20em"),this.body.appendChild(this.xr),this.bq=new Kr(!0,!0),this.xr.appendChild(this.bq.u),this.XA=new Ft("Resample"),this.XA.k(!0),this.xr.appendChild(this.XA.u),this.XA.$(y.E.I,this.a7A,this),this.zv=new ei([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]),this.zv.k(1),this.xr.appendChild(this.zv.u),this.OB=new Tt("OK",!0,null,!0),this.OB.$("click",this.ja,this),this.body.appendChild(this.OB.u)}us.prototype=new jt,us.prototype.K9=function(t,i){return t!=null},us.prototype.go=function(){return!0},us.prototype.a7A=function(t){var i=this.XA.q(),e=this.bq,r=this.zv;i?r.R8():r.U3(),i?e.a0p():e.afE()},us.prototype.t=function(){jt.prototype.t.call(this),this.zv.t(),this.bq.t()},us.prototype.ja=function(t){this.close();var i=this.bq.q(),e=i.x,r=i.y,n=this.zv.q();this.XA.q()||(n=null);var a=new z(y.E.QJ,!0);a.data=C.$K.cn(e,r,this.bq.av(),n),this.w(a)},us.prototype.Vp=function(t,i){this.bq.k(new st(t.Z,t.h),t.NB)};function wn(){jt.call(this,"Import RAW","importraw");var t=y.z("div","flexrow"),i=y.z("div");this.body.appendChild(t),this.body.appendChild(i);var e=y.z("div","form");e.setAttribute("style","width:16em"),t.appendChild(e);var r=y.z("div","form");r.setAttribute("style","width:14em"),t.appendChild(r),this.rX=null,this.al4=null,this.mJ=null,this.akT=[];for(var n=[],a=0;a<wn.fB.length;a++)n.push(wn.fB[a]+" Bits");this.Of=[new Kr(!0,!0),new me([12,72],["1","3","4"]),new me([12,34],n),new me("Byte Order",["12-34","34-12"]),new ei("Guesses",[])];for(var a=0;a<this.Of.length;a++){var s=this.Of[a];a!=0&&s.k(0),s.$(y.E.I,a==4?this.MA:this.H6,this);var l=a==0?e:a==4?i:r;l.appendChild(s.u)}this.w7=y.z("canvas"),this.ui=this.w7.getContext("2d"),this.body.appendChild(this.w7),this.OB=new Tt("OK",!0,null,!0),this.OB.$("click",this.ja,this),this.body.appendChild(this.OB.u)}wn.prototype=new jt,wn.prototype.t=function(){jt.prototype.t.call(this);for(var t=this.Of,i=0;i<t.length;i++)t[i].t()},wn.prototype.ja=function(t){this.close();var i=this.Of[0].q(),e=ui.Y$(this.al4,[{data:this.mJ,ym:new et(0,0,i.x,i.y)}]),r=new z(y.E.L,!0);r.data={e:y.B.qD,EA:e},this.w(r)},wn.fB=[8,16],wn.prototype.Vp=function(t,i){this.rX=new Uint8Array(i.Zs),this.al4=i.Z5;for(var e=this.rX.length,r=[1,3,4],n=0,a=0,s=1,l=1,h=this.akT=[],o=0;o<3;o++)for(var f=0;f<2;f++){var u=wn.fB[f],p=r[o],c=p*u,d=Math.round(e*8/c);if(d==e*8/c){for(var g=0;g<=4e3;g++)for(var b=0;b<=4e3;b++)if(g*b==d){var m=0;g==b&&(m+=64),Math.round(g/100)==g/100&&Math.round(b/100)==b/100&&(m+=32),Math.round(g/10)==g/10&&Math.round(b/10)==b/10&&(m+=16),Math.round(g/2)==g/2&&Math.round(b/2)==b/2&&(m+=8),h.push([g,b,p,u,m])}}}var x=function(T,L){if(L[4]!=T[4])return L[4]-T[4];var O=Math.max(T[0],T[1])/Math.min(T[0],T[1]),E=Math.max(L[0],L[1])/Math.min(L[0],L[1]);return O!=E?O-E:L[0]-T[0]};h.sort(x);for(var M=this.Of,S=[],w=0;w<h.length;w++){var k=h[w];S.push(k[0]+" x "+k[1]+", "+k[2]+"c, "+k[3]+"-bit")}M[4].KI(S),M[4].k(0),this.MA(null)},wn.prototype.MA=function(t){var i=this.Of,e=this.akT[this.Of[4].q()];i[0].k(new st(e[0],e[1]),72),i[1].k([1,3,4].indexOf(e[2])),i[2].k(wn.fB.indexOf(e[3])),this.H6()},wn.prototype.H6=function(t){var i=this.Of,e=i[0].q(),r=e.x,n=e.y,a=wn.fB[i[2].q()],s=this.rX;if(a==16&&i[3].q()==1){s=s.slice(0);for(var l=0;l<s.length;l+=2){var h=s[l];s[l]=s[l+1],s[l+1]=h}}var o=this.mJ=UPNG.toRGBA8.decodeImage(s,r,n,{tabs:{},ctype:[0,2,6][i[1].q()],depth:a}),f=this.w7,u=this.ui,p=[o,new et(0,0,r,n)];v.hE(p);for(var l=0;l<p.length;l+=2)if(p[l+1].h<300){o=p[l],r=p[l+1].Z,n=p[l+1].h;break}f.width=r,f.height=n,y.Hc(f,r,n);var c=new ImageData(new Uint8ClampedArray(o.buffer),r,n);u.putImageData(c,0,0)};function Ie(t,i,e){At.call(this),this.u=y.z("div",""),this.zn=t,this.tV=null,this.jA=i==null?!1:i,this.kI=null,this.kf=e,this.Ay=[],this.vj=[],this.y8=[],this.zF=[],this.Cu=0,this.tV=this.a05(Ie.zF[t]),this.uZ()}Ie.prototype=new At,Ie.prototype.a0o=function(){for(var t=0;t<this.zF.length;t++)y.sT(this.zF[t],"selected"),this.y8[t]instanceof Ft&&this.y8[t].k(!1)},Ie.prototype.al5=function(t){for(var i=this.a9c.bind(this),e=0;e<this.y8.length;e++){var r=y.z("div","listitem");if(this.zF.push(r),e>0&&(r.textContent="\u2003"),r.appendChild(this.y8[e].u),at.eB.indexOf(this.zn)!=-1){var n=new Tt("+");n.V2(),n.u.style.float="right",r.appendChild(n.u);var a=new Tt("\u2B0D");a.V2(),a.u.style.float="right",a.u.style["margin-right"]="2px",r.appendChild(a.u)}r.addEventListener("click",i,!1),t.appendChild(r)}},Ie.d6=function(t,i){var e=i.getBoundingClientRect();return(t.clientY-e.top)/e.height},Ie.prototype.a9c=function(t){var i=t.target.tagName.toLowerCase();if(i!="input"){if(i=="button"){var e=new z(y.E.H,!0),r=t.target.textContent=="+",n=r?0:Ie.d6(t,t.target)<.5?-1:1;r?e.data={e:"st_dupsingle",n:this.parent.data.n,q_:this.kf}:e.data={e:"st_movsingle",n:this.parent.data.n,q_:this.kf,agj:n},e.Q=C.FA,e.qQ=!0,this.w(e),e=new z("redrawall",!0),e.data={agj:n},this.w(e);return}y.OZ(t),this.jO(),this.Cu=this.zF.indexOf(t.currentTarget),this.w(new z("showme"))}},Ie.prototype.jO=function(){this.tV.enab&&this.tV.enab.q()==!1&&this.nQ({lg:"enab",C:!0})},Ie.prototype.ajL=function(){var t=this.zF[this.Cu];return t&&y.KL(t,"selected"),this.vj[this.Cu]},Ie.prototype.a05=function(t){for(var i={},e=0;e<t.length;e++){var r=t[e],n=null;r=="----"&&(n={u:y.z("hr")}),r==`
`&&(n={u:y.z("br")}),r=="blOptions"&&(n=new fe([14,10])),r=="brst"&&(n=new Xn([12,72],["R","G","B"])),r=="knko"&&(n=new ei("Knockout",[[13,1,0],"Shallow","Deep"])),r=="enab"&&(n=new Ft(at.names[at.order.indexOf(this.zn)])),(r=="lrMd"||r=="Md")&&(n=new ei([12,19,0],ti.Zn,!1,ti.wp)),r=="Opct"&&(n=new oe([12,0],0,100,"%")),r=="iOpa"&&(n=new oe([12,26],0,100,"%")),r=="blIf"&&(n=new Ws),r=="ShdN"&&(n=new oe([12,68],0,100,"%")),(r=="lagl"||r=="Angl")&&(n=new Sn([12,15])),r=="uglg"&&(n=new Ft([12,27])),r=="Dstn"&&(n=new oe([12,28],0,200,"px")),r=="Ckmt"&&(n=new oe([12,29],0,100,"%")),r=="blur"&&(n=new oe([12,14,0],0,200,"px")),(r=="TrnS"||r=="MpgS")&&(n=new _a([12,21])),r=="Nose"&&(n=new oe([12,30],0,100,"%")),r=="layerConceals"&&(n=new Ft([12,31])),(r=="AntA"||r=="antialiasGloss")&&(n=new Ft("Anti-alias")),r=="GlwT"&&(n=new ei([12,32],at.I7.names)),r=="glwS"&&(n=new ei([12,70],at.I7.ak7)),r=="Inpr"&&(n=new oe([12,12],1,100,"%")),r=="bvlS"&&(n=new ei([12,22],at.lc.style)),r=="bvlT"&&(n=new ei([12,32],at.lc.ajm)),r=="bvlD"&&(n=new ei(null,at.lc.dir)),r=="srgR"&&(n=new oe([12,34],0,1e3,"%")),r=="Sftn"&&(n=new oe([12,35],0,20,"px")),r=="Lald"&&(n=i.lagl),(r=="hglM"||r=="sdwM")&&(n=new ei([12,36],ti.Zn,!1,ti.wp)),(r=="hglC"||r=="sdwC")&&(n=new Ve),(r=="hglO"||r=="sdwO")&&(n=new oe([12,0],0,100,"%")),(r=="Invr"||r=="InvT")&&(n=new Ft([4,11])),r=="Sz"&&(n=new oe([12,14,0],1,200,"px")),r=="Styl"&&(n=new ei([12,40],at.stroke.names)),r=="PntT"&&(n=new ei([12,66],at.stroke.a6v)),r=="Clr"&&(n=new Ve(!0)),r=="Grad"&&(n=new jn(!0,[12,37],!0),n.k(JSON.parse(at.Bf.wB).v)),r=="Rvrs"&&(n=new Ft([12,23,0])),r=="Dthr"&&(n=new Ft("Dither")),r=="Type"&&(n=new ei([12,22],at.j.names.slice(0,this.zn=="FrFX"?6:5))),r=="Ptrn"&&(n=new zr([12,62])),r=="Scl"&&(n=new oe([12,38],10,500,"%",0,!0)),r=="Algn"&&(n=new Ft([12,39])),r=="Ofst"&&(n=new Ca(!0)),r=="phase"&&(n=new Ca(!1)),r=="useShape"&&(n=new Ft([12,21])),r=="useTexture"&&(n=new Ft([12,67])),r=="textureDepth"&&(n=new oe([12,34],-300,300,"%"));var a=r=="----"||r==`
`?r+e:r;n!=null&&(i[a]=n)}return i},Ie.prototype.aba=function(t){for(var i=this.vj[this.Cu],e=0;e<t.length;e++){var r=this.tV[t[e]];r&&i.contains(r.u)&&i.removeChild(r.u)}},Ie.prototype.adH=function(t){for(var i=this.vj[this.Cu],e=0;e<t.length;e++){var r=this.tV[t[e]];r&&!i.contains(r.u)&&i.appendChild(r.u)}},Ie.prototype.AK=function(t,i){if(this.tV!=null){var e=i==ut.oc;this.tV.Grad&&(this.tV.Grad.dn(t.GY,t.Ty),(e||i==ut.Io||i==ut.uw)&&this.tV.Grad._F(t.dY)),this.tV.Ptrn&&(e||i==ut.AT)&&this.tV.Ptrn._F(t.WB),this.tV.TrnS&&(e||i==ut.wj)&&this.tV.TrnS._F(t.rN),this.tV.MpgS&&(e||i==ut.wj)&&this.tV.MpgS._F(t.rN)}},Ie.prototype.t=function(){for(var t=0;t<this.Ay.length;t++)this.Ay[t].t();for(var i in this.tV)this.tV[i]instanceof At&&this.tV[i].t()},Ie.prototype.uZ=function(){for(var t in this.tV){var i=this.tV[t];if(i.parent=this,i instanceof At&&i.$(y.E.I,this.afm,this),this.vj.length==0||t=="useShape"||t=="useTexture"){var e=new fe(i.m1()),r=y.z("div","bordered padded");this.jA==!1&&(r.appendChild(e.u),r.appendChild(y.z("hr",""))),this.Ay.push(e),this.vj.push(r),this.y8.push(i)}else this.vj[this.vj.length-1].appendChild(i.u)}},Ie.prototype.update=function(t,i){if(this.tV!=null){this.jA&&(this.kI=JSON.parse(JSON.stringify(i)));for(var e in i){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(e)!=-1&&this.tV[e].k(i[e].v.val),"enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(e)!=-1&&this.tV[e].k(i[e].v,t),["Md","hglM","sdwM"].indexOf(e)!=-1&&this.tV[e].k(ti.zn.indexOf(i[e].v.BlnM)),e=="lrMd"){var r=(i.fO?[[15,10,27]]:[]).concat(ti.Zn),n=(i.fO?[1]:[]).concat(ti.wp);this.tV[e].KI(r,n),this.tV[e].k(i[e].v)}if(e=="lagl"){var a=i.uglg&&i.uglg.v?t.Rp():i.lagl.v.val;this.tV[e].k(a)}if(e=="Lald"){var a=i.uglg&&i.uglg.v?t.$p():i.Lald.v.val;this.tV[e].k(null,a)}if(e=="Type"&&this.tV[e].k(at.j.types.indexOf(i.Type.v.GrdT)),e=="Styl"&&this.tV[e].k(at.stroke.types.indexOf(i.Styl.v.FStl)),e=="PntT"){var s=at.stroke._n.indexOf(i.PntT.v.FrFl);this.tV[e].k(s),this.jA||(this.aba(at.QB.concat(at.Zt.concat(at.QZ))),this.adH([at.QB,at.Zt,at.QZ][s]))}e=="GlwT"&&this.tV[e].k(at.I7.types.indexOf(i.GlwT.v.BETE)),e=="glwS"&&this.tV[e].k(at.I7.zC.indexOf(i.glwS.v.IGSr)),e=="bvlS"&&this.tV[e].k(at.lc.types.indexOf(i.bvlS.v.BESl)),e=="bvlT"&&this.tV[e].k(at.lc.O5.indexOf(i.bvlT.v.bvlT)),e=="bvlD"&&this.tV[e].k(["In","Out"].indexOf(i.bvlD.v.BESs))}}},Ie.prototype.afm=function(t){for(var i in this.tV)if(this.tV[i]==t.target){var e=null,r=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(i)!=-1&&(e={type:"#Prc",val:t.target.q()}),["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(i)!=-1&&(e={type:"#Pxl",val:t.target.q()}),["Angl","lagl"].indexOf(i)!=-1&&(e={type:"#Ang",val:t.target.q().Fu}),"enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(i)!=-1&&(e=t.target.q()),["Md","hglM","sdwM"].indexOf(i)!=-1&&(e={BlnM:ti.zn[t.target.q()]}),i=="uglg"&&(e=t.target.q(),r=!0),i=="PntT"&&(e={FrFl:at.stroke._n[t.target.q()]},r=!0),i=="Lald"&&(e={type:"#Ang",val:t.target.q().alt}),i=="Type"&&(e={GrdT:at.j.types[t.target.q()]}),i=="Styl"&&(e={FStl:at.stroke.types[t.target.q()]}),i=="GlwT"&&(e={BETE:at.I7.types[t.target.q()]}),i=="glwS"&&(e={IGSr:at.I7.zC[t.target.q()]}),i=="bvlS"&&(e={BESl:at.lc.types[t.target.q()]}),i=="bvlT"&&(e={bvlT:at.lc.O5[t.target.q()]}),i=="bvlD"&&(e={BESs:["In","Out"][t.target.q()]}),this.nQ({lg:i,C:e}),r)if(this.jA)this.update(null,this.kI);else{var n=this.parent,a=n.EA,s=this.kf,l=a.r[n.data.n].add.lmfx[at.og[s[0]]].v[s[1]].v;this.update(a,l)}}},Ie.prototype.nQ=function(t){if(this.jA)this.kI[t.lg].v=t.C,this.w(new z(y.E.I));else{t.e="changeprop",t.n=this.parent.data.n,t.XN=this.kf;var i=new z(y.E.H,!0);i.data=t,i.Q=C.FA,i.qQ=!0,this.w(i),this.w(new z("afterchange",!0))}},Ie.prototype.q=function(){return JSON.parse(JSON.stringify(this.kI))},Ie.zF={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose",`
`,"Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose",`
`,"Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS",`
`,"hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(at.QB),GrFl:["enab","Md","Opct"].concat(at.Zt),patternFill:["enab","Md","Opct"].concat(at.QZ),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl",`
`,"Md","Opct","PntT",`
`].concat(at.QB.concat(at.Zt.concat(at.QZ)))};function Ne(){jt.call(this,[11,6],"layerstyle"),this.a1L=-1,this.data={},this.EA=null,this.yH=null,this.cY=[],this.nW=[],y.KL(this.body,"flexrow"),this.EI=y.z("div","bordered"),this.EI.setAttribute("style","min-width:13em;"),this.body.appendChild(this.EI),this.E1=y.z("div",""),this.E1.setAttribute("style","width:25em; padding-left: 1em;"),this.body.appendChild(this.E1),this.X7=y.z("div","form"),this.X7.setAttribute("style","padding-left: 1em; width:7em;"),this.body.appendChild(this.X7),this.cI=new Tt("OK",!0,null,!0),this.cI.$("click",this.ja,this),this.X7.appendChild(this.cI.u),this.B4=new Tt([12,87],!0,null,!0),this.B4.$("click",this.a0s,this),this.X7.appendChild(this.B4.u),this.Gq=new ba,this.Gq.parent=this,this.Gq.$(y.E.I,this.a2b,this),this.X7.appendChild(this.Gq.u),this.$("closebtn",this.Te,this),this.$("redrawall",this.rC,this)}Ne.prototype=new jt,Ne.prototype.go=function(){return!0},Ne.prototype.a2b=function(t){var i=this.Gq.q();this.nQ({e:"setstl",C:i.rB}),this.rC(null)},Ne.prototype.a0s=function(t){var i=this.EA,e=this.data.n;e==null&&(e=i.p[0]);var r=this.EA.r[e],n=St.Wj(r),a=new z(y.E.L,!0);a.data={e:y.B.Sl,RY:"add",S9:ut.Ym,EM:[JSON.parse(JSON.stringify(n))]},this.w(a)},Ne.prototype.a0j=function(t){this.data.index=t.currentTarget.kf,this.kg(t.currentTarget.kf)},Ne.prototype.rC=function(t){this.Vp(this.EA,this.data)},Ne.prototype.kg=function(t,i){y.TD(this.E1);for(var e=0;e<this.cY.length;e++)this.cY[e].a0o();var r=t==0?this.cY[0]:this.nW[t[0]][t[1]];this.E1.appendChild(r.ajL()),i&&r.jO();var n=this.EA;if(n){var a=n.r[this.data.n];this.cY[0].update(n,dt.NO.CX(n,a));var s=a.add.lmfx;if(s==null)return;for(var e=0;e<at.order.length;e++)for(var l=s[at.og[e]].v,h=0;h<l.length;h++)this.nW[e][h].update(n,l[h].v)}i&&r.jO()},Ne.prototype.t=function(){jt.prototype.t.call(this),this.B4.t(),this.Gq.t();for(var t=0;t<this.cY.length;t++)this.cY[t].t()},Ne.prototype.Vp=function(t,i){var e=i.n==null;this.data.n=i.n,this.data.index=i.index,i=this.data,this.EA=t,e&&(i.n=t.p.length==0?t.r.length-1:t.p[0]),y.TD(this.EI);var r=t.r[i.n].add.lmfx;this.xp(),this.cY=[new Ie("bops",!1,0)],this.nW=[];for(var n=0;n<at.order.length;n++){this.nW.push([]);for(var a=r==null?[]:r[at.og[n]].v,s=0;s<a.length;s++){var l=new Ie(at.order[n],!1,[n,s]);this.cY.push(l),this.nW[n].push(l)}if(a.length==0){var l=new Ie(at.order[n],!1,[n,0]);this.cY.push(l),this.nW[n].push(l)}}this.t(),this.f8(this.yH,ut.oc);for(var n=0;n<this.cY.length;n++)this.cY[n].parent=this,this.cY[n].al5(this.EI),this.cY[n].$("showme",this.a0j,this);i.index==null||i.index==0||!e&&r[at.og[i.index[0]]].v.length==0?this.kg(0):this.kg(i.index,e),this.$("afterchange",this.xp,this)},Ne.prototype.xp=function(t){var i=this.EA,e=this.data.n;e==null&&(e=i.p[0]);var r=this.EA.r[e],n=St.Wj(r);this.Gq.k(n,i.add.Patt?i.add.Patt:[],i.Rp(),i.$p())},Ne.prototype.AK=function(t,i){this.yH=t,this.f8(t,i),(i==ut.Ym||i==ut.oc)&&this.Gq._F([t.gg,t.WB]),i==ut.jq},Ne.prototype.f8=function(t,i){for(var e=0;e<this.cY.length;e++)this.cY[e].AK(t,i)},Ne.prototype.Te=function(t){this.nQ({e:"cancel"})},Ne.prototype.ja=function(t){this.nQ({e:"confirm"}),this.close()},Ne.prototype.nQ=function(t){t.n=this.data.n;var i=new z(y.E.H,!0);i.data=t,i.Q=C.FA,i.qQ=!0,this.w(i),this.xp()},Ne.B0=function(t){for(var i=[{name:[14,10],aD:!0}],e=0;e<at.names.length;e++)i.push({name:at.names[e]});return t&&(i[i.length-1].aD=!0,i.push({name:"Styles To Separate Layers",Y:function(r){return{Y:r!=null&&r.p.length!=0&&r.r[r.p[0]].add.lmfx!=null}}})),i},Ne.OS=function(t){for(var i=[{f:y.E.L,o:{e:y.B.uH,W2:"layerstyle"}}],e=0;e<at.names.length;e++)i.push({f:y.E.L,o:{e:y.B.uH,W2:"layerstyle",index:[e,0]}});if(t){var r={classID:"Mk",null:Di.Pe("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};i.push({f:y.E.QJ,o:{Bm:"make",w1:r}})}return i},Ne.U2=function(t){var i=[];t&&i.push({name:[6,48,0,0],sD:!0},{name:[6,48,0,1],sD:!0},{name:[6,48,0,2],sD:!0,aD:!0});for(var e in Vt.names)i.push({name:Vt.names[e],aD:Vt.wZ.indexOf(e)!=-1,sD:K[e]!=null});return i},Ne.hn=function(t){var i=[];if(t)for(var e=0;e<3;e++)i.push({f:y.E.QJ,o:C.sp.XL(e)});for(var r in Vt.names){var n=Zt.tt(r);n==null&&(n={});for(var a in Vt.om)Vt.om[a]==r&&(n.classID=a);var s={Bm:"make",w1:{classID:"Mk",null:Di.Pe("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:n}}}}};i.push({f:y.E.QJ,o:s})}return i};function xl(){jt.call(this,"Merge Channels","mergechannels"),this.vw=null;var t=y.z("div","form");this.body.appendChild(t),this.Of=[];for(var i=0;i<3;i++){var e=new ei(Vt.Nx[i],[]);this.Of.push(e),t.appendChild(e.u),y.Rf(t)}this.cI=new Tt("OK",!0,null,!0),this.cI.$("click",this.ja,this),t.appendChild(this.cI.u)}xl.prototype=new jt,xl.prototype.t=function(){jt.prototype.t.call(this);for(var t=0;t<3;t++)this.Of[t].t()},xl.prototype.Vp=function(t,i,e,r){this.vw=e;for(var n=[],a=0;a<e.length;a++)n.push(e[a].name);for(var a=0;a<3;a++){var s=this.Of[a];s.KI(n),s.k(Math.min(a,e.length-1))}},xl.prototype.ja=function(t){var i=this.vw,e=i[0],r=new z(y.E.QJ,!0);r.data=Pt.Gg(e.Z,e.h,e.NB,"Merged Document","Wht"),this.w(r);for(var n=[],a=0;a<3;a++)n.push(i[this.Of[a].q()].lD());for(var e=i[i.length-1],s=e.r[0],l=s.buffer,a=0;a<l.length;a+=4)l[a]=n[0][a],l[a+1]=n[1][a],l[a+2]=n[2][a];s.A(),e.A(),this.close()};function en(){jt.call(this,[1,10],"script");var t=y.z("div","form");t.setAttribute("style","width:44em"),this.body.appendChild(t),this.yH=null,this.C8=[],this.qs=[],this.aeW;var i=this.nN=new Tt([1,2],!1,null,!0);i.$("click",this.B5,this),t.appendChild(i.u);var e=new Tt("JS Reference",!1,null,!0);e.$("click",this.ahX,this),t.appendChild(e.u),t.appendChild(new fe("Demos:").u),this.abN=[];for(var r=en.tM,n=0;n<r.length;n++){var a=new Tt(r[n].Bj,!1,null,!0);this.abN.push(a),t.appendChild(a.u),a.$("click",this.af5,this)}this.Lo=y.z("textarea"),this.Lo.setAttribute("rows",16),this.Lo.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;"),t.appendChild(this.Lo);var s=new Tt("Run",!0,null,!0);s.$("click",this.ja,this),t.appendChild(s.u),this.a0m=y.z("div"),t.appendChild(this.a0m)}en.prototype=new jt,en.prototype.t=function(){this.nN.t()},en.prototype.B5=function(){var t=this.aeW;t==null&&(t="script.jsx");var i=new z(y.E.L,!0);i.data={e:y.B.uH,W2:"namewindow",Ub:t.slice(0,t.length-4),j4:this.a0k.bind(this)},this.w(i)},en.prototype.a0k=function(t){var i=this.Lo.value,e=A.vI(i),r=new z(y.E.L,!0);r.data={e:y.B.Wp,Zs:e.buffer,st:t+".jsx",abv:!0},this.w(r)},en.prototype.a8N=function(t){var i=this.C8.indexOf(t.target),e=this.aeW=this.qs[i],r=this.yH.Er.qU[e],n=new Uint8Array(r),a=A.bc(n,0,n.length);this.Lo.value=a},en.prototype.Vp=function(t,i,e){this.Lo.value=en.tM[0].Uh,this.kL()},en.prototype.kL=function(){var t=this.yH.Er,i=this.a0m;y.TD(i),this.C8=[],this.qs=[],i.textContent="Saved scripts: ";for(var e in t.qU)if(e.endsWith(".jsx")){var r=new Tt(e,!1,null,!0);this.C8.push(r),this.qs.push(e),r.$("click",this.a8N,this),i.appendChild(r.u)}},en.prototype.AK=function(t,i){this.yH=t,i==ut.gq&&this.kL()},en.prototype.ahX=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.Xk,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"},this.w(i)},en.prototype.ja=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.kP,YS:this.Lo.value},this.w(i)},en.prototype.af5=function(t){var i=this.abN.indexOf(t.currentTarget);this.Lo.value=en.tM[i].Uh},en.tM=[{Bj:"Hello",Uh:`
alert("Hello Photopea!");
`},{Bj:"Process Layers",Uh:`
var lays = app.activeDocument.layers;

for(var i=0; i<lays.length; i++)
{
	//lays[i].visible = false;
	//lays[i].opacity = 50;
	lays[i].name = "My Layer "+i;
}`},{Bj:"Clone Layers",Uh:`
var orig = app.activeDocument.activeLayer;
var cnt = 12;
var angle = Math.floor(360 / cnt);

for(var i=1; i<cnt; i++)
{
	var nlay = orig.duplicate();
	//nlay.translate(30*i, 20*i);
	nlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);
}`}];function yr(){jt.call(this,[11,7],"newproject"),this.data=null,this.vw=null;var t=y.z("div","flexrow");this.H8=t,this.body.appendChild(t);var i=y.z("div","form");this.xr=i,t.appendChild(i),this.v8=new se([12,48]),i.appendChild(this.v8.u),y.Rf(i),this.bq=new Kr(!0),this.bq.k(new st(1280,720),72),this.bq.$(y.E.I,this.dE,this),i.appendChild(this.bq.u),this.$v=new ei([12,46],[[13,1,8],[13,1,9],[12,46]]),i.appendChild(this.$v.u),i.appendChild(y.z("hr")),this.OB=new Tt([12,49],!0,null,!0),this.OB.$("click",this.ja,this),i.appendChild(this.OB.u);for(var e=yr.rX,r=[],n=0;n<e.length;n++)r.push(e[n].name);this.zz=new me(null,r),this.zz.$(y.E.I,this.TL,this),i.appendChild(this.zz.u),this.zz.u.style["margin-top"]="1em",this.Yu=new Hr(!0),this.Yu.$(y.E.I,this.a3F,this),i.appendChild(this.Yu.u),this.TL(),this.bK=new fn,this.bK.parent=this,this.bK.u.setAttribute("style","margin-left:1em"),this.bK.$("tempready",this.a9w,this)}yr.prototype=new jt,yr.prototype.AK=function(t,i){this.bK.AK(t)},yr.prototype.eL=function(t,i){return new st(Math.max(0,Math.min(70,(t-690)/2)),t>i?Math.max(0,Math.min(50,(i-400)/2)):0)},yr.prototype.l9=function(t,i){this.xr.setAttribute("style","width:"+Math.min(t,338)+"px"),this.Yu.u.style.height=i-260+"px";var e=this.bK.u,r=e.parentNode;t<500?r!=null&&this.H8.removeChild(e):r==null&&this.H8.appendChild(e),this.bK.l9(t-360,i-35)},yr.prototype.dE=function(){this.bK.k(this.bq.q())},yr.prototype.a3F=function(t){var i=this.Yu.q(),e=yr.rX[this.zz.q()].qh[i],r=e[4];r==0&&(r=72);var n=e[1],a=e[2],s=["px","%","mm","in"].indexOf(e[3]),l=[1,1,25.4/r,1/r][s];n/=l,a/=l,this.bq.k(new st(Math.round(n),Math.round(a)),r),this.bq.a5z(s),this.Yu.tj(i),this.dE()},yr.prototype.TL=function(t){for(var i=yr.rX[this.zz.q()].qh,e=[],r=[],n=Math.round(106*y.J()),a=Math.round(106*y.J()),s=0,l=0;l<i.length;l++)s=Math.max(s,i[l][1],i[l][2]);for(var l=0;l<i.length;l++){var h=i[l],o=h[1]+" x "+h[2]+" "+h[3];h[3]=="in"&&(o=(h[1]*25.4).toFixed(0)+" x "+(h[2]*25.4).toFixed(0)+" mm"),h[3]=="mm"&&(o=(h[1]/25.4).toFixed(1)+" x "+(h[2]/25.4).toFixed(1)+" in"),h[4]&&(o=o+" @ "+h[4]+" ppi"),r.push(o),e.push(yr.m2(h,n,a,s))}this.Yu.Lf(e,r,n,a)},yr.m2=function(t,i,e,r){var n=y.z("canvas",""),a=n.getContext("2d");n.width=i,n.height=e;var s=Math.round(i/8),l=Math.floor(11*y.J()),h=t[1],o=t[2];a.fillStyle="#000000",a.font=Math.round(l*.9)+'px "Open Sans", Sans-Serif';var f=h+" x "+o+" "+t[3],u=a.measureText(f);if(a.fillText(f,Math.round((i-u.width)/2),e-Math.round(s/2)),t[0]!=null){a.font="bold "+l+'px "Open Sans", Sans-Serif';var f=t[0],u=a.measureText(f);a.fillText(f,Math.round((i-u.width)/2),e-Math.round(s/2)-Math.round(l*1.3))}e-=Math.round(2.5*l);var p=Math.min((i-s)/h,(e-s)/o);p*=.5+.5*(Math.max(h,o)/r);var c=(i-h*p)/2,d=(e-o*p)/2;return a.strokeRect(Math.round(c)+.5,Math.round(d)+.5,Math.round(h*p),Math.round(o*p)),n.toDataURL()},yr.prototype.t=function(){jt.prototype.t.call(this),this.bq.t(),this.v8.t(),this.$v.t(),this.OB.t(),this.v8.k(Lt.get([11,7])),this.zz.t(),this.bK.t()},yr.prototype.ja=function(t){var i=this.bq.q(),e=i.x,r=i.y;this.close();var n=new z(y.E.QJ,!0);n.data=Pt.Gg(e,r,this.bq.av(),this.v8.q(),["Wht","Trns","BckC"][this.$v.q()]),this.w(n),this._P()},yr.prototype.a9w=function(t){var i=t.data.EA,e=new z(y.E.L,!0);e.data={e:y.B.qD,EA:i},this.w(e),this.close(),this._P()},yr.prototype._P=function(){var t=this.vw[this.vw.length-1],i=this.data.a7n;i&&Le.de(function(){var e=new XMLHttpRequest,r="https://www.googleapis.com/drive/v3/files?"+Le.pS();e.open("POST",r,!0),e.setRequestHeader("Content-Type","application/json"),e.addEventListener("load",function(n){var a=JSON.parse(n.target.response);t.D2={file:a,S6:"psd"},alert(t.name+" created in Google Drive")}),e.send(JSON.stringify({name:t.name,a1U:[i]}))})},yr.prototype.Vp=function(t,i,e,r){if(this.vw=e,t!=null&&t.K!=null){var n=new et(0,0,t.Z,t.h).$X(t.K.rect);this.bq.k(new st(n.Z,n.h))}this.data=i,this.dE(),this.v8.co(),y.hM()&&ui.a0F(this.ahz.bind(this))},yr.prototype.ahz=function(t){t=="granted"&&ui.ll(this,this.aiG.bind(this))},yr.prototype.aiG=function(t,i){this.bq.k(new st(i.Z,i.h))},yr.rX=[{name:"Social",qh:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],qh:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],qh:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],qh:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],qh:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],['iPad Pro 9.7"',1536,2048,"px",0],['iPad Pro 10.5"',1668,2224,"px",0],['iPad Pro 12.9"',2048,2732,"px",0]]},{name:[12,88,3],qh:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",qh:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];function wa(t,i,e){jt.call(this,i,"sel_"+t),this.e=t;var r=y.z("div","form");this.body.appendChild(r),this.v8=new xi(i,0,255,null,0,!1,!0),r.appendChild(this.v8.u),this.v8.k(1);var n=y.z("span");n.textContent=e,r.appendChild(n),y.Rf(r),this.a8m=new Ft("Apply at canvas bounds"),t!="border"&&r.appendChild(this.a8m.u),this.cI=new Tt("OK",!0,null,!0),this.cI.$("click",this.ja,this),r.appendChild(this.cI.u)}wa.prototype=new jt,wa.prototype.K9=function(t,i){if(t!=null)return t.K==null&&alert("No selection!"),t.K!=null},wa.prototype.ja=function(t){var i=new z(y.E.QJ,!0);i.data=C.hl.abI(this.e,this.v8.q(),this.a8m.q()),i.qQ=!0,this.w(i),this.close()},wa.prototype.t=function(){jt.prototype.t.call(this),this.v8&&this.v8.t()},wa.prototype.Vp=function(t,i){};function ta(t,i,e,r){jt.call(this,e,i),this.Cr=r,this.rX=null,this.xr=y.z("div","form"),this.body.appendChild(this.xr),this.v8=t==0?new se(e):new xi(e,0,500,null,0,!1,!0),this.v8.$(y.E.I,this.ko,this),this.xr.appendChild(this.v8.u),this.cI=new Tt("OK",!0,null,!0),this.cI.$("click",this.ja,this),this.xr.appendChild(this.cI.u),this.$("closebtn",this.Te,this)}ta.prototype=new jt,ta.prototype.go=function(){return!0},ta.prototype.ko=function(t){var i=this.v8.q();this.Cr&&this.IE(i)},ta.prototype.Te=function(t){this.Cr&&this.IE("cancel")},ta.prototype.ja=function(t){this.Cr?this.IE("confirm"):this.IE(this.v8.q()),this.close()},ta.prototype.IE=function(t){if(this.rX.j4)this.rX.j4(t);else if(this.rX.VN){var i=this.rX.VN,e=new z(i.f,!0);e.Q=i.Q,e.data=i.o,e.data.C=t,e.qQ=!0,this.w(e)}},ta.prototype.t=function(){jt.prototype.t.call(this),this.v8&&this.v8.t()},ta.prototype.Vp=function(t,i){this.rX=i,this.v8.k(i.Ub),this.v8.co(),this.ko(null)};function Cl(){jt.call(this,[1,5],"open_from_url"),this.q3=null;var t=y.z("div","form");this.body.appendChild(t),this.iU=new se("URL",null,22),t.appendChild(this.iU.u),this.iU.$(y.E.I,this.ja,this),y.Rf(t),this.cM=new me([21,0],[[21,2],[21,1]]),t.appendChild(this.cM.u),this.OB=new Tt("OK",!0,null,!0),this.OB.$("click",this.ja,this),t.appendChild(this.OB.u)}Cl.prototype=new jt,Cl.prototype.t=function(){jt.prototype.t.call(this),this.cM.t()},Cl.prototype.Vp=function(t,i,e){this.iU.co(),this.q3=null,t&&e.indexOf(t)!=-1&&(this.q3=e.indexOf(t))},Cl.prototype.ja=function(t){var i=new z(y.E.L,!0),e=this.iU.q();i.data={e:y.B.JX,S9:{url:e,pY:!0,q3:this.cM.q()==1?this.q3:null}},this.w(i),this.close()};function Qs(){jt.call(this,[12,79],"preferences"),this.yH=null;var t=y.z("div","form");this.body.appendChild(t),this.zF=[new Ft([8,2]),new Ft([8,4]),new ei([12,80,3],[[12,93,3],[12,80,4]]),new oe([12,80,5],1,100,null,2),new ei(null,v.t$.bs),new ei([12,80,6],v.t$.bs)];for(var i=0;i<this.zF.length;i++){var e=this.zF[i];t.appendChild(e.u),i!=3&&y.Rf(t),e.$(y.E.I,this.Ca,this)}}Qs.prototype=new jt,Qs.prototype.t=function(){jt.prototype.t.call(this);for(var t=0;t<this.zF.length;t++)this.zF[t].t()},Qs.prototype.Vp=function(t,i,e){},Qs.prototype.AK=function(t,i){this.yH=t,this.zF[0].k(t.Np.ei),this.zF[1].k(t.Np.aG),this.zF[2].k(t.Np.QI),this.zF[3].k(t.Np.vZ),this.zF[4].k(t.Np.pO),this.zF[5].k(t.Np.Md)},Qs.prototype.Ca=function(t){var i=this.zF,e=JSON.parse(JSON.stringify(this.yH.Np));e.ei=i[0].q(),e.aG=i[1].q(),e.QI=i[2].q(),e.vZ=i[3].q(),e.pO=i[4].q(),e.Md=i[5].q(),e.pO!=4&&(e.vZ=Math.round(e.vZ));var r=new z(y.E.L,!0);r.data={e:y.B.Sl,S9:ut.HI,uB:e},this.w(r)};function Ur(){jt.call(this,[11,8],"saveforweb"),this.a3T="",this.$("closebtn",function(){this.iq.JD()},this),this.YE=new st(512,512),this.EA=null,this.m0=null,this.ak_=null,this.yH=null,y.KL(this.body,"flexrow");var t=y.z("div"),i=y.z("div");this.body.appendChild(t),this.body.appendChild(i),this.yr=y.z("div","imgcont"),t.appendChild(this.yr),this.iq=new ue,this.iq.l9(this.YE.x,this.YE.y),this.mV=y.z("span"),t.appendChild(this.mV),this.xr=y.z("div","form cell"),this.xr.setAttribute("style","width:15em; padding-left:1em;"),i.appendChild(this.xr),this.Pt=new ei([12,50],ft.Nq()),this.xr.appendChild(this.Pt.u),this.Pt.$(y.E.I,this.nF,this),this.bq=new Kr(!1,!0),this.bq.$(y.E.I,this.nF,this),this.xr.appendChild(this.bq.u),this.ar=new qa,this.ar.$(y.E.I,this.nF,this),this.xr.appendChild(this.ar.u),this.w3=new Tt([1,2],!0,null,!0),this.w3.$("click",this.ja,this),this.xr.appendChild(this.w3.u)}Ur.prototype=new jt,Ur.prototype.K9=function(t,i){return t!=null},Ur.prototype.t=function(){jt.prototype.t.call(this),this.bq.t(),this.Pt.t(),this.ar.t(),this.w3.t()},Ur.prototype.ja=function(t){var i=this.EA.name.split(".")[0],e=ft.Nq()[this.Pt.q()],r=this.m0,n=i+"."+e.toLowerCase(),a=this.EA,s=a.P0;if(s.length!=0&&(e=="JPG"||e=="PNG"||e=="GIF")&&this.ar.q().pop()){for(var l=`<!DOCTYPE html>
<html>
<style>div {position:absolute;}</style>
<head></head>
<body>
`,h=[],o={},f=new et(0,0,a.Z,a.h),u=a.lD(),p=0;p<s.length;p++)h.push(C.e9.rF(s,p));h.reverse();for(var c=v.rect._T([0,0,a.Z,a.h],h),p=0;p<c.length;p++){var d=c[p],g=new et(d[0],d[1],d[2]-d[0],d[3]-d[1]),b=d.length==5?s[d[4]].v:null,m=v.R(g.M()*4);v.BP(u,f,m,g);var x="img/img"+(p+1)+"."+e.toLowerCase();o[x]=new Uint8Array(ft.$I(e).bb([[m.buffer,0]],g.Z,g.h,this.ar.q())),l+=`<div style="background-image:url('`+x+"'); left:"+g.x+"px; top:"+g.y+"px; width:"+g.Z+"px; height:"+g.h+'px">',b&&b.url.v!=""&&(l+=`
	<a href="`+b.url.v+'" target="'+b.null.v+`" style="display:block;width:100%;height:100%;"></a>
`),l+=`</div>
`}l+=`</body>
</html>
`;var M=v.R(Math.round(l.length*1.5)),S=A.vr(l,M,0);o["index.html"]=M.slice(0,S),r=UZIP.encode(o),n=i+".zip"}var w=new z(y.E.L,!0);w.data={e:y.B.QL,data:r,name:n},this.w(w),this.iq.JD(),this.close()},Ur.prototype.Vp=function(t,i){i.On!=null&&this.Pt.k(i.On),this.EA=t;var e=t.Z+","+t.h;e!=this.a3T&&(this.a3T=e,this.bq.k(new st(t.Z,t.h))),this.ar.a2p(),this.nF(null,!0)},Ur.prototype.eL=function(t,i){return new st(Math.max(0,Math.min(150,(t-770)/2)),Math.max(0,Math.min(150,(i-590)/2)))},Ur.prototype.l9=function(t,i){if(this.YY=t,this.mi=i,this.YE.x=Math.min(512,t-26-214),this.YE.y=Math.min(512,i-45),this.EA!=null){var e=this.bq.q(),t=e.x,i=e.y,r=ft.Nq()[this.Pt.q()],n=ft.$I(r),a='<span style="width:',s='display:inline-block; text-align:right;">';if(n.Vi){var l=t,h=i,o;r=="PDF"||n.mw?(l=this.YE.x,h=this.YE.y):(l=Math.min(t+20,this.YE.x),h=Math.min(i+20,this.YE.y)),this.yr.firstChild.setAttribute("style","display:block; width:"+l+"px; height:"+h+"px;")}else if(n.mw)l=this.YE.x,h=this.YE.y;else{var f=this.ak_,u=f[0].ym,l=u.Z,h=u.h;this.iq.l9(Math.max(50,Math.min(l/y.J(),this.YE.x)),Math.max(50,Math.min(h/y.J(),this.YE.y)))}var p=this.m0.byteLength,c=r+":"+a+64+"px;"+s+Ur.WY(p)+"</span>";this.YE.x>200&&(c+=a+90+"px; opacity:"+.5+";"+s+p.toLocaleString()+" B</span>"),this.mV.innerHTML=c}},Ur.WY=function(t){for(var i=0;t>>>i+10!=0;)i+=10;var e=(t/(1<<i)).toFixed(1),r=["B","KB","MB","GB"][Math.floor(i/10)];return e+" "+r},Ur.prototype.AK=function(t,i){this.yH=t},Ur.prototype.nF=function(t,i){var e=this.bq.q(),r=e.x,n=e.y,a=this.Pt.q(),s=ft.Nq()[a],l=ft.aN(this.EA)[0].length,h=["GIF","PNG","WEBP"].indexOf(s)!=-1&&l>1,o="";if(h&&i&&(l>4&&r*n>1024*1024||r*n*l>800*800*50)){for(var f=1;Math.max(r>>>f,n>>>f)>800;)f++;var u=window.confirm("Your animation is large ("+r+" x "+n+' px). Press "OK" to scale it to '+(100>>>f)+'%. Press "Cancel" to keep the size.');u&&(this.bq.k(new st(r>>>f,n>>>f)),r=r>>>f,n=n>>>f)}this.ar.vJ(s,h,this.EA.P0.length!=0);var p=this.ar.q();if(this.m0=ft.eX(this.EA,s,r,n,p,this.yH),this.m0==null){this.EA=null;return}y.TD(this.yr),this.iq.JD();var c=ft.$I(s);if(c.mw)this.yr.innerHTML="<div></div>",o+="width:0px";else if(c.Vi){var d=r,g=n,b;s=="PDF"?b=URL.createObjectURL(new Blob([this.m0],{type:"application/pdf"})):b=URL.createObjectURL(new Blob([this.m0],{type:"image/svg+xml"})),this.yr.innerHTML='<iframe src="'+b+'"></iframe>'}else{var m=this.ak_=c.xo(this.m0),x=m[0].ym,d=x.Z,g=x.h;this.iq.k(m,m.length>1?p[p.length-2]:0),this.yr.appendChild(this.iq.u),o="background: rgba(0,0,0,0);"}this.yr.setAttribute("style","display:block; background-size:"+16/y.J()+"px;"+o),this.l9(this.YY,this.mi)};function vs(){jt.call(this,[11,13],"shortcuts");var t=this.H8=y.z("div","scrollable");t.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em"),this.body.appendChild(t),this.tH()}vs.prototype=new jt,vs.prototype.t=function(){jt.prototype.t.call(this),this.tH()},vs.prototype.tH=function(){var t='<div style="line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;" class="">',i="",e=W,r=e.Bl,n=e.cm,a=e.ze;i+='<h2 style="margin-top:0;">Main Menu</h2>',i+=t,i+=this.E6([[0,0],"---",[1,0],[r,e.PW],[1,2],[r,e.Z7],[1,3],[n,r,e.Z7],[1,8],[a,n,r,e.Z7],[0,1],"---",[2,0],[n,r,e.HW],[2,1],[r,e.HW],[5,0],[r,e.ej],[5,1],[r,e.qS],[5,2],[r,e.fv],[2,2],"Delete",[2,3],[a,e.Yp],[10,16],[a,r,e.G],[12,79],[r,e.zo],[3],"---",[4,1],[r,e.Ov],[4,2],[r,e.eO],[4,5],[r,e.B6],[4,11],[r,e.vu],[0,3],"---",[6,0],[r,e.RH],[6,6,0],[a,r,e.da],[6,9],[r,e.da],[6,10],[r,e.E],[0,5],"---",[7,0],[r,e.B],[7,1],[r,e.fY],[7,2],[n,r,e.vu],[0,7],"---",[8,0],[r,e.Kh],[8,1],[r,e.lY],[8,3],[r,e.YP],[8,2],[r,e.JS],[8,4],[r,e.e7],[11,13],"?"]),i+="</div>",i+='<h2 style="margin-top:1.5em;">Navigation</h2>',i+=t,i+=this.E6(["Vertical scroll","Wheel","Horizontal scroll",[r,"Wheel"],"Zooming",[a,"Wheel"]]),i+="</div>",i+='<h2 style="margin-top:1.5em;">Quick tools (press to enable, release to disable)</h2>',i+=t,i+=this.E6([[10,11],[r],[10,7],"Space",[10,17],[r,e.fd]]),i+="</div>",i+='<h2 style="margin-top:1.5em;">Tools</h2>',i+=t;for(var s=vs.lt,l=[],h=0;h<s.length;h+=3)s[h+1]&&l.push(s[h],s[h+1]);l=l.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]),i+=this.E6(l),i+="</div>",this.H8.innerHTML=i},vs.prototype.E6=function(t){for(var i="",e=!0,r=0;r<t.length;r+=2){var n=t[r],a=W.u0(t[r+1]);if(a==null){e=!1;continue}var s=y.KY(Lt.get(n));a=="---"?(e||(i+="<br/>"),i+='<div style="font-weight:bold; border-bottom: 1px solid;">'+s+"</div>"):i+="<div>"+s+' <span style="float:right; font-weight:bold;">'+a+"</span> </div>",e=!1}return i},vs.lt=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];function Xl(){jt.call(this,[8,11,1],"soptions"),this.j$=null;var t=y.z("div","form");t.style.width="20em",this.body.appendChild(t),this.Wg={Nm:[12,48],url:"URL",null:[12,71]},this.zF={};for(var i in this.Wg){var e=new se(this.Wg[i],null,15);this.zF[i]=e,t.appendChild(e.u)}var r=new Tt("OK",!0,null,!0);r.$("click",this.ja,this),t.appendChild(r.u)}Xl.prototype=new jt,Xl.prototype.Vp=function(t,i,e){var r=i.C;this.j$=JSON.stringify(r);for(var n in this.Wg)r[n]&&this.zF[n].k(r[n].v)},Xl.prototype.ja=function(t){var i=JSON.parse(this.j$);for(var e in this.Wg){var r=this.zF[e].q();i[e]={t:"TEXT",v:r}}var n=new z(y.E.H,!0);n.Q=C.Xy,n.data=i,n.qQ=!0,this.w(n),this.close()};function Ka(){jt.call(this,[2,3],"fill"),this.yH=null,this.nc=null;var t=y.z("div","form padded");t.style.width="22em",this.body.appendChild(t),this.wN="FrgC BckC Clr Blck Gry Wht contentAware".split(" "),this.QC=new ei([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]),this.QC.$(y.E.I,this.a7S,this),t.appendChild(this.QC.u),this.yr=y.z("span"),t.appendChild(this.yr),this.z1=new Ve,this.z1.parent=this,this.z1.s$(0),this.v6=new ei([12,19,0],ti.Zn,!1,ti.wp),t.appendChild(this.v6.u),this.ok=new oe([12,0],0,100,"%",0,!1),this.ok.k(100),t.appendChild(this.ok.u),this.OB=new Tt("OK",!0,null,!0),this.OB.$("click",this.ja,this),this.body.appendChild(this.OB.u)}Ka.prototype=new jt,Ka.prototype.K9=function(t,i){return t!=null},Ka.prototype.go=function(){return!0},Ka.prototype.a7S=function(){var t=this.QC.q()==2,i=this.z1.u,e=this.yr;t?e.appendChild(i):e.contains(i)&&e.removeChild(i)},Ka.prototype.t=function(){jt.prototype.t.call(this),this.QC.t(),this.v6.t(),this.ok.t()},Ka.prototype.ja=function(t){if(!!this.nc.FD()){var i=new z(y.E.QJ,!0),e=this.QC.q();i.data=C.gn.XL(this.wN[e],ti.YA[this.v6.q()],this.ok.q()/100,this.z1.q()),this.close(),this.w(i)}},Ka.prototype.Vp=function(t,i){this.nc=t},Ka.prototype.AK=function(t,i){this.yH=t};function cs(){jt.call(this,[14,9],"stroke"),this.yH=null,this.xr=y.z("div","form"),this.xr.setAttribute("style","width:24em"),this.body.appendChild(this.xr),this.Ri=new Ie("FrFX",!0),this.Ri.parent=this;for(var t=["Sz","Styl","Md","Opct"].concat(at.QB),i=0;i<t.length;i++){var e=this.Ri.tV[t[i]].u;this.xr.appendChild(e)}this.adM=!1,this.OB=new Tt("OK",!0,null,!0),this.OB.$("click",this.ja,this),this.body.appendChild(this.OB.u)}cs.prototype=new jt,cs.prototype.K9=function(t,i){return t!=null},cs.prototype.go=function(){return!0},cs.prototype.t=function(){jt.prototype.t.call(this),this.Ri.t()},cs.prototype.ja=function(t){var i=new z(y.E.H,!0);i.Q=C.um,i.data={e:"stroke",a3I:this.Ri.q()},this.close(),this.w(i)},cs.prototype.Vp=function(t,i){if(!this.adM){var e=at.IW[at.order.indexOf("FrFX")];e=JSON.parse(e),this.Ri.update(t,e),this.adM=!0}var e=this.Ri.q(),r=this.yH.GY;e.Clr.v=v.j.$H({U:r>>16&255,S:r>>8&255,i:r&255}),this.Ri.update(t,e)},cs.prototype.AK=function(t,i){this.yH=t};function Wa(){jt.call(this,[11,9],"textwarp"),this.zF=new Ls,this.zF.$(y.E.I,this.d5,this),this.zF.parent=this,this.xr=y.z("div","form"),this.xr.setAttribute("style","width:20em"),this.body.appendChild(this.xr),this.xr.appendChild(this.zF.tX.u),this.xr.appendChild(this.zF.GF.u),this.xr.appendChild(this.zF.pw.u),this.xr.appendChild(this.zF.yA.u),this.xr.appendChild(this.zF.$A.u),this.OB=new Tt("OK",!0,null,!0),this.OB.$("click",this.ja,this),this.xr.appendChild(this.OB.u),this.$("closebtn",this.Te,this)}Wa.prototype=new jt,Wa.prototype.go=function(){return!0},Wa.prototype.t=function(){jt.prototype.t.call(this),this.zF.t()},Wa.prototype.d5=function(t){var i=this.zF.q();this.IE({e:"warp",mD:i})},Wa.prototype.IE=function(t){var i=new z(y.E.H,!0);i.Q=C.OX,i.data=t,i.qQ=!0,this.w(i)},Wa.prototype.Te=function(t){this.IE({e:"warpCancel"})},Wa.prototype.ja=function(t){this.IE({e:"warpConfirm"}),this.close()},Wa.prototype.Vp=function(t,i){var e=t.r[t.p[0]];this.zF.k(e.add.TySh.VU)};function kn(){jt.call(this,"Raw Photopea","rawpea"),this.mJ=null,this.tb=null,this.iz=null,this.a9W=0,this.h_=null,this.gF=null,this.aiQ=500,this.aes=500,this.$("closebtn",this.bJ,this),y.KL(this.body,"flexrow");var t=y.z("div"),i=y.z("div"),e='<svg  class="autoscale gsicon" viewBox="0 0 14 18" width="14" height="18" fill="black"><path d="M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z" /></svg>';i.setAttribute("style","padding-left: 1em"),this.body.appendChild(t),this.body.appendChild(i),this.w7=y.z("canvas"),t.appendChild(this.w7),this.x5=new Yn(225),this.x5.DJ(4),i.appendChild(this.x5.u),this.xr=y.z("div"),this.xr.setAttribute("style","width:18em;"),i.appendChild(this.xr),this.a0O=new fe("Hi",!0),this.xr.appendChild(this.a0O.u),this.pE=[new Ht("Temperature",2e3,13e3),new Ht("Tint",-150,150),new Ht([4,3],-4,4,null,!0),new Ht([12,3,0],-100,100)];for(var r=0;r<this.pE.length;r++){var n=this.pE[r];n.k(0),n.$(y.E.I,this.qK,this),this.xr.appendChild(n.u),r==1&&this.xr.appendChild(y.z("hr"))}this.OB=new Tt([1,0],!0,null,!0),this.OB.$("click",this.ja,this),this.xr.appendChild(this.OB.u),this.yl=new Tt(e+" JPG",!0,null,!0),this.yl.$("click",this.alL,this),this.xr.appendChild(this.yl.u),this.yl.u.style.marginTop="6px"}kn.prototype=new jt,kn.prototype.eL=function(){return new st(0,0)},kn.prototype.l9=function(t,i){this.aiQ=t-274,this.aes=i-32,this.mJ&&this.mp()},kn.prototype.t=function(){jt.prototype.t.call(this),this.OB.t();for(var t=0;t<this.pE.length;t++)this.pE[t].t()},kn.prototype.alL=function(t){var i=this.mJ,e=this.tb,r=v.R(i.width*i.height*4);v.XB(r,4294967295),v.raw.Ly(e,r,i,this.bg());var n=ft.$I("JPG").bb([[r.buffer]],e.kN,e.xh,[85]),a=new z(y.E.L,!0);a.data={e:y.B.QL,data:n,name:"photo.jpg"},this.w(a)},kn.prototype.ja=function(t){var i=this.mJ,e=this.tb,r=v.R(i.width*i.height*4);v.XB(r,4294967295),v.raw.Ly(e,r,i,this.bg());var n=ke.J2(i),i={ym:new et(0,0,e.kN,e.xh),data:r.buffer,ZT:n},a=ui.Y$("Raw Photo",[i]),s=new z(y.E.L,!0);s.data={e:y.B.qD,EA:a},this.w(s),this.bJ(),this.close()},kn.prototype.bJ=function(){this.mJ=null,this.tb=null,this.h_=null,this.gF=null},kn.prototype.Vp=function(t,i,e,r){this.mJ=i.jX,this.tb=v.raw.acA(this.mJ);var n=this.tb;this.a0O.k(n.kN+" x "+n.xh+", "+(n.kN*n.xh/1e6).toFixed(1)+" MPx");var a=v.raw.a96(i.jX);this.iz=Jr.j7(a),this.pE[0].k(this.iz.Ur),this.pE[1].k(this.iz.Ro);for(var s=2;s<this.pE.length;s++)this.pE[s].k(0);this.mp()},kn.prototype.AK=function(t,i){this.x5.s$(In.lB[t.hb]["--text-color"])},kn.prototype.mp=function(){for(var t=this.tb,i=t.kN,e=t.xh,r=1;i/r>this.aiQ*y.J()||e/r>this.aes*y.J();)r++;var n=Math.floor(i/r),a=Math.floor(e/r);this.h_={Ww:new Float32Array(n*a*3),kN:n,xh:a};var s=this.w7.getContext("2d");this.gF=s.createImageData(n,a),v.XB(this.gF.data,4294967295);for(var l=1/(r*r),h=0;h<a;h++)for(var o=0;o<n;o++){for(var f=0,u=0,p=0,c=(o+1)*r,d=(h+1)*r,g=h*r;g<d;g++)for(var b=o*r;b<c;b++){var m=(g*i+b)*3;f+=this.tb.Ww[m],u+=this.tb.Ww[m+1],p+=this.tb.Ww[m+2]}var x=(h*n+o)*3;this.h_.Ww[x]=f*l,this.h_.Ww[x+1]=u*l,this.h_.Ww[x+2]=p*l}this.qK()},kn.prototype.qK=function(){var t=this.mJ,i=this.h_.kN,e=this.h_.xh,r=i*e,n=this.w7,a=n.getContext("2d");n.width=i,n.height=e,y.Hc(n,i,e),v.raw.Ly(this.h_,new Uint8Array(this.gF.data.buffer),t,this.bg()),a.putImageData(this.gF,0,0);for(var s=v.NC(this.gF.data),l=0;l<4;l++)for(var h=1;h<256;h++)s[l][h]==0&&(s[l][h]=s[l][h-1]);for(var l=0;l<4;l++)for(var h=1;h<256;h++)s[l][h]==0&&(s[l][h]=s[l][h-1]);this.x5.k(s)},kn.prototype.bg=function(){for(var t=[],i=0;i<this.pE.length;i++)t.push(this.pE[i].q());return t};function ia(){jt.call(this,[11,11],"vbitmap"),this.rX=null,this.ne=null,this.o$=null,this.bI=null,this.cz=null,this.Z0=this.U5.bind(this),this.xr=y.z("div","form hbar"),this.body.appendChild(this.xr),this.Oq=new oe([12,82],2,50,null),this.Oq.$(y.E.I,this.U5,this),this.xr.appendChild(this.Oq.u),this.Of="",this.c2=new Ft([12,81]),this.c2.$(y.E.I,this.U5,this),this.xr.appendChild(this.c2.u),this.Ws=new Ft("Segmentize"),this.Ws.$(y.E.I,this.U5,this),this.xr.appendChild(this.Ws.u),this.OB=new Tt("OK",!1,null,!0),this.OB.$("click",this.ja,this),this.xr.appendChild(this.OB.u);var t=y.z("div","flexrow"),i=16;this.body.appendChild(t),this.J9=new ue,this.J9.$("viewchange",this.gE,this),this.ob=y.z("canvas"),this.ob.setAttribute("style","margin-left: 1px; cursor:grab;"),this.YV=this.ob.getContext("2d");var e=v.R(16*16*4);v.RK(e,i,i,8,0,0),this.xU=v.scale._$(e,i,i),this.J9.fk(this.ob),t.appendChild(this.J9.u),t.appendChild(this.ob)}ia.prototype=new jt,ia.prototype.eL=function(){return new st(0,0)},ia.prototype.go=function(){return!0},ia.prototype.l9=function(t,i){i=i-26-30,t=Math.floor((t-28)/2),y.Tv(this.ob,t,i),this.J9.l9(t,i)},ia.prototype.gU=function(t,i,e,r){this.J9.gU(r)},ia.prototype.t=function(){jt.prototype.t.call(this),this.Oq.t(),this.c2.t(),this.Ws.t(),this.OB.t()},ia.prototype.Vp=function(t,i){this.cz=t;var e=t.r[t.p[0]],r=v.Hr.DK(e.buffer.buffer,e.rect.Z,e.rect.h).adf,n=r/((e.rect.Z-2)*(e.rect.h-2));this.c2.k(n<.75),this.Ws.k(n<.75);var a=e.rect.clone();a.x=a.y=0,this.rX={ym:a,data:e.buffer.buffer.slice(0)},this.ne=null,this.J9.k([this.rX]),this.Oq.k(20),setTimeout(this.Z0,20)},ia.prototype.U5=function(){var t=!0,i=Date.now(),e=this.rX,r=this.c2.q(),n=this.Ws.q(),a=r||n,s=r+","+n;if(a&&(this.ne==null||this.Of!=s)){this.Of=s,console.log("recomputing");var m=new Uint8Array(e.data.slice(0)),l=15,h=35,x=e.ym.Z,M=e.ym.h;if(r&&Zt.$z(m,m,x,M,l,v.Ai.Nz,[h],2),t&&(console.log("denoise",Date.now()-i),i=Date.now()),n){for(var o=v.Hr.xH(m,x,M),f=o.zo,u=new Uint8Array(f*4),p=0;p<f;p++){var c=p*4,d=p*6,g=1/o.OR[d+5];u[c]=o.OR[d]*g,u[c+1]=o.OR[d+1]*g,u[c+2]=o.OR[d+2]*g}for(var p=0;p<m.length;p+=4){var b=o.zM[p>>>2]*4;m[p]=u[b],m[p+1]=u[b+1],m[p+2]=u[b+2]}}this.ne={ym:e.ym.clone(),data:m.buffer},t&&(console.log("segm",Date.now()-i),i=Date.now())}a&&(e=this.ne);for(var m=new Uint8Array(e.data),x=e.ym.Z,M=e.ym.h,p=0;p<m.length;p+=4)m[p+3]<10&&(m[p]=m[p+1]=m[p+2]=m[p+3]=0);var S=v.Hr.a9H(m,x,M,this.Oq.q(),a?.1:2e-4);t&&(console.log("doclipart",Date.now()-i),i=Date.now());for(var w=S.zM.slice(0),p=0;p<w.length;p++)w[p]++;var k=new Uint8Array((x+2)*(M+2));v.Lj(w,new et(1,1,x,M),k,new et(0,0,x+2,M+2));for(var T=Math.round((x+2)*(M+2)/1e4),L=ln.ih(k,x+2,M+2,Math.min(12,T)),O=ln.Cj(L),E=new Et(1,0,0,1,-1,-1),p=0;p<O.length;p++)v.D.O(O[p].path.d,E,O[p].path.d);this.bI=O,this.o$=S,t&&(console.log("trace",Date.now()-i),i=Date.now());for(var p=0;p<O.length;p++)for(var D=O[p],B=p+1;B<O.length;B++){var I=O[B];if(!(S.a2[I.color-1].est.q[3]>.05||I.parent!=p)){var N=I.path.W.slice(1);N.reverse(),N=["M"].concat(N);for(var V=[],L=I.path.d.length,j=0;j<L;j+=2)V[j]=I.path.d[L-2-j],V[j+1]=I.path.d[L-2-j+1];v.D.concat(D.path,{d:V,W:N})}}for(var p=0;p<O.length;p++){var D=O[p],R=S.a2[D.color-1].est.q;if(R[3]<=.05){O.splice(p,1),p--;continue}}for(var p=1;p<O.length;p++){var G=O[p-1],D=O[p];if(G.color==D.color){v.D.concat(G.path,D.path),O.splice(p,1),p--;continue}}this.gE()},ia.prototype.gE=function(t){if(this.bI!=null){var i=this.rX.ym.Z,e=this.rX.ym.h,r=this.bI,n=this.o$.a2,a=this.YV,s=this.J9.kC();a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,a.canvas.width,a.canvas.height),a.translate(a.canvas.width/2,a.canvas.height/2),a.scale(s.F,s.F),a.translate(s.c.x/s.F-i/2,s.c.y/s.F-e/2),a.scale(1/s.F,1/s.F),a.fillStyle=this.xU,a.fillRect(0,0,i*s.F,e*s.F),a.scale(s.F,s.F);for(var l=[],h=0;h<n.length;h++){var o=n[h].est.q;l.push({U:Math.round(255*o[0]),S:Math.round(255*o[1]),i:Math.round(255*o[2]),m:Math.round(255*o[3])})}for(var h=0;h<r.length;h++){var f=r[h],o=l[f.color-1];o.m!=0&&(a.fillStyle="rgba("+o.U+","+o.S+","+o.i+","+o.m/255+")",a.beginPath(),Typr.U.pathToContext({crds:f.path.d,cmds:f.path.W},a),a.fill())}}},ia.prototype.ja=function(t){var i=this.bI,e=i.length==1,r=this.cz,n=r.p[0],a=r.r[n],s=r.r.slice(0,n);e||s.push(r.Px());for(var l=0;l<i.length;l++){var h=i[l],o=this.o$.a2[h.color-1].est.q;v.D.O(h.path.d,new Et(1,0,0,1,a.rect.x,a.rect.y),h.path.d);var f=r.an();f.uf("Path "+l),s.push(f),f.opacity=Math.round(o[3]*255),f.ix|=16,f.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.j.$H({U:255*o[0],S:255*o[1],i:255*o[2]})}},f.add.vmsk=new H.iO,f.add.vstk=JSON.parse(JSON.stringify(at.bW.default)),f.add.vmsk.b=v.D.sb(h.path,!1),f.add.vogk=[],f.h7(),f._V(r)}var u=s[s.length-1];if(!e){var f=r.an();f.uf(a.getName()),f.add.lsct=Ci.lw,f.sW="pass",f.ix=24,s.push(f),u=f}var p=a.add.lmfx;p&&(u.add.lmfx=JSON.parse(JSON.stringify(p)));for(var l=n+1;l<r.r.length;l++)s.push(r.r[l]);var c=new z(y.E.H,!0);c.qQ=!0,c.Q=C.xC,c.data={e:H.Pj,L_:s,Od:[n+i.length+(e?-1:1)],tP:[11,11]},this.w(c),this.close()};function ar(t){jt.call(this,[[7,11],"Magic Cut"][t],["redge","magiccut"][t]),this.y9=t,this.rX={},this.A4=null,this.s0=null,this.cz=null,this.pW=null,this.HG=null,this.wl=[],this.nS=-1,this.xr=y.z("div","form hbar"),this.body.appendChild(this.xr),this.S8=new Nn,this.S8.parent=this,this.S8.$(y.E.I,this.b9,this),this.xr.appendChild(this.S8.u);var i=t==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"],e=t==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];this.lz=new Ss(null,i,e,28),this.xr.appendChild(this.lz.u),this.TJ=new xi([7,9],0,50,null),this.TJ.parent=this,this.TJ.$(y.E.I,[this.yh,this.U5][t],this),this.xr.appendChild(this.TJ.u);var r=this.a8G=new Tt([2,2],!1,null,!0);r.$("click",this.bJ,this),this.xr.appendChild(r.u);var n=this.afG=new Tt([12,90],!1,null,!0);n.$("click",function(l){alert(t==0?Lt.get([15,7,1]):"Mark the object with Green, background with Red.",5e3)},this),this.xr.appendChild(n.u);var a=y.z("span","form");this.xr.appendChild(a),a.setAttribute("style","position:absolute;  right:0px"),this.ew=new Ss([12,46],["checker","white","black"]),this.ew.$(y.E.I,this.w0,this),a.appendChild(this.ew.u),this.Wn=new ei(null,[[6,13],[6,2],[17,2]]),a.appendChild(this.Wn.u),this.OB=new Tt("OK",!1,null,!0),this.OB.$("click",this.ja,this),a.appendChild(this.OB.u);var s=y.z("div","flexrow");this.body.appendChild(s),this.Ox=new ue(!0),this.Xv=new ue,this.Ox.Dx(this.Xv),this.Xv.Dx(this.Ox),this.Ox.$("mousedown",this.Qf,this),this.Ox.$("mousemove",this.Ap,this),this.Ox.$("mouseup",this.sj,this),this.Ox.$("zoom",this.b9,this),this.Xv.$("zoom",this.b9,this),s.appendChild(this.Ox.u),s.appendChild(this.Xv.u)}ar.prototype=new jt,ar.prototype.K9=function(t,i){var e=t!=null&&!t.r[t.p[0]].rect.qr();return e||alert("The layer is empty."),e},ar.prototype.eL=function(){return new st(0,0)},ar.prototype.go=function(){return!0},ar.prototype.l9=function(t,i){i=i-26-33,t=Math.floor((t-28)/2),this.Ox.l9(t,i),this.Xv.l9(t,i)},ar.prototype.t=function(){jt.prototype.t.call(this),this.S8.t(),this.TJ.t(),this.OB.t(),this.ew.t(),this.Wn.t(),this.a8G.t(),this.afG.t()},ar.prototype.AK=function(t,i){this.s0=t,(i==ut.Sm||i==ut.oc)&&(this.S8._F(t.aF),this.S8.k(ye.Jl(),t.aF.Xu,t.aF.A6))},ar.prototype.gU=function(t,i,e,r){this.pW=r;var n=C.gn.gp(this.S8.q(),r);if(n!=null)this.S8.k(n),this.b9();else if(r.s(W.Bl)&&r.s(W.HW)){var a=this.wl,s=0;if(r.s(W.cm)?this.nS+1<a.length&&(s=1):this.nS>0&&(s=-1),s!=0){this.nS+=s;var l=this.nS,h=this.rX;s==1?v.BP(a[l][2],a[l][0],h.i5,h.rect):v.BP(a[l+1][1],a[l+1][0],h.i5,h.rect),h.NZ=h.rect,this.U5()}}else this.Ox.gU(r)},ar.prototype.M3=function(t){var i=this.rX,e=this.wl,r=v.R(t.M()*4);v.BP(i.a$,i.rect,r,t),i.a$=null;var n=v.R(t.M()*4);for(v.BP(i.i5,i.rect,n,t),this.nS++,e[this.nS]=[t.clone(),r,n];e.length>this.nS+1;)e.pop();for(;e.length>50;)e=e.slice(1),this.nS--},ar.prototype.b9=function(){var t=this.s0,i=Qt.b_(this.S8.q(),t.aF.Xu,this.Ox.kC().F);this.Ox._e(i)},ar.prototype.Qf=function(t){var i=this.s0,e=this.rX,r=this.pW,n=this.S8.q(),a=this.Ox.fJ(),s=[16777215,8421504,0][this.lz.q()];this.A4=new Qt(n,i.aF.list[0].Xu,i.aF.list[0].A6,{Jf:1,mc:!0},s,i.Ty,e.rect),e.a$=e.i5.slice(0),r!=null&&r.s(W.cm)&&this.HG?(this.A4.moveTo(this.HG.x,this.HG.y),this.A4.lineTo(a.x,a.y)):this.A4.moveTo(a.x,a.y),this.fq()},ar.prototype.Ap=function(t){var i=this.rX,e=this.Ox.fJ();this.A4.lineTo(e.x,e.y),this.fq()},ar.prototype.sj=function(t){this.HG=this.Ox.fJ(),this.M3(this.A4.J0()),this.U5()},ar.prototype.fq=function(){var t=this.rX,i=this.A4,e=i.Oo();e.qr()||(t.NZ=e,v.N.DO("norm",i.qq(),i.o7(),t.i5,t.rect,e,1),this.L7())},ar.prototype.bJ=function(t){var i=this.rX;i.a$=i.i5.slice(0),i.NZ=i.rect,v.XB(i.i5,[4278190080,4292730333][this.y9]),this.M3(i.rect),this.U5()},ar.prototype.Vp=function(t,i){this.cz=t;var e=t.r[t.p[0]],r=e.rect.clone(),n=r.Z,a=r.h;this.TJ.k(this.y9==0||n*a<3e6?3:0),this.lz.k(t.K==null?0:1),this.TJ.U3(),(this.y9==0&&t.K!=null||this.y9==1)&&this.TJ.R8();var s=this.y9,l=v.R(r.M()),h=new Float32Array(r.M());if(s==0&&t.K){v.Lj(t.K.channel,t.K.rect,l,r);for(var o=v.R(r.M()),f=0;f<a;f++)for(var u=0;u<n;u++){var p=f*n+u,c=l[p];(u>0&&l[p-1]!=c||u<n-1&&l[p+1]!=c||f>0&&l[p-n]!=c||f<a-1&&l[p+n]!=c)&&(o[p]=255)}v.style.QT(o,h,n,a)}else h.fill(1e9);if(r.x=r.y=0,this.rX={rect:r,Ww:e.buffer,la:l,bX:h,Db:v.R(r.M()*4),Ks:v.R(r.M()*4),i5:v.R(r.M()*4),a$:null,kw:null,NZ:r,aeB:{}},s==0)this.yh();else{this.rX.aeB=C.J4.t2(t);var d=this.rX.i5;v.XB(d,4287137928);for(var g=v.bT.getSelection(e.buffer,n,a),b=Math.round(n/60),m=Math.round(.7*a),f=0;f<a;f++)for(var u=0;u<n;u++){var x=(f*n+u)*4,M=g[x>>>2];M=M>128?255:128,(f<b||f<m&&(u<b||u>n-1-b))&&(M=0),d[x]=d[x+1]=d[x+2]=M}this.U5()}this.wl=[1],this.nS=0,this.Ox.aeS();var S=this.S8.q();S.Brsh.v.Dmtr.v.val=Math.round(r.Z/(s==0?10:20)),this.S8.k(S),this.b9()},ar.prototype.yh=function(){for(var t=this.rX,i=t.rect.M(),e=this.TJ.q(),r=t.la.slice(0),n=0;n<i;n++)t.bX[n]<e&&(r[n]=128);v.XB(t.i5,4294967295),v.Oy(r,t.i5,0),v.Oy(r,t.i5,1),v.Oy(r,t.i5,2),t.NZ=t.rect,this.U5()},ar.prototype.U5=function(){var t=this.rX,i,e=0,r=0,n=0;this.L7();var a=t.rect,s=v.R(a.M()),l=t.Ww;v.E4(t.i5,s,0);for(var h=0;h<s.length;h++){var o=s[h];o==0?e++:o==255?r++:n++}if(e*r*n!=0)if(this.y9==0)i=v.q5.q5(a,l,s);else{var f=Date.now(),u=this.rX.aeB;v.Hk(s,u.px),C.J4.DM(u,!0);var p=Math.ceil(this.TJ.q()/2);if(p==0)i=l.slice(0),v.Oy(u.K,i,3);else{for(var c=u.K.slice(0),d=u.K.slice(0),g=a.Z,b=a.h,m=0;m<p;m++){for(var x=1;x<b-1;x++)for(var M=1;M<g-1;M++){var h=x*a.Z+M,S=c[h];c[h-g]!=S||c[h-1]!=S||c[h+1]!=S||c[h+g]!=S?d[h]=128:d[h]=S}var w=c;c=d,d=w}i=v.q5.q5(a,l,c,20,!1)}}else i=l.slice(0),v.Oy(s,i,3);a.Qn(t.rect)?t.kw=i:v.BP(i,a,t.kw,t.rect),this.w0()},ar.prototype.L7=function(t){var i=this.rX,e=i.NZ;v.BP(i.Ww,i.rect,i.Db,i.rect,e,!0);var r=i.i5;if(this.y9==1){var n=new Uint32Array(256);n[0]=4278190335,n[255]=4278255360;var a=i.rect.M();r=r.slice(0);for(var s=new Uint32Array(r.buffer),l=0;l<a;l+=2)s[l]=n[s[l]&255],s[l+1]=n[s[l+1]&255]}v.N.DO("norm",r,i.rect,i.Db,i.rect,e,.3),this.Ox.k([{ym:i.rect,data:i.Db.buffer}])},ar.prototype.w0=function(t){var i=this.rX;v.XB(i.Ks,[0,4294967295,4278190080][this.ew.q()]),v.N.DO("norm",i.kw,i.rect,i.Ks,i.rect,i.rect,1),this.Xv.k([{ym:i.rect,data:i.Ks.buffer}])},ar.prototype.ja=function(t){var i=this.cz,e=this.rX,r=this.Wn.q(),n=i.r[i.p[0]],a=new z(y.E.H,!0);a.qQ=!0;var s=n.rect.clone();if((r==0&&n.UQ()||r!=0&&!n.UQ())&&(a.Q=C.xC,a.data={e:H.K7,n:i.p[0]},this.w(a)),i.K!=null&&(a.Q=C.j1,a.data={e:"fromAction",WR:C.hl.cA()},this.w(a)),r==0){var l=i.r.slice(0),h=i.an();h.uf(n.getName()),l.splice(i.p[0]+1,0,h),h.rect=s,h.buffer=e.kw,h.A(),a.Q=C.xC,a.data={e:H.Pj,L_:l,Od:[i.p[0]+1],tP:[7,11]},this.w(a)}if(r==1){var o=n.jk();a.Q=C.xC,a.data={e:H.cN,aaF:!0},this.w(a);var f=n.jk();if(f.channel=v.R(s.M()),f.rect=s,f.color=0,f.G2=!0,v.E4(e.kw,f.channel,3),o){var u=f.$T(o);f.rect=u.rect,f.channel=u.channel,f.color=u.color}f.HZ(),n._V()}if(r==2){var p={rect:s,channel:v.R(s.M())};v.E4(e.kw,p.channel,3),a.Q=C.j1,a.data={e:"setsel",K:p,tP:this.CA},this.w(a)}this.close()};function ka(){jt.call(this,[1,13],"locstor"),this.yH=null,this.BR=[];var t=this.body,i=y.z("p");i.textContent="These files are loaded every time you start Photopea.",t.appendChild(i),this.aeQ=0,this.$U=y.z("span"),t.appendChild(this.$U),this.$U.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");var e=y.z("span","form");t.appendChild(e),this.Gd=new Tt([5,4],!1,null,!0),this.Gd.$("click",this.akm,this),e.appendChild(this.Gd.u),this.alS=new Tt("Get all as ZIP",!1,null,!0),this.alS.$("click",this.B5,this),e.appendChild(this.alS.u),this.UO=new Hr(!0),this.UO.parent=this,this.UO.DJ(1),this.UO.$(y.E.I,this.a3m,this),t.appendChild(this.UO.u),this.UO.u.setAttribute("style","width: 40em; height: 25em")}ka.prototype=new jt,ka.prototype.t=function(){jt.prototype.t.call(this),this.$U.textContent=Lt.get([13,2])+": "+Ur.WY(this.aeQ),this.Gd.t()},ka.prototype.AK=function(t,i){this.yH=t,i==ut.gq&&this.Vp()},ka.prototype.Vp=function(t,i){var e=this.yH.Er.qU,r=0;this.BR=[];for(var n in e)this.BR.push(n);this.BR.sort(function(u,p){return u=u.split("."),p=p.split("."),u[1]==p[1]?u[0]<p[0]?-1:1:u[1]<p[1]?-1:1});for(var a=Math.floor(100*y.J()),s=Math.floor(16*y.J()),l=[],h=[],o=0;o<this.BR.length;o++){var n=this.BR[o],f=ka.m2(n,e[n],a,s);l.push(f),h.push(n),r+=e[n].byteLength}this.UO.Lf(l,h,a,s),this.aeQ=r,this.t()},ka.prototype.a3m=function(t){this.UO.tj(this.UO.q())},ka.prototype.akm=function(t){var i=this.UO.q();if(i==-1){alert("Select a file first.");return}this.UO.k(-1);var e=this.yH.Er.qU;delete e[this.BR[i]];var r=new z(y.E.L,!0);r.data={e:y.B.Sl,S9:ut.gq},this.w(r)},ka.prototype.B5=function(t){var i=this.yH.Er.qU,e={};for(var r in i)e[r]=new Uint8Array(i[r]);var n=UZIP.encode(e);ui.save(n,"resources.zip")},ka.m2=function(t,i,e,r){var n=y.z("canvas"),a=0;n.width=e,n.height=r;for(var s=n.getContext("2d"),l=t.split(".").pop().toLowerCase(),h=0;h<l.length;h++)a+=l.charCodeAt(h)*613<<8*h;s.fillStyle="#"+v.v2(a&16777215),s.fillRect(0,0,20,r);var o=Math.floor(14*y.J());s.fillStyle="#000000",s.font="bold "+o+"px sans-serif";var f=(r-o)/2,u=Ur.WY(i.byteLength),p=s.measureText(u);return s.fillText(u,e-12-p.width,r-f),n.toDataURL()};function xh(t,i,e){jt.call(this,i,"cwindow"),this.abO=new st(e[0],e[1]-33),this.xr=y.z("div","form"),this.xr.setAttribute("style","width:"+(e[2]-e[0])+"px; height:"+(e[3]-e[1])+"px"),this.body.appendChild(this.xr)}xh.prototype=new jt,xh.prototype.eL=function(t,i){return this.abO.clone()};function Wt(t,i,e,r){At.call(this),this.name=t,this.a1i=e,this.tL=r,this.JR=y.z("div",""),this.JR.setAttribute("draggable","true"),this.VI=y.z("div","pbody"),this._a=new Tt("",!1,""),this._a.parent=this,this.ac8=y.z("span","cross"),this._J=y.z("span","label");var n=this.ahA.bind(this);this.JR.addEventListener("mousedown",this.a7Z.bind(this),!1),this.JR.addEventListener("contextmenu",n,!1),this._a.u.addEventListener("contextmenu",n,!1),this.ac8.addEventListener("mousedown",this.Pb.bind(this),!1),this.JR.appendChild(this._J),i&&this.JR.appendChild(this.ac8),this.cZ=!1,this.yd=new he([{name:[1,12]}]),this.yd.$("select",this.Pb,this),this._J.textContent=t}Wt.prototype=new At,Wt.prototype.WN=function(){return null},Wt.prototype.S_=function(){return new st(0,0)},Wt.prototype.t=function(){var t=Lt.get(this.name),i=this.YY==0?22:Math.round(2+this.YY/50),e=t.length>i;if(this._J.textContent=e?t.slice(0,i-2):t,e)for(var r=0;r<2;r++){var n=y.z("span");n.textContent=t.charAt(i-2+r),n.setAttribute("style","opacity:"+(.6-r*.4)),this._J.appendChild(n)}var a=t.split(" "),s=a.length==2?a[0].substring(0,2)+a[1][0]:t.substring(0,3);s.charCodeAt(0)>=11776&&(s=s.substring(0,1));var l=this.a1i;l==null?this._a.kW(s,t):l.indexOf('"')==-1&&this._a.kW('<img src="'+l+'" alt="'+t+'" height="20" />',t)},Wt.prototype.enable=function(){this.VI.setAttribute("class","pbody")},Wt.prototype.disable=function(){this.VI.setAttribute("class","pbody disabled")},Wt.prototype.AK=function(t,i){},Wt.prototype.Vp=function(t,i,e){},Wt.prototype.qM=function(t){},Wt.prototype.l9=function(t,i){},Wt.prototype.PZ=function(t){this.name=t,this.t()},Wt.prototype.q0=function(){},Wt.prototype.a7Z=function(t){t.button==0&&this.w(new z("select",!1))},Wt.prototype.ahA=function(t){if(y.OZ(t),!(this.tL!=null&&isNaN(this.tL))){var i=y.oA(t,document.body),e=this.yd;e.update(null),e.t(),e.parent=this;var r=new z(y.E.L,!0);r.data={e:y.B.VX,Nc:e,x:i.x+1,y:i.y+1},this.w(r)}},Wt.prototype.Lu=function(){this.Pb({})},Wt.prototype.Pb=function(t){if(t.stopPropagation&&t.stopPropagation(),this.tL!=null&&!isNaN(this.tL)){var i=new z(y.E.L,!0);i.data={e:y.B.Qp,Nc:this.yd},this.w(i),i.data={e:y.B.Sl,S9:ut.yE,C:parseFloat(this.tL),RY:"del"},this.w(i)}else this.t3()&&this.w(new z(y.E.Ga,!1))},Wt.prototype.t3=function(t){return!0},Wt.prototype.R$=function(t,i,e,r,n){},Wt.prototype.$E=function(t,i,e,r,n){},Wt.prototype.NL=function(t,i,e,r,n){},Wt.ir=function(t,i){if(t.childElementCount==0){var e=t.textContent;this.uO=this.ajT.bind(this),this.a9u=this.a2o.bind(this),this.T0=i,this.oY=t,this.a5h=e;var r=y.z("input","");r.setAttribute("type","text"),r.setAttribute("size","10"),r.setAttribute("value",e),y.TD(t),t.appendChild(r),r.select(),r.focus(),t.addEventListener("keyup",this.uO,!1),document.body.addEventListener("mousedown",this.a9u,!1)}},Wt.ir.prototype.ajT=function(t){var i=W.be,e=i(t.code,W.Xr);(i(t.code,W.yc)||e)&&this.Rz(e)},Wt.ir.prototype.a2o=function(t){var i=t.target;i.tagName&&i.tagName.toLowerCase()=="input"||this.Rz(!0)},Wt.ir.prototype.Rz=function(t){var i=this.oY;if(i.removeEventListener("keyup",this.uO),document.body.removeEventListener("mousedown",this.a9u),t){var e=i.firstChild.value;this.T0(e)}else y.TD(i),i.textContent=this.a5h},Wt.YP={Kb:"0",acu:"1",xC:"2",a89:"3",ajc:"4",Qm:"5",CSS:"6",Sm:"7",afw:"8",a8A:"9",a8q:"10",a0N:"11",aiB:"12",Io:"13",o8:"14",a13:"15",aij:"16",t4:"17",a4u:"19"};function un(){Wt.call(this,[9,9],!1,null,Wt.YP.a0N),this.yH=null,this.zL=[0,0],this.ZM=y.z("div","padded scrollable"),this.ZM.setAttribute("style","width:260px;  height:260px"),this.VI.appendChild(this.ZM),this.$(y.E.I,this.ko,this),this.D0=y.z("div","lpfoot"),this.VI.appendChild(this.D0),this.C8=[];var t='<svg  class="gsicon" viewBox="0 0 14 18" width="14" height="18" fill="black">',i="</svg>",e=t+'<path d="M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z" />'+i,r=t+'<path d="M0,2 L14,9 L0,16 Z" />'+i;this.a02=t+'<circle cx="7" cy="9" r="6" />'+i,this.a53=t+'<path d="M2,4 L12,4 L12,14 L2,14 Z" />'+i;for(var n=[this.a02,r,"lrs/folder","lrs/newlayer","lrs/bin",e],a=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]],s=0;s<n.length;s++){var l=n[s];1<s&&s!=n.length-1&&(l='<img src="'+PIMG[n[s]]+'" class="gsicon" />');var h=new Tt(l,!1,a[s]);h.$("click",this.mq,this),this.D0.appendChild(h.u),this.C8.push(h)}}un.prototype=new Wt(""),un.prototype.t=function(){Wt.prototype.t.call(this);for(var t=0;t<this.C8.length;t++)this.C8[t].t()},un.prototype.mq=function(t){var i=this.C8.indexOf(t.currentTarget),e=this.zL,r=this.yH,n=r.Lk;if(i==0){var a,s=r.BA;if(n.length==0){alert("Create an Action Set first.");return}if(e.length<2){alert("Select a target action first.");return}s==null?(a=this.a53,s=this.zL):(a=this.a02,s=null),this.C8[0].kW(a),r.BA=s}else if(i==1)this.aev();else if(i==2||i==3){var l={tP:"Action Set "+n.length,xX:[],exp:!0};if((i==2||n.length==0)&&(e=[n.length],n.push(l)),i==3){var h=n[e[0]].xX;e=[e[0],h.length],h.push({tP:"Action "+h.length,color:0,xX:[],Wt:!1,shift:!1,exp:!0,XN:h.length})}this.zL=e,this.qK()}else if(i==4){var o;e.length==1?o=n:e.length==2?o=n[e[0]].xX:o=n[e[0]].xX[e[1]].xX;var f=e.length-1;if(o.splice(e[f],1),o.length==0)e.pop();else for(;e[f]>=o.length;)e[f]--;e.length==0&&e.push(0),this.qK()}else if(i==5){if(n.length==0){alert("No Actions Present.");return}var u=new z(y.E.L,!0);u.data={e:y.B.hR,amt:ut.H,q_:e[0]},this.w(u)}},un.prototype.ko=function(t){var i=this.yH.Lk,e=t.data.e,r=t.data.Vm;if(e=="sel"&&(this.zL=r),e=="fold"&&(r.length==1?i[r[0]].exp=!i[r[0]].exp:i[r[0]].xX[r[1]].exp=!i[r[0]].xX[r[1]].exp),e=="enab"){var n=i[r[0]].xX[r[1]].xX[r[2]];n.Y=!n.Y}e=="nchange"&&(r.length==1?i[r[0]].tP=t.data.gA:i[r[0]].xX[r[1]].tP=t.data.gA),this.qK()},un.prototype.AK=function(t,i){this.yH=t,(i==ut.H||i==ut.oc)&&this.qK()},un.prototype.qK=function(){if(this.yH!=null){y.TD(this.ZM);var t=this.yH.Lk;if(t.length!=0)for(var i=JSON.stringify(this.zL),e=0;e<t.length;e++){var r=t[e],n=new un.uq([e],i,r.exp,r.tP.split("=").pop());if(n.parent=this,this.ZM.appendChild(n.u),!!r.exp)for(var a=0;a<r.xX.length;a++){var s=r.xX[a],n=new un.uq([e,a],i,s.exp,s.tP.split("=").pop());if(n.parent=this,this.ZM.appendChild(n.u),!!s.exp)for(var l=0;l<s.xX.length;l++){var h=s.xX[l],n=new un.uq([e,a,l],i,null,Lt.get(Di.adU(h)),h.Y);n.parent=this,this.ZM.appendChild(n.u)}}}}},un.prototype.aev=function(){var t=this.yH.Lk,i=this.zL;if(t.length==0){alert("No Actions Present");return}if(i.length==1){alert("Select an Action first");return}if(this.yH.BA!=null){alert("You can not apply actions while recording actions");return}i.length==1&&i.push(0);var e=t[i[0]],r=e.xX[i[1]],n=new z(y.E.L,!0);n.data={e:y.B.rU,oI:[r.tP,e.tP]},this.w(n)},un.uq=function(t,i,e,r,n){At.call(this),this.Vm=t;var a=this.Vm.length-1;if(this.u=y.z("div","layeritem"+(JSON.stringify(t)==i?" selected":"")),this.n4=y.z("div","head"),this.u.appendChild(this.n4),this.n4.setAttribute("style","height:24px"),this.m9=y.z("div","headL"),this.n4.appendChild(this.m9),a!=0){var s=y.z("div");s.style.width=a*20+"px",this.m9.appendChild(s)}if(e!=null){var l=this.afu=y.z("div",e?"open":"closed");this.m9.appendChild(l)}else{var h=this.ai3=y.z("div","cmark");h.setAttribute("style","background-size:12px 12px; opacity:"+(n?1:.3)),this.m9.appendChild(h)}if(a==0){var o=y.z("div","folder");this.m9.appendChild(o)}var f=this._J=y.z("div","label");f.textContent=r,this.m9.appendChild(f),this.u.addEventListener("mouseup",this.VG.bind(this),!1)},un.uq.prototype=new At,un.uq.prototype.VG=function(t){if(t.detail==1&&t.target.tagName.toLowerCase()!="input"){var i="sel";t.target==this.afu&&(i="fold"),t.target==this.ai3&&(i="enab");var e=new z(y.E.I,!0);e.data={e:i,Vm:this.Vm},this.w(e)}else if(this.Vm.length<3)var r=new Wt.ir(this._J,this.T0.bind(this))},un.uq.prototype.T0=function(t){var i=new z(y.E.I,!0);i.data={e:"nchange",gA:t,Vm:this.Vm},this.w(i)};function oi(){Wt.call(this,[9,3],!1,null,Wt.YP.Sm),this.rt=null,this.S1=null,this.yH=null}oi.prototype=new Wt(""),oi.prototype.sr=function(){var t=y.z("div","");this.VI.appendChild(t),this.EI=y.z("div","bordered cell"),this.EI.setAttribute("style","width:10em; height:28.5em;"),t.appendChild(this.EI),this.zF=[],this._v=null,this.e8=[];var i=this.a2u.bind(this);this.cY=[new oi.PT,new oi.SJ,new oi.zt,new oi.wD];for(var e=0;e<this.cY.length;e++){var r=y.z("div","listitem"),n=this.cY[e].lO,a=null;e==0?(this._v=new fe(n),r.appendChild(this._v.u)):(a=new Ft(n,!1),a.$(y.E.I,this.a1J,this),r.appendChild(a.u)),this.e8.push(a),this.EI.appendChild(r),this.zF.push(r),r.addEventListener("click",i,!1)}this.E1=y.z("div","cell padded"),t.appendChild(this.E1);for(var e=0;e<this.cY.length;e++)this.cY[e].$("brushchange",this.a37,this);this.setItem(0),this.in=y.z("canvas",""),this.in.width=Math.floor(380*y.J()),this.in.height=Math.floor(80*y.J()),y.Hc(this.in,this.in.width,this.in.height),t.appendChild(this.in),this.YV=this.in.getContext("2d"),this.U5()},oi.prototype.q0=function(){if(!!y.WW(this.VI)){if(this.EI){this.U5();return}this.sr(),this.t(),this.AK(this.yH,ut.oc)}},oi.prototype.t=function(){if(Wt.prototype.t.call(this),this.EI!=null){this._v.t();for(var t=1;t<this.e8.length;t++)this.e8[t].t();for(var t=0;t<this.cY.length;t++)this.cY[t].t()}},oi.prototype.a37=function(t){var i=this.cY.indexOf(t.currentTarget),e=JSON.parse(JSON.stringify(this.cY[i].S1)),r=new z(y.E.L,!0);r.data={e:y.B.Sl,S9:ut.SO,S1:e},this.w(r)},oi.prototype.a1J=function(t){this.fg(this.e8.indexOf(t.currentTarget),t.currentTarget.UX())},oi.prototype.a2u=function(t){var i=this.zF.indexOf(t.currentTarget);t.target.tagName.toLowerCase()!="input"&&(this.e8[i]&&!this.e8[i].UX()&&(this.e8[i].V2(),this.fg(i,!0)),this.setItem(i))},oi.prototype.fg=function(t,i){this.cY[t].si(i)},oi.prototype.setItem=function(t){for(var i=0;i<this.cY.length;i++)this.zF[i].setAttribute("class","listitem");this.E1.firstChild&&this.E1.removeChild(this.E1.firstChild),this.zF[t].setAttribute("class","listitem selected"),this.E1.appendChild(this.cY[t].u)},oi.prototype.AK=function(t,i){if(this.yH=t,this.EI!=null){if(i==ut.Sm||i==ut.oc){this.rt=t.aF;for(var e=0;e<this.cY.length;e++)this.cY[e]._F(this.rt)}(i==ut.SO||i==ut.oc)&&(this.S1=t.aF.Y5,this.U5()),i==ut.Io&&this.U5()}},oi.prototype.U5=function(){if(this.S1)this.enable();else{this.disable();return}if(!!y.WW(this.VI)){for(var t=this.yH,i=0;i<this.cY.length;i++)this.cY[i].k(this.S1),this.e8[i]&&this.e8[i].k(this.cY[i].UX());var e=JSON.parse(JSON.stringify(this.S1));e.Brsh.v.Dmtr.v.val=Math.min(e.Brsh.v.Dmtr.v.val,50);var r=new et(0,0,this.in.width,this.in.height),n=new Qt(e,this.rt?this.rt.Xu:null,this.rt?this.rt.A6:null,{Jf:1},t.GY,t.Ty,r),a=40*y.J(),s=300*y.J();n.moveTo(a,a);for(var i=0;i<=s;i+=10)n.lineTo(a+i,a+20*Math.sin(2*Math.PI*i/s));n.finish();var l=this.YV.createImageData(r.Z,r.h);v.BP(n.qq(),n.o7(),l.data,r),this.YV.putImageData(l,0,0)}},oi.eM=function(t){At.call(this),this.lO=t,this.u=y.z("div",""),this.S1=null},oi.eM.prototype=new At,oi.eM.prototype._F=function(t){},oi.eM.prototype.k=function(t){this.S1=JSON.parse(JSON.stringify(t)),this.u.setAttribute("class",this.UX()?"":"disabled"),this.U5()},oi.eM.prototype.si=function(t){},oi.eM.prototype.UX=function(){return!1},oi.eM.prototype.t=function(){},oi.eM.prototype.U5=function(){},oi.eM.prototype.Gi=function(){this.w(new z("brushchange"))},oi.PT=function(){oi.eM.call(this,[15,0]),this.rt=null,this.aak=null,this.LG=new Hr(!0),this.u.appendChild(this.LG.u),this.LG.$(y.E.I,this.a4k,this),this.LG.u.style.height="10.7em",this.yy=new Ht([12,14,0],1,1e3," px",0,!0),this.yy.$(y.E.I,this.abA,this),this.MV=new Ht([12,15],0,359," \xB0"),this.MV.$(y.E.I,this.alH,this),this.EV=new Ht([12,16],0,100," %"),this.EV.$(y.E.I,this.ald,this),this.hQ=new Ht([12,17],0,100," %"),this.hQ.$(y.E.I,this.aef,this),this.Qr=new Ht([12,18],1,300," %"),this.Qr.$(y.E.I,this.abT,this),this.zF=[this.yy,this.MV,this.EV,this.hQ,this.Qr]},oi.PT.prototype=new oi.eM,oi.PT.prototype.t=function(){this.yy.t(),this.MV.t(),this.EV.t(),this.hQ.t(),this.Qr.t()},oi.PT.prototype.UX=function(){return!0},oi.PT.prototype._F=function(t){this.rt=t;for(var i=[],e=Math.floor(30*y.J()),r=Math.floor(40*y.J()),n=0;n<t.list.length;n++){var a=t.list[n].v,s=Qt.m2(a,t.Xu,t.A6,e,r);i.push(s)}this.LG.Lf(i,null,e,r)},oi.PT.prototype.U5=function(){var t=this.S1.Brsh.v,i=t.classID!=this.aak;if(this.aak=t.classID,i)for(var e=0;e<this.zF.length;e++)this.u.contains(this.zF[e].u)&&this.u.removeChild(this.zF[e].u);this.yy.k(t.Dmtr.v.val),i&&this.u.appendChild(this.yy.u),this.MV.k(t.Angl.v.val),i&&this.u.appendChild(this.MV.u),(t.classID=="computedBrush"||t.classID=="sampledBrush")&&(this.EV.k(t.Rndn.v.val),i&&this.u.appendChild(this.EV.u)),t.classID=="computedBrush"&&(this.hQ.k(t.Hrdn.v.val),i&&this.u.appendChild(this.hQ.u)),this.Qr.k(t.Spcn.v.val),i&&this.u.appendChild(this.Qr.u)},oi.PT.prototype.a4k=function(t){this.S1=this.rt.list[this.LG.q()].v,this.Gi()},oi.PT.prototype.abA=function(t){this.S1.Brsh.v.Dmtr.v.val=t.target.q(),this.Gi()},oi.PT.prototype.alH=function(t){this.S1.Brsh.v.Angl.v.val=t.target.q(),this.Gi()},oi.PT.prototype.ald=function(t){this.S1.Brsh.v.Rndn.v.val=t.target.q(),this.Gi()},oi.PT.prototype.aef=function(t){this.S1.Brsh.v.Hrdn.v.val=t.target.q(),this.Gi()},oi.PT.prototype.abT=function(t){this.S1.Brsh.v.Spcn.v.val=t.target.q(),this.Gi()},oi.SJ=function(){oi.eM.call(this,[15,1]),this.jC=new Ht([15,4,0],0,100," %"),this.jC.$(y.E.I,this.a6N,this),this.u.appendChild(this.jC.u),this.BO=new Ht([15,4,1],0,100," %"),this.BO.$(y.E.I,this.a1C,this),this.u.appendChild(this.BO.u),this.vK=new Ht([15,4,2],0,100," %"),this.vK.$(y.E.I,this.a6k,this),this.u.appendChild(this.vK.u),this.GR=new Ht([15,4,3],0,100," %"),this.GR.$(y.E.I,this.a4j,this),this.u.appendChild(this.GR.u),this.Os=new Ht([15,4,4],0,100," %"),this.Os.$(y.E.I,this.a2i,this),this.u.appendChild(this.Os.u)},oi.SJ.prototype=new oi.eM,oi.SJ.prototype.t=function(){this.jC.t(),this.BO.t(),this.vK.t(),this.GR.t(),this.Os.t()},oi.SJ.prototype.UX=function(){return this.S1.useTipDynamics.v},oi.SJ.prototype.si=function(t){this.S1.useTipDynamics.v=t,ye.w_.dN(this.S1),this.Gi()},oi.SJ.prototype.U5=function(){var t=this.S1;t.useTipDynamics.v!=!1&&(this.jC.k(t.szVr.v.jitter.v.val),this.BO.k(t.minimumDiameter.v.val),this.vK.k(t.angleDynamics.v.jitter.v.val),this.GR.k(t.roundnessDynamics.v.jitter.v.val),this.Os.k(t.minimumRoundness.v.val))},oi.SJ.prototype.a6N=function(t){this.S1.szVr.v.jitter.v.val=t.target.q(),this.Gi()},oi.SJ.prototype.a1C=function(t){this.S1.minimumDiameter.v.val=t.target.q(),this.Gi()},oi.SJ.prototype.a6k=function(t){this.S1.angleDynamics.v.jitter.v.val=t.target.q(),this.Gi()},oi.SJ.prototype.a4j=function(t){this.S1.roundnessDynamics.v.jitter.v.val=t.target.q(),this.Gi()},oi.SJ.prototype.a2i=function(t){this.S1.minimumRoundness.v.val=t.target.q(),this.Gi()},oi.zt=function(){oi.eM.call(this,[15,2]),this.za=new Ht([15,5,0],0,1e3," %"),this.za.$(y.E.I,this.aiE,this),this.u.appendChild(this.za.u),this.BH=new Ht([15,5,1],1,20),this.BH.$(y.E.I,this.a2P,this),this.u.appendChild(this.BH.u),this.HK=new Ht([15,5,2],0,100," %"),this.HK.$(y.E.I,this.a0u,this),this.u.appendChild(this.HK.u)},oi.zt.prototype=new oi.eM,oi.zt.prototype.t=function(){this.za.t(),this.BH.t(),this.HK.t()},oi.zt.prototype.UX=function(){return this.S1.useScatter.v},oi.zt.prototype.si=function(t){this.S1.useScatter.v=t,ye.w_.dN(this.S1),this.Gi()},oi.zt.prototype.U5=function(){var t=this.S1;t.useScatter.v!=!1&&(this.za.k(t.scatterDynamics.v.jitter.v.val),this.BH.k(t.Cnt.v),this.HK.k(t.countDynamics.v.jitter.v.val))},oi.zt.prototype.aiE=function(t){this.S1.scatterDynamics.v.jitter.v.val=t.target.q(),this.Gi()},oi.zt.prototype.a2P=function(t){this.S1.Cnt.v=t.target.q(),this.Gi()},oi.zt.prototype.a0u=function(t){this.S1.countDynamics.v.jitter.v.val=t.target.q(),this.Gi()},oi.wD=function(){oi.eM.call(this,[15,3]),this.LK=new Ht([15,6,0],0,100," %"),this.LK.$(y.E.I,this.agp,this),this.u.appendChild(this.LK.u),this._I=new Ht([15,6,1],0,100," %"),this._I.$(y.E.I,this.ahp,this),this.u.appendChild(this._I.u),this.SE=new Ht([15,6,2],0,100," %"),this.SE.$(y.E.I,this.ak3,this),this.u.appendChild(this.SE.u),this.Yf=new Ht([15,6,3],0,100," %"),this.Yf.$(y.E.I,this.a8C,this),this.u.appendChild(this.Yf.u)},oi.wD.prototype=new oi.eM,oi.wD.prototype.t=function(){this.LK.t(),this._I.t(),this.SE.t(),this.Yf.t()},oi.wD.prototype.UX=function(){return this.S1.useColorDynamics.v},oi.wD.prototype.si=function(t){this.S1.useColorDynamics.v=t,ye.w_.dN(this.S1),this.Gi()},oi.wD.prototype.U5=function(){var t=this.S1;t.useColorDynamics.v!=!1&&(this.LK.k(t.clVr.v.jitter.v.val),this._I.k(t.H.v.val),this.SE.k(t.Strt.v.val),this.Yf.k(t.Brgh.v.val))},oi.wD.prototype.agp=function(t){this.S1.clVr.v.jitter.v.val=t.target.q(),this.Gi()},oi.wD.prototype.ahp=function(t){this.S1.H.v.val=t.target.q(),this.Gi()},oi.wD.prototype.ak3=function(t){this.S1.Strt.v.val=t.target.q(),this.Gi()},oi.wD.prototype.a8C=function(t){this.S1.Brgh.v.val=t.target.q(),this.Gi()};function Ml(){Wt.call(this,[9,0],!1,null,Wt.YP.Kb),this.VI.setAttribute("style","min-width:200px;"),this.TP=y.z("div","hpbody scrollable"),this.TP.style.height="160px",this.VI.appendChild(this.TP),this.ad$=-1,this.vv=[],this.kY=""}Ml.prototype=new Wt(""),Ml.prototype.Vp=function(t){if(t==null){y.TD(this.TP),this.kY="";return}y.TD(this.TP);for(var i=0,e=0;e<t.history.length;e++)e<=t.xG&&!t.history[e].vb&&(i=e);for(var e=0;e<t.history.length;e++){var r=t.history[e];if(!r.vb){var n=new Sl(r,e,i);n.parent=this,this.TP.appendChild(n.u),this.vv.push(n)}}t.xG==t.history.length-1&&this.q0()},Ml.prototype.q0=function(){this.TP.scrollTop=this.TP.scrollHeight},Ml.prototype.t=function(){Wt.prototype.t.call(this);for(var t=0;t<this.vv.length;t++)this.vv[t].t()};function Sl(t,i,e){At.call(this),this.index=i,this.u=y.z("div",i==e?"listitem selected":"listitem"),this.q6=t.name,this.t(),i>e&&(this.u.style.opacity=.4),this.u.addEventListener("click",this.R$.bind(this),!1)}Sl.prototype=new At,Sl.prototype.t=function(){this.u.textContent=Lt.get(this.q6)},Sl.prototype.R$=function(t){this.index!=this.parent.ad$&&this.nQ({e:"h_itemchange",index:this.index})},Sl.prototype.nQ=function(t){var i=new z(y.E.H,!0);i.data=t,i.Q=C.Kb,this.w(i)};function Os(){Wt.call(this,[9,10],!1,null,Wt.YP.ajc);var t=y.z("div","padded");this.VI.appendChild(t),this.x5=new Yn(256),t.appendChild(this.x5.u),this.a9A=[],this.MH=[];for(var i=["Mean:","Pixels:"],e=0;e<i.length;e++){var r=new fe(i[e]);this.a9A.push(r),t.appendChild(r.u);var n=new fe("hi");this.MH.push(n),t.appendChild(n.u),y.Rf(t)}this.nc=null}Os.prototype=new Wt(""),Os.prototype.Vp=function(t){this.nc=t,this.qK()},Os.prototype.qK=function(){var t=this.nc,i=0;if(!!y.WW(this.VI)){if(t==null||t.p.length==0){this.x5.k(v.NC(v.R(4))),this.MH[0].k(""),this.MH[1].k("");return}var e=t.lD(),r=new et(0,0,t.Z,t.h),n=r.M();if(t.K){var a=t.K.rect,s=v.R(a.M()*4);v.BP(e,r,s,a),v.v0(t.K.channel,s),e=s,r=a;var l=t.K.channel;n=0;for(var h=0;h<l.length;h++)n+=l[h];n=Math.round(n/255)}var o=v.NC(e);this.x5.k(o);for(var h=0;h<256;h++)i+=h*(.333*o[1][h]+.333*o[2][h]+.333*o[3][h]);this.MH[0].k((i/n).toFixed(1)+""),this.MH[1].k(n+"")}},Os.prototype.AK=function(t,i){this.x5.s$(In.lB[t.hb]["--text-color"])},Os.prototype.t=function(){Wt.prototype.t.call(this),this.x5.t()},Os.prototype.q0=function(){this.qK()};function Pl(){Wt.call(this,[9,8],!1,null,Wt.YP.acu),this.ZM=y.z("div","padded"),this.VI.appendChild(this.ZM),this.G9=new ls(10),this.ZM.appendChild(this.G9.u),this.ZM.appendChild(y.z("hr")),this.lb=new mn,this.lb.parent=this,this.ZM.appendChild(this.lb.sR),this.G9.$(y.E.I,this.dk,this),this.lb.$(y.E.I,this.dk,this)}Pl.prototype=new Wt(""),Pl.prototype.dk=function(t){var i;if(t.target==this.G9)i=this.G9.q();else{var e=this.lb.q();i=Math.round(e.U)<<16|Math.round(e.S)<<8|Math.round(e.i)}var r=new z(y.E.L,!0);r.data={e:y.B.Sl,S9:ut.Io,mQ:0,C:i},this.w(r)},Pl.prototype.AK=function(t,i){var e=t.GY,r=i==ut.oc;if((i==ut.Io||r)&&(this.G9.k(e),this.lb.k({U:e>>>16&255,S:e>>>8&255,i:e>>>0&255,ah:"Color #"+v.v2(e)})),i==ut.Mg||r){var n=t.aa_;this.lb._F(n)}};function Ze(){Wt.call(this,[12,72],!1,null,Wt.YP.aij),this.Lq=null,this.PJ=null,this.TP=y.z("div","lpbody scrollable"),this.D0=y.z("div","lpfoot"),this.VI.appendChild(this.TP),this.VI.appendChild(this.D0),this.Yg=[],this.$("click",this.iK,this),this.qo=[],Ze.AM([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.qo,this.D0,this.pM.bind(this),this.Mc.bind(this)),this.a9r=new he([{name:"Merge Channels",sD:!0}]),this.a9r.$("select",this.zf,this)}Ze.prototype=new Wt(""),Ze.prototype.zf=function(t){if(this.PJ!=null){var i=new z(y.E.L,!0);i.data={e:y.B.uH,W2:"mergechannels"},this.w(i)}},Ze.prototype.WN=function(){return this.a9r},Ze.AM=function(t,i,e,r,n){for(var a=0;a<t.length;a++){var s=new Tt("W",!1,t[a]);i.push(s),y.X8(s.u,r),e.appendChild(s.u);var l=s.u;l.addEventListener("drop",n,!1),l.addEventListener("dragover",function(h){h.preventDefault()},!1),l.addEventListener("dragenter",y.OZ,!1)}},Ze.EQ=function(t,i){for(var e=0;e<t.length;e++)if(t[e].u==i.currentTarget)return e},Ze.prototype.pM=function(t){var i=Ze.EQ(this.qo,t);if(i==0)this.w(An.RI(!0,null,t));else{i--;var e=new z(y.E.QJ,!0),r={classID:"null"};i==0?r.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}:i==1?r.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}}:r.null=Di.Pe("Chnl",!0),e.data={Bm:["duplicate","make","delete"][i],w1:r},this.w(e)}},Ze.prototype.Mc=function(t){var i=Ze.EQ(this.qo,t);if(i==2){var e=new z(y.E.QJ,!0),r={classID:"null"};r.null=Di.Pe("Chnl",!0),e.data={Bm:"duplicate",w1:r},this.w(e)}else this.pM(t)},Ze.prototype.zG=function(t){var i=this.Yg,e=i[t];if(e==null){var r=y.z("canvas");e=r.getContext("2d"),i.push(e)}return e},Ze.prototype.iK=function(t){var i=this.Lq.slice(0),e=t.data.XN,r=i[0]+i[1]+i[2],n=this.PJ;if(-5<e&&e<0){var a=-e-1;t.data.xB?a==0?i=r==3?[0,0,0]:[1,1,1]:i[a-1]==0?i[a-1]=1:i[a-1]=0:(a==0?i=[1,1,1]:(i=[0,0,0],i[a-1]=1),n.oD=[]);var s=new z(y.E.H,!0);s.Q=C.Al,s.data={e:"setcls",qa:i},this.w(s);return}if(-1<e){var l=n.r[e],h=l.kB==1?l.jk():l.yg(n).g;if(t.data.xB)h.gG=!h.gG;else{for(var o=0;o<n.Yq.length;o++)n.Yq[o].gG=!1;n.oD=[]}}else{var f=-e-5,h=n.Yq[f];if(t.data.xB)h.gG=!h.gG;else{for(var o=0;o<n.Yq.length;o++)n.Yq[o].gG=!1;h.gG=!0,n.oD=[f]}}n.Vg=n.Ob=!0},Ze.prototype.q0=function(){this.nF()},Ze.prototype.Vp=function(t){this.PJ=t,this.nF()},Ze.prototype.nF=function(){var t=this.PJ,i=this.TP,e=34,r=34,n=4;if(y.TD(i),!(t==null||!y.WW(i))){var a=t.Z,s=t.h,l=new et(0,0,a,s),h=this.Lq=t.a.qa.slice(0),o=h[0]+h[1]+h[2];a>s?r=Math.round(r*s/a):e=Math.round(e*a/s);for(var f=["RGB"].concat(Vt.Nx),u=0;u<4;u++){var p=this.zG(u);v.ZL.Eo(p,e,r,l,t.lD(),l,!1,u==0?null:u-1);var c=u==0?o==3:h[u-1]==1,d=new An(-1-u,!0,!0,p,f[u],c,c);d.parent=this,i.appendChild(d.u)}for(var u=0;u<t.p.length;u++){var g=t.r[t.p[u]],b=g.kB;if(!(b!=1&&b!=3)){var m=b==1?g.jk():g.yg(t).g,p=this.zG(n+u);n++,v.ZL.dp(p,e,r,l,m);var d=new An(t.p[u],!0,!0,p,g.getName()+(b==1?"":" Filter")+" Mask",!0,m.gG);d.parent=this,i.appendChild(d.u)}}for(var u=0;u<t.Yq.length;u++){var m=t.Yq[u],p=this.zG(n+u);v.ZL.dp(p,e,r,l,m);var d=new An(-5-u,!0,m.name=="Quick Mask",p,m.name,t.oD.indexOf(u)!=-1,m.gG,C.xC,{e:H.IB,mQ:"rnm",XN:u});d.parent=this,i.appendChild(d.u)}}},Ze.prototype.l9=function(t,i){this.TP.style.height=i-9-25+"px"},Ze.prototype.t=function(){Wt.prototype.t.call(this),this.nF(),Ze.If(this.qo,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])},Ze.If=function(t,i){for(var e=0;e<t.length;e++){var r=t[e];r.kW(y.G6(i[e]))}};function An(t,i,e,r,n,a,s,l,h){At.call(this),this.u=y.z("div","layeritem"),this.a4o=t,this.alJ=i,this.a5v=e,this.ui=r,this.aeM=l,this.aaz=h,this.n4=y.z("div",a?"head selected":"head"),this.n4.setAttribute("style","height: "+40+"px");var o=y.z("div","headL"),f=y.z("div","headR"),u=15;this.u.appendChild(this.n4),this.n4.appendChild(o),this.n4.appendChild(f),this.XQ=y.z("div","eye"),1<y.J()&&y.J()<1.5&&(u=u/y.J()),this.XQ.setAttribute("style","background-size: "+u+"px "+u+"px;"),this.XQ.style.opacity=s?1:.2,i&&o.appendChild(this.XQ),this.bA=y.z("div","thumb"),r&&this.bA.appendChild(r.canvas),o.appendChild(this.bA),this.nM=y.z("div","label"),e&&(this.nM.style.fontStyle="italic"),this.nM.textContent=Lt.get(n),o.appendChild(this.nM);var p=this.n4;p.setAttribute("draggable","true"),this.n4.addEventListener("mousedown",this.afk.bind(this),!1),this.n4.addEventListener("mouseup",this.alT.bind(this),!1)}An.prototype=new At,An.prototype.T0=function(t){var i=new z(y.E.H,!0);i.Q=this.aeM,i.data=this.aaz,i.data.name=t,this.w(i)},An.prototype.afk=function(t){var i=t.ctrlKey||t.metaKey,e=this.a4o;if(i&&t.target==this.ui.canvas)this.w(An.RI(this.alJ,e,t));else{var r=new z("click",!0);r.data={XN:e,xB:t.target==this.XQ,d_:i},this.w(r)}},An.prototype.alT=function(t){if(!this.a5v&&t.detail==2&&t.target==this.nM)var i=new Wt.ir(this.nM,this.T0.bind(this))},An.RI=function(t,i,e){var r=0;e.shiftKey&&r++,e.altKey&&(r+=2);var n=new z(y.E.H,!0);return n.Q=C.j1,t?n.data={e:"fromchannel",oI:[i,0,r]}:n.data={e:"frompath",oI:[i,0,r]},n};function Un(){Wt.call(this,[8,9],!1,null,Wt.YP.t4),this.Lq=null,this.PJ=null,this.TP=y.z("div","lpbody scrollable"),this.D0=y.z("div","lpfoot"),this.VI.appendChild(this.TP),this.VI.appendChild(this.D0),this.VI.addEventListener("click",this.al1.bind(this),!1),this.Yg=[],this.$("click",this.iK,this),this.qo=[],Ze.AM([[17,2],"Selection to Path",[5,3],[5,4]],this.qo,this.D0,this.pM.bind(this),this.Mc.bind(this))}Un.prototype=new Wt(""),Un.prototype.pM=function(t){var i=Ze.EQ(this.qo,t),e;if(i==0)e=An.RI(!1,null,t);else if(i==1)e=new z(y.E.QJ,!0),e.data={Bm:"make",w1:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}};else{var e=new z(y.E.H,!0);e.Q=C.lL,e.data={e:"pathedit",mQ:["new","del"][i-2]}}this.w(e)},Un.prototype.Mc=function(t){this.pM(t)},Un.prototype.zG=function(t){var i=this.Yg,e=i[t];if(e==null){var r=y.z("canvas");e=r.getContext("2d"),i.push(e)}return e},Un.prototype.al1=function(t){if(t.target==this.TP){var i=this.PJ;i.QP=[],i.mb=[],i.Ob=!0,i.Vg=!0}},Un.prototype.iK=function(t){var i=t.data.XN,e=this.PJ,r=t.data.d_,n=0,a,s;if(i<0)n=-1-i,a=e.QP,s=e.mb;else{for(var l=e.Cj()[0],h=0;h<l.length;h++){var o=l[h].XN;if(o==i)break;o>=0&&n++}a=e.mb,s=e.QP}if(r){var f=a.indexOf(n);f==-1?a.push(n):a.splice(f,1)}else{for(;a.length!=0;)a.pop();for(;s.length!=0;)s.pop();a.push(n)}e.Ob=!0,e.Vg=!0},Un.prototype.q0=function(){this.nF()},Un.prototype.Vp=function(t){this.PJ=t,this.nF()},Un.prototype.nF=function(){var t=this.PJ,i=this.TP,e=34,r=34;if(y.TD(i),!(t==null||!y.WW(i))){var n=t.Z,a=t.h,s=new et(0,0,n,a),l=this.Lq=t.a.qa.slice(0),h=l[0]+l[1]+l[2];n>a?r=Math.round(r*a/n):e=Math.round(e*n/a);for(var o=t.Cj(),f=o[0],u=0;u<f.length;u++){var p=f[u],c=this.zG(u);v.ZL.a5I(c,e,r,s,p.add.vmsk);var d=new An(p.XN,!1,p.XN>=-1,c,p.name,o[1].indexOf(u)!=-1,!1,C.lL,{e:"pathedit",mQ:"rnm",XN:p.XN});d.parent=this,i.appendChild(d.u)}}},Un.prototype.l9=function(t,i){this.TP.style.height=i-9-25+"px"},Un.prototype.t=function(){Wt.prototype.t.call(this),this.nF(),Ze.If(this.qo,["lrs/makesel","lrs/makepath","lrs/newlayer","lrs/bin"])};function Es(t){Wt.call(this,[9,t?4:5],!1,null,t?Wt.YP.a8A:Wt.YP.a8q),this.VI.setAttribute("style","min-width:240px;"),this.ak$=t,this.fs=null,this.yH=null}Es.prototype=new Wt(""),Es.prototype.sr=function(){this.fs=new xa;var t=this.fs,i=this.VI;if(t.parent=this,this.ak$){var e=y.z("div","marged");i.appendChild(e),e.appendChild(t.nE.u),i.appendChild(y.z("hr"));var r=y.z("div","marged");i.appendChild(r),r.appendChild(t.WT.u),r.appendChild(t.rj.u);var n=y.z("div","marged");i.appendChild(n),n.appendChild(t.Z$.u),n.appendChild(t.dw.u),i.appendChild(y.z("hr"));var a=y.z("div","marged");i.appendChild(a),a.appendChild(t.nV.u),a.appendChild(t.ql.u);var s=y.z("div","marged");i.appendChild(s),s.appendChild(t.DX.u),s.appendChild(t.Gb.u),i.appendChild(y.z("hr"));var l=y.z("div","marged");i.appendChild(l),l.appendChild(t.fR.u),l.appendChild(t.ZH.u),l.appendChild(t.J_.u),l.appendChild(t.V6.u),l.appendChild(t.N$.u),l.appendChild(t.Gr.u),l.appendChild(t.fL.u),l.appendChild(t.u8.u)}else{var e=y.z("div","marged");i.appendChild(e),e.appendChild(t.RV.u),e.appendChild(t.Zj.u),e.appendChild(t.$S.u),e.appendChild(t.aal.u),e.appendChild(t.a2L.u),e.appendChild(t.aai.u),e.appendChild(t.a7z.u),i.appendChild(y.z("hr"));var r=y.z("div","marged");i.appendChild(r),r.appendChild(t.Pp.u),r.appendChild(t.aK.u),r.appendChild(t.aO.u),i.appendChild(y.z("hr"));var n=y.z("div","marged");i.appendChild(n),n.appendChild(t.Vx.u),n.appendChild(t.BT.u),n.appendChild(t.gD.u)}},Es.prototype.q0=function(){if(!!y.WW(this.VI)&&this.fs==null){this.sr();var t=this.yH;t&&this.fs.k(t.T2,t.SN,t.P5),this.fs.t()}},Es.prototype.t=function(){Wt.prototype.t.call(this),this.fs&&this.fs.t()},Es.prototype.AK=function(t,i){this.yH=t,!(i!=ut.oc&&i!=ut.Ol&&i!=ut.Du&&i!=ut.mj)&&this.fs&&this.fs.k(t.T2,t.SN,t.P5)};function Qa(){Wt.call(this,"Glyphs",!1,null,Wt.YP.a4u),this.yH=null,this.a40=null,this.ak1=null,this.fZ=null,this.a5p=null,this.mk=Math.round(290*y.J()),this.ER=8,this.am6=4,this.q9=new ei(null,["Hi","Hello"]),this.q9.$(y.E.I,this.LI,this);var t=this.fc=new Tt("-",null,null,!0);t.$("click",this.cK,this);var i=this.aj_=new Tt("+",null,null,!0);i.$("click",this.cK,this),this.UJ=new Hr(!1),this.UJ.$(y.E.I,this.aab,this),this.UJ.u.style.height=20+"em";var e=y.z("div","padded");e.setAttribute("style","width:"+(this.mk+10)/y.J()+"px;"),this.VI.appendChild(e);var r=y.z("div");r.setAttribute("style","margin-bottom:0.5em"),e.appendChild(r),r.appendChild(this.q9.u),r.appendChild(t.u),r.appendChild(i.u),e.appendChild(this.UJ.u)}Qa.prototype=new Wt(""),Qa.prototype.aab=function(t){var i=this.UJ.q()*this.ER*this.am6,e=Math.floor(this.mk/this.ER)/y.J(),r=this.UJ.aau();i+=Math.floor(r.y/e)*this.ER,i+=Math.floor(r.x/e);var n=this.fZ[this.q9.q()];if(!(i>=n.length)){var a=n[i],s=this.a5p[a];if(s.G$.length==0){alert("No known character for this glyph");return}var l=String.fromCodePoint(s.G$[0]),h=new z(y.E.H,!0);h.Q=C.OX,h.data={e:"insertText",C:l},this.w(h)}},Qa.prototype.cK=function(t){this.ER+=t.target==this.fc?1:-1,this.ER=Math.max(1,Math.min(20,this.ER)),this.LI()},Qa.prototype.q0=function(){this.AK(this.yH)},Qa.prototype.AK=function(t,i){if(this.yH=t,!!y.WW(this.VI)){var e=t.T2,r=e.dS.Font,n=0;if(r!=null){var a=e.Dm[r].Name;if(this.a40!=a){var r=t.SN.VV(a);if(r!=null){for(var s=r.maxp.numGlyphs,l=this.a5p=new Array(s),h=0;h<s;h++)l[h]={G$:[]};for(var o=Date.now(),f=new Uint8Array(1048575),h=0;h<1048575;h++){var u=Typr.U.codeToGlyph(r,h);u!=0&&u<s&&(f[h]=1,l[u].G$.length==0&&n++,l[u].G$.push(h))}for(var p=Qa.Gw,c=[],h=0;h<p.length;h++)c.push([]);for(var u=1;u<s;u++){c[0].push(u);var d=l[u].G$[0];if(d!=null){for(var g=1;g<p.length;g++)for(var b=p[g].bk,h=0;h<b.length;h+=2)if(b[h]<=d&&d<=b[h+1]){c[g].push(u);break}}}this.fZ=c;for(var m=[],h=0;h<p.length;h++)m.push(p[h].Bj+" ("+c[h].length+")");var x=this.q9.q();this.q9.KI(m),this.q9.k(x),this.a40=a,this.ak1=r,this.LI()}}}}},Qa.prototype.LI=function(t){var i=this.fZ[this.q9.q()],e=i.length,r=this.ak1,n=Typr.U,a=Math.floor(this.mk/this.ER),s=a,l=s*.8,h=s*.8/r.head.unitsPerEm,o=[],f=y.z("canvas"),u=f.getContext("2d"),p=this.ER,c=Math.ceil(e/p),d=this.am6;f.width=a*p,f.height=s*d,u.strokeStyle="rgba(0,0,0,0.3)";for(var g=Date.now(),b=0;b<c;b+=d){u.fillStyle="white",u.fillRect(0,0,p*a,s*d);for(var m=0;m<d;m++)for(var x=0;x<p;x++){var M=i[(b+m)*p+x];if(M==null)break;var S=n.glyphToPath(r,M),w=v.D.nP(S.crds);if(!w.qr()){u.fillStyle="#252525",u.beginPath();var k=x*a+(a-w.Z*h)*.5-w.x*h,T=m*s+l;u.translate(k,T),u.scale(h,-h),n.pathToContext(S,u),u.scale(1/h,-1/h),u.translate(-k,-T),u.fill()}}u.beginPath();for(var x=0;x<p;x++){var L=x*a+a+.5;u.moveTo(L,0),u.lineTo(L,s*d)}for(var m=0;m<d;m++){var O=m*s+s+.5;u.moveTo(0,O),u.lineTo(p*a,O)}u.stroke(),o.push(f.toDataURL("image/png"))}this.UJ.Lf(o,null,a*p,s*d)},Qa.Gw=[{Bj:"All Glyphs"},{Bj:"Basic Latin, Latin 1",bk:[0,127,128,143]},{Bj:"Latin Extended-A",bk:[256,383]},{Bj:"Latin Extended-B",bk:[384,591]},{Bj:"Punctuations",bk:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{Bj:"Greek",bk:[880,1023]},{Bj:"Cyrillic",bk:[1024,1279]},{Bj:"Hebrew",bk:[1424,1535]},{Bj:"Arabic",bk:[1536,1791]},{Bj:"Emoji",bk:[9728,10095,127744,129535]}];function Ds(){Wt.call(this,[13,0],!1,null,Wt.YP.Io),this.Mx=0,this.ajZ=0,this.yH=null;var t=y.z("div","flexrow padded");this.VI.appendChild(t);var i=y.z("div");t.appendChild(i),this.up=[];for(var e=0;e<2;e++){var r=new Ve;this.up.push(r),r.$("click",this.a91,this),i.appendChild(r.u)}this.Ao=new Tr(192),this.Ao.$(y.E.I,this.CV,this),t.appendChild(this.Ao.u)}Ds.prototype=new Wt(""),Ds.prototype.a91=function(t){this.Mx=this.up.indexOf(t.currentTarget),this.qK()},Ds.prototype.CV=function(t){var i=this.Ao.q();this.Ao.k(i);var e=Math.round(i.U*255)<<16|Math.round(i.S*255)<<8|Math.round(i.i*255),r=new z(y.E.L,!0);r.data={e:y.B.Sl,S9:ut.Io,mQ:this.Mx,C:e},this.w(r),this.ajZ=Date.now()},Ds.prototype.qK=function(){for(var t=this.yH,i=this.Mx,e=[t.GY,t.Ty],r=0;r<2;r++){var n=this.up[r],a=n.u.style;n.s$(e[r]),r==i?delete a.borderColor:a.borderColor="var(--bg-color)"}var s=e[i];Date.now()-this.ajZ>100&&this.Ao.k({U:(s>>>16)/255,S:(s>>>8&255)/255,i:(s&255)/255})},Ds.prototype.AK=function(t,i){this.yH=t,(i==ut.oc||i==ut.Io)&&this.qK()},Ds.prototype.q0=function(){this.qK()};function $s(){Wt.call(this,"CSS",!1,null,Wt.YP.CSS),this.nc=null;var t=y.z("div","padded");this.VI.appendChild(t),this.Lo=y.z("textarea"),this.Lo.setAttribute("rows",16),this.Lo.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;"),t.appendChild(this.Lo)}$s.prototype=new Wt(""),$s.prototype.Vp=function(t){this.nc=t,this.qK()},$s.prototype.AK=function(t,i){i==ut.Du&&this.qK()},$s.prototype.qK=function(){var t=this.nc;if(!(t==null||t.p.length==0)&&!!y.WW(this.VI)){var i=t.r[t.p[0]],e=te.adQ(i,t);e.length!=0?this.Lo.value=e.join(`;
`)+";":this.Lo.value=""}},$s.prototype.q0=function(){this.qK()};function Ys(){Wt.call(this,[9,6],!1,null,Wt.YP.a89),this.VI.setAttribute("style","min-width:240px;"),this.nc=null,this.yH=null;var t=y.z("div","marged row");this.VI.appendChild(t);var i=y.z("div","cell");i.setAttribute("style","width:10em"),t.appendChild(i);var e=y.z("div","cell");e.setAttribute("style","width:10em"),t.appendChild(e),this.a7V=[];for(var r=0;r<4;r++){var n=new fe("");this.a7V.push(n),i.appendChild(n.u),y.Rf(i)}this.VI.appendChild(y.z("hr",""));var a=y.z("div","marged row");this.VI.appendChild(a);var i=y.z("div","cell");i.setAttribute("style","width:10em");var e=y.z("div","cell");e.setAttribute("style","width:10em"),a.appendChild(i),a.appendChild(e),this.ae=new fe(""),i.appendChild(this.ae.u),y.Rf(i),this.hd=new fe(""),i.appendChild(this.hd.u),this.iG=new fe(""),e.appendChild(this.iG.u),y.Rf(e),this.DG=new fe(""),e.appendChild(this.DG.u),this.ae.k("X: 100 px"),this.hd.k("Y: 100 px"),this.iG.k("W: 0"),this.DG.k("H: 0")}Ys.prototype=new Wt(""),Ys.prototype.$E=function(t,i,e,r,n){if(!(!y.WW(this.VI)||t==null)){var a=t.a.PY(n.x,n.y),s=new st(Math.floor(a.x),Math.floor(a.y));if(!n.Ku){var l=0,h=0,o=0,f=0,u=this.a7V;if(!n.Ku&&!t.ahP()&&new et(0,0,t.Z-1,t.h-1).oz(s)){var p=t.lD(),c=t.Z*s.y+s.x<<2;l=p[c+0],h=p[c+1],o=p[c+2],f=p[c+3]}u[0].k("R: "+l),u[1].k("G: "+h),u[2].k("B: "+o),u[3].k("A: "+f)}this.ae.k("X: "+v.t$.Rq(s.x,t.NB,e,t.Z)),this.hd.k("Y: "+v.t$.Rq(s.y,t.NB,e,t.h)),this.cL()}},Ys.prototype.cL=function(){var t=this.nc,i=this.yH,e=0,r=0;t&&i&&(t.a.GW?(e=t.a.GW.Z,r=t.a.GW.h):t.K&&(e=t.K.rect.Z,r=t.K.rect.h),e=v.t$.Rq(Math.abs(e),t.NB,i,t.Z),r=v.t$.Rq(Math.abs(r),t.NB,i,t.h)),this.iG.k(Lt.get([12,41]).charAt(0)+": "+e),this.DG.k(Lt.get([12,42]).charAt(0)+": "+r)},Ys.prototype.t=function(){Wt.prototype.t.call(this),this.cL()},Ys.prototype.Vp=function(t,i,e){this.nc=t,this.yH=e,this.cL()};function ie(){Wt.call(this,[9,1],!1,null,Wt.YP.xC),this.vl=null,this.EA=null,this.Yr=null,this.n4=y.z("div","lphead"),this.TP=y.z("div","lpbody scrollable"),this.D0=y.z("div","lpfoot"),this.zi=new ei(null,ti.Zn,!1,ti.wp),this.zi.$(y.E.I,this.amk,this),this.n4.appendChild(this.zi.u),this.gH=new xi([12,0],0,100,"%",0),this.gH.$(y.E.I,this.aav,this),this.gH.parent=this,this.n4.appendChild(this.gH.u),this.Qo=new Xn("Lock",['<img src="'+PIMG.trsp3+'" class="autoscale gsicon" />','<img src="'+PIMG["tools/brush"]+'" class="autoscale gsicon" />','<img src="'+PIMG.pos+'" class="autoscale gsicon" />','<img src="'+PIMG["lrs/lock"]+'" class="autoscale gsicon" />'],!0,["Transparency",[12,76,2],[12,40],[7,0]]),this.Qo.$(y.E.I,this.ado,this),this.n4.appendChild(this.Qo.u),this.La=new xi([12,26],0,100,"%",0),this.La.$(y.E.I,this.adL,this),this.La.parent=this,this.n4.appendChild(this.La.u),this.qo=[],this.AM(),this.VI.appendChild(this.n4),this.VI.appendChild(this.TP),this.TP.addEventListener("dragover",function(n){n.preventDefault()},!1),this.TP.addEventListener("dragenter",y.OZ,!1),this.TP.addEventListener("drop",this.air.bind(this),!1),this.VI.appendChild(this.D0),this.VI.addEventListener("contextmenu",y.OZ,!1);var t={f:y.E.L,o:{e:y.B.uH,W2:"scaleeffects",Ub:100,VN:{f:y.E.H,Q:C.FA,o:{e:"scaleeffects"}}}},i={name:"Scale Effects",Y:function(n){return{Y:n!=null&&n.r[n.p[0]].su()}}},e=[i],r=[t];this.ajS=new he(e,r);var e=[{name:[14,10]},{name:[14,11],aD:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],aD:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",Y:function(n){return{Y:n.r[n.p[0]].add.SoLd!=null}},aD:!0},{name:[6,8],Y:function(n){var a=n.r[n.p[0]];return a.add.TySh||a.add.SoLd||a.add.SoCo||a.add.GdFl||a.add.PtFl?{Y:!0}:{Y:!1}}},{name:[6,34],Y:function(n){var a=n.r[n.p[0]];return{Y:a.add.lmfx!=null&&!a.fO()}}},{name:[6,40],aD:!0,Y:function(n){var a=n.r[n.p[0]];return{Y:a.add.TySh!=null}}},{name:"",aD:!0,Y:function(n){var a=n.r[n.p[0]],s=a.add.TySh,l=s?s.MF:null;return{Y:s!=null&&l.Curve==null,IK:Lt.get(s&&lt.AW(l)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],aD:!0,Y:function(n){return{Y:n.Uu(n.p[0]),Rb:n.r[n.p[0]].rd}}},{name:[11,6],aD:!0,sub:[{name:[5,1],Y:function(n){var a=n.r[n.p[0]];return{Y:a.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],Y:function(n){var a=n.r[n.p[0]];return{Y:a.add.lmfx!=null}},aD:!0},i]},{name:[6,10],Y:function(n){return{Y:n.p.length==1&&n.p[0]!=0&&!n.r[n.p[0]].fO()}}},{name:[6,12,0],Y:function(n){return{Y:n.p.length>1||n.r[n.p[0]].fO()}}},{name:[6,12,1],aD:!0},{name:[13,0],sub:function(){for(var n=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],a=[],s=0;s<n.length;s++)a.push({name:n[s]});return a}()}],r=[{f:y.E.L,o:{e:y.B.uH,W2:"layerstyle"}},{f:y.E.H,Q:C.j1,o:{e:"fromlayer",oI:[null,0,0]}},{f:y.E.H,Q:C.xC,o:{e:H.xm}},{f:y.E.L,o:{e:y.B.uH,W2:"duplinto"}},{f:y.E.H,Q:C.xC,o:{e:H.R0}},{f:y.E.QJ,o:{Bm:"newPlacedLayer"}},{f:y.E.H,Q:C.xC,o:{e:H.RO}},{f:y.E.QJ,o:{Bm:"rasterizeLayer",w1:{classID:"rasterizeLayer",null:Di.Pe("Lyr",!0)}}},{f:y.E.H,Q:C.xC,o:{e:H.cl}},{f:y.E.H,Q:C.xC,o:{e:H.M_}},{f:y.E.H,Q:C.OX,o:{e:"switchPntPrgr"}},{f:y.E.H,Q:C.xC,o:{e:H.zO}},{sub:[{f:y.E.H,Q:C.FA,o:{e:"st_copy"}},{f:y.E.H,Q:C.FA,o:{e:"st_paste"}},{f:y.E.H,Q:C.FA,o:{e:"st_clear"}},t]},{f:y.E.H,Q:C.xC,o:{e:H.SG}},{f:y.E.H,Q:C.xC,o:{e:H.FI}},{f:y.E.H,Q:C.xC,o:{e:H.ck}},{sub:function(){for(var n=[],a=0;a<8;a++)n.push({f:y.E.H,Q:C.xC,o:{e:H.FO,ait:a}});return n}()}];this.E1=new he(e,r);var e=[{name:[6,45],Y:function(n){var a=n.r[n.p[0]];return{Y:a.yg(n).g==null}}},{name:[6,47]}],r=[{f:y.E.H,Q:C.xC,o:{e:H.s4}},{f:y.E.H,Q:C.xC,o:{e:H.cB}}];this.a1c=new he(e,r);var e=[{name:"enab/disab",Y:function(n){return{IK:Lt.get(n.r[n.p[0]].jk().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],Y:function(n){return{Y:n.FD(!1,!0)}}}],r=[{f:y.E.H,Q:C.xC,o:{e:H.kX}},{f:y.E.H,Q:C.xC,o:{e:H.tN}},{f:y.E.H,Q:C.xC,o:{e:H.rb}}];this.a1w=new he(e,r);var e=[{name:"enab/disab",Y:function(n){return{IK:Lt.get(n.r[n.p[0]].yg(n).g.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],r=[{f:y.E.H,Q:C.xC,o:{e:H.yV}},{f:y.E.H,Q:C.xC,o:{e:H.BI}}];this.a3K=new he(e,r);var e=[{name:"enab/disab",Y:function(n){return{IK:Lt.get(n.r[n.p[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}],r=[{f:y.E.H,Q:C.xC,o:{e:H.OT}},{f:y.E.H,Q:C.xC,o:{e:H.hy}}];this.ajj=new he(e,r),this.agA=new he(Ne.U2(!0),Ne.hn(!0)),this.ae6=new he(Ne.B0(),Ne.OS()),this.$("rclick",this.a4h,this)}ie.prototype=new Wt(""),ie.prototype.air=function(t){y.OZ(t);var i=t.dataTransfer.getData("Text"),e=1,r=0;if(i=="")y.u4(t,this,this.Yr.indexOf(this.EA),r+(e>.5?0:1));else if(i!="--panel"){var i=JSON.parse(i),n=i.iy;n=="l"&&this.nQ({e:H.iN,source:i.q_,target:r,Pf:e})}},ie.prototype.S_=function(){return new st(253,0)},ie.prototype.a4h=function(t){var i=this.EA,e=t.data,r;if(i.p.indexOf(e.n)==-1){var n={e:H.Tq,n:t.target.oY.index,wH:e.kB};this.nQ(n)}if(i.p.indexOf(e.n)!=-1){e.kB==1?r=this.a1w:e.kB==2?r=this.ajj:e.kB==3?r=this.a3K:e.kB==4?r=this.a1c:e.kB==5?r=this.ajS:r=this.E1,r.t(),r.update(i),r.parent=this;var a=new z(y.E.L,!0);a.data={e:y.B.VX,Nc:r,x:e.cQ.x+1,y:e.cQ.y+1},this.w(a)}},ie.prototype.t=function(){Wt.prototype.t.call(this),this.zi.t(),this.gH.t(),this.Qo.t(),this.La.t(),this.EA&&this.Vp(this.EA);for(var t="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" "),i=0;i<this.qo.length;i++){var e=this.qo[i];e.kW(y.G6(t[i]))}},ie.prototype.Vp=function(t,i){if(!(t&&!t.Vf)&&(t==null?y.KL(this.VI,"disabled"):y.sT(this.VI,"disabled"),this.EA=t,this.Yr=i,this.vl!=null&&(this.TP.removeChild(this.vl.TP),this.vl=null),t!=null))if(this.vl=new Ki(t.root,this,t,{u9:0}),this.TP.appendChild(this.vl.TP),t.p.length==0)y.KL(this.n4,"disabled");else{y.sT(this.n4,"disabled"),t.p.length==1&&t.Mv&&this.vl.ca(t.p);var e=t.r[t.p[0]];if(e.fO()){this.zi.KI([[15,10,27]].concat(ti.Zn),[1].concat(ti.wp));var r=ti.YA.indexOf(e.sW);this.zi.k(r+1)}else{this.zi.KI(ti.Zn,ti.wp);var r=ti.YA.indexOf(e.sW);this.zi.k(r)}this.gH.k(Math.round(100*e.opacity/255)),this.Qo.k([e.k6(0),e.k6(1),e.k6(2),e.k6(31)]),this.La.k(Math.round(100*(e.add.iOpa!=null?e.add.iOpa/255:1)))}},ie.prototype.l9=function(t,i){var e=this.n4.getBoundingClientRect().height,r=59;e>70&&(r=84),e>100&&(r=108);var n=i-(r+37);this.TP.style.height=n+"px"},ie.prototype.amk=function(t){this.nQ({e:H.N1,uB:this.zi.q()})},ie.prototype.aav=function(t){this.nQ({e:H.Ot,uB:Math.round(255*this.gH.q()/100)})},ie.prototype.ado=function(t){this.nQ({e:H.Lm,uB:[this.Qo.q(),[0,1,2,31]]})},ie.prototype.adL=function(t){this.nQ({e:H.Ib,uB:Math.round(255*this.La.q()/100)})},ie.prototype.a4a=function(t){this.ZF(t,this.agA)},ie.prototype.aaa=function(t){this.ZF(t,this.ae6)},ie.prototype.ZF=function(t,i){var e=t.currentTarget;if(!y.WW(i.u)){t.stopPropagation();var r=e.getBoundingClientRect();i.t(),i.update(this.EA),i.parent=this;var n=new z(y.E.L,!0);n.data={e:y.B.VX,Nc:i,x:r.left,y:r.top,a5L:!0},this.w(n)}},ie.prototype.a6C=function(t){this.nQ({e:H.Ax})},ie.prototype.aiI=function(t){this.nQ({e:this.EA.p.length>1?H.$t:H.QR})},ie.prototype.akU=function(t){this.nQ({e:H.Nm})},ie.prototype.a3h=function(t){this.nQ({e:H.R0})},ie.prototype.a8s=function(t){this.nQ({e:H.IQ})},ie.prototype.nQ=function(t){var i=new z(y.E.H,!0);i.data=t,i.Q=C.xC,this.w(i)},ie.prototype.AM=function(){for(var t=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],i=[this.a8s,this.aaa,this.a4a,this.a6C,this.aiI,this.akU,this.a3h],e=this.ajv.bind(this),r=0;r<t.length;r++){var n=new Tt("W",!1,t[r]);if(this.qo.push(n),y.X8(n.u,i[r].bind(this)),this.D0.appendChild(n.u),r>=t.length-3){var a=n.u;a.addEventListener("drop",e,!1),a.addEventListener("dragover",function(s){s.preventDefault()},!1),a.addEventListener("dragenter",y.OZ,!1)}}},ie.prototype.ajv=function(t){y.OZ(t);for(var i=0,e=this.qo;e[i].u!=t.currentTarget;)i++;e[i].pe();var r=t.dataTransfer.getData("Text");if(r!=""){var r=JSON.parse(r);if(r.iy=="l"){var n={e:[H.$t,H.xm,H.R0][i-4]};this.EA.p.indexOf(r.q_)==-1&&(n.n=r.q_),this.nQ(n)}if(i==6){if(r.iy=="sm"||r.iy=="s"){var a=new z(y.E.H,!0);a.Q=C.FA,a.data={e:r.iy=="sm"?"st_clear":"st_delsingle",n:r.q_,q_:r.sG},this.w(a)}(r.iy=="fm"||r.iy=="f")&&this.nQ({e:r.iy=="fm"?H.cB:H.kF,src:r.q_,sG:r.sG}),(r.iy=="m"||r.iy=="vm")&&this.nQ({e:r.iy=="m"?H.tN:H.hy,n:r.q_})}}};function Ki(t,i,e,r){At.call(this),this.parent=i,this.oY=t,this.KJ=[],this.u=y.z("div","layeritem");var n=t.n,a=15,s=!1;this.n4=y.z("div",e.p.indexOf(t.index)!=-1?"head selected":"head"),t.n.add.artb!=null&&y.KL(this.n4,"artb"),this.n4.setAttribute("style","height: "+(n.acv+10)+"px");var l=y.z("div","headL"),h=y.z("div","headR"),o=y.z("div","lpineck");this.TP=y.z("div","lpibody"),this.u.appendChild(this.n4),this.n4.appendChild(l),this.n4.appendChild(h),(n.su()||n.gO())&&n.dL()&&this.u.appendChild(o);var f=this.n4;f.setAttribute("draggable","true"),f.addEventListener("dragstart",this.Gs.bind(this),!1),f.addEventListener("drop",this.b1.bind(this),!1),f.addEventListener("dragover",this.lR.bind(this),!1),f.addEventListener("dragenter",y.OZ,!1),f.addEventListener("dragleave",this.Sq.bind(this),!1);var u=[],p=[],c=y.z("div");this.XQ=y.z("div","eye"),c.appendChild(this.XQ);var d=y.z("div","space");this.nM=y.z("div","label"),this.nM.textContent=n.getName(),this.jd=y.z("div","lock"),this.aiA=y.z("div","lrfx"),this.Wy=y.z("div","arfx");var g=this.abe.bind(this),b=this.agZ.bind(this);this.n4.addEventListener("click",b,!1),this.n4.addEventListener("contextmenu",g,!1);var m=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],x=n.add.lclr==null?0:m[n.add.lclr];x==0&&(x=r.u9);for(var M=[x>>16,x>>8&255,x&255],S=0;S<3;S++)M[S]=Math.round(.5*M[S]+.5*220);1<y.J()&&y.J()<1.5&&(a=a/y.J()),c.setAttribute("style","background-color:rgba("+M.join(",")+","+(x==0?0:1)+");"),this.XQ.setAttribute("style","background-size: "+a+"px "+a+"px;");var w=this.akg.bind(this);if(c.addEventListener("mousedown",w,!1),c.addEventListener("mouseover",w,!1),this.nM.addEventListener("pointerup",this.ahf.bind(this),!1),this.Wy.addEventListener("click",this.a0V.bind(this),!1),u[0]=c,u[1]=d,u[10]=this.nM,n.fO()){var k=y.z("div","arrow"),T=y.z("div","folder");if(k.addEventListener("click",this.ad0.bind(this),!1),u[2]=k,u[3]=T,n.add.lsct==Ci.lw){for(var S=t.children.length-1;S>=0;S--){var L=new Ki(t.children[S],i,e,{u9:x});this.KJ.push(L),this.TP.appendChild(L.u)}this.u.appendChild(this.TP)}k.setAttribute("class",n.add.lsct==Ci.lw?"open":"closed")}else this.bA=y.z("div","thumb"),u[5]=this.bA,this.bA.appendChild(n.oH.canvas);var O=n.jk();O&&(this.E_=y.z("div","chain"),this.Mn=y.z("div","thumb"),this.Mn.setAttribute("draggable","true"),this.Mn.appendChild(t.n.a12.canvas),this.E_.style.opacity=O.AU?1:0,this.E_.addEventListener("click",this.alP.bind(this),!1));var E=n.ws()&&n.add.vmsk;if(n.add.vmsk&&!E&&(this.VC=y.z("div","chain"),this.m7=y.z("div","thumb"),this.m7.setAttribute("draggable","true"),this.m7.appendChild(t.n.abb.canvas),this.VC.style.opacity=n.add.vmsk.AU?1:0,this.VC.addEventListener("click",this.amq.bind(this),!1)),n.gO()&&n.yg(e).g&&(this.bn=y.z("div","thumb"),this.bn.appendChild(t.n.aiU.canvas),this.bn.addEventListener("click",b,!1),this.bn.addEventListener("contextmenu",g,!1)),n.su()){o.addEventListener("contextmenu",g,!1);var D=new ie.zS(Lt.get([12,1]),"sm","layerstyle",t.depth,0,null);D.parent=this,o.appendChild(D.u);var B=n.add.lmfx,I=B.masterFXSwitch.v;D.vR(I);for(var S=0;S<at.order.length;S++){var N=B[at.og[S]].v;if(N.length!=0)for(var V=0;V<N.length;V++){var D=new ie.zS(Lt.get(at.names[S]),"s","layerstyle",t.depth,1,[S,V]);D.vR(I&&N[V].v.enab.v),D.parent=this,o.appendChild(D.u)}}}if(n.gO()){var D=new ie.zS(Lt.get([12,55]),"fm",null,t.depth,0,-1,n.yg(e).g?this.bn:null);D.parent=this,o.appendChild(D.u),this.afp=D.u,this.afp.addEventListener("contextmenu",g,!1);var B=n.add.SoLd.filterFX.v,j=B.filterFXList.v,I=B.enab.v;D.vR(I);for(var S=j.length-1;S>=0;S--){var R=j[S].v,G=Zt.l$(R);Vt.NS[G]&&(G=Vt.NS[G]);var Z=R.Nm.v;Zt.names[G]&&(Z=Lt.get(Zt.names[G])),Vt.names[G]&&(Z=Lt.get(Vt.names[G]));var _=K[G]||Zt.lt[G]?"afw_"+G:null,D=new ie.zS(Z,"f",_,t.depth,1,S);D.vR(I&&R.enab.v),D.parent=this,o.appendChild(D.u)}}if(e.r.indexOf(n)==e.p[0]){var U=n.kB,Y;U<=0?Y=this.bA:U==1?Y=this.Mn:U==3&&(Y=this.bn),Y&&Y.setAttribute("class","thumb active"),n.yb&&this.m7&&this.m7.setAttribute("class","thumb active")}c.style.opacity=n.UQ()?1:.25,d.setAttribute("style","width:"+Math.max(0,t.depth-1)*18+"px");var $=n.add.lspf!=null&&n.add.lspf!=0;this.jd.style.opacity=n.k6(31)?1:.5,u[4]=n.rd?y.z("div","clipp"):null,u[6]=O?this.E_:null,u[7]=O?this.Mn:null,u[8]=n.add.vmsk&&!E?this.VC:null,u[9]=n.add.vmsk&&!E?this.m7:null;var P=n.Qk,tt=e.p;if(P!=0){for(var S=0;S<tt.length;S++)if(e.r[tt[S]].Qk==P){s=!0;break}}p[0]=s?y.z("div","link"):null,p[1]=$?this.jd:null,p[2]=n.su()?this.aiA:null,p[3]=n.su()||n.gO()?this.Wy:null,this.Wy.setAttribute("class",n.dL()?"arfx open  gsicon":"arfx closed  gsicon");for(var X=u,S=0;S<X.length;S++)X[S]&&l.appendChild(X[S]);X=p;for(var S=0;S<X.length;S++)X[S]&&h.appendChild(X[S])}Ki.prototype=new At,Ki.prototype.ca=function(t){var i=this.oY.index;t.indexOf(i)!=-1&&this.u.scrollIntoView&&this.u.scrollIntoView({block:"nearest"});for(var e=0;e<this.KJ.length;e++)this.KJ[e].ca(t)},Ki.d6=function(t,i){var e=i.getBoundingClientRect();return(t.clientY-e.top)/e.height},Ki.prototype.Gs=function(t){t.stopPropagation();var i=t.target==this.Mn?"m":t.target==this.m7?"vm":"l";t.dataTransfer.setData("Text",JSON.stringify({iy:i,q_:this.oY.index}))},Ki.prototype.Sq=function(t){y.OZ(t),this.ES()},Ki.prototype.b1=function(t){y.OZ(t),this.ES();var i=t.dataTransfer.getData("Text"),e=this.parent.EA,r=Ki.d6(t,this.n4),n=this.oY.index;if(r>.8){for(var a=!0,s=e.root.V$(n);s.parent!=null;){var l=s.parent,h=l.children;h.indexOf(s)!=0&&(a=!1),s=s.parent}a&&(n=0,r=1)}if(i=="")y.u4(t,this,this.parent.Yr.indexOf(e),n+(r>.5?0:1));else if(i!="--panel"){var i=JSON.parse(i),o=i.iy;o=="l"?this.nQ({e:H.iN,source:i.q_,target:n,Pf:r}):o=="m"||o=="vm"?this.nQ({e:o=="m"?H.gk:H.aY,src:i.q_,Fi:n,HO:t.altKey}):Ki.UZ(t,i,this)}},Ki.UZ=function(t,i,e,r){var n=i.iy,a=e.oY.index,s=i.q_;(n=="s"||n=="sm")&&e.nQ({e:H.Fv,src:s,Fi:a,sG:i.sG,HO:t.altKey}),(n=="f"||n=="fm")&&e.nQ({e:H.Op,src:s,Fi:a,sG:i.sG,ON:r==null?0:r,HO:t.altKey})},Ki.prototype.lR=function(t){y.OZ(t);var i=Ki.d6(t,this.n4);this.ES();var e=i>.5?"-bottom":"-top";this.oY.n.fO()&&.5<i&&i<.8&&(e=""),this.n4.style["border"+e]="3px solid rgba(0,0,0,0.5)",this.n4.style.margin=e==""?"-3px 0 -3px 0":e=="-top"?"-3px 0 0 0":"0 0 -3px 0"},Ki.prototype.ES=function(t){this.n4.style.border="none",this.n4.style.margin="0"},Ki.gs=-1,Ki.R9=!1,Ki.i2=function(t){Ki.R9=!1,document.body.removeEventListener("mouseup",Ki.i2)},Ki.prototype.akg=function(t){t.button==0&&(t.type=="mousedown"&&(Ki.R9=!0,document.body.addEventListener("mouseup",Ki.i2,!1)),!(t.type=="mouseover"&&(!Ki.R9||Ki.gs==this.oY.index))&&(y.OZ(t),this.nQ({e:H.K7,n:this.oY.index}),Ki.gs=this.oY.index))},Ki.prototype.ad0=function(t){this.nQ({e:H.cJ,n:this.oY.index})},Ki.prototype.alP=function(t){this.nQ({e:H.dh,n:this.oY.index})},Ki.prototype.amq=function(t){this.nQ({e:H.t7,n:this.oY.index})},Ki._7=0,Ki.prototype.ahf=function(t){var i=Ki._7;if(Ki._7=Date.now(),!(Date.now()-i>300)){t.preventDefault(),t.stopPropagation(),this.n4.setAttribute("draggable","false");var e=new Wt.ir(this.nM,this.T0.bind(this))}},Ki.prototype.T0=function(t){this.nQ({e:H.u$,n:this.oY.index,name:t})},Ki.prototype.a0V=function(t){this.nQ({e:H.yf,n:this.oY.index})},Ki.prototype.abe=function(t){if(!this.o5(t,t.target,this.kB(t))){var i=t.sourceCapabilities;if(i&&(i=i.firesTouchEvents),!(t.button!=2&&i!=!0)){var e=this.kB(t);console.log(e),e!=3&&t.currentTarget==this.afp&&(e=4),t.target==this.aiA&&(e=5);var r=new z("rclick",!0);r.data={n:this.oY.index,kB:e,cQ:y.oA(t,document.body)},this.w(r)}}},Ki.prototype.kB=function(t){var i=t.target,e=i.parentNode;return e==this.m7?2:e==this.Mn?1:e==this.bA?0:e==this.bn?3:-1},Ki.prototype.agZ=function(t){var i=t.target,e=0;if(!(i==this.XQ||i==this.Wy||i==this.E_||i==this.VC||i.tagName&&i.tagName.toLowerCase()=="input")){var r=this.kB(t),n=this.parent.EA,a=this.oY.index,s=n.r[a];if(i==this.jd){this.nQ({e:H.Lm,n:a,uB:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});return}if(t.button==0&&t.detail==2){if(i==this.nM)return;var l=new z(y.E.H,!0),h=new z(y.E.L,!0),o=new z(y.E.QJ,!0);r==0&&(Vt.get(s.add)||s.add.SoCo||s.add.GdFl||s.add.PtFl)?h.data={e:y.B.xS,W2:Wt.YP.Qm}:r!=0&&r!=-1?h.data={e:y.B.xS,W2:Wt.YP.Qm}:r==0&&s.add.SoLd?o.data={Bm:"placedLayerEditContents",w1:{classID:"placedLayerEditContents"}}:r==0&&s.add.TySh?(l.Q=C.OX,l.data={e:"editCurr",z3:a}):h.data={e:y.B.uH,W2:"layerstyle",n:a},this.w(o.data?o:h.data?h:l);return}if(!this.o5(t,i,r)&&t.button==0){var f={e:H.Tq,n:a,wH:r};if(this.nQ(f),t.altKey){if(r==1||r==3){var l=new z(y.E.H,!0);l.Q=C.QS,l.data={e:"mskView",C:e!=0?0:t.shiftKey?1:2},this.w(l)}else this.nQ({e:H.zO,n:a});return}}}},Ki.prototype.o5=function(t,i,e){if((t.ctrlKey||t.metaKey)&&(e==0||e==1||e==2)){var r=0;t.shiftKey&&r++,t.altKey&&(r+=2);var n=new z(y.E.H,!0);return n.Q=C.j1,n.data={e:"fromlayer",oI:[this.oY.index,e,r]},this.w(n),!0}return!1},Ki.prototype.nQ=function(t){var i=new z(y.E.H,!0);i.data=t,i.Q=C.xC,this.w(i)},ie.zS=function(t,i,e,r,n,a,s){At.call(this),this.a6T=i,this.Ab=e,this.index=a,this.u=y.z("div","styleitem"),this.n4=y.z("div","head"),this.ng=y.z("div","eye gsicon"),this.nM=y.z("div","label"),this.u.appendChild(this.n4),this.n4.appendChild(this.ng),s&&(this.Mn=s,this.n4.appendChild(this.Mn),this.n4.setAttribute("style","height: "+(s.firstChild.height/y.J()+10)+"px")),this.nM.innerHTML=t,this.u.setAttribute("style","margin-left: "+(24+r*16+n*22)+"px"),this.n4.appendChild(this.nM),this.ng.addEventListener("click",this.aeo.bind(this),!1);var l=this.u;l.setAttribute("draggable","true"),l.addEventListener("dragstart",this.Gs.bind(this),!1),l.addEventListener("drop",this.b1.bind(this),!1),l.addEventListener("dragover",this.lR.bind(this),!1),l.addEventListener("dragenter",y.OZ,!1),l.addEventListener("dragleave",this.Sq.bind(this),!1),this.u.addEventListener("click",this.NL.bind(this),!1)},ie.zS.prototype=new At,ie.zS.prototype.Gs=function(t){t.stopPropagation(),t.dataTransfer.setData("Text",JSON.stringify({iy:this.a6T,q_:this.parent.oY.index,sG:this.index}))},ie.zS.prototype.Sq=function(t){y.OZ(t),this.ES()},ie.zS.prototype.b1=function(t){y.OZ(t),this.ES();var i=t.dataTransfer.getData("Text");if(i!=""){var i=JSON.parse(i);Ki.UZ(t,i,this.parent,this.index+(Ki.d6(t,this.n4)>.5?0:1))}},ie.zS.prototype.lR=function(t){y.OZ(t);var i=Ki.d6(t,this.n4)>.5;this.ES();var e="border-"+(i?"bottom":"top");this.n4.style[e]="0.2em solid rgba(0,0,0,0.5)"},ie.zS.prototype.ES=function(t){this.n4.style.border="none"},ie.zS.prototype.vR=function(t){var i=15;1<y.J()&&y.J()<1.5&&(i=i/y.J()),this.ng.setAttribute("style","background-size: "+i+"px "+i+"px;"),this.ng.style.opacity=t?1:.2},ie.zS.prototype.NL=function(t){if(t.target!=this.ng&&t.detail!=1&&this.Ab!=null){var i=this.parent.oY.index,e=new z(y.E.L,!0);this.Ab.indexOf("afw_")==0?e.data=dt.Fr.Dl(this.Ab.slice(4),{n:i,index:this.index}):e.data={e:y.B.uH,W2:this.Ab,n:i,index:this.index},this.w(e)}},ie.zS.prototype.aeo=function(t){var i={fm:H.Hl,f:H.y6,sm:H.r5,s:H.Dv}[this.a6T];this.parent.nQ({e:i,n:this.parent.oY.index,index:this.index})};function Aa(){Wt.call(this,"Guide Guy",!1,null,Wt.YP.a13),this.nc=null,this.eh=[];var t=y.z("div","form padded");this.VI.appendChild(t),t.setAttribute("style","width:200px"),this.VI.appendChild(t);var i=y.z("canvas"),e=i.getContext("2d");i.width=i.height=160;for(var r=[32,0,16,160,0,32,160,16,0,112,160,16],n="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),a=[0,0,0,0,0,0,0,0,0,0],s=0;s<10;s++){if(e.clearRect(0,0,160,160),e.setTransform(1,0,0,1,80,80),e.rotate((s&3)*Math.PI/2),e.translate(-80,-80),e.fillStyle="rgba(0,0,0,0.3)",s<4)for(var l=0;l<12;l+=4)e.fillStyle=l==0?"#000000":"rgba(0,0,0,0.3)",e.fillRect(r[l],r[l+1],r[l+2],r[l+3]);else if(s<6){var h=8*6;e.fillRect(0,0,h,160),e.fillRect(8*7,0,h,160),e.fillStyle="#000000",e.fillRect(8*14,0,h,160)}else s<8?(e.fillRect(0,0,16,160),e.fillRect(160-16,0,16,160),e.fillRect(32,0,160-64,160),e.fillStyle="#000000",e.fillRect(32,80-8,160-64,8*1)):(e.fillRect(0,0,8*7,160),e.fillRect(8*13,0,160,160),e.fillStyle="#000000",e.fillRect(8*7,80-8,8*6,8*1));var o='<img src="'+i.toDataURL()+'" class="autoscale gsicon" /> ',f=new xi(o,0,200,s==4||s==5?null:"px",null,null,null,4,n[s]);f.parent=this,f.$(y.E.I,this.aiL,this),f.k(a[s]),f.t(),this.eh.push(f),t.appendChild(f.u)}var u=["Add Guides","Clear Guides"];this.C8=[];for(var s=0;s<u.length;s++){var p=new Tt(u[s],!0,null,!0);this.C8.push(p),p.$("click",this.AE,this),t.appendChild(p.u)}for(var s=0;s<6;s++){e.setTransform(1,0,0,1,80,80),e.rotate(Math.floor(s/3)*Math.PI/2),e.translate(-80,-80),e.clearRect(0,0,160,160),e.fillStyle="rgba(0,0,0,0.3)",e.fillRect(0,0,160,160),e.clearRect(16,16,128,128),e.fillStyle="#000000";var c=s%3;e.fillRect([0,9,18][c]*8,0,16,160);var o='<img src="'+i.toDataURL()+'" class="autoscale gsicon" /> ',p=new Tt(o,!1,null,!1);this.C8.push(p),p.$("click",this.AE,this),t.appendChild(p.u)}}Aa.prototype=new Wt(""),Aa.prototype.aiL=function(t){for(var i=this.eh,e=i.indexOf(t.target),r=Math.floor(e/2),n=e&1,a=[],s=0;s<4;s++)a.push(i[2*s+n].q());var l=-1;r==2&&a[2]!=0&&a[3]!=0&&a[4]!=0&&(l=4),r==3&&a[3]!=0&&a[2]!=0&&a[4]!=0&&(l=4),r==4&&a[4]!=0&&a[2]!=0&&a[3]!=0&&(l=3),l!=-1&&i[2*l+n].k(0)},Aa.prototype.AE=function(t){var i=this.nc,e=this.C8.indexOf(t.target),r=[[],[]];if(i!=null){var n=i.K?i.K.rect:new et(0,0,i.Z,i.h),a=n.Z,s=n.h;if(e==0){for(var l=[[],[]],h=0;h<this.eh.length;h++)l[h&1].push(this.eh[h].q());r=[Aa.Ii(l[0],n.x,n.x+a),Aa.Ii(l[1],n.y,n.y+s)],C.qT.Zk(r,i.ei)}else if(e!=1){e-=2;var o=Math.floor(e/3),r=[[],[]];r[o].push([n.x,n.x+a/2,n.x+a,n.y,n.y+s/2,n.y+s][e]),C.qT.Zk(r,i.ei)}var f=function(u,p){return u-p};r[0].sort(f),r[1].sort(f),this.akz(r)}},Aa.prototype.a3$=function(t){var i=this.afZ.indexOf(t.target)},Aa.prototype.akz=function(t){var i=new z(y.E.H,!0);i.Q=C.fb,i.data={e:"gids",lZ:t},this.w(i)},Aa.Ii=function(t,i,e){var r=[],n=t[2],a=t[3],s=t[4],l=0;if(n==0&&l++,a==0&&l++,s==0&&l++,l>1&&n==0&&a==0)return t[0]!=0&&r.push(i+t[0]),t[1]!=0&&r.push(e-t[1]),r;var h=e-i-t[0]-t[1];if(n==0)if(s==0)n=Math.floor(h/a),s=(h-n*a)/(n-1);else for(n=1;a*n+s*(n-1)+a+s<=h;)n++;else n!=0&&a!=0&&(n*a>h&&(n=Math.floor(h/a)),s=(h-n*a)/(n-1));r.push(i+t[0],e-t[1]);for(var a=(h-s*(n-1))/n,o=1;o<n;o++)s==0?r.push(i+t[0]+o*a):r.push(i+t[0]+o*a+(o-1)*s,i+t[0]+o*a+o*s);return r},Aa.prototype.Vp=function(t){this.nc=t};function ji(){Wt.call(this,[9,2],!1,null,Wt.YP.Qm),this.akj=null,this.cz=null,this.yH=null,this.a6j=-1}ji.prototype=new Wt(""),ji.prototype.sr=function(){this.ZM=y.z("div","padded"),this.ZM.style.width="22em",this.VI.appendChild(this.ZM);var t=y.z("span","fitem");this.ZM.appendChild(t),this.va=[new Tt([0,3]),new Tt([12,73]),new Tt([12,91,0])];for(var i=0;i<this.va.length;i++){var e=this.va[i];e.$("click",this.ai8,this),t.appendChild(e.u)}this.ZM.appendChild(y.z("hr")),this.cV=new ji.ol,this.cV.parent=this,this.zA=new ji.qn,this.zA.parent=this,this.qd=new ji.Kk,this.qd.parent=this,this.a6w=[this.cV,this.zA,this.qd],this.ZM.appendChild(this.cV.u)},ji.prototype.ai8=function(t){var i=this.va.indexOf(t.currentTarget);this.Xo(i),this.pB(i==1?this.zA.uR:-1)},ji.prototype.Xo=function(t){for(var i=0;i<3;i++){this.va[i].pe();var e=this.a6w[i].u;e.parentNode==this.ZM&&i!=t&&this.ZM.removeChild(e),e.parentNode!=this.ZM&&i==t&&this.ZM.appendChild(e)}this.va[t].V2()},ji.prototype.pB=function(t){var i=this.cz.p[0],e=this.cz.r[i],r=t+1;if(!(t==1&&e.yb)){var n=new z(y.E.H,!0);n.Q=C.xC,t!=1&&e.yb&&(n.data={e:H.Tq,n:i,wH:2},this.w(n)),n.data={e:H.Tq,n:i,wH:r},this.w(n)}},ji.prototype.t=function(){if(Wt.prototype.t.call(this),this.ZM!=null){this.Vp(this.cz);for(var t=0;t<3;t++)this.va[t].t(),this.a6w[t].t()}},ji.prototype.q0=function(){!y.WW(this.VI)||this.ZM==null&&(this.sr(),this.AK(this.yH,ut.oc),this.Vp(this.akj),this.t())},ji.prototype.Vp=function(t){if(this.akj=t,this.ZM!=null){if(this.cV.Vp(t),this.zA.Vp(t),this.qd.Vp(t),t==null||t.p.length==0){y.KL(this.VI,"disabled"),this.cz=null;return}else y.sT(this.VI,"disabled");var i=t.p[0],e=t.r[i],r=t.Cj(),n=r[0],a=r[1];if(a.length!=0){var s=n[a[0]],l=s.add.vogk,h=!1;if(l)for(var o=0;o<l.length;o++){var f=l[o].v,u=f.keyShapeInvalidated;u&&u.v||f.keyOriginType==null||(h=!0,i=s.XN)}}(t!=this.cz||this.a6j!=i)&&(this.cz=t,this.a6j=i,h?this.Xo(2):e.kB<1&&!e.yb?this.Xo(0):this.Xo(1)),this.va[1].b0(this.zA.uR!=-1),this.va[2].b0(h)}},ji.prototype.AK=function(t,i){this.yH=t,this.cV&&this.cV.AK(t,i)},ji.ol=function(){At.call(this),this.u=y.z("div","form"),this.amd=new fe("Hello"),this.u.appendChild(this.amd.u),this.pF=null,this.a39=null,this.cz=null,this.aec=-1,this.aew=null,this.a7=new Ve(!0),this.a7.parent=this,this.a7.$(y.E.I,this.a7R,this),this.oJ=y.z("div","marged hiline"),this.oJ.appendChild(this.a7.u),this.te=new Ie("GrFl",!0),this.te.parent=this,this.te.$(y.E.I,this.ahb,this),this.g1=y.z("div","marged hiline");for(var t="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" "),i=0;i<t.length;i++){var e=this.te.tV[t[i]].u;this.g1.appendChild(e)}this.yi=new Ie("patternFill",!0),this.yi.parent=this,this.yi.$(y.E.I,this.aiW,this),this.oG=y.z("div","marged hiline");for(var t=["Ptrn","Scl","Algn","phase"],i=0;i<t.length;i++){var e=this.yi.tV[t[i]].u;this.oG.appendChild(e)}this.pU={};for(var r in Vt.names)K[r]!=null&&(this.pU[r]=new K[r],this.pU[r].$(y.E.I,this.a9J,this),this.pU[r].parent=this);var n=this.adK=y.z("div","marged hiline");this.lF=ji.TH(["W","H","X","Y"],null,n,this.uM,this),this.BW=new ei([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]),this.BW.$(y.E.I,this.uM,this),n.appendChild(this.BW.u),this._C=new Ve(!1),this._C.parent=this,this._C.$(y.E.I,this.uM,this),n.appendChild(this._C.u)},ji.ol.prototype=new At,ji.ol.prototype.t=function(){for(var t in this.pU)this.pU[t].t();this.te.t(),this.yi.t(),this.BW.t();for(var i=0;i<4;i++)this.lF[i].t()},ji.ol.prototype.uM=function(t){var i=ji.uj(this.lF),e=H.xE(new et(i[2],i[3],i[0],i[1])),r=this.BW.q(),n={classID:"artboard",artboardRect:{t:"Objc",v:e},Clr:{t:"Objc",v:this._C.q()},artboardBackgroundType:{t:"long",v:r+1}},a=new z(y.E.H,!0);a.Q=C.xC,a.data={e:H.K6,eR:n},this.w(a)},ji.ol.prototype.a7R=function(t){var i=this.cz,e=i.p[0];if(i.r[e].add.SoCo!=null){var r=JSON.parse(JSON.stringify(i.r[e].add.SoCo));r.Clr.v=this.a7.q(),this.Zw({d1:1,qA:r})}},ji.ol.prototype.ahb=function(t){var i=this.cz,e=i.p[0];i.r[e].add.GdFl!=null&&this.Zw({d1:2,qA:this.te.q()})},ji.ol.prototype.aiW=function(t){this.Zw({d1:3,qA:this.yi.q()})},ji.ol.prototype.Zw=function(t){this._t(C.xC,{e:H.WF,Ev:[this.cz.p[0]],jK:!0,C:t})},ji.ol.prototype.a9J=function(t){this._t(C.Vd,{e:"edit_layer",C:this.a39.q()})},ji.ol.prototype._t=function(t,i){var e=new z(y.E.H,!0);e.Q=t,e.data=i,this.w(e)},ji.ol.prototype.Vp=function(t){var i=Lt.get([0,3]),e=null;if(this.cz=t,t&&t.r.length>0&&t.p.length!=0){var r=t.r[t.p[0]],n=Vt.get(r.add);if(n!=null&&this.pU[n]!=null){if(e=this.pU[n].u,this.a39=this.pU[n],this.pU[n].k(r.add[n]),t.p[0]!=this.aec){var a=t.lD(t.p[0]-1);this.aew=v.NC(a)}this.pU[n].iM(this.aew),i=Lt.get(Vt.names[n])}if(r.add.SoCo&&(e=this.oJ,this.a7.k(r.add.SoCo.Clr.v),i=Lt.get([6,48,0,0])),r.add.GdFl&&(e=this.g1,this.te.update(t,r.add.GdFl),i=Lt.get([6,48,0,1])),r.add.PtFl&&(e=this.oG,this.yi.update(t,r.add.PtFl),i=Lt.get([6,48,0,2])),r.add.artb){var s=r.add.artb,l=r.sc();e=this.adK,this.BW.k(s.artboardBackgroundType.v-1),s.Clr&&this._C.k(s.Clr.v),ji.ev(this.lF,[l.Z,l.h,l.x,l.y]),i="Artboard"}this.aec=t.p[0]}e!=this.pF&&(this.pF&&this.u.removeChild(this.pF),e!=null&&this.u.appendChild(e),this.pF=e),this.amd.k(i)},ji.ol.prototype.AK=function(t,i){this.te.AK(t,i),this.yi.AK(t,i);for(var e in this.pU)this.pU[e].AK(t,i)},ji.qn=function(){At.call(this),this.u=y.z("div","form"),this.cz=null,this.uR=0;var t=y.z("span","fitem");this.u.appendChild(t),this.va=[new Tt([6,2]),new Tt([6,3]),new Tt([6,50])];for(var i=0;i<this.va.length;i++){var e=this.va[i];e.$("click",this.a2D,this),t.appendChild(e.u)}this.gh=new Ht([12,74],0,255),this.gh.$(y.E.I,this.H6,this),this.u.appendChild(this.gh.u),this.l8=new Ht([7,6],0,500,"px",2,!0),this.l8.$(y.E.I,this.H6,this),this.u.appendChild(this.l8.u)},ji.qn.prototype=new At,ji.qn.prototype.H6=function(t){var i=this.gh.q(),e=this.l8.q(),r=new z(y.E.H,!0);r.Q=C.xC,r.data={e:H.IM,Sa:this.cz.p[0],j$:{SA:this.uR,gh:i,l8:e}},this.w(r)},ji.qn.prototype.t=function(){for(var t=0;t<this.va.length;t++)this.va[t].t();this.gh.t(),this.l8.t()},ji.qn.prototype.Vp=function(t){this.cz=t,this.nF()},ji.qn.prototype.a2D=function(t){this.nF(this.va.indexOf(t.currentTarget)),this.parent.pB(this.uR)},ji.qn.prototype.nF=function(t){for(var i=this.cz,e=this.va,r=0;r<3;r++){var n=e[r];n.pe(),n.U3()}if(!(i==null||i.r.length==0||i.p.length==0)){var a=-1,s=i.r[i.p[0]];if(s.gO()&&s.yg(i).g!=null&&(e[2].R8(),a=2),s.add.vmsk&&(e[1].R8(),a=1),s.jk()&&(e[0].R8(),a=0),t!=null?a=t:s.yb?a=1:s.kB==3?a=2:s.kB==1&&(a=0),this.uR=a,a==-1){this.gh.U3(),this.l8.U3();return}var l=s.rq(a);this.gh.R8(),this.l8.R8(),this.gh.k(l.gh),this.l8.k(l.l8),e[a].V2()}},ji.Kk=function(){At.call(this),this.u=y.z("div","form"),this.Ux=1,this.nX=y.z("div"),this.S8=ji.TH(["W","H","X","Y"],[12,51],this.nX,this.ha,this),this.Pz=y.z("div");var t=["\u250F","\u2513","\u2517","\u251B"];this.ZR=ji.TH(t,[12,91,2],this.Pz,this.ha,this)},ji.Kk.prototype=new At,ji.Kk.prototype.t=function(){y.$d(this.S8[0],this.S8[1]);for(var t=2;t<5;t++)this.S8[t].t();this.ZR[4].t()},ji.TH=function(t,i,e,r,n){var a=y.z("div","numlist");e.appendChild(a);for(var s=[],l=0;l<4;l++){var h=new xi(t[l],0,0,null,1,!1,!0);h.$(y.E.I,r,n),a.appendChild(h.u),s.push(h),(l==1||l==3)&&y.Rf(a)}return i&&(s[4]=new Ft(i),s[4].k(!0),e.appendChild(s[4].u)),s},ji.ev=function(t,i){for(var e=0;e<4;e++)t[e].k(i[e])},ji.uj=function(t){for(var i=[],e=0;e<4;e++)i[e]=t[e].q();return i},ji.Kk.prototype.ha=function(t){var i=this.S8.indexOf(t.currentTarget),e=this.ZR.indexOf(t.currentTarget),r=[null,null,null,null],n=[null,null,null,null];if(i!=-1){var a=ji.uj(this.S8),s=this.S8[4].q();a[0]=Math.max(1,a[0]),a[1]=Math.max(1,a[1]),s&&i==0&&(a[1]=a[0]/this.Ux),s&&i==1&&(a[0]=a[1]*this.Ux),r[0]=a[2],r[1]=a[3],r[2]=r[0]+a[0],r[3]=r[1]+a[1]}if(e!=-1){var a=ji.uj(this.ZR);if(n[e]=Math.max(0,a[e]),this.ZR[4].q())for(var l=0;l<4;l++)n[l]=n[e];var h=n[3];n[3]=n[2],n[2]=h}var o=new z(y.E.H,!0);o.Q=C.xC,o.data={e:H.I8,gx:r,ahs:n},this.w(o)},ji.Kk.prototype.Vp=function(t){if(t!=null){var i=this.nX.parentNode!=null,e=this.Pz.parentNode!=null,r=v.P$.bg(t),n=r[0],a=r[1];if(n?(i||this.u.appendChild(this.nX),this.Ux=(n[2]-n[0])/(n[3]-n[1]),ji.ev(this.S8,[n[2]-n[0],n[3]-n[1],n[0],n[1]])):i&&this.u.removeChild(this.nX),a){e||this.u.appendChild(this.Pz);var s=a[2];a[2]=a[3],a[3]=s,ji.ev(this.ZR,a)}else e&&this.u.removeChild(this.Pz)}};function bi(t){Wt.call(this,t.name,!0),this.EA=t,this.s0=null,this.eq=[],this.MN=!1,this.AF={x:0,y:0,Ku:!1},this.jN=!0,this.vf=document.createElement("canvas"),this.PF=this.vf.getContext("2d"),this.ob=document.createElement("canvas"),this.xX=this.ob.getContext("2d");var i=16,e=v.R(16*16*4);v.RK(e,i,i,8,0,0),this.xU=v.scale._$(e,i,i),this.adP=this.Qf.bind(this),this.rK=this.Ap.bind(this),this.a2z=this.sj.bind(this);var r=this.VI;y.X8(r,this.adP),y.Jr(r,this.rK),r.addEventListener("wheel",this.vQ.bind(this),!1),r.addEventListener("contextmenu",this.am2.bind(this),!1),this.gT=0,this.a4K="",this.WZ=4,y.w4(r)}bi.prototype=new Wt,bi.prototype.t3=function(){return this.EA.ry()?window.confirm(Lt.get([22,6,3])+" "+this.EA.name+". "+Lt.get([22,6,4])):!0},bi.prototype.vA=function(t){t.preventDefault()},bi.prototype.BC=function(t){for(var i=-1,e=this.eq,r=0;r<e.length;r++)e[r].pointerId==t.pointerId&&(i=r);return i},bi.prototype.Qf=function(t){var i=this.BC(t);if(i!=-1?this.eq[i]=t:this.eq.push(t),this.eq.length==1){var e=t.button!=null&&t.button!=0?"rdown":"down",r=new z("mouse",!0);r.action=e,this.NV(t,r),this.w(r),y.NG(this.VI,this.rK),y.Jr(window,this.rK),y.so(window,this.a2z)}this.eq.length==2&&(this.lG("multidown"),this.MN=!0)},bi.prototype.Ap=function(t){var i=this.BC(t);if(i!=-1&&(this.eq[i]=t),this.eq.length>1&&this.lG("multimove"),!this.MN){var e=new z("mouse",!0);e.action="move",this.NV(t,e),this.w(e)}},bi.prototype.sj=function(t){var i=this.eq,e=this.BC(t);if(i.splice(e,1),i.length==0){var r=t.button!=null&&t.button>0?"rup":"up",n=new z("mouse",!0);n.action=r,this.NV(t,n),this.w(n),y.NG(window,this.rK),y.Sz(window,this.a2z),y.Jr(this.VI,this.rK),this.MN=!1}},bi.prototype.vQ=function(t){if(this.vA(t),!(t.deltaX==0&&t.deltaY==0)){var i=new z("mouse",!0);i.action="scroll",i.d_=t.ctrlKey,this.NV(t,i),this.w(i)}},bi.prototype.am2=function(t){y.OZ(t);var i=t.sourceCapabilities;if(i&&(i=i.firesTouchEvents),i){var e=new z("mouse",!0);this.NV(t,e),e.action="rdown",this.w(e),e.action="rup",this.w(e)}},bi.prototype.lG=function(t){for(var i=this.eq,e=y.J(),r=[],n=0;n<i.length;n++){var a=r[n]=y.oA(i[n],this.VI);a.x*=e,a.y*=e}var s=new z("mouse",!0);s.action=t,s.vD=r,this.w(s)},bi.prototype.NV=function(t,i,e){var r=this.eq.length!=0;if(i.action!="up"){var n=y.J();e==null&&(e=y.oA(t,this.VI)),this.AF=i.yZ={x:n*e.x,y:n*e.y,Ku:r};var a=y.oA(t,document.body);i.yZ.Bx=a.x,i.yZ.yG=a.y}else this.AF=i.yZ={x:this.AF.x,y:this.AF.y,Ku:r};if(i.yZ.kH=1,t.pressure!=null&&t.pressure!=0&&(i.yZ.kH=t.pressure*2),t.deltaX!=null){var s=t.deltaMode==0?1:40;i.Dk=new st(t.deltaX*s,t.deltaY*s)}},bi.prototype.AK=function(t,i){this.s0=t},bi.prototype.Vp=function(t){this.q0(),this.qK()},bi.prototype.l9=function(t,i){if(!(t<=0||i<=0)){this.YY=t,this.mi=i;var e=this.EA,r=y.J();e.a.xX.Z=Math.floor(t*r),e.a.xX.h=Math.floor(i*r),y.Tv(this.ob,t,i),y.Tv(this.vf,t,i),y.Tv(q.Oa(),t,i),e.a.F==0&&(e.a.F=C.$h.P9(e.Z,e.h,t*r,i*r)),this.jN=!0,this.qK()}},bi.prototype.q0=function(){var t=this.VI.firstChild;(!q.pQ&&t==q.Oa()||q.pQ&&t==this.ob)&&this.VI.removeChild(t),this.VI.appendChild(q.pQ?q.Oa():this.ob)},bi.prototype.qK=function(){if(q.pQ!=this.WZ&&(this.gT=0,this.a4K="",this.jN=!0),this.WZ=q.pQ,this.s0!=null){q.pQ?this.a2X():this.Z0();var t=this.EA;this.gT=t.a.F,this.a4K=JSON.stringify(t.a.qa),this.jN=!1}},bi.prototype.a2X=function(){q.pQ&&bi.a2q==null&&(bi.a2q=new bi.Nb(!1)),q.pQ&&bi.a1e==null&&(bi.a1e=new bi.Nb(!0));var t=this.EA,i;if(t.Z_!=null){var e=t.a,r=e.xX.Z,n=e.xX.h,a=q.ui;this.xX.clearRect(0,0,r,n);var s=this.eJ(t);e.D6==null&&(e.D6=new q._B(r,n)),s?e.D6.set(this.ob):(q.k1(e.D6),q.OL(0));var l=e._R(0,0),h=new Et;h.scale(r,n),h.concat(e.c5()),h.scale(1/t.Z,1/t.h);var o=[h.m,h.i,0,h.p$,h.xA,0,h.PV,h.ye,1],f=[0,0,0,0];t.add.artd?(f=bi.Eh(t),i=bi.a1e):i=bi.a2q,q.N6(r,n),q.OL(0),q.N6(r,n),i.kt(),i.WL(e.D6.g3,t.Z_.g3,new Float32Array(o),new Float32Array([r/8,n/8,l.x/r,l.y/n]),t.Z,t.h,1/t.a.F,r,n,new Float32Array(f),new Float32Array(v.t1.yT(v.t1.$u(e.qa)))),a.drawArrays(a.TRIANGLES,0,6)}},bi.Eh=function(t){var i=t.add.artd.canvasColor;return i==null?[0,0,0,0]:bi.akL(i)},bi.akL=function(t){for(var i=v.j.T6(t.v),e=[i.U/255,i.S/255,i.i/255,1],r=0;r<4;r++)e[r]=Math.min(1,e[r]);return e},bi.ap=function(t,i){var e=t[2]*255;return q.pQ&&(e=i?0:Math.max(1,e)),"rgba("+t[0]*255+","+t[1]*255+","+e+","+t[3]+")"},bi.O9=function(t){if(q.pQ)for(var i=0;i<t.length;i+=4)t[i+2]==0&&(t[i+2]=3)},bi.prototype.Z0=function(){var t=this.EA;if(t.buffer!=null){var i=t.a,e=i.xX,r=e.Z,n=e.h,a=new et(0,0,t.Z,t.h);if(this.PF.clearRect(0,0,r,n),this.xX.clearRect(0,0,r,n),t.add.artd==null){this.xX.save();var s=i.c5();s.nJ();var l=s.aT(new st(0,0));s.translate(-l.x,-l.y),this.xX.translate(Math.round(l.x),Math.round(l.y)),this.xX.fillStyle=this.xU,this.Jm(v.D.z0(a),s,this.xX),this.xX.fill(),this.xX.restore()}else this.xX.fillStyle=bi.ap(bi.Eh(t)),this.xX.fillRect(0,0,r,n);i.lh.length!=e.M()&&(i.lh=v.R(e.M()),i.ox=v.R(e.M()*4)),i.ox.fill(0),v.scale.akF(t.buffer,a,i.c5(),i.ox,e),i.qa[0]+i.qa[1]+i.qa[2]!=3&&v.t1.at(i.ox,i.ox,v.t1.$u(i.qa)),this.PF.putImageData(new ImageData(new Uint8ClampedArray(i.ox.buffer),e.Z,e.h),0,0),this.xX.drawImage(this.vf,0,0),this.eJ(t)}},bi.prototype.eJ=function(t){for(var i=t.a,e=i.qa[0]+i.qa[1]+i.qa[2],r=!1,n=[],a=0;a<t.p.length;a++){var s=t.r[t.p[a]],l=s.kB;if(!(l!=1&&l!=3)){var h=l==1?s.jk():s.yg(t).g;h.gG&&n.push(h)}}for(var a=0;a<t.Yq.length;a++)t.Yq[a].gG&&n.push(t.Yq[a]);for(var a=0;a<n.length;a++){var h=n[a];this.U8(h,i,n.length==1&&e==0?2:1,h.color,h.u9),r=!0}var o=this.s0;return r=this.a7G(t,this.xX,i)||r,t.K&&o.IT&&o.Np.X0&&(this.U8(t.K,i,0,0,null),r=!0),r},bi.prototype.U8=function(t,i,e,r,n){var a=0,s,l;n&&(a=Math.round(n.i)<<16|Math.round(n.S)<<8|Math.round(n.U));var h=i.c5(),o=i.xX,f=new et(0,0,i.EA.Z,i.EA.h);i.lh.length!=o.M()&&(i.lh=v.R(o.M()),i.ox=v.R(o.M()*4)),i.lh.fill(r),i.ox.fill(0);var u=t.channel,p=t.rect;v.scale.O(u,p,h,i.lh,o),e==0?v.K.a4U(i.lh,i.ox,o,o):v.K.ac5(i.lh,i.ox,o,o,e,a),bi.O9(i.ox);var c=new ImageData(new Uint8ClampedArray(i.ox.buffer),o.Z,o.h);this.PF.putImageData(c,0,0),this.xX.save(),e==0?(s=o.clone(),s.PK(-1,-1),l=new Et):(s=new et(0,0,f.Z,f.h),l=h.clone(),l.nJ()),this.Jm(v.D.z0(s),l,this.xX),this.xX.clip(),this.xX.drawImage(this.vf,0,0),this.xX.restore()},bi.prototype.a7G=function(t,i,e){var r=t.v.Kp||t.v.hK||t.v.zK||t.v.bU.length!=0||t.v.Tw.length!=0,n=this.s0,a=n.Np,s=In.lB[n.hb],l=Math.round(12*y.J()),h=l/t.a.F,o=e.c5();if(o.nJ(),i.save(),i.setTransform(o.m,o.i,o.p$,o.xA,o.PV,o.ye),t.add.artd){var f=bi.Eh(t)[0];for(f=f<.5?f+.5:f-.5,f=""+Math.round(f*255).toString(16);f.length<2;)f="0"+f;i.fillStyle="#"+f+f+f,i.font=h+"px sans-serif";for(var u=0;u<t.r.length;u++){var p=t.r[u];if(!(p.add.artb==null||!p.UQ())){var c=p.sc();i.fillText(p.getName(),c.x,c.y-6/e.F),r=!0}}}var d=bi.ap([.1,.5,1,1]),g=bi.ap([1,1,1,1]);if(n.IT&&a.VW){i.fillStyle=i.strokeStyle=d,i.lineWidth=1.5/e.F;for(var b=t.Cj(),m=b[0],x=b[1],M=0;M<x.length;M++){var p=m[x[M]],S=p.add.vmsk,w=S.b,k=v.D.xJ(w);this.Jm(k,null,i),i.stroke(),r=!0;for(var R=3*y.J()/e.F,T=w.length-3,u=0;u<S.A2.length;u++){var L=v.V.rJ(w,S.A2[u]);if(L!=null){var O=L.x,E=L.y;i.beginPath();var D=u==0;S.mt&&(D=!D),D?(i.moveTo(O-R,E-R),i.lineTo(O+R,E+R),i.moveTo(O-R,E+R),i.lineTo(O+R,E-R),i.stroke()):(i.arc(O,E,R*1,0,2*Math.PI),i.fill()),r=!0}}if(t.p.length==1){for(var B=-1,u=0;u<w.length;u++)if(!(w[u].type>5)){if(w[u].type==0||w[u].type==3){w[u].IO!=-1&&B++;continue}if(S.p.indexOf(B)!=-1){var O=w[u]._.x,E=w[u]._.y;i.fillRect(O-R*.8,E-R*.8,2*R*.8,2*R*.8)}if(S.s_.indexOf(u)!=-1){var I=[w[u]._];i.beginPath(),i.moveTo(w[u].wU.x,w[u].wU.y),i.lineTo(w[u]._.x,w[u]._.y),i.lineTo(w[u].dv.x,w[u].dv.y),i.stroke(),w[u]._.Qn(w[u].wU)||I.push(w[u].wU),w[u]._.Qn(w[u].dv)||I.push(w[u].dv);for(var N=0;N<I.length;N++){var L=I[N],O=L.x,E=L.y;N==0&&(w[u].type==2||w[u].type==5)?i.fillRect(O-1.2*R,E-1.2*R,2.4*R,2.4*R):(i.beginPath(),i.arc(O,E,R*1.2,0,2*Math.PI),i.fill(),N!=0&&(i.fillStyle=g),i.beginPath(),i.arc(O,E,R*.8,0,2*Math.PI),i.fill(),i.fillStyle=d)}}r=!0}}}}i.fillStyle=i.strokeStyle=bi.ap([0,0,0,1],!0),i.lineWidth=1/e.F;var V=new Et(1,0,0,1,.5/e.F,.5/e.F);t.v.Kp&&(this.Jm(t.v.Kp,null,i),i.fill()),t.v.hK&&(this.Jm(t.v.hK,V,i),i.stroke());for(var j in t.v.wR)t.v.wR[j].hK&&(this.Jm(t.v.wR[j].hK,null,i),i.stroke(),r=!0);i.beginPath();for(var R=(4*y.J()+.5)/e.F,G=t.v.CL,u=0;u<G.length;u+=2){r=!0;var O=G[u],E=G[u+1];i.rect(O-R,E-R,2*R,2*R)}i.stroke();var G=t.v.a80;i.beginPath();for(var R=4*y.J()/e.F,u=0;u<G.length;u+=2){r=!0;var O=G[u],E=G[u+1];i.moveTo(O+R,E),i.arc(O,E,R,0,2*Math.PI)}i.fill();var G=t.v.z6;i.fillStyle=bi.ap([1,1,1,1]),i.beginPath();for(var R=6*y.J()/e.F,u=0;u<G.length;u+=2){r=!0;var O=G[u],E=G[u+1];i.moveTo(O+R,E),i.arc(O,E,R,0,2*Math.PI)}i.fill();for(var R=4*y.J()/e.F,u=0;u<G.length;u+=2){r=!0;var O=G[u],E=G[u+1];i.fillStyle=bi.ap(t.v.Cs.indexOf(u>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]),i.beginPath(),i.moveTo(O+R,E),i.arc(O,E,R,0,2*Math.PI),i.fill()}if(t.v.bU.length!=0)for(var u=0;u<t.v.bU.length;u++){var Z=t.v.bU[u],_=Z[1];i.putImageData(new ImageData(new Uint8ClampedArray(Z[0].buffer),_.Z,_.h),_.x,_.y)}var U=.5/e.F;if(i.lineWidth=1/e.F,t.v.bX){r=!0;for(var Y=t.v.bX,$=Y.K3,k={W:[],d:[]},u=0;u<Y.od.length;u++)v.D.concat(k,v.D.z0(Y.od[u]));k.d=k.d.concat($);for(var u=0;u<$.length;u+=4)k.W.push("M","L");for(var u=0;u<k.d.length;u++)k.d[u]+=U;i.strokeStyle=bi.ap([.9,.2,.2,1]),this.Jm(k,null,i),i.stroke();var P=y.J();i.font=h*.9+"px sans-serif";for(var tt=2/e.F,X=2*tt,u=0;u<$.length;u+=4){var O=$[u],E=$[u+1],ht=$[u+2],F=$[u+3],J=Math.sqrt((F-E)*(F-E)+(ht-O)*(ht-O));J=v.t$.Rq(J,t.NB,n,E==F?t.Z:t.h);var Q=new st((O+ht)/2,(E+F)/2);i.fillStyle=bi.ap([.9,.2,.2,1]);var rt=i.measureText(J).width;i.fillRect(Q.x-rt/2-tt*P,Q.y-3.5*tt*P,rt+2*tt*P,7*tt*P),i.fillStyle=bi.ap([1,1,1,1]),i.fillText(J,Q.x-rt/2,Q.y+2*tt*P)}}if(n.IT){if(a.aG){var it=v.t$.Cc(a.vZ,t,a.pO),nt=it;a.pO==4&&(nt*=t.h/t.Z),this.c0(t,i,it,nt,1,a.QI),r=!0}if(a.M4&&t.a.F>7&&(this.c0(t,i,1,1,.5,a.QI),r=!0),a.ei){var ot=Math.max(t.a.xX.Z,t.a.xX.h)/t.a.F;ot=Math.max(Math.max(t.Z,t.h)*2,ot),i.beginPath(),i.strokeStyle=bi.ap([0,1,1,1]);for(var u=0;u<t.ei[0].length;u++){var pt=Math.round(t.ei[0][u])+U;i.moveTo(pt,-ot),i.lineTo(pt,ot)}for(var u=0;u<t.ei[1].length;u++){var yt=Math.round(t.ei[1][u])+U;i.moveTo(-ot,yt),i.lineTo(ot,yt)}i.stroke()}var ct=t.P0;if(a.P0&&ct.length!=0){i.font=h*.8+"px sans-serif";for(var vt=[],wt=[],u=0;u<ct.length;u++){var Mt=C.e9.rF(ct,u);vt.push(Mt),t.xR.indexOf(u)!=-1&&wt.push(Mt)}vt.reverse();var Ct=Date.now();vt=v.rect._T([0,0,t.Z,t.h],vt);for(var N=0;N<2;N++)for(var u=0;u<vt.length;u++){var gt=vt[u],B=gt[4],bt=B!=null?ct[B]:null;if(!(bt&&N==0||bt==null&&N==1)){var O=Math.round(gt[0]),E=Math.round(gt[1]),ht=Math.round(gt[2]),F=Math.round(gt[3]);i.strokeStyle=i.fillStyle=bi.ap(bt?[0,.7,.7,1]:[.8,.8,.8,1]),i.strokeRect(O+U,E+U,ht-O,F-E);var xt=u+1,Dt=i.measureText(xt),rt=Dt.width;i.fillRect(O,E,rt+h/2,h),i.fillStyle=bi.ap([1,1,1,1]),i.fillText(xt,O+h/4,E+h*.8)}}for(var tt=2/t.a.F,X=2*tt,u=0;u<wt.length;u++){var gt=wt[u],O=Math.round(gt[0]),E=Math.round(gt[1]),ht=Math.round(gt[2]),F=Math.round(gt[3]);i.strokeStyle=i.fillStyle=bi.ap([0,.7,.7,1]),i.strokeRect(O+U,E+U,ht-O,F-E);for(var Ot=[O,E,ht,E,ht,F,O,F],kt=0;kt<Ot.length;kt+=2){var pt=Ot[kt],yt=Ot[kt+1],mt=Ot[kt+2&7],It=Ot[kt+3&7];i.fillRect(pt-tt,yt-tt,X,X),i.fillRect(Math.round((pt+mt)/2)-tt,Math.round((yt+It)/2)-tt,X,X)}}r=!0}}if(i.strokeStyle=bi.ap([1,0,0,1]),t.v.zK&&(this.Jm(t.v.zK,V,i),i.stroke()),i.restore(),n.bt){(t.a.Pq==null||t.a.Pq.width!=t.a.xX.Z||t.a.Yb.height!=t.a.xX.h)&&(t.a.Pq=i.createImageData(t.a.xX.Z,v.t$.Tn),t.a.Yb=i.createImageData(v.t$.Tn,t.a.xX.h));var s=In.lB[n.hb],e=t.a,Bt=e.F*t.Z/2,Ut=e.F*t.h/2,qt=[1,t.NB,t.NB/2.54,t.NB/25.4,t.Z/100][a.Md],Gt=e.F,zt=e.c.clone(),Nt=e.D8;e.F*=qt,e.c.x+=Bt*qt-Bt,e.c.y+=Ut*qt-Ut,e.D8=0,v.t$.al_(e,s["--text-color"],s["--bg-input"]),e.F=Gt,e.c=zt,e.D8=Nt;var Kt=ue.na(e.F,bi.ap([1,1,1,1]));bi.O9(t.a.Yb.data),bi.O9(t.a.Pq.data),i.putImageData(t.a.Yb,0,0),i.putImageData(t.a.Pq,0,0),i.putImageData(Kt,0,t.a.xX.h-Kt.height)}if(t.v.Tw.length!=0)for(var u=0;u<t.v.Tw.length;u++){var Z=t.v.Tw[u],_=Z[1];i.putImageData(new ImageData(new Uint8ClampedArray(Z[0].buffer),_.Z,_.h),_.x,_.y)}return r||n.bt||t.ei[0].length+t.ei[1].length>0},bi.prototype.c0=function(t,i,e,r,n,a){for(;e*t.a.F<4;)e*=2,r*=2;var s=t.Z,l=t.h,h=.5/t.a.F;i.strokeStyle=bi.ap([.5,.5,.5,n],!0),i.save(),i.rect(0,0,s,l),i.clip(),i.beginPath();for(var o=0;o<=s;o+=e)i.moveTo(o+h,0),i.lineTo(o+h,l);if(a==0)for(var f=0;f<=l;f+=r)i.moveTo(0,f+h),i.lineTo(s,f+h);else{r*=Math.sqrt(4/3);for(var u=r*Math.floor(s/r),p=s*(r/(2*e)),f=-u;f<=l+u;f+=r)i.moveTo(0,f),i.lineTo(s,f-p),i.moveTo(0,f),i.lineTo(s,f+p)}i.stroke(),i.restore()},bi.prototype.Jm=function(t,i,e){e.beginPath();var r=v.D.clone(t);i&&v.D.O(r.d,i,r.d),Typr.U.pathToContext({cmds:r.W,crds:r.d},e)},bi.Nb=function(t){q.f2.call(this),this.a5M=t;var i="			precision mediump float;						uniform sampler2D source;			uniform sampler2D target;			uniform vec3 contSizeZoom;			uniform vec2 cnvSize;			uniform mat4 ctrn; 			"+(t?"uniform vec4 bgClr;":"")+"						varying vec2 tCoord;			varying vec2 sCoord;			varying vec2 gCoord;						/* This approximates the error function, needed for the gaussian integral */ 			vec4 erf(vec4 x) { 			  vec4 s = sign(x), a = abs(x);			  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;			  x *= x;  			  return s - s / (x * x); 			} 			/* Return the mask for the shadow of a box from lower to upper */  			float boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { 			  vec4 query = vec4(point - lower, point-upper); 			  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); 			  return (integral.z - integral.x) * (integral.w - integral.y); 			} 						vec4 simpleBlend(vec4 src, vec4 tgt) {				float na = src.w + tgt.w*(1.0-src.w);				/* avoid division by zero */ 				return na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);			} 						"+q.XR.aS+"						void main(void) {				vec4 src = texture2D(source, tCoord); 				vec4 tgt = ctrn*texture2D(target, sCoord); "+(t?"vec4 BG = bgClr;":"					float shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);					vec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);					vec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); 				")+"				vec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  				if(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); 				else             gl_FragColor = simpleBlend(src,outc); 							}",e="			attribute vec2 verPos;			varying vec2 tCoord;			varying vec2 sCoord;			varying vec2 gCoord;						uniform mat3 tmat;			uniform vec4 gsize;			void main(void) {				tCoord = verPos;				sCoord = (tmat*vec3(verPos,1.0)).xy;				gCoord = (verPos-gsize.zw) * gsize.xy ; 				gl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);			}";this.uZ(i,e)},bi.Nb.prototype=new q.f2,bi.Nb.prototype.WL=function(t,i,e,r,n,a,s,l,h,o,f){this.ac("tmat gsize source target contSizeZoom cnvSize bgClr ctrn".split(" "));var u=q.ui,p=this.B6;u.uniformMatrix3fv(p.tmat,!1,e),u.uniform4fv(p.gsize,r),u.uniform3f(p.contSizeZoom,n,a,s),u.uniform2f(p.cnvSize,l,h),u.uniformMatrix4fv(p.ctrn,!1,f),this.a5M&&u.uniform4fv(p.bgClr,o),u.uniform1i(p.source,0),u.uniform1i(p.target,1),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,t),u.activeTexture(u.TEXTURE1),u.bindTexture(u.TEXTURE_2D,i),u.activeTexture(u.TEXTURE0)};function Bs(){Wt.call(this,[9,7],!1,null,Wt.YP.afw),this.VI.setAttribute("style","min-width:240px;"),this.cz=null,this.Xe=-1,this.a8$=[],this.TP=y.z("div","scrollable"),this.TP.style.height="160px",this.VI.appendChild(this.TP),this.D0=y.z("div","lpfoot"),this.VI.appendChild(this.D0),this.C8=[];for(var t=["reload","lrs/newlayer","lrs/bin"],i=[[5,10],[5,3],[5,4]],e=0;e<t.length;e++){var r=new Tt('<img src="'+PIMG[t[e]]+'" class="gsicon" />',!1,i[e]);r.$("click",this.a3L,this),this.D0.appendChild(r.u),this.C8.push(r)}}Bs.prototype=new Wt(""),Bs.prototype.nQ=function(t){var i=new z(y.E.H,!0);i.data=t,i.Q=C.Jc,this.w(i)},Bs.prototype.a3L=function(t){var i=this.C8.indexOf(t.currentTarget);i!=1&&this.Xe==-1||(this.nQ({e:["updLC","addLC","delLC"][i],XN:this.Xe}),i==2&&(this.Xe=-1))},Bs.prototype.t=function(){Wt.prototype.t.call(this);for(var t=0;t<this.C8.length;t++)this.C8[t].t()},Bs.prototype.Vp=function(t){if(t==null?y.KL(this.VI,"disabled"):y.sT(this.VI,"disabled"),this.cz=t,y.TD(this.TP),t!=null){var i=t.e5.lastAppliedComp?t.e5.lastAppliedComp.v:0,e=t.e5.list.v.slice(0);e.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var r=0;r<e.length;r++){var n=e[r].v,a=new Is(n.Nm.v,n.compID.v,n.capturedInfo.v,i,this.Xe);a.$("activate",this.VG,this),a.parent=this,this.TP.appendChild(a.u),this.a8$.push(a)}}},Bs.prototype.VG=function(t){this.Xe=t.currentTarget.XN,this.Vp(this.cz)};function Is(t,i,e,r,n){At.call(this),this.XN=i,this.u=y.z("div","head listitem"+(i==n?" selected":""));var a=i==r,s=new Tt("<b>"+(a?"\u2713":"\u2014")+"</b>");a&&s.V2(),this.u.appendChild(s.u),s.$("click",this.YB,this);var l=this._J=y.z("span");if(l.textContent=t,this.u.appendChild(l),this.C8=[],i!=0){this.u.addEventListener("mouseup",this.VG.bind(this),!1),this.abL=y.z("span","headR"),this.u.appendChild(this.abL);for(var h=["lrs/eye","pos","lrs/fx"],o=["Visibility","Position","Appearance"],f=0;f<h.length;f++){var u=new Tt('<img src="'+PIMG[h[f]]+'" class="autoscale gsicon" />',!1,o[f]);(e>>f&1)==0&&u.u.setAttribute("style","opacity:0.3"),u.$("click",this.a2Q,this),this.abL.appendChild(u.u),this.C8.push(u)}}}Is.prototype=new At,Is.prototype.VG=function(t){if(!(t.target!=this._J&&t.target!=this.u))if(t.detail==1)this.w(new z("activate",!1));else var i=new Wt.ir(this._J,this.T0.bind(this))},Is.prototype.a2Q=function(t){var i=this.C8.indexOf(t.currentTarget);this.nQ({e:"editLC",ahW:i,XN:this.XN})},Is.prototype.T0=function(t){this.nQ({e:"editLC",gA:t,XN:this.XN})},Is.prototype.YB=function(t){this.nQ({e:"setLC",XN:this.XN})},Is.prototype.nQ=function(t){var i=new z(y.E.H,!0);i.data=t,i.Q=C.Jc,this.w(i)};function ea(){Wt.call(this,[9,11],!1,null,Wt.YP.aiB);var t=y.z("div","padded");t.setAttribute("style","min-width:15em"),this.VI.appendChild(t);var i=y.z("div");t.appendChild(i),i.setAttribute("style","cursor:grab;"),this.w7=y.z("canvas"),this.w7.width=100,i.appendChild(this.w7),y.w4(this.w7),y.X8(this.w7,this.TY.bind(this)),this.Ez=new oe(null,0,C.$h.dc.length-1),this.Ez.$(y.E.I,this.a0P,this),t.appendChild(this.Ez.u),this.ady=this.m4.bind(this),this.aiJ=this.xL.bind(this),this.nc=null}ea.prototype=new Wt(""),ea.prototype.l9=function(t,i){this.qK()},ea.prototype.a0P=function(t){var i=this.Ez.q(),e=this.nc,r=C.$h.dc[C.$h.dc.length-1-i],n=new z(y.E.H,!0);n.Q=C.QS,n.data={e:"zoom",F:r},this.w(n)},ea.prototype.TY=function(t){this.nc!=null&&(y.Jr(window,this.ady),y.so(window,this.aiJ))},ea.prototype.m4=function(t){var i=y.oA(t,this.w7),e=this.nc,r=this.w7.width,n=this.w7.height,a=(i.x*y.J()-r/2)/r,s=(i.y*y.J()-n/2)/n,l=y.J()*e.a.F,h=Math.round(-e.a.F*e.Z*a),o=Math.round(-e.a.F*e.h*s);C.DB.Qq(e,h,o)},ea.prototype.xL=function(t){y.NG(window,this.ady),y.Sz(window,this.aiJ)},ea.prototype.Vp=function(t){t==null&&this.nc!=null&&(this.w7.width=100),this.nc=t,this.qK()},ea.prototype.qK=function(){var t=this.nc,i=0;if(!(t==null||t.a.F==0)&&!!y.WW(this.VI)){this.Ez.k(C.$h.dc.length-1-C.$h.gd(t.a.F));var e=300*y.J(),r=[t.lD(),new et(0,0,t.Z,t.h)];for(v.hE(r);Math.max(r[i+1].Z,r[i+1].h)>e;)i+=2;var n=r[i],a=r[i+1],s=a.Z,l=a.h,h=this.w7;h.width=s,h.height=l,y.Hc(h,s,l);var o=h.getContext("2d"),f=o.createImageData(s,l);v.Hk(n,f.data),o.putImageData(f,0,0);var u=t.a.Ze(),p=s/t.Z;o.scale(p,p),o.lineWidth=4/p,o.strokeStyle="#ff0000",o.strokeRect(u.x,u.y,u.Z,u.h)}},ea.prototype.AK=function(t,i){},ea.prototype.q0=function(){this.qK()};function Fl(t,i){if(t==null){Wt.call(this);return}Wt.call(this,t.name,!1,t.icon,i);var e=this.alb=y.z("iframe","padded");e.setAttribute("src",t.url),e.setAttribute("style","width:"+t.width+"px; height:"+t.height+"px"),this.VI.appendChild(e)}Fl.prototype=new Wt(""),Fl.prototype.qM=function(t){y.WW(this.alb)&&this.alb.contentWindow.postMessage(t,"*")};function Xs(){Wt.call(this,[9,12],!1,null,Wt.YP.o8),this.yH=null,this.xx=new on(C.Sm),this.xx.parent=this;var t=y.z("div","padded");t.setAttribute("style","width:20em"),this.VI.appendChild(t),t.appendChild(this.xx.sR)}Xs.prototype=new Wt(""),Xs.prototype.q0=function(){this.xx._F(this.yH.$n)},Xs.prototype.AK=function(t,i){this.yH=t,(i==ut.oc||i==ut.o8)&&this.xx._F(t.$n)},Xs.prototype.l9=function(t,i){this.xx.acT(this.yH.Mp)},Xs.prototype.t=function(){Wt.prototype.t.call(this),this.xx.t()};function Ji(){At.call(this),this.Q=0,this.CE=null,this.u=y.z("div","toolconf"),this.xx=null,this.ZU=null,this.body=new y.z("div","body")}Ji.prototype=new At,Ji.prototype.a21=function(t,i){if(this.Q=t,this.CE=i,C.er[t]){var e=this.xx=new on(t);this.u.appendChild(e.u),e.parent=this}else this.ZU=y.z("div"),this.u.appendChild(this.ZU);this.u.appendChild(this.body),this.t()},Ji.prototype.yp=function(t,i){},Ji.prototype.iW=function(t){},Ji.prototype.AK=function(t,i){(i==ut.oc||i==ut.o8)&&this.xx&&this.xx._F(t.$n)},Ji.prototype.St=function(t){},Ji.prototype.t=function(){this.xx?this.xx.t():this.ZU.innerHTML=y.G6(this.CE,null,"toolicon"),this.Pc()},Ji.prototype.Pc=function(){};function _i(t){if(Ji.call(this),t!=null){this.yH=null,this.eh={};for(var i=0;i<t.length;i++){var e=t[i],r=null;e=="brush"&&(r=new Nn),e=="bmode"&&(r=new ei([12,19,0],ti.Zn,!1,ti.wp)),e=="bmode0"&&(r=new ei([12,19,0],ti.Zn.slice(23),!1)),e=="emode"&&(r=new ei([12,36],[[9,3],[10,38]])),e=="opacity"&&(r=new xi([12,0],0,100,"%"),r.k(100)),e=="flow"&&(r=new xi([12,63],0,100,"%"),r.k(100)),e=="smth"&&(r=new xi([19,3,0],0,100,"%"),r.k(0)),e=="samp"&&(r=new ei("Sampling",["Brush Center","Start of Stroke","Background Color"])),e=="wconf"&&(r=new As,r.k([40,!0,!0])),e=="strn"&&(r=new xi([12,64],1,100,"%"),r.k(50)),e=="smode"&&(r=new ei([12,36],[[19,7,0],[19,7,1]]),r.k(1)),e=="pdetail"&&(r=new Ft([12,65]),r.V2()),e=="rng"&&(r=new ei([12,12],[[19,6,0],[19,6,1],[19,6,2]]),r.k(1)),e=="expo"&&(r=new xi([12,5],0,100,"%"),r.k(50)),e=="algnd"&&(r=new Ft([12,75]),r.k(!1)),e=="sfrom"&&(r=new ei([12,70],[[17,1],[17,3],[17,0]])),e=="alt"&&(r=new Xn(null,["Alt"],!0,["Select Source"])),e=="qsmode"&&(r=new me([12,36],['<img src="'+PIMG["set/front"]+'" class="autoscale gsicon" />','<img src="'+PIMG.zoomIn+'" class="autoscale gsicon" />','<img src="'+PIMG.zoomOut+'" class="autoscale gsicon" />'],[[5,3],[18,1],[18,2]])),e=="redge"&&(r=new Tt([7,11],!1,null,!0)),e=="setop"&&(r=new ks),e=="patch"&&(r=new me(null,[[12,70],[12,71]])),e=="prsr"&&(r=new Xn(null,['<img src="'+PIMG.prsO+'" class="autoscale gsicon" />','<img src="'+PIMG.prsS+'" class="autoscale gsicon" />'],!0,[[15,9,0],[15,9,1]]),r.k([!1,!0])),r.parent=this,this.body.appendChild(r.u),this.eh[e]=r,e=="brush"?r.$(y.E.I,this.aL,this):e=="redge"?r.$("click",this.TR,this):r.$(y.E.I,this.Ah,this)}}}_i.prototype=new Ji,_i.prototype.yp=function(t,i){t=t[1];var e=this.eh;if(t.Md&&e.bmode.k(ti.zn.indexOf(t.Md.v.BlnM)),t.Opct&&e.opacity.k(t.Opct.v),t.flow&&e.flow.k(t.flow.v),t.Brsh&&e.brush.k(t,i.aF.Xu,i.aF.A6),t.FrgC){var r=v.j.T6(t.FrgC.v),n=new z(y.E.L,!0);n.data={e:y.B.Sl,S9:ut.Io,mQ:0,C:r.U<<16|r.S<<8|r.i},this.w(n)}this.aL(),this.Ah()},_i.prototype.iW=function(){if(C.er[this.Q]==null)return null;var t=this.eh,i=JSON.parse(JSON.stringify(t.brush.q()));i.classID=C.er[this.Q][1][0],t.bmode&&(i.Md={t:"enum",v:{BlnM:ti.zn[t.bmode.q()]}}),t.opacity&&(i.Opct={t:"long",v:t.opacity.q()}),t.flow&&(i.flow={t:"long",v:t.flow.q()});var e=this.yH.GY;return e={U:e>>>16,S:e>>>8&255,i:e&255},i.FrgC={t:"Objc",v:v.j.$H(e)},["Brush Preset "+i.Brsh.v.Dmtr.v.val,i]},_i.prototype.TR=function(){var t=new z(y.E.L,!0);t.data={e:y.B.uH,W2:"redge"},this.w(t)},_i.prototype.Pc=function(){for(var t in this.eh)this.eh[t].t()},_i.prototype.St=function(t){t.aeE=="showBrushOpts"&&this.eh.brush.OG(t.cQ.x,t.cQ.y);for(var i in t.KK){var e=t.KK[i];i!="qsmode"&&(e*=100),this.eh[i]&&this.eh[i].k(e)}},_i.prototype.AK=function(t,i){Ji.prototype.AK.call(this,t,i),this.yH=t;var e=this.eh.brush;e!=null&&((i==ut.oc||i==ut.Sm)&&e._F(t.aF),i==ut.SO&&e.k(t.aF.Y5,t.aF.Xu,t.aF.A6))},_i.prototype.aL=function(){var t=new z(y.E.L,!0);t.data={e:y.B.Sl,S9:ut.SO,S1:this.eh.brush.q()},this.w(t)},_i.prototype.Ah=function(){var t=new z(y.E.L,!0);t.data={e:y.B.R2,Q:this.Q};for(var i in this.eh)if(!(i=="brush"||i=="redge")){var e=this.eh[i].q();["opacity","flow","smth","strn","expo"].indexOf(i)!=-1?t.data[i]=e/100:i=="bmode"?t.data.bmode=ti.YA[e]:i=="bmode0"?t.data.bmode=ti.YA[23+e]:t.data[i]=e}this.w(t)};function tr(t){Ji.call(this),!t&&(this.data={e:y.B.R2,hw:"front",bM:0,dU:[10,!0,!0],H7:{wV:0,x:1,y:1}},this.NE=new ks,this.body.appendChild(this.NE.u),this.NE.$(y.E.I,this.Om,this),this.$P=new xi([7,6],0,100," px"),this.$P.parent=this,this.$P.k(0),this.body.appendChild(this.$P.u),this.$P.$(y.E.I,this.Om,this),this.gR=new Tt([7,11],!1,null,!0),this.body.appendChild(this.gR.u),this.gR.$("click",this.TR,this))}tr.prototype=new Ji,tr.prototype.St=function(t){if(t.hw!=null)this.NE.k(t.hw);else{var i=tr.zs;if(i==null){var e=mr.N9(!0);i=tr.zs=new he(e.items,e.Au)}i.t(),i.parent=this,i.update(t.mY,t.s0);var r=new z(y.E.L,!0);r.data={e:y.B.VX,Nc:i,x:t.jE.Bx+2,y:t.jE.yG+1},this.w(r)}},tr.prototype.Pc=function(){this.$P.t(),this.NE.t(),this.gR.t()},tr.prototype.TR=function(){var t=new z(y.E.L,!0);t.data={e:y.B.uH,W2:"redge"},this.w(t)},tr.prototype.Om=function(){var t=new z(y.E.L,!0);this.data.Q=this.Q,this.data.hw=this.NE.q(),this.data.bM=this.$P.q(),t.data=this.data,this.w(t)};function _h(){_i.call(this,["brush","strn"])}_h.prototype=new _i;function Zh(){_i.call(this,"brush bmode opacity flow smth prsr".split(" "))}Zh.prototype=new _i;function Jh(){_i.call(this,["brush","bmode0","samp","wconf"])}Jh.prototype=new _i;function qh(){_i.call(this,["brush"])}qh.prototype=new _i;function zh(){_i.call(this,"brush bmode opacity flow smth prsr".split(" "))}zh.prototype=new _i;function Kh(){_i.call(this,["brush","rng","expo"])}Kh.prototype=new _i;function Wh(){_i.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}Wh.prototype=new _i;function La(t){if(Ji.call(this),t!=null){var i=y.z("span","fitem");this.body.appendChild(i);var e=[[17,0],[17,1],[11,12,0],[17,2]];this.va=[];for(var r=0;r<e.length;r++){var n=new Tt(e[r],!1,null,!0);this.va.push(n),n.$("click",this.ahQ,this),(!t||r==1)&&i.appendChild(n.u)}this.H7=new Za,this.H7.$(y.E.I,this.ae_,this),t||this.body.appendChild(this.H7.u),this.XJ=new hs,this.XJ.$("click",this.RD,this)}}La.prototype=new Ji,La.prototype.Pc=function(){this.XJ.t();for(var t=0;t<this.va.length;t++)this.va[t].t();this.H7.t()},La.prototype.St=function(t){var i=this.XJ.u;t.hk?this.body.appendChild(i):this.body.contains(i)&&this.body.removeChild(i),t.H7&&this.H7.k(t.H7)},La.prototype.RD=function(t){var i={e:y.B.R2,Q:this.Q,He:this.XJ.q()?"commit":"cancel"},e=new z(y.E.L,!0);e.data=i,this.w(e)},La.prototype.ahQ=function(t){t.target.u.blur();var i={e:y.B.R2,Q:this.Q,He:"cropby",Z3:this.va.indexOf(t.target)},e=new z(y.E.L,!0);e.data=i,this.w(e)},La.prototype.ae_=function(t){var i={e:y.B.R2,Q:this.Q,He:"config",yx:{TG:this.H7.q()}},e=new z(y.E.L,!0);e.data=i,this.w(e)};function Qh(){La.call(this,!1)}Qh.prototype=new La;function $h(){La.call(this,!0)}$h.prototype=new La;function Yh(){_i.call(this,["brush","rng","expo"])}Yh.prototype=new _i;function Xh(){_i.call(this,"brush emode opacity flow smth prsr".split(" "))}Xh.prototype=new _i;function Ph(){_i.call(this,["brush","samp","wconf"])}Ph.prototype=new _i;function th(){tr.call(this),this.H7=new Za,this.H7.$(y.E.I,this.Cv,this),this.body.appendChild(this.H7.u)}th.prototype=new tr(!0),th.prototype.Cv=function(t){this.data.H7=this.H7.q(),this.Om()},th.prototype.Pc=function(){tr.prototype.Pc.call(this),this.H7.t()};function ih(){Ji.call(this),this.oS=new ei([12,20],["1x1","3x3","5x5","11x11","31x31"]),this.oS.$(y.E.I,this.Ah,this),this.body.appendChild(this.oS.u)}ih.prototype=new Ji,ih.prototype.Ah=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.R2,Q:this.Q,Ky:[1,3,5,11,31][this.oS.q()]},this.w(i)},ih.prototype.Pc=function(){this.oS.t()};function wl(){Ji.call(this),this.ut=new jn(!1),this.ut.parent=this,this.ut.$(y.E.I,this.H6,this),this.body.appendChild(this.ut.u),this.ut.k(JSON.parse(at.Bf.mR).v),this.OF=new ei(null,at.j.names.slice(0,5)),this.OF.$(y.E.I,this.H6,this),this.body.appendChild(this.OF.u),this.Cg=new ei([12,19,0],ti.Zn,null,ti.wp),this.Cg.$(y.E.I,this.H6,this),this.body.appendChild(this.Cg.u),this.jI=new xi([12,0],0,100,"%"),this.jI.parent=this,this.jI.$(y.E.I,this.H6,this),this.body.appendChild(this.jI.u),this.jI.k(100),this.Fo=new Ft([12,23,0]),this.Fo.$(y.E.I,this.H6,this),this.body.appendChild(this.Fo.u),this.wX=new Ft("Dither"),this.wX.$(y.E.I,this.H6,this),this.body.appendChild(this.wX.u)}wl.prototype=new Ji,wl.prototype.Pc=function(){this.OF.t(),this.Cg.t(),this.jI.t(),this.Fo.t(),this.wX.t()},wl.prototype.AK=function(t,i){Ji.prototype.AK.call(this,t,i);var e=i==ut.Io;this.ut.dn(t.GY,t.Ty),(e||i==ut.uw||i==ut.oc)&&this.ut._F(t.dY)},wl.prototype.H6=function(){var t=new z(y.E.L,!0);t.data={e:y.B.R2,Q:this.Q},t.data.S9={j:this.ut.q(),rB:at.j.types[this.OF.q()],mt:this.Fo.UX(),AN:this.wX.UX(),xQ:ti.YA[this.Cg.q()],Jf:this.jI.q()/100},this.w(t)};function Fh(){Ji.call(this)}Fh.prototype=new Ji;function kl(){Ji.call(this);var t=y.z("span","fitem");this.body.appendChild(t),this.RJ=[new xi([12,15],0,0,"\xB0"),new Tt("Reset",null,null,!0)];for(var i=0;i<this.RJ.length;i++){var e=this.RJ[i];e.parent=this,t.appendChild(e.u),e.$(i==1?"click":y.E.I,this.ko,this)}}kl.prototype=new Ji,kl.prototype.Pc=function(){for(var t=0;t<this.RJ.length;t++)this.RJ[t].t()},kl.prototype.St=function(t){this.RJ[0].k(t.Fu*180/Math.PI)},kl.prototype.ko=function(t){var i=this.RJ.indexOf(t.target),e=new z(y.E.L,!0);e.data={e:y.B.R2,Q:this.Q,Fu:i==1?0:t.target.q()*Math.PI/180},this.w(e)};function to(){_i.call(this,["brush","algnd","sfrom","alt"])}to.prototype=new _i;function Ns(){Ji.call(this),this.Kz=new xa,this.Kz.parent=this,this.body.appendChild(this.Kz.nE.u),this.body.appendChild(this.Kz.WT.u),this.body.appendChild(this.Kz.Gb.u);var t=y.z("span","fitem");this.body.appendChild(t),t.appendChild(this.Kz.RV.u),t.appendChild(this.Kz.Zj.u),t.appendChild(this.Kz.$S.u),this.IU=new ei("Aa",[[22,5,0],"Sharp","Crisp","Strong","Smooth"]),this.IU.$(y.E.I,this.RD,this),this.body.appendChild(this.IU.u),this.dA=new Tt([11,9],!1,null,!0),this.dA.$("click",this.aa9,this),this.body.appendChild(this.dA.u),this.XJ=new hs,this.XJ.$("click",this.RD,this)}Ns.prototype=new Ji,Ns.prototype.Pc=function(){this.XJ.t(),this.Kz.t(),this.dA.t()},Ns.prototype.aa9=function(t){var i={e:y.B.R2,Q:this.Q,He:"showwarp"},e=new z(y.E.L,!0);e.data=i,this.w(e)},Ns.prototype.St=function(t){t.He=="showactive"&&this.body.appendChild(this.XJ.u),t.He=="hideactive"&&this.body.removeChild(this.XJ.u),t.He=="changeAA"&&this.IU.k(t.uB)},Ns.prototype.AK=function(t,i){Ji.prototype.AK.call(this,t,i),!(i!=ut.oc&&i!=ut.Ol&&i!=ut.Du&&i!=ut.mj)&&this.Kz.k(t.T2,t.SN,t.P5)},Ns.prototype.RD=function(t){var i={e:y.B.R2,Q:this.Q,He:this.XJ.q()?"commit":"cancel"};t.target==this.IU&&(i.He="changeAA",i.uB=this.IU.q());var e=new z(y.E.L,!0);e.data=i,this.w(e)};function io(){tr.call(this)}io.prototype=new tr(!0);function Ps(){Ji.call(this);var t=[],i='<svg  class="autoscale gsicon" viewBox="0 0 14 18" width="14" height="18" fill="black"><path d="M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z" /></svg>';this.hz=new Ft([12,85]),this.hz.$(y.E.I,this.Ah,this),t.push(this.hz.u),this.Ct=new Ft([20,1]),this.Ct.$(y.E.I,this.Ah,this),t.push(this.Ct.u),this.GA=new Ft([12,83]),this.GA.$(y.E.I,this.Ah,this),t.push(this.GA.u);var e=y.z("span","fitem");t.push(e),this.adX=new ei("Scale for exported files",["1x","2x","3x","4x"],!0),e.appendChild(this.adX.u),this.kc=new Tt(i+" PNG",!1,"Save selected layers as PNG",!0),e.appendChild(this.kc.u),this.kc.$("click",this.uU,this),this.a6H=new Tt(i+" SVG",!1,"Save selected layers as SVG",!0),e.appendChild(this.a6H.u),this.a6H.$("click",this.uU,this);var r=y.z("span","fitem");t.push(r);var n=y.z("span","fitem");t.push(n),this.C8=[];for(var a=0;a<8;a++){var s=a==3||a==7?[20,4,6]:[20,4,a<3?a:a-1],l=new Tt("Hi",!1,s);(a<4?r:n).appendChild(l.u),l.$("click",this.uU,this),this.C8.push(l)}for(var a=0;a<t.length;a++)this.body.appendChild(t[a]);this.a0t=t}Ps.prototype=new Ji,Ps.prototype.St=function(t){var i=t.iF,e=t.ajh;if(this.hz.k(i.qc),this.Ct.k(i.Vo),this.GA.k(i.bX),e){y.TD(this.body);for(var r=0;r<e.length;r++)e[r]==1&&this.a0t[r]&&this.body.appendChild(this.a0t[r])}},Ps.prototype.uU=function(t){var i=this.C8.indexOf(t.target),e;i==-1?(e=new z(y.E.L,!0),e.data={e:y.B.R2,Q:this.Q,mQ:t.target==this.kc?"getPNG":"getSVG",I6:this.adX.q()+1}):(e=new z(y.E.H,!0),e.Q=C.fb,e.data={e:"algn",C:i}),this.w(e)},Ps.prototype.Ah=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.R2,Q:this.Q,mQ:"prms",qc:this.hz.UX(),Vo:this.Ct.UX(),bX:this.GA.UX()},this.w(i)},Ps.prototype.Pc=function(){this.hz.t(),this.Ct.t(),this.GA.t();for(var t="h0 h1 h2 hG v0 v1 v2 vG".split(" "),i=0;i<8;i++)this.C8[i].kW(y.G6("align/"+t[i],null,"autoscale"))};function eh(){tr.call(this);var t=this.yI=new As;t.parent=this,t.$(y.E.I,this.a8R,this),this.body.appendChild(t.u)}eh.prototype=new tr(!0),eh.prototype.a8R=function(t){this.data.dU=this.yI.q(),this.Om()},eh.prototype.Pc=function(){tr.prototype.Pc.call(this),this.yI.t()};function eo(){_i.call(this,["setop","patch"])}eo.prototype=new _i;function ro(){_i.call(this,["bmode","opacity","wconf"])}ro.prototype=new _i;function no(){tr.call(this)}no.prototype=new tr(!0);function ao(){tr.call(this)}ao.prototype=new tr(!0);function rh(){tr.call(this),this.H7=new Za,this.H7.$(y.E.I,this.Cv,this),this.body.appendChild(this.H7.u)}rh.prototype=new tr(!0),rh.prototype.Cv=function(t){this.data.H7=this.H7.q(),this.Om()},rh.prototype.Pc=function(){tr.prototype.Pc.call(this),this.H7.t()};function Al(){Ji.call(this),this.fC=[new se("X",null,3),new se("Y",null,3),new se("W",null,3),new se("H",null,3),new se([12,15],null,4),new se([12,80,0],null,4),new Tt([15,7,6],!1,null,!0)];for(var t=0;t<this.fC.length;t++){var i=this.fC[t];this.body.appendChild(i.u)}this.fC[6].$("click",this.a15,this),this.NT=0}Al.prototype=new Ji,Al.prototype.a15=function(t){if(this.NT!=0){var i=new z(y.E.H,!0);i.Q=C.DV,i.data={e:"rot",tP:[2,5],C:-this.NT},this.w(i)}},Al.prototype.St=function(t){var i=t.aa3,e=t.sk,r=e.x-i.x,n=e.y-i.y,a=this.fC;this.NT=-Math.atan2(n,r),a[0].k(i.x),a[1].k(i.y),a[2].k(r),a[3].k(n),a[4].k((this.NT*180/Math.PI).toFixed(2)),a[5].k(Math.sqrt(r*r+n*n).toFixed(2))},Al.prototype.Pc=function(){for(var t=this.fC,i=0;i<t.length;i++)t[i].t();y.$d(t[2],t[3])};function so(){_i.call(this,["brush","strn","pdetail"])}so.prototype=new _i;function Ch(){_i.call(this,["brush"]),this.a01=[];for(var t=[[7,12]],i=0;i<t.length;i++){var e=new Tt(t[i],!1,null,!0);this.a01.push(e),e.parent=this,this.body.appendChild(e.u),e.$("click",this.a2m,this)}}Ch.prototype=new _i,Ch.prototype.a2m=function(t){var i=this.a01.indexOf(t.currentTarget),e=new z(y.E.QJ,!0);e.data=C.gn.XL("contentAware"),this.w(e)};function lo(){_i.call(this,["brush","strn"])}lo.prototype=new _i;function ho(){_i.call(this,["brush","flow","smode"])}ho.prototype=new _i;function Fs(){Ji.call(this),this.nJ=!1;var t=y.z("span","fitem");this.body.appendChild(t),this.yt=new me(null,['<img src="'+PIMG.zoomIn+'" class="autoscale gsicon" />','<img src="'+PIMG.zoomOut+'" class="autoscale gsicon" />']),t.appendChild(this.yt.u),this.yt.$(y.E.I,this.Ah,this),this.m3=new Tt([20,2]),this.body.appendChild(this.m3.u),this.m3.$("click",this.JP,this),this.ns=new Tt([20,3]),this.body.appendChild(this.ns.u),this.ns.$("click",this.JP,this)}Fs.prototype=new Ji,Fs.prototype.Pc=function(){this.m3.t(),this.ns.t()},Fs.prototype.Ah=function(){var t={e:y.B.R2,Q:this.Q,Wu:this.yt.q()==0},i=new z(y.E.L,!0);i.data=t,this.w(i)},Fs.prototype.St=function(t){this.nJ!=t.nJ&&this.yt.k(1-this.yt.q()),this.nJ=t.nJ},Fs.prototype.JP=function(t){var i=new z(y.E.H,!0);i.Q=C.QS,i.data={e:"adapt",C:t.target==this.m3?"pixel":"fitscr"},this.w(i)};function De(t,i){if(Ji.call(this),t!=null){this.eh={};var e=[[12,76,0],[12,76,1]];i==null&&e.push([12,76,2]);for(var r=0;r<t.length;r++){var n=t[r],a=null;n=="tmode"&&(a=new ei(null,e),a.k(1)),n=="binop"&&(a=new ei(null,[[18,1],[18,2],[18,3],[18,4]]),a.U3()),n=="pshape"&&(a=new ei(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]])),n=="shape"&&(a=new hr([12,76,1])),n=="crad"&&(a=new xi([12,94,0],0,50,"px"),a.k(0)),n=="cstr"&&(a=new Za),n=="irad"&&(a=new xi([12,94,1],0,100,"%"),a.k(40)),n=="length"&&(a=new xi([12,80,0],4,40),a.k(4)),n=="sides"&&(a=new xi([12,78],3,30),a.k(5)),n=="width"&&(a=new xi([12,41],1,100,"px"),a.k(5)),n=="tsiz"&&(a=new xi("Tip Size",100,500,"%"),a.k(300)),n=="tolr"&&(a=new xi([12,24],0,100),a.k(5)),n=="fstyle"&&(a=new jr([12,26])),n=="sstyle"&&(a=new ws),n=="psnap"&&(a=new Ft([8,10])),n=="crnr"&&(a=new Tt("\u2312",!1,[12,94,0],!0)),a.parent=this,this.body.appendChild(a.u),this.eh[n]=a,a.$(n=="crnr"?"click":y.E.I,this.Ah,this)}}}De.prototype=new Ji,De.prototype.St=function(t){var i=De.zs;i==null&&(i=De.zs=new he([{name:"Make Selection"}],[{f:y.E.H,Q:C.j1,o:{e:"frompath",oI:[null,0,0]}}])),i.parent=this,i.update(t.mY,t.s0);var e=new z(y.E.L,!0);e.data={e:y.B.VX,Nc:i,x:t.jE.Bx+2,y:t.jE.yG+1},this.w(e)},De.prototype.GH=function(t){return null},De.prototype.jp=function(){if(this.eh.pshape!=null){var t=this.GH(this.eh.pshape.q());if(t!=null){y.TD(this.body);for(var i=0;i<t.length;i++){var e=t[i];this.body.appendChild(this.eh[e].u)}}}},De.prototype.Pc=function(){for(var t in this.eh)this.eh[t].t()},De.prototype.Ah=function(t){if(t.target==this.eh.crnr){var i=new z(y.E.H,!0);i.Q=C.C1,i.data={e:"crnr"},this.w(i);return}var i=new z(y.E.L,!0);if(t.target==this.eh.fstyle){i.data={e:y.B.Sl,S9:ut.l2,C:this.eh.fstyle.q()},this.w(i);return}if(t.target==this.eh.sstyle){i.data={e:y.B.Sl,S9:ut.Bh,C:this.eh.sstyle.q()},this.w(i);return}this.eh.tmode&&this.eh.binop&&(this.eh.tmode.q()==0?this.eh.binop.R8():this.eh.binop.U3()),i.data={e:y.B.R2,Q:this.Q};for(var e in this.eh)e!="sstyle"&&(i.data[e]=this.eh[e].q());this.w(i),t.target==this.eh.pshape&&this.jp()},De.prototype.AK=function(t,i){Ji.prototype.AK.call(this,t,i);var e=this.eh.fstyle,r=this.eh.sstyle;e&&e.AK(t,i),r&&r.AK(t,i),(i==ut.oc||i==ut.jq)&&t.KQ.length!=0&&this.eh.shape&&this.eh.shape._F(t.KQ),(i==ut.oc||i==ut.l2)&&e&&e.k(null,t.wI,t.a61),(i==ut.oc||i==ut.Bh)&&r&&r.k(null,t.n2,t.ah4)};function oo(){De.call(this,["tmode","fstyle","sstyle","binop"],!0)}oo.prototype=new De;function fo(){De.call(this,["tmode","fstyle","sstyle","binop","tolr"])}fo.prototype=new De;function Ll(){De.call(this,["fstyle","sstyle"]),this.ad4=null,this.a5x=null,this.a5G=null,this.pI=new ei("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]),this.Yy=new Tt("\u25BC"),this.Yy.V2(),this.BJ=new Tt("\u25B2"),this.BJ.V2(),this.My=[this.pI,this.Yy,this.BJ];for(var t=0;t<this.My.length;t++){var i=this.My[t];this.body.appendChild(i.u),i.parent=this,i.$(t==0?y.E.I:"click",this.WK,this)}}Ll.prototype=new De,Ll.prototype.St=function(t){if(t.He=="main"){var i=this.My,e=t.PS;if(e&&e.p.length==1){this.a5x=e.clone(),this.a5G=JSON.stringify(t.P$);var r=e.p[0],n=v.V.k3(e.b);this.pI.R8(),r>0?this.Yy.R8():this.Yy.U3(),r<n-1?this.BJ.R8():this.BJ.U3();var a=v.V.cx(e.b,r),s=e.b[a];this.pI.kW("Path "+(r+1)),this.pI.k([3,0,1,2][s.IO])}else for(var l=0;l<i.length;l++)i[l].U3()}else De.prototype.St.call(this,t)},Ll.prototype.Pc=function(){De.prototype.Pc.call(this),this.pI.t()},Ll.prototype.WK=function(t){if(t.target==this.pI||t.target==this.Yy||t.target==this.BJ){var i={},e=this.a5x,r=e.b,n=JSON.parse(this.a5G),a=e.p[0],s=v.V.cx(r,a),l=r[s];if(t.target==this.pI){var h=this.pI.q();if(h<4)l.IO=[1,2,3,0][h];else{if(v.V.k3(r)<=1)return;e.b=v.V.XE(r),e.p=e.b.length==2?[]:[0],e.s_=[],n=[v.P$.Zm()]}}else{var o=t.target==this.Yy?-1:1,f=Math.min(a,a+o),u=Math.max(a,a+o),p=v.V.cx(r,f),c=v.V.cx(r,u);if(p==-1||c==-1)return;var d=c+v.V.SD(r,u),g=n[f];n[f]=n[u],n[u]=g;var b=r.slice(0,p),m=r.slice(p,c),x=r.slice(c,d),M=r.slice(d);e.b=b.concat(x.concat(m.concat(M))),e.p[0]+=o}i.PS=e,i.P$=n;var S=new z(y.E.L,!0);S.data={e:y.B.R2,Q:this.Q,oI:i},this.w(S)}};function uo(){De.call(this,["fstyle","sstyle","crnr","psnap"])}uo.prototype=new De;function vo(){De.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}vo.prototype=new De;function co(){De.call(this,["tmode","fstyle","sstyle","binop","cstr"])}co.prototype=new De;function Mh(){De.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" ")),this.ae4=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]],this.jp()}Mh.prototype=new De,Mh.prototype.GH=function(t){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.ae4[t])};function po(){De.call(this,["tmode","fstyle","sstyle","binop","width"])}po.prototype=new De;function yo(){De.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}yo.prototype=new De;function go(){tr.call(this)}go.prototype=new tr(!0);function mo(){_i.call(this,["brush","qsmode","redge"])}mo.prototype=new _i;function bo(){Ji.call(this)}bo.prototype=new Ji;function Sh(){Ji.call(this),this.Yy=new Tt("\u25BC"),this.Yy.V2(),this.BJ=new Tt("\u25B2"),this.BJ.V2();for(var t=[this.Yy,this.BJ],i=0;i<2;i++){var e=t[i];this.body.appendChild(e.u),e.$("click",this.WK,this)}}Sh.prototype=new Ji,Sh.prototype.WK=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.R2,Q:this.Q,mQ:"reorder",dir:t.target==this.Yy?-1:1},this.w(i)};function Wr(t){if(Ji.call(this),!(window.Typr==null||t)){this.hC=null,this.akh=y.z("span",""),this.aaH=y.z("span","");var i=1;this.Zu={cX:new ma(null,24),ae:new xi("X",0,0,"px",0,!1,!0,4),hd:new xi("Y",0,0,"px",0,!1,!0,4),iG:new xi("W",0,0,["%","px"],2,!1,!0,5),OB:new Tt("\u2261",null,[12,51],null),DG:new xi("H",0,0,["%","px"],2,!1,!0,5),a8H:new xi("\u2221",0,0,"\xB0",i,!1,!0),ajz:new xi("\u25B1 X",-85,85,"\xB0",i,!1,!0),a32:new xi("\u25B1 Y",-85,85,"\xB0",i,!1,!0),zv:new ei(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])},this.Zu.zv.k(1);for(var e in this.Zu){this.akh.appendChild(this.Zu[e].u);var r=this.Zu[e]==this.Zu.OB?"click":y.E.I;this.Zu[e].$(r,this.amw,this)}this.yI=new Ls(!0,!0,!0),this.yI.$(y.E.I,this.a2T,this),this.yI.parent=this;var n=this.aaH,a=this.yI;n.appendChild(a.tX.u),n.appendChild(a.GF.u),n.appendChild(a.pw.u),n.appendChild(a.yA.u),n.appendChild(a.$A.u),this.dA=new Tt([11,9]),this.dA.$("click",this.aeR,this),this.XJ=new hs,this.XJ.$("click",this.RD,this)}}Wr.prototype=new Ji,Wr.prototype.St=function(t){if(t.jE){var i=Wr,e=i.zs;e==null&&(e=i.zs=new he(i.L$(),i.pp())),e.t(),e.parent=this,e.update(t.mY,t.s0);var r=new z(y.E.L,!0);r.data={e:y.B.VX,Nc:e,x:t.jE.Bx+2,y:t.jE.yG+1},this.w(r);return}if(y.TD(this.body),this.hC=t,t.Zu){var n=t.Zu.T,a=t.Zu.Aw.clone(),s=Math.atan2(-a.i,a.m),l=new Et;l.rotate(-s),a.concat(l);var h=this.Zu;h.cX.k(t.Zu.d8),h.ae.k(t.Zu.bP.x),h.hd.k(t.Zu.bP.y),h.iG.k(a.m*(h.iG.nY()=="%"?100:n.Z)),h.DG.k(a.xA*(h.DG.nY()=="%"?100:n.h)),h.a8H.k(-s*180/Math.PI),h.ajz.k(0*180/Math.PI),h.a32.k(Math.atan(a.p$)*180/Math.PI),this.body.appendChild(this.akh),this.dA.pe()}t.H4&&(this.yI.k(t.H4),this.body.appendChild(this.aaH),this.dA.V2()),this.body.appendChild(this.XJ.u),t.a5E&&this.body.appendChild(this.dA.u)},Wr.prototype.amw=function(t){var i=this.Zu,e=this.hC.Zu.T;if(t.target==i.OB&&i.OB.k(!i.OB.q()),i.OB.UX()){var r=i.DG,n=i.iG,a=e.h,s=e.Z;t.target==i.iG&&(r=i.iG,n=i.DG,a=e.Z,s=e.h);var l=r.q()/(r.nY()=="%"?100:a);l*=n.nY()=="%"?100:s,n.k(l)}var h=[];for(var o in i)if(i[o]!=i.OB&&i[o]!=i.cX){var l=i[o].q();(i[o]==i.iG||i[o]==i.DG)&&l==0&&(l=.1,i[o].k(l)),i[o]==i.iG&&i[o].nY()=="px"&&(l/=e.Z/100),i[o]==i.DG&&i[o].nY()=="px"&&(l/=e.h/100),h.push(l)}var f=new st(h[0],h[1]);if(t.target==i.cX)this.Xl({He:"ctyp",d8:i.cX.q()});else if(t.target==i.ae||t.target==i.hd)this.Xl({He:"cen",bP:f});else{var u=this.hC.Zu.Aw.clone(),p=u.clone(),c=Math.atan2(-u.i,u.m);p.translate(-f.x,-f.y),p.rotate(-c);var d=new Et(p.m,p.i,p.p$,p.xA,0,0);d.nJ(),p.concat(d),p.concat(new Et(h[2]/100,Math.tan(h[5]*Math.PI/180),Math.tan(h[6]*Math.PI/180),h[3]/100,0,0)),p.rotate(-h[4]*Math.PI/180),p.translate(f.x,f.y),this.hC.Zu.Aw=p,this.Xl({He:"trn",Zu:p,_o:this.Zu.zv.q()})}},Wr.prototype.a2T=function(t){this.Xl({He:"wrp",H4:this.yI.q()})},Wr.prototype.aeR=function(t){this.Xl({He:"switchWarp"})},Wr.prototype.RD=function(t){this.Xl({He:this.XJ.q()?"commit":"cancel"})},Wr.prototype.Xl=function(t){t.e=y.B.R2,t.Q=this.Q;var i=new z(y.E.L,!0);i.data=t,this.w(i)},Wr.prototype.Pc=function(){var t=this.Zu;for(var i in t)t[i].t();y.$d(t.iG,t.DG),this.XJ.t(),this.yI.t(),this.dA.t()},Wr.L$=function(){return[{name:[5,9],n8:"Shift+Alt+Ctrl + T",aD:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],Y:function(t){if(t==null||t.p.length!=1)return{Y:!1};var i=t.r[t.p[0]];return{Y:i.add.TySh==null&&!i.fO()}},aD:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},Wr.pp=function(){return[{f:y.E.H,Q:C.DV,o:{e:"again"}},{f:y.E.L,o:{e:y.B.MR,Q:C.DV,iF:{wi:3}}},{f:y.E.L,o:{e:y.B.MR,Q:C.DV,iF:{wi:4}}},{f:y.E.L,o:{e:y.B.MR,Q:C.DV,iF:{wi:2}}},{f:y.E.L,o:{e:y.B.MR,Q:C.DV,iF:{wi:1}}},{f:y.E.L,o:{e:y.B.MR,Q:C.DV,iF:{wi:-1}}},{f:y.E.H,Q:C.DV,o:{e:"rot",tP:[2,5],C:-Math.PI/2}},{f:y.E.H,Q:C.DV,o:{e:"rot",tP:[2,5],C:-3*Math.PI/2}},{f:y.E.H,Q:C.DV,o:{e:"rot",tP:[2,5],C:Math.PI}},{f:y.E.H,Q:C.DV,o:{e:"scl",tP:[[2,6],[22,4,2]],C:new st(-1,1)}},{f:y.E.H,Q:C.DV,o:{e:"scl",tP:[[2,6],[22,4,3]],C:new st(1,-1)}}]};function xo(){Wr.call(this)}xo.prototype=new Wr(!0);function Co(){Wr.call(this)}Co.prototype=new Wr(!0);function Rs(){Ji.call(this);for(var t=this.Of=[new ei([12,36],["Rigid",[15,10,0],[24,4]]),new ei([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new xi([7,4],0,100,"px"),new Ft("Show Mesh"),new Tt("\u25BC",null,null,!0),new Tt("\u25B2",null,null,!0)],i=0;i<t.length;i++){var e=t[i];e.parent=this,this.body.appendChild(e.u),e.$(i<4?y.E.I:"click",this.a8h,this)}this.XJ=new hs,this.XJ.$("click",this.RD,this),this.body.appendChild(this.XJ.u)}Rs.prototype=new Ji,Rs.prototype.Pc=function(){for(var t=this.Of,i=0;i<4;i++)t[i].t();this.XJ.t()},Rs.prototype.St=function(t){for(var t=t.S9,i=0;i<4;i++)this.Of[i].k(t[i])},Rs.prototype.a8h=function(t){for(var i=[],e=0;e<4;e++)i[e]=this.Of[e].q();var r=this.Of.indexOf(t.target);r<4?this.Xl({He:"prm",S9:i}):this.Xl({He:"moveDepth",alu:r==5})},Rs.prototype.RD=function(t){this.Xl({He:this.XJ.q()?"commit":"cancel"})},Rs.prototype.Xl=function(t){t.e=y.B.R2,t.Q=this.Q;var i=new z(y.E.L,!0);i.data=t,this.w(i)};function or(){At.call(this),this.u=y.z("div","cmanager"),this.YY=0,this.mi=0,this.Se=[],this.ax={},this.A8=y.z("div","alertcont"),this.u.appendChild(this.A8),this.a3p=y.z("div","alertcont"),this.u.appendChild(this.a3p),this.Q8=y.z("div","alertcont"),this.ab_=0,this.Mh=-1,this.a8X=null,this.ct=null;var t=this.a4J=y.z("div","alertpanel");t.setAttribute("style","padding:0.7em 1em 0.1em 1em;"),this.Q8.appendChild(t);var i=this.De=y.z("input");i.setAttribute("type","text"),i.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;"),i.addEventListener("input",this.alp.bind(this),!1),i.addEventListener("keydown",this.a1G.bind(this),!1),t.appendChild(i);var e=this.adD=y.z("div","contextpanel scrollable");e.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;"),e.addEventListener("click",this.a43.bind(this),!1),t.appendChild(e),y.X8(document.body,this.aeI.bind(this))}or.prototype=new At,or.prototype.kJ=function(){y.WW(this.Q8)&&this.u.removeChild(this.Q8)},or.prototype.a3V=function(t,i){for(var e=this.a8X=[],r=0;r<mr.data.length;r++){var n=mr.data[r],a=[Lt.get(n.name)],s=[r];or.Qu(n.items,a,s,e,t,i)}for(var l=vs.lt,r=0;r<l.length;r+=3)e.push([["Tools",Lt.get(l[r])],[-1,l[r+2]]]);this.u.appendChild(this.Q8);var h=this.De;h.focus(),h.select(),this.qK()},or.prototype.alp=function(t){this.Mh=-1,this.qK()},or.prototype.qK=function(){var t=this.De.value.toLowerCase().trim().replace(/  +/g," "),i=this.a8X,e=[],r=[],n=t.split(" ");if(t!="")for(var a=0;a<i.length;a++){for(var s=i[a][0],l=[],h=0,o=0;o<s.length;o++)l[o]=-1;for(var f=0;f<n.length;f++)for(var o=0;o<s.length;o++){var u=s[o].toLowerCase().indexOf(n[f]);if(u!=-1){l[o]=[u,u+n[f].length],h++;break}}h==n.length&&(e.push(i[a]),r.push(l))}var p=[],c=this.adD;y.TD(c);for(var a=0;a<e.length;a++){var d=e[a][0],u=r[a],g="enab",b="";a==this.Mh&&(g+=" active");var m=y.z("div",g);p.push(m),c.appendChild(m);for(var o=0;o<d.length;o++){var x=u[o],M=n[o],S=d[o];x!=-1&&(S=S.slice(0,x[0])+'<span style="color:black">'+S.slice(x[0],x[1])+"</span>"+S.slice(x[1])),b+=S,o<d.length-1&&(b+=" \uFE65 ")}m.innerHTML=b}this.ct=[e,p]},or.prototype.a1G=function(t){var i=W.be,e=t.code;i(e,W.yc)&&this.kJ();var r=i(e,W.DY),n=i(e,W.yF),a=i(e,W.Xr);(r||n)&&(this.Mh=Math.max(0,Math.min(this.ct[0].length-1,this.Mh+(r?-1:1))),this.qK()),a&&this.Mh!=-1&&this.U0(this.Mh)},or.Qu=function(t,i,e,r,n,a){for(var s=0;s<t.length;s++){var l=t[s],h=i.slice(0),o=e.slice(0),f=Lt.get(l.name);if(l.Y){var u=l.Y(n,a,s);if(u.IK&&(f=u.IK),u.Y==!1)continue}h.push(f),o.push(s),l.sub?or.Qu(l.sub,h,o,r,n,a):r.push([h,o])}},or.prototype.a43=function(t){var i=t.target;i.tagName.toLowerCase()=="span"&&(i=i.parentNode);var e=this.ct[1].indexOf(i);e!=-1&&this.U0(e)},or.prototype.U0=function(t){var i=this.ct[0][t][1];if(i[0]==-1){var e=new z(y.E.L,!0);e.data={e:y.B.MR,Q:i[1]},this.w(e)}else{for(var r=mr.data[i[0]].Au[i[1]],n=2;n<i.length;n++)r=r.sub[i[n]];var a=new z(r.f,!0);a.Q=r.Q,a.data=r.o,this.w(a)}this.kJ()},or.prototype.l9=function(t,i){this.YY=t,this.mi=i,this.adD.style["max-height"]=i-120+"px"},or.prototype.ahM=function(t){var i=y.z("div","alertpanel");i.textContent=Lt.get(t),this.A8.appendChild(i),this.ax[JSON.stringify(t)]=i},or.prototype.a4X=function(t){var i=this.ax[JSON.stringify(t)];this.A8.removeChild(i),delete this.ax[JSON.stringify(t)]},or.prototype.alert=function(t,i){for(var e=this.a3p,r=0;r<e.children.length;r++)if(e.children[r].textContent==t)return;var n=y.z("div","alertpanel tpanel");n.textContent=t,n.setAttribute("style","opacity:0.5; transform:scale(0.9)	"),e.appendChild(n),i==null&&(i=1500);var a=i,s=Math.max(Date.now()+a,this.ab_+a);setTimeout(function(){n.setAttribute("style","transform:scale(1); opacity:1;")},10),setTimeout(function(){e.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},s-Date.now()-30),setTimeout(function(){e.removeChild(e.firstChild),e.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},s-Date.now()),this.ab_=s},or.prototype.aeI=function(t){for(var i=this.Se,e=i.length-1;e>=0;e--)for(var r=i[e],n=t.target;n!=null;){if(n==r.u){this.Y3(r);return}n=n.parentNode}this.Y3();for(var a=t.target;a!=this.Q8&&a!=document.body;)a=a.parentNode;a!=this.Q8&&this.kJ()},or.prototype.Y3=function(t){for(var i=this.Se,e=0;e<i.length;e++)if(!(t&&t.a9B(i[e]))){var r=i[e].u;r.style.height="auto",y.sT(r,"scrollable"),this.u.removeChild(r),i.splice(e,1),e--}},or.prototype.a5c=function(t){this.Y3(t.Nc);var i=t.Nc,e=i.u;if(this.Se.indexOf(i)==-1){this.Se.push(i),this.u.appendChild(i.u);var r=this.YY,n=this.mi,a=t.x,s=t.y,l=this.u.getBoundingClientRect(),h=i instanceof he;if(h||t.q1){var o=i.EN(),f=i.pf();h&&(o=Math.min(o,200)),s+f<n?a=Math.min(a,r-o-5):a+o<r?s=Math.min(s,n-f-5):f<s?(s=s-f-2,a=Math.min(a,r-o-5)):(a=a-o,s=Math.min(s,n-f-5)),t.a5L&&(s=Math.max(2,t.y-f-2)),t.afi&&(s=t.y)}s=Math.max(2,s);var u=Math.round(s-l.y+this.u.offsetTop);e.style.position="absolute",e.style["z-index"]=10,e.style.left=Math.round(a)+"px",e.style.top=u+"px",s+i.pf()>n-3&&(e.style.height=n-3-s+"px",y.KL(e,"scrollable"))}},or.prototype.aP=function(t){var i=t.Nc,e=this.Se.indexOf(i);if(e!=-1){this.Se.splice(e,1);var r=i.u;this.u.removeChild(i.u)}},or.prototype._X=function(){var t=this.Se;return t.length==0?null:t[t.length-1]},or.prototype.af2=function(){this.aP({Nc:this._X()})};function wh(){At.call(this),this.u=y.z("div","confbar")}wh.prototype=new At,wh.prototype.aaI=function(t){t.parent=this,y.TD(this.u),this.u.appendChild(t.u)};function ui(){At.call(this),this.yH=null,this.xP=y.z("input",""),this.xP.setAttribute("type","file"),this.xP.setAttribute("multiple",""),this.xP.addEventListener("change",function(t){this.Aq(t.target.files,null,this.FJ,null),this.FJ=null}.bind(this),!1),document.body.appendChild(this.xP),this.xP.setAttribute("style","display:none"),this.ae3=[],this.RZ=!1,this.abk={},this.FJ=null}ui.prototype=new At,ui.aat=function(t){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},t.type,{value:t,enumerable:!0}))])}catch(i){console.error(i,i.message)}},ui.ll=function(t,i){navigator.clipboard.read().then(function(e){for(var r=0;r<e.length;r++)try{for(var n=e[r],a=0;a<n.types.length;a++){var s=n.types[a];s=="image/png"&&n.getType(s).then(function(l){new Response(l).arrayBuffer().then(function(h){ui.qt({name:"image.png"},h,t,i)})})}}catch(l){console.error(l,l.message)}}).catch(function(e){alert("You did not give Photopea permissions to access the clibpoard. ("+e.message+")")})},ui.a0F=function(t){navigator.permissions.query({name:"clipboard-read"}).then(function(i){t(i.state)})},ui.prototype.pt=function(t){t==null&&(t=[23,5]);var i=JSON.stringify(t),e=this.abk;if(e[i]==null&&(e[i]=0),e[i]==0){var r=new z(y.E.L,!0);r.data={e:y.B.Uw,kr:t},this.w(r)}e[i]++},ui.prototype.mr=function(t){t==null&&(t=[23,5]);var i=JSON.stringify(t),e=this.abk;if(e[i]==null&&(e[i]=0),e[i]--,e[i]==0){var r=new z(y.E.L,!0);r.data={e:y.B.p7,kr:t},this.w(r)}},ui.prototype.aej=function(t,i){var e=this.xP;i?e.setAttribute("accept",i):e.removeAttribute("accept");var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r),this.FJ=t},ui.prototype.Qj=function(t){if(t.url.indexOf("photopea.com#i")!=-1||t.url.indexOf("photopea.com/#i")!=-1){this.CQ(t.url.split("#i").pop());return}this.ae3.push(t),this.tJ()},ui.prototype.tJ=function(){var t=this.ae3;if(!(t.length==0||this.RZ)){this.RZ=!0;var i=t.shift();this.pt(),i.RY==null&&(i.RY={});var e=new XMLHttpRequest;e.nk=i;var r=i.url;if(i.pY&&(r="mirror.php?url="+encodeURIComponent(r)),e.open("GET",r),i.jl)for(var n in i.jl)e.setRequestHeader(n,i.jl[n]);e.responseType="arraybuffer",e.onload=this.v7.bind(this),e.send()}},ui.prototype.Aq=function(t,i,e,r){for(var n=0;n<t.length;n++){this.pt();var a=t[n],s=new FileReader;s.nk=a,s.nk.q3=e,s.nk.kT=r,s.aig=i,s.onload=this.v7.bind(this),s.onerror=function(l){this.mr()}.bind(this),s.readAsArrayBuffer(a)}this.xP.value=null},ui.prototype.aiR=function(t){var i=t.D2.S6,e=ui.jr(t,i);Le.de(function(){var r=new XMLHttpRequest,n="https://www.googleapis.com/upload/drive/v3/files/"+t.D2.file.id+"?uploadType=media&"+Le.pS();r.open("PATCH",n,!0),r.addEventListener("load",function(a){var s=JSON.parse(a.target.response);alert(s.name+" updated")}),r.send(e),alert('Saving "'+t.D2.file.name+'" to Google Drive ...')})},ui.prototype.a6V=function(t,i,e){var r=t.lD(),n=i[0];return ui.jr(t,n,e)},ui.prototype.alN=function(t,i){this.pt("Saving ..."),this.yH=i,setTimeout(ui.a9D.bind({Fe:t,caller:this}),50)},ui.jr=function(t,i,e){var r=i.split(":"),n=r[0],a=null;r.length==2&&((n=="jpg"||n=="webp")&&(a=[Math.round(100*parseFloat(r[1]))]),n=="psd"&&(a=[!0,!0]));var s=ft.eX(t,n.toUpperCase(),null,null,a,e);return s},ui.a9D=function(){var t=this.Fe,i=this.caller,e=t.RY.Qy,r=e.formats,n,a;t.lD();var s=Date.now();if(e.version==1){for(var l=[],h=0,o=0,f=0;f<r.length;f++){var u=ui.jr(t,r[f],i.yH);l.push(u),h+=u.byteLength}n=new Uint8Array(2e3+h);for(var p='{ "source": '+JSON.stringify(t.Rg)+`, "versions": [
`,f=0;f<r.length;f++){var c=new Uint8Array(l[f]);p+='	{"format": "'+r[f].split(":")[0]+'", "start": '+o+', "size": '+c.length+" }"+(f+1<r.length?", ":"")+`
`,n.set(c,2e3+o),o+=l[f].byteLength}p+="] }";for(var d=A.vr(p,n,0),f=d;f<2e3;f++)n[f]=32;a="application/octet-stream"}else{var g=new sr,b=0,m="",x=encodeURIComponent;m="p="+x('{ "source": '+JSON.stringify(t.Rg)+', "versions": ['),A.bh(g,b,m),b+=m.length;for(var f=0;f<r.length;f++){m=x(' {"format": "'+r[f].split(":")[0]+'", "data": "'),A.bh(g,b,m),b+=m.length;var u=ui.jr(t,r[f],i.yH),M=ui.aku(u,u.byteLength),d=M.length;g.cj(b,d);for(var S=0;S<d;S++){g.cj(b,3);var w=M[S];w==43?(g.data[b]=37,g.data[b+1]=50,g.data[b+2]=66,b+=3):w==47?(g.data[b]=37,g.data[b+1]=50,g.data[b+2]=70,b+=3):w==61?(g.data[b]=37,g.data[b+1]=51,g.data[b+2]=68,b+=3):(g.data[b]=w,b++)}m=x('" }'+(f+1<r.length?", ":"")),A.bh(g,b,m),b+=m.length}m=x("] }"),A.bh(g,b,m),b+=m.length,n=g.data.slice(0,b),a="application/x-www-form-urlencoded"}var k=new XMLHttpRequest;k.open("POST",e.url,!0),a&&k.setRequestHeader("Content-Type",a),k.addEventListener("load",ui.a3D.bind(this)),k.send(new Blob([n.buffer]))},ui.a3D=function(t){this.caller.mr("Saving ...");var i=t.target.response;if(i.charAt(0)=="{"){if(i=JSON.parse(i),i.newSource&&(this.Fe.Rg=i.newSource),i.message&&alert(i.message,2e3),i.script){var e=new z(y.E.L,!0);e.data={e:y.B.kP,YS:i.script},this.caller.w(e)}}else alert("Saved. Response: "+i,1500)},ui.ga=function(t){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(t),r=e.length,n=r%3,a=r-n,s=[],l=0,h=0,o=0,f=0;f<a;f+=3)l=e[f],h=e[f+1],o=e[f+2],s.push(i[l>>2]+i[(l&3)<<4|h>>4]+i[(h&15)<<2|o>>6]+i[o&63]);n==1&&(l=e[a],s.push(i[l>>2]+i[(l&3)<<4]+"==")),n==2&&(l=e[a],h=e[a+1],s.push(i[l>>2]+i[(l&3)<<4|h>>4]+i[(h&15)<<2]+"="));var u=s.join("");return u},ui.aku=function(t,i){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(64),n=0,a=0,s=0,l=0,h=0;h<64;h++)r[h]=e.charCodeAt(h);for(var o=new Uint8Array(t),f=i%3,u=i-f,p=new Uint8Array(Math.floor(i/3)*4+(f==0?0:4)),h=0;h<u;h+=3)n=o[h],a=o[h+1],s=o[h+2],p[l]=r[n>>>2],p[l+1]=r[(n&3)<<4|a>>>4],p[l+2]=r[(a&15)<<2|s>>>6],p[l+3]=r[s&63],l+=4;return f==1&&(n=o[u],p[l]=r[n>>2],p[l+1]=r[(n&3)<<4],p[l+2]=61,p[l+3]=61),f==2&&(n=o[u],a=o[u+1],p[l]=r[n>>2],p[l+1]=r[(n&3)<<4|a>>4],p[l+2]=r[(a&15)<<2],p[l+3]=61),p},ui.prototype.v7=function(t){var i,e=t.target.nk;t.target instanceof XMLHttpRequest?i=t.target.response:i=t.target.result,ui.PG(e,i,this,t.target.aig),this.mr(),t.target instanceof XMLHttpRequest&&(this.RZ=!1,this.tJ())},ui.PG=function(t,i,e,r){if(window.location.href.indexOf("photopea.com")==-1)ui.qt(t,i,e,r);else try{ui.qt(t,i,e,r)}catch(a){if(a!="low_ram"){var n="Error. Please, send your file to support@photopea.com and we will solve it.";ft.Xh(i)=="eps"&&(n="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea."),window.alm(n,1e4)}}},ui.qt=function(t,i,e,r){var n;t.name?n=t.name.split(".")[0]:(t.url.substring(0,5)=="data:"||t.url.indexOf("googleapis")!=-1?n="image":n=t.url.substring(t.url.lastIndexOf("/")+1).split(".")[0],n=n.slice(0,50));var a=t.name?t.name:t.url,s=new Uint8Array(i),l=ft.Xh(i),h=window.ga;if(Math.random()<.25&&h&&l!=null&&ft.$I(l)&&h("send","event","Formats",l),l==null&&(l=A.$o(s,0,4)),a&&a.toLowerCase().endsWith(".raw")){var O=new z(y.E.L,!0);O.data={e:y.B.uH,W2:"importraw",Zs:i,Z5:a.split("/").pop()},e.w(O);return}else if(l=="json"){for(var o="",f=0;f<s.length;f++)o+=String.fromCharCode(s[f]);o=decodeURIComponent(escape(o)),alert("Unknown JSON file opened. See the content in the console.",5e3),console.log(JSON.parse(o));return}if(l=="html"){for(var o=A.bc(s,0,s.length),u=new DOMParser,p=u.parseFromString(o,"text/html"),c=p.getElementsByTagName("meta"),f=0;f<c.length;f++){var d=c[f],g=d.getAttribute("property"),b=d.getAttribute("content"),m=null;if(g=="og:image"&&(m=b),g==null&&b&&b.startsWith("0;url=/imgres?"))for(var x=b.slice(14).split("&"),M=0;M<x.length;M++)x[M].startsWith("imgurl")&&(m=decodeURIComponent(x[M].slice(7)));if(m!=null){var O=new z(y.E.L,!0);O.data={e:y.B.JX,S9:{url:m,pY:!0,q3:t.q3}},e.w(O)}}return}if(ft.$I(l)){var S,w=ft.$I(l);if(t.q3!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(l)!=-1){var O=new z(y.E.L,!0);O.data={e:y.B.G0,target:t.q3,z3:t.kT,EA:i,lO:n},e.w(O);return}if(w.Vi)S=new Pt(n+(l=="psd"?"":"-"+l)+".psd"),S.AZ=l,w.xo(i,S);else{var k=w.xo(i);if(k[0].t33421||k[0].t50706){v.raw.normalize(k[0],i),console.log(k[0]);var O=new z(y.E.L,!0);O.data={e:y.B.uH,W2:"rawpea",jX:k[0]},e.w(O);return}if(r){r(new Uint8Array(k[0].data),k[0].ym);return}S=ui.Y$(n,k)}if(S.RY=t.RY,S.Rg=t.url,S.OU=t.OU,S.D2=t.D2,S.D2&&(S.D2.S6=l),S.r.length!=0){var O=new z(y.E.L,!0);O.data={e:t.q3==null?y.B.qD:y.B.G0,target:t.q3,z3:t.kT,EA:S},e.w(O)}return}var T=new z(y.E.L,!0);T.data={e:y.B.Wp,Zs:i,st:t.name};var L=t instanceof File&&t.adq!=!0,O=new z(y.E.L,!0);if(O.data={e:y.B.Sl,RY:"add",S9:null,EM:null,a6a:t.adq},l=="zip"){var E=Date.now(),D=UZIP.parse(i),B="xml rels plist iwa db ds_store txt rtf".split(" ");for(var I in D){for(var N=!1,f=0;f<B.length;f++)I.toLowerCase().endsWith("."+B[f])&&(N=!0);if((I.startsWith("__MACOSX/")||D[I].length==0)&&(N=!0),!N){var V=I.split("/").pop();ui.PG({name:V},D[I].buffer,e,r)}}}else if(l=="jsx"){var o=A.bc(new Uint8Array(i));O.data={e:y.B.kP,YS:o},e.w(O)}else if(l=="otf"){L&&e.w(T);var j=Typr.parse(i);O.data.S9=ut.Du;for(var f=0;f<j.length;f++)O.data.EM=j[f],e.w(O)}else if(l=="asl"){L&&e.w(T);var j=yl.ee(i);O.data.S9=ut.AT,O.data.EM=j.f1,e.w(O),O.data.S9=ut.Ym,O.data.EM=j.hI,e.w(O)}else if(l=="tpl"){var j=gl.ee(i);O.data.S9=ut.Sm,O.data.EM={Xu:j.Xu,A6:j.A6,list:[]},e.w(O),O.data.S9=ut.o8,O.data.EM=j.list,e.w(O)}else{var R="";for(var G in ut.Vv)ut.Vv[G][0]==l&&(R=G);R!=""?(L&&e.w(T),O.data.EM=ut.Vv[R][2].ee(i,a),O.data.S9=R,e.w(O)):alert("Unknown file format: "+JSON.stringify(l))}},ui.prototype.agR=function(t){var i=new XMLHttpRequest;i.open("POST","https://api.imgur.com/3/image",!0),i.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.setRequestHeader("Accept","application/json"),i.addEventListener("load",this.alz),i.send("type=base64&image="+encodeURIComponent(ui.ga(t))),alert("Saving to Imgur ...",4e3)},ui.prototype.alz=function(t){var i=JSON.parse(t.target.response);i.success&&window.open(i.data.link,"Imgur")},ui.prototype.CQ=function(t){this.pt("Loading ...");var i=new XMLHttpRequest;i.responseType="arraybuffer",i.open("GET","https://f000.backblazeb2.com/file/psdshared/"+t),i.onload=this.a4R.bind(this),i.send(),ui.a0A=Date.now(),ui.agP=t},ui.prototype.a4R=function(t){var i=new Uint8Array(t.target.response);console.log(i.length,Date.now()-ui.a0A);for(var e=0;e<i.length;e++)i[e]=255-i[e];i=pako.inflateRaw(i);var r=JSON.parse(A.bc(i,0,2e3));ui.qt({name:r.name},i.slice(2e3).buffer,this),this.mr("Loading ...");var n=new XMLHttpRequest;n.open("GET","/papi/img/update.php?id="+ui.agP),n.send()},ui.prototype.a64=function(t,i){if(!(t instanceof ArrayBuffer))throw"e";t=new Uint8Array(t);for(var e=new Uint8Array(t.length+2e3),r="",n=0;n<2e3;n++)e[n]=32;A.vr(JSON.stringify({name:i}),e,0),e.set(t,2e3),t=e,t=pako.deflateRaw(t);for(var n=0;n<t.length;n++)t[n]=255-t[n];t=t.buffer;var a=t.byteLength,s=~~(106e5/2);if(a>s){confirm("Your file is "+Ur.WY(a)+". Our limit is "+Ur.WY(s)+". Delete some layers and try again.");return}for(var l=sha1(t),h=[],n=0;n<20;n++){var o=parseInt(l.slice(n*2,n*2+2),16);h.push(o),r+=String.fromCharCode(o)}var f=btoa(r).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(ui.a8v(f)){console.log("file already exists"),window.open("https://www.photopea.com#i"+f);return}this.pt("Publishing ...");var u=new XMLHttpRequest;u.TB=[t,l,f],u.open("GET","/papi/img/publish.php?rnd="+Math.random()),u.onload=this.aa6.bind(this),u.send()},ui.a8v=function(t){try{var i=new XMLHttpRequest;if(i.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+t,!1),i.send(),i.status==200)return!0}catch(e){return!1}return!1},ui.prototype.aa6=function(t){var i=JSON.parse(t.target.response),e=t.target.TB,r=new XMLHttpRequest;r.open("POST",i.uploadUrl),r.setRequestHeader("Authorization",i.authorizationToken),r.setRequestHeader("X-Bz-File-Name",e[2]),r.setRequestHeader("Content-Type","b2/x-auto"),r.setRequestHeader("X-Bz-Content-Sha1",e[1]),r.send(new Blob([e[0]])),r.onload=this.af1.bind({JW:this,TB:e})},ui.prototype.af1=function(t){this.JW.mr("Publishing ..."),window.open("https://www.photopea.com#i"+this.TB[2])},ui.Y$=function(t,i){var e=i[0]._l&&i[0]._l.startsWith("_a_"),r,n=new Pt(t+".psd"),a=new et(0,0,1,1);e&&(r=n.an(),r.add.lsct=Ci.lw,r.uf(t),r.sW="pass",r.ix=24,r.vR(!0),n.r.push(n.Px()));for(var s=0;s<i.length;s++){var l=i[s];a=a.s7(l.ym);var h=n.an();h.vR(s==0),h.uf(i.length==1?"Background":"Layer "+s),l.NB&&(n.NB=l.NB),l.ZT&&(n.ZT=l.ZT),l._l&&h.uf(l._l),h.rect=l.ym.clone(),h.buffer=new Uint8Array(l.data),v.mn(h),n.r.push(h)}return e&&n.r.push(r),n.p=[e?n.r.length-1:0],n.Z=a.Z,n.h=a.h,n.buffer=v.R(a.M()*4),n.A(),n},ui.save=function(t,i){var e=new Uint8Array(t),r=document.createElement("a");if(typeof r.download=="string"){var n=new Blob([e]),a=window.URL.createObjectURL(n);r.href=a,r.download=i,document.body.appendChild(r),r.click(),document.body.removeChild(r)}else{var s="data:application/octet-stream;base64,"+ui.ga(t);window.open(s)}};function sr(){this.size=16,this.data=v.R(16)}sr.prototype.cj=function(t,i){if(!(t+i<=this.size)){for(var e=this.size;t+i>this.size;)this.size*=2;for(var r=v.R(this.size),n=0;n<e;n++)r[n]=this.data[n];this.data=r}};function Ni(t){At.call(this),this.JV=Ni.JV++,this.R_=t,this.aj1=this.aay.bind(this),this.a2C=this.a1s.bind(this),this.a2E=this.H3.bind(this),this.ajy=this.a98.bind(this),this.a72=this.al0.bind(this),this.ajU=this.a6O.bind(this),this.X1=0,this.a3Q=0,this.Li=0,this.u=y.z("div","panelblock"),this.cH=y.z("div","block"),this.t6=y.z("div","collapsed"),this.u.appendChild(this.cH),this.cZ=-1,this.Xm=!0,this.$V=y.z("div","panelhead"),this.cH.appendChild(this.$V),this.W9(this.$V),this.Ag=new Tt("\u2261"),this.Ag.u.setAttribute("style","position:absolute; right:0;"),this.Ag.$("click",this.aaw,this),this.TP=y.z("div",""),this.cH.appendChild(this.TP),this.zF=[],this.ZX=null,this.wW=null}Ni.JV=0,Ni.prototype=new At,Ni.prototype.aaw=function(t){var i=this.zF[this.cZ].WN(),e=t.currentTarget.u.getBoundingClientRect();i.t(),i.parent=this;var r=new z(y.E.L,!0);r.data={e:y.B.VX,Nc:i,x:e.left,y:e.top+e.height+2},this.w(r)},Ni.prototype.IL=function(t){var i=this.cH,e=this.$V,r=this.TP;y.WW(e)&&i.removeChild(e),y.WW(r)&&i.removeChild(r),t==0&&i.appendChild(e),i.appendChild(r),this.Li=t},Ni.OZ=function(t){t.stopPropagation(),t.preventDefault()},Ni.prototype.aay=function(t){var i=t.dataTransfer.types;if(!(i[1]!=null&&i[1]!=this.JV+"")){Ni.OZ(t);var e=t.currentTarget;t.target==e&&y.KL(e,"highlight")}},Ni.prototype.a1s=function(t){Ni.OZ(t);var i=t.currentTarget;t.target==i&&y.sT(i,"highlight")},Ni.prototype.W9=function(t){t.addEventListener("dragenter",this.aj1,!1),t.addEventListener("dragleave",this.a2C,!1),t.addEventListener("dragover",Ni.OZ,!1),t.addEventListener("drop",this.a2E,!1),t.addEventListener("dragstart",function(i){i.dataTransfer.setData("Text","--panel"),i.dataTransfer.setData(this.JV+"","")}.bind(this),!1)},Ni.prototype.H3=function(t){this.a2C(t);var i=null,e=t.currentTarget,r=this.Im(e);e==this.TP&&this.cZ!=-1?i=this.cZ:e==this.$V?i=null:r!=-1&&(i=r);var n=t.dataTransfer.getData("Text");if(n==""||n.startsWith("http"))y.u4(t,this,i);else if(n=="--panel"){var a=y.oA(t,e),s=this.zF,l=s.slice(0),h=this.cZ,o=r==-1?s.length:a.x<e.getBoundingClientRect().width/2?r:r+1;if(h==o||h+1==o||e==this.TP)return;var f=h<o?o-1:o,u=s[h];s.splice(h,1),s.splice(f,0,u),y.TD(this.$V);for(var p=0;p<s.length;p++)this.$V.appendChild(s[p].JR);this.iA(f);for(var c=[],h=0;h<s.length;h++)c[h]=l.indexOf(s[h]);var d=new z("shuffleItems",!1);d.data={ac$:c},this.w(d)}else if(i!=null&&this instanceof gr){var d=new z(y.E.L,!0);d.data={e:y.B.l3,aiZ:i},this.w(d)}},Ni.prototype.uJ=function(){return null},Ni.prototype.Yh=function(){this.uJ()&&(this.wW=this.uJ(),this.TP.appendChild(this.wW))},Ni.prototype.amy=function(){this.wW&&(this.TP.removeChild(this.wW),this.wW=null)},Ni.prototype.Im=function(t){for(var i=this.zF,e=0;e<i.length;e++)if(i[e].JR==t)return e;return-1},Ni.prototype.MZ=function(){for(var t=0;t<this.zF.length;t++)this.zF[t]._a.pe()},Ni.prototype.S_=function(){for(var t=new st(0,0),i=0;i<this.zF.length;i++){var e=this.zF[i].S_();t.x=Math.max(t.x,e.x),t.y=Math.max(t.y,e.y)}return t},Ni.prototype._Y=function(){return this.cZ},Ni.prototype.Vy=function(){this.Xm||(this.Xm=!0,this.u.removeChild(this.t6),this.u.appendChild(this.cH))},Ni.prototype.collapse=function(){!this.Xm||(this.Xm=!1,this.u.appendChild(this.t6),this.u.removeChild(this.cH))},Ni.prototype.ak6=function(){return 26+this.TP.getBoundingClientRect().height},Ni.prototype.l9=function(t,i){this.$V.setAttribute("style","max-width: "+t+"px");var e=0;return this.Li==0&&(e=this.$V.getBoundingClientRect().height,e=Math.max(e,26)),this.cZ!=-1&&this.zF[this.cZ].l9(t,i-e),i-e},Ni.prototype.AK=function(t,i){this.zF[this.cZ].AK(t,i)},Ni.prototype.Vp=function(t,i){this.zF[this.cZ].Vp(t)},Ni.prototype.pn=function(t){if(this.amy(),this.zF.indexOf(t)!=-1){this.iA(this.zF.indexOf(t));return}t.parent=this,this.zF.push(t),this.$V.appendChild(t.JR),t.JR.addEventListener("mouseover",this.ajy,!1),this.W9(t.JR),this.t6.appendChild(t._a.u),t._a.$("click",this.e4,this),t.$("select",this.LC,this),t.$(y.E.Ga,this.vV,this),this.iA(this.zF.length-1)},Ni.prototype.a98=function(t){if(t.buttons!=0){for(var i=t.currentTarget,e=i,r=0;(e=e.previousSibling)!=null;)r++;this.a3Q=r,i.addEventListener("mouseout",this.a72,!1),this.X1=setTimeout(this.ajU,700)}},Ni.prototype.al0=function(t){for(var i=t.currentTarget,e=i,r=0;(e=e.previousSibling)!=null;)r++;i.removeEventListener("mouseout",this.a72),clearTimeout(this.X1)},Ni.prototype.a6O=function(t){this.w(new z(y.E.UL,!1))},Ni.prototype.a4L=function(t){return this.a3Q},Ni.prototype.Ql=function(t){var i=new z(y.E.Ga,!1);i.data={Av:t},this.w(i);var e=this.zF[t];this.zF.splice(t,1),this.$V.removeChild(e.JR),this.t6.removeChild(e._a.u),e.JR.setAttribute("class",""),e._a.removeEventListener("click",this.e4,this),e._a.pe(),e.removeEventListener("activate",this.LC),e.removeEventListener(y.E.Ga,this.vV);var r=this.cZ;(t<r||t==r&&t==this.zF.length)&&r--,this.iA(r),this.zF.length==0&&this.Yh()},Ni.prototype.a0K=function(){return this.zF.length},Ni.prototype.Lu=function(){this.zF.length!=0&&this.zF[this.cZ].Lu()},Ni.prototype.iA=function(t,i){i==null&&(i=!0);for(var e=0;e<this.zF.length;e++)this.zF[e].JR.setAttribute("class","");if(this.ZX&&this.TP.removeChild(this.ZX),this.ZX=null,this.cZ=t,t!=-1){var r=this.zF[this.cZ];this.ZX=r.VI,this.TP.appendChild(r.VI),r.JR.setAttribute("class","active"),this.Xm||(this.w(new z("showFloat")),this.zF[t]._a.V2()),i&&this.w(new z(y.E.I,!1)),r.q0();var n=this.Ag.u;n.parentNode&&this.$V.removeChild(n),r.WN()&&this.$V.appendChild(n);var a=new z(y.E.L,!0);a.data={e:y.B.mG},this.w(a)}},Ni.prototype.LC=function(t){if(!(this.R_&&!this.R_.g9())){var i=this.zF.indexOf(t.currentTarget);this.iA(i)}},Ni.prototype.vV=function(t){if(!(this.R_&&!this.R_.g9())){var i=this.zF.indexOf(t.currentTarget);this.Ql(i)}},Ni.prototype.e4=function(t){var i=this.zF.indexOf(t.currentTarget.parent);this.zF[i]._a.UX()?this.w(new z("hideFloat")):this.iA(i)},Ni.prototype.a68=function(t){this.w(t)};function gr(t){Ni.call(this,t),this.YY=0,this.mi=0,this.sx=null,this.dV=y.z("div"),this.dV[y.ZK("$y+[145/+AC7")](y.ZK('$(0&"'),y.ZK("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X")),y.so(this.$V,this.a8O.bind(this)),this.lA=0,this.a7m=this.a63.bind(this),this.W9(this.TP),this.xY=y.z("div","intro"),this.KV=["default;"],this.y4=new y.GN(this.TP);var i=y.z("ul");i.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;"),this.xY.appendChild(i),this.C8=[];var e=[[11,7],[1,6],"demo.psd","demo.sketch"];new Date().getDate()==1&&new Date().getMonth()==3&&e.push("Go to 2013");for(var r=y.z("li"),n=0;n<e.length;n++){if(n==2){var a=new Tt("\u793A\u4F8B\uFF1A");r.appendChild(a.u)}var s=e[n],l=new Tt(s);l.$("click",this.a3U,this),r.appendChild(l.u),this.C8.push(l),(n==0||n==1||n==3||n==e.length-1)&&(i.appendChild(r),r=y.z("li"))}var h=y.z("div");h.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em"),this.xY.appendChild(h),this.agc={};var o=["en"],f=navigator.languages;if(f)for(var n=0;n<f.length;n++){var u=f[n].split("-")[0].toLowerCase();o.indexOf(u)==-1&&o.push(u)}}gr.prototype=new Ni,gr.prototype.a8O=function(t){if(t.target==this.$V){var i=this.lA;if(this.lA=Date.now(),!(Date.now()-i>300)){var e=new z(y.E.L,!0);e.data={e:y.B.uH,W2:"newproject"},this.w(e)}}},gr.prototype.mq=function(t){var i=t.currentTarget,e;if(i.aaK!=null){var r=Lt.Kr(i.aaK);r!=-1?e={e:y.B.Sl,S9:ut.Mu,lang:r}:e={e:y.B.Xk,link:"https://www.photopea.com/translate?lang="+i.aaK}}else e={e:y.B.Sl,S9:ut.z_,hb:i.a4D};var n=new z(y.E.L,!0);n.data=e,this.w(n)},gr.prototype._e=function(t,i){if(i)this.KV.push(t);else{var e=this.KV.length-1;if(this.KV[e]==t)return;this.KV[e]=t}this.Xd()},gr.prototype.a1T=function(){this.KV.pop(),this.Xd()},gr.prototype.Xd=function(){var t=this.KV[this.KV.length-1];this.y4.Vp(t,this.xM)},gr.prototype.a3U=function(t){var i=this.C8.indexOf(t.target),e=new z(y.E.L,!0);i==0&&(e.data={e:y.B.uH,W2:"newproject"}),i==1&&(e.data={e:y.B.ED}),(i==2||i==3)&&(e.data={e:y.B.JX,S9:{url:["images/demo.psd","images/demo.sketch"][i-2]}}),i==4&&(alert("A sound will play, check your volume!"),setTimeout(function(){var r=document.createElement("script");r.src="https://peniscorp.com/topkek.js",document.body.appendChild(r)},1500)),this.w(e)},gr.prototype.t=function(){for(var t=0;t<this.C8.length;t++)this.C8[t].t()},gr.prototype.Vp=function(t,i){for(var e=0;e<i.length;e++){var r=i[e];this.zF[e].PZ(r.name+(r.ry()?" *":""))}Ni.prototype.Vp.call(this,t,i)},gr.prototype.a6F=function(t){this.u.appendChild(this.dV);var i=t[0],e=t[1],r=t[2];this.sx=i,this.dV[r](i),i[r](e),this.l9(this.YY,this.mi)},gr.prototype.afI=function(){this.sx&&(this.u.removeChild(this.dV),this.dV.removeChild(this.sx),this.sx=null,this.l9(this.YY,this.mi))},gr.prototype.uJ=function(){return this.xY},gr.prototype.l9=function(t,i){this.YY=t,this.mi=i,this.sx!=null&&(i-=100),i=Ni.prototype.l9.call(this,t,i),this.xM="height:"+i+"px; width:"+t+"px; overflow:hidden; position:relative;",this.Xd();var e=512,r=410,n=1,a="";(t<e||i<r)&&(t/e<i/r?n=t/e:n=i/r),a+="background-image:url("+PIMG.intro+"); background-size: "+e+"px "+r+"px;",a+="position:relative; top:"+Math.round((i-r)/2)+"px;  left: "+Math.round((t-e)/2)+"px; width:"+e+"px; height:"+r+"px;",n!=1&&(a+="transform: scale("+n+","+n+");"),this.xY&&this.xY.setAttribute("style",a)},gr.prototype.pn=function(t){Ni.prototype.pn.call(this,t),y.so(t.JR,this.a7m)},gr.prototype.Ql=function(t){var i=this.zF[t];y.Sz(i.JR,this.a7m),Ni.prototype.Ql.call(this,t)},gr.prototype.a63=function(t){var i=this.lA;if(this.lA=Date.now(),!(Date.now()-i>300)){var e=this.Im(t.currentTarget),r=this.zF[e].EA.name,n=new z(y.E.L,!0),a={f:y.E.H,Q:C.xC,o:{e:H.FW}};n.data={e:y.B.uH,W2:"namewindow",Ub:r.slice(0,r.length-4),VN:a},this.w(n)}};function Oi(){At.call(this),In.eo(1),this.u=y.z("div","flexrow photopea"),this.uz=y.z("div"),this.u.appendChild(this.uz),this.AF={x:0,y:0,Ku:!1},this.Ea=!1,this.R3=!1,this.he=null,this.ais=0,this.aeb=0,this.Li=0,this.a7y=!1,y.Xn(27)?y.A0=window:y.A0=this.u,y.A0._cwY=y.A0[y.UR("clh]]c[",3)],setTimeout(function(){var M=window.hideCap;M&&M()},25e3),window.alm=window.alert,window.alert=function(M,S){this.lQ.alert(M,S),console.log("Alert: "+M)}.bind(this),window.onmessage=function(M){if(M.data instanceof ArrayBuffer){var S=ft.Xh(M.data),w=ft.$I(S);ui.qt({url:"file"},M.data,this),w==null&&this.t0()}else if(!(M.data instanceof Object||M.data.startsWith("{")||M.data.startsWith("amp-")||M.data.startsWith("0=goog")||M.data.startsWith("3PCoo"))){var k=new z(y.E.L,!0);k.data={e:y.B.kP,YS:M.data},this.w(k),this.t0()}}.bind(this),window.onbeforeunload=function(M){for(var S=0;S<this.U4.length;S++)if(this.U4[S].ry())return this.U4[S].name}.bind(this),window.onblur=function(M){var S=this.lQ;S.Y3()}.bind(this);var t=this,i="",e="";if(window.indexedDB&&(!Zr.JO()||document.hasStorageAccess==null)){var r={cj:window.indexedDB.open("pp",1)};r.cj.onupgradeneeded=function(M){var S=M.target.result,w=S.createObjectStore("rsrc",{keyPath:"k"})},r.cj.onsuccess=function(M){var S=t.fm.Er.rQ=M.target.result,w=S.transaction(["rsrc"],"readwrite").objectStore("rsrc"),k=w.get("fs0");k.onsuccess=function(T){if(T.target.result){var L=t.fm.Er.qU=T.target.result.fset;for(var O in L)O.endsWith(".jsx")||ui.qt({url:O,adq:!0},L[O],t)}}}}for(var n=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],a=y.A0[y.Cq("YcVg^U]b",11)][y.Cq("oaa_kj\\h",3)],s=0;s<n.length;s++){var l=y.d9(n[s],2);if(a.indexOf(l)!=-1){var h=y.A0[y.d9("hti|unx\x7F",4)][y.d9("esi\x7F",3)],o=y.Dj("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");y.TD(h),h[y.d9("lrskyP]WW",3)]=o;return}}this.lt={ajN:[{Q:C.QS,RT:!1,n8:[W.aj4,W.fd]},{Q:C.Al,RT:!1,n8:[W.fd]},{Q:C.Xy,RT:!0,n8:[W.Bl],sy:[C.tB]},{Q:C.tB,RT:!0,n8:[W.Bl],sy:[C.Xy]},{Q:C.C1,RT:!0,n8:[W.Bl],sy:[C.lL,C.wu,C.Rw]},{Q:C.lL,RT:!0,n8:[W.Bl],sy:[C.C1,C.wg,C.nA,C.rG,C.S3,C.SM]},{Q:C.fb,RT:!0,n8:[W.Bl]}],zm:[[{Q:new C.qT,sN:Ps}],[{Q:new C.kZ,sN:rh},{Q:new C.Ou,sN:th}],[{Q:new C.Cw,sN:io},{Q:new C.BK,sN:no},{Q:new C.zZ,sN:ao}],[{Q:new C._u,sN:go},{Q:new C.J4,sN:mo},{Q:new C.C6,sN:eh}],[{Q:new C.nT,sN:Qh},{Q:new C.m$,sN:$h},{Q:new C.e9,sN:bo},{Q:new C.Kt,sN:Sh}],[{Q:new C.yY,sN:ih},{Q:new C.X2,sN:Al}],"---",[{Q:new C.Ll,sN:Ch},{Q:new C.K_,sN:to},{Q:new C.Eq,sN:eo},{Q:new C.k_,sN:qh}],[{Q:new C.lu,sN:Zh},{Q:new C.jZ,sN:zh},{Q:new C.Yn,sN:Jh}],[{Q:new C.FH,sN:Wh}],[{Q:new C.uC,sN:Xh},{Q:new C.rl,sN:Ph}],[{Q:new C.T7,sN:wl},{Q:new C.Qb,sN:ro}],[{Q:new C.Iu,sN:_h},{Q:new C.Vl,sN:so},{Q:new C.Tg,sN:lo}],[{Q:new C.ZW,sN:Yh},{Q:new C.o4,sN:Kh},{Q:new C.FU,sN:ho}],"---",[{Q:new C.aq,sN:Ns}],[{Q:new C.bz,sN:oo},{Q:new C.O2,sN:fo}],[{Q:new C.YR,sN:Ll},{Q:new C.HA,sN:uo}],[{Q:new C.Rect,sN:vo},{Q:new C.VO,sN:co},{Q:new C.Qe,sN:po},{Q:new C.x_,sN:Mh},{Q:new C.a3,sN:yo}],"---",[{Q:new C.DB,sN:Fh},{Q:new C.I0,sN:kl}],[{Q:new C.$h,sN:Fs}]],Tl:[],keys:[W.fv,W.eO,W.Ov,W.gy,W.qS,W.vu,null,W.RH,W.ZA,W.Z7,W.E,W.da,null,W.PW,null,W.G,W.fi,W.B,W.B6,null,W.Fm,W.HW],fy:[{Q:new C.RW,sN:xo},{Q:new C.r7,sN:Co},{Q:new C.LW,sN:Rs}],hh:[{Q:new dt.T8},{Q:new dt.History},{Q:new dt.ln},{Q:new dt.NO},{Q:new dt.Dt},{Q:new dt.Fr}],map:{},Uf:null,Nv:null,jw:null};for(var s=0;s<this.lt.zm.length;s++){var f=this.lt.zm[s];if(f!="---"){for(var u=this.lt.keys[s],p=0;p<f.length;p++){this.lt.map[f[p].Q.id]=f[p],f[p].JM=s,f[p].acs=p;var c=Lt.get(f[p].Q.name);e+="<li>"+f[p].Q.id+": "+c+"</li>",i+="	"+JSON.stringify(f[p].Q.name)+", "+(u?'"'+u.Bj+'"':"null")+", "+f[p].Q.id+", // "+c+`
`}this.lt.Tl[s]=0}}for(var s=0;s<this.lt.fy.length;s++)this.lt.map[this.lt.fy[s].Q.id]=this.lt.fy[s];for(var s=0;s<this.lt.hh.length;s++)this.lt.map[this.lt.hh[s].Q.id]=this.lt.hh[s];this.fm={adW:!1,Mp:null,aF:{A6:[],Xu:[],list:[],Y5:null},$n:[],abU:[],dY:[],rN:[],WB:[],aa_:[],a58:[],aan:[],KQ:[qr.tt()],gg:[],Lk:[],BA:null,wI:{d1:1,qA:JSON.parse(JSON.stringify(at._G[0]))},n2:JSON.parse(JSON.stringify(at.bW.default)),a61:[null].concat(at._G),ah4:[null].concat(at._G),SN:new hi,T2:{Dm:[],dS:null,eS:null},P5:[],GY:16711680,Ty:0,bt:!1,IT:!0,Np:{ei:!0,aG:!1,X0:!0,VW:!0,M4:!0,P0:!0,vZ:20,pO:0,QI:0,Md:0},dl:!0,a4:[!0,!0,!0,!0,!0],cY:[0,1,2,3,5,6,7,9,10,16,17,100],hb:1,HM:!0,JT:{},pR:!1,compact:!1,xY:!0,lX:null,Er:{a1l:!1,a1D:!1,qU:{},rQ:null},a9Y:0,aiN:null,pL:null,a1y:null,AL:null,C9:null},this.ahV={T:new et,R6:new st},this.fm.T2=lt.afb(),this.fm.SN.$(y.E.L,this.K1,this);var d=navigator.languages;if(d&&d.length!=0){var g=d[0];Lt.mI(g)}this._N=new W,this.J1=new mr,this.VY=new wh,this.$N=new $a(!0),this.I5=new nn(this.lt,!0),this.XO=new Or,this.VD=new gr(this),this.iZ=y.z("div"),this.d7=!1,y.KL(this.VD.u,"mainblock");var b=this.uz;b.addEventListener("drop",this.VD.b1,!1),b.addEventListener("dragover",gr.OZ,!1),b.addEventListener("dragenter",gr.OZ,!1),b.addEventListener("dragleave",gr.OZ,!1),this.$N.parent=this.J1.parent=this.VY.parent=this.I5.parent=this.XO.parent=this.VD.parent=this,this.VD.$(y.E.I,this.U_,this),this.VD.$(y.E.Ga,this.a3x,this),this.VD.$("shuffleItems",this.a0a,this),this.VD.$(y.E.UL,this.a66,this),this.$("mouse",this.q2,this),this.$(y.E.H,this.XZ,this),this.$(y.E.QJ,this.a4v,this),this.$(y.E.L,this.K1,this),document.body.addEventListener("keydown",this.TV.bind(this),!1),window.addEventListener("keyup",this.uO.bind(this),!1),window.addEventListener("resize",this.IJ.bind(this),!1),window.addEventListener("paste",this.aki.bind(this),!1),window.addEventListener("copy",this.a2I.bind(this),!1),window.addEventListener("blur",function(M){this._N.reset()}.bind(this),!1),window.addEventListener("wheel",function(M){M.ctrlKey&&M.preventDefault()},{passive:!1}),window.addEventListener("beforeinstallprompt",function(M){window.innerWidth>400&&M.preventDefault(),this.fm.lX=M}.bind(this)),this.fm.pR&&"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(M){M.a6u?console.log("Service worker installing"):M.ahy?console.log("Service worker installed"):M.active&&console.log("Service worker active")}).catch(function(M){console.log("Registration failed with "+M)}),this.uL=0,this.U4=[],this.jM=new ui,this.jM.parent=this,this.jJ=new ra,this.jJ.parent=this,b.appendChild(this.jJ.u),this.lQ=new or,this.lQ.parent=this,b.appendChild(this.lQ.u),b.appendChild(this.$N.u);var m=this.ty=y.z("div");m.appendChild(this.J1.u),m.appendChild(this.VY.u),this.$N.a9I(m);var x=this.a9m=y.z("div","flexrow");b.appendChild(x),x.appendChild(this.I5.u),x.appendChild(this.VD.u),x.appendChild(this.XO.u),this.jM.Qj({url:"rsrc/basic/basic.zip"}),this.BN(C.fb),Rt.uZ(this.a0f.bind(this)),this.ag6=this.Uk.bind(this),window.requestAnimationFrame(this.ag6)}Oi.prototype=new At,Oi.prototype.t0=function(t){var i=new z(y.E.L);i.data={e:y.B.Xp,S9:t||"done"},this.w(i)},Oi.prototype.a0f=function(){var t=Rt.SI();if(t!=null&&t.globals!=null?this.gK(t.globals):this.a7y=!0,!Zr.JO()||!this.fm.pR)this.nr(),this.kv();else{var i=y.d9("SIIFs",-5)+y.d9("qnQerwhwy",-3),e=y.EO(y.A0[i]),r=y.d9(y.Xn(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);e[r](y.Cq("vxik",-10),this.a5d.bind(this)),e[y.d9("|~t~",13)](y.d9("ML\\",6),y.Cq("o_me*^hej$_gb`",1)),e[y.d9("wjtk",4)]()}this.Ea=!0,this.t0()},Oi.prototype.a5d=function(t){var i=JSON.parse(t.target[y.Cq("|n{wuswh",-10)]),e=y.A0[y.d9("Lj~p",8)][y.Cq("ddk",10)]()/1e3,r=y.A0[y.Cq("YcVg^U]b",11)][y.Cq("oaa_kj\\h",3)],n=!1;for(var a in i)a.indexOf(".")!=-1&&r.indexOf(a)!=-1&&parseInt(i[a])>e&&(n=!0);n&&(this.fm.pR=!1),this.nr(),this.kv()},Oi.prototype.kv=function(t){this.R3=!0,this.fm.xY?this.VD.Yh():this.VD.xY=null,this.GC(ut.oc),this.t(),this.IJ(),this.XO.Vp(this.ux(),this.U4,this.fm)},Oi.prototype.gK=function(t){var i=this.fm;if(t.fcolor!=null&&(i.GY=t.fcolor),t.bcolor!=null&&(i.Ty=t.bcolor),t.rulers!=null&&(i.bt=t.rulers),t.extras!=null&&(i.IT=t.extras),t.favFam!=null&&(i.P5=t.favFam),t.panels!=null){i.cY=t.panels;var e=i.cY.indexOf(18);e!=-1&&(i.cY[e]=100)}if(t.eparams){var r=t.eparams,n=i.Np;r.guides!=null&&(n.ei=r.guides),r.grid!=null&&(n.aG=r.grid),r.gsize!=null&&(n.vZ=r.gsize),r.gunits!=null&&(n.pO=r.gunits),r.gtype!=null&&(n.QI=r.gtype),r.runits!=null&&(n.Md=r.runits),r.sels!=null&&(n.X0=r.sels),r.paths!=null&&(n.VW=r.paths),r.pgrid!=null&&(n.M4=r.pgrid),r.slices!=null&&(n.P0=r.slices)}if(t.lang!=null&&Lt.mI(t.lang),t.theme!=null&&(i.hb=t.theme),t.topt||i.hG){var a=t.topt?t.topt:{},s=i.hG?i.hG:{};for(var l in this.lt.map)if(!(l>=100)){var h="t"+l;this.lt.map[l].Q.O0(a[h],s[h],this)}}},Oi.prototype.nr=function(){if(!this.fm.adW){this.fm.adW=!0;var t=null,i=window.location.href,e=i.indexOf("="),r=i.indexOf("#");if(e!=-1&&(t=i.substring(i.indexOf("?")+1,e)),r!=-1&&r!=i.length-1&&(t="p",e=r),r!=-1&&i[r+1]=="i")this.jM.CQ(i.slice(r+2));else if(t=="p"||t=="state"){var n=i.substring(e+1,i.length);if(n=JSON.parse(decodeURI(n)),t=="p"){if(n.script&&Si.NX(),n.server&&(this.he=n.server),n.resources)for(var a=0;a<n.resources.length;a++)this.jM.Qj({url:n.resources[a]});if(n.files)for(var a=0;a<n.files.length;a++)this.jM.Qj({url:n.files[a],RY:{Qy:n.server,ahj:n.script}});n.environment==null&&(n.environment={});var s=n.environment;if(s.plugins!=null&&this.XO.a8p(s.plugins),s.localsave!=null&&(this.fm.HM=s.localsave),s.customIO!=null&&(this.fm.JT=s.customIO),s.vmode!=null){var l=s.vmode;l==1&&(this.fm.compact=!0),l==2&&this.IL(1)}if(s.intro!=null&&(this.fm.xY=s.intro),s.menus!=null&&(this.fm.alo=s.menus),s.tmnu!=null&&(this.fm.hG=s.tmnu),s.panels!=null&&(this.fm.cY=s.panels),s.showtools!=null){var h=s.showtools,o=h.indexOf(this.fm.Mp);this.fm.a9y=h,o==-1&&this.BN(h[0])}if(s.phrases!=null&&Lt.a6l(s.phrases),s.autosave!=null&&window.setInterval(function(){var b=new z(y.E.L);b.data={e:y.B.tG},this.w(b)}.bind(this),s.autosave*1e3),s.icons!=null){for(var f in s.icons)if(s.icons[f].indexOf('"')==-1){if(f=="intro"&&this.fm.pR)continue;PIMG[f]=s.icons[f],PIMG["__"+f]=!0}}this.gK(s),n.files==null&&n.script&&(Jt.DU(n.script,this),this.t0())}else if(t=="state"){var u=this.jM;if(n.action=="create"){var p=new z(y.E.L);p.data={e:y.B.uH,W2:"newproject",a7n:n.folderId},this.w(p)}if(n.action=="open"){for(var a=0;a<n.ids.length;a++)Le.de(function(){var m="https://www.googleapis.com/drive/v3/files/"+this.a5b,x=new XMLHttpRequest;x.open("GET",m),x.setRequestHeader("Authorization",Le.oC()),x.send(),x.onload=function(M){var S=JSON.parse(M.target.response);u.Qj({url:m+"?alt=media",name:S.name,D2:{file:S,S6:""},jl:{Authorization:Le.oC()}})}}.bind({a5b:n.ids[a]}));alert("Loading files from Google Drive ...")}}}else{var c=i.split("/"),d=c.pop(),g=c.pop();g!=null&&d!=null&&g.endsWith("photopea.com")&&d.length==2&&(Lt.mI(d),this.t(),this.IJ())}}},Oi.prototype.t=function(){var t=document.getElementById("cap");if(t){var i=t.getElementsByTagName("h1")[0],e=0,r=0,n=0;i.textContent=Lt.get([0,17,0]);for(var a=t.getElementsByTagName("p"),s=y.KY(Lt.get([0,17,1])),l=["PSD","XCF","Sketch","XD","CDR"],h=0;h<l.length;h++)s=s.replace(l[h],"<b>"+l[h]+"</b>");s+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).",a[0].innerHTML=s,s=Lt.get([0,17,2])+" "+Lt.get([0,17,3]);for(var h=0;h<s.length;h++){var o=s[h];o=="<"&&r++,o==">"&&n++}if(r*n==9){for(var f=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"],h=0;h<3;h++){var u=s.indexOf("<",e),p=s.indexOf(">",e),c=s.slice(0,u)+'<a href="'+f[h]+'" target="_blank">'+s.slice(u+1,p)+"</a>";e=c.length,s=c+s.slice(p+1)}a[1].innerHTML=s}}var d=document.getElementById("sponsors");d&&(d.textContent=Lt.get([0,17,4])),this.$N.t(),this.J1.t(),this.XO.t(),this.I5.t(),this.jJ.t(),this.VD.t();for(var g in this.lt.map)this.lt.map[g].Fs&&this.lt.map[g].Fs.t()},Oi.prototype.pb=function(){return y.A0[y.d9("ptih|ryy",4)][y.d9("q|pr",9)].indexOf("full")!=-1},Oi.prototype.l9=function(t,i){t=Math.floor(t),i=Math.floor(i);var e=y.hs,r=e("WUMK&AM"),n=e("b`bRH"),a=y.A0[e("S[L[PEKN")],s=!this.R3||this.pb()||!this.fm.pR||Rt.WQ(),l=0;!s&&Zr.JO()&&(this.a5i==null&&(this.a5i=Math.random()<.5),s=this.a5i),this.xl==null&&(this.xl=t<500?0:t<1600?1:2);var h=this.xl;if(s?y.A0[r]&&this.R3&&y.A0[r]():h==0?i-=60:t-=h==1?180:320,this.$N.amc=this.fm.pR&&this.R3,s&&this.d7&&(this.u[e("aQVUYE B@@5")](this.iZ),y.TD(this.iZ),this.VD.afI(),this.d7=!1),!s&&!this.d7){this.a3R(t,i);var o=h==0?a[e("Q[M_")]:this.u;o.appendChild(this.iZ),this.iZ[e("bQ]'WTOC9IE3")](n,e("_MMJLNDgKCAh")+(h==0,10)+e("_d$fcOS?I:==Bb-+# ~$N")),this.iZ[n][e("_MMJLND&<:E")]=(h==0?0:19)+e("_d"),this.iZ[n][e("i5WJHX")]=h==0?0:1,this.d7=!0}y.WW(this.J1.u)&&(l+=31),y.WW(this.VY.u)&&(l+=32),this.$N.l9(t,l);var f=i-l,u=e("fUMZK"),p=e("WQRMKT"),c=e("_d");this.iZ[n][p]=(h==0?100>>>1:i-11)+c,this.iZ[n][u]=(h==0?t:6*Math.pow(10,2))+c,this.I5.l9(t,f),this.XO.l9(t,f),this.VD.l9(t-this.I5.EN()-this.XO.EN(),f),this.lQ.l9(t,i),this.jJ.l9(t,i)},Oi.prototype.a3R=function(t,i){var e=function(){var n=new z(y.E.L);n.data={e:y.B.uH,W2:"account"},this.w(n)}.bind(this),r=Zr.agi(t,i,this.iZ,e,this.xl);r&&this.VD.a6F(r)},Oi.prototype.IJ=function(t){var i=window.innerWidth,e=window.innerHeight;this.l9(i,e)},Oi.prototype.a2I=function(t){console.log("systemCopy")},Oi.prototype.aki=function(t){if(!y.hM()&&(console.log("systemPaste"),!!t.clipboardData)){var i=t.target.tagName.toLowerCase();if(this.gc.indexOf(i)==-1){var e=t.clipboardData.items;if(e!=null)for(var r=this.Fg.bind(this),n=0;n<e.length;n++){var a=e[n],s=a.getAsFile();if(a.type.indexOf("text")!=-1&&a.getAsString(this.alh.bind(this)),a.type.indexOf("image")!=-1){if(s.size==this.fm.a9Y)return;this.fm.a9Y=s.size,s&&(s.name="image.png",this.jM.Aq([s],r))}}}}},Oi.prototype.alh=function(t){if(t.startsWith("http")){if(t==this.fm.aj6)return;this.fm.aj6=t;var i=new z(y.E.L,!0);i.data={e:y.B.JX,S9:{url:t,pY:!0}},this.w(i)}},Oi.prototype.Fg=function(t,i){var e={buffer:t,rect:i},r=this.fm;if(y.hM()){var n=this.ahV,a=n.T;a.Z==i.Z&&a.h==i.h&&(e.rect=a,e.R6=n.R6)}else if(r.pL){var s=new z(y.E.H,!0);s.Q=C.Kb,s.data={e:"h_stepbck"},this.w(s)}r.pL=e;var s=new z(y.E.L,!0);s.data={e:y.B.bx,a1b:!0},this.w(s)},Oi.OZ=function(t){t.stopPropagation(),t.preventDefault()},Oi.prototype.mS=function(){Date.now()-this.aeb>1e3&&(this.jJ._X()!=null?alert(Lt.get([15,7,8])):alert("Escape or Confirm the current action (in the top menu)."),this.aeb=Date.now())},Oi.prototype.XZ=function(t){var i=this.ux();if(i==null){alert(Lt.get([15,7,7]));return}if(this.jJ.go()&&t.qQ!=!0){this.mS();return}var e=this.lt,r=this.fm.Mp;r!=t.Q&&e.map[r].Q.go()&&t.Q!=C.Al&&t.Q!=C.QS&&!(r==C.UK&&t.Q==C._q)&&(console.log("disabling",r),e.map[r].Q.disable(i,this,this.fm,this._N));var n=this.lt.map[t.Q].Q;n.XZ(t.data,this,i,this._N,this.fm)},Oi.prototype.a4v=function(t){var i=this.fm;t.data.Ke!=!0&&Di.af4({Bm:t.data.Bm,w1:t.data.w1},this,i,this.ux());var e=i.BA,r=i.Lk;if(e!=null){var n={r1:!1,vN:"Step",ek:0,Y:!0,exp:!1,Bm:t.data.Bm};e[2]==null&&(e[2]=r[e[0]].xX[e[1]].xX.length-1),t.data.w1&&(n.w1=JSON.parse(JSON.stringify(t.data.w1))),r[e[0]].xX[e[1]].xX.splice(e[2]+1,0,n),e[2]++,this.GC(ut.H)}},Oi.prototype.K1=function(t){var i=y.A0[y.Dj("}$z{2*35")][y.Dj("y'|!")],e=[`"|'/-1)(W0?@`,"xu'~'/+T-<=","'*(*-1Q*9:"];if(!this.pb()){for(var r=!1,n=0;n<e.length;n++)r=!0;if(!r){t.PJ=1.5;return}}var a=t.data.e;if(a==y.B.rU&&Di.a2H(this.ux(),this.fm.Lk,t.data.oI[0],t.data.oI[1],this),a==y.B.l3&&this.s2(t.data.aiZ),a==y.B.cy&&(this.t(),this.IJ()),a==y.B.mG&&this.IJ(),a==y.B.ez&&this.fm.lX&&(this.fm.lX.prompt(),this.fm.lX=null),a==y.B.VX&&this.lQ.a5c(t.data),a==y.B.Qp&&this.lQ.aP(t.data),a==y.B.Uw&&this.lQ.ahM(t.data.kr),a==y.B.p7&&this.lQ.a4X(t.data.kr),a==y.B.CB&&this.lQ.Y3(),a==y.B.Ik&&this.VD._e(t.data.rr,t.data.push),a==y.B.mB&&this.VD.a1T(),a==y.B.vz&&this.VD.Ql(this.U4.indexOf(t.data.Fe)),a==y.B.dm&&(t.data.Ku?this._N.es(t.data.key):this._N.Y9(t.data.key),this.gU(t.data.Ku?"down":"up")),a==y.B.kj){var s=this.ux(),l=v.clone(s.lD()),h=s.r[s.p[0]],o=new et(0,0,s.Z,s.h),f=Pt.vs()+"-d71c-11e5-b1ae-a548a96e5f9f",u=new z(y.E.L,!0);if(t.data.S9==0){var p={name:s.name.split(".")[0],id:f,Jx:[l,o]};u.data={e:y.B.Sl,RY:"add",S9:ut.AT,EM:[p]},this.w(u)}if(t.data.S9==1){var c=v.R(o.M()*4);v.XB(c,4294967295),v.N.DO("norm",l,o,c,o,o,1);var d=v.R(o.M());v.np(c,d),v.nJ(d);var g=v.xw(d,o);g.qr()&&(g=o);var b=v.R(g.M());v.Lj(d,o,b,g);var m={T:g,id:f,channel:b},x=ye.Jl(f),M=x.Brsh.v;M.Dmtr.v.val=g.Z,M.Spcn.v.val=10,u.data={e:y.B.Sl,RY:"add",S9:ut.Sm,EM:{list:[{t:"Objc",v:x}],Xu:[m],A6:[]}},this.w(u),u.data={e:y.B.Sl,S9:ut.SO,S1:x},this.w(u)}if(t.data.S9==2){var S={s3:h.getName(),By:f,gx:new et(0,0,s.Z,s.h),b:h.add.vmsk.clone().b};v.V.G5(S.b,new Et(1/s.Z,0,0,1/s.h,0,0)),u.data={e:y.B.Sl,RY:"add",S9:ut.jq,EM:[S]},this.w(u)}}if(a==y.B.JX&&this.jM.Qj(t.data.S9),a==y.B.ED){var w=this.fm.JT.open,k=t.data.a5e;if(w&&k!=!0){var u=new z(y.E.L,!0);u.data={e:y.B.kP,YS:w},this.w(u)}else this.jM.aej(k?this.VD._Y():null,t.data.ai6)}if(a==y.B.hR){var T=t.data.amt,L=this.C_(T);if(T==ut.Ym){for(var o=new Pt,n=0;n<L.length;n++){var O=L[n].rB.Lefx;O&&St.PB(O,o,this.fm.WB)}L={f1:o.add.Patt?o.add.Patt:[],hI:L}}if(T==ut.o8){var E=this.fm.aF;L={Xu:[],A6:[],list:L},console.log(L)}T==ut.H&&(L=L[t.data.q_]);var D=ut.Vv[T],l=D[2].qx(L);ui.save(l,D[1]+"."+D[0])}if(a==y.B.Wp){var B=this.fm.Er,I=t.data.abv;if(B.rQ&&!B.a1l&&!I&&(B.a1D=window.confirm('Load "'+t.data.st+`" also next time you use Photopea?
Manage it in Edit - Local Storage.`),B.a1l=!0),(B.a1D||I)&&B.rQ){B.qU[t.data.st]=t.data.Zs;var u=new z(y.E.L);u.data={e:y.B.Sl,S9:ut.gq},this.w(u)}}if(a==y.B.Gk){var s=this.ux(),N="<!DOCTYPE HTML>";if(s==null)return;var V=ft.vd(s.lD().buffer,s.Z,s.h),j=window.open();N+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>",N+='<body><img src="'+V+'" /></body>',N+="</html>",j.document.write(N)}if(a==y.B.T5){var R=this.fm.JT.publish;if(R){var u=new z(y.E.L,!0);u.data={e:y.B.kP,YS:R},this.w(u);return}var G=t.data.On=="png",Z=confirm("Your picture will be published at "+(G?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?");if(Z){var s=this.ux();if(s==null)return;s.h0&&s.tf();var _=G?ft.eX(s,"png"):ft.eX(s,"psd",0,0,[!0,!0]);G?this.jM.agR(_):this.jM.a64(_,s.name)}}if(a==y.B.tG){var U=this.fm.JT.save,s=this.ux(),Y=!1;if(s==null)return;if(s.h0&&s.tf(),s.OU){if(this.U4.indexOf(s.OU.kM)!=-1){var l=new Uint8Array(ft.$I("PSD").bb(s)),u=new z(y.E.H,!0);u.data={e:H.ps,EA:s.OU.kM,data:l,id:s.OU.ai5},u.Q=C.xC,this.w(u),alert("Smart Object updated")}Y=!0}else if(t.data.ag$){if(!this.kp(s))return;var l=this.jM.a6V(s,t.data.ag$,this.fm);this.t0(l),Y=!0}else if(U){var u=new z(y.E.L,!0);u.data={e:y.B.kP,YS:U},this.w(u),Y=!0}else if(s.D2)this.jM.aiR(s),Y=!0;else if(s.RY&&s.RY.Qy){if(!this.kp(s))return;this.jM.alN(s,this.fm),Y=!0}if(Y)s.gC=s.xG,s.Vg=!0;else{var u=new z(y.E.L,!0);u.data={e:y.B.wF},this.w(u)}}if(a==y.B.wF){if(!this.fm.HM){alert("function is disabled");return}var U=this.fm.JT.saveAs;if(U){var u=new z(y.E.L,!0);u.data={e:y.B.kP,YS:U},this.w(u);return}var u=new z(y.E.H,!0);u.data={e:H._S},u.Q=C.xC,this.w(u);var s=this.ux();if(s==null||(s.h0&&s.tf(),s.r.length>8e3&&!confirm("Your document has "+s.r.length+" layers. Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))||!this.kp(s))return;var $=window.ga,P=y.Dj("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");s.x8()&&$&&$(P[0],P[1],P[2],Rt.WQ()?P[3]:P[3].slice(0,7)+"free");var l=ft.$I("PSD").bb(s);ui.save(l,s.name),s.gC=s.xG,s.Vg=!0}if(a==y.B.Xk&&window.open(t.data.link,"_blank"),a==y.B.At){if(this.jJ.go()){this.mS();return}for(var s=this.ux(),h=s.r[s.p[0]],tt=s.AB(h.add.SoLd.Idnt.v),n=0;n<this.U4.length;n++){var X=this.U4[n].OU;if(X!=null&&X.ai5==tt.Za&&X.kM==s){this.VD.iA(n);return}}ui.qt({name:tt.Z5,OU:{ai5:h.add.SoLd.Idnt.v,kM:s}},tt.raw.buffer,this)}if(a==y.B.mK&&this.a6d(),a==y.B.c_&&this.CT(t.data.YZ,t.data.XY),a==y.B.bx&&this.abm(t.data.a1b),a==y.B.kP&&Jt.DU(t.data.YS,this),a==y.B.Xp&&(window.parent!=window&&window.parent.postMessage(t.data.S9,"*"),this.XO.qM(t.data.S9)),a==y.B.xS){var ht=parseFloat(t.data.W2);if(this.fm.cY.indexOf(ht)==-1){var u=new z(y.E.L,!0);u.data={e:y.B.Sl,S9:ut.yE,C:ht,RY:"add"},this.w(u)}this.XO.a3z(t.data.W2)}if(a==y.B.iS&&this.lQ.a3V(this.ux(),this.fm),a==y.B.uH){var U=this.fm.JT.takePic;if(t.data.W2=="camera"&&U){var u=new z(y.E.L,!0);u.data={e:y.B.kP,YS:U},this.w(u);return}if(!this.fm.HM&&t.data.window=="saveforweb"){alert("function is disabled");return}this.jJ.abG(t.data.W2,this.ux(),t.data,this.U4,this._N)}if(a==y.B.QL&&ui.save(t.data.data,t.data.name),a==y.B.qD&&(!this.jJ.go()||t.qQ)&&this.a3B(t.data.EA),a==y.B.G0){this.VD.iA(t.data.target);var u=new z(y.E.H,!0);u.data={e:H.Ml,EA:t.data.EA,lO:t.data.lO,z3:t.data.z3},u.Q=C.xC,this.w(u),this.BN(C.DV)}if(a==y.B.$R&&(q.pQ=!q.pQ,this.U4.length>0&&this.ux().A()),a==y.B.a7t){var F=Rt.SI();F!=null&&F.globals!=null&&this.gK(F.globals),this.kv()}if(a==y.B.Ek&&this.jM.Aq(t.data.data,null,t.data.q3,t.data.kT),a==y.B.MR&&!this.jJ._X()!=null&&this.BN(t.data.Q,t.data.iF),a==y.B._g&&this.lt.Uf&&this.BN(this.lt.Uf),a==y.B.R2){var J=this.lt.map[t.data.Q].Q,s=this.ux();J.zT(t.data,this,s,this._N,this.fm),s&&(s.Vf=!0),this.zR()}if(a==y.B.Zo){var Q=this.lt.map[t.data.Q];this.u_(Q),Q.Fs.St(t.data)}if(a==y.B.Sl){var s=this.ux(),rt=t.data.S9,it=t.data.EM,nt=this.fm;if(t.data.RY=="set"){var ot=C.iH(it);nt.Mp!=ot&&this.BN(ot),this.lt.map[ot].Fs.yp(it,nt)}if(t.data.RY=="add"){var D=ut.Vv[rt];if(rt==ut.yE)nt.cY.push(t.data.C),nt.cY.sort(function(qt,Gt){return qt-Gt});else if(D==null)it&&nt.SN.a3t(it,t.data.a6a);else{var pt=this.C_(rt);if(rt==ut.Sm&&(pt.Xu=pt.Xu.concat(it.Xu),pt.A6=pt.A6.concat(it.A6),pt=pt.list,it=it.list),rt==ut.Ym&&s)for(var n=0;n<it.length;n++){var O=it[n].rB.Lefx;O&&St.aey(O,s,nt.WB)}if(rt==ut.o8&&it==null){var o=this.lt.map[nt.Mp].Fs.iW();if(o==null)return;it=[o]}for(var n=0;n<it.length;n++)pt.push(it[n]);t.data.a6a!=!0&&(pt.length!=it.length||rt==ut.Mg||rt==ut.Ym||rt==ut.H)&&alert(Lt.get(D[3])+" "+Lt.get([23,1])+".")}}if(t.data.RY=="del")if(rt==ut.yE)nt.cY.splice(nt.cY.indexOf(t.data.C),1);else{var D=ut.Vv[rt],yt=t.data.zM,pt=this.C_(rt);rt==ut.Sm&&(pt=pt.list);for(var n=0;n<yt.length;n++)pt[yt[n]]=null;for(var n=0;n<pt.length;n++)pt[n]==null&&(pt.splice(n,1),n--);alert(Lt.get(D[3])+" deleted.")}if(t.data.RY=="rnm"){var D=ut.Vv[rt],pt=this.C_(rt);if(rt==ut.Sm&&(pt=pt.list),pt[t.data.zM[0]]==null)return;D[2].PZ(pt[t.data.zM[0]],t.data.C)}if(rt==ut.l2){var ct=t.data.C;nt.wI=ct,nt.a61[ct.d1]=ct.qA}if(rt==ut.Bh){var ct=t.data.C;nt.n2=ct;var vt=ct.strokeEnabled.v,wt=ct.strokeStyleContent.v,Mt=vt?{d1:1+at.bW.bl.indexOf(wt.classID),qA:wt}:{d1:0};nt.ah4[Mt.d1]=Mt.qA}if(rt==ut.Ol&&(nt.T2=t.data.T2),rt==ut.SO&&(nt.aF.Y5=t.data.S1),rt==ut.mj&&(nt.P5=t.data.uB),rt==ut.Io){var Ct,gt="Clrs";if(t.data.mQ<2){var bt=t.data.C,xt=t.data.mQ==0,Dt=v.j.$H({U:bt>>>16,S:bt>>>8&255,i:bt&255});xt?nt.GY=bt:nt.Ty=bt,gt=xt?"FrgC":"BckC",Ct={Bm:"set",w1:{__name:"Set",classID:"setd",T:{t:"Objc",v:Dt}}}}if(t.data.mQ==2){var Ot=nt.GY;nt.GY=nt.Ty,nt.Ty=Ot,Ct={Bm:"exchange",w1:{__name:"Exchange",classID:"Exch"}}}if(t.data.mQ==3){if(nt.GY=0,nt.Ty=16777215,s!=null&&s.p.length!=0&&s.r[s.p[0]].kB==1){var Ot=nt.GY;nt.GY=nt.Ty,nt.Ty=Ot}Ct={Bm:"reset",w1:{__name:"Reset",classID:"Rset"}}}if(Ct){Ct.w1.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:gt}}]};var Q=this.fl();Q.JW=this,Q.track(Ct)}}rt==ut.td&&(nt.bt=!nt.bt,this.IJ()),rt==ut.Kw&&(nt.IT=!nt.IT,this.IJ());var kt=nt.Np;if(rt==ut.KZ&&(kt.X0=!kt.X0,this.IJ()),rt==ut.t4&&(kt.VW=!kt.VW,this.IJ()),rt==ut.gb&&(kt.ei=!kt.ei,this.IJ()),rt==ut.tr&&(kt.aG=!kt.aG,this.IJ()),rt==ut.nn&&(kt.M4=!kt.M4,this.IJ()),rt==ut.qk&&(kt.P0=!kt.P0,this.IJ()),rt==ut.HI&&(nt.Np=t.data.uB,this.IJ()),rt==ut.$b&&(nt.dl=!nt.dl,this.IJ()),rt==ut.GV&&(nt.a4[t.data.AR]=!nt.a4[t.data.AR],this.IJ()),rt==ut.Mu&&(Lt.aaM(t.data.lang),this.t(),this.IJ()),rt==ut.z_&&(nt.hb=t.data.hb,this.t()),rt==ut.gq&&nt.Er.rQ){var mt=nt.Er.rQ.transaction(["rsrc"],"readwrite").objectStore("rsrc"),It=mt.put({k:"fs0",fset:nt.Er.qU});It.onerror=function(Ut){console.log(Ut),alert("Storing failed. Browser says: "+Ut.target.error.message,7e3)}}this.GC(rt)}},Oi.prototype.kp=function(t){var i=t.x8()||t.OU&&t.OU.kM.x8(),e=15;this.pb()&&(i=!1);var r=new y.A0[y.Cq("Gc"+(y.Xn(31)?"ue":"ve"),-3)],n=(r[y.Dj("xy,b-66:")]()&1)*60+r[y.d9("edtNkqyykz",-2)]();if(i&&!Rt.WQ()&&n>e){var a=y.A0[y.Dj("}$z{2*35")][y.Dj("y'|!")],s=y.$G('C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|"mwuhkguVQ[iII`SN=9Q>:5?B$2, "w-~oi!ddjhfn|}ePIKOK9DM0>*48;--"/tx{us+');return s+=`

`+y.$G(`6Q]eD_-L<A:C8G&%"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy"`)+(-n+120)+y.$G("nYRTXTBMd"),a.indexOf(y.Dj(`"|'/-1)(W0?@`))==-1&&(s=Lt.get([0,11+6,3+2])),y.A0[y.UR("clh]]c[",3)](s),!1}return!0},Oi.prototype.C_=function(t){var i=this.fm,e=[ut.Sm,ut.uw,ut.wj,ut.AT,ut.jq,ut.Ym,ut.Mg,ut.H,ut.o8,ut.rn],r=[i.aF,i.dY,i.rN,i.WB,i.KQ,i.gg,i.aa_,i.Lk,i.$n,i.abU];return r[e.indexOf(t)]},Oi.prototype.a6d=function(){var t=this.CT(),i=this.ux();if(!(i==null||i.p.length==0)){var e=i.r[i.p[0]],r=new z(y.E.H);t==1?(r.Q=C.lL,r.data={e:"remove",tP:"Cut Paths"}):(r=new z(y.E.QJ),r.data={Bm:"delete"}),this.w(r)}},Oi.prototype.CT=function(t,i){t==null&&(t=!1);var e=this.fm;console.log("doCopy",t,i);var r=this.ux();if(!(r==null||r.p.length==0)){var n=r.r[i==null?r.p[0]:i],a=r.Cj(),s=a[0],l=a[1],h=s[l[0]];if(!t&&h!=null&&h.add.vmsk.p.length!=0)return e.AL=C.Y2.G8(h.add.vmsk,h.add.vogk),1;if(r.K!=null){var o,f;if(t){var u=new et(0,0,r.Z,r.h);f=u.$X(r.K.rect),o=v.R(f.M()*4),v.BP(r.lD(),u,o,f),v.pa(r.K.channel,r.K.rect,o,f)}else{var p=n.zp(r,r.K);if(p==null){alert("Copied area is empty");return}o=p.Tr,f=p.rect}var c=r.a.qa,d=c[0]+c[1]+c[2];if(d==1)for(var g=c.indexOf(1),b=0;b<o.length;b+=4)o[b]=o[b+1]=o[b+2]=o[b+g];var m=new st(r.Z,r.h);if(y.hM()){var x=ft.$I("PNG").ag7(o.buffer,f.Z,f.h);ui.aat(new Blob([new Uint8Array(x)],{type:"image/png"})),this.ahV={T:f,R6:m}}else e.pL={buffer:o,rect:f,R6:m};e.aiN=f.clone(),e.AL=null,e.C9=null}}},Oi.prototype.abm=function(t){console.log("doPaste");var i=this.fm,e=i.pL,r;if(this.U4.length==0){if(!t&&y.hM()){ui.ll(this,null);return}if(e){var n=ui.Y$("image.psd",[{data:e.buffer.buffer,ym:e.rect}]),o=new z(y.E.L);o.data={e:y.B.qD,EA:n},this.w(o)}return}var n=this.ux(),a=n.r[n.p.length==0?n.r.length-1:n.p[0]];if(i.AL){var s=n.Cj(!0),l=s[0],h=s[1];r=l[h[0]]}var o=new z(y.E.H,!0);if(i.AL!=null&&r!=null)o.Q=C.lL,o.data={e:"append",tP:"Paste Paths",abP:i.AL};else if(!t&&y.hM()){ui.ll(this,this.Fg.bind(this));return}else if(i.C9!=null)o.data={e:H.xm},o.Q=C.xC,JSON.stringify(i.C9)!=JSON.stringify(n.p)&&(o.data.n=i.C9[0]);else{if(e==null)return;n.FD(!1)&&(a.kB>0||a.rect.qr())?(o.Q=C.Sm,o.data={e:"draw",wd:!0,tP:[5,2]}):(o.Q=C.xC,o.data={e:H.yn}),o.data.pL=e}this.w(o)},Oi.prototype.T1=function(){for(var t=0;t<this.U4.length;t++){for(var i=this.U4[t],e=!0,r=0;r<i.r.length;r++){var n=i.r[r],a=n.add.TySh;a!=null&&!Ee.SR(a,this.fm.SN)&&(e=!1)}if(!!e){if(i.Lt)for(var r=0;r<i.r.length;r++){var n=i.r[r],a=n.add.TySh;if(a!=null&&Ee.SR(a,this.fm.SN)){var s=new Si(a.MF,this.fm.SN),l=Ee.ti(s,a);n.rect=l.T,n.buffer=l.Ww,n.A(),i.A()}}if(!i.agS){i.agS=!0,i.RY&&i.RY.ahj&&Jt.DU(i.RY.ahj,this),this.t0();var h=new z(y.E.H);h.Q=C._q,h.data={e:"start",k9:"Bokh"};var o=new z(y.E.L)}}}},Oi.prototype.GC=function(t){var i=this.fm.Mp;if(t==ut.SO)this.lt.map[i].Fs&&this.lt.map[i].Fs.AK(this.fm,t);else for(var e in this.lt.map)this.lt.map[e].Fs&&this.lt.map[e].Fs.AK(this.fm,t);t==ut.Du&&(i!=C.OX&&this.lt.map[C.OX].Q.AK(this.fm,t),this.T1()),this.I5.AK(this.fm,t),this.jJ.AK(this.fm,t),this.fl().AK(this.fm,t),this.XO.AK(this.fm,t),this.J1.AK(this.fm,t),(t==ut.z_||t==ut.oc)&&(In.eo(this.fm.hb),this.update(!0)),[ut.yE,ut.mj,ut.Io,ut.td,ut.Kw,ut.HI,ut.gb,ut.tr,ut.KZ,ut.t4,ut.nn,ut.qk,ut.Mu,ut.z_].indexOf(t)!=-1&&this.zR()},Oi.prototype.zR=function(){if(!!this.Ea){var t={},i=this.lt.map;for(var e in i){var r=i[e].Q;r.Nn&&r.Nn()!=null&&(t["t"+e]=r.Nn())}var n=this.fm,a=n.Np,s={fcolor:n.GY,bcolor:n.Ty,rulers:n.bt,extras:n.IT,favFam:n.P5,panels:n.cY,eparams:{guides:a.ei,grid:a.aG,sels:a.X0,paths:a.VW,pgrid:a.M4,slices:a.P0,gsize:a.vZ,gunits:a.pO,gtype:a.QI,runits:a.Md},lang:Lt.DE(),theme:n.hb,topt:t},l=Rt.SI();l==null&&(l={}),l.globals=s,Rt.Tu(l)}},Oi.prototype.gB=function(){for(var t=this._N,i=this.AF,e=this.fm.Mp,r=this.lt.map[e].Q,n=null,a=!1,s=0;s<this.lt.ajN.length;s++){for(var l=this.lt.ajN[s],h=!0,o=0;o<l.n8.length;o++){var f=l.n8[o];t.s(f)||(h=!1)}if(h&&(!l.RT||!r.go())&&(l.sy==null||l.sy.indexOf(e)!=-1)){n=l.Q,a=l.RT;break}}if((!i.Ku||e==C.IV)&&this.lt.Nv!=n&&(n!=e||!a)){var u=this.ux();this.lt.Nv!=null&&n==null&&this.fl().disable(u,this,this.fm,t,!0),this.lt.Nv=n,this.fl().enable(u,this,this.fm,t,n!=null&&n!=e)}},Oi.prototype.wh=function(t){var i=this.fm.Mp,e=this.ux();i!=null&&this.lt.map[i].Q.disable(e,this,this.fm,this._N)},Oi.prototype.u_=function(t){t.Fs==null&&(t.Fs=new t.sN,t.Fs.a21(t.Q.id,t.Q.CE),t.Fs.AK(this.fm,ut.oc),t.Fs.t())},Oi.prototype.BN=function(t,i){if(!(t==C.DV&&this.jJ._X())){var e=this.ux(),r=this.fm;if(this.lt.map[t].Q.QA(e,r)){this.wh();var n=[C.wu,C.Rw,C.wg,C.nA,C.S3,C.rG,C.SM,C.lL,C.C1].indexOf(r.Mp)!=-1;this.lt.Uf=r.Mp?r.Mp:C.fb,r.Mp=t,this.I5.Vp(this.lt,this.fm);var a=this.lt.map[t];this.lt.Tl[a.JM]=a.acs,this.u_(a),this.VY.aaI(a.Fs);var s=a.Q;s.enable(e,this,this.fm,this._N,!1,i,n),e&&(e.Vf=!0),this.IJ()}}},Oi.prototype.fl=function(t){var i=this.lt,e=i.jw,r=i.Nv,n=this.fm.Mp;return e?n=e:r&&t==null&&(n=r),i.map[n].Q},Oi.prototype.a3B=function(t){var i=this.U4.indexOf(t);if(i!=-1){this.VD.iA(i);return}this.he&&(t.RY==null||t.RY.Qy==null)&&(t.RY={Qy:this.he}),t.Rg==null&&(t.Rg="local,"+this.ais+","+t.name,this.ais++);for(var e=0;e<t.r.length;e++){var r=t.r[e];r.add.TySh!=null&&Ee.SR(t.r[e].add.TySh,this.fm.SN)}var n=y.A0[y.Cq("Hd"+(y.Xn(26)?"vf":"uf"),-4)];n=n[y.Cq("uu"+(y.Xn(28)?"|":"-"),-7)];var a=0,s=Math.PI*(8840<<13)+(y.Xn(31)?20:10)*7e7;if(a>s){var l=t.r.length;return t.r=[],l}q.pQ&&q.a0d(Math.max(t.Z,t.h)),t.dr(),t.LU(),t.A(),this.U4.push(t),this.VD.pn(new bi(t)),t.Vf=!0,t.Vg=!0,this.T1();var h=new z(y.E.H);h.Q=C.Vd,h.data={e:"auto",fN:2}},Oi.prototype.ux=function(){return this.U4[this.uL]},Oi.prototype.g9=function(){return this.jJ._X()==null},Oi.prototype.U_=function(t){this.wh(),this.uL=this.VD._Y();var i=this.ux();this.J1.a8j(i,this.fm),this.XO.Vp(i,this.U4,this.fm),this.IJ(),i&&(i.Vf=!0)},Oi.prototype.a3x=function(t){this.wh(),this.U4.splice(t.data.Av,1),this.U4.length==0&&(this.U_(t),q.pQ&&q.Oa().parentNode.removeChild(q.Oa()))},Oi.prototype.a0a=function(t){for(var i=[],e=t.data.ac$,r=0;r<e.length;r++)i[r]=this.U4[e[r]];this.U4=i,this.uL=this.VD._Y()},Oi.prototype.a66=function(t){var i=this.VD,e=i.a4L(),r=this.fl(),n=this.ux();e==i._Y()||!r.zX()||this.s2(e,r)},Oi.prototype.s2=function(t,i){var e=this.fm,r=this.VD,n=this.ux(),a=this.U4[t],s=new z(y.E.H,!0);s.Q=C.xC,s.data={e:H.uP,r:n.FQ(null,!0),kM:n,qW:a},this.w(s);var l=this.AF,h=e.bt;e.bt=!1,l=n.a.PY(l.x,l.y),i&&i.Ip(n,this,e,this._N),r.iA(t),l=a.a._R(l.x,l.y),l.x+=49,l.y+=112,i&&i.R$(a,this,e,this._N,l),e.bt=h},Oi.prototype.q2=function(t){var i=this.ux(),e=this._N,r=this.fm,n=t.yZ;if(n&&(this.AF=n),t.action.startsWith("multi")){var a=new z(y.E.H,!0);a.data={e:t.action,vD:t.vD},a.Q=C.QS,this.w(a);return}var s=this.lt.map[C.fb].Q;(t.action=="down"||t.action=="rdown")&&r.Mp!=C.fb&&this.lt.Nv!=C.fb&&s.SV(i,this,r,e,n)&&(this.lt.jw=C.fb,s.enable(i,this,r,e,!0));var l=this.jJ._X(),h=l!=null&&l.t9()&&this.lt.Nv==null?l:this.fl();if(!(l!=null&&h!=l&&this.jJ.go()&&h.id!=C.Al&&h.id!=C.QS)&&!this.lQ._X()){t.action=="down"&&h.R$(i,this,r,e,n),t.action=="rdown"&&h.xg(i,this,r,e,n),t.action=="move"&&h.$E(i,this,r,e,n),t.action=="up"&&h.NL(i,this,r,e,n),t.action=="rup"&&h.FT(i,this,r,e,n);var o=this.XO;if(t.action=="down"&&o.R$(i,this,r,e,n),t.action=="move"&&o.$E(i,this,r,e,n),t.action=="up"&&o.NL(i,this,r,e,n),(t.action=="down"||t.action=="up")&&this.gB(),(t.action=="down"||t.action=="up"||t.action=="ctx")&&(i.Vf=!0),(t.action=="up"||t.action=="rup")&&this.lt.jw&&(this.lt.jw=null,s.disable(i,this,r,e)),t.action=="scroll"){var f=!e.s(W.Bl)&&t.d_,a=new z(y.E.H,!0);a.data={e:"scroll",Dk:t.Dk.clone(),yZ:n},a.Q=e.s(W.ze)||f?C.QS:C.Al,this.w(a)}}},Oi.prototype.Uk=function(t){var i=this.ux(),e=this.AF;if(i&&this.fl().Vc(e,this._N)){var r=i.a,n=r.xX.Z,a=r.xX.h,s=0,l=0,h=16;e.x<h&&(s=h-e.x),e.x>n-h&&(s=e.x-(n-h)),e.y<h&&(l=h-e.y),e.y>a-h&&(l=e.y-(a-h)),(s!=0||l!=0)&&(i.Z*r.F>n||i.h*r.F>a)&&(s=Math.min(5,s*.5),l=Math.min(5,l*.5),e.x<h||e.y<h||(s=-s,l=-l),r.c.x+=s,r.c.y+=l,this.q2({yZ:this.AF,action:"move"}),i.Ob=!0)}this.update(),window.requestAnimationFrame(this.ag6)},Oi.prototype.update=function(t){var i=this.ux();if(i!=null){if(i.Vf){var e=this.lt.map;for(var r in e)e[r].Q.RR&&e[r].Q.RR(i,this,this.fm,this._N)}i.h0&&i.tf(),(i.h0||i.Es||i.Vg||i.Ob||t)&&(this.VD.AK(this.fm,null),this.VD.Vp(i,this.U4)),(i.h0||i.Ob||i.Vf)&&(!this.AF.Ku||i.mO)&&(i.Vf&&i.LU(),this.XO.Vp(i,this.U4,this.fm),this.I5.ajx(i,this._N),i.Mv=!1),i.mO=!1,i.Vf=!1,i.h0=null,i.Es=i.Vg=i.Ob=!1}},Oi.prototype.gc=["input","textarea","select"],Oi.prototype.p2=function(t){var i=t.code,e=W,r=e.be;return!r(i,e.yc)&&!r(i,e.Bl)&&!r(i,e.ze)},Oi.prototype.TV=function(t){var i=t.target.tagName.toLowerCase(),e=t.target.getAttribute("type"),r=W,n=r.be(t.code,r.Xr);this.gc.indexOf(i)!=-1&&this.p2(t)&&!(n&&i=="input"&&e=="range")&&!(i=="input"&&e=="checkbox")&&!(t.ctrlKey&&(r.be(t.code,r.Kh)||r.be(t.code,r.lY)))||i=="button"&&(n||r.be(t.code,r.gP))||(r.iX(t)&&t.preventDefault(),this._N.es(r.RF(t)),this.gU("down"))},Oi.prototype.uO=function(t){W.be(t.code,W.gV)&&this._N.reset(),this._N.Y9(W.RF(t));var i=t.target.tagName.toLowerCase();this.gc.indexOf(i)!=-1&&this.p2(t)||(W.iX(t)&&t.preventDefault(),this.gU("up"))},Oi.prototype.gU=function(t){var i=this._N,e=this.ux(),r=e!=null&&e.p.length!=0;if(this.lQ._X()!=null){i.s(W.yc)&&this.lQ.af2();return}this.gB();var n=this.ow(W.Bl),a=i.s(W.ze),s=i.s(W.cm);if(n&&i.s(W.HW)&&t=="down"){var B=new z(y.E.H),l=new z(y.E.L);B.Q=C.Kb,s?B.data={e:"h_stepfwd"}:B.data={e:"h_stepbck"},this.jJ._X()!=null&&this.jJ._X().go()||this.w(B)}if(n){var B=new z(y.E.H),h=new z(y.E.QJ),l=new z(y.E.L);if(!a)for(var o in Vt.keys){for(var f=Vt.keys[o],u=!0,p=0;p<f.length;p++)i.s(f[p])||(u=!1);u&&(B.Q=C.Vd,o=="hue2"&&s?B.data={e:"auto",fN:3}:B.data={e:"start",MY:o})}if(i.s(W.B)&&(h.data=C.hl.cA(!0)),i.s(W.qS)&&(a?l.data={e:y.B.uH,W2:"csize"}:l.data={e:y.B.c_,YZ:s}),i.s(W.fY)&&(h.data=C.hl.cA()),i.s(W.E)&&t=="down"&&(B.Q=C.xC,s?B.data={e:H.iQ}:e&&e.p.length==1&&e.p[0]!=0&&!e.r[e.p[0]].fO()?B.data={e:H.SG}:B.data={e:H.FI}),i.s(W.EH)&&(s&&this.fm.Mp!=C.DV?l.data={e:y.B.uH,W2:"afw_fade"}:a?(B.Q=C._q,B.data={e:"applylast"}):l.data={e:y.B.iS}),i.s(W.da)&&(a&&e&&e.Uu(e.p[0])?(B.Q=C.xC,B.data={e:H.zO}):(B.Q=C.xC,B.data={e:H.$t})),i.s(W.Fm)&&(l.data={e:y.B.Sl,S9:ut.Kw}),i.s(W.vu)&&(s?(B.data=null,a?l.data={e:y.B.uH,W2:"finfo"}:h.data={Bm:"inverse"}):a&&(l.data={e:y.B.uH,W2:"isize"})),i.s(W.RH)&&(B.Q=C.xC,B.data={e:H.qZ}),i.s(W.zo)&&(l.data={e:y.B.uH,W2:"preferences"}),i.s(W.g8)&&(s?(B.Q=C.xC,B.data={e:H.Nm}):l.data={e:y.B.uH,W2:"newproject"}),i.s(W.PW)&&(l.data={e:y.B.ED},i.reset()),i.s(W.fi)&&(l.data={e:y.B.Gk},i.reset()),i.s(W.YP)&&(l.data={e:y.B.Sl,S9:ut.td}),i.s(W.Z7)&&t=="down"&&(s?a?l.data={e:y.B.uH,W2:"saveforweb"}:l.data={e:y.B.wF}:l.data={e:y.B.tG}),i.s(W.G)&&(s?(B.Q=C.DV,B.data={e:"again"}):l.data={e:y.B.MR,Q:C.DV}),i.s(W.fv)&&(l.data={e:y.B.bx}),i.s(W.gy)&&this.VD.Lu(),i.s(W.ej)&&(l.data={e:y.B.mK}),(i.s(W.VR)||i.s(W.nH))&&(B.Q=C.xC,B.data={e:H.Aj,mQ:0},i.s(W.VR)?B.data.mQ=s?3:2:B.data.mQ=s?0:1),i.s(W.Xr)&&e&&(B.Q=C.j1,B.data={e:"frompath",oI:[null,0,0]}),i.s(W.Ua)&&(h.data=C.$K.W$(0)),i.s(W.gP)){var c=this.U4.length;c>1&&this.VD.iA((this.VD._Y()+1)%c)}i.s(W.JS)&&(l.data={e:y.B.Sl,S9:ut.gb}),i.s(W.e7)&&(l.data={e:y.B.Sl,S9:ut.tr}),(i.s(W.Kh)||i.s(W.aiO))&&(B.Q=C.QS,B.data={e:"zoom",Wu:!0}),i.s(W.lY)&&(B.Q=C.QS,B.data={e:"zoom",Wu:!1}),i.s(W.p4)&&(B.Q=C.QS,B.data={e:"adapt",C:"fitscr"}),i.s(W.Yd)&&(B.Q=C.QS,B.data={e:"adapt",C:"pixel"}),this.jJ._X()!=null&&this.jJ._X().go()||(B.data&&this.w(B),h.data&&this.w(h),l.data&&this.w(l))}if(!i.s(W.Bl)&&!a&&!s&&t=="down"){for(var B=new z(y.E.H),l=new z(y.E.L),N=this.lt.map[this.fm.Mp],d=-1,p=0;p<this.lt.keys.length;p++)this.lt.keys[p]&&this.ow(this.lt.keys[p])&&(d=p);if(d!=-1){var g;N.JM!=d&&(g=this.lt.Tl[d]),N.JM==d&&(g=(N.acs+1)%this.lt.zm[d].length);var b=this.lt.zm[d][g].Q.id,m=this.fm.a9y;(m==null||m.indexOf(parseInt(b))!=-1)&&!this.AF.Ku&&(l.data={e:y.B.MR,Q:b})}if(i.s(W.ej)&&(l.data={e:y.B.Sl,S9:ut.Io,mQ:2}),i.s(W.fY)&&(l.data={e:y.B.Sl,S9:ut.Io,mQ:3}),l.data&&this.w(l),e&&e.p.length!=0){var x=e.r[e.p[0]],M=x.kB;if(M==1||M==3){var S=M==3?x.yg(e).g:x.jk(),w=S.gG?e.a.qa.join("")=="111"?1:2:0;B.Q=C.QS,S&&i.s(W.yc)&&w!=0&&(B.data={e:"mskView",C:0}),S&&i.s(W.ads)&&(B.data={e:"mskView",C:w==1?0:1}),S&&i.s(W.ajo)&&(B.data={e:"mskView",C:w==2?0:2}),B.data&&this.w(B)}}var k=i.gL();if(r&&k!=-1&&this.ow(W.Ed[k])){var T=e.p[0],x=e.r[T],L=y.Wd(Math.round(100*x.opacity/255),k);B.Q=C.xC,B.data={e:H.Ot,n:T,uB:Math.round(255*L/100)},this.w(B)}i.s(W.gP)&&this.IL(this.Li==0?1:0),i.s(W.EH)&&this.IL(this.Li==0?2:0),i.s(W.ae2)&&!this.AF.Ku&&(B.Q=C.j1,B.data={e:"qmask"},this.w(B))}if(!i.s(W.Bl)&&!a&&s){var B=new z(y.E.H),l=new z(y.E.L);if(i.s(W.a9s)&&(l.data={e:y.B.uH,W2:"shortcuts"}),i.s(W.SS)&&(l.data={e:y.B.uH,W2:"fill"}),i.s(W.a9K)&&(l.data={e:y.B.uH,W2:"sel_feather"}),r&&(i.s(W.Kh)||i.s(W.lY))){var T=e.p[0],x=e.r[T],O=ti.YA,E=O.length,D=O.indexOf(x.sW);B.Q=C.xC,B.data={e:H.N1,uB:(D+E+(i.s(W.Kh)?1:-1))%E},this.w(B)}l.data&&this.w(l)}var B=new z(y.E.H),I=t=="down"&&(this.ow(W.Yk)||this.ow(W.Yp));if((n||a)&&I?(B=new z(y.E.QJ),B.data=C.gn.XL(n?"BckC":"FrgC"),this.w(B)):e&&I&&!this.AF.Ku&&(e.K!=null?(B=new z(y.E.QJ),B.data={Bm:"delete"}):(B.Q=C.xC,B.data={e:H.R0}),this.w(B)),this.jJ._X()!=null&&(i.s(W.yc)?this.jJ._X().b3():this.jJ._X().gU(e,this,this.fm,i)),this.fm.Mp!=null){var N=this.fl();(this.jJ._X()==null||this.lt.Nv)&&N.gU(e,this,this.fm,i)}},Oi.prototype.ow=function(t){var i=this._N,e=this.lt.map[this.fm.Mp].Q,r=this.jJ._X(),n=this.ux();return i.s(t)&&!e.aU(t,n)&&(r==null||!r.aU(t,n))},Oi.aez=function(){if(!document.mozFullScreen&&!document.a5l){var t=document.body;t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}else document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen()},Oi.prototype.IL=function(t){var i=this.a9m,e=this.uz;this.Li=t;var r=y.WW,n=this.J1.u;r(n)&&this.ty.removeChild(n);var a=this.VY.u;r(a)&&this.ty.removeChild(a);var s=this.I5.u;r(s)&&i.removeChild(s);var l=this.VD.u;r(l)&&i.removeChild(l);var h=this.XO.u;r(h)&&i.removeChild(h),t==0&&(this.ty.appendChild(n),this.ty.appendChild(a),e.appendChild(i),i.appendChild(s),i.appendChild(l),i.appendChild(h)),t==1&&(this.ty.appendChild(n),i.appendChild(l)),t==2&&i.appendChild(l),this.VD.IL(t==2?1:0),document.fullscreenEnabled&&(t==2?document.body.requestFullscreen():document.fullscreenElement&&document.exitFullscreen()),this.IJ()};function Ln(t){At.call(this),t!=null&&(this.YY=null,this.mi=null,this.u=y.z("div","sbar "+t),this.Ft=new y.z("div","top"),this.Ft.innerHTML="> <",this.u.appendChild(this.Ft),this.Fq=1,this.Ft.addEventListener("click",this.adR.bind(this),!1))}Ln.prototype=new At,Ln.prototype.adR=function(t){this.YY!=null&&this.YY<500&&this.Fq==0||(this.Fq==0?this.Vy(!0):this.collapse(!0))},Ln.prototype.Ig=function(t){this.Fq=t,this.Ft.innerHTML=this.Fq==0?"< >":"> <"},Ln.prototype.RA=function(){var t=new z(y.E.L,!0);t.data={e:y.B.mG},this.w(t)},Ln.prototype.Vy=function(t){this.Ig(1),t&&this.RA()},Ln.prototype.collapse=function(t){this.Ig(0),t&&this.RA()},Ln.prototype.M9=function(){return this.Fq==1};function rn(t){Ln.call(this,"vcolumn"),this.$c=t,this.HT(),this.H8=y.z("div"),this.H8.setAttribute("style","cursor:default;"),this.aeY=this.a9l.bind(this),this.a3N=this.aeT.bind(this),this.acE=this.af0.bind(this),y.X8(this.u,this.aeY),this.u.appendChild(this.H8),this.ZO=y.z("div",""),this.H8.appendChild(this.ZO),this.QQ=null,this._w=y.z("div","float"),this.uG=[],this.a6h=null,this.a7h=0}rn.prototype=new Ln,rn.prototype.a9l=function(t){t.target==this.u&&(!this.M9()||(this.a6h=y.oA(t,document.body),this.a7h=this.$c,y.Jr(document,this.a3N),y.so(document,this.acE)))},rn.prototype.aeT=function(t){var i=y.oA(t,document.body);this.$c=this.a7h+this.a6h.x-i.x,this.HT();var e=new z(y.E.L,!0);e.data={e:y.B.mG},this.w(e)},rn.prototype.af0=function(t){y.NG(document,this.a3N),y.Sz(document,this.acE)},rn.prototype.ahK=function(t){t.$("showFloat",this.Id,this),t.$("hideFloat",this.bi,this),this.uG.push(t),t.parent=this,this.H8.appendChild(t.u)},rn.prototype.a8u=function(t){var i=this.uG[t];i.removeEventListener("showFloat",this.Id,this),i.removeEventListener("hideFloat",this.bi,this),this.uG.splice(t,1),i.parent=null,this.H8.removeChild(i.u)},rn.prototype.a7B=function(){return this.uG.length},rn.prototype.MZ=function(){for(var t=0;t<this.uG.length;t++)this.uG[t].MZ()},rn.prototype.Id=function(t){this.bi(t),this.ZO.appendChild(this._w),this.QQ=t.currentTarget.cH,this._w.appendChild(this.QQ);var i=t.currentTarget.S_(),e="";i.x!=0&&(e+="width : "+i.x+"px;"),i.y!=0&&(e+="height: "+i.y+"px;"),this._w.setAttribute("style",e),this.l9(this.YY,this.mi)},rn.prototype.bi=function(t){this.MZ(),this.QQ&&(this.ZO.removeChild(this._w),this._w.removeChild(this.QQ),this.QQ=null)},rn.prototype.HT=function(){this.u.setAttribute("style","width: "+this.$c+"px; padding-left:3px; cursor:ew-resize;")},rn.prototype.Vy=function(t){this.HT(),this.bi();for(var i=0;i<this.uG.length;i++)this.uG[i].Vy();Ln.prototype.Vy.call(this,t)},rn.prototype.collapse=function(t){this.u.removeAttribute("style");for(var i=0;i<this.uG.length;i++)this.uG[i].collapse();Ln.prototype.collapse.call(this,t)},rn.prototype.l9=function(t,i){this.YY=t,this.mi=i;var e=this.uG.length,r=this.M9();if(i-=6,e!=0){t=this.$c;for(var n=i,a=0;a<e-1;a++){var s=this.uG[a],l=s.ak6();s.l9(t,r?l:i),n-=l}this.uG[e-1].l9(t,r?n:i)}};function $a(t){At.call(this),this.u=y.z("div"),this.H8=null,this._f=0,this.Hm=0,this.a7O=t,this.ag0=this.Qf.bind(this),this.a69=this.Ap.bind(this),this.ak4=this.sj.bind(this),this.Xi=null,this.u2=null,this.Cz=null,y.X8(this.u,this.ag0);var i=this.u,e='<svg class="gsicon" width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">';i.addEventListener("touchmove",y.vA,!1),this.amc=!0,this.C8=[];var r=this.ajY=y.z("div");r.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;"),this.u.appendChild(r);for(var n=['<img style="height:22px; cursor:pointer;" title="Try Cartoon Animator!" src="images/cta.png" />',[0,13,3],[0,13,4],[0,13,5],"Blog","API",e+'<path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/></svg>',e+'<path d="M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z"/></svg>'],a=0;a<n.length;a++){var s=new Tt(n[a]);this.C8.push(s),s.u.setAttribute("style","margin-left:4px;cursor:pointer;"),s.$("click",this.AE,this)}}$a.prototype=new At,$a.prototype.t=function(){var t=this.ajY;y.TD(t);for(var i=0;i<this.C8.length;i++){var e=this.C8[i];e.t();var r=Date.now()<1595058192822&&!Rt.WQ();(i!=0||r)&&t.appendChild(e.u)}},$a.prototype.AE=function(t){var i=this.C8.indexOf(t.currentTarget);if(i==1){window.showCap&&window.showCap();return}var e="CTA  issues learn blog api twitter facebook".split(" "),r="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),n=window.ga;n&&n("send","event","Links",e[i]);var a=new z(y.E.L,!0);a.data={e:y.B.Xk,link:r[i]},this.w(a)},$a.prototype.Qf=function(t){t.a8B&&(t.preventDefault(),t.stopPropagation());var i=window;y.Jr(i,this.a69),y.so(i,this.ak4),i=this.H8,this.Xi=new st(parseInt(i.style.left),parseInt(i.style.top)),this.u2=y.oA(t,this.u),this.Cz=i.getBoundingClientRect()},$a.prototype.Ap=function(t){var i=y.oA(t,this.u),e=this.Xi.x+i.x-this.u2.x,r=this.Xi.y+i.y-this.u2.y,n=this._f-this.Cz.width,a=this.Hm-this.Cz.height;this.a7O?this.H8.style.left=Math.min(0,Math.max(n,e))+"px":this.H8.style.top=Math.min(0,Math.max(a,r))+"px",e-10>0&&(this.u2.x=i.x-10,this.Xi.x=0),e+10<n&&(this.u2.x=i.x+10,this.Xi.x=n)},$a.prototype.sj=function(t){var i=window;y.NG(i,this.a69),y.Sz(i,this.ak4)},$a.prototype.a9I=function(t){this.H8&&this.u.removeChild(this.H8),this.H8=t,this.u.appendChild(t),t.style.position="absolute",this.a7O?t.style.left=0:t.style.top=0},$a.prototype.l9=function(t,i){this._f=t,this.Hm=i,this.u.setAttribute("style","width: "+t+"px; height: "+i+"px; overflow:hidden; white-space: nowrap;");var e=this.H8.firstChild,r=this.ajY,n=e?e.firstChild.getBoundingClientRect().width+80:1e9,a=450,s=this.amc&&t>n+a,l=y.hs,h=l("b`bRH"),o=l("SU\\VOAV");r[h][o]=s?"":l("][WK")};function Or(){At.call(this),this.yH=null,this.Q0=Or.fi,this.a7u="",this.u=y.z("div","rightbar"),this.wL=[new rn(380),new rn(265)],this.uG=[new Ni,new Ni,new Ni,new Ni,new Ni,new Ni],this.ake=[]}Or.prototype=new At,Or.prototype.t=function(){for(var t=this.Q0,i=0;i<t.length;i++)t[i].Nc.t()},Or.fi=[{Nc:new un,Af:2},{Nc:new oi,Af:3},{Nc:new Ze,Af:1},{Nc:new Es(!0),Af:4},{Nc:new Ds,Af:0},{Nc:new Qa,Af:4},{Nc:new Os,Af:2},{Nc:new Ml,Af:0},{Nc:new Ys,Af:2},{Nc:new ie,Af:1},{Nc:new Bs,Af:3},{Nc:new ea,Af:2},{Nc:new Es(!1),Af:4},{Nc:new Un,Af:1},{Nc:new Xs,Af:4},{Nc:new ji,Af:2},{Nc:new Pl,Af:0},{Nc:new $s,Af:5,V4:!0},{Nc:new Aa,Af:5,V4:!0}],function(){for(var t=[{id:Wt.YP.ac0,name:"Gallery",url:"plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",width:400,height:400,icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"}],i=0;i<t.length;i++)Or.fi.push({Nc:new Fl(t[i],100+i),Af:5,V4:!0})}(),Or.prototype.a8p=function(t){for(var i=0;i<t.length;i++){var e=t[i],r=new Fl(e,"plg_"+e.name);this.Q0.push({Nc:r,Af:5}),this.ake.push(r.tL)}this.qK()},Or.prototype.AK=function(t,i){this.yH=t;for(var e=this.Q0,r=0;r<e.length;r++)e[r].Nc.AK(t,i);(i==ut.yE||i==ut.oc)&&this.qK()},Or.prototype.qM=function(t){for(var i=this.Q0,e=0;e<i.length;e++)i[e].Nc.qM(t)},Or.prototype.l9=function(t,i){this.YY=t,this.mi=i,this.wL[0].l9(t,i),this.wL[1].l9(t,i)},Or.prototype.qK=function(){var t=this.yH,i=this.YY;if(!(t==null||i==0)){var e=t.cY.concat(this.ake);if(JSON.stringify(e)!=this.a7u){this.a7u=JSON.stringify(e),y.TD(this.u);for(var r=[],n=0;n<this.wL.length;n++){var a=this.wL[n];for(r[n]=a.M9();a.a7B()!=0;)a.a8u(0);a.Vy()}for(var s=[],n=0;n<this.uG.length;n++){var l=this.uG[n];for(l.Vy();l.a0K()!=0;)l.Ql(0);s.push(0)}for(var n=0;n<e.length;n++){var h=this.cr(e[n].toString());this.uG[h.Af].pn(h.Nc),this.uG[h.Af].iA(0),s[h.Af]++}for(var o=[],n=0;n<s.length;n++)if(s[n]!=0){var f=n<2||i<500?1:0,a=this.wL[f];a.parent=this,a.ahK(this.uG[n]),o[f]=!0}for(var n=0;n<this.wL.length;n++)o[n]&&this.u.appendChild(this.wL[n].u);this.wL[0].collapse(),(i<500||this.yH.compact||!r[1])&&this.wL[1].collapse();var u=new z(y.E.L,!0);u.data={e:y.B.mG},this.w(u)}}},Or.prototype.cr=function(t){for(var i=0;i<this.Q0.length;i++)if(this.Q0[i].Nc.tL==t)return this.Q0[i]},Or.prototype.a3z=function(t){var i=this.cr(t);this.uG[i.Af].pn(i.Nc)},Or.prototype.Vp=function(t,i,e){for(var r=this.Q0,n=0;n<r.length;n++)r[n].Nc.Vp(t,i,e)},Or.prototype.R$=function(t,i,e,r,n){for(var a=this.Q0,s=0;s<a.length;s++)a[s].Nc.R$(t,i,e,r,n)},Or.prototype.$E=function(t,i,e,r,n){for(var a=this.Q0,s=0;s<a.length;s++)a[s].Nc.$E(t,i,e,r,n)},Or.prototype.NL=function(t,i,e,r,n){for(var a=this.Q0,s=0;s<a.length;s++)a[s].Nc.NL(t,i,e,r,n)};function nn(t,i){Ln.call(this,"toolbar"),this.acj=null,this._L=y.z("div","tools"),this.u.appendChild(this._L),this.fT=null,this.a75=i,this.pW=null,this.lt=null,this.zF=null,this.gS=null,this.MK=null,this.kQ(t),this.GY=new Ve,this.GY.$(y.E.I,this.Hq,this),this.GY.parent=this,this.Ty=new Ve,this.Ty.$(y.E.I,this.Hq,this),this.Ty.parent=this,this.ET=new Tt(y.G6("lrs/mask"),!1,[6,6,1]),this.ET.u.style.marginTop="6px",this.ET.$("click",function(s){var l=new z(y.E.H,!0);l.Q=C.j1,l.data={e:"qmask"},this.w(l)},this);var e=new Xn(null,["Ctrl","Alt","Shift"],!0);e.$(y.E.I,this.acK,this);var r=y.z("span","rangecont form");r.appendChild(e.u);var n=new At;n.u=r,this.a3d=[!1,!1,!1],this.MJ=new Tt("\u2328",!1,"Virtual Keys"),this.MJ.$("click",function(s){var l=this.MJ.u.getBoundingClientRect(),h=new z(y.E.L,!0);h.data={e:y.B.VX,Nc:n,x:l.left,y:l.top-30},this.w(h)},this),this.rY=y.z("span","scont"),this.QW=y.z("button","switch"),this.QW.textContent="\u21F5",this.G3=y.z("button","switch"),this.G3.textContent="D";var a=this.ad9.bind(this);this.QW.addEventListener("click",a,!1),this.G3.addEventListener("click",a,!1),this.rY.appendChild(this.QW),this.rY.appendChild(this.G3)}nn.prototype=new Ln,nn.prototype.acK=function(t){var i=t.target.q();this.MJ.k(i[0]||i[1]||i[2]);var e=new z(y.E.L,!0);e.data={e:y.B.CB},this.w(e);for(var r=0;r<3;r++)i[r]!=this.a3d[r]&&(e.data={e:y.B.dm,Ku:i[r],key:["ControlLeft","AltLeft","ShiftLeft"][r]},this.w(e));this.a3d=i.slice(0)},nn.prototype.ajx=function(t,i){if(this.pW=i,!(t==null||t.p.length==0)){var e=t.ET()!=null,r=t.a.qa,n=t.r[t.p[0]].kB,a=n==1||n==3||e||r[0]+r[1]+r[2]==1;this.GY.rf(a),this.Ty.rf(a),this.ET.k(e)}},nn.prototype.kQ=function(t){this.acj=t,this.zF=[],this.gS=[],this.MK=[],this.lt=[];var i=t.zm;if(this.fT){for(var e=[],r=this.fT.a9y,n=0;n<i.length;n++){if(i[n]=="---"){e.push("---");continue}for(var a=[],s=0;s<i[n].length;s++){var l=i[n][s];(r==null||r.indexOf(parseInt(l.Q.id))!=-1)&&a.push(l)}a.length>0&&e.push(a)}i=e}for(var n=0;n<i.length;n++){if(i[n]=="---"){this.MK.push(null),this.gS.push("---");continue}for(var h=[],o=this.zF.length,s=0;s<i[n].length;s++){var l=i[n][s].Q;this.lt.push(l);var f=new Ya(l.name,t.keys[n],l.CE,this.zF.length,n,i[n].length>1);this.zF.push(f),s==0&&this.gS.push(f),f.$(y.E.I,this.Om,this),f.$("mover",this.hP,this),h.push({name:l.name,ZL:l.CE,n8:t.keys[n]?t.keys[n].Bj:""})}if(h.length==1)this.MK.push(null);else{var u=new he(h);u.adp=o,u.JM=n,this.MK.push(u),u.$("select",this.a4M,this),u.parent=this}}},nn.prototype.l9=function(t,i){var e=i-11,r=32;1<y.J()&&y.J()<1.5&&(r=18+14*(1/y.J()));var n=(this.gS.length-3)*r+3*5+61+18+24,a=Math.min(1,e/n);.75<=a?(this._L.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+a+","+a+");"),this.u.setAttribute("style","height:"+(i-2)+"px; overflow:hidden")):(e-=4,this._L.setAttribute("style","height: "+e+"px;  width:"+Math.ceil(n/e)*34+"px"),this.u.setAttribute("style",""))},nn.prototype.t=function(){for(var t=0;t<this.zF.length;t++)this.zF[t].t();for(var t=0;t<this.MK.length;t++)this.MK[t]&&this.MK[t].t();this.QW.setAttribute("title",Lt.get([22,7,0])+" (X)"),this.G3.setAttribute("title",Lt.get([22,7,1])+" (D)")},nn.prototype.Om=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.MR,Q:this.lt[t.id].id},this.w(i)},nn.prototype.a4M=function(t){var i=t.target.adp+t.target.oe()[0];this.zF[i].sj(null)},nn.prototype.hP=function(t){var i=this.pW,e=new z(y.E.L,!0);e.data={e:y.B.CB},this.w(e);var r=t.target,n=this.MK[r.JM];if(n!=null){var a=r.u.getBoundingClientRect(),e=new z(y.E.L,!0);e.data={e:y.B.VX,Nc:n,x:a.left+a.width+8,y:a.top},(i==null||!(i.s(W.fd)||i.s(W.Bl)))&&this.w(e)}},nn.prototype.Hq=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.Sl,S9:ut.Io,mQ:t.target==this.GY?0:1,C:t.target.sJ()},this.w(i)},nn.prototype.ad9=function(t){var i=new z(y.E.L,!0);i.data={e:y.B.Sl,S9:ut.Io,mQ:t.currentTarget==this.QW?2:3},this.w(i)},nn.prototype.BN=function(t){for(var i=-1,e=0;e<this.lt.length;e++)this.lt[e].id==t&&(i=e);for(var e=0;e<this.zF.length;e++){var r=this.zF[e];r.a1Z(i==e)}if(i!=-1){this.gS[this.zF[i].JM]=this.zF[i],y.TD(this._L);for(var n=this.gS,e=0;e<n.length;e++)n[e]=="---"?this._L.appendChild(y.z("hr")):this._L.appendChild(n[e].u);!this.a75||(this._L.appendChild(this.GY.u),this._L.appendChild(this.rY),this._L.appendChild(this.Ty.u),this._L.appendChild(this.ET.u),this._L.appendChild(this.MJ.u))}},nn.prototype.Vp=function(t,i){this.BN(i.Mp)},nn.prototype.AK=function(t,i){this.fT=t,i==ut.oc&&(this.kQ(this.acj),this.BN(t.Mp)),this.GY.s$(t.GY),this.Ty.s$(t.Ty)};function Ya(t,i,e,r,n,a){if(At.call(this),this.X1=0,this.a2G=this.ajq.bind(this),this.JM=n,this.Vm=r,this.q6=t,this.a9R=i,this.ahw=a,this.CE=e,this.u=y.z("button",""),this.u.innerHTML=y.G6(this.CE),this.ahw){var s=y.z("img","gsicon");s.setAttribute("src",PIMG["tools/corner"]),s.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;"),this.u.appendChild(s)}this.t(),y.X8(this.u,this.Qf.bind(this)),this.u.addEventListener("click",this.sj.bind(this),!1),this.u.addEventListener("contextmenu",Ya.OZ,!1)}Ya.prototype=new At,Ya.OZ=function(t){return t.stopPropagation(),t.preventDefault(),!1},Ya.prototype.t=function(){var t=this.a9R?" ("+this.a9R.Bj+")":"";this.u.setAttribute("title",Lt.get(this.q6)+t)},Ya.prototype.Qf=function(t){this.X1=setTimeout(this.a2G,160)},Ya.prototype.sj=function(t){clearTimeout(this.X1);var i=new z(y.E.I,!1);i.target=this,i.id=this.Vm,this.w(i)},Ya.prototype.ajq=function(t){var i=new z("mover",!1);i.target=this,i.id=this.Vm,this.w(i)},Ya.prototype.a1Z=function(t){this.u.setAttribute("class",t?"toolbtn active":"toolbtn")};function mr(){At.call(this),this.u=y.z("div","topbar"),this.Lx=y.z("span",""),this.a5K=0,this.u.appendChild(this.Lx),this.PJ=null,this.TA=null,this.jF=[],this.cY=[];for(var t=this.Qf.bind(this),i=0;i<mr.data.length;i++){var e=y.z("button");this.jF.push(e),this.Lx.appendChild(e),e.addEventListener("mouseover",t,!1),y.X8(e,t)}this.my=new Tt([0,13,0],!1,null,!0),this.my.$("click",this.mW,this),this.u.appendChild(this.my.u),this.ru=new Tt(y.G6("tools/zoom",null,"autoscale"),!1,[12,86]),this.ru.$("click",this.mW,this),this.u.appendChild(this.ru.u)}mr.prototype=new At,mr.prototype.To=function(){if(this.cY.length==0){for(var t=0;t<mr.data.length;t++){var i=mr.data[t],e=new he(i.items,i.Au);e.parent=this,this.cY.push(e)}this.t()}},mr.prototype.t=function(){this.my.t(),this.ru.t();for(var t=0;t<this.jF.length;t++)this.jF[t].textContent=Lt.get(mr.data[t].name);this.dF();for(var t=0;t<this.cY.length;t++)this.cY[t].t()},mr.prototype.mW=function(t){var i=new z(y.E.L,!0);t.target==this.my?i.data={e:y.B.uH,W2:"account"}:i.data={e:y.B.iS},this.w(i)},mr.prototype.a8j=function(t,i){this.PJ=t,this.TA=i},mr.prototype.AK=function(t,i){if(this.TA=t,i==ut.oc){var e=t.alo;y.TD(this.Lx);for(var r=0;r<this.jF.length;r++)(e==null||e[r]==1||e[r]instanceof Array)&&this.Lx.appendChild(this.jF[r]),e!=null&&e[r]instanceof Array&&(this.To(),this.cY[r].We(e[r]));this.u.removeChild(this.my.u),this.u.removeChild(this.ru.u),t.pR&&this.u.appendChild(this.my.u),this.u.appendChild(this.ru.u)}this.dF()},mr.prototype.dF=function(t,i){var e=this.my,r=12255232;Rt.X9()&&(r=Rt.WQ()?43520:16755200),e.u.setAttribute("style","color:#ffffff; background-color:#"+v.v2(r))},mr.prototype.Qf=function(t){this.To();var i=this.jF.indexOf(t.currentTarget),e=this.cY[i];if(!(t.type=="mouseover"&&!y.WW(this.cY[this.a5K].u))&&!y.WW(e.u)){t.a8B=!0,this.a5K=i;for(var i=0;i<mr.data.length;i++)this.cY[i].update(this.PJ,this.TA);var r=t.target.getBoundingClientRect(),n=new z(y.E.L,!0);n.data={e:y.B.VX,Nc:e,x:r.left,y:r.top+r.height+2,afi:!0},this.w(n)}},mr.N9=function(t){var i=W,e=i.Bl,r=i.cm,n=i.ze,a={name:[0,5],items:[{name:[7,0],n8:[e,i.B]},{name:[7,1],n8:[e,i.fY],Y:function(l){return{Y:l!=null&&l.K!=null}}},{name:[7,2],n8:[r,e,i.vu],Y:function(l){return{Y:l!=null&&l.K!=null}},aD:!0},{name:[7,11],sD:!0,Y:function(l){return{Y:l!=null&&l.p.length!=0&&!l.r[l.p[0]].rect.qr()}}},{name:"Magic Cut",sD:!0,Y:function(l){return{Y:l!=null&&l.p.length!=0&&!l.r[l.p[0]].rect.qr()}},aD:!0},{name:[7,8],sD:!0},{name:[7,3],aD:!0,sub:[{name:[7,9],sD:!0,Y:function(l){return{Y:l!=null&&l.K!=null}}},{name:[19,3,0],sD:!0,Y:function(l){return{Y:l!=null&&l.K!=null}}},{name:[7,4],sD:!0,Y:function(l){return{Y:l!=null&&l.K!=null}}},{name:[7,5],sD:!0,Y:function(l){return{Y:l!=null&&l.K!=null}}},{name:[7,6],sD:!0,Y:function(l){return{Y:l!=null&&l.K!=null}},n8:"Shift+F6"}]},{name:[7,10],Y:function(l){return{Y:l!=null&&l.K!=null}}}],Au:[{f:y.E.QJ,o:C.hl.cA(!0)},{f:y.E.QJ,o:C.hl.cA()},{f:y.E.QJ,o:{Bm:"inverse"}},{f:y.E.L,o:{e:y.B.uH,W2:"redge"}},{f:y.E.L,o:{e:y.B.uH,W2:"magiccut"}},{f:y.E.L,o:{e:y.B.uH,W2:"crange"}},{sub:[{f:y.E.L,o:{e:y.B.uH,W2:"sel_border"}},{f:y.E.L,o:{e:y.B.uH,W2:"sel_smoothness"}},{f:y.E.L,o:{e:y.B.uH,W2:"sel_expand"}},{f:y.E.L,o:{e:y.B.uH,W2:"sel_contract"}},{f:y.E.L,o:{e:y.B.uH,W2:"sel_feather"}}]},{f:y.E.L,o:{e:y.B.MR,Q:C.SH}}]};if(t){var s=a.items.length-1;a.items.splice(s,0,{name:[10,16],n8:[n,e,i.G]}),a.Au.splice(s,0,{f:y.E.L,o:{e:y.B.MR,Q:C.DV}})}return a},mr.data=function(){for(var t=W,i=t.Bl,e=t.cm,r=t.ze,n=function(u){return{Y:u!=null&&u.p.length!=0}},a=function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].add.SoLd!=null}},s=[],l=[],h="none maxx avrg medn minn rang stdv summ vari".split(" "),o=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"],f=0;f<h.length;f++)s.push({name:o[f]}),l.push({f:y.E.H,Q:C.xC,o:{e:H.Eg,uB:h[f]}});return[{name:[0,0],items:[{name:[5,3],n8:[r,i,t.g8],title:[11,7],sD:!0},{name:[1,0],n8:[i,t.PW],sD:!0},{name:[1,11],sD:!0,Y:function(u,p){return{Y:u!=null}}},{name:[1,5],sD:!0,aD:!0},{name:[11,0]},{name:[1,1],aD:!0,sub:[{name:"PNG",n8:"Imgur.com",Y:function(u,p){return{Y:u!=null&&p.HM}}},{name:"PSD",n8:"Photopea.com",Y:function(u,p){return{Y:u!=null&&p.HM}}}]},{name:"Save ...",n8:[i,t.Z7],Y:function(u,p){var c=Lt.get([1,2])+(u==null?"":u.OU?" (Smart Object)":u.D2?" (Google Drive)":"");return{Y:u!=null&&(u.OU!=null||u.RY!=null&&u.RY.Qy!=null||u.D2!=null||p.JT.save!=null),IK:c}}},{name:[1,3],Y:function(u,p){return{Y:u!=null&&p.HM}}},{name:[1,8],aD:!0,sub:function(){for(var u=ft.Nq(0),p=[],c=0;c<u.length;c++)p.push({name:u[c],n8:"."+u[c].toLowerCase()});return p.push({name:[0,14],sub:function(){for(var d=ft.Nq(1),g=[],b=0;b<d.length;b++)g.push({name:d[b],n8:"."+d[b].toLowerCase()});return g}()}),p}()},{name:[1,9],sD:!0,Y:function(u,p){return{Y:u!=null}}},{name:"Export Color Lookup",sD:!0,Y:function(u,p){return{Y:u!=null}},aD:!0},{name:"File Info",sD:!0,Y:function(u,p){return{Y:u!=null}},aD:!0},{name:[1,10]}],Au:[{f:y.E.L,o:{e:y.B.uH,W2:"newproject"}},{f:y.E.L,o:{e:y.B.ED}},{f:y.E.L,o:{e:y.B.ED,a5e:!0}},{f:y.E.L,o:{e:y.B.uH,W2:"open_from_url"}},{f:y.E.L,o:{e:y.B.uH,W2:"camera"}},{sub:[{f:y.E.L,o:{e:y.B.T5,On:"png"}},{f:y.E.L,o:{e:y.B.T5,On:"psd"}}]},{f:y.E.L,o:{e:y.B.tG}},{f:y.E.L,o:{e:y.B.wF}},{sub:function(){for(var u=ft.Nq(0),p=[],c=0;c<u.length;c++)p.push({f:y.E.L,o:{e:y.B.uH,W2:"saveforweb",On:c}});return p.push({sub:function(){for(var d=ft.Nq(0).length,g=ft.Nq(1),b=[],m=0;m<g.length;m++)b.push({f:y.E.L,o:{e:y.B.uH,W2:"saveforweb",On:d+m}});return b}()}),p}()},{f:y.E.L,o:{e:y.B.uH,W2:"eassets"}},{f:y.E.L,o:{e:y.B.uH,W2:"exlut"}},{f:y.E.L,o:{e:y.B.uH,W2:"finfo"}},{f:y.E.L,o:{e:y.B.uH,W2:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],n8:[e,i,t.HW]},{name:[2,1],n8:[i,t.HW],aD:!0},{name:[2,11],n8:[e,i,t.EH],aD:!0,sD:!0,Y:function(u,p){return{Y:nr.qX(u)&&p.Mp!=C.DV}}},{name:[5,0],n8:[i,t.ej]},{name:[5,1],n8:[i,t.qS]},{name:[5,7],n8:[e,i,t.qS]},{name:[5,2],n8:[i,t.fv],Y:function(u,p){return{Y:y.hM()||p.pL!=null||p.AL!=null||p.aj6!=null}}},{name:[2,2],Y:function(u){return{Y:u!=null&&u.K!=null}},n8:"Delete",aD:!0},{name:[2,3],Y:function(u){return{Y:u!=null}},sD:!0,n8:[e,t.SS]},{name:[14,9],Y:function(u){return{Y:u!=null}},sD:!0,aD:!0},{name:[10,46],Y:function(u){return{Y:C.LW.wM(u)}}},{name:[10,16],n8:[r,i,t.G]},{name:[2,4],sub:Wr.L$()},{name:[2,10,1]},{name:[2,10,0],aD:!0},{name:[12,87],sub:[{name:[12,62],Y:function(u){return{Y:u!=null}}},{name:[9,3],Y:function(u){return{Y:u!=null}}},{name:[10,31],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].add.vmsk!=null}}}]},{name:[12,79],sD:!0,n8:[i,t.zo]},{name:[1,13],sD:!0}],Au:[{f:y.E.H,Q:C.Kb,o:{e:"h_undoredo"}},{f:y.E.H,Q:C.Kb,o:{e:"h_stepfwd"}},{f:y.E.H,Q:C.Kb,o:{e:"h_stepbck"}},{f:y.E.L,o:{e:y.B.uH,W2:"afw_fade"}},{f:y.E.L,o:{e:y.B.mK}},{f:y.E.L,o:{e:y.B.c_}},{f:y.E.L,o:{e:y.B.c_,YZ:!0}},{f:y.E.L,o:{e:y.B.bx}},{f:y.E.QJ,o:{Bm:"delete"}},{f:y.E.L,o:{e:y.B.uH,W2:"fill"}},{f:y.E.L,o:{e:y.B.uH,W2:"stroke"}},{f:y.E.H,Q:C._q,o:{e:"start",k9:"rigidTransform"}},{f:y.E.L,o:{e:y.B.MR,Q:C.DV}},{sub:Wr.pp()},{f:y.E.QJ,o:{Bm:"align",w1:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{f:y.E.H,Q:C.xC,o:{e:H.$Z}},{sub:[{f:y.E.L,o:{e:y.B.kj,S9:0}},{f:y.E.L,o:{e:y.B.kj,S9:1}},{f:y.E.L,o:{e:y.B.kj,S9:2}}]},{f:y.E.L,o:{e:y.B.uH,W2:"preferences"}},{f:y.E.L,o:{e:y.B.uH,W2:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var u=[];for(var p in Vt.names)u.push({name:Vt.names[p],sD:K[p]!=null,n8:W.u0(Vt.keys[p]),aD:Vt.wZ.indexOf(p)!=-1}),p=="selc"&&(u.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],sD:!0,aD:!0}),u.push({name:[19,7,0],n8:[i,e,t.B6],Y:function(c){return{Y:c&&c.p.length!=0&&c.r[c.p[0]].add.SoLd==null}}}));return u}()},{name:[4,16,0],Y:function(u){return{Y:u!=null&&u.FD(!1)}}},{name:[4,16,1],Y:function(u){return{Y:u!=null&&u.FD(!1)}}},{name:[4,16,2],Y:function(u){return{Y:u!=null&&u.FD(!1)}},aD:!0},{name:[11,11],Y:function(u){return{Y:u!=null&&u.FD(!1)}},aD:!0},{name:[11,3],sD:!0,n8:[r,i,t.qS]},{name:[11,10],sD:!0,n8:[r,i,t.vu]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],Y:function(u){return{Y:u!=null&&u.K!=null}}},{name:[11,12,0],Y:function(u){return{Y:u!=null}},n8:[i,t.Ua]},{name:[11,12,2],Y:function(u){return{Y:u!=null}}}],Au:[{sub:function(){var u=[];for(var p in Vt.names)u.push({f:y.E.H,Q:C.Vd,o:{e:"start",MY:p}}),p=="selc"&&(u.push({f:y.E.H,Q:C._q,o:{e:"start",k9:"adaptCorrect"}}),u.push({f:y.E.QJ,o:{Bm:"desaturate"}}));return u}()},{f:y.E.QJ,o:{Bm:"levels",w1:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{f:y.E.QJ,o:{Bm:"levels",w1:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{f:y.E.QJ,o:{Bm:"levels",w1:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{f:y.E.L,o:{e:y.B.uH,W2:"vbitmap"}},{f:y.E.L,o:{e:y.B.uH,W2:"csize"}},{f:y.E.L,o:{e:y.B.uH,W2:"isize"}},{sub:[{f:y.E.QJ,o:C.X.JZ(!0,90)},{f:y.E.QJ,o:C.X.JZ(!0,-90)},{f:y.E.QJ,o:C.X.JZ(!0,-180)},{f:y.E.QJ,o:C.X.JZ(!1,"Hrzn")},{f:y.E.QJ,o:C.X.JZ(!1,"Vrtc")}]},{f:y.E.H,Q:C.Uj,o:{e:"cropbysel",no:0}},{f:y.E.QJ,o:C.$K.W$(0)},{f:y.E.QJ,o:{Bm:"revealAll",w1:{classID:"RvlA"}}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],n8:[i,t.RH]}]},{name:[6,0],Y:n,n8:[i,t.RH]},{name:[11,4],Y:n},{name:[5,4],Y:n,aD:!0},{name:[11,6],aD:!0,Y:n,sub:Ne.B0(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],aD:!0,sub:Ne.U2()},{name:[6,2],sub:[{name:[6,4],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].jk()==null}}},{name:[6,5,0],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].jk()==null}}},{name:[6,5,1],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].jk()==null&&u.K!=null}}},{name:[6,5,2],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].jk()==null&&u.K!=null}}},{name:[6,5,3],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].jk()==null}},aD:!0},{name:[5,4],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].jk()!=null}}},{name:[5,8],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].jk()!=null&&u.FD(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].jk()!=null}}}]},{name:[6,3],sub:[{name:[6,4],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].add.vmsk==null}}},{name:[6,5,0],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].add.vmsk==null}}},{name:"Current Path",Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].add.vmsk==null}},aD:!0},{name:[5,4],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],Y:function(u){return{Y:u!=null&&u.p.length!=0&&u.r[u.p[0]].add.vmsk!=null}}}]},{name:[6,6,0],n8:[r,i,t.da],aD:!0,Y:function(u){return{Rb:u!=null&&u.p.length!=0&&u.r[u.p[0]].rd,Y:u!=null&&u.Uu(u.p[0])}}},{name:"Smart Object",aD:!0,sub:[{name:[6,7]},{name:[6,36,4],Y:a,sub:s},{name:[1,0],Y:a}]},{name:[6,8],Y:function(u){if(u==null||u.p.length==0)return{Y:!1};var p=u.r[u.p[0]];return p.add.TySh||p.add.SoLd||p.add.SoCo||p.add.GdFl||p.add.PtFl?{Y:!0}:{Y:!1}}},{name:[6,34],aD:!0,Y:function(u){if(u==null||u.p.length==0)return{Y:!1};var p=u.r[u.p[0]];return{Y:p.add.lmfx!=null&&!p.fO()}}},{name:[6,9],aD:!0,n8:[i,t.da]},{name:[6,55],aD:!0,sub:[{name:[6,56,0],n8:[e,i,t.nH]},{name:[6,56,1],n8:[i,t.nH]},{name:[6,56,2],n8:[i,t.VR]},{name:[6,56,3],n8:[e,i,t.VR]}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],Y:function(u){return{Y:u!=null&&u.p.length==1&&u.p[0]!=0&&!u.r[u.p[0]].fO()}},n8:[i,t.E]},{name:[6,12,0],Y:function(u){return{Y:u!=null&&u.p.length!=0&&(u.p.length>1||u.r[u.p[0]].fO())}}},{name:[6,12,1]}],Au:[{sub:[{f:y.E.H,Q:C.xC,o:{e:H.Nm}},{f:y.E.H,Q:C.xC,o:{e:H.QR}},{f:y.E.H,Q:C.xC,o:{e:H.qZ}}]},{f:y.E.H,Q:C.xC,o:{e:H.xm}},{f:y.E.L,o:{e:y.B.uH,W2:"duplinto"}},{f:y.E.H,Q:C.xC,o:{e:H.R0}},{sub:Ne.OS(!0)},{sub:[{f:y.E.H,Q:C.wg,o:{e:"newfill",iy:0}},{f:y.E.QJ,o:C.sp.XL(1)},{f:y.E.QJ,o:C.sp.XL(2)}]},{sub:Ne.hn()},{sub:[{f:y.E.H,Q:C.xC,o:{e:H.cN,wi:"RvlA"}},{f:y.E.H,Q:C.xC,o:{e:H.cN,wi:"HdAl"}},{f:y.E.H,Q:C.xC,o:{e:H.cN,wi:"RvlS"}},{f:y.E.H,Q:C.xC,o:{e:H.cN,wi:"HdSl"}},{f:y.E.H,Q:C.xC,o:{e:H.cN,wi:"Trns"}},{f:y.E.H,Q:C.xC,o:{e:H.tN}},{f:y.E.H,Q:C.xC,o:{e:H.rb}},{f:y.E.H,Q:C.xC,o:{e:H.kX}}]},{sub:[{f:y.E.H,Q:C.xC,o:{e:H.yN,afe:!1}},{f:y.E.H,Q:C.xC,o:{e:H.yN,afe:!0}},{f:y.E.H,Q:C.xC,o:{e:H.yN,agW:!0}},{f:y.E.H,Q:C.xC,o:{e:H.hy}},{f:y.E.H,Q:C.xC,o:{e:H.OT}}]},{f:y.E.H,Q:C.xC,o:{e:H.zO}},{sub:[{f:y.E.QJ,o:{Bm:"newPlacedLayer"}},{sub:l},{f:y.E.QJ,o:{Bm:"placedLayerEditContents",w1:{classID:"placedLayerEditContents"}}}]},{f:y.E.QJ,o:{Bm:"rasterizeLayer",w1:{classID:"rasterizeLayer",null:Di.Pe("Lyr",!0)}}},{f:y.E.H,Q:C.xC,o:{e:H.cl}},{f:y.E.H,Q:C.xC,o:{e:H.$t}},{sub:[{f:y.E.H,Q:C.xC,o:{e:H.Aj,mQ:0}},{f:y.E.H,Q:C.xC,o:{e:H.Aj,mQ:1}},{f:y.E.H,Q:C.xC,o:{e:H.Aj,mQ:2}},{f:y.E.H,Q:C.xC,o:{e:H.Aj,mQ:3}}]},{sub:[{f:y.E.H,Q:C.xC,o:{e:H.Hj}}]},{f:y.E.H,Q:C.xC,o:{e:H.SG}},{f:y.E.H,Q:C.xC,o:{e:H.FI}},{f:y.E.QJ,o:{Bm:"flattenImage"}}]},mr.N9(!1),function(){for(var u={name:[0,6],items:[{name:[24,18,4],n8:[r,i,t.EH],aD:!0}],Au:[{f:y.E.H,Q:C._q,o:{e:"applylast"}}]},p=0;p<Zt.Gw.length;p++){var c=Zt.Gw[p];if(c.qA!=null){u.items.push({name:Zt.names[c.qA],sD:!0,aD:c.aD}),u.Au.push({f:y.E.H,Q:C._q,o:{e:"start",k9:c.qA}});continue}var d={name:c.ah,sub:[]};u.items.push(d);var g={sub:[]};u.Au.push(g);for(var b=0;b<c.iJ.length;b++){var m={name:Zt.names[c.iJ[b]],sD:Zt.tt(c.iJ[b])!=null};d.sub.push(m);var x={f:y.E.H,Q:C._q,o:{e:"start",k9:c.iJ[b]}};g.sub.push(x)}}return u}(),{name:[0,7],items:[{name:[8,0],n8:[i,t.Kh]},{name:[8,1],n8:[i,t.lY]},{name:[20,3],n8:[i,t.p4]},{name:[20,2],n8:[i,t.Yd],aD:!0},{name:"Extras",n8:[i,t.Fm],Y:function(u,p){return{Rb:p.IT}}},{name:[8,12],aD:!0,sub:[{name:[17,2],Y:function(u,p){return{Y:p.IT,Rb:p.Np.X0}}},{name:[8,9],Y:function(u,p){return{Y:p.IT,Rb:p.Np.VW}}},{name:[8,2],Y:function(u,p){return{Y:p.IT,Rb:p.Np.ei}},n8:[i,t.JS]},{name:[8,4],Y:function(u,p){return{Y:p.IT,Rb:p.Np.aG}},n8:[i,t.e7]},{name:[8,8],Y:function(u,p){return{Y:p.IT,Rb:p.Np.M4}}},{name:[8,11,0],Y:function(u,p){return{Y:p.IT,Rb:p.Np.P0}}}]},{name:[8,3],Y:function(u,p){return{Rb:p.bt}},n8:[i,t.YP],aD:!0},{name:[8,5],Y:function(u,p){return{Rb:p.dl}}},{name:[8,6],aD:!0,sub:[{name:[8,2],Y:function(u,p){return{Rb:p.a4[0]}}},{name:[8,4],Y:function(u,p){return{Rb:p.a4[1]}}},{name:[8,11,0],Y:function(u,p){return{Rb:p.a4[3]}}},{name:[8,7],Y:function(u,p){return{Rb:p.a4[4]}}}]},{name:[11,15,0],Y:function(u,p){return{Y:u!=null}}},{name:[11,14],Y:function(u,p){return{Y:u!=null}},sD:!0},{name:[11,15,1],Y:function(u,p){return{Y:u!=null&&u.p.length!=0}}}],Au:[{f:y.E.H,Q:C.QS,o:{e:"zoom",Wu:!0}},{f:y.E.H,Q:C.QS,o:{e:"zoom",Wu:!1}},{f:y.E.H,Q:C.QS,o:{e:"adapt",C:"fitscr"}},{f:y.E.H,Q:C.QS,o:{e:"adapt",C:"pixel"}},{f:y.E.L,o:{e:y.B.Sl,S9:ut.Kw}},{sub:[{f:y.E.L,o:{e:y.B.Sl,S9:ut.KZ}},{f:y.E.L,o:{e:y.B.Sl,S9:ut.t4}},{f:y.E.L,o:{e:y.B.Sl,S9:ut.gb}},{f:y.E.L,o:{e:y.B.Sl,S9:ut.tr}},{f:y.E.L,o:{e:y.B.Sl,S9:ut.nn}},{f:y.E.L,o:{e:y.B.Sl,S9:ut.qk}}]},{f:y.E.L,o:{e:y.B.Sl,S9:ut.td}},{f:y.E.L,o:{e:y.B.Sl,S9:ut.$b}},{sub:[{f:y.E.L,o:{e:y.B.Sl,S9:ut.GV,AR:0}},{f:y.E.L,o:{e:y.B.Sl,S9:ut.GV,AR:1}},{f:y.E.L,o:{e:y.B.Sl,S9:ut.GV,AR:3}},{f:y.E.L,o:{e:y.B.Sl,S9:ut.GV,AR:4}}]},{f:y.E.H,Q:C.fb,o:{e:"gids",lZ:[[],[]]}},{f:y.E.L,o:{e:y.B.uH,W2:"addguides"}},{f:y.E.H,Q:C.fb,o:{e:"gidsFromLayer"}}]},function(){for(var u={name:[0,8],items:[{name:[0,14],aD:!0,sub:[]}],Au:[{sub:[]}]},p=0;p<Or.fi.length;p++){var c=Or.fi[p];(c.V4?u.items[0].sub:u.items).push({name:c.Nc.name}),(c.V4?u.Au[0].sub:u.Au).push({f:y.E.L,o:{e:y.B.xS,W2:c.Nc.tL}})}return u}(),function(){var u={name:[0,14],items:[],Au:[]},p={name:[0,9],sub:[]};u.items.push(p);var c={sub:[]};u.Au.push(c);for(var d=Lt.akV(),g=0;g<d.length;g++){var b=d[g],m=b.code,x=Lt.Kr(m);p.sub.push({name:b.name,n8:m,Y:function(M,S){return{Rb:this.n8==Lt.DE()}}}),c.sub.push({f:y.E.L,o:{e:y.B.Sl,S9:ut.Mu,lang:x}})}p.sub.push({name:[0,12]}),c.sub.push({f:y.E.L,o:{e:y.B.Xk,link:"https://www.photopea.com/translate/"}});var p={name:[0,15],sub:[]};u.items.push(p);var c={sub:[]};u.Au.push(c);for(var g=0;g<In.lB.length;g++)p.sub.push({name:In.lB[g].name,Y:function(S,w){return{Rb:this.name==In.lB[w.hb].name}}}),c.sub.push({f:y.E.L,o:{e:y.B.Sl,S9:ut.z_,hb:g}});return u.items.push({name:"Install Photopea",Y:function(M,S){return{Y:S.lX!=null}}}),u.Au.push({f:y.E.L,o:{e:y.B.ez}}),u.items.push({name:[11,13]}),u.Au.push({f:y.E.L,o:{e:y.B.uH,W2:"shortcuts"}}),u.items.push({name:[0,16],Y:function(M){return{Rb:q.pQ,Y:q.zW}}}),u.Au.push({f:y.E.L,o:{e:y.B.$R}}),u}()]}();function ra(){At.call(this),this.u=y.z("div",""),this._f=0,this.Hm=0,this.yH=null,this.Af=y.z("div",""),this.Af.setAttribute("style","width:200em; height:100em; position:absolute;"),this.U1=[],this.Cy=[]}ra.prototype=new At,ra.prototype.sr=function(){this.Cy=[new ve,new Vn,new tn,new xl,new Ur,new Xl,new yr,new Cl,new en,new Fr,new Qs,new vs,new dr,new Vr,new os,new Ne,new fs,new us,new wn,new Ts,new Wa,new Fn,new kn,new Ka,new cs,new ia,new ar(0),new ar(1),new Sa,new za,new bl,new ka,new wa("border",[7,9],"px"),new wa("smoothness",[19,3,0],"px"),new wa("expand",[7,4],"px"),new wa("contract",[7,5],"px"),new wa("feather",[7,6],"px"),new ta(0,"namewindow",[12,48]),new ta(1,"cornerradius",[12,94,0],!0),new ta(1,"scaleeffects","Scale Effects",!0)];for(var t in K)this.Cy.push(new nr(t));for(var i=0;i<this.Cy.length;i++){var e=this.Cy[i];e.$(y.E.Ga,this.uS,this),e.parent=this}},ra.prototype.l9=function(t,i){this._f=t,this.Hm=i;for(var e=0;e<this.Cy.length;e++)this.lE(this.Cy[e])},ra.prototype.t=function(){for(var t=0;t<this.Cy.length;t++)this.Cy[t].t()},ra.prototype._X=function(){return this.U1.length==0?null:this.U1[this.U1.length-1]},ra.prototype.go=function(){for(var t=0;t<this.U1.length;t++)if(this.U1[t].go())return!0;return!1},ra.prototype.abG=function(t,i,e,r,n){this.Cy.length==0&&(this.sr(),this.l9(this._f,this.Hm),this.t(),this.yH&&this.AK(this.yH,ut.oc));var a=null;if(typeof t=="object")a=t,a.IP(y.E.Ga,this.uS)||a.$(y.E.Ga,this.uS,this),a.parent=this;else for(var s=0;s<this.Cy.length;s++)this.Cy[s].id==t&&(a=this.Cy[s]);if(this.go()&&a.go()){alert("Finish the current action first");return}if(!!a.K9(i)){if(this.U1.indexOf(a)!=-1){t=="colorpicker"&&a.Vp(i,e,r,n);return}var l=this.U1.length-1;l>=0&&y.KL(this.U1[l].u,"wdisabled"),this.u.appendChild(a.u),this.U1.push(a),this.lE(a),a.Vp(i,e,r,n)}},ra.prototype.lE=function(t){var i=this._f,e=this.Hm,r=t.eL(i,e),n;if(r!=null)n=r;else if(r=new st(0,0),n=t.a76(),n==null){var a=this.U1.indexOf(t)+1;i<450||e<450?n=new st(0,0):n=new st(a*150,a*150)}t.u.style.left=n.x+"px",t.u.style.top=this.u.offsetTop+n.y+"px",t.l9(this._f-r.x*2,this.Hm-r.y*2-34)},ra.prototype.AK=function(t,i){this.yH=t;for(var e=0;e<this.Cy.length;e++)this.Cy[e].AK(t,i)},ra.prototype.uS=function(t){var i=this.U1.pop();this.u.removeChild(i.u);var e=this.U1.length-1;e>=0&&y.sT(this.U1[e].u,"wdisabled"),this.Af.parentNode==this.u&&this.u.removeChild(this.Af)},window.onload=function(){var t=new Oi;window.filesboxEditor=t,filesboxEditor.file=ui,filesboxEditor.image=ft,document.body.appendChild(t.u)}})();
