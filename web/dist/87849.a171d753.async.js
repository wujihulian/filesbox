(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[87849],{88637:function(je,ve,f){"use strict";f.d(ve,{Z:function(){return se}});var F=f(28991),A=f(67294),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},I=Z,ie=f(27029),j=function(ye,ge){return A.createElement(ie.Z,(0,F.Z)((0,F.Z)({},ye),{},{ref:ge,icon:I}))};j.displayName="FileOutlined";var se=A.forwardRef(j)},6324:function(je,ve,f){"use strict";f.d(ve,{Z:function(){return xe}});var F=f(90484),A=f(28991),Z=f(67294),I={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},ie=I,j=f(27029),se=function(B,R){return Z.createElement(j.Z,(0,A.Z)((0,A.Z)({},B),{},{ref:R,icon:ie}))};se.displayName="CaretDownFilled";var fe=Z.forwardRef(se),ye=f(88637),ge=f(7085),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Y=g,J=function(B,R){return Z.createElement(j.Z,(0,A.Z)((0,A.Z)({},B),{},{ref:R,icon:Y}))};J.displayName="MinusSquareOutlined";var Oe=Z.forwardRef(J),Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Ee=Le,he=function(B,R){return Z.createElement(j.Z,(0,A.Z)((0,A.Z)({},B),{},{ref:R,icon:Ee}))};he.displayName="PlusSquareOutlined";var k=Z.forwardRef(he),D=f(94184),pe=f.n(D),U=f(96159);function xe(H,B,R,Q){var ke=Q.isLeaf,be=Q.expanded,Me=Q.loading;if(Me)return Z.createElement(ge.Z,{className:"".concat(H,"-switcher-loading-icon")});var V;if(R&&(0,F.Z)(R)==="object"&&(V=R.showLeafIcon),ke){if(!R)return null;if(typeof V!="boolean"&&!!V){var q=typeof V=="function"?V(Q):V,Ze="".concat(H,"-switcher-line-custom-icon");return(0,U.l$)(q)?(0,U.Tm)(q,{className:pe()(q.props.className||"",Ze)}):q}return V?Z.createElement(ye.Z,{className:"".concat(H,"-switcher-line-icon")}):Z.createElement("span",{className:"".concat(H,"-switcher-leaf-line")})}var Ke="".concat(H,"-switcher-icon"),_=typeof B=="function"?B(Q):B;return(0,U.l$)(_)?(0,U.Tm)(_,{className:pe()(_.props.className||"",Ke)}):_||(R?be?Z.createElement(Oe,{className:"".concat(H,"-switcher-line-icon")}):Z.createElement(k,{className:"".concat(H,"-switcher-line-icon")}):Z.createElement(fe,{className:Ke}))}},93549:function(je,ve,f){"use strict";f.d(ve,{O:function(){return R.Z},Z:function(){return dt}});var F=f(22122),A=f(96156),Z=f(90484),I=f(28991),ie=f(85061),j=f(6610),se=f(5991),fe=f(63349),ye=f(10379),ge=f(54070),g=f(67294),Y=f(15105),J=f(80334),Oe=f(64217),Le=f(94184),Ee=f.n(Le),he=f(27822),k=f(10225),D=f(1089);function pe(i){if(i==null)throw new TypeError("Cannot destructure "+i)}var U=f(28481),xe=f(81253),H=f(7606),B=f(63441),R=f(4258),Q=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ke=function(N,x){var e=N.className,d=N.style,C=N.motion,E=N.motionNodes,t=N.motionType,a=N.onMotionStart,n=N.onMotionEnd,r=N.active,s=N.treeNodeRequiredProps,c=(0,xe.Z)(N,Q),l=g.useState(!0),v=(0,U.Z)(l,2),y=v[0],p=v[1],o=g.useContext(he.k),K=o.prefixCls,h=g.useRef(!1),u=function(){h.current||n(),h.current=!0};return(0,g.useEffect)(function(){E&&t==="hide"&&y&&p(!1)},[E]),(0,g.useEffect)(function(){return E&&a(),function(){E&&u()}},[]),E?g.createElement(B.Z,(0,F.Z)({ref:x,visible:y},C,{motionAppear:t==="show",onAppearEnd:u,onLeaveEnd:u}),function(m,S){var T=m.className,L=m.style;return g.createElement("div",{ref:S,className:Ee()("".concat(K,"-treenode-motion"),T),style:L},E.map(function(P){var w=(0,F.Z)({},(pe(P.data),P.data)),b=P.title,M=P.key,$=P.isStart,z=P.isEnd;delete w.children;var G=(0,D.H8)(M,s);return g.createElement(R.Z,(0,F.Z)({},w,G,{title:b,active:r,data:P.data,key:M,isStart:$,isEnd:z}))}))}):g.createElement(R.Z,(0,F.Z)({domRef:x,className:e,style:d},c,{active:r}))};ke.displayName="MotionTreeNode";var be=g.forwardRef(ke),Me=be;function V(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=i.length,e=N.length;if(Math.abs(x-e)!==1)return{add:!1,key:null};function d(C,E){var t=new Map;C.forEach(function(n){t.set(n,!0)});var a=E.filter(function(n){return!t.has(n)});return a.length===1?a[0]:null}return x<e?{add:!0,key:d(i,N)}:{add:!1,key:d(N,i)}}function q(i,N,x){var e=i.findIndex(function(t){return t.key===x}),d=i[e+1],C=N.findIndex(function(t){return t.key===x});if(d){var E=N.findIndex(function(t){return t.key===d.key});return N.slice(C+1,E)}return N.slice(C+1)}var Ze=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Ke={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},_=function(){},ee="RC_TREE_MOTION_".concat(Math.random()),Re={key:ee},Ye={key:ee,level:0,index:0,pos:"0",node:Re,nodes:[Re]},Ge={parent:null,children:[],pos:Ye.pos,data:Re,title:null,key:ee,isStart:[],isEnd:[]};function Xe(i,N,x,e){return N===!1||!x?i:i.slice(0,Math.ceil(x/e)+1)}function Je(i){var N=i.key,x=i.pos;return(0,D.km)(N,x)}function tt(i){for(var N=String(i.data.key),x=i;x.parent;)x=x.parent,N="".concat(x.data.key," > ").concat(N);return N}var Qe=g.forwardRef(function(i,N){var x=i.prefixCls,e=i.data,d=i.selectable,C=i.checkable,E=i.expandedKeys,t=i.selectedKeys,a=i.checkedKeys,n=i.loadedKeys,r=i.loadingKeys,s=i.halfCheckedKeys,c=i.keyEntities,l=i.disabled,v=i.dragging,y=i.dragOverNodeKey,p=i.dropPosition,o=i.motion,K=i.height,h=i.itemHeight,u=i.virtual,m=i.focusable,S=i.activeItem,T=i.focused,L=i.tabIndex,P=i.onKeyDown,w=i.onFocus,b=i.onBlur,M=i.onActiveChange,$=i.onListChangeStart,z=i.onListChangeEnd,G=(0,xe.Z)(i,Ze),te=g.useRef(null),W=g.useRef(null);g.useImperativeHandle(N,function(){return{scrollTo:function(X){te.current.scrollTo(X)},getIndentWidth:function(){return W.current.offsetWidth}}});var le=g.useState(E),Ce=(0,U.Z)(le,2),Ie=Ce[0],$e=Ce[1],Fe=g.useState(e),Se=(0,U.Z)(Fe,2),ne=Se[0],De=Se[1],He=g.useState(e),Pe=(0,U.Z)(He,2),Ue=Pe[0],ce=Pe[1],Be=g.useState([]),ae=(0,U.Z)(Be,2),it=ae[0],ze=ae[1],st=g.useState(null),qe=(0,U.Z)(st,2),lt=qe[0],We=qe[1],_e=g.useRef(e);_e.current=e;function Ve(){var O=_e.current;De(O),ce(O),ze([]),We(null),z()}g.useEffect(function(){$e(E);var O=V(Ie,E);if(O.key!==null)if(O.add){var X=ne.findIndex(function(me){var Ne=me.key;return Ne===O.key}),oe=Xe(q(ne,e,O.key),u,K,h),ue=ne.slice();ue.splice(X+1,0,Ge),ce(ue),ze(oe),We("show")}else{var re=e.findIndex(function(me){var Ne=me.key;return Ne===O.key}),de=Xe(q(e,ne,O.key),u,K,h),Te=e.slice();Te.splice(re+1,0,Ge),ce(Te),ze(de),We("hide")}else ne!==e&&(De(e),ce(e))},[E,e]),g.useEffect(function(){v||Ve()},[v]);var ct=o?Ue:e,et={expandedKeys:E,selectedKeys:t,loadedKeys:n,loadingKeys:r,checkedKeys:a,halfCheckedKeys:s,dragOverNodeKey:y,dropPosition:p,keyEntities:c};return g.createElement(g.Fragment,null,T&&S&&g.createElement("span",{style:Ke,"aria-live":"assertive"},tt(S)),g.createElement("div",null,g.createElement("input",{style:Ke,disabled:m===!1||l,tabIndex:m!==!1?L:null,onKeyDown:P,onFocus:w,onBlur:b,value:"",onChange:_,"aria-label":"for screen reader"})),g.createElement("div",{className:"".concat(x,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},g.createElement("div",{className:"".concat(x,"-indent")},g.createElement("div",{ref:W,className:"".concat(x,"-indent-unit")}))),g.createElement(H.Z,(0,F.Z)({},G,{data:ct,itemKey:Je,height:K,fullHeight:!1,virtual:u,itemHeight:h,prefixCls:"".concat(x,"-list"),ref:te,onVisibleChange:function(X,oe){var ue=new Set(X),re=oe.filter(function(de){return!ue.has(de)});re.some(function(de){return Je(de)===ee})&&Ve()}}),function(O){var X=O.pos,oe=(0,F.Z)({},(pe(O.data),O.data)),ue=O.title,re=O.key,de=O.isStart,Te=O.isEnd,me=(0,D.km)(re,X);delete oe.key,delete oe.children;var Ne=(0,D.H8)(me,et);return g.createElement(Me,(0,F.Z)({},oe,Ne,{title:ue,active:!!S&&re===S.key,pos:X,data:O.data,isStart:de,isEnd:Te,motion:o,motionNodes:re===ee?it:null,motionType:lt,onMotionStart:$,onMotionEnd:Ve,treeNodeRequiredProps:et,onMouseMove:function(){M(null)}}))}))});Qe.displayName="NodeList";var nt=Qe,we=f(17341);function at(i){var N=i.dropPosition,x=i.dropLevelOffset,e=i.indent,d={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(N){case-1:d.top=0,d.left=-x*e;break;case 1:d.bottom=0,d.left=-x*e;break;case 0:d.bottom=0,d.left=e;break}return g.createElement("div",{style:d})}var ot=10,Ae=function(i){(0,ye.Z)(x,i);var N=(0,ge.Z)(x);function x(){var e;(0,j.Z)(this,x);for(var d=arguments.length,C=new Array(d),E=0;E<d;E++)C[E]=arguments[E];return e=N.call.apply(N,[this].concat(C)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,D.w$)()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=g.createRef(),e.onNodeDragStart=function(t,a){var n=e.state,r=n.expandedKeys,s=n.keyEntities,c=e.props.onDragStart,l=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var v=(0,k._5)(r,l);e.setState({draggingNodeKey:l,dragChildrenKeys:(0,k.wA)(l,s),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(v),window.addEventListener("dragend",e.onWindowDragEnd),c==null||c({event:t,node:(0,D.F)(a.props)})},e.onNodeDragEnter=function(t,a){var n=e.state,r=n.expandedKeys,s=n.keyEntities,c=n.dragChildrenKeys,l=n.flattenNodes,v=n.indent,y=e.props,p=y.onDragEnter,o=y.onExpand,K=y.allowDrop,h=y.direction,u=a.props,m=u.pos,S=u.eventKey,T=(0,fe.Z)(e),L=T.dragNode;if(e.currentMouseOverDroppableNodeKey!==S&&(e.currentMouseOverDroppableNodeKey=S),!L){e.resetDragState();return}var P=(0,k.OM)(t,L,a,v,e.dragStartMousePosition,K,l,s,r,h),w=P.dropPosition,b=P.dropLevelOffset,M=P.dropTargetKey,$=P.dropContainerKey,z=P.dropTargetPos,G=P.dropAllowed,te=P.dragOverNodeKey;if(c.indexOf(M)!==-1||!G){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(W){clearTimeout(e.delayedDragEnterLogic[W])}),L.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[m]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var W=(0,ie.Z)(r),le=s[a.props.eventKey];le&&(le.children||[]).length&&(W=(0,k.L0)(r,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(W),o==null||o(W,{node:(0,D.F)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),L.props.eventKey===M&&b===0){e.resetDragState();return}e.setState({dragOverNodeKey:te,dropPosition:w,dropLevelOffset:b,dropTargetKey:M,dropContainerKey:$,dropTargetPos:z,dropAllowed:G}),p==null||p({event:t,node:(0,D.F)(a.props),expandedKeys:r})},e.onNodeDragOver=function(t,a){var n=e.state,r=n.dragChildrenKeys,s=n.flattenNodes,c=n.keyEntities,l=n.expandedKeys,v=n.indent,y=e.props,p=y.onDragOver,o=y.allowDrop,K=y.direction,h=(0,fe.Z)(e),u=h.dragNode;if(!!u){var m=(0,k.OM)(t,u,a,v,e.dragStartMousePosition,o,s,c,l,K),S=m.dropPosition,T=m.dropLevelOffset,L=m.dropTargetKey,P=m.dropContainerKey,w=m.dropAllowed,b=m.dropTargetPos,M=m.dragOverNodeKey;r.indexOf(L)!==-1||!w||(u.props.eventKey===L&&T===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():S===e.state.dropPosition&&T===e.state.dropLevelOffset&&L===e.state.dropTargetKey&&P===e.state.dropContainerKey&&b===e.state.dropTargetPos&&w===e.state.dropAllowed&&M===e.state.dragOverNodeKey||e.setState({dropPosition:S,dropLevelOffset:T,dropTargetKey:L,dropContainerKey:P,dropTargetPos:b,dropAllowed:w,dragOverNodeKey:M}),p==null||p({event:t,node:(0,D.F)(a.props)}))}},e.onNodeDragLeave=function(t,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var n=e.props.onDragLeave;n==null||n({event:t,node:(0,D.F)(a.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,a){var n=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),n==null||n({event:t,node:(0,D.F)(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,a){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=e.state,c=s.dragChildrenKeys,l=s.dropPosition,v=s.dropTargetKey,y=s.dropTargetPos,p=s.dropAllowed;if(!!p){var o=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),v!==null){var K=(0,I.Z)((0,I.Z)({},(0,D.H8)(v,e.getTreeNodeRequiredProps())),{},{active:((n=e.getActiveItem())===null||n===void 0?void 0:n.key)===v,data:e.state.keyEntities[v].node}),h=c.indexOf(v)!==-1;(0,J.ZP)(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var u=(0,k.yx)(y),m={event:t,node:(0,D.F)(K),dragNode:e.dragNode?(0,D.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(c),dropToGap:l!==0,dropPosition:l+Number(u[u.length-1])};r||o==null||o(m),e.dragNode=null}}},e.cleanDragState=function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,a){var n=e.state,r=n.expandedKeys,s=n.flattenNodes,c=a.expanded,l=a.key,v=a.isLeaf;if(!(v||t.shiftKey||t.metaKey||t.ctrlKey)){var y=s.filter(function(o){return o.key===l})[0],p=(0,D.F)((0,I.Z)((0,I.Z)({},(0,D.H8)(l,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(c?(0,k._5)(r,l):(0,k.L0)(r,l)),e.onNodeExpand(t,p)}},e.onNodeClick=function(t,a){var n=e.props,r=n.onClick,s=n.expandAction;s==="click"&&e.triggerExpandActionExpand(t,a),r==null||r(t,a)},e.onNodeDoubleClick=function(t,a){var n=e.props,r=n.onDoubleClick,s=n.expandAction;s==="doubleClick"&&e.triggerExpandActionExpand(t,a),r==null||r(t,a)},e.onNodeSelect=function(t,a){var n=e.state.selectedKeys,r=e.state,s=r.keyEntities,c=r.fieldNames,l=e.props,v=l.onSelect,y=l.multiple,p=a.selected,o=a[c.key],K=!p;K?y?n=(0,k.L0)(n,o):n=[o]:n=(0,k._5)(n,o);var h=n.map(function(u){var m=s[u];return m?m.node:null}).filter(function(u){return u});e.setUncontrolledState({selectedKeys:n}),v==null||v(n,{event:"select",selected:K,node:a,selectedNodes:h,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,a,n){var r=e.state,s=r.keyEntities,c=r.checkedKeys,l=r.halfCheckedKeys,v=e.props,y=v.checkStrictly,p=v.onCheck,o=a.key,K,h={event:"check",node:a,checked:n,nativeEvent:t.nativeEvent};if(y){var u=n?(0,k.L0)(c,o):(0,k._5)(c,o),m=(0,k._5)(l,o);K={checked:u,halfChecked:m},h.checkedNodes=u.map(function(b){return s[b]}).filter(function(b){return b}).map(function(b){return b.node}),e.setUncontrolledState({checkedKeys:u})}else{var S=(0,we.S)([].concat((0,ie.Z)(c),[o]),!0,s),T=S.checkedKeys,L=S.halfCheckedKeys;if(!n){var P=new Set(T);P.delete(o);var w=(0,we.S)(Array.from(P),{checked:!1,halfCheckedKeys:L},s);T=w.checkedKeys,L=w.halfCheckedKeys}K=T,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=L,T.forEach(function(b){var M=s[b];if(!!M){var $=M.node,z=M.pos;h.checkedNodes.push($),h.checkedNodesPositions.push({node:$,pos:z})}}),e.setUncontrolledState({checkedKeys:T},!1,{halfCheckedKeys:L})}p==null||p(K,h)},e.onNodeLoad=function(t){var a=t.key,n=new Promise(function(r,s){e.setState(function(c){var l=c.loadedKeys,v=l===void 0?[]:l,y=c.loadingKeys,p=y===void 0?[]:y,o=e.props,K=o.loadData,h=o.onLoad;if(!K||v.indexOf(a)!==-1||p.indexOf(a)!==-1)return null;var u=K(t);return u.then(function(){var m=e.state.loadedKeys,S=(0,k.L0)(m,a);h==null||h(S,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:S}),e.setState(function(T){return{loadingKeys:(0,k._5)(T.loadingKeys,a)}}),r()}).catch(function(m){if(e.setState(function(T){return{loadingKeys:(0,k._5)(T.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=ot){var S=e.state.loadedKeys;(0,J.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,k.L0)(S,a)}),r()}s(m)}),{loadingKeys:(0,k.L0)(p,a)}})});return n.catch(function(){}),n},e.onNodeMouseEnter=function(t,a){var n=e.props.onMouseEnter;n==null||n({event:t,node:a})},e.onNodeMouseLeave=function(t,a){var n=e.props.onMouseLeave;n==null||n({event:t,node:a})},e.onNodeContextMenu=function(t,a){var n=e.props.onRightClick;n&&(t.preventDefault(),n({event:t,node:a}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];t==null||t.apply(void 0,n)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];t==null||t.apply(void 0,n)},e.getTreeNodeRequiredProps=function(){var t=e.state,a=t.expandedKeys,n=t.selectedKeys,r=t.loadedKeys,s=t.loadingKeys,c=t.checkedKeys,l=t.halfCheckedKeys,v=t.dragOverNodeKey,y=t.dropPosition,p=t.keyEntities;return{expandedKeys:a||[],selectedKeys:n||[],loadedKeys:r||[],loadingKeys:s||[],checkedKeys:c||[],halfCheckedKeys:l||[],dragOverNodeKey:v,dropPosition:y,keyEntities:p}},e.setExpandedKeys=function(t){var a=e.state,n=a.treeData,r=a.fieldNames,s=(0,D.oH)(n,t,r);e.setUncontrolledState({expandedKeys:t,flattenNodes:s},!0)},e.onNodeExpand=function(t,a){var n=e.state.expandedKeys,r=e.state,s=r.listChanging,c=r.fieldNames,l=e.props,v=l.onExpand,y=l.loadData,p=a.expanded,o=a[c.key];if(!s){var K=n.indexOf(o),h=!p;if((0,J.ZP)(p&&K!==-1||!p&&K===-1,"Expand state not sync with index check"),h?n=(0,k.L0)(n,o):n=(0,k._5)(n,o),e.setExpandedKeys(n),v==null||v(n,{node:a,expanded:h,nativeEvent:t.nativeEvent}),h&&y){var u=e.onNodeLoad(a);u&&u.then(function(){var m=(0,D.oH)(e.state.treeData,n,c);e.setUncontrolledState({flattenNodes:m})}).catch(function(){var m=e.state.expandedKeys,S=(0,k._5)(m,o);e.setExpandedKeys(S)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(t){var a=e.state.activeKey,n=e.props.onActiveChange;a!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t}),n==null||n(t))},e.getActiveItem=function(){var t=e.state,a=t.activeKey,n=t.flattenNodes;return a===null?null:n.find(function(r){var s=r.key;return s===a})||null},e.offsetActiveKey=function(t){var a=e.state,n=a.flattenNodes,r=a.activeKey,s=n.findIndex(function(v){var y=v.key;return y===r});s===-1&&t<0&&(s=n.length),s=(s+t+n.length)%n.length;var c=n[s];if(c){var l=c.key;e.onActiveChange(l)}else e.onActiveChange(null)},e.onKeyDown=function(t){var a=e.state,n=a.activeKey,r=a.expandedKeys,s=a.checkedKeys,c=a.fieldNames,l=e.props,v=l.onKeyDown,y=l.checkable,p=l.selectable;switch(t.which){case Y.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case Y.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var o=e.getActiveItem();if(o&&o.data){var K=e.getTreeNodeRequiredProps(),h=o.data.isLeaf===!1||!!(o.data[c.children]||[]).length,u=(0,D.F)((0,I.Z)((0,I.Z)({},(0,D.H8)(n,K)),{},{data:o.data,active:!0}));switch(t.which){case Y.Z.LEFT:{h&&r.includes(n)?e.onNodeExpand({},u):o.parent&&e.onActiveChange(o.parent.key),t.preventDefault();break}case Y.Z.RIGHT:{h&&!r.includes(n)?e.onNodeExpand({},u):o.children&&o.children.length&&e.onActiveChange(o.children[0].key),t.preventDefault();break}case Y.Z.ENTER:case Y.Z.SPACE:{y&&!u.disabled&&u.checkable!==!1&&!u.disableCheckbox?e.onNodeCheck({},u,!s.includes(n)):!y&&p&&!u.disabled&&u.selectable!==!1&&e.onNodeSelect({},u);break}}}v==null||v(t)},e.setUncontrolledState=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var r=!1,s=!0,c={};Object.keys(t).forEach(function(l){if(l in e.props){s=!1;return}r=!0,c[l]=t[l]}),r&&(!a||s)&&e.setState((0,I.Z)((0,I.Z)({},c),n))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,se.Z)(x,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var d=this.props.activeKey;d!==void 0&&d!==this.state.activeKey&&(this.setState({activeKey:d}),d!==null&&this.scrollTo({key:d}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var d,C=this.state,E=C.focused,t=C.flattenNodes,a=C.keyEntities,n=C.draggingNodeKey,r=C.activeKey,s=C.dropLevelOffset,c=C.dropContainerKey,l=C.dropTargetKey,v=C.dropPosition,y=C.dragOverNodeKey,p=C.indent,o=this.props,K=o.prefixCls,h=o.className,u=o.style,m=o.showLine,S=o.focusable,T=o.tabIndex,L=T===void 0?0:T,P=o.selectable,w=o.showIcon,b=o.icon,M=o.switcherIcon,$=o.draggable,z=o.checkable,G=o.checkStrictly,te=o.disabled,W=o.motion,le=o.loadData,Ce=o.filterTreeNode,Ie=o.height,$e=o.itemHeight,Fe=o.virtual,Se=o.titleRender,ne=o.dropIndicatorRender,De=o.onContextMenu,He=o.onScroll,Pe=o.direction,Ue=o.rootClassName,ce=o.rootStyle,Be=(0,Oe.Z)(this.props,{aria:!0,data:!0}),ae;return $&&((0,Z.Z)($)==="object"?ae=$:typeof $=="function"?ae={nodeDraggable:$}:ae={}),g.createElement(he.k.Provider,{value:{prefixCls:K,selectable:P,showIcon:w,icon:b,switcherIcon:M,draggable:ae,draggingNodeKey:n,checkable:z,checkStrictly:G,disabled:te,keyEntities:a,dropLevelOffset:s,dropContainerKey:c,dropTargetKey:l,dropPosition:v,dragOverNodeKey:y,indent:p,direction:Pe,dropIndicatorRender:ne,loadData:le,filterTreeNode:Ce,titleRender:Se,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},g.createElement("div",{role:"tree",className:Ee()(K,h,Ue,(d={},(0,A.Z)(d,"".concat(K,"-show-line"),m),(0,A.Z)(d,"".concat(K,"-focused"),E),(0,A.Z)(d,"".concat(K,"-active-focused"),r!==null),d)),style:ce},g.createElement(nt,(0,F.Z)({ref:this.listRef,prefixCls:K,style:u,data:t,disabled:te,selectable:P,checkable:!!z,motion:W,dragging:n!==null,height:Ie,itemHeight:$e,virtual:Fe,focusable:S,focused:E,tabIndex:L,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:De,onScroll:He},this.getTreeNodeRequiredProps(),Be))))}}],[{key:"getDerivedStateFromProps",value:function(d,C){var E=C.prevProps,t={prevProps:d};function a(S){return!E&&S in d||E&&E[S]!==d[S]}var n,r=C.fieldNames;if(a("fieldNames")&&(r=(0,D.w$)(d.fieldNames),t.fieldNames=r),a("treeData")?n=d.treeData:a("children")&&((0,J.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=(0,D.zn)(d.children)),n){t.treeData=n;var s=(0,D.I8)(n,{fieldNames:r});t.keyEntities=(0,I.Z)((0,A.Z)({},ee,Ye),s.keyEntities)}var c=t.keyEntities||C.keyEntities;if(a("expandedKeys")||E&&a("autoExpandParent"))t.expandedKeys=d.autoExpandParent||!E&&d.defaultExpandParent?(0,k.r7)(d.expandedKeys,c):d.expandedKeys;else if(!E&&d.defaultExpandAll){var l=(0,I.Z)({},c);delete l[ee],t.expandedKeys=Object.keys(l).map(function(S){return l[S].key})}else!E&&d.defaultExpandedKeys&&(t.expandedKeys=d.autoExpandParent||d.defaultExpandParent?(0,k.r7)(d.defaultExpandedKeys,c):d.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,n||t.expandedKeys){var v=(0,D.oH)(n||C.treeData,t.expandedKeys||C.expandedKeys,r);t.flattenNodes=v}if(d.selectable&&(a("selectedKeys")?t.selectedKeys=(0,k.BT)(d.selectedKeys,d):!E&&d.defaultSelectedKeys&&(t.selectedKeys=(0,k.BT)(d.defaultSelectedKeys,d))),d.checkable){var y;if(a("checkedKeys")?y=(0,k.E6)(d.checkedKeys)||{}:!E&&d.defaultCheckedKeys?y=(0,k.E6)(d.defaultCheckedKeys)||{}:n&&(y=(0,k.E6)(d.checkedKeys)||{checkedKeys:C.checkedKeys,halfCheckedKeys:C.halfCheckedKeys}),y){var p=y,o=p.checkedKeys,K=o===void 0?[]:o,h=p.halfCheckedKeys,u=h===void 0?[]:h;if(!d.checkStrictly){var m=(0,we.S)(K,!0,c);K=m.checkedKeys,u=m.halfCheckedKeys}t.checkedKeys=K,t.halfCheckedKeys=u}}return a("loadedKeys")&&(t.loadedKeys=d.loadedKeys),t}}]),x}(g.Component);Ae.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:at,allowDrop:function(){return!0},expandAction:!1},Ae.TreeNode=R.Z;var rt=Ae,dt=rt}}]);
