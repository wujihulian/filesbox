(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[14231],{66615:function(k){k.exports={root:"root___ub1Qj",colorWeak:"colorWeak___3ghT2","ant-layout":"ant-layout___2ppjB",globalSpin:"globalSpin___U9pij","ant-table":"ant-table___1eKs1","ant-table-thead":"ant-table-thead___2wyQl","ant-table-tbody":"ant-table-tbody___1sYv6",formBox:"formBox___2a4mN",hrefModal:"hrefModal___3Jgpk",shop:"shop___1aagd",headBox:"headBox___8dqG4"}},9390:function(k,K,s){"use strict";s.r(K),s.d(K,{default:function(){return ae}});var ye=s(71194),$=s(50146),ve=s(30887),j=s(28682),ge=s(57663),b=s(71577),ue=s(13062),u=s(71230),Me=s(89032),i=s(15746),Ce=s(34792),N=s(48086),I=s(11849),xe=s(63185),C=s(9676),Ee=s(88983),P=s(47933),_=s(67294),z=s(28216),G=s(3231),T=s(30672),F=s(66615),Q=s.n(F),e=s(85893),B,L,J=_.lazy(()=>s.e(81721).then(s.bind(s,81721))),Y=_.lazy(()=>s.e(48827).then(s.bind(s,48827))),X=_.lazy(()=>Promise.all([s.e(90939),s.e(81628),s.e(87849),s.e(36806),s.e(18669)]).then(s.bind(s,5750))),w=_.lazy(()=>Promise.all([s.e(81628),s.e(87849),s.e(85433)]).then(s.bind(s,85433))),q=P.ZP.Group,ee=C.Z.Group,ae=(B=(0,z.$j)(D=>{var n=D.commondesign,c=D.page,l=D.share;return{commondesign:n,page:c,share:l}}),B(L=class extends _.Component{constructor(){var n;super(...arguments);n=this,this.state={activeKey:"information",type:"all",auditionType:!1,audition:"1",videoModal:"0",visitorType:!1,visitor:"0",courseShare:!1,isShare:"0",value:"",openMode:"_blank",breadData:[],valueItem:"",classifyList:[],classifySelect:[],classifyExpandedKeys:[],infoSelect:[],informationClassify:[],infoExpandedKeys:[],infoValue:"1",pageSelect:[],pageExpandedKeys:[],player:!1,currentPage:1,pageSize:30,questionList:[],questionTotal:0,questionValue:[],shopSelect:[],shopClassify:[],shopExpandedKeys:[],vipValue:"",vipList:[],forumList:[],forumValue:"",fileList:[],fileBreadArr:[{directoryName:"\u5168\u90E8",directoryId:"0"}],loginArr:[],loginType:!1,openTarget:!0,selectedCouponRowKeys:[],collectionCouponModal:!1,goBuyCar:"1",shopClassifyId:"",typeId:""},this.show=function(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=arguments.length>3?arguments[3]:void 0,r=n;if(n.typex=t,n.showType=l,n.param="",n.setState({type:l,player:!!(l.source&&l.source=="player")}),h){var g=n.props,E=g.page,p=g.dispatch,o=n.state,x=o.classifyList,M=o.informationClassify,a=JSON.parse(h),d="",y=a.hrefType;switch(a.hrefType){case"mainClassify":y="course",d=a.data.mainClassify+"";break;case"childClassify":y="course",d=a.data.mainClassify+"|"+a.data.childClassify;break;case"course":y="course",d=a.data.mainClassify+"|"+a.data.childClassify+"|"+a.data.courseId;break;case"courseware":y="course",d=a.data.mainClassify+"|"+a.data.childClassify+"|"+a.data.courseId+"|"+a.data.courseWareId;break;case"question":d=a.data.commonQuestionnaireId;break;case"infoClassify":y="information",d=a.data.infoTypeID+"";break;case"information":d=a.data.infoID+"";var A=a.data.infoTypeID;n.setState({typeId:a.data.infoTypeID});break;case"shopClassify":y="shop",d=a.data.shopClassifyId+"";break;case"shop":d=a.data.shopId+"";break;case"member":d=a.data.vipId;break;case"forum":d=a.data.courseId;break;case"link":d=a.data.url;break;case"dialog":d=a.data.url;break;case"school":y="page";break;case"page":d=a.data.designId+"";break;case"compage":y="page",d=a.data.designId;break;case"formData":y="formData",d=a.data.formId;break;case"file":break}n.setState({activeKey:y,valueItem:a,value:d,openMode:a.openMode,auditionType:!!a.data.audition,audition:a.data.audition?a.data.audition:"1",videoModal:a.data.videoModal?a.data.videoModal:"0",visitorType:!!a.data.visitor,visitor:a.data.visitor?a.data.visitor:"0",courseShare:!!a.data.isShare,isShare:a.data.isShare?a.data.isShare:"0",selectedCouponRowKeys:a.data.couponKeys?a.data.couponKeys:[],goBuyCar:a.goBuyCar?a.goBuyCar:"1"})}else r.restSetState()},this.restSetState=()=>{var c=this,l=this.showType;this.setState({activeKey:l.resource?"resource":"information",openMode:"_blank",classifySelect:[],classifyExpandedKeys:c.arrdata,infoSelect:[],infoExpandedKeys:[],pageSelect:[],pageExpandedKeys:["module"],visitorType:!1,auditionType:!1,videoModal:"0",infoValue:"1",selectedCouponRowKeys:[],goBuyCar:"1"})},this.restSelectSetState=()=>{this.setState({shopSelect:[],pageSelect:[],infoSelect:[],questionValue:[],classifySelect:[]})}}componentDidMount(){var n=this,c=n.props,l=c.page,t=c.dispatch,h=c.commondesign,r=h.Href,g=r.callback,E=r.type,p=r.typex,o=p===void 0?!1:p,x=r.dataHref;this.show(g,E,o,x)}renderFooter(){var n=this.props,c=n.dispatch,l=n.commondesign,t=this.state,h=t.activeKey,r=t.openMode,g=t.goBuyCar,E=t.value,p=t.breadData,o=t.valueItem,x=t.player,M=t.audition,a=t.auditionType,d=t.visitor,y=t.visitorType,A=t.isShare,se=t.courseShare,te=t.infoValue,R=t.openTarget,_e=t.loginArr,oe=t.loginType,Z=t.videoModal,v=(0,T.lw)((0,T.Kd)()),S=l.Href,je=S.visible,Se=S.type,U=S.callback,ne=U===void 0?()=>{}:U,W=S.closeHandle,O=W===void 0?!1:W,H=S.vipType,V=m=>{this.setState({openMode:m.target.checked?"_blank":"_self"})},ie=m=>{var f=m.target.checked?"1":"2";o.data.audition=f,o.hrefType="courseware",this.setState({audition:f})},le=m=>{var f=m.target.checked?"1":"0";o.data.videoModal=f,o.hrefType="courseware",this.setState({videoModal:f})},re=m=>{var f=m.target.checked?"1":"0";o.data.visitor=f,o.hrefType="courseware",this.setState({visitor:f})},de=m=>{var f=m.target.checked?"1":"0";o.data.isShare=f,o.hrefType="course",this.setState({isShare:f})},ce=m=>{var f=m.target.checked?"1":"0";o.data.infoValue=f,this.setState({infoValue:f})},he=m=>{this.setState({valueItem:"",value:""},()=>{c({type:"commondesign/setState",payload:{Href:{visible:!1}}})})},fe=m=>{o&&(o==null?void 0:o.hrefType)!="infoClassify"?(console.log(Z,(0,I.Z)((0,I.Z)({},o),{},{openMode:r})),o.data.videoModal=Z,ne((0,I.Z)((0,I.Z)({},o),{},{openMode:r})),this.setState({valueItem:"",value:""},()=>{c({type:"commondesign/setState",payload:{Href:{visible:!1}}})})):N.ZP.info(v.formatMessage({id:"mack.dsh.m"}))},pe=m=>{var f=m.target.value;o&&(o.goBuyCar=f,o.hrefType="member"),this.setState({goBuyCar:f})},me=H=="1"?"1":g;return(0,e.jsxs)("div",{className:"footer",children:[h=="member"?(0,e.jsx)(u.Z,{className:"openStyle",children:(0,e.jsx)(i.Z,{span:20,children:(0,e.jsxs)(u.Z,{children:[(0,e.jsx)(i.Z,{span:8,children:R&&(0,e.jsx)(C.Z,{onChange:V,checked:r=="_blank",children:v.formatMessage({id:"mack.dsh.a"})})}),(0,e.jsx)(i.Z,{span:16,children:(0,e.jsxs)(q,{onChange:pe,value:me,children:[(0,e.jsx)(P.ZP,{value:"1",children:v.formatMessage({id:"mack.dsh.b"})}),H=="0"?(0,e.jsx)(P.ZP,{value:"2",disabled:O,children:v.formatMessage({id:"mack.dsh.c"})}):""]})})]})})}):"",h=="member"||h=="school"||h=="question"||h=="resource"||x?"":(0,e.jsxs)(u.Z,{className:"openStyle",children:[(0,e.jsx)(i.Z,{span:8,children:(0,e.jsxs)(u.Z,{children:[(0,e.jsx)(i.Z,{span:1}),(0,e.jsxs)(i.Z,{span:18,children:[oe?(0,e.jsx)(ee,{children:" "}):"",R&&(0,e.jsx)(C.Z,{onChange:V,checked:r=="_blank",children:v.formatMessage({id:"mack.dsh.a"})}),""]})]})}),a?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.Z,{span:8,children:(0,e.jsxs)(u.Z,{children:[(0,e.jsx)(i.Z,{span:1}),(0,e.jsxs)(i.Z,{span:18,children:[(0,e.jsx)(C.Z,{onChange:ie,checked:M=="1",children:v.formatMessage({id:"mack.dsh.f"})}),""]})]})}),M=="1"&&(0,e.jsx)(i.Z,{span:8,children:(0,e.jsxs)(u.Z,{children:[(0,e.jsx)(i.Z,{span:1}),(0,e.jsx)(i.Z,{span:18,children:(0,e.jsx)(C.Z,{onChange:le,checked:Z=="1",disabled:O,children:v.formatMessage({id:"mack.dsh.h"})})})]})})]}):"",y?(0,e.jsx)(i.Z,{span:8,children:(0,e.jsxs)(u.Z,{children:[(0,e.jsx)(i.Z,{span:1}),(0,e.jsxs)(i.Z,{span:18,children:[(0,e.jsx)(C.Z,{onChange:re,checked:d=="1",children:v.formatMessage({id:"mack.dsh.i"})}),""]})]})}):"",se?(0,e.jsx)(i.Z,{span:8,children:(0,e.jsxs)(u.Z,{children:[(0,e.jsx)(i.Z,{span:1}),(0,e.jsx)(i.Z,{span:18,children:(0,e.jsx)(C.Z,{onChange:de,checked:A=="1",disabled:O,children:v.formatMessage({id:"mack.dsh.j"})})})]})}):"",o.hrefType=="infoClassify"&&h=="information"?(0,e.jsx)(i.Z,{span:8,children:(0,e.jsxs)(u.Z,{children:[(0,e.jsx)(i.Z,{span:1}),(0,e.jsx)(i.Z,{span:18,children:(0,e.jsx)(C.Z,{onChange:ce,checked:te=="1",children:v.formatMessage({id:"mack.dsh.k"})})})]})}):""]}),(0,e.jsx)(b.Z,{onClick:fe,type:"primary",children:v.formatMessage({id:"common.ok"})}),(0,e.jsx)(b.Z,{onClick:he,children:v.formatMessage({id:"common.cancel"})})]})}renderRightCon(){var n=this.state,c=n.activeKey,l=n.value,t=M=>{this.restSelectSetState(),this.setState(M)};switch(c){case"link":return(0,e.jsx)(J,{value:l,onChange:t});case"dialog":return(0,e.jsx)(Y,{value:l,onChange:t});case"page":var h=this.state,r=h.valueItem,g=h.type,E=h.pageExpandedKeys;return(0,e.jsx)(X,{type:g,value:l,onChange:t,valueItem:r,pageExpandedKeys:E});case"information":var p=this.state,o=p.infoValue,x=p.typeId;return(0,e.jsx)(w,{value:l,onChange:t,infoValue:o,typeId:x})}}render(){var n=this,c=this.state.activeKey,l=this.props,t=l.dispatch,h=l.commondesign,r=(0,T.lw)((0,T.Kd)()),g=h.Href,E=g.visible,p=g.type,o=M=>{switch(M.key){case"information":t({type:"page/listHomepageInfo",payload:{currentPage:1,pageSize:100},callback:a=>{a.success&&this.setState({informationList:Array.isArray(a.data.list)?a.data.list:[]})}});break}this.setState({activeKey:M.key,vipValue:"",questionValue:[],forumValue:"",formValue:"",visitorType:"",auditionType:"",openTarget:!0,courseShare:!1})},x=M=>{this.setState({valueItem:"",value:""},()=>{t({type:"commondesign/setState",payload:{Href:{visible:!1}}})})};return console.log(c),(0,e.jsxs)($.Z,{title:r.formatMessage({id:"explorer.app.typeUrl"}),visible:E,width:1e3,onCancel:x,maskClosable:!1,className:Q().hrefModal,zIndex:1001,footer:null,children:[(0,e.jsx)("div",{className:"left",children:(0,e.jsxs)(j.Z,{onClick:o,style:{width:170},selectedKeys:[c],mode:"inline",children:[p=="all"||p.information?(0,e.jsx)(j.Z.Item,{children:r.formatMessage({id:"mack.dsc.x"})},"information"):"",p=="all"||p.page?(0,e.jsx)(j.Z.Item,{children:r.formatMessage({id:"mack.dsb.a"})},"page"):"",p=="all"||p.link?(0,e.jsx)(j.Z.Item,{children:r.formatMessage({id:"explorer.app.typeUrl"})},"link"):"",p=="all"||p.dialog?(0,e.jsx)(j.Z.Item,{children:r.formatMessage({id:"mack.dsh.l"})},"dialog"):""]})}),(0,e.jsx)("div",{className:"right",children:(0,e.jsx)(_.Suspense,{fallback:(0,G.Z)(),children:n.renderRightCon(c)})}),this.renderFooter()]})}})||L)}}]);
